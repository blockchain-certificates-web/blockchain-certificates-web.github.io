!function(){"use strict";function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),Object.freeze(e)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
n=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),o=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return E()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=w(o,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function h(){}function A(){}function d(){}var p={};u(p,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(B([])));g&&g!==t&&r.call(g,a)&&(p=g);var y=d.prototype=h.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function B(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return A.prototype=d,u(y,"constructor",d),u(d,"constructor",A),A.displayName=u(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new b(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(y),u(y,s,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=B,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:B(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,u,"next",e)}function u(e){a(o,n,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t,r){return p=d()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&A(i,r.prototype),i},p.apply(null,arguments)}function v(e){var t="function"==typeof Map?new Map:void 0;return v=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return p(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),A(r,e)},v(e)}function g(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function y(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function w(e){var t=d();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return b(this,r)}}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=x(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},k.apply(this,arguments)}function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function B(e,t){return C(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}(e,t)||P(e,t)||O()}function E(e){return C(e)||I(e)||P(e)||O()}function S(e){return function(e){if(Array.isArray(e))return T(e)}(e)||I(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){if(Array.isArray(e))return e}function I(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function P(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}var N="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==N&&N,M="URLSearchParams"in N,U="Symbol"in N&&"iterator"in Symbol,F="FileReader"in N&&"Blob"in N&&function(){try{return new Blob,!0}catch(e){return!1}}(),R="FormData"in N,D="ArrayBuffer"in N;if(D)var j=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Q=ArrayBuffer.isView||function(e){return e&&j.indexOf(Object.prototype.toString.call(e))>-1};function H(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function K(e){return"string"!=typeof e&&(e=String(e)),e}function V(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return U&&(t[Symbol.iterator]=function(){return t}),t}function z(e){this.map={},e instanceof z?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function q(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function G(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function W(e){var t=new FileReader,r=G(t);return t.readAsArrayBuffer(e),r}function J(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function X(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:F&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:R&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:M&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():D&&F&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=J(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):D&&(ArrayBuffer.prototype.isPrototypeOf(e)||Q(e))?this._bodyArrayBuffer=J(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):M&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},F&&(this.blob=function(){var e=q(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=q(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(W)}),this.text=function(){var e=q(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=G(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},R&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}z.prototype.append=function(e,t){e=H(e),t=K(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},z.prototype.delete=function(e){delete this.map[H(e)]},z.prototype.get=function(e){return e=H(e),this.has(e)?this.map[e]:null},z.prototype.has=function(e){return this.map.hasOwnProperty(H(e))},z.prototype.set=function(e,t){this.map[H(e)]=K(t)},z.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},z.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),V(e)},z.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),V(e)},z.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),V(e)},U&&(z.prototype[Symbol.iterator]=z.prototype.entries);var Y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function $(e,t){if(!(this instanceof $))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof $){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new z(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new z(t.headers)),this.method=function(e){var t=e.toUpperCase();return Y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Z(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function ee(e,t){if(!(this instanceof ee))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new z(t.headers),this.url=t.url||"",this._initBody(e)}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})},X.call($.prototype),X.call(ee.prototype),ee.prototype.clone=function(){return new ee(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new z(this.headers),url:this.url})},ee.error=function(){var e=new ee(null,{status:0,statusText:""});return e.type="error",e};var te=[301,302,303,307,308];ee.redirect=function(e,t){if(-1===te.indexOf(t))throw new RangeError("Invalid status code");return new ee(null,{status:t,headers:{location:e}})};var re=N.DOMException;try{new re}catch(e){(re=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),re.prototype.constructor=re}function ne(e,t){return new Promise((function(r,n){var a=new $(e,t);if(a.signal&&a.signal.aborted)return n(new re("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new z,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;setTimeout((function(){r(new ee(i,n))}),0)},o.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){n(new re("Aborted","AbortError"))}),0)},o.open(a.method,function(e){try{return""===e&&N.location.href?N.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&(F?o.responseType="blob":D&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!==i(t.headers)||t.headers instanceof z?a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,K(t.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",s)}),o.send(void 0===a._bodyInit?null:a._bodyInit)}))}ne.polyfill=!0,N.fetch||(N.fetch=ne,N.Headers=z,N.Request=$,N.Response=ee),Uint8Array.prototype.fill||(Uint8Array.prototype.fill=function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,a=i<0?Math.max(r+i,0):Math.min(i,r),o=arguments[2],s=void 0===o?r:o>>0,u=s<0?Math.max(r+s,0):Math.min(s,r);a<u;)t[a]=e,a++;return t})
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */,window.JSCompiler_renameProperty=function(e,t){return e};
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
var ie=0,ae=function(e){var t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);var r=ie++;function n(n){var i=n.__mixinSet;if(i&&i[r])return n;var a=t,o=a.get(n);if(!o){o=e(n),a.set(n,o);var s=Object.create(o.__mixinSet||i||null);s[r]=!0,o.__mixinSet=s}return o}return n};
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
var oe=0,se=0,ue=[],ce=0,le=!1,fe=document.createTextNode("");new window.MutationObserver((function(){le=!1;for(var e=ue.length,t=0;t<e;t++){var r=ue[t];if(r)try{r()}catch(e){setTimeout((function(){throw e}))}}ue.splice(0,e),se+=e})).observe(fe,{characterData:!0});var he={run:function(e){return le||(le=!0,fe.textContent=ce++),ue.push(e),oe++},cancel:function(e){var t=e-se;if(t>=0){if(!ue[t])throw new Error("invalid async handle: "+e);ue[t]=null}}},Ae=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?function(e){return ShadyDOM.patch(e)}:function(e){return e},de=he,pe=ae((function(e){var t=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.call(this)).__dataEnabled=!1,e.__dataReady=!1,e.__dataInvalid=!1,e.__data={},e.__dataPending=null,e.__dataOld=null,e.__dataInstanceProps=null,e.__dataCounter=0,e.__serializing=!1,e._initializeProperties(),e}return c(r,[{key:"_createPropertyAccessor",value:function(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}},{key:"_addPropertyToAttributeMap",value:function(e){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));var t=this.__dataAttributes[e];return t||(t=this.constructor.attributeNameForProperty(e),this.__dataAttributes[t]=e),t}},{key:"_definePropertyAccessor",value:function(e,t){Object.defineProperty(this,e,{get:function(){return this.__data[e]},set:t?function(){}:function(t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}})}},{key:"ready",value:function(){this.__dataReady=!0,this._flushProperties()}},{key:"_initializeProperties",value:function(){for(var e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}},{key:"_initializeInstanceProperties",value:function(e){Object.assign(this,e)}},{key:"_setProperty",value:function(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}},{key:"_getProperty",value:function(e){return this.__data[e]}},{key:"_setPendingProperty",value:function(e,t,r){var n=this.__data[e],i=this._shouldPropertyChange(e,t,n);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=n),this.__data[e]=t,this.__dataPending[e]=t),i}},{key:"_isPropertyPending",value:function(e){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(e))}},{key:"_invalidateProperties",value:function(){var e=this;!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,de.run((function(){e.__dataInvalid&&(e.__dataInvalid=!1,e._flushProperties())})))}},{key:"_enableProperties",value:function(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}},{key:"_flushProperties",value:function(){this.__dataCounter++;var e=this.__data,t=this.__dataPending,r=this.__dataOld;this._shouldPropertiesChange(e,t,r)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,r)),this.__dataCounter--}},{key:"_shouldPropertiesChange",value:function(e,t,r){return Boolean(t)}},{key:"_propertiesChanged",value:function(e,t,r){}},{key:"_shouldPropertyChange",value:function(e,t,r){return r!==t&&(r==r||t==t)}},{key:"attributeChangedCallback",value:function(e,t,n,i){t!==n&&this._attributeToProperty(e,n),k(h(r.prototype),"attributeChangedCallback",this)&&k(h(r.prototype),"attributeChangedCallback",this).call(this,e,t,n,i)}},{key:"_attributeToProperty",value:function(e,t,r){if(!this.__serializing){var n=this.__dataAttributes,i=n&&n[e]||e;this[i]=this._deserializeValue(t,r||this.constructor.typeForProperty(i))}}},{key:"_propertyToAttribute",value:function(e,t,r){this.__serializing=!0,r=arguments.length<3?this[e]:r,this._valueToNodeAttribute(this,r,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}},{key:"_valueToNodeAttribute",value:function(e,t,r){var n=this._serializeValue(t);"class"!==r&&"name"!==r&&"slot"!==r||(e=Ae(e)),void 0===n?e.removeAttribute(r):e.setAttribute(r,n)}},{key:"_serializeValue",value:function(e){return"boolean"===i(e)?e?"":void 0:null!=e?e.toString():void 0}},{key:"_deserializeValue",value:function(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}}],[{key:"createProperties",value:function(e){var t=this.prototype;for(var r in e)r in t||t._createPropertyAccessor(r)}},{key:"attributeNameForProperty",value:function(e){return e.toLowerCase()}},{key:"typeForProperty",value:function(e){}}]),r}(e);return t}));
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */var ve=ae((function(e){function t(e){var t=Object.getPrototypeOf(e);return t.prototype instanceof n?t:null}function r(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){var t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){var r=e.properties;r&&(t=function(e){var t={};for(var r in e){var n=e[r];t[r]="function"==typeof n?{type:n}:n}return t}(r))}e.__ownProperties=t}return e.__ownProperties}var n=function(e){f(i,e);var n=w(i);function i(){return s(this,i),n.apply(this,arguments)}return c(i,[{key:"_initializeProperties",value:function(){this.constructor.finalize(),k(h(i.prototype),"_initializeProperties",this).call(this)}},{key:"connectedCallback",value:function(){k(h(i.prototype),"connectedCallback",this)&&k(h(i.prototype),"connectedCallback",this).call(this),this._enableProperties()}},{key:"disconnectedCallback",value:function(){k(h(i.prototype),"disconnectedCallback",this)&&k(h(i.prototype),"disconnectedCallback",this).call(this)}}],[{key:"observedAttributes",get:function(){var e=this;if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;var t=this._properties;this.__observedAttributes=t?Object.keys(t).map((function(t){return e.prototype._addPropertyToAttributeMap(t)})):[]}return this.__observedAttributes}},{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){var e=t(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}},{key:"_finalizeClass",value:function(){var e=r(this);e&&this.createProperties(e)}},{key:"_properties",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){var e=t(this);this.__properties=Object.assign({},e&&e._properties,r(this))}return this.__properties}},{key:"typeForProperty",value:function(e){var t=this._properties[e];return t&&t.type}}]),i}(pe(e));return n})),ge=new Map,ye=function(){function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Le;s(this,e),this.strings=t,this.values=r,this.type=n,this.partCallback=i}return c(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",r=!0,n=0;n<e;n++){var i=this.strings[n];t+=i;var a=ke(i);t+=(r=a>-1?a<i.length:r)?be:me}return t+=this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}]),e}(),me="{{lit-".concat(String(Math.random()).slice(2),"}}"),be="\x3c!--".concat(me,"--\x3e"),we=new RegExp("".concat(me,"|").concat(be)),xe=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */function ke(e){var t=e.lastIndexOf(">");return e.indexOf("<",t+1)>-1?e.length:t}var _e=c((function e(t,r,n,i,a){s(this,e),this.type=t,this.index=r,this.name=n,this.rawName=i,this.strings=a})),Be=function(e){return-1!==e.index},Ee=c((function e(t,r){s(this,e),this.parts=[],this.element=r;for(var n,i,a=this.element.content,o=document.createTreeWalker(a,133,null,!1),u=-1,c=0,l=[];o.nextNode();){u++,n=i;var f=i=o.currentNode;if(1===f.nodeType){if(!f.hasAttributes())continue;for(var h=f.attributes,A=0,d=0;d<h.length;d++)h[d].value.indexOf(me)>=0&&A++;for(;A-- >0;){var p=t.strings[c],v=xe.exec(p)[1],g=h.getNamedItem(v),y=g.value.split(we);this.parts.push(new _e("attribute",u,g.name,v,y)),f.removeAttribute(g.name),c+=y.length-1}}else if(3===f.nodeType){var m=f.nodeValue;if(m.indexOf(me)<0)continue;var b=f.parentNode,w=m.split(we),x=w.length-1;c+=x;for(var k=0;k<x;k++)b.insertBefore(""===w[k]?document.createComment(""):document.createTextNode(w[k]),f),this.parts.push(new _e("node",u++));b.insertBefore(""===w[x]?document.createComment(""):document.createTextNode(w[x]),f),l.push(f)}else if(8===f.nodeType&&f.nodeValue===me){var _=f.parentNode,B=f.previousSibling;null===B||B!==n||B.nodeType!==Node.TEXT_NODE?_.insertBefore(document.createComment(""),f):u--,this.parts.push(new _e("node",u++)),l.push(f),null===f.nextSibling?_.insertBefore(document.createComment(""),f):u--,i=n,c++}}for(var E=0,S=l;E<S.length;E++){var C=S[E];C.parentNode.removeChild(C)}})),Se=function(e,t){return Ce(t)?(t=t(e),Ie):null===t?void 0:t},Ce=function(e){return"function"==typeof e&&!0===e.__litDirective},Ie={},Pe=function(e){return null===e||!("object"===i(e)||"function"==typeof e)},Te=function(){function e(t,r,n,i){s(this,e),this.instance=t,this.element=r,this.name=n,this.strings=i,this.size=i.length-1,this._previousValues=[]}return c(e,[{key:"_interpolate",value:function(e,t){for(var r=this.strings,n=r.length-1,i="",a=0;a<n;a++){i+=r[a];var o=Se(this,e[t+a]);if(o&&o!==Ie&&(Array.isArray(o)||"string"!=typeof o&&o[Symbol.iterator])){var s,u=L(o);try{for(u.s();!(s=u.n()).done;){i+=s.value}}catch(e){u.e(e)}finally{u.f()}}else i+=o}return i+r[n]}},{key:"_equalToPreviousValues",value:function(e,t){for(var r=t;r<t+this.size;r++)if(this._previousValues[r]!==e[r]||!Pe(e[r]))return!1;return!0}},{key:"setValue",value:function(e,t){if(!this._equalToPreviousValues(e,t)){var r,n=this.strings;2===n.length&&""===n[0]&&""===n[1]?(r=Se(this,e[t]),Array.isArray(r)&&(r=r.join(""))):r=this._interpolate(e,t),r!==Ie&&this.element.setAttribute(this.name,r),this._previousValues=e}}}]),e}(),Oe=function(){function e(t,r,n){s(this,e),this.instance=t,this.startNode=r,this.endNode=n,this._previousValue=void 0}return c(e,[{key:"setValue",value:function(e){if((e=Se(this,e))!==Ie)if(Pe(e)){if(e===this._previousValue)return;this._setText(e)}else e instanceof ye?this._setTemplateResult(e):Array.isArray(e)||e[Symbol.iterator]?this._setIterable(e):e instanceof Node?this._setNode(e):void 0!==e.then?this._setPromise(e):this._setText(e)}},{key:"_insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"_setNode",value:function(e){this._previousValue!==e&&(this.clear(),this._insert(e),this._previousValue=e)}},{key:"_setText",value:function(e){var t=this.startNode.nextSibling;e=void 0===e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._setNode(document.createTextNode(e)),this._previousValue=e}},{key:"_setTemplateResult",value:function(e){var t,r=this.instance._getTemplate(e);this._previousValue&&this._previousValue.template===r?t=this._previousValue:(t=new Ne(r,this.instance._partCallback,this.instance._getTemplate),this._setNode(t._clone()),this._previousValue=t),t.update(e.values)}},{key:"_setIterable",value:function(t){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);var r,n=this._previousValue,i=0,a=L(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=n[i];if(void 0===s){var u=this.startNode;if(i>0)u=n[i-1].endNode=document.createTextNode(""),this._insert(u);s=new e(this.instance,u,this.endNode),n.push(s)}s.setValue(o),i++}}catch(e){a.e(e)}finally{a.f()}if(0===i)this.clear(),this._previousValue=void 0;else if(i<n.length){var c=n[i-1];n.length=i,this.clear(c.endNode.previousSibling),c.endNode=this.endNode}}},{key:"_setPromise",value:function(e){var t=this;this._previousValue=e,e.then((function(r){t._previousValue===e&&t.setValue(r)}))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.startNode;Me(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),Le=function(e,t,r){if("attribute"===t.type)return new Te(e,r,t.name,t.strings);if("node"===t.type)return new Oe(e,r,r.nextSibling);throw new Error("Unknown part type ".concat(t.type))},Ne=function(){function e(t,r,n){s(this,e),this._parts=[],this.template=t,this._partCallback=r,this._getTemplate=n}return c(e,[{key:"update",value:function(e){var t,r=0,n=L(this._parts);try{for(n.s();!(t=n.n()).done;){var i=t.value;i?void 0===i.size?(i.setValue(e[r]),r++):(i.setValue(e,r),r+=i.size):r++}}catch(e){n.e(e)}finally{n.f()}}},{key:"_clone",value:function(){var e=this.template.element.content.cloneNode(!0),t=this.template.parts;if(t.length>0)for(var r=document.createTreeWalker(e,133,null,!1),n=-1,i=0;i<t.length;i++){var a=t[i],o=Be(a);if(o)for(;n<a.index;)n++,r.nextNode();this._parts.push(o?this._partCallback(this,a,r.currentNode):void 0)}return e}}]),e}(),Me=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t;n!==r;){var i=n.nextSibling;e.removeChild(n),n=i}},Ue=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT;var Fe=function(e){for(var t=1,r=document.createTreeWalker(e,Ue,null,!1);r.nextNode();)t++;return t},Re=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=t+1;r<e.length;r++){var n=e[r];if(Be(n))return r}return-1};var De=function(e,t){return"".concat(e,"--").concat(t)},je=["html","svg"];function Qe(e){je.forEach((function(t){var r=ge.get(De(t,e));void 0!==r&&r.forEach((function(e){var t=e.element.content.querySelectorAll("style");!function(e,t){for(var r=e.element.content,n=e.parts,i=document.createTreeWalker(r,Ue,null,!1),a=0,o=n[0],s=-1,u=0,c=[],l=null;i.nextNode();){s++;var f=i.currentNode;for(f.previousSibling===l&&(l=null),t.has(f)&&(c.push(f),null===l&&(l=f)),null!==l&&u++;void 0!==o&&o.index===s;)o.index=null!==l?-1:o.index-u,o=n[++a]}c.forEach((function(e){return e.parentNode.removeChild(e)}))}(e,new Set(Array.from(t)))}))}))}var He=new Set,Ke=function(e,t,r){if(!He.has(r)){He.add(r);var n=document.createElement("template");if(Array.from(e.querySelectorAll("style")).forEach((function(e){n.content.appendChild(e)})),window.ShadyCSS.prepareTemplateStyles(n,r),Qe(r),window.ShadyCSS.nativeShadow){var i=n.content.querySelector("style");null!==i&&(e.insertBefore(i,e.firstChild),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.element.content,i=e.parts;if(null!=r)for(var a=document.createTreeWalker(n,Ue,null,!1),o=Re(i),s=0,u=-1;a.nextNode();){for(u++,a.currentNode===r&&(r.parentNode.insertBefore(t,r),s=Fe(t));-1!==o&&i[o].index===u;){if(s>0){for(;-1!==o;)i[o].index+=s,o=Re(i,o);return}o=Re(i,o)}}else n.appendChild(t)}(t,i.cloneNode(!0),t.element.content.firstChild))}}};function Ve(e,t,r){var n=function(e){return function(t){var r=De(t.type,e),n=ge.get(r);void 0===n&&(n=new Map,ge.set(r,n));var a=n.get(t.strings);if(void 0===a){var o=t.getTemplateElement();"object"===i(window.ShadyCSS)&&window.ShadyCSS.prepareTemplateDom(o,e),a=new Ee(t,o),n.set(t.strings,a)}return a}}(r),a=n(e),o=t.__templateInstance;if(void 0===o||o.template!==a||o._partCallback!==e.partCallback){o=new Ne(a,e.partCallback,n),t.__templateInstance=o;var s=o._clone();o.update(e.values);var u=t instanceof ShadowRoot?t.host:void 0;void 0!==u&&"object"===i(window.ShadyCSS)&&(Ke(s,a,r),window.ShadyCSS.styleElement(u)),Me(t,t.firstChild),t.appendChild(s)}else o.update(e.values)}var ze=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new ye(e,r,"html",qe)},qe=function(e,t,r){if("attribute"===t.type){if("on-"===t.rawName.substr(0,3)){var n=t.rawName.slice(3);return new Je(e,r,n)}var i=t.name.substr(t.name.length-1);if("$"===i){var a=t.name.slice(0,-1);return new Te(e,r,a,t.strings)}if("?"===i){var o=t.name.slice(0,-1);return new Ge(e,r,o,t.strings)}return new We(e,r,t.rawName,t.strings)}return Le(e,t,r)},Ge=function(e){f(r,e);var t=w(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"setValue",value:function(e,t){var r=this.strings;if(2!==r.length||""!==r[0]||""!==r[1])throw new Error("boolean attributes can only contain a single expression");var n=Se(this,e[t]);n!==Ie&&(n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name))}}]),r}(Te),We=function(e){f(r,e);var t=w(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"setValue",value:function(e,t){var r,n=this.strings;this._equalToPreviousValues(e,t)||((r=2===n.length&&""===n[0]&&""===n[1]?Se(this,e[t]):this._interpolate(e,t))!==Ie&&(this.element[this.name]=r),this._previousValues=e)}}]),r}(Te),Je=function(){function e(t,r,n){s(this,e),this.instance=t,this.element=r,this.eventName=n}return c(e,[{key:"setValue",value:function(e){var t=Se(this,e);t!==this._listener&&(null==t?this.element.removeEventListener(this.eventName,this):null==this._listener&&this.element.addEventListener(this.eventName,this),this._listener=t)}},{key:"handleEvent",value:function(e){"function"==typeof this._listener?this._listener.call(this.element,e):"function"==typeof this._listener.handleEvent&&this._listener.handleEvent(e)}}]),e}(),Xe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).__renderComplete=null,e.__resolveRenderComplete=null,e.__isInvalid=!1,e.__isChanging=!1,e}return c(r,[{key:"ready",value:function(){this._root=this._createRoot(),k(h(r.prototype),"ready",this).call(this),this._firstRendered()}},{key:"_firstRendered",value:function(){}},{key:"_createRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"_shouldPropertiesChange",value:function(e,t,r){var n=this._shouldRender(e,t,r);return!n&&this.__resolveRenderComplete&&this.__resolveRenderComplete(!1),n}},{key:"_shouldRender",value:function(e,t,r){return!0}},{key:"_propertiesChanged",value:function(e,t,n){k(h(r.prototype),"_propertiesChanged",this).call(this,e,t,n);var i=this._render(e);i&&void 0!==this._root&&this._applyRender(i,this._root),this._didRender(e,t,n),this.__resolveRenderComplete&&this.__resolveRenderComplete(!0)}},{key:"_flushProperties",value:function(){this.__isChanging=!0,this.__isInvalid=!1,k(h(r.prototype),"_flushProperties",this).call(this),this.__isChanging=!1}},{key:"_shouldPropertyChange",value:function(e,t,n){var i=k(h(r.prototype),"_shouldPropertyChange",this).call(this,e,t,n);return i&&this.__isChanging&&console.trace("Setting properties in response to other properties changing "+"considered harmful. Setting '".concat(e,"' from ")+"'".concat(this._getProperty(e),"' to '").concat(t,"'.")),i}},{key:"_render",value:function(e){throw new Error("_render() not implemented")}},{key:"_applyRender",value:function(e,t){Ve(e,t,this.localName)}},{key:"_didRender",value:function(e,t,r){}},{key:"_requestRender",value:function(){this._invalidateProperties()}},{key:"_invalidateProperties",value:function(){this.__isInvalid=!0,k(h(r.prototype),"_invalidateProperties",this).call(this)}},{key:"renderComplete",get:function(){var e=this;return this.__renderComplete||(this.__renderComplete=new Promise((function(t){e.__resolveRenderComplete=function(r){e.__resolveRenderComplete=e.__renderComplete=null,t(r)}})),!this.__isInvalid&&this.__resolveRenderComplete&&Promise.resolve().then((function(){return e.__resolveRenderComplete(!1)}))),this.__renderComplete}}]),r}(ve(HTMLElement));function Ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tt="function"==typeof Symbol&&Symbol.observable||"@@observable",rt=function(){return Math.random().toString(36).substring(7).split("").join(".")},nt={INIT:"@@redux/INIT"+rt(),REPLACE:"@@redux/REPLACE"+rt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+rt()}};function it(e){if("object"!==i(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function at(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(et(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(et(1));return r(at)(e,t)}if("function"!=typeof e)throw new Error(et(2));var a=e,o=t,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function f(){if(c)throw new Error(et(3));return o}function h(e){if("function"!=typeof e)throw new Error(et(4));if(c)throw new Error(et(5));var t=!0;return l(),u.push(e),function(){if(t){if(c)throw new Error(et(6));t=!1,l();var r=u.indexOf(e);u.splice(r,1),s=null}}}function A(e){if(!it(e))throw new Error(et(7));if(void 0===e.type)throw new Error(et(8));if(c)throw new Error(et(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=s=u,r=0;r<t.length;r++){(0,t[r])()}return e}function d(e){if("function"!=typeof e)throw new Error(et(10));a=e,A({type:nt.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!==i(e)||null===e)throw new Error(et(11));function r(){e.next&&e.next(f())}return r(),{unsubscribe:t(r)}}})[tt]=function(){return this},e}return A({type:nt.INIT}),(n={dispatch:A,subscribe:h,getState:f,replaceReducer:d})[tt]=p,n}function ot(e,t){return function(){return t(e.apply(this,arguments))}}function st(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ut(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(et(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return n=st.apply(void 0,a)(r.dispatch),Ze(Ze({},r),{},{dispatch:n})}}}function ct(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var lt=ct();function ft(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function ht(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}lt.withExtraArgument=ct,ft((function e(t,r,n){e.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:r,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}),ht),ft((function e(t,r){e.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}),ht),ft((function e(t,r){e.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:r,enumerable:!0})}),ht),ft((function e(t,r,n){e.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:r,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}),ht);var At="AUTO_VERIFY",dt="INITIALIZE",pt="UPDATE_CERTIFICATE_DEFINITION",vt="RESET_CERTIFICATE_DEFINITION",gt="UPDATE_CERTIFICATE_URL",yt="VALIDATE_URL_INPUT",mt="CLEAR_VERIFIED_STEPS",bt="STEP_VERIFIED",wt="UPDATE_PARENT_STEP_STATUS",xt="UPDATE_VERIFICATION_STATUS",kt="UPDATE_FINAL_STEP",_t="SET_ERROR_MESSAGE",Bt="SHOW_VERIFICATION_MODAL",Et="UPDATE_IS_GENERATING_PDF";function St(){var e=null;function t(e){return!!e&&("object"===i(e)||"function"==typeof e)}var r=function(r,n){if(!t(r)||!t(n))throw new TypeError("Cannot create proxy with a non-object as target or handler");var i=function(){};e=function(){i=function(e){throw new TypeError("Cannot perform '".concat(e,"' on a proxy that has been revoked"))}};var a=n;for(var o in n={get:null,set:null,apply:null,construct:null},a)o in n&&(n[o]=a[o]);"function"==typeof a&&(n.apply=a.apply.bind(a));var s=this,u=!1,c=!1;"function"==typeof r?(s=function(){var e=this&&this.constructor===s,t=Array.prototype.slice.call(arguments);if(i(e?"construct":"apply"),e&&n.construct)return n.construct.call(this,r,t);if(!e&&n.apply)return n.apply(r,this,t);if(e){t.unshift(r);var a=r.bind.apply(r,t);return new a}return r.apply(this,t)},u=!0):r instanceof Array&&(s=[],c=!0);var l=n.get?function(e){return i("get"),n.get(this,e,s)}:function(e){return i("get"),this[e]},f=n.set?function(e,t){i("set"),n.set(this,e,t,s)}:function(e,t){i("set"),this[e]=t},h=Object.getOwnPropertyNames(r),A={};h.forEach((function(e){if(!u&&!c||!(e in s)){var t={enumerable:!!Object.getOwnPropertyDescriptor(r,e).enumerable,get:l.bind(r,e),set:f.bind(r,e)};Object.defineProperty(s,e,t),A[e]=!0}}));var d=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(s,Object.getPrototypeOf(r)):s.__proto__?s.__proto__=r.__proto__:d=!1,n.get||!d)for(var p in r)A[p]||Object.defineProperty(s,p,{get:l.bind(r,p)});return Object.seal(r),Object.seal(s),s};return r.revocable=function(t,n){return{proxy:new r(t,n),revoke:e}},r}var Ct,It={get:function(e,t){var r=t in e?e[t]:null;return r||console.warn("the service does not exist",t),r}};!function(e){e.TEXT_HTML="text/html",e.IMAGE_PNG="image/png",e.IMAGE_JPEG="image/jpeg",e.IMAGE_GIF="image/gif",e.IMAGE_BMP="image/bmp",e.APPLICATION_PDF="application/pdf"}(Ct||(Ct={}));const Pt=["text","image","signature","variable"];function Tt(e){const t=(new DOMParser).parseFromString(e,Ct.TEXT_HTML);return t.body.childElementCount===t.body.querySelectorAll(Pt.map((e=>`section[class*="${e}"]`)).join(", ")).length}var Ot="?format=json";function Lt(e){const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}}var Nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ut={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ut);var Ft=Mt(Ut.exports),Rt=Uint8Array,Dt=Uint16Array,jt=Uint32Array,Qt=new Rt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ht=new Rt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kt=new Rt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vt=function(e,t){for(var r=new Dt(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new jt(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},zt=Vt(Qt,2),qt=zt[0],Gt=zt[1];qt[28]=258,Gt[258]=28;for(var Wt=Vt(Ht,0),Jt=Wt[0],Xt=Wt[1],Yt=new Dt(32768),$t=0;$t<32768;++$t){var Zt=(43690&$t)>>>1|(21845&$t)<<1;Zt=(61680&(Zt=(52428&Zt)>>>2|(13107&Zt)<<2))>>>4|(3855&Zt)<<4,Yt[$t]=((65280&Zt)>>>8|(255&Zt)<<8)>>>1}var er=function(e,t,r){for(var n=e.length,i=0,a=new Dt(t);i<n;++i)++a[e[i]-1];var o,s=new Dt(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(r){o=new Dt(1<<t);var u=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],l=t-e[i],f=s[e[i]-1]++<<l,h=f|(1<<l)-1;f<=h;++f)o[Yt[f]>>>u]=c}else for(o=new Dt(n),i=0;i<n;++i)o[i]=Yt[s[e[i]-1]++]>>>15-e[i];return o},tr=new Rt(288);for($t=0;$t<144;++$t)tr[$t]=8;for($t=144;$t<256;++$t)tr[$t]=9;for($t=256;$t<280;++$t)tr[$t]=7;for($t=280;$t<288;++$t)tr[$t]=8;var rr=new Rt(32);for($t=0;$t<32;++$t)rr[$t]=5;var nr=er(tr,9,0),ir=er(tr,9,1),ar=er(rr,5,0),or=er(rr,5,1),sr=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ur=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(7&t)&r},cr=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(7&t)},lr=function(e){return(e/8>>0)+(7&e&&1)},fr=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof Dt?Dt:e instanceof jt?jt:Rt)(r-t);return n.set(e.subarray(t,r)),n},hr=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Ar=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},dr=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[new Rt(0),0];if(1==i){var o=new Rt(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],u=r[1],c=0,l=1,f=2;for(r[0]={s:-1,f:s.f+u.f,l:s,r:u};l!=i-1;)s=r[r[c].f<r[f].f?c++:f++],u=r[c!=l&&r[c].f<r[f].f?c++:f++],r[l++]={s:-1,f:s.f+u.f,l:s,r:u};var h=a[0].s;for(n=1;n<i;++n)a[n].s>h&&(h=a[n].s);var A=new Dt(h+1),d=pr(r[l-1],A,0);if(d>t){n=0;var p=0,v=d-t,g=1<<v;for(a.sort((function(e,t){return A[t.s]-A[e.s]||e.f-t.f}));n<i;++n){var y=a[n].s;if(!(A[y]>t))break;p+=g-(1<<d-A[y]),A[y]=t}for(p>>>=v;p>0;){var m=a[n].s;A[m]<t?p-=1<<t-A[m]++-1:++n}for(;n>=0&&p;--n){var b=a[n].s;A[b]==t&&(--A[b],++p)}d=t}return[new Rt(A),d]},pr=function e(t,r,n){return-1==t.s?Math.max(e(t.l,r,n+1),e(t.r,r,n+1)):r[t.s]=n},vr=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Dt(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},gr=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},yr=function(e,t,r){var n=r.length,i=lr(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},mr=function(e,t,r,n,i,a,o,s,u,c,l){hr(t,l++,r),++i[256];for(var f=dr(i,15),h=f[0],A=f[1],d=dr(a,15),p=d[0],v=d[1],g=vr(h),y=g[0],m=g[1],b=vr(p),w=b[0],x=b[1],k=new Dt(19),_=0;_<y.length;++_)k[31&y[_]]++;for(_=0;_<w.length;++_)k[31&w[_]]++;for(var B=dr(k,7),E=B[0],S=B[1],C=19;C>4&&!E[Kt[C-1]];--C);var I,P,T,O,L=c+5<<3,N=gr(i,tr)+gr(a,rr)+o,M=gr(i,h)+gr(a,p)+o+14+3*C+gr(k,E)+(2*k[16]+3*k[17]+7*k[18]);if(L<=N&&L<=M)return yr(t,l,e.subarray(u,u+c));if(hr(t,l,1+(M<N)),l+=2,M<N){I=er(h,A,0),P=h,T=er(p,v,0),O=p;var U=er(E,S,0);hr(t,l,m-257),hr(t,l+5,x-1),hr(t,l+10,C-4),l+=14;for(_=0;_<C;++_)hr(t,l+3*_,E[Kt[_]]);l+=3*C;for(var F=[y,w],R=0;R<2;++R){var D=F[R];for(_=0;_<D.length;++_){var j=31&D[_];hr(t,l,U[j]),l+=E[j],j>15&&(hr(t,l,D[_]>>>5&127),l+=D[_]>>>12)}}}else I=nr,P=tr,T=ar,O=rr;for(_=0;_<s;++_)if(n[_]>255){j=n[_]>>>18&31;Ar(t,l,I[j+257]),l+=P[j+257],j>7&&(hr(t,l,n[_]>>>23&31),l+=Qt[j]);var Q=31&n[_];Ar(t,l,T[Q]),l+=O[Q],Q>3&&(Ar(t,l,n[_]>>>5&8191),l+=Ht[Q])}else Ar(t,l,I[n[_]]),l+=P[n[_]];return Ar(t,l,I[256]),l+P[256]},br=new jt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wr=new Rt(0),xr=function(e,t,r,n,i){return function(e,t,r,n,i,a){var o=e.length,s=new Rt(n+o+5*(1+Math.floor(o/7e3))+i),u=s.subarray(n,s.length-i),c=0;if(!t||o<8)for(var l=0;l<=o;l+=65535){var f=l+65535;f<o?c=yr(u,c,e.subarray(l,f)):(u[l]=a,c=yr(u,c,e.subarray(l,o)))}else{for(var h=br[t-1],A=h>>>13,d=8191&h,p=(1<<r)-1,v=new Dt(32768),g=new Dt(p+1),y=Math.ceil(r/3),m=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<m)&p},w=new jt(25e3),x=new Dt(288),k=new Dt(32),_=0,B=0,E=(l=0,0),S=0,C=0;l<o;++l){var I=b(l),P=32767&l,T=g[I];if(v[P]=T,g[I]=P,S<=l){var O=o-l;if((_>7e3||E>24576)&&O>423){c=mr(e,u,0,w,x,k,B,E,C,l-C,c),E=_=B=0,C=l;for(var L=0;L<286;++L)x[L]=0;for(L=0;L<30;++L)k[L]=0}var N=2,M=0,U=d,F=P-T&32767;if(O>2&&I==b(l-F))for(var R=Math.min(A,O)-1,D=Math.min(32767,l),j=Math.min(258,O);F<=D&&--U&&P!=T;){if(e[l+N]==e[l+N-F]){for(var Q=0;Q<j&&e[l+Q]==e[l+Q-F];++Q);if(Q>N){if(N=Q,M=F,Q>R)break;var H=Math.min(F,Q-2),K=0;for(L=0;L<H;++L){var V=l-F+L+32768&32767,z=V-v[V]+32768&32767;z>K&&(K=z,T=V)}}}F+=(P=T)-(T=v[P])+32768&32767}if(M){w[E++]=268435456|Gt[N]<<18|Xt[M];var q=31&Gt[N],G=31&Xt[M];B+=Qt[q]+Ht[G],++x[257+q],++k[G],S=l+N,++_}else w[E++]=e[l],++x[e[l]]}}c=mr(e,u,a,w,x,k,B,E,C,l-C,c),a||(c=yr(u,c,wr))}return fr(s,0,n+lr(c)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)};function kr(e,t){void 0===t&&(t={});var r=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length,o=0;o!=a;){for(var s=Math.min(o+5552,a);o<s;++o)i+=n+=r[o];n%=65521,i%=65521}e=n,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}}();r.p(e);var n=xr(e,t,2,4);return function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)}(n,t),function(e,t,r){for(;r;++t)e[t]=r,r>>>=8}(n,n.length-4,r.d()),n}function _r(e,t){return function(e,t,r){var n=e.length,i=!t||r,a=!r||r.i;r||(r={}),t||(t=new Rt(3*n));var o=function(e){var r=t.length;if(e>r){var n=new Rt(Math.max(2*r,e));n.set(t),t=n}},s=r.f||0,u=r.p||0,c=r.b||0,l=r.l,f=r.d,h=r.m,A=r.n,d=8*n;do{if(!l){r.f=s=ur(e,u,1);var p=ur(e,u+1,3);if(u+=3,!p){var v=e[(S=lr(u)+4)-4]|e[S-3]<<8,g=S+v;if(g>n){if(a)throw"unexpected EOF";break}i&&o(c+v),t.set(e.subarray(S,g),c),r.b=c+=v,r.p=u=8*g;continue}if(1==p)l=ir,f=or,h=9,A=5;else{if(2!=p)throw"invalid block type";var y=ur(e,u,31)+257,m=ur(e,u+10,15)+4,b=y+ur(e,u+5,31)+1;u+=14;for(var w=new Rt(b),x=new Rt(19),k=0;k<m;++k)x[Kt[k]]=ur(e,u+3*k,7);u+=3*m;var _=sr(x),B=(1<<_)-1;if(!a&&u+b*(_+7)>d)break;var E=er(x,_,1);for(k=0;k<b;){var S,C=E[ur(e,u,B)];if(u+=15&C,(S=C>>>4)<16)w[k++]=S;else{var I=0,P=0;for(16==S?(P=3+ur(e,u,3),u+=2,I=w[k-1]):17==S?(P=3+ur(e,u,7),u+=3):18==S&&(P=11+ur(e,u,127),u+=7);P--;)w[k++]=I}}var T=w.subarray(0,y),O=w.subarray(y);h=sr(T),A=sr(O),l=er(T,h,1),f=er(O,A,1)}if(u>d)throw"unexpected EOF"}i&&o(c+131072);for(var L=(1<<h)-1,N=(1<<A)-1,M=h+A+18;a||u+M<d;){var U=(I=l[cr(e,u)&L])>>>4;if((u+=15&I)>d)throw"unexpected EOF";if(!I)throw"invalid length/literal";if(U<256)t[c++]=U;else{if(256==U){l=null;break}var F=U-254;if(U>264){var R=Qt[k=U-257];F=ur(e,u,(1<<R)-1)+qt[k],u+=R}var D=f[cr(e,u)&N],j=D>>>4;if(!D)throw"invalid distance";if(u+=15&D,O=Jt[j],j>3&&(R=Ht[j],O+=cr(e,u)&(1<<R)-1,u+=R),u>d)throw"unexpected EOF";i&&o(c+131072);for(var Q=c+F;c<Q;c+=4)t[c]=t[c-O],t[c+1]=t[c+1-O],t[c+2]=t[c+2-O],t[c+3]=t[c+3-O];c=Q}}r.l=l,r.p=u,r.b=c,l&&(s=1,r.m=h,r.d=f,r.n=A)}while(!s);return c==t.length?t:fr(t,0,c)}((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),t)}
/** @license
   *
   * jsPDF - PDF Document creation from JavaScript
   * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
   *                      CommitID 00000000
   *
   * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2015-2021 yWorks GmbH, http://www.yworks.com
   *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
   *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, https://github.com/willowsystems
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   */var Br=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function Er(){Br.console&&"function"==typeof Br.console.log&&Br.console.log.apply(Br.console,arguments)}var Sr={log:Er,warn:function(e){Br.console&&("function"==typeof Br.console.warn?Br.console.warn.apply(Br.console,arguments):Er.call(null,arguments))},error:function(e){Br.console&&("function"==typeof Br.console.error?Br.console.error.apply(Br.console,arguments):Er(e))}};function Cr(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Lr(n.response,t,r)},n.onerror=function(){Sr.error("could not download file")},n.send()}function Ir(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function Pr(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Tr,Or,Lr=Br.saveAs||("object"!==("undefined"==typeof window?"undefined":Ft(window))||window!==Br?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Br.URL||Br.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?Ir(i.href)?Cr(e,t,r):Pr(i,i.target="_blank"):Pr(i)):(i.href=n.createObjectURL(e),setTimeout((function(){n.revokeObjectURL(i.href)}),4e4),setTimeout((function(){Pr(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if(Ir(e))Cr(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout((function(){Pr(n)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==Ft(t)&&(Sr.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return Cr(e,t,r);var i="application/octet-stream"===e.type,a=/constructor/i.test(Br.HTMLElement)||Br.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&"object"===("undefined"==typeof FileReader?"undefined":Ft(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},s.readAsDataURL(e)}else{var u=Br.URL||Br.webkitURL,c=u.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout((function(){u.revokeObjectURL(c)}),4e4)}});
/**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
   * @license Use it if you like it
   */function Nr(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}
/**
   * @license
   * Joseph Myers does not specify a particular license for his work.
   *
   * Author: Joseph Myers
   * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
   *
   * Modified by: Owen Leong
   */function Mr(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Fr(r,n,i,a,t[0],7,-680876936),a=Fr(a,r,n,i,t[1],12,-389564586),i=Fr(i,a,r,n,t[2],17,606105819),n=Fr(n,i,a,r,t[3],22,-1044525330),r=Fr(r,n,i,a,t[4],7,-176418897),a=Fr(a,r,n,i,t[5],12,1200080426),i=Fr(i,a,r,n,t[6],17,-1473231341),n=Fr(n,i,a,r,t[7],22,-45705983),r=Fr(r,n,i,a,t[8],7,1770035416),a=Fr(a,r,n,i,t[9],12,-1958414417),i=Fr(i,a,r,n,t[10],17,-42063),n=Fr(n,i,a,r,t[11],22,-1990404162),r=Fr(r,n,i,a,t[12],7,1804603682),a=Fr(a,r,n,i,t[13],12,-40341101),i=Fr(i,a,r,n,t[14],17,-1502002290),r=Rr(r,n=Fr(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Rr(a,r,n,i,t[6],9,-1069501632),i=Rr(i,a,r,n,t[11],14,643717713),n=Rr(n,i,a,r,t[0],20,-373897302),r=Rr(r,n,i,a,t[5],5,-701558691),a=Rr(a,r,n,i,t[10],9,38016083),i=Rr(i,a,r,n,t[15],14,-660478335),n=Rr(n,i,a,r,t[4],20,-405537848),r=Rr(r,n,i,a,t[9],5,568446438),a=Rr(a,r,n,i,t[14],9,-1019803690),i=Rr(i,a,r,n,t[3],14,-187363961),n=Rr(n,i,a,r,t[8],20,1163531501),r=Rr(r,n,i,a,t[13],5,-1444681467),a=Rr(a,r,n,i,t[2],9,-51403784),i=Rr(i,a,r,n,t[7],14,1735328473),r=Dr(r,n=Rr(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Dr(a,r,n,i,t[8],11,-2022574463),i=Dr(i,a,r,n,t[11],16,1839030562),n=Dr(n,i,a,r,t[14],23,-35309556),r=Dr(r,n,i,a,t[1],4,-1530992060),a=Dr(a,r,n,i,t[4],11,1272893353),i=Dr(i,a,r,n,t[7],16,-155497632),n=Dr(n,i,a,r,t[10],23,-1094730640),r=Dr(r,n,i,a,t[13],4,681279174),a=Dr(a,r,n,i,t[0],11,-358537222),i=Dr(i,a,r,n,t[3],16,-722521979),n=Dr(n,i,a,r,t[6],23,76029189),r=Dr(r,n,i,a,t[9],4,-640364487),a=Dr(a,r,n,i,t[12],11,-421815835),i=Dr(i,a,r,n,t[15],16,530742520),r=jr(r,n=Dr(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=jr(a,r,n,i,t[7],10,1126891415),i=jr(i,a,r,n,t[14],15,-1416354905),n=jr(n,i,a,r,t[5],21,-57434055),r=jr(r,n,i,a,t[12],6,1700485571),a=jr(a,r,n,i,t[3],10,-1894986606),i=jr(i,a,r,n,t[10],15,-1051523),n=jr(n,i,a,r,t[1],21,-2054922799),r=jr(r,n,i,a,t[8],6,1873313359),a=jr(a,r,n,i,t[15],10,-30611744),i=jr(i,a,r,n,t[6],15,-1560198380),n=jr(n,i,a,r,t[13],21,1309151649),r=jr(r,n,i,a,t[4],6,-145523070),a=jr(a,r,n,i,t[11],10,-1120210379),i=jr(i,a,r,n,t[2],15,718787259),n=jr(n,i,a,r,t[9],21,-343485551),e[0]=Wr(r,e[0]),e[1]=Wr(n,e[1]),e[2]=Wr(i,e[2]),e[3]=Wr(a,e[3])}function Ur(e,t,r,n,i,a){return t=Wr(Wr(t,e),Wr(n,a)),Wr(t<<i|t>>>32-i,r)}function Fr(e,t,r,n,i,a,o){return Ur(t&r|~t&n,e,t,i,a,o)}function Rr(e,t,r,n,i,a,o){return Ur(t&n|r&~n,e,t,i,a,o)}function Dr(e,t,r,n,i,a,o){return Ur(t^r^n,e,t,i,a,o)}function jr(e,t,r,n,i,a,o){return Ur(r^(t|~n),e,t,i,a,o)}function Qr(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Mr(n,Hr(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Mr(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Mr(n,i),n}function Hr(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Tr=Br.atob.bind(Br),Or=Br.btoa.bind(Br);var Kr="0123456789abcdef".split("");function Vr(e){for(var t="",r=0;r<4;r++)t+=Kr[e>>8*r+4&15]+Kr[e>>8*r&15];return t}function zr(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function qr(e){return Qr(e).map(zr).join("")}var Gr="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Vr(e[t]);return e.join("")}(Qr("hello"));function Wr(e,t){if(Gr){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}
/**
   * @license
   * FPDF is released under a permissive license: there is no usage restriction.
   * You may embed it freely in your application (commercial or not), with or
   * without modifications.
   *
   * Reference: http://www.fpdf.org/en/script/script37.php
   */function Jr(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),s=[],u=0;u<256;u++)s[u]=u;var c=0;for(u=0;u<256;u++){var l=s[u];c=(c+l+o.charCodeAt(u))%256,s[u]=s[c],s[c]=l}r=e,n=s}else s=n;var f=t.length,h=0,A=0,d="";for(u=0;u<f;u++)A=(A+(l=s[h=(h+1)%256]))%256,s[h]=s[A],s[A]=l,o=s[(s[h]+s[A])%256],d+=String.fromCharCode(t.charCodeAt(u)^o);return d}
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   * Author: Owen Leong (@owenl131)
   * Date: 15 Oct 2020
   * References:
   * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
   * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
   * http://www.fpdf.org/en/script/script37.php
   */var Xr={print:4,modify:8,copy:16,"annot-forms":32};function Yr(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==Xr.perm)throw new Error("Invalid permission: "+e);i+=Xr[e]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=qr(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Jr(this.encryptionKey,this.padding)}function $r(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function Zr(e){if("object"!==Ft(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[r,!!n],i},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(r){Br.console&&Sr.error("jsPDF PubSub Error",r.message,r)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function en(e){if(!(this instanceof en))return new en(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function tn(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function rn(e,t,r,n,i){if(!(this instanceof rn))return new rn(e,t,r,n,i);this.type="axial"===e?2:3,this.coords=t,this.colors=r,tn.call(this,n,i)}function nn(e,t,r,n,i){if(!(this instanceof nn))return new nn(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,tn.call(this,n,i)}function an(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,u=16,c="S",l=null;"object"===Ft(e=e||{})&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,null!==(l=e.encryption||null)&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),s="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(u=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(!0===a?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},A={internal:{},__private__:{}};A.__private__.PubSub=Zr;var d="1.3",p=A.__private__.getPdfVersion=function(){return d};A.__private__.setPdfVersion=function(e){d=e};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return v};var g=A.__private__.getPageFormat=function(e){return v[e]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},m=y.COMPAT;function b(){this.saveGraphicsState(),$(new Oe(Ae,0,0,-Ae,0,Ir()*Ae).toString()+" cm"),this.setFontSize(this.getFontSize()/Ae),c="n",m=y.ADVANCED}function w(){this.restoreGraphicsState(),c="S",m=y.COMPAT}var x=A.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};A.advancedAPI=function(e){var t=m===y.COMPAT;return t&&b.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},A.compatAPI=function(e){var t=m===y.ADVANCED;return t&&w.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},A.isAdvancedAPI=function(){return m===y.ADVANCED};var k,_=function(e){if(m!==y.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=A.roundToPrecision=A.__private__.roundToPrecision=function(e,r){var n=t||r;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")};k=A.hpf=A.__private__.hpf="number"==typeof u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return B(e,u)}:"smart"===u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return B(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return B(e,16)};var E=A.f2=A.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return B(e,2)},S=A.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return B(e,3)},C=A.scale=A.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return m===y.COMPAT?e*Ae:m===y.ADVANCED?e:void 0},I=function(e){return m===y.COMPAT?Ir()-e:m===y.ADVANCED?e:void 0},P=function(e){return C(I(e))};A.__private__.setPrecision=A.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var T,O="00000000000000000000000000000000",L=A.__private__.getFileId=function(){return O},N=A.__private__.setFileId=function(e){return O=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():O.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==l&&(Nt=new Yr(l.userPermissions,l.userPassword,l.ownerPassword,O)),O};A.setFileId=function(e){return N(e),this},A.getFileId=function(){return L()};var M=A.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),a=[r,j(n),"'",j(i),"'"].join("");return["D:",e.getFullYear(),j(e.getMonth()+1),j(e.getDate()),j(e.getHours()),j(e.getMinutes()),j(e.getSeconds()),a].join("")},U=A.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,r,n,i,a,o,0)},F=A.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=M(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return T=t},R=A.__private__.getCreationDate=function(e){var t=T;return"jsDate"===e&&(t=U(T)),t};A.setCreationDate=function(e){return F(e),this},A.getCreationDate=function(e){return R(e)};var D,j=A.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},Q=A.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,K=[],V=[],z=0,q=[],G=[],W=!1,J=V,X=function(){H=0,z=0,V=[],K=[],q=[],je=Fe(),Qe=Fe()};A.__private__.setCustomOutputDestination=function(e){W=!0,J=e};var Y=function(e){W||(J=e)};A.__private__.resetCustomOutputDestination=function(){W=!1,J=V};var $=A.__private__.out=function(e){return e=e.toString(),z+=e.length+1,J.push(e),J},Z=A.__private__.write=function(e){return $(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},ee=A.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return te};var re=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(e){return re=m===y.ADVANCED?e/Ae:e,this};var ne,ie=A.__private__.getFontSize=A.getFontSize=function(){return m===y.COMPAT?re:re*Ae},ae=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(e){return ae=e,this},A.__private__.getR2L=A.getR2L=function(){return ae};var oe,se=A.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};A.__private__.getZoomMode=function(){return ne};var ue,ce=A.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');oe=e};A.__private__.getPageMode=function(){return oe};var le=A.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ue=e};A.__private__.getLayoutMode=function(){return ue},A.__private__.setDisplayMode=A.setDisplayMode=function(e,t,r){return se(e),le(t),ce(r),this};var fe={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(e){if(-1===Object.keys(fe).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return fe[e]},A.__private__.getDocumentProperties=function(){return fe},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(e){for(var t in fe)fe.hasOwnProperty(t)&&e[t]&&(fe[t]=e[t]);return this},A.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(fe).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return fe[e]=t};var he,Ae,de,pe,ve,ge={},ye={},me=[],be={},we={},xe={},ke={},_e=null,Be=0,Ee=[],Se=new Zr(A),Ce=e.hotfixes||[],Ie={},Pe={},Te=[],Oe=function e(t,r,n,i,a,o){if(!(this instanceof e))return new e(t,r,n,i,a,o);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(i)&&(i=1),isNaN(a)&&(a=0),isNaN(o)&&(o=0),this._matrix=[t,r,n,i,a,o]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Oe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Oe.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,n=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new Oe(t,r,n,i,a,o)},Oe.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,a=this.ty,o=Math.sqrt(e*e+t*t),s=(e/=o)*r+(t/=o)*n;r-=e*s,n-=t*s;var u=Math.sqrt(r*r+n*n);return s/=u,e*(n/=u)<t*(r/=u)&&(e=-e,t=-t,s=-s,o=-o),{scale:new Oe(o,0,0,u,0,0),translate:new Oe(1,0,0,1,i,a),rotate:new Oe(e,t,-t,e,0,0),skew:new Oe(1,0,s,1,0,0)}},Oe.prototype.toString=function(e){return this.join(" ")},Oe.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,a=this.ty,o=1/(e*n-t*r),s=n*o,u=-t*o,c=-r*o,l=e*o;return new Oe(s,u,c,l,-s*i-c*a,-u*i-l*a)},Oe.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new mr(t,r)},Oe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new mr(e.x+e.w,e.y+e.h));return new br(t.x,t.y,r.x-t.x,r.y-t.y)},Oe.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,a=this.ty;return new Oe(e,t,r,n,i,a)},A.Matrix=Oe;var Le=A.matrixMult=function(e,t){return t.multiply(e)},Ne=new Oe(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Ne;var Me=function(e,t){if(!we[e]){var r=(t instanceof rn?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=r,we[e]=r,be[r]=t,Se.publish("addPattern",t)}};A.ShadingPattern=rn,A.TilingPattern=nn,A.addShadingPattern=function(e,t){return _("addShadingPattern()"),Me(e,t),this},A.beginTilingPattern=function(e){_("beginTilingPattern()"),xr(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},A.endTilingPattern=function(e,t){_("endTilingPattern()"),t.stream=G[D].join("\n"),Me(e,t),Se.publish("endTilingPattern",t),Te.pop().restore()};var Ue=A.__private__.newObject=function(){var e=Fe();return Re(e,!0),e},Fe=A.__private__.newObjectDeferred=function(){return H++,K[H]=function(){return z},H},Re=function(e,t){return t="boolean"==typeof t&&t,K[e]=z,t&&$(e+" 0 obj"),e},De=A.__private__.newAdditionalObject=function(){var e={objId:Fe(),content:""};return q.push(e),e},je=Fe(),Qe=Fe(),He=A.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var n="#",i=0;i<3;i++)n+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return n},Ke=A.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,n=e.ch2,i=e.ch3,a=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var s=new Nr(r);if(s.ok)r=s.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var u=parseInt(r.substr(1),16);r=u>>16&255,n=u>>8&255,i=255&u}if(void 0===n||void 0===a&&r===n&&n===i)if("string"==typeof r)t=r+" "+o[0];else if(2===e.precision)t=E(r/255)+" "+o[0];else t=S(r/255)+" "+o[0];else if(void 0===a||"object"===Ft(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof r)t=[r,n,i,o[1]].join(" ");else if(2===e.precision)t=[E(r/255),E(n/255),E(i/255),o[1]].join(" ");else t=[S(r/255),S(n/255),S(i/255),o[1]].join(" ")}else if("string"==typeof r)t=[r,n,i,a,o[2]].join(" ");else if(2===e.precision)t=[E(r),E(n),E(i),E(a),o[2]].join(" ");else t=[S(r),S(n),S(i),S(a),o[2]].join(" ");return t},Ve=A.__private__.getFilters=function(){return o},ze=A.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||Ve(),n=e.alreadyAppliedFilters||[],i=e.addLength1||!1,a=t.length,o=e.objectId,s=function(e){return e};if(null!==l&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==l&&(s=Nt.encryptor(o,0));var u={};!0===r&&(r=["FlateEncode"]);var c=e.additionalKeyValues||[],f=(u=void 0!==an.API.processDataByFilters?an.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==u.data.length&&(c.push({key:"Length",value:u.data.length}),!0===i&&c.push({key:"Length1",value:a})),0!=f.length)if(f.split("/").length-1==1)c.push({key:"Filter",value:f});else{c.push({key:"Filter",value:"["+f+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var A=[],d=0;d<u.reverseChain.split("/").length-1;d+=1)A.push("null");A.push(c[h].value),c[h].value="["+A.join(" ")+"]"}}$("<<");for(var p=0;p<c.length;p++)$("/"+c[p].key+" "+c[p].value);$(">>"),0!==u.data.length&&($("stream"),$(s(u.data)),$("endstream"))},qe=A.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,i=e.contentsObjId;Re(n,!0),$("<</Type /Page"),$("/Parent "+e.rootDictionaryObjId+" 0 R"),$("/Resources "+e.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&$("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&$("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&$("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&$("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&$("/UserUnit "+e.userUnit),Se.publish("putPage",{objId:n,pageContext:Ee[t],pageNumber:t,page:r}),$("/Contents "+i+" 0 R"),$(">>"),$("endobj");var a=r.join("\n");return m===y.ADVANCED&&(a+="\nQ"),Re(i,!0),ze({data:a,filters:Ve(),objectId:i}),$("endobj"),n},Ge=A.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=Be;e++)Ee[e].objId=Fe(),Ee[e].contentsObjId=Fe();for(e=1;e<=Be;e++)r.push(qe({number:e,data:G[e],objId:Ee[e].objId,contentsObjId:Ee[e].contentsObjId,mediaBox:Ee[e].mediaBox,cropBox:Ee[e].cropBox,bleedBox:Ee[e].bleedBox,trimBox:Ee[e].trimBox,artBox:Ee[e].artBox,userUnit:Ee[e].userUnit,rootDictionaryObjId:je,resourceDictionaryObjId:Qe}));Re(je,!0),$("<</Type /Pages");var n="/Kids [";for(t=0;t<Be;t++)n+=r[t]+" 0 R ";$(n+"]"),$("/Count "+Be),$(">>"),$("endobj"),Se.publish("postPutPages")},We=function(e){Se.publish("putFont",{font:e,out:$,newObject:Ue,putStream:ze}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ue(),$("<<"),$("/Type /Font"),$("/BaseFont /"+$r(e.postScriptName)),$("/Subtype /Type1"),"string"==typeof e.encoding&&$("/Encoding /"+e.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Je=function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===f||!0===f&&h.hasOwnProperty(e))&&We(ge[e])},Xe=function(e){e.objectNumber=Ue();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");ze({data:r,additionalKeyValues:t,objectId:e.objectNumber}),$("endobj")},Ye=function(){for(var e in Ie)Ie.hasOwnProperty(e)&&Xe(Ie[e])},$e=function(e,t){var r,n=[],i=1/(t-1);for(r=0;r<1;r+=i)n.push(r);if(n.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var s="",u=0,c=0;c<n.length;c++){for(r=n[c];r>e[u+1].offset;)u++;var l=e[u].offset,f=(r-l)/(e[u+1].offset-l),h=e[u].color,A=e[u+1].color;s+=Q(Math.round((1-f)*h[0]+f*A[0]).toString(16))+Q(Math.round((1-f)*h[1]+f*A[1]).toString(16))+Q(Math.round((1-f)*h[2]+f*A[2]).toString(16))}return s.trim()},Ze=function(e,t){t||(t=21);var r=Ue(),n=$e(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:n,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),$("endobj"),e.objectNumber=Ue(),$("<< /ShadingType "+e.type),$("/ColorSpace /DeviceRGB");var a="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),$(a+="]"),e.matrix&&$("/Matrix ["+e.matrix.toString()+"]"),$("/Function "+r+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},et=function(e,t){var r=Fe(),n=Ue();t.push({resourcesOid:r,objectOid:n}),e.objectNumber=n;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),i.push({key:"XStep",value:k(e.xStep)}),i.push({key:"YStep",value:k(e.yStep)}),i.push({key:"Resources",value:r+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),ze({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),$("endobj")},tt=function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof rn?Ze(be[t]):be[t]instanceof nn&&et(be[t],e))},rt=function(e){for(var t in e.objectNumber=Ue(),$("<<"),e)switch(t){case"opacity":$("/ca "+E(e[t]));break;case"stroke-opacity":$("/CA "+E(e[t]))}$(">>"),$("endobj")},nt=function(){var e;for(e in xe)xe.hasOwnProperty(e)&&rt(xe[e])},it=function(){for(var e in $("/XObject <<"),Ie)Ie.hasOwnProperty(e)&&Ie[e].objectNumber>=0&&$("/"+e+" "+Ie[e].objectNumber+" 0 R");Se.publish("putXobjectDict"),$(">>")},at=function(){Nt.oid=Ue(),$("<<"),$("/Filter /Standard"),$("/V "+Nt.v),$("/R "+Nt.r),$("/U <"+Nt.toHexString(Nt.U)+">"),$("/O <"+Nt.toHexString(Nt.O)+">"),$("/P "+Nt.P),$(">>"),$("endobj")},ot=function(){for(var e in $("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===f||!0===f&&h.hasOwnProperty(e))&&$("/"+e+" "+ge[e].objectNumber+" 0 R");$(">>")},st=function(){if(Object.keys(be).length>0){for(var e in $("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof rn&&be[e].objectNumber>=0&&$("/"+e+" "+be[e].objectNumber+" 0 R");Se.publish("putShadingPatternDict"),$(">>")}},ut=function(e){if(Object.keys(be).length>0){for(var t in $("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof A.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&$("/"+t+" "+be[t].objectNumber+" 0 R");Se.publish("putTilingPatternDict"),$(">>")}},ct=function(){if(Object.keys(xe).length>0){var e;for(e in $("/ExtGState <<"),xe)xe.hasOwnProperty(e)&&xe[e].objectNumber>=0&&$("/"+e+" "+xe[e].objectNumber+" 0 R");Se.publish("putGStateDict"),$(">>")}},lt=function(e){Re(e.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ot(),st(),ut(e.objectOid),ct(),it(),$(">>"),$("endobj")},ft=function(){var e=[];Je(),nt(),Ye(),tt(e),Se.publish("putResources"),e.forEach(lt),lt({resourcesOid:Qe,objectOid:Number.MAX_SAFE_INTEGER}),Se.publish("postPutResources")},ht=function(){Se.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];Re(t.objId,!0),$(t.content),$("endobj")}Se.publish("postPutAdditionalObjects")},At=function(e){ye[e.fontName]=ye[e.fontName]||{},ye[e.fontName][e.fontStyle]=e.id},dt=function(e,t,r,n,i){var a={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:n,isStandardFont:i||!1,metadata:{}};return Se.publish("addFont",{font:a,instance:this}),ge[a.id]=a,At(a),a.id},pt=function(e){for(var t=0,r=te.length;t<r;t++){var n=dt.call(this,e[t][0],e[t][1],e[t][2],te[t][3],!0);!1===f&&(h[n]=!0);var i=e[t][0].split("-");At({id:n,fontName:i[0],fontStyle:i[1]||""})}Se.publish("addFonts",{fonts:ge,dictionary:ye})},vt=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var r="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!Br.console)throw new Error(r);Br.console.error(r,e),Br.alert&&alert(r)}},e.foo.bar=e,e.foo},gt=function(e,t){var r,n,i,a,o,s,u,c,l;if(i=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&ge[he].metadata&&ge[he].metadata[i]&&ge[he].metadata[i].encoding&&(a=ge[he].metadata[i].encoding,!o&&ge[he].encoding&&(o=ge[he].encoding),!o&&a.codePages&&(o=a.codePages[0]),"string"==typeof o&&(o=a[o]),o)){for(u=!1,s=[],r=0,n=e.length;r<n;r++)(c=o[e.charCodeAt(r)])?s.push(String.fromCharCode(c)):s.push(e[r]),s[r].charCodeAt(0)>>8&&(u=!0);e=s.join("")}for(r=e.length;void 0===u&&0!==r;)e.charCodeAt(r-1)>>8&&(u=!0),r--;if(!u)return e;for(s=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((l=(c=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(l),s.push(c-(l<<8))}return String.fromCharCode.apply(void 0,s)},yt=A.__private__.pdfEscape=A.pdfEscape=function(e,t){return gt(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mt=A.__private__.beginPage=function(e){G[++Be]=[],Ee[Be]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},xt(Be),Y(G[D])},bt=function(e,t){var n,a,o;switch(r=t||r,"string"==typeof e&&(n=g(e.toLowerCase()),Array.isArray(n)&&(a=n[0],o=n[1])),Array.isArray(e)&&(a=e[0]*Ae,o=e[1]*Ae),isNaN(a)&&(a=i[0],o=i[1]),(a>14400||o>14400)&&(Sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),o=Math.min(14400,o)),i=[a,o],r.substr(0,1)){case"l":o>a&&(i=[o,a]);break;case"p":a>o&&(i=[o,a])}mt(i),rr(er),$(lr),0!==vr&&$(vr+" J"),0!==gr&&$(gr+" j"),Se.publish("addPage",{pageNumber:Be})},wt=function(e){e>0&&e<=Be&&(G.splice(e,1),Ee.splice(e,1),Be--,D>Be&&(D=Be),this.setPage(D))},xt=function(e){e>0&&e<=Be&&(D=e)},kt=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return G.length-1},_t=function(e,t,r){var n,i=void 0;return r=r||{},e=void 0!==e?e:ge[he].fontName,t=void 0!==t?t:ge[he].fontStyle,n=e.toLowerCase(),void 0!==ye[n]&&void 0!==ye[n][t]?i=ye[n][t]:void 0!==ye[e]&&void 0!==ye[e][t]?i=ye[e][t]:!1===r.disableWarning&&Sr.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||r.noFallback||null==(i=ye.times[t])&&(i=ye.times.normal),i},Bt=A.__private__.putInfo=function(){var e=Ue(),t=function(e){return e};for(var r in null!==l&&(t=Nt.encryptor(e,0)),$("<<"),$("/Producer ("+yt(t("jsPDF "+an.version))+")"),fe)fe.hasOwnProperty(r)&&fe[r]&&$("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+yt(t(fe[r]))+")");$("/CreationDate ("+yt(t(T))+")"),$(">>"),$("endobj")},Et=A.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||je;switch(Ue(),$("<<"),$("/Type /Catalog"),$("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+ne;"%"===r.substr(r.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&$("/OpenAction [3 0 R /XYZ null null "+E(ne)+"]")}switch(ue||(ue="continuous"),ue){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}oe&&$("/PageMode /"+oe),Se.publish("putCatalog"),$(">>"),$("endobj")},St=A.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(H+1)),$("/Root "+H+" 0 R"),$("/Info "+(H-1)+" 0 R"),null!==l&&$("/Encrypt "+Nt.oid+" 0 R"),$("/ID [ <"+O+"> <"+O+"> ]"),$(">>")},Ct=A.__private__.putHeader=function(){$("%PDF-"+d),$("%")},It=A.__private__.putXRef=function(){var e="0000000000";$("xref"),$("0 "+(H+1)),$("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof K[t]?$((e+K[t]()).slice(-10)+" 00000 n "):void 0!==K[t]?$((e+K[t]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},Pt=A.__private__.buildDocument=function(){X(),Y(V),Se.publish("buildDocument"),Ct(),Ge(),ht(),ft(),null!==l&&at(),Bt(),Et();var e=z;return It(),St(),$("startxref"),$(""+e),$("%%EOF"),Y(G[D]),V.join("\n")},Tt=A.__private__.getBlob=function(e){return new Blob([ee(e)],{type:"application/pdf"})},Ot=A.output=A.__private__.output=vt((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Pt();case"save":A.save(t.filename);break;case"arraybuffer":return ee(Pt());case"blob":return Tt(Pt());case"bloburi":case"bloburl":if(void 0!==Br.URL&&"function"==typeof Br.URL.createObjectURL)return Br.URL&&Br.URL.createObjectURL(Tt(Pt()))||void 0;Sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",n=Pt();try{r=Or(n)}catch(e){r=Or(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Br)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,a="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",s=Br.open();return null!==s&&s.document.write(o),s}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Br)){var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Br.open();if(null!==c){c.document.write(u);var l=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(l.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Br))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=Br.open();if(null!==h&&(h.document.write(f),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return Br.document.location.href=this.output("datauristring",t);default:return null}})),Lt=function(e){return!0===Array.isArray(Ce)&&Ce.indexOf(e)>-1};switch(n){case"pt":Ae=1;break;case"mm":Ae=72/25.4;break;case"cm":Ae=72/2.54;break;case"in":Ae=72;break;case"px":Ae=1==Lt("px_scaling")?.75:96/72;break;case"pc":case"em":Ae=12;break;case"ex":Ae=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);Ae=n}var Nt=null;F(),N();var Mt=function(e){return null!==l?Nt.encryptor(e,0):function(e){return e}},Ut=A.__private__.getPageInfo=A.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ee[e].objId,pageNumber:e,pageContext:Ee[e]}},Rt=A.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ee)if(Ee[t].objId===e)break;return Ut(t)},Dt=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:Ee[D].objId,pageNumber:D,pageContext:Ee[D]}};A.addPage=function(){return bt.apply(this,arguments),this},A.setPage=function(){return xt.apply(this,arguments),Y.call(this,G[D]),this},A.insertPage=function(e){return this.addPage(),this.movePage(D,e),this},A.movePage=function(e,t){var r,n;if(e>t){r=G[e],n=Ee[e];for(var i=e;i>t;i--)G[i]=G[i-1],Ee[i]=Ee[i-1];G[t]=r,Ee[t]=n,this.setPage(t)}else if(e<t){r=G[e],n=Ee[e];for(var a=e;a<t;a++)G[a]=G[a+1],Ee[a]=Ee[a+1];G[t]=r,Ee[t]=n,this.setPage(t)}return this},A.deletePage=function(){return wt.apply(this,arguments),this},A.__private__.text=A.text=function(e,t,r,n,i){var a,o,s,u,c,l,f,A,d,p=(n=n||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var v=r;r=t,t=e,e=v}if(arguments[3]instanceof Oe==0?(s=arguments[4],u=arguments[5],"object"===Ft(f=arguments[3])&&null!==f||("string"==typeof s&&(u=s,s=null),"string"==typeof f&&(u=f,f=null),"number"==typeof f&&(s=f,f=null),n={flags:f,angle:s,align:u})):(_("The transform parameter of text() with a Matrix value"),d=i),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var g="",b=!1,w="number"==typeof n.lineHeightFactor?n.lineHeightFactor:Zt,x=p.internal.scaleFactor;function B(e){return e=e.split("\t").join(Array(n.TabLen||9).join(" ")),yt(e,f)}function E(e){for(var t,r=e.concat(),n=[],i=r.length;i--;)"string"==typeof(t=r.shift())?n.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?n.push(t[0]):n.push([t[0],t[1],t[2]]);return n}function S(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var n,i,a=e.concat(),o=[],s=a.length;s--;)"string"==typeof(n=a.shift())?o.push(t(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(i=t(n[0],n[1],n[2]),o.push([i[0],i[1],i[2]]));r=o}return r}var I=!1,P=!0;if("string"==typeof e)I=!0;else if(Array.isArray(e)){var T=e.concat();o=[];for(var O,L=T.length;L--;)("string"!=typeof(O=T.shift())||Array.isArray(O)&&"string"!=typeof O[0])&&(P=!1);I=P}if(!1===I)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var N=re/p.internal.scaleFactor,M=N*(w-1);switch(n.baseline){case"bottom":r-=M;break;case"top":r+=N-M;break;case"hanging":r+=N-2*M;break;case"middle":r+=N/2-M}if((l=n.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(p.splitTextToSize(t,l))}),[]))),a={text:e,x:t,y:r,options:n,mutex:{pdfEscape:yt,activeFontKey:he,fonts:ge,activeFontSize:re}},Se.publish("preProcessText",a),e=a.text,s=(n=a.options).angle,d instanceof Oe==0&&s&&"number"==typeof s){s*=Math.PI/180,0===n.rotationDirection&&(s=-s),m===y.ADVANCED&&(s=-s);var U=Math.cos(s),F=Math.sin(s);d=new Oe(U,F,-F,U,0,0)}else s&&s instanceof Oe&&(d=s);m!==y.ADVANCED||d||(d=Ne),void 0!==(c=n.charSpace||dr)&&(g+=k(C(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(A=n.horizontalScale)&&(g+=k(100*A)+" Tz\n"),n.lang;var R=-1,D=void 0!==n.renderingMode?n.renderingMode:n.stroke,j=p.internal.getCurrentPageInfo().pageContext;switch(D){case 0:case!1:case"fill":R=0;break;case 1:case!0:case"stroke":R=1;break;case 2:case"fillThenStroke":R=2;break;case 3:case"invisible":R=3;break;case 4:case"fillAndAddForClipping":R=4;break;case 5:case"strokeAndAddPathForClipping":R=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":R=6;break;case 7:case"addToPathForClipping":R=7}var Q=void 0!==j.usedRenderingMode?j.usedRenderingMode:-1;-1!==R?g+=R+" Tr\n":-1!==Q&&(g+="0 Tr\n"),-1!==R&&(j.usedRenderingMode=R),u=n.align||"left";var H,K=re*w,V=p.internal.pageSize.getWidth(),z=ge[he];c=n.charSpace||dr,l=n.maxWidth||0,f=Object.assign({autoencode:!0,noBOM:!0},n.flags);var q=[];if("[object Array]"===Object.prototype.toString.call(e)){var G;o=E(e),"left"!==u&&(H=o.map((function(e){return p.getStringUnitWidth(e,{font:z,charSpace:c,fontSize:re,doKerning:!1})*re/x})));var W,J=0;if("right"===u){t-=H[0],e=[],L=o.length;for(var X=0;X<L;X++)0===X?(W=or(t),G=sr(r)):(W=C(J-H[X]),G=-K),e.push([o[X],W,G]),J=H[X]}else if("center"===u){t-=H[0]/2,e=[],L=o.length;for(var Y=0;Y<L;Y++)0===Y?(W=or(t),G=sr(r)):(W=C((J-H[Y])/2),G=-K),e.push([o[Y],W,G]),J=H[Y]}else if("left"===u){e=[],L=o.length;for(var Z=0;Z<L;Z++)e.push(o[Z])}else{if("justify"!==u)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],L=o.length,l=0!==l?l:V;for(var ee=0;ee<L;ee++)G=0===ee?sr(r):-K,W=0===ee?or(t):0,ee<L-1?q.push(k(C((l-H[ee])/(o[ee].split(" ").length-1)))):q.push(0),e.push([o[ee],W,G])}}var te="boolean"==typeof n.R2L?n.R2L:ae;!0===te&&(e=S(e,(function(e,t,r){return[e.split("").reverse().join(""),t,r]}))),a={text:e,x:t,y:r,options:n,mutex:{pdfEscape:yt,activeFontKey:he,fonts:ge,activeFontSize:re}},Se.publish("postProcessText",a),e=a.text,b=a.mutex.isHex||!1;var ne=ge[he].encoding;"WinAnsiEncoding"!==ne&&"StandardEncoding"!==ne||(e=S(e,(function(e,t,r){return[B(e),t,r]}))),o=E(e),e=[];for(var ie,oe,se,ue=0,ce=1,le=Array.isArray(o[0])?ce:ue,fe="",Ae=function(e,t,r){var i="";return r instanceof Oe?(r="number"==typeof n.angle?Le(r,new Oe(1,0,0,1,e,t)):Le(new Oe(1,0,0,1,e,t),r),m===y.ADVANCED&&(r=Le(new Oe(1,0,0,-1,0,0),r)),i=r.join(" ")+" Tm\n"):i=k(e)+" "+k(t)+" Td\n",i},de=0;de<o.length;de++){switch(fe="",le){case ce:se=(b?"<":"(")+o[de][0]+(b?">":")"),ie=parseFloat(o[de][1]),oe=parseFloat(o[de][2]);break;case ue:se=(b?"<":"(")+o[de]+(b?">":")"),ie=or(t),oe=sr(r)}void 0!==q&&void 0!==q[de]&&(fe=q[de]+" Tw\n"),0===de?e.push(fe+Ae(ie,oe,d)+se):le===ue?e.push(fe+se):le===ce&&e.push(fe+Ae(ie,oe,d)+se)}e=le===ue?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var pe="BT\n/";return pe+=he+" "+re+" Tf\n",pe+=k(re*w)+" TL\n",pe+=hr+"\n",pe+=g,pe+=e,$(pe+="ET"),h[he]=!0,p};var jt=A.__private__.clip=A.clip=function(e){return $("evenodd"===e?"W*":"W"),this};A.clipEvenOdd=function(){return jt("evenodd")},A.__private__.discardPath=A.discardPath=function(){return $("n"),this};var Qt=A.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(e){return Qt(e)&&(c=e),this};var Ht=A.__private__.getStyle=A.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Kt=A.close=function(){return $("h"),this};A.stroke=function(){return $("S"),this},A.fill=function(e){return Vt("f",e),this},A.fillEvenOdd=function(e){return Vt("f*",e),this},A.fillStroke=function(e){return Vt("B",e),this},A.fillStrokeEvenOdd=function(e){return Vt("B*",e),this};var Vt=function(e,t){"object"===Ft(t)?Gt(t,e):$(e)},zt=function(e){null===e||m===y.ADVANCED&&void 0===e||(e=Ht(e),$(e))};function qt(e,t,r,n,i){var a=new nn(t||this.boundingBox,r||this.xStep,n||this.yStep,this.gState,i||this.matrix);a.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Me(o,a),a}var Gt=function(e,t){var r=we[e.key],n=be[r];if(n instanceof rn)$("q"),$(Wt(t)),n.gState&&A.setGState(n.gState),$(e.matrix.toString()+" cm"),$("/"+r+" sh"),$("Q");else if(n instanceof nn){var i=new Oe(1,0,0,-1,0,Ir());e.matrix&&(i=i.multiply(e.matrix||Ne),r=qt.call(n,e.key,e.boundingBox,e.xStep,e.yStep,i).id),$("q"),$("/Pattern cs"),$("/"+r+" scn"),n.gState&&A.setGState(n.gState),$(t),$("Q")}},Wt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Jt=A.moveTo=function(e,t){return $(k(C(e))+" "+k(P(t))+" m"),this},Xt=A.lineTo=function(e,t){return $(k(C(e))+" "+k(P(t))+" l"),this},Yt=A.curveTo=function(e,t,r,n,i,a){return $([k(C(e)),k(P(t)),k(C(r)),k(P(n)),k(C(i)),k(P(a)),"c"].join(" ")),this};A.__private__.line=A.line=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Qt(i))throw new Error("Invalid arguments passed to jsPDF.line");return m===y.COMPAT?this.lines([[r-e,n-t]],e,t,[1,1],i||"S"):this.lines([[r-e,n-t]],e,t,[1,1]).stroke()},A.__private__.lines=A.lines=function(e,t,r,n,i,a){var o,s,u,c,l,f,h,A,d,p,v,g;if("number"==typeof e&&(g=r,r=t,t=e,e=g),n=n||[1,1],a=a||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(n)||!Qt(i)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(Jt(t,r),o=n[0],s=n[1],c=e.length,p=t,v=r,u=0;u<c;u++)2===(l=e[u]).length?(p=l[0]*o+p,v=l[1]*s+v,Xt(p,v)):(f=l[0]*o+p,h=l[1]*s+v,A=l[2]*o+p,d=l[3]*s+v,p=l[4]*o+p,v=l[5]*s+v,Yt(f,h,A,d,p,v));return a&&Kt(),zt(i),this},A.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.c;switch(r.op){case"m":Jt(n[0],n[1]);break;case"l":Xt(n[0],n[1]);break;case"c":Yt.apply(this,n);break;case"h":Kt()}}return this},A.__private__.rect=A.rect=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Qt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return m===y.COMPAT&&(n=-n),$([k(C(e)),k(P(t)),k(C(r)),k(C(n)),"re"].join(" ")),zt(i),this},A.__private__.triangle=A.triangle=function(e,t,r,n,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(a)||!Qt(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,n-t],[i-r,a-n],[e-i,t-a]],e,t,[1,1],o,!0),this},A.__private__.roundedRect=A.roundedRect=function(e,t,r,n,i,a,o){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(a)||!Qt(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*r),a=Math.min(a,.5*n),this.lines([[r-2*i,0],[i*s,0,i,a-a*s,i,a],[0,n-2*a],[0,a*s,-i*s,a,-i,a],[2*i-r,0],[-i*s,0,-i,-a*s,-i,-a],[0,2*a-n],[0,-a*s,i*s,-a,i,-a]],e+i,t,[1,1],o,!0),this},A.__private__.ellipse=A.ellipse=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Qt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*r,o=4/3*(Math.SQRT2-1)*n;return Jt(e+r,t),Yt(e+r,t-o,e+a,t-n,e,t-n),Yt(e-a,t-n,e-r,t-o,e-r,t),Yt(e-r,t+o,e-a,t+n,e,t+n),Yt(e+a,t+n,e+r,t+o,e+r,t),zt(i),this},A.__private__.circle=A.circle=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||!Qt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,n)},A.setFont=function(e,t,r){return r&&(t=x(t,r)),he=_t(e,t,{disableWarning:!1}),this};var $t=A.__private__.getFont=A.getFont=function(){return ge[_t.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var e,t,r={};for(e in ye)if(ye.hasOwnProperty(e))for(t in r[e]=[],ye[e])ye[e].hasOwnProperty(t)&&r[e].push(t);return r},A.addFont=function(e,t,r,n,i){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(r=x(r,n)),i=i||"Identity-H",dt.call(this,e,t,r,i)};var Zt,er=e.lineWidth||.200025,tr=A.__private__.getLineWidth=A.getLineWidth=function(){return er},rr=A.__private__.setLineWidth=A.setLineWidth=function(e){return er=e,$(k(C(e))+" w"),this};A.__private__.setLineDash=an.API.setLineDash=an.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return k(C(e))})).join(" "),t=k(C(t)),$("["+e+"] "+t+" d"),this};var nr=A.__private__.getLineHeight=A.getLineHeight=function(){return re*Zt};A.__private__.getLineHeight=A.getLineHeight=function(){return re*Zt};var ir=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Zt=e),this},ar=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Zt};ir(e.lineHeight);var or=A.__private__.getHorizontalCoordinate=function(e){return C(e)},sr=A.__private__.getVerticalCoordinate=function(e){return m===y.ADVANCED?e:Ee[D].mediaBox.topRightY-Ee[D].mediaBox.bottomLeftY-C(e)},ur=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(e){return k(or(e))},cr=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(e){return k(sr(e))},lr=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return He(lr)},A.__private__.setStrokeColor=A.setDrawColor=function(e,t,r,n){return lr=Ke({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"draw",precision:2}),$(lr),this};var fr=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return He(fr)},A.__private__.setFillColor=A.setFillColor=function(e,t,r,n){return fr=Ke({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"fill",precision:2}),$(fr),this};var hr=e.textColor||"0 g",Ar=A.__private__.getTextColor=A.getTextColor=function(){return He(hr)};A.__private__.setTextColor=A.setTextColor=function(e,t,r,n){return hr=Ke({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"text",precision:3}),this};var dr=e.charSpace,pr=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(dr||0)};A.__private__.setCharSpace=A.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dr=e,this};var vr=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(e){var t=A.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vr=t,$(t+" J"),this};var gr=0;A.__private__.setLineJoin=A.setLineJoin=function(e){var t=A.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gr=t,$(t+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(k(C(e))+" M"),this},A.GState=en,A.setGState=function(e){(e="string"==typeof e?xe[ke[e]]:yr(null,e)).equals(_e)||($("/"+e.id+" gs"),_e=e)};var yr=function(e,t){if(!e||!ke[e]){var r=!1;for(var n in xe)if(xe.hasOwnProperty(n)&&xe[n].equals(t)){r=!0;break}if(r)t=xe[n];else{var i="GS"+(Object.keys(xe).length+1).toString(10);xe[i]=t,t.id=i}return e&&(ke[e]=t.id),Se.publish("addGState",t),t}};A.addGState=function(e,t){return yr(e,t),this},A.saveGraphicsState=function(){return $("q"),me.push({key:he,size:re,color:hr}),this},A.restoreGraphicsState=function(){$("Q");var e=me.pop();return he=e.key,re=e.size,hr=e.color,_e=null,this},A.setCurrentTransformationMatrix=function(e){return $(e.toString()+" cm"),this},A.comment=function(e){return $("#"+e),this};var mr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},br=function(e,t,r,n){mr.call(this,e,t),this.type="rect";var i=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},wr=function(){this.page=Be,this.currentPage=D,this.pages=G.slice(0),this.pagesContext=Ee.slice(0),this.x=de,this.y=pe,this.matrix=ve,this.width=Er(D),this.height=Ir(D),this.outputDestination=J,this.id="",this.objectNumber=-1};wr.prototype.restore=function(){Be=this.page,D=this.currentPage,Ee=this.pagesContext,G=this.pages,de=this.x,pe=this.y,ve=this.matrix,Cr(D,this.width),Pr(D,this.height),J=this.outputDestination};var xr=function(e,t,r,n,i){Te.push(new wr),Be=D=0,G=[],de=e,pe=t,ve=i,mt([r,n])},kr=function(e){if(Pe[e])Te.pop().restore();else{var t=new wr,r="Xo"+(Object.keys(Ie).length+1).toString(10);t.id=r,Pe[e]=r,Ie[r]=t,Se.publish("addFormObject",t),Te.pop().restore()}};for(var _r in A.beginFormObject=function(e,t,r,n,i){return xr(e,t,r,n,i),this},A.endFormObject=function(e){return kr(e),this},A.doFormObject=function(e,t){var r=Ie[Pe[e]];return $("q"),$(t.toString()+" cm"),$("/"+r.id+" Do"),$("Q"),this},A.getFormObject=function(e){var t=Ie[Pe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},A.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Lr(Tt(Pt()),e),"function"==typeof Lr.unload&&Br.setTimeout&&setTimeout(Lr.unload,911),this):new Promise((function(t,r){try{var n=Lr(Tt(Pt()),e);"function"==typeof Lr.unload&&Br.setTimeout&&setTimeout(Lr.unload,911),t(n)}catch(e){r(e.message)}}))},an.API)an.API.hasOwnProperty(_r)&&("events"===_r&&an.API.events.length?function(e,t){var r,n,i;for(i=t.length-1;-1!==i;i--)r=t[i][0],n=t[i][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(Se,an.API.events):A[_r]=an.API[_r]);var Er=A.getPageWidth=function(e){return(Ee[e=e||D].mediaBox.topRightX-Ee[e].mediaBox.bottomLeftX)/Ae},Cr=A.setPageWidth=function(e,t){Ee[e].mediaBox.topRightX=t*Ae+Ee[e].mediaBox.bottomLeftX},Ir=A.getPageHeight=function(e){return(Ee[e=e||D].mediaBox.topRightY-Ee[e].mediaBox.bottomLeftY)/Ae},Pr=A.setPageHeight=function(e,t){Ee[e].mediaBox.topRightY=t*Ae+Ee[e].mediaBox.bottomLeftY};return A.internal={pdfEscape:yt,getStyle:Ht,getFont:$t,getFontSize:ie,getCharSpace:pr,getTextColor:Ar,getLineHeight:nr,getLineHeightFactor:ar,getLineWidth:tr,write:Z,getHorizontalCoordinate:or,getVerticalCoordinate:sr,getCoordinateString:ur,getVerticalCoordinateString:cr,collections:{},newObject:Ue,newAdditionalObject:De,newObjectDeferred:Fe,newObjectDeferredBegin:Re,getFilters:Ve,putStream:ze,events:Se,scaleFactor:Ae,pageSize:{getWidth:function(){return Er(D)},setWidth:function(e){Cr(D,e)},getHeight:function(){return Ir(D)},setHeight:function(e){Pr(D,e)}},encryptionOptions:l,encryption:Nt,getEncryptor:Mt,output:Ot,getNumberOfPages:kt,pages:G,out:$,f2:E,f3:S,getPageInfo:Ut,getPageInfoByObjId:Rt,getCurrentPageInfo:Dt,getPDFVersion:p,Point:mr,Rectangle:br,Matrix:Oe,hasHotfix:Lt},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return Er(D)},set:function(e){Cr(D,e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return Ir(D)},set:function(e){Pr(D,e)},enumerable:!0,configurable:!0}),pt.call(A,te),he="F1",bt(i,r),Se.publish("initialized"),A}Yr.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Yr.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Yr.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Yr.prototype.processOwnerPassword=function(e,t){return Jr(qr(t).substr(0,5),e)},Yr.prototype.encryptor=function(e,t){var r=qr(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Jr(r,e)}},en.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ft(e)!==Ft(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return 0===n},an.API={events:[]},an.version="2.5.1";var on=an.API,sn=1,un=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cn=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ln=function(e){return e.toFixed(2)},fn=function(e){return e.toFixed(5)};on.__acroform__={};var hn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},An=function(e){return e*sn},dn=function(e){var t=new Tn,r=zn.internal.getHeight(e)||0,n=zn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ln(n)),Number(ln(r))],t},pn=on.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},vn=on.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},gn=on.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},yn=on.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gn(e,t-1)},mn=on.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pn(e,t-1)},bn=on.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return vn(e,t-1)},wn=on.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],u={};return u.lowerLeft_X=r(i)||0,u.lowerLeft_Y=n(a+s)||0,u.upperRight_X=r(i+o)||0,u.upperRight_Y=n(a)||0,[Number(ln(u.lowerLeft_X)),Number(ln(u.lowerLeft_Y)),Number(ln(u.upperRight_X)),Number(ln(u.upperRight_Y))]},xn=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=kn(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+ln(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=dn(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},kn=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var a=r,o=zn.internal.getHeight(e)||0;o=o<0?-o:o;var s=zn.internal.getWidth(e)||0;s=s<0?-s:s;var u=function(t,r,n){if(t+1<i.length){var a=r+" "+i[t+1][0];return _n(a,e,n).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var c,l,f=_n("3",e,a).height,h=e.multiline?o-a:(o-f)/2,A=h+=2,d=0,p=0,v=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+_n(t,e,a=12).width+", FieldWidth:"+s+"\n";break}for(var g="",y=0,m=0;m<i.length;m++)if(i.hasOwnProperty(m)){var b=!1;if(1!==i[m].length&&v!==i[m].length-1){if((f+2)*(y+2)+2>o)continue e;g+=i[m][v],b=!0,p=m,m--}else{g=" "==(g+=i[m][v]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var w=parseInt(m),x=u(w,g,a),k=m>=i.length-1;if(x&&!k){g+=" ",v=0;continue}if(x||k){if(k)p=w;else if(e.multiline&&(f+2)*(y+2)+2>o)continue e}else{if(!e.multiline)continue e;if((f+2)*(y+2)+2>o)continue e;p=w}}for(var _="",B=d;B<=p;B++){var E=i[B];if(e.multiline){if(B===p){_+=E[v]+" ",v=(v+1)%E.length;continue}if(B===d){_+=E[E.length-1]+" ";continue}}_+=E[0]+" "}switch(_=" "==_.substr(_.length-1)?_.substr(0,_.length-1):_,l=_n(_,e,a).width,e.textAlign){case"right":c=s-l-2;break;case"center":c=(s-l)/2;break;default:c=2}t+=ln(c)+" "+ln(A)+" Td\n",t+="("+un(_)+") Tj\n",t+=-ln(c)+" 0 Td\n",A=-(a+2),l=0,d=b?p:p+1,y++,g=""}break}return n.text=t,n.fontSize=a,n},_n=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Bn={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},En=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===r.type&&e.object===r.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Sn=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Ln.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Bn)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sn=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new On,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.objId=void 0,n.hasAnnotation&&En(n,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var r=!e;for(var n in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(n)){var i=e[n],a=[],o=i.Rect;if(i.Rect&&(i.Rect=wn(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=zn.createDefaultAppearanceStream(i),"object"===Ft(i)&&"function"==typeof i.getKeyValueListForStream&&(a=i.getKeyValueListForStream()),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var s=xn(i);a.push({key:"AP",value:"<</N "+s+">>"}),t.internal.acroformPlugin.xForms.push(s)}if(i.appearanceStreamContent){var u="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var l=i.appearanceStreamContent[c];if(u+="/"+c+" ",u+="<<",Object.keys(l).length>=1||Array.isArray(l)){for(var n in l)if(l.hasOwnProperty(n)){var f=l[n];"function"==typeof f&&(f=f.call(t,i)),u+="/"+n+" "+f+" ",t.internal.acroformPlugin.xForms.indexOf(f)>=0||t.internal.acroformPlugin.xForms.push(f)}}else"function"==typeof(f=l)&&(f=f.call(t,i)),u+="/"+n+" "+f,t.internal.acroformPlugin.xForms.indexOf(f)>=0||t.internal.acroformPlugin.xForms.push(f);u+=">>"}a.push({key:"AP",value:"<<\n"+u+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:i.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===Ft(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[n]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},Cn=on.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(e){return e};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(0!==a&&(i+=" "),Ft(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&r&&(n=r.internal.getEncryptor(t)),i+="("+un(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},In=function(e,t,r){var n=function(e){return e};return void 0!==t&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+un(n(e))+")"},Pn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pn.prototype.toString=function(){return this.objId+" 0 R"},Pn.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Pn.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:Cn(i,this.objId,this.scope)}):i instanceof Pn?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:n,value:i}))}return e};var Tn=function(){Pn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};hn(Tn,Pn);var On=function(){Pn.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+un(t(e))+")"}},set:function(t){e=t}})};hn(On,Pn);var Ln=function e(){Pn.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(t,3))},set:function(e){!0===Boolean(e)?this.F=mn(t,3):this.F=bn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(e){n=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(e){n[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(e){n[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(e){n[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(e){n[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Qn)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+un(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/sn:c},set:function(e){c=e}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Qn||this instanceof Kn))return In(f,this.objId,this.scope)},set:function(e){e=e.toString(),f=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Rn==0?In(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Rn==0?"("===e.substr(0,1)?cn(e.substr(1,e.length-2)):cn(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rn==1?cn(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Rn==1?"/"+e:e}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Rn==0?In(A,this.objId,this.scope):A},set:function(e){e=e.toString(),A=this instanceof Rn==0?"("===e.substr(0,1)?cn(e.substr(1,e.length-2)):cn(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rn==1?cn(A.substr(1,A.length-1)):A},set:function(e){e=e.toString(),A=this instanceof Rn==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(d)return d},set:function(e){d=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,1):this.Ff=bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,2):this.Ff=bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,3):this.Ff=bn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==v)return v},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');v=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(v){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};hn(Ln,Pn);var Nn=function(){Ln.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Cn(t,this.objId,this.scope)},set:function(e){var r,n;n=[],"string"==typeof(r=e)&&(n=function(e,t,r){r||(r=1);for(var n,i=[];n=t.exec(e);)i.push(n[r]);return i}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,18):this.Ff=bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=mn(this.Ff,19):this.Ff=bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=mn(this.Ff,20),t.sort()):this.Ff=bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,22):this.Ff=bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,27):this.Ff=bn(this.Ff,27)}}),this.hasAppearanceStream=!1};hn(Nn,Ln);var Mn=function(){Nn.call(this),this.fontName="helvetica",this.combo=!1};hn(Mn,Nn);var Un=function(){Mn.call(this),this.combo=!0};hn(Un,Mn);var Fn=function(){Un.call(this),this.edit=!0};hn(Fn,Un);var Rn=function(){Ln.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,15):this.Ff=bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,16):this.Ff=bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,17):this.Ff=bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+un(e(t[r]))+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===Ft(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};hn(Rn,Ln);var Dn=function(){Rn.call(this),this.pushButton=!0};hn(Dn,Rn);var jn=function(){Rn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};hn(jn,Rn);var Qn=function(){var e,t;Ln.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),n)r.push("/"+t+" ("+un(e(n[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===Ft(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hn(Qn,Ln),jn.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},jn.prototype.createOption=function(e){var t=new Qn;return t.Parent=this,t.optionName=e,this.Kids.push(t),qn.call(this.scope,t),t};var Hn=function(){Rn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zn.CheckBox.createAppearanceStream()};hn(Hn,Rn);var Kn=function(){Ln.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,13):this.Ff=bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,21):this.Ff=bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,23):this.Ff=bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,24):this.Ff=bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,25):this.Ff=bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,26):this.Ff=bn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hn(Kn,Ln);var Vn=function(){Kn.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(yn(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=mn(this.Ff,14):this.Ff=bn(this.Ff,14)}}),this.password=!0};hn(Vn,Kn);var zn={CheckBox:{createAppearanceStream:function(){return{N:{On:zn.CheckBox.YesNormal},D:{On:zn.CheckBox.YesPushDown,Off:zn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=dn(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=kn(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ln(zn.internal.getWidth(e))+" "+ln(zn.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ln(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=dn(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=zn.internal.getHeight(e),o=zn.internal.getWidth(e),s=kn(e,e.caption);return i.push("1 g"),i.push("0 0 "+ln(o)+" "+ln(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ln(o-1)+" "+ln(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ln(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=dn(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ln(zn.internal.getWidth(e))+" "+ln(zn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:zn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=zn.RadioButton.Circle.YesNormal,t.D[e]=zn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=dn(e);t.scope=e.scope;var r=[],n=zn.internal.getWidth(e)<=zn.internal.getHeight(e)?zn.internal.getWidth(e)/4:zn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=zn.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+fn(zn.internal.getWidth(e)/2)+" "+fn(zn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=dn(e);t.scope=e.scope;var r=[],n=zn.internal.getWidth(e)<=zn.internal.getHeight(e)?zn.internal.getWidth(e)/4:zn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*zn.internal.Bezier_C).toFixed(5)),o=Number((n*zn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fn(zn.internal.getWidth(e)/2)+" "+fn(zn.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+fn(zn.internal.getWidth(e)/2)+" "+fn(zn.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=dn(e);t.scope=e.scope;var r=[],n=zn.internal.getWidth(e)<=zn.internal.getHeight(e)?zn.internal.getWidth(e)/4:zn.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*zn.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fn(zn.internal.getWidth(e)/2)+" "+fn(zn.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:zn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=zn.RadioButton.Cross.YesNormal,t.D[e]=zn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=dn(e);t.scope=e.scope;var r=[],n=zn.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ln(zn.internal.getWidth(e)-2)+" "+ln(zn.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ln(n.x1.x)+" "+ln(n.x1.y)+" m"),r.push(ln(n.x2.x)+" "+ln(n.x2.y)+" l"),r.push(ln(n.x4.x)+" "+ln(n.x4.y)+" m"),r.push(ln(n.x3.x)+" "+ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=dn(e);t.scope=e.scope;var r=zn.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ln(zn.internal.getWidth(e))+" "+ln(zn.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ln(zn.internal.getWidth(e)-2)+" "+ln(zn.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ln(r.x1.x)+" "+ln(r.x1.y)+" m"),n.push(ln(r.x2.x)+" "+ln(r.x2.y)+" l"),n.push(ln(r.x4.x)+" "+ln(r.x4.y)+" m"),n.push(ln(r.x3.x)+" "+ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=dn(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ln(zn.internal.getWidth(e))+" "+ln(zn.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};zn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=zn.internal.getWidth(e),r=zn.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},zn.internal.getWidth=function(e){var t=0;return"object"===Ft(e)&&(t=An(e.Rect[2])),t},zn.internal.getHeight=function(e){var t=0;return"object"===Ft(e)&&(t=An(e.Rect[3])),t};var qn=on.addField=function(e){if(Sn(this,e),!(e instanceof Ln))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function Gn(e){return e.reduce((function(e,t,r){return e[t]=r,e}),{})}on.AcroFormChoiceField=Nn,on.AcroFormListBox=Mn,on.AcroFormComboBox=Un,on.AcroFormEditBox=Fn,on.AcroFormButton=Rn,on.AcroFormPushButton=Dn,on.AcroFormRadioButton=jn,on.AcroFormCheckBox=Hn,on.AcroFormTextField=Kn,on.AcroFormPasswordField=Vn,on.AcroFormAppearance=zn,on.AcroForm={ChoiceField:Nn,ListBox:Mn,ComboBox:Un,EditBox:Fn,Button:Rn,PushButton:Dn,RadioButton:jn,CheckBox:Hn,TextField:Kn,PasswordField:Vn,Appearance:zn},an.AcroForm={ChoiceField:Nn,ListBox:Mn,ComboBox:Un,EditBox:Fn,Button:Rn,PushButton:Dn,RadioButton:jn,CheckBox:Hn,TextField:Kn,PasswordField:Vn,Appearance:zn},an.AcroForm,function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(e,n){var i,a,o,s,u,c=t;if("RGBA"===(n=n||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(u in r)for(o=r[u],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==e[a]){s=!1;break}if(!0===s){c=u;break}}else for(u in r)for(o=r[u],i=0;i<o.length;i+=1){for(s=!0,a=0;a<o[i].length;a+=1)if(void 0!==o[i][a]&&o[i][a]!==e.charCodeAt(a)){s=!1;break}if(!0===s){c=u;break}}return c===t&&n!==t&&(c=n),c},i=function e(t){for(var r=this.internal.write,n=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===v.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===v.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var o="",s=0,u=t.transparency.length;s<u;s++)o+=t.transparency[s]+" "+t.transparency[s]+" ";a.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:c,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var l="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,f={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:l,data:t.sMask};"filter"in t&&(f.filter=t.filter),e.call(this,f)}if(t.colorSpace===v.INDEXED){var h=this.internal.newObject();n({data:_(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},a=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var n in t)r("/I"+(e=t[n]).index,e.objectId,"0","R")},s=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var e=this.internal.collections.addImage_images;return s.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(t){return"function"==typeof e["process"+t.toUpperCase()]},f=function(e){return"object"===Ft(e)&&1===e.nodeType},h=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return Tr(unescape(n).split("base64,").pop());var i=e.loadFile(n,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(r){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return Tr(t.toDataURL(a,1).split("base64,").pop())}},A=function(e){var t=this.internal.collections.addImage_images;if(t)for(var r in t)if(e===t[r].alias)return t[r]},d=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},p=function(e,t,r,n,i,a){var o=d.call(this,r,n,i),s=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,l=u.call(this);if(r=o[0],n=o[1],l[i.index]=i,a){a*=Math.PI/180;var f=Math.cos(a),h=Math.sin(a),A=function(e){return e.toFixed(4)},p=[A(f),A(h),A(-1*h),A(f),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,s(e),c(t+n),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([s(r),"0","0",s(n),"0","0","cm"].join(" "))):this.internal.write([s(r),"0","0",s(n),s(e),c(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(x(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},m=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),r=null;if(2===t.length){var n=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(n)&&(r={mimeType:n[1],charset:n[2],data:t[1]})}return r},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},_=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=x(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,r,n,i,a,o,u,c,l;if("number"==typeof arguments[1]?(r=t,n=arguments[1],i=arguments[2],a=arguments[3],o=arguments[4],u=arguments[5],c=arguments[6],l=arguments[7]):(r=arguments[1],n=arguments[2],i=arguments[3],a=arguments[4],o=arguments[5],u=arguments[6],c=arguments[7],l=arguments[8]),"object"===Ft(e=arguments[0])&&!f(e)&&"imageData"in e){var h=e;e=h.imageData,r=h.format||r||t,n=h.x||n||0,i=h.y||i||0,a=h.w||h.width||a,o=h.h||h.height||o,u=h.alias||u,c=h.compression||c,l=h.rotation||h.angle||l}var A=this.internal.getFilters();if(void 0===c&&-1!==A.indexOf("FlateEncode")&&(c="SLOW"),isNaN(n)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var d=B.call(this,e,r,u,c);return p.call(this,n,i,a,o,d,l),this};var B=function(r,i,a,o){var s,u,d;if("string"==typeof r&&n(r)===t){r=unescape(r);var p=E(r,!1);(""!==p||void 0!==(p=e.loadFile(r,!0)))&&(r=p)}if(f(r)&&(r=h(r,i)),i=n(r,i),!l(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(d=a)||0===d.length)&&(a=function(e){return"string"==typeof e||x(e)?y(e):x(e.data)?y(e.data):null}(r)),(s=A.call(this,a))||(w()&&(r instanceof Uint8Array||"RGBA"===i||(u=r,r=k(r))),s=this["process"+i.toUpperCase()](r,c.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:g.NONE}(o),u)),!s)throw new Error("An unknown error occurred whilst processing the image.");return s},E=e.__addimage__.convertBase64ToBinaryString=function(e,t){var r;t="boolean"!=typeof t||t;var n,i="";if("string"==typeof e){n=null!==(r=b(e))?r.data:e;try{i=Tr(n)}catch(e){if(t)throw m(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(r){var i,a,o="";if(f(r)&&(r=h(r)),"string"==typeof r&&n(r)===t&&(""===(o=E(r,!1))&&(o=e.loadFile(r)||""),r=o),a=n(r),!l(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(!w()||r instanceof Uint8Array||(r=k(r)),!(i=this["process"+a.toUpperCase()](r)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=a,i}}(an.API),
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};an.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var r,n,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),u=e.pageContext.annotations,c=!1,l=0;l<u.length&&!c;l++)switch((r=u[l]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){r=u[f];var h=this.internal.pdfEscape,A=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(d.objId),g=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(v(r.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+s.objId+" 0 R",i+=" /T ("+h(v(g))+") >>",d.content=i;var y=d.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+y,r.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(d.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var m=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(A(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+m+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var b=this.annotations._nameMap[r.options.name];r.options.pageNumber=b.page,r.options.top=b.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var w=o(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+w+" "+r.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,r,n,i){var a=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:o(e),y:s(t),w:o(e+r),h:s(t+n)},options:i,type:"link"})},e.textWithLink=function(e,t,r,n){var i,a,o=this.getTextWidth(e),s=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){a=n.maxWidth;var u=this.splitTextToSize(e,a).length;i=Math.ceil(s*u)}else a=o,i=s;return this.text(e,t,r,n),r+=.2*s,"center"===n.align&&(t-=o/2),"right"===n.align&&(t-=o),this.link(t,r-s,a,i,n),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(an.API),
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},s=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var l=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&a(e)&&4==t[e.charCodeAt(0)].length},f=e.__arabicParser__.resolveLigatures=function(e){var t=0,n=r,i="",a=0;for(t=0;t<e.length;t+=1)void 0!==n[e.charCodeAt(t)]?(a++,"number"==typeof(n=n[e.charCodeAt(t)])&&(i+=String.fromCharCode(n),n=r,a=0),t===e.length-1&&(n=r,i+=e.charAt(t-(a-1)),t-=a-1,a=0)):(n=r,i+=e.charAt(t-a),t-=a,a=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==n[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,r){return o(e)?!1===a(e)?-1:!c(e)||!o(t)&&!o(r)||!o(r)&&s(t)||s(e)&&!o(t)||s(e)&&u(t)||s(e)&&s(t)?0:l(e)&&o(t)&&!s(t)&&o(r)&&c(r)?3:s(e)||!o(r)?1:2:-1},A=function(e){var r=0,n=0,i=0,a="",s="",u="",c=(e=e||"").split("\\s+"),l=[];for(r=0;r<c.length;r+=1){for(l.push(""),n=0;n<c[r].length;n+=1)a=c[r][n],s=c[r][n-1],u=c[r][n+1],o(a)?(i=h(a,s,u),l[r]+=-1!==i?String.fromCharCode(t[a.charCodeAt(0)][i]):a):l[r]+=a;l[r]=f(l[r])}return l.join(" ")},d=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var n=0;for(r=[],n=0;n<t.length;n+=1)Array.isArray(t[n])?r.push([A(t[n][0]),t[n][1],t[n][2]]):r.push([A(t[n])]);e=r}else e=A(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",d])}(an.API),an.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}));return this},
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(e){n=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(an.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){n.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,o=0,s=0,u=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var l=t.maxWidth;l>0?"string"==typeof e?e=this.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(c.splitTextToSize(t,l))}),[])):e=Array.isArray(e)?e:[e];for(var f=0;f<e.length;f++)o<(u=this.getStringUnitWidth(e[f],{font:i})*r)&&(o=u);return 0!==o&&(s=e.length),{w:o/=a,h:Math.max((s*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var i=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,s=this.internal.__cell__.margins||t,u=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+s.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=s.top,c&&u&&(this.printHeaderRow(e.lineNumber,!0),e.y+=u[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,u,c,l){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,h,A,d,p=[],v=[],g=[],y={},m={},b=[],w=[],x=(l=l||{}).autoSize||!1,k=!1!==l.printHeaders,_=l.css&&void 0!==l.css["font-size"]?16*l.css["font-size"]:l.fontSize||12,B=l.margins||Object.assign({width:this.getPageWidth()},t),E="number"==typeof l.padding?l.padding:3,S=l.headerBackgroundColor||"#c8c8c8",C=l.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=S,this.internal.__cell__.headerTextColor=C,this.setFontSize(_),null==c)v=p=Object.keys(u[0]),g=p.map((function(){return"left"}));else if(Array.isArray(c)&&"object"===Ft(c[0]))for(p=c.map((function(e){return e.name})),v=c.map((function(e){return e.prompt||e.name||""})),g=c.map((function(e){return e.align||"left"})),f=0;f<c.length;f+=1)m[c[f].name]=c[f].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(v=p=c,g=p.map((function(){return"left"})));if(x||Array.isArray(c)&&"string"==typeof c[0])for(f=0;f<p.length;f+=1){for(y[d=p[f]]=u.map((function(e){return e[d]})),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=y[d],this.setFont(void 0,"normal"),A=0;A<h.length;A+=1)b.push(this.getTextDimensions(h[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);m[d]=Math.max.apply(null,b)+E+E,b=[]}if(k){var I={};for(f=0;f<p.length;f+=1)I[p[f]]={},I[p[f]].text=v[f],I[p[f]].align=g[f];var P=s.call(this,I,m);w=p.map((function(t){return new a(e,r,m[t],P,I[t].text,void 0,I[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var T=c.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(f=0;f<u.length;f+=1){"rowStart"in l&&l.rowStart instanceof Function&&l.rowStart({row:f,data:u[f]},this);var O=s.call(this,u[f],m);for(A=0;A<p.length;A+=1){var L=u[f][p[A]];"cellStart"in l&&l.cellStart instanceof Function&&l.cellStart({row:f,col:A,data:L},this),o.call(this,new a(e,r,m[p[A]],O,L,f+2,T[p[A]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var s=function(e,t){var r=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(n){var i=e[n];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[n]-r-r)}),this).map((function(e){return this.getLineHeightFactor()*e.length*n/i+r+r}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){n.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var u=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,u.push(i)),i.lineNumber=e;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,i),this.setTextColor(l)}u.length>0&&this.setTableHeaderRow(u),this.setFont(void 0,"normal"),r=!1}}(an.API);var Wn={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Jn=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xn=Gn(Jn),Yn=[100,200,300,400,500,600,700,800,900],$n=Gn(Yn);function Zn(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(e){return Wn[e=e||"normal"]?e:"normal"}(e.style),n=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof Xn[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function ei(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var ti={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ri={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ni(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ii(e){return e.trimLeft()}function ai(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function oi(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var si,ui,ci,li=["times"];!function(e){var t,r,n,i,a,o,s,u,c,l=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new u,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,u=this.internal.Matrix,c=new l}]);var f=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var s=0;Object.defineProperty(this,"lastBreak",{get:function(){return s},set:function(e){s=e}});var u=[];Object.defineProperty(this,"pageBreaks",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof l&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var f=[];Object.defineProperty(this,"ctxStack",{get:function(){return f},set:function(e){f=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var A=null;function d(e,t){if(null===A){var r=function(e){var t=[];return Object.keys(e).forEach((function(r){e[r].forEach((function(e){var n=null;switch(e){case"bold":n={family:r,weight:"bold"};break;case"italic":n={family:r,style:"italic"};break;case"bolditalic":n={family:r,weight:"bold",style:"italic"};break;case"":case"normal":n={family:r}}null!==n&&(n.ref={name:r,style:e},t.push(n))}))})),t}(e.getFontList());A=function(e){for(var t={},r=0;r<e.length;++r){var n=Zn(e[r]),i=n.family,a=n.stretch,o=n.style,s=n.weight;t[i]=t[i]||{},t[i][a]=t[i][a]||{},t[i][a][o]=t[i][a][o]||{},t[i][a][o][s]=n}return t}(r.concat(t))}return A}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){A=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var r=t[1],n=(t[2],t[3]),i=t[4],a=(t[5],t[6]),o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===o?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var s=function(e){var t,r,n=[],i=e.trim();if(""===i)return li;if(i in ri)return[ri[i]];for(;""!==i;){switch(r=null,t=(i=ii(i)).charAt(0)){case'"':case"'":r=ai(i.substring(1),t);break;default:r=oi(i)}if(null===r)return li;if(n.push(r[0]),""!==(i=ii(r[1]))&&","!==i.charAt(0))return li;i=i.replace(/^,/,"")}return n}(a);if(this.fontFaces){var u=function(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},ti,r.genericFontFamilies||{}),a=null,o=null,s=0;s<t.length;++s)if(i[(a=Zn(t[s])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+ni(a)+"' and default family '"+n+"'.");if(o=function(e,t){if(t[e])return t[e];var r=Xn[e],n=r<=Xn.normal?-1:1,i=ei(t,Jn,r,n);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(a.stretch,o),o=function(e,t){if(t[e])return t[e];for(var r=Wn[e],n=0;n<r.length;++n)if(t[r[n]])return t[r[n]];throw new Error("Could not find a matching font-style for "+e)}(a.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=$n[e],n=ei(t,Yn,r,e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ni(a)+"'.");return o}(d(this.pdf,this.fontFaces),s.map((function(e){return{family:e,stretch:"normal",weight:n,style:r}})));this.pdf.setFont(u.ref.name,u.ref.style)}else{var c="";("bold"===n||parseInt(n,10)>=700||"bold"===r)&&(c="bold"),"italic"===r&&(c+="italic"),0===c.length&&(c="normal");for(var l="",f={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<s.length;h++){if(void 0!==this.pdf.internal.getFont(s[h],c,{noFallback:!0,disableWarning:!0})){l=s[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(s[h],"bold",{noFallback:!0,disableWarning:!0}))l=s[h],c="bold";else if(void 0!==this.pdf.internal.getFont(s[h],"normal",{noFallback:!0,disableWarning:!0})){l=s[h],c="normal";break}}if(""===l)for(var A=0;A<s.length;A++)if(f[s[A]]){l=f[s[A]];break}l=""===l?"Times":l,this.pdf.setFont(l,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,F.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,F.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};f.prototype.setLineDash=function(e){this.lineDash=e},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){b.call(this,"fill",!1)},f.prototype.stroke=function(){b.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new o(e,t)},f.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===Ft(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},f.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new o(r.x,r.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},f.prototype.quadraticCurveTo=function(e,t,r,n){if(isNaN(r)||isNaN(n)||isNaN(e)||isNaN(t))throw Sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new o(r,n)),a=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},f.prototype.bezierCurveTo=function(e,t,r,n,i,a){if(isNaN(i)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new o(i,a)),u=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(r,n));this.path.push({type:"bct",x1:u.x,y1:u.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},f.prototype.arc=function(e,t,r,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i))throw Sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new o(e,t));e=s.x,t=s.y;var u=this.ctx.transform.applyToPoint(new o(0,r)),c=this.ctx.transform.applyToPoint(new o(0,0));r=Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2))}Math.abs(i-n)>=2*Math.PI&&(n=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:n,endAngle:i,counterclockwise:a})},f.prototype.arcTo=function(e,t,r,n,i){throw new Error("arcTo not implemented.")},f.prototype.rect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},f.prototype.fillRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,n),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},f.prototype.strokeRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(e,t,r,n),this.stroke())},f.prototype.clearRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,n))},f.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},f.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,r,n,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,n=0,i=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),i=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),i=parseFloat(a[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new Nr(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,n=e.substring(3,4),n+=n):(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),n=parseInt(n,16)}}return{r:t,g:r,b:n,a:i,style:e}},A=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},d=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};f.prototype.fillText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw Sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!A.call(this)){var i=N(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:r,scale:a,angle:i,align:this.textAlign,maxWidth:n})}},f.prototype.strokeText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw Sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){n=isNaN(n)?void 0:n;var i=N(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;C.call(this,{text:e,x:t,y:r,scale:a,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:n})}},f.prototype.measureText=function(e){if("string"!=typeof e)throw Sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,n=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*n/t.internal.scaleFactor,a=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new a({width:i*=Math.round(96*r/72*1e4)/1e4})},f.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new u(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},f.prototype.rotate=function(e){if(isNaN(e))throw Sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new u(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},f.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new u(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},f.prototype.transform=function(e,t,r,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(a))throw Sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new u(e,t,r,n,i,a);this.ctx.transform=this.ctx.transform.multiply(o)},f.prototype.setTransform=function(e,t,r,n,i,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,n=isNaN(n)?1:n,i=isNaN(i)?0:i,a=isNaN(a)?0:a,this.ctx.transform=new u(e,t,r,n,i,a)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(e,t,r,n,i,a,o,c,l){var f=this.pdf.getImageProperties(e),h=1,A=1,d=1,g=1;void 0!==n&&void 0!==c&&(d=c/n,g=l/i,h=f.width/n*c/n,A=f.height/i*l/i),void 0===a&&(a=t,o=r,t=0,r=0),void 0!==n&&void 0===c&&(c=n,l=i),void 0===n&&void 0===c&&(c=f.width,l=f.height);for(var b,x=this.ctx.transform.decompose(),k=N(x.rotate.shx),_=new u,B=(_=(_=(_=_.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new s(a-t*d,o-r*g,n*h,i*A)),E=v.call(this,B),S=[],C=0;C<E.length;C+=1)-1===S.indexOf(E[C])&&S.push(E[C]);if(m(S),this.autoPaging)for(var I=S[0],P=S[S.length-1],T=I;T<P+1;T++){this.pdf.setPage(T);var O=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===T?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],U=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===T?0:M+(T-2)*U;if(0!==this.ctx.clip_path.length){var R=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(b,this.posX+this.margin[3],-F+L+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=R}var D=JSON.parse(JSON.stringify(B));D=y([D],this.posX+this.margin[3],-F+L+this.ctx.prevPageLastElemOffset)[0];var j=(T>I||T<P)&&p.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,U,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",D.x,D.y,D.w,D.h,null,null,k),j&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",B.x,B.y,B.w,B.h,null,null,k)};var v=function(e,t,r){var n=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":n.push(Math.floor((e.y+i)/r)+1);break;case"arc":n.push(Math.floor((e.y+i-e.radius)/r)+1),n.push(Math.floor((e.y+i+e.radius)/r)+1);break;case"qct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);n.push(Math.floor((a.y+i)/r)+1),n.push(Math.floor((a.y+a.h+i)/r)+1);break;case"bct":var o=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);n.push(Math.floor((o.y+i)/r)+1),n.push(Math.floor((o.y+o.h+i)/r)+1);break;case"rect":n.push(Math.floor((e.y+i)/r)+1),n.push(Math.floor((e.y+e.h+i)/r)+1)}for(var s=0;s<n.length;s+=1)for(;this.pdf.internal.getNumberOfPages()<n[s];)g.call(this);return n},g=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,n=this.lineCap,i=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=n,this.lineWidth=i,this.lineJoin=a},y=function(e,t,r){for(var n=0;n<e.length;n++)switch(e[n].type){case"bct":e[n].x2+=t,e[n].y2+=r;case"qct":e[n].x1+=t,e[n].y1+=r;default:e[n].x+=t,e[n].y+=r}return e},m=function(e){return e.sort((function(e,t){return e-t}))},b=function(e,t){for(var r,n,i=this.fillStyle,a=this.strokeStyle,o=this.lineCap,s=this.lineWidth,u=Math.abs(s*this.ctx.transform.scaleX),c=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),f=JSON.parse(JSON.stringify(this.path)),h=[],A=0;A<f.length;A++)if(void 0!==f[A].x)for(var d=v.call(this,f[A]),b=0;b<d.length;b+=1)-1===h.indexOf(d[b])&&h.push(d[b]);for(var x=0;x<h.length;x++)for(;this.pdf.internal.getNumberOfPages()<h[x];)g.call(this);if(m(h),this.autoPaging)for(var k=h[0],_=h[h.length-1],B=k;B<_+1;B++){this.pdf.setPage(B),this.fillStyle=i,this.strokeStyle=a,this.lineCap=o,this.lineWidth=u,this.lineJoin=c;var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],S=1===B?this.posY+this.margin[0]:this.margin[0],C=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===B?0:C+(B-2)*I;if(0!==this.ctx.clip_path.length){var T=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(r,this.posX+this.margin[3],-P+S+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=T}if(n=JSON.parse(JSON.stringify(l)),this.path=y(n,this.posX+this.margin[3],-P+S+this.ctx.prevPageLastElemOffset),!1===t||0===B){var O=(B>k||B<_)&&p.call(this);O&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,I,null).clip().discardPath()),w.call(this,e,t),O&&this.pdf.restoreGraphicsState()}this.lineWidth=s}else this.lineWidth=u,w.call(this,e,t),this.lineWidth=s;this.path=l},w=function(e,t){if(("stroke"!==e||t||!d.call(this))&&("stroke"===e||t||!A.call(this))){for(var r,n,i=[],a=this.path,o=0;o<a.length;o++){var s=a[o];switch(s.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:s,deltas:[],abs:[]});break;case"lt":var u=i.length;if(a[o-1]&&!isNaN(a[o-1].x)&&(r=[s.x-a[o-1].x,s.y-a[o-1].y],u>0))for(;u>=0;u--)if(!0!==i[u-1].close&&!0!==i[u-1].begin){i[u-1].deltas.push(r),i[u-1].abs.push(s);break}break;case"bct":r=[s.x1-a[o-1].x,s.y1-a[o-1].y,s.x2-a[o-1].x,s.y2-a[o-1].y,s.x-a[o-1].x,s.y-a[o-1].y],i[i.length-1].deltas.push(r);break;case"qct":var c=a[o-1].x+2/3*(s.x1-a[o-1].x),l=a[o-1].y+2/3*(s.y1-a[o-1].y),f=s.x+2/3*(s.x1-s.x),h=s.y+2/3*(s.y1-s.y),p=s.x,v=s.y;r=[c-a[o-1].x,l-a[o-1].y,f-a[o-1].x,h-a[o-1].y,p-a[o-1].x,v-a[o-1].y],i[i.length-1].deltas.push(r);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(s)}}n=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,y=0;y<i.length;y++)if(i[y].arc)for(var m=i[y].abs,b=0;b<m.length;b++){var w=m[b];"arc"===w.type?_.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!g):I.call(this,w.x,w.y),g=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),g=!1;else if(!0!==i[y].begin){var x=i[y].start.x,k=i[y].start.y;P.call(this,i[y].deltas,x,k),g=!0}n&&B.call(this,n),t&&E.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},k=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(e,t,r,n,i,a,o,s,u){for(var c=O.call(this,r,n,i,a),l=0;l<c.length;l++){var f=c[l];0===l&&(u?S.call(this,f.x1+e,f.y1+t):I.call(this,f.x1+e,f.y1+t)),T.call(this,e,t,f.x2,f.y2,f.x3,f.y3,f.x4,f.y4)}s?E.call(this):B.call(this,o)},B=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},E=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(e,t){this.pdf.internal.out(r(e)+" "+n(t)+" m")},C=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r=this.pdf.getTextDimensions(e.text),n=x.call(this,e.y),i=k.call(this,n)-r.h,a=this.ctx.transform.applyToPoint(new o(e.x,n)),c=this.ctx.transform.decompose(),l=new u;l=(l=(l=l.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var f,h,A,d=this.ctx.transform.applyToRectangle(new s(e.x,n,r.w,r.h)),g=l.applyToRectangle(new s(e.x,i,r.w,r.h)),b=v.call(this,g),_=[],B=0;B<b.length;B+=1)-1===_.indexOf(b[B])&&_.push(b[B]);if(m(_),this.autoPaging)for(var E=_[0],S=_[_.length-1],C=E;C<S+1;C++){this.pdf.setPage(C);var I=1===C?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[2],O=T-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],N=L-this.margin[3],M=1===C?0:P+(C-2)*O;if(0!==this.ctx.clip_path.length){var U=this.path;f=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(f,this.posX+this.margin[3],-1*M+I),w.call(this,"fill",!0),this.path=U}var F=y([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-M+I+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),A=this.lineWidth,this.lineWidth=A*e.scale);var R="text"!==this.autoPaging;if(R||F.y+F.h<=T){if(R||F.y>=I&&F.x<=L){var D=R?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||L-F.x)[0],j=y([JSON.parse(JSON.stringify(d))],this.posX+this.margin[3],-M+I+this.ctx.prevPageLastElemOffset)[0],Q=R&&(C>E||C<S)&&p.call(this);Q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],N,O,null).clip().discardPath()),this.pdf.text(D,j.x,j.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),Q&&this.pdf.restoreGraphicsState()}}else F.y<T&&(this.ctx.prevPageLastElemOffset+=T-F.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=A)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),A=this.lineWidth,this.lineWidth=A*e.scale),this.pdf.text(e.text,a.x+this.posX,a.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=A)},I=function(e,t,i,a){i=i||0,a=a||0,this.pdf.internal.out(r(e+i)+" "+n(t+a)+" l")},P=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},T=function(e,r,n,o,s,u,c,l){this.pdf.internal.out([t(i(n+e)),t(a(o+r)),t(i(s+e)),t(a(u+r)),t(i(c+e)),t(a(l+r)),"c"].join(" "))},O=function(e,t,r,n){for(var i=2*Math.PI,a=Math.PI/2;t>r;)t-=i;var o=Math.abs(r-t);o<i&&n&&(o=i-o);for(var s=[],u=n?-1:1,c=t;o>1e-5;){var l=c+u*Math.min(o,a);s.push(L.call(this,e,c,l)),o-=Math.abs(l-c),c=l}return s},L=function(e,t,r){var n=(r-t)/2,i=e*Math.cos(n),a=e*Math.sin(n),o=i,s=-a,u=o*o+s*s,c=u+o*i+s*a,l=4/3*(Math.sqrt(2*u*c)-c)/(o*a-s*i),f=o-l*s,h=s+l*o,A=f,d=-h,p=n+t,v=Math.cos(p),g=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:f*v-h*g,y2:f*g+h*v,x3:A*v-d*g,y3:A*g+d*v,x4:e*Math.cos(r),y4:e*Math.sin(r)}},N=function(e){return 180*e/Math.PI},M=function(e,t,r,n,i,a){var o=e+.5*(r-e),u=t+.5*(n-t),c=i+.5*(r-i),l=a+.5*(n-a),f=Math.min(e,i,o,c),h=Math.max(e,i,o,c),A=Math.min(t,a,u,l),d=Math.max(t,a,u,l);return new s(f,A,h-f,d-A)},U=function(e,t,r,n,i,a,o,u){var c,l,f,h,A,d,p,v,g,y,m,b,w,x,k=r-e,_=n-t,B=i-r,E=a-n,S=o-i,C=u-a;for(l=0;l<41;l++)g=(p=(f=e+(c=l/40)*k)+c*((A=r+c*B)-f))+c*(A+c*(i+c*S-A)-p),y=(v=(h=t+c*_)+c*((d=n+c*E)-h))+c*(d+c*(a+c*C-d)-v),0==l?(m=g,b=y,w=g,x=y):(m=Math.min(m,g),b=Math.min(b,y),w=Math.max(w,g),x=Math.max(x,y));return new s(Math.round(m),Math.round(b),Math.round(w-m),Math.round(x-b))},F=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(an.API),
/**
   * @license
   * jsPDF filters PlugIn
   * Copyright (c) 2014 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(e){var t,r,n,i,a,o,s,u,c,l;for(/[^\x00-\xFF]/.test(e),r=[],n=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>n;n+=4)0!==(a=(e.charCodeAt(n)<<24)+(e.charCodeAt(n+1)<<16)+(e.charCodeAt(n+2)<<8)+e.charCodeAt(n+3))?(o=(a=((a=((a=((a=(a-(l=a%85))/85)-(c=a%85))/85)-(u=a%85))/85)-(s=a%85))/85)%85,r.push(o+33,s+33,u+33,c+33,l+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,n,i,a,o=String,s="length",u=255,c="charCodeAt",l="slice",f="replace";for(e[l](-2),e=e[l](0,-2)[f](/\s/g,"")[f]("z","!!!!!"),n=[],i=0,a=(e+=t="uuuuu"[l](e[s]%5||5))[s];a>i;i+=5)r=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),n.push(u&r>>24,u&r>>16,u&r>>8,u&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(n,t[s]),o.fromCharCode.apply(o,n)},n=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",n=0;n<e.length;n+=2)r+=String.fromCharCode("0x"+(e[n]+e[n+1]));return r},i=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=kr(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,a){var o=0,s=e||"",u=[];for("string"==typeof(a=a||[])&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":s=r(s),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s=t(s),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s=n(s),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s=s.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s=i(s),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:s,reverseChain:u.reverse().join(" ")}}}(an.API),
/**
   * @license
   * jsPDF fileloading PlugIn
   * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){e.loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var n=void 0;try{n=function(e,t,r){var n=new XMLHttpRequest,i=0,a=function(e){var t=e.length,r=[],n=String.fromCharCode;for(i=0;i<t;i+=1)r.push(n(255&e.charCodeAt(i)));return r.join("")};if(n.open("GET",e,!t),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(n.onload=function(){200===n.status?r(a(this.responseText)):r(void 0)}),n.send(null),t&&200===n.status)return a(n.responseText)}(e,t,r)}catch(e){}return n}(e,t,r)},e.loadImageFile=e.loadFile}(an.API),function(e){function t(){return(Br.html2canvas?Promise.resolve(Br.html2canvas):Promise.resolve().then((function(){return zi}))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function r(){return(Br.DOMPurify?Promise.resolve(Br.DOMPurify):Promise.resolve().then((function(){return hde}))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var n=function(e){var t=Ft(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var r=document.createElement(e);for(var n in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[n]=t.style[n];return r},a=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),n=e.convert(Promise.resolve(),r);return(n=n.setProgress(1,e,1,[e])).set(t)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(e,t){return e.__proto__=t||a.prototype,e},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(n(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then((function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,r){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==r&&1===i.nodeType&&"SCRIPT"===i.nodeName||n.appendChild(e(i,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value),n.addEventListener("load",(function(){n.scrollTop=t.scrollTop,n.scrollLeft=t.scrollLeft}),!0)),n}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var a=0;a<r.length;++a){var o=r[a],s=o.src.find((function(e){return"truetype"===e.format}));s&&t.addFont(s.url,o.ref.name,o.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},a.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},a.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},a.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(e){if("object"!==n(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in a.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},a.prototype.get=function(e,t){return this.then((function(){var r=e in a.template.prop?this.prop[e]:this.opt[e];return t?t(r):r}))},a.prototype.setMargin=function(e){return this.then((function(){switch(n(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},a.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||an.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},a.prototype.setProgress=function(e,t,r,n){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(e,t,r,n){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,n?this.progress.stack.concat(n):null)},a.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,(function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return r.updateProgress(null,e),t})).then(e,t).then((function(e){return r.updateProgress(1),e}))}))},a.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var n=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),i=r.call(n,e,t);return a.convert(i,this.__proto__)},a.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},a.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},a.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return a.convert(t,this)},a.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},a.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,an.getPageSize=function(e,t,r){if("object"===Ft(e)){var n=e;e=n.orientation,t=n.unit||t,r=n.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var i,a=(""+r).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var s,u=0,c=0;if(o.hasOwnProperty(a))u=o[a][1]/i,c=o[a][0]/i;else try{u=r[1],c=r[0]}catch(e){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",c>u&&(s=c,c=u,u=s);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",u>c&&(s=c,c=u,u=s)}return{width:c,height:u,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Zn):null;var r=new a(t);return t.worker?r:r.from(e).doCallback()}}(an.API),an.API.addJS=function(e){return ci=e,this.internal.events.subscribe("postPutResources",(function(){si=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(si+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ui=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ci+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==si&&void 0!==ui&&this.internal.out("/Names <</JavaScript "+si+" 0 R>>")})),this},
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),i=0;i<n.length;i++){var a=n[i],o=r.exec(a);if(null!=o){var s=o[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(i=0;i<u;i++){var l=e.internal.newObject();c.push(l);var f=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var n={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var i=t.children[n];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),n>0&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var a=this.count=this.count_r({count:0},i);if(a>0&&this.line("/Count "+a),i.options&&i.options.pageNumber){var o=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var s=0;s<t.children.length;s++)this.renderItems(t.children[s])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(an.API),
/**
   * @license
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,n,i,a,o){var s,u=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(s=function(e){for(var r,n=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,a={width:0,height:0,numcomponents:1},o=4;o<i;o+=2){if(o+=n,-1!==t.indexOf(e.charCodeAt(o+1))){r=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),a={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:r,numcomponents:e.charCodeAt(o+9)};break}n=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:n}}return c}}(an.API);var fi,hi,Ai,di,pi,vi=function(){var e,t,r;function n(e){var t,r,n,i,a,o,s,u,c,l,f,h,A,d;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},a=this.readUInt16(),i=this.readUInt16()||100,o.delay=1e3*a/i,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((l=n-this.transparency.indexed.length)>0)for(A=0;0<=l?A<l:A>l;0<=l?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":s=(f=this.read(t)).indexOf(0),u=String.fromCharCode.apply(String,f.slice(0,s)),this.text[u]=String.fromCharCode.apply(String,f.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.data[this.pos++]);return r},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,r=new Uint8Array(this.width*this.height*t),n=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function a(a,o,s,u){var c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P=Math.ceil((i.width-a)/s),T=Math.ceil((i.height-o)/u),O=i.width==P&&i.height==T;for(x=t*P,b=O?r:new Uint8Array(x*T),d=e.length,w=0,l=0;w<T&&n<d;){switch(e[n++]){case 0:for(h=B=0;B<x;h=B+=1)b[l++]=e[n++];break;case 1:for(h=E=0;E<x;h=E+=1)c=e[n++],A=h<t?0:b[l-t],b[l++]=(c+A)%256;break;case 2:for(h=S=0;S<x;h=S+=1)c=e[n++],f=(h-h%t)/t,k=w&&b[(w-1)*x+f*t+h%t],b[l++]=(k+c)%256;break;case 3:for(h=C=0;C<x;h=C+=1)c=e[n++],f=(h-h%t)/t,A=h<t?0:b[l-t],k=w&&b[(w-1)*x+f*t+h%t],b[l++]=(c+Math.floor((A+k)/2))%256;break;case 4:for(h=I=0;I<x;h=I+=1)c=e[n++],f=(h-h%t)/t,A=h<t?0:b[l-t],0===w?k=_=0:(k=b[(w-1)*x+f*t+h%t],_=f&&b[(w-1)*x+(f-1)*t+h%t]),p=A+k-_,v=Math.abs(p-A),y=Math.abs(p-k),m=Math.abs(p-_),g=v<=y&&v<=m?A:y<=m?k:_,b[l++]=(c+g)%256;break;default:throw new Error("Invalid filter algorithm: "+e[n-1])}if(!O){var L=((o+w*u)*i.width+a)*t,N=w*x;for(h=0;h<P;h+=1){for(var M=0;M<t;M+=1)r[L++]=b[N++];L+=(s-1)*t}}w++}}return e=_r(e),1==i.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),r},n.prototype.decodePalette=function(){var e,t,r,n,i,a,o,s,u;for(r=this.palette,a=this.transparency.indexed||[],i=new Uint8Array((a.length||0)+r.length),n=0,e=0,t=o=0,s=r.length;o<s;t=o+=3)i[n++]=r[t],i[n++]=r[t+1],i[n++]=r[t+2],i[n++]=null!=(u=a[e++])?u:255;return i},n.prototype.copyToImageData=function(e,t){var r,n,i,a,o,s,u,c,l,f,h;if(n=this.colors,l=null,r=this.hasAlphaChannel,this.palette.length&&(l=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),n=4,r=!0),c=(i=e.data||e).length,o=l||t,a=s=0,1===n)for(;a<c;)u=l?4*t[a/4]:s,f=o[u++],i[a++]=f,i[a++]=f,i[a++]=f,i[a++]=r?o[u++]:255,s=u;else for(;a<c;)u=l?4*t[a/4]:s,i[a++]=o[u++],i[a++]=o[u++],i[a++]=o[u++],i[a++]=r?o[u++]:255,s=u},n.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(Br)){try{t=Br.document.createElement("canvas"),r=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var n;if(!0===i())return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(n=new Image).src=t.toDataURL(),n;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(t){var r,n,i,a,o,s,u,c;if(this.animation){for(c=[],n=o=0,s=(u=this.animation.frames).length;o<s;n=++o)r=u[n],i=t.createImageData(r.width,r.height),a=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(i,a),r.imageData=i,c.push(r.image=e(i));return c}},n.prototype.renderFrame=function(e,t){var r,n,i;return r=(n=this.animation.frames)[t],i=n[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===r.blendOp&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},n.prototype.animate=function(e){var t,r,n,i,a,o,s=this;return r=0,o=this.animation,i=o.numFrames,n=o.frames,a=o.numPlays,(t=function(){var o,u;if(o=r++%i,u=n[o],s.renderFrame(e,o),i>1&&r/i<a)return s.animation._timeout=setTimeout(t,u.delay)})()},n.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},n.prototype.render=function(e){var t,r;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(r=t.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),t.putImageData(r,0,0))},n}();
/**
   * @license
   *
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
/**
   * @license
   * (c) Dean McNamee <dean@gmail.com>, 2013.
   *
   * https://github.com/deanm/omggif
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to
   * deal in the Software without restriction, including without limitation the
   * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
   * sell copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
   * IN THE SOFTWARE.
   *
   * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
   * including animation and compression.  It does not rely on any specific
   * underlying system, so should run in the browser, Node, or Plask.
   */function gi(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var s=null,u=null;a&&(s=t,u=o,t+=3*o);var c=!0,l=[],f=0,h=null,A=0,d=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,d=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],0==(1&p)&&(h=null),A=p>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,x=1<<1+(7&b),k=s,_=u,B=!1;b>>7&&(B=!0,k=t,_=x,t+=3*x);var E=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}l.push({x:v,y:g,width:y,height:m,has_local_palette:B,palette_offset:k,palette_size:_,data_offset:E,data_length:t-E,transparent_index:h,interlaced:!!w,delay:f,disposal:A});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return d},this.frameInfo=function(e){if(e<0||e>=l.length)throw new Error("Frame index out of range.");return l[e]},this.decodeAndBlitFrameBGRA=function(t,n){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);yi(e,i.data_offset,o,a);var s=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,l=r-c,f=c,h=4*(i.y*r+i.x),A=4*((i.y+i.height)*r+i.x),d=h,p=4*l;!0===i.interlaced&&(p+=4*r*7);for(var v=8,g=0,y=o.length;g<y;++g){var m=o[g];if(0===f&&(f=c,(d+=p)>=A&&(p=4*l+4*r*(v-1),d=h+(c+l)*(v<<1),v>>=1)),m===u)d+=4;else{var b=e[s+3*m],w=e[s+3*m+1],x=e[s+3*m+2];n[d++]=x,n[d++]=w,n[d++]=b,n[d++]=255}--f}},this.decodeAndBlitFrameRGBA=function(t,n){var i=this.frameInfo(t),a=i.width*i.height,o=new Uint8Array(a);yi(e,i.data_offset,o,a);var s=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,l=r-c,f=c,h=4*(i.y*r+i.x),A=4*((i.y+i.height)*r+i.x),d=h,p=4*l;!0===i.interlaced&&(p+=4*r*7);for(var v=8,g=0,y=o.length;g<y;++g){var m=o[g];if(0===f&&(f=c,(d+=p)>=A&&(p=4*l+4*r*(v-1),d=h+(c+l)*(v<<1),v>>=1)),m===u)d+=4;else{var b=e[s+3*m],w=e[s+3*m+1],x=e[s+3*m+2];n[d++]=b,n[d++]=w,n[d++]=x,n[d++]=255}--f}}}function yi(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,u=i+1,c=(1<<u)-1,l=0,f=0,h=0,A=e[t++],d=new Int32Array(4096),p=null;;){for(;l<16&&0!==A;)f|=e[t++]<<l,l+=8,1===A?A=e[t++]:--A;if(l<u)break;var v=f&c;if(f>>=u,l-=u,v!==a){if(v===o)break;for(var g=v<s?v:p,y=0,m=g;m>a;)m=d[m]>>8,++y;var b=m;if(h+y+(g!==v?1:0)>n)return void Sr.log("Warning, gif stream longer than expected.");r[h++]=b;var w=h+=y;for(g!==v&&(r[h++]=b),m=g;y--;)m=d[m],r[--w]=255&m,m>>=8;null!==p&&s<4096&&(d[s++]=p<<8|b,s>=c+1&&u<12&&(++u,c=c<<1|1)),p=v}else s=o+1,c=(1<<(u=i+1))-1,p=null}return h!==n&&Sr.log("Warning, gif stream shorter than expected."),r
/**
   * @license
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.

    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:

    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */}function mi(e){var t,r,n,i,a,o=Math.floor,s=new Array(64),u=new Array(64),c=new Array(64),l=new Array(64),f=new Array(65535),h=new Array(65535),A=new Array(64),d=new Array(64),p=[],v=0,g=7,y=new Array(64),m=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e,t){for(var r=0,n=0,i=new Array,a=1;a<=16;a++){for(var o=1;o<=e[a];o++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=a,n++,r++;r*=2}return i}function L(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(v|=1<<g),r--,--g<0&&(255==v?(N(255),N(0)):N(v),g=7,v=0)}function N(e){p.push(e)}function M(e){N(e>>8&255),N(255&e)}function U(e,t,r,n,i){for(var a,o=i[0],s=i[240],u=function(e,t){var r,n,i,a,o,s,u,c,l,f,h=0;for(l=0;l<8;++l){r=e[h],n=e[h+1],i=e[h+2],a=e[h+3],o=e[h+4],s=e[h+5],u=e[h+6];var d=r+(c=e[h+7]),p=r-c,v=n+u,g=n-u,y=i+s,m=i-s,b=a+o,w=a-o,x=d+b,k=d-b,_=v+y,B=v-y;e[h]=x+_,e[h+4]=x-_;var E=.707106781*(B+k);e[h+2]=k+E,e[h+6]=k-E;var S=.382683433*((x=w+m)-(B=g+p)),C=.5411961*x+S,I=1.306562965*B+S,P=.707106781*(_=m+g),T=p+P,O=p-P;e[h+5]=O+C,e[h+3]=O-C,e[h+1]=T+I,e[h+7]=T-I,h+=8}for(h=0,l=0;l<8;++l){r=e[h],n=e[h+8],i=e[h+16],a=e[h+24],o=e[h+32],s=e[h+40],u=e[h+48];var L=r+(c=e[h+56]),N=r-c,M=n+u,U=n-u,F=i+s,R=i-s,D=a+o,j=a-o,Q=L+D,H=L-D,K=M+F,V=M-F;e[h]=Q+K,e[h+32]=Q-K;var z=.707106781*(V+H);e[h+16]=H+z,e[h+48]=H-z;var q=.382683433*((Q=j+R)-(V=U+N)),G=.5411961*Q+q,W=1.306562965*V+q,J=.707106781*(K=R+U),X=N+J,Y=N-J;e[h+40]=Y+G,e[h+24]=Y-G,e[h+8]=X+W,e[h+56]=X-W,h++}for(l=0;l<64;++l)f=e[l]*t[l],A[l]=f>0?f+.5|0:f-.5|0;return A}(e,t),c=0;c<64;++c)d[k[c]]=u[c];var l=d[0]-r;r=d[0],0==l?L(n[0]):(L(n[h[a=32767+l]]),L(f[a]));for(var p=63;p>0&&0==d[p];)p--;if(0==p)return L(o),r;for(var v,g=1;g<=p;){for(var y=g;0==d[g]&&g<=p;)++g;var m=g-y;if(m>=16){v=m>>4;for(var b=1;b<=v;++b)L(s);m&=15}a=32767+d[g],L(i[(m<<4)+h[a]]),L(f[a]),g++}return 63!=p&&L(o),r}function F(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=o((t[r]*e+50)/100);n=Math.min(Math.max(n,1),255),s[k[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var f=o((i[a]*e+50)/100);f=Math.min(Math.max(f,1),255),u[k[a]]=f}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],A=0,d=0;d<8;d++)for(var p=0;p<8;p++)c[A]=1/(s[k[A]]*h[d]*h[p]*8),l[A]=1/(u[k[A]]*h[d]*h[p]*8),A++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&F(a),p=new Array,v=0,g=7,M(65496),M(65504),M(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),M(1),M(1),N(0),N(0),function(){M(65499),M(132),N(0);for(var e=0;e<64;e++)N(s[e]);N(1);for(var t=0;t<64;t++)N(u[t])}(),function(e,t){M(65472),M(17),N(8),M(t),M(e),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}(e.width,e.height),function(){M(65476),M(418),N(0);for(var e=0;e<16;e++)N(_[e+1]);for(var t=0;t<=11;t++)N(B[t]);N(16);for(var r=0;r<16;r++)N(E[r+1]);for(var n=0;n<=161;n++)N(S[n]);N(1);for(var i=0;i<16;i++)N(C[i+1]);for(var a=0;a<=11;a++)N(I[a]);N(17);for(var o=0;o<16;o++)N(P[o+1]);for(var s=0;s<=161;s++)N(T[s])}(),M(65498),M(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var o=0,f=0,h=0;v=0,g=7,this.encode.displayName="_encode_";for(var A,d,w,k,O,R,D,j,Q,H=e.data,K=e.width,V=e.height,z=4*K,q=0;q<V;){for(A=0;A<z;){for(O=z*q+A,D=-1,j=0,Q=0;Q<64;Q++)R=O+(j=Q>>3)*z+(D=4*(7&Q)),q+j>=V&&(R-=z*(q+1+j-V)),A+D>=z&&(R-=A+D-z+4),d=H[R++],w=H[R++],k=H[R++],y[Q]=(x[d]+x[w+256>>0]+x[k+512>>0]>>16)-128,m[Q]=(x[d+768>>0]+x[w+1024>>0]+x[k+1280>>0]>>16)-128,b[Q]=(x[d+1280>>0]+x[w+1536>>0]+x[k+1792>>0]>>16)-128;o=U(y,c,o,t,n),f=U(m,l,f,r,i),h=U(b,l,h,r,i),A+=32}q+=8}if(g>=0){var G=[];G[1]=g+1,G[0]=(1<<g+1)-1,L(G)}return M(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=O(_,B),r=O(C,I),n=O(E,S),i=O(P,T),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)h[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=n;for(var i=-(t-1);i<=-e;i++)h[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256>>0]=38470*e,x[e+512>>0]=7471*e+32768,x[e+768>>0]=-11059*e,x[e+1024>>0]=-21709*e,x[e+1280>>0]=32768*e+8421375,x[e+1536>>0]=-27439*e,x[e+1792>>0]=-5329*e}(),F(e)}
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */function bi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function wi(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function n(e,t,r,n,i){for(var a=0;a<i;a++)e[t+a]=r[n+a]}function i(e,t,r,n){for(var i=0;i<n;i++)e[t+i]=r}function a(e){return new Int32Array(e)}function o(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function s(e,t){var r=[];return function e(r,n,i){for(var a=i[n],o=0;o<a&&(r.push(i.length>n+1?[]:new t),!(i.length<n+1));o++)e(r[o],n+1,i)}(r,0,e),r}var u=function(){var e=this;function u(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function c(e,r,n,i,a){t(!(i%n));do{e[r+(i-=n)]=a}while(0<i)}function l(e,r,n,i,o){if(t(2328>=o),512>=o)var s=a(512);else if(null==(s=a(o)))return 0;return function(e,r,n,i,o,s){var l,h,A=r,d=1<<n,p=a(16),v=a(16);for(t(0!=o),t(null!=i),t(null!=e),t(0<n),h=0;h<o;++h){if(15<i[h])return 0;++p[i[h]]}if(p[0]==o)return 0;for(v[1]=0,l=1;15>l;++l){if(p[l]>1<<l)return 0;v[l+1]=v[l]+p[l]}for(h=0;h<o;++h)l=i[h],0<i[h]&&(s[v[l]++]=h);if(1==v[15])return(i=new f).g=0,i.value=s[0],c(e,A,1,d,i),d;var g,y=-1,m=d-1,b=0,w=1,x=1,k=1<<n;for(h=0,l=1,o=2;l<=n;++l,o<<=1){if(w+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l])(i=new f).g=l,i.value=s[h++],c(e,A+b,o,k,i),b=u(b,l)}for(l=n+1,o=2;15>=l;++l,o<<=1){if(w+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l]){if(i=new f,(b&m)!=y){for(A+=k,g=1<<(y=l)-n;15>y&&!(0>=(g-=p[y]));)++y,g<<=1;d+=k=1<<(g=y-n),e[r+(y=b&m)].g=g+n,e[r+y].value=A-r-y}i.g=l-n,i.value=s[h++],c(e,A+(b>>n),o,k,i),b=u(b,l)}}return w!=2*v[15]-1?0:d}(e,r,n,i,o,s)}function f(){this.value=this.g=0}function h(){this.value=this.g=0}function A(){this.G=o(5,f),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rr,h)}function d(e,r,n,i){t(null!=e),t(null!=r),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=n,e.Jd=r,e.Yc=n+i,e.Zc=4<=i?n+i-4+1:n,E(e)}function p(e,t){for(var r=0;0<t--;)r|=C(e,128)<<t;return r}function v(e,t){var r=p(e,t);return S(e)?-r:r}function g(e,r,n,i){var a,o=0;for(t(null!=e),t(null!=r),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),a=0;a<i;++a)o+=r[n+a]<<8*a;e.Ra=o,e.bb=i,e.oa=r,e.pa=n}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Qr-8>>>0,++e.bb,e.u-=8;k(e)&&(e.h=1,e.u=0)}function m(e,r){if(t(0<=r),!e.h&&r<=jr){var n=x(e)&Dr[r];return e.u+=r,y(e),n}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Qr-1)>>>0}function k(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Qr}function _(e,t){e.u=t,e.h=k(e)}function B(e){e.u>=Hr&&(t(e.u>=Hr),y(e))}function E(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function S(e){return p(e,1)}function C(e,t){var r=e.Ca;0>e.b&&E(e);var n=e.b,i=r*t>>>8,a=(e.I>>>n>i)+0;for(a?(r-=i,e.I-=i+1<<n>>>0):r=i+1,n=r,i=0;256<=n;)i+=8,n>>=8;return n=7^i+Kr[n],e.b-=n,e.Ca=(r<<n)-1,a}function I(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r>>0&255}function P(e,t){return e[t+0]<<0|e[t+1]<<8}function T(e,t){return P(e,t)|e[t+2]<<16}function O(e,t){return P(e,t)|P(e,t+2)<<16}function L(e,r){var n=1<<r;return t(null!=e),t(0<r),e.X=a(n),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function N(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),n(r.X,0,e.X,0,1<<r.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function U(e,r,n,i){t(null!=n),t(null!=i);var a=n[0],o=i[0];return 0==a&&(a=(e*o+r/2)/r),0==o&&(o=(r*a+e/2)/e),0>=a||0>=o?0:(n[0]=a,i[0]=o,1)}function F(e,t){return e+(1<<t)-1>>>t}function R(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function D(t,r){e[r]=function(r,n,i,a,o,s,u){var c;for(c=0;c<o;++c){var l=e[t](s[u+c-1],i,a+c);s[u+c]=R(r[n+c],l)}}}function j(){this.ud=this.hd=this.jd=0}function Q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function K(e,t){return H(e+(e-t+.5>>1))}function V(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function z(e,t,r,n,i,a,o){for(n=a[o-1],r=0;r<i;++r)a[o+r]=n=R(e[t+r],n)}function q(e,t,r,n,i){var a;for(a=0;a<r;++a){var o=e[t+a],s=o>>8&255,u=16711935&(u=(u=16711935&o)+((s<<16)+s));n[i+a]=(4278255360&o)+u>>>0}}function G(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function W(e,t,r,n,i,a){var o;for(o=0;o<n;++o){var s=t[r+o],u=s>>>8,c=s,l=255&(l=(l=s>>>16)+((e.jd<<24>>24)*(u<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(u<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[a+o]=(4278255360&s)+(l<<16)+c}}function J(t,r,n,i,a){e[r]=function(e,t,r,n,o,s,u,c,l){for(n=u;n<c;++n)for(u=0;u<l;++u)o[s++]=a(r[i(e[t++])])},e[t]=function(t,r,o,s,u,c,l){var f=8>>t.b,h=t.Ea,A=t.K[0],d=t.w;if(8>f)for(t=(1<<t.b)-1,d=(1<<f)-1;r<o;++r){var p,v=0;for(p=0;p<h;++p)p&t||(v=i(s[u++])),c[l++]=a(A[v&d]),v>>=f}else e["VP8LMapColor"+n](s,u,A,d,c,l,r,o,h)}}function X(e,t,r,n,i){for(r=t+r;t<r;){var a=e[t++];n[i++]=a>>16&255,n[i++]=a>>8&255,n[i++]=a>>0&255}}function Y(e,t,r,n,i){for(r=t+r;t<r;){var a=e[t++];n[i++]=a>>16&255,n[i++]=a>>8&255,n[i++]=a>>0&255,n[i++]=a>>24&255}}function $(e,t,r,n,i){for(r=t+r;t<r;){var a=(o=e[t++])>>16&240|o>>12&15,o=o>>0&240|o>>28&15;n[i++]=a,n[i++]=o}}function Z(e,t,r,n,i){for(r=t+r;t<r;){var a=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;n[i++]=a,n[i++]=o}}function ee(e,t,r,n,i){for(r=t+r;t<r;){var a=e[t++];n[i++]=a>>0&255,n[i++]=a>>8&255,n[i++]=a>>16&255}}function te(e,t,r,i,a,o){if(0==o)for(r=t+r;t<r;)I(i,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),a+=32;else n(i,a,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ne(e){return e==Kn||e==Vn||e==zn||e==qn}function ie(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new ae,this.sd=null}function se(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ue(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function le(e,t){var r=e.T,i=t.ba.f.RGBA,a=i.eb,o=i.fb+e.ka*i.A,s=gi[t.ba.S],u=e.y,c=e.O,l=e.f,f=e.N,h=e.ea,A=e.W,d=t.cc,p=t.dc,v=t.Mc,g=t.Nc,y=e.ka,m=e.ka+e.T,b=e.U,w=b+1>>1;for(0==y?s(u,c,null,null,l,f,h,A,l,f,h,A,a,o,null,null,b):(s(t.ec,t.fc,u,c,d,p,v,g,l,f,h,A,a,o-i.A,a,o,b),++r);y+2<m;y+=2)d=l,p=f,v=h,g=A,f+=e.Rc,A+=e.Rc,o+=2*i.A,s(u,(c+=2*e.fa)-e.fa,u,c,d,p,v,g,l,f,h,A,a,o-i.A,a,o,b);return c+=e.fa,e.j+m<e.o?(n(t.ec,t.fc,u,c,b),n(t.cc,t.dc,l,f,w),n(t.Mc,t.Nc,h,A,w),r--):1&m||s(u,c,null,null,l,f,h,A,l,f,h,A,a,o+i.A,null,null,b),r}function fe(e,r,n){var i=e.F,a=[e.J];if(null!=i){var o=e.U,s=r.ba.S,u=s==jn||s==zn;r=r.ba.f.RGBA;var c=[0],l=e.ka;c[0]=e.T,e.Kb&&(0==l?--c[0]:(--l,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-l));var f=r.eb;l=r.fb+l*r.A,e=Bn(i,a[0],e.width,o,c,f,l+(u?0:3),r.A),t(n==c),e&&ne(s)&&kn(f,l,u,o,c,r.A)}return 0}function he(e){var t=e.ma,r=t.ba.S,n=11>r,i=r==Fn||r==Dn||r==jn||r==Qn||12==r||ne(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Mr(t.Oa,e,i?11:12))return 0;if(i&&ne(r)&&yr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=ce,e.Kb){if(r=e.U+1>>1,t.memory=a(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=le,yr()}}else alert("todo:EmitYUV");i&&(t.Jb=fe,n&&vr())}if(n&&!Ti){for(e=0;256>e;++e)Oi[e]=89858*(e-128)+Ei>>Bi,Mi[e]=-22014*(e-128)+Ei,Ni[e]=-45773*(e-128),Li[e]=113618*(e-128)+Ei>>Bi;for(e=Si;e<Ci;++e)t=76283*(e-16)+Ei>>Bi,Ui[e-Si]=ze(t,255),Fi[e-Si]=ze(t+8>>4,15);Ti=1}return 1}function Ae(e){var r=e.ma,n=e.U,i=e.T;return t(!(1&e.ka)),0>=n||0>=i?0:(n=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,n),r.Dc+=n,1)}function de(e){e.ma.memory=null}function pe(e,t,r,n){return 47!=m(e,8)?0:(t[0]=m(e,14)+1,r[0]=m(e,14)+1,n[0]=m(e,1),0!=m(e,3)?0:!e.h)}function ve(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+m(t,r)+1}function ge(e,t){return 120<t?t-120:1<=(r=((r=$n[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function ye(e,t,r){var n=x(r),i=e[t+=255&n].g-8;return 0<i&&(_(r,r.u+8),n=x(r),t+=e[t].value,t+=n&(1<<i)-1),_(r,r.u+e[t].g),e[t].value}function me(e,r,n){return n.g+=e.g,n.value+=e.value<<r>>>0,t(8>=n.g),e.g}function be(e,r,n){var i=e.xc;return t((r=0==i?0:e.vc[e.md*(n>>i)+(r>>i)])<e.Wb),e.Ya[r]}function we(e,r,i,a){var o=e.ab,s=e.c*r,u=e.C;r=u+r;var c=i,l=a;for(a=e.Ta,i=e.Ua;0<o--;){var f=e.gc[o],h=u,A=r,d=c,p=l,v=(l=a,c=i,f.Ea);switch(t(h<A),t(A<=f.nc),f.hc){case 2:qr(d,p,(A-h)*v,l,c);break;case 0:var g=h,y=A,m=l,b=c,w=(E=f).Ea;0==g&&(Vr(d,p,null,null,1,m,b),z(d,p+1,0,0,w-1,m,b+1),p+=w,b+=w,++g);for(var x=1<<E.b,k=x-1,_=F(w,E.b),B=E.K,E=E.w+(g>>E.b)*_;g<y;){var S=B,C=E,I=1;for(zr(d,p,m,b-w,1,m,b);I<w;){var P=(I&~k)+x;P>w&&(P=w),(0,Yr[S[C++]>>8&15])(d,p+ +I,m,b+I-w,P-I,m,b+I),I=P}p+=w,b+=w,++g&k||(E+=_)}A!=f.nc&&n(l,c-v,l,c+(A-h-1)*v,v);break;case 1:for(v=d,y=p,w=(d=f.Ea)-(b=d&~(m=(p=1<<f.b)-1)),g=F(d,f.b),x=f.K,f=f.w+(h>>f.b)*g;h<A;){for(k=x,_=f,B=new j,E=y+b,S=y+d;y<E;)G(k[_++],B),$r(B,v,y,p,l,c),y+=p,c+=p;y<S&&(G(k[_++],B),$r(B,v,y,w,l,c),y+=w,c+=w),++h&m||(f+=g)}break;case 3:if(d==l&&p==c&&0<f.b){for(y=l,d=v=c+(A-h)*v-(b=(A-h)*F(f.Ea,f.b)),p=l,m=c,g=[],b=(w=b)-1;0<=b;--b)g[b]=p[m+b];for(b=w-1;0<=b;--b)y[d+b]=g[b];Gr(f,h,A,l,v,l,c)}else Gr(f,h,A,d,p,l,c)}c=a,l=i}l!=i&&n(a,i,c,l,s)}function xe(e,r){var n=e.V,i=e.Ba+e.c*e.C,a=r-e.C;if(t(r<=e.l.o),t(16>=a),0<a){var o=e.l,s=e.Ta,u=e.Ua,c=o.width;if(we(e,a,n,i),a=u=[u],t((n=e.C)<(i=r)),t(o.v<o.va),i>o.o&&(i=o.o),n<o.j){var l=o.j-n;n=o.j,a[0]+=l*c}if(n>=i?n=0:(a[0]+=4*o.v,o.ka=n-o.j,o.U=o.va-o.v,o.T=i-n,n=1),n){if(u=u[0],11>(n=e.ca).S){var f=n.f.RGBA,h=(i=n.S,a=o.U,o=o.T,l=f.eb,f.A),A=o;for(f=f.fb+e.Ma*f.A;0<A--;){var d=s,p=u,v=a,g=l,y=f;switch(i){case Un:Zr(d,p,v,g,y);break;case Fn:en(d,p,v,g,y);break;case Kn:en(d,p,v,g,y),kn(g,y,0,v,1,0);break;case Rn:nn(d,p,v,g,y);break;case Dn:te(d,p,v,g,y,1);break;case Vn:te(d,p,v,g,y,1),kn(g,y,0,v,1,0);break;case jn:te(d,p,v,g,y,0);break;case zn:te(d,p,v,g,y,0),kn(g,y,1,v,1,0);break;case Qn:tn(d,p,v,g,y);break;case qn:tn(d,p,v,g,y),_n(g,y,v,1,0);break;case Hn:rn(d,p,v,g,y);break;default:t(0)}u+=c,f+=h}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=n.height)}}e.C=r,t(e.C<=e.i)}function ke(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function _e(e,r,n,i,a,o){if(0!=e.Z){var s=e.qd,u=e.rd;for(t(null!=vi[e.Z]);r<n;++r)vi[e.Z](s,u,i,a,i,a,o),s=i,u=a,a+=o;e.qd=s,e.rd=u}}function Be(e,r){var n=e.l.ma,i=0==n.Z||1==n.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(r<=e.l.o),r>i){var a=e.l.width,o=n.ca,s=n.tb+a*i,u=e.V,c=e.Ba+e.c*i,l=e.gc;t(1==e.ab),t(3==l[0].hc),Jr(l[0],i,r,u,c,o,s),_e(n,i,r,o,s,a)}e.C=e.Ma=r}function Ee(e,r,n,i,a,o,s){var u=e.$/i,c=e.$%i,l=e.m,f=e.s,h=n+e.$,A=h;a=n+i*a;var d=n+i*o,p=280+f.ua,v=e.Pb?u:16777216,g=0<f.ua?f.Wa:null,y=f.wc,m=h<d?be(f,c,u):null;t(e.C<o),t(d<=a);var b=!1;e:for(;;){for(;b||h<d;){var w=0;if(u>=v){var E=h-n;t((v=e).Pb),v.wd=v.m,v.xd=E,0<v.s.ua&&N(v.s.Wa,v.s.vb),v=u+ei}if(c&y||(m=be(f,c,u)),t(null!=m),m.Qb&&(r[h]=m.qb,b=!0),!b)if(B(l),m.jc){w=l,E=r;var S=h,C=m.pd[x(w)&Rr-1];t(m.jc),256>C.g?(_(w,w.u+C.g),E[S]=C.value,w=0):(_(w,w.u+C.g-256),t(256<=C.value),w=C.value),0==w&&(b=!0)}else w=ye(m.G[0],m.H[0],l);if(l.h)break;if(b||256>w){if(!b)if(m.nd)r[h]=(m.qb|w<<8)>>>0;else{if(B(l),b=ye(m.G[1],m.H[1],l),B(l),E=ye(m.G[2],m.H[2],l),S=ye(m.G[3],m.H[3],l),l.h)break;r[h]=(S<<24|b<<16|w<<8|E)>>>0}if(b=!1,++h,++c>=i&&(c=0,++u,null!=s&&u<=o&&!(u%16)&&s(e,u),null!=g))for(;A<h;)w=r[A++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else if(280>w){if(w=ve(w-256,l),E=ye(m.G[4],m.H[4],l),B(l),E=ge(i,E=ve(E,l)),l.h)break;if(h-n<E||a-h<w)break e;for(S=0;S<w;++S)r[h+S]=r[h+S-E];for(h+=w,c+=w;c>=i;)c-=i,++u,null!=s&&u<=o&&!(u%16)&&s(e,u);if(t(h<=a),c&y&&(m=be(f,c,u)),null!=g)for(;A<h;)w=r[A++],g.X[(506832829*w&4294967295)>>>g.Mb]=w}else{if(!(w<p))break e;for(b=w-280,t(null!=g);A<h;)w=r[A++],g.X[(506832829*w&4294967295)>>>g.Mb]=w;w=h,t(!(b>>>(E=g).Xa)),r[w]=E.X[b],b=!0}b||t(l.h==k(l))}if(e.Pb&&l.h&&h<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&N(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=s&&s(e,u>o?o:u),e.a=0,e.$=h-n}return 1}return e.a=3,0}function Se(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Ce(){var t=new or;return null==t?null:(t.a=0,t.xb=pi,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),qr=q,$r=W,Zr=X,en=Y,tn=$,rn=Z,nn=ee,e.VP8LMapColor32b=Wr,e.VP8LMapColor8b=Xr,t)}function Ie(e,r,n,s,u){var c=1,h=[e],d=[r],p=s.m,v=s.s,g=null,y=0;e:for(;;){if(n)for(;c&&m(p,1);){var b=h,w=d,k=s,E=1,S=k.m,C=k.gc[k.ab],I=m(S,2);if(k.Oc&1<<I)c=0;else{switch(k.Oc|=1<<I,C.hc=I,C.Ea=b[0],C.nc=w[0],C.K=[null],++k.ab,t(4>=k.ab),I){case 0:case 1:C.b=m(S,3)+2,E=Ie(F(C.Ea,C.b),F(C.nc,C.b),0,k,C.K),C.K=C.K[0];break;case 3:var P,T=m(S,8)+1,O=16<T?0:4<T?1:2<T?2:3;if(b[0]=F(C.Ea,O),C.b=O,P=E=Ie(T,1,0,k,C.K)){var N,M=T,U=C,D=1<<(8>>U.b),j=a(D);if(null==j)P=0;else{var Q=U.K[0],H=U.w;for(j[0]=U.K[0][0],N=1;N<1*M;++N)j[N]=R(Q[H+N],j[N-1]);for(;N<4*D;++N)j[N]=0;U.K[0]=null,U.K[0]=j,P=1}}E=P;break;case 2:break;default:t(0)}c=E}}if(h=h[0],d=d[0],c&&m(p,1)&&!(c=1<=(y=m(p,4))&&11>=y)){s.a=3;break e}var K;if(K=c)t:{var V,z,q,G=s,W=h,J=d,X=y,Y=n,$=G.m,Z=G.s,ee=[null],te=1,re=0,ne=Zn[X];r:for(;;){if(Y&&m($,1)){var ie=m($,3)+2,ae=F(W,ie),oe=F(J,ie),se=ae*oe;if(!Ie(ae,oe,0,G,ee))break r;for(ee=ee[0],Z.xc=ie,V=0;V<se;++V){var ue=ee[V]>>8&65535;ee[V]=ue,ue>=te&&(te=ue+1)}}if($.h)break r;for(z=0;5>z;++z){var ce=Jn[z];!z&&0<X&&(ce+=1<<X),re<ce&&(re=ce)}var le=o(te*ne,f),fe=te,he=o(fe,A);if(null==he)var Ae=null;else t(65536>=fe),Ae=he;var de=a(re);if(null==Ae||null==de||null==le){G.a=1;break r}var pe=le;for(V=q=0;V<te;++V){var ve=Ae[V],ge=ve.G,ye=ve.H,be=0,we=1,xe=0;for(z=0;5>z;++z){ce=Jn[z],ge[z]=pe,ye[z]=q,!z&&0<X&&(ce+=1<<X);n:{var ke,_e=ce,Be=G,Ce=de,Pe=pe,Te=q,Oe=0,Le=Be.m,Ne=m(Le,1);if(i(Ce,0,0,_e),Ne){var Me=m(Le,1)+1,Ue=m(Le,1),Fe=m(Le,0==Ue?1:8);Ce[Fe]=1,2==Me&&(Ce[Fe=m(Le,8)]=1);var Re=1}else{var De=a(19),je=m(Le,4)+4;if(19<je){Be.a=3;var Qe=0;break n}for(ke=0;ke<je;++ke)De[Yn[ke]]=m(Le,3);var He=void 0,Ke=void 0,Ve=Be,ze=De,qe=_e,Ge=Ce,We=0,Je=Ve.m,Xe=8,Ye=o(128,f);i:for(;l(Ye,0,7,ze,19);){if(m(Je,1)){var $e=2+2*m(Je,3);if((He=2+m(Je,$e))>qe)break i}else He=qe;for(Ke=0;Ke<qe&&He--;){B(Je);var Ze=Ye[0+(127&x(Je))];_(Je,Je.u+Ze.g);var et=Ze.value;if(16>et)Ge[Ke++]=et,0!=et&&(Xe=et);else{var tt=16==et,rt=et-16,nt=Wn[rt],it=m(Je,Gn[rt])+nt;if(Ke+it>qe)break i;for(var at=tt?Xe:0;0<it--;)Ge[Ke++]=at}}We=1;break i}We||(Ve.a=3),Re=We}(Re=Re&&!Le.h)&&(Oe=l(Pe,Te,8,Ce,_e)),Re&&0!=Oe?Qe=Oe:(Be.a=3,Qe=0)}if(0==Qe)break r;if(we&&1==Xn[z]&&(we=0==pe[q].g),be+=pe[q].g,q+=Qe,3>=z){var ot,st=de[0];for(ot=1;ot<ce;++ot)de[ot]>st&&(st=de[ot]);xe+=st}}if(ve.nd=we,ve.Qb=0,we&&(ve.qb=(ge[3][ye[3]+0].value<<24|ge[1][ye[1]+0].value<<16|ge[2][ye[2]+0].value)>>>0,0==be&&256>ge[0][ye[0]+0].value&&(ve.Qb=1,ve.qb+=ge[0][ye[0]+0].value<<8)),ve.jc=!ve.Qb&&6>xe,ve.jc){var ut,ct=ve;for(ut=0;ut<Rr;++ut){var lt=ut,ft=ct.pd[lt],ht=ct.G[0][ct.H[0]+lt];256<=ht.value?(ft.g=ht.g+256,ft.value=ht.value):(ft.g=0,ft.value=0,lt>>=me(ht,8,ft),lt>>=me(ct.G[1][ct.H[1]+lt],16,ft),lt>>=me(ct.G[2][ct.H[2]+lt],0,ft),me(ct.G[3][ct.H[3]+lt],24,ft))}}}Z.vc=ee,Z.Wb=te,Z.Ya=Ae,Z.yc=le,K=1;break t}K=0}if(!(c=K)){s.a=3;break e}if(0<y){if(v.ua=1<<y,!L(v.Wa,y)){s.a=1,c=0;break e}}else v.ua=0;var At=s,dt=h,pt=d,vt=At.s,gt=vt.xc;if(At.c=dt,At.i=pt,vt.md=F(dt,gt),vt.wc=0==gt?-1:(1<<gt)-1,n){s.xb=di;break e}if(null==(g=a(h*d))){s.a=1,c=0;break e}c=(c=Ee(s,g,0,h,d,d,null))&&!p.h;break e}return c?(null!=u?u[0]=g:(t(null==g),t(n)),s.$=0,n||Se(v)):Se(v),c}function Pe(e,r){var n=e.c*e.i,i=n+r+16*r;return t(e.c<=r),e.V=a(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+r,1)}function Te(e,r){var n=e.C,i=r-n,a=e.V,o=e.Ba+e.c*n;for(t(r<=e.l.o);0<i;){var s=16<i?16:i,u=e.l.ma,c=e.l.width,l=c*s,f=u.ca,h=u.tb+c*n,A=e.Ta,d=e.Ua;we(e,s,a,o),En(A,d,f,h,l),_e(u,n,n+s,f,h,c),i-=s,a+=s*e.c,n+=s}t(n==r),e.C=e.Ma=r}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function Le(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ne(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Me(){this.Yb=function(){var e=[];return function e(t,r,n){for(var i=n[r],a=0;a<i&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));a++)e(t[a],r+1,n)}(e,0,[3,11]),e}()}function Ue(){this.jb=a(3),this.Wc=s([4,8],Me),this.Xc=s([4,17],Me)}function Fe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Re(){this.ld=this.La=this.dd=this.tc=0}function De(){this.Na=this.la=0}function je(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qe(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Re),this.Y=0,this.ya=Array(new Qe),this.aa=0,this.l=new qe}function Ke(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ve(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Oe,this.Kc=new Le,this.ed=new Fe,this.Qa=new Ne,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,b),this.ia=0,this.pb=o(4,je),this.Pa=new Ue,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ke),this.Hd=0,this.rb=Array(new De),this.sb=0,this.wa=Array(new Re),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qe),this.L=this.aa=0,this.gd=s([4,2],Re),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ze(e,t){return 0>e?0:e>t?t:e}function qe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ve;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=Ye)),e}function We(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Je(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return We(e,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,a=r.w,o=r.ha;if(4>o)return We(e,7,"Truncated header.");var s=n[a+0]|n[a+1]<<8|n[a+2]<<16,u=e.Od;if(u.Rb=!(1&s),u.td=s>>1&7,u.yd=s>>4&1,u.ub=s>>5,3<u.td)return We(e,3,"Incorrect keyframe parameters.");if(!u.yd)return We(e,4,"Frame not displayable.");a+=3,o-=3;var c=e.Kc;if(u.Rb){if(7>o)return We(e,7,"cannot parse picture header");if(!Je(n,a,o))return We(e,3,"Bad code word");c.c=16383&(n[a+4]<<8|n[a+3]),c.Td=n[a+4]>>6,c.i=16383&(n[a+6]<<8|n[a+5]),c.Ud=n[a+6]>>6,a+=7,o-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,r.width=c.c,r.height=c.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,i((s=e.Pa).jb,0,255,s.jb.length),t(null!=(s=e.Qa)),s.Cb=0,s.Bb=0,s.Fb=1,i(s.Zb,0,0,s.Zb.length),i(s.Lb,0,0,s.Lb)}if(u.ub>o)return We(e,7,"bad partition length");d(s=e.m,n,a,u.ub),a+=u.ub,o-=u.ub,u.Rb&&(c.Ld=S(s),c.Kd=S(s)),c=e.Qa;var l,f=e.Pa;if(t(null!=s),t(null!=c),c.Cb=S(s),c.Cb){if(c.Bb=S(s),S(s)){for(c.Fb=S(s),l=0;4>l;++l)c.Zb[l]=S(s)?v(s,7):0;for(l=0;4>l;++l)c.Lb[l]=S(s)?v(s,6):0}if(c.Bb)for(l=0;3>l;++l)f.jb[l]=S(s)?p(s,8):255}else c.Bb=0;if(s.Ka)return We(e,3,"cannot parse segment header");if((c=e.ed).zd=S(s),c.Tb=p(s,6),c.wb=p(s,3),c.Pc=S(s),c.Pc&&S(s)){for(f=0;4>f;++f)S(s)&&(c.vd[f]=v(s,6));for(f=0;4>f;++f)S(s)&&(c.od[f]=v(s,6))}if(e.L=0==c.Tb?0:c.zd?1:2,s.Ka)return We(e,3,"cannot parse filter header");var h=o;if(o=l=a,a=l+h,c=h,e.Xb=(1<<p(e.m,2))-1,h<3*(f=e.Xb))n=7;else{for(l+=3*f,c-=3*f,h=0;h<f;++h){var A=n[o+0]|n[o+1]<<8|n[o+2]<<16;A>c&&(A=c),d(e.Jc[+h],n,l,A),l+=A,c-=A,o+=3}d(e.Jc[+f],n,l,c),n=l<a?0:5}if(0!=n)return We(e,n,"cannot parse partitions");for(n=p(l=e.m,7),o=S(l)?v(l,4):0,a=S(l)?v(l,4):0,c=S(l)?v(l,4):0,f=S(l)?v(l,4):0,l=S(l)?v(l,4):0,h=e.Qa,A=0;4>A;++A){if(h.Cb){var g=h.Zb[A];h.Fb||(g+=n)}else{if(0<A){e.pb[A]=e.pb[0];continue}g=n}var y=e.pb[A];y.Sc[0]=ti[ze(g+o,127)],y.Sc[1]=ri[ze(g+0,127)],y.Eb[0]=2*ti[ze(g+a,127)],y.Eb[1]=101581*ri[ze(g+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[ze(g+f,117)],y.Qc[1]=ri[ze(g+l,127)],y.lc=g+l}if(!u.Rb)return We(e,4,"Not a key frame.");for(S(s),u=e.Pa,n=0;4>n;++n){for(o=0;8>o;++o)for(a=0;3>a;++a)for(c=0;11>c;++c)f=C(s,ci[n][o][a][c])?p(s,8):si[n][o][a][c],u.Wc[n][o].Yb[a][c]=f;for(o=0;17>o;++o)u.Xc[n][o]=u.Wc[n][li[o]]}return e.kc=S(s),e.kc&&(e.Bd=p(s,8)),e.cb=1}function Ye(e,t,r,n,i,a,o){var s=t[i].Yb[r];for(r=0;16>i;++i){if(!C(e,s[r+0]))return i;for(;!C(e,s[r+1]);)if(s=t[++i].Yb[0],r=0,16==i)return 16;var u=t[i+1].Yb;if(C(e,s[r+2])){var c=e,l=0;if(C(c,(h=s)[(f=r)+3]))if(C(c,h[f+6])){for(s=0,f=2*(l=C(c,h[f+8]))+(h=C(c,h[f+9+l])),l=0,h=ii[f];h[s];++s)l+=l+C(c,h[s]);l+=3+(8<<f)}else C(c,h[f+7])?(l=7+2*C(c,165),l+=C(c,145)):l=5+C(c,159);else l=C(c,h[f+4])?3+C(c,h[f+5]):2;s=u[2]}else l=1,s=u[1];u=o+ai[i],0>(c=e).b&&E(c);var f,h=c.b,A=(f=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=A,c.Ca|=1,c.I-=(f+1&A)<<h,a[u]=((l^A)-A)*n[(0<i)+0]}return 16}function $e(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,r){if(null==e)return 0;if(null==r)return We(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var s=Di[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-s>>4,e.zb=r.j-s>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+s>>4,e.Hb=r.va+15+s>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var u=e.ed;for(s=0;4>s;++s){var c;if(e.Qa.Cb){var l=e.Qa.Lb[s];e.Qa.Fb||(l+=u.Tb)}else l=u.Tb;for(c=0;1>=c;++c){var f=e.gd[s][c],h=l;if(u.Pc&&(h+=u.vd[0],c&&(h+=u.od[0])),0<(h=0>h?0:63<h?63:h)){var A=h;0<u.wb&&(A=4<u.wb?A>>2:A>>1)>9-u.wb&&(A=9-u.wb),1>A&&(A=1),f.dd=A,f.tc=2*h+A,f.ld=40<=h?2:15<=h?1:0}else f.tc=0;f.La=c}}}s=0}else We(e,6,"Frame setup failed"),s=e.a;if(s=0==s){if(s){e.$c=0,0<e.Aa||(e.Ic=Qi);e:{s=e.Ic,u=4*(A=e.za);var d=32*A,p=A+1,v=0<e.L?A*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*A;if((f=u+832+(c=3*(16*s+Di[e.L])/2*d)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=f)s=0;else{if(f>e.Vb){if(e.Vb=0,e.Ec=a(f),e.Fc=0,null==e.Ec){s=We(e,1,"no memory during frame initialization.");break e}e.Vb=f}f=e.Ec,h=e.Fc,e.Ac=f,e.Bc=h,h+=u,e.Gd=o(d,Ke),e.Hd=0,e.rb=o(p+1,De),e.sb=1,e.wa=v?o(v,Re):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=A),t(!0),e.oc=f,e.pc=h,h+=832,e.ya=o(g,Qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=A),e.R=16*A,e.B=8*A,A=(d=Di[e.L])*e.R,d=d/2*e.B,e.sa=f,e.ta=h+A,e.qa=e.sa,e.ra=e.ta+16*s*e.R+d,e.Ha=e.qa,e.Ia=e.ra+8*s*e.B+d,e.$c=0,h+=c,e.mb=l?f:null,e.nb=l?h:null,t(h+l<=e.Fc+e.Vb),$e(e),i(e.Ac,e.Bc,0,u),s=1}}if(s){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!Tn){for(s=-255;255>=s;++s)Sn[255+s]=0>s?-s:s;for(s=-1020;1020>=s;++s)Cn[1020+s]=-128>s?-128:127<s?127:s;for(s=-112;112>=s;++s)In[112+s]=-16>s?-16:15<s?15:s;for(s=-255;510>=s;++s)Pn[255+s]=0>s?0:255<s?255:s;Tn=1}an=ct,on=at,un=ot,cn=st,ln=ut,sn=it,fn=Wt,hn=Jt,An=$t,dn=Zt,pn=Xt,vn=Yt,gn=er,yn=tr,mn=Ht,bn=Kt,wn=Vt,xn=zt,hi[0]=_t,hi[1]=ft,hi[2]=xt,hi[3]=kt,hi[4]=Bt,hi[5]=St,hi[6]=Et,hi[7]=Ct,hi[8]=Pt,hi[9]=It,fi[0]=gt,fi[1]=At,fi[2]=dt,fi[3]=pt,fi[4]=yt,fi[5]=mt,fi[6]=bt,Ai[0]=Nt,Ai[1]=ht,Ai[2]=Tt,Ai[3]=Ot,Ai[4]=Ut,Ai[5]=Mt,Ai[6]=Ft,s=1}else s=0}s&&(s=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var o,s=e.Jc[e.M&e.Xb],u=e.m,c=e;for(o=0;o<c.za;++o){var l=u,f=c,h=f.Ac,A=f.Bc+4*o,d=f.zc,p=f.ya[f.aa+o];if(f.Qa.Bb?p.$b=C(l,f.Pa.jb[0])?2+C(l,f.Pa.jb[2]):C(l,f.Pa.jb[1]):p.$b=0,f.kc&&(p.Ad=C(l,f.Bd)),p.Za=!C(l,145)+0,p.Za){var v=p.Ob,g=0;for(f=0;4>f;++f){var y,m=d[0+f];for(y=0;4>y;++y){m=ui[h[A+y]][m];for(var b=oi[C(l,m[0])];0<b;)b=oi[2*b+C(l,m[b])];m=-b,h[A+y]=m}n(v,g,h,A,4),g+=4,d[0+f]=m}}else m=C(l,156)?C(l,128)?1:3:C(l,163)?2:0,p.Ob[0]=m,i(h,A,m,4),i(d,0,m,4);p.Dd=C(l,142)?C(l,114)?C(l,183)?1:3:2:0}if(c.m.Ka)return We(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=s,l=(u=e).rb[u.sb-1],h=u.rb[u.sb+u.ja],o=u.ya[u.aa+u.ja],A=u.kc?o.Ad:0)l.la=h.la=0,o.Za||(l.Na=h.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var w,x;if(l=h,h=c,A=u.Pa.Xc,d=u.ya[u.aa+u.ja],p=u.pb[d.$b],f=d.ad,v=0,g=u.rb[u.sb-1],m=y=0,i(f,v,0,384),d.Za)var k=0,_=A[3];else{b=a(16);var B=l.Na+g.Na;if(B=ni(h,A[1],B,p.Eb,0,b,0),l.Na=g.Na=(0<B)+0,1<B)an(b,0,f,v);else{var E=b[0]+3>>3;for(b=0;256>b;b+=16)f[v+b]=E}k=1,_=A[0]}var S=15&l.la,I=15&g.la;for(b=0;4>b;++b){var P=1&I;for(E=x=0;4>E;++E)S=S>>1|(P=(B=ni(h,_,B=P+(1&S),p.Sc,k,f,v))>k)<<7,x=x<<2|(3<B?3:1<B?2:0!=f[v+0]),v+=16;S>>=4,I=I>>1|P<<7,y=(y<<8|x)>>>0}for(_=S,k=I>>4,w=0;4>w;w+=2){for(x=0,S=l.la>>4+w,I=g.la>>4+w,b=0;2>b;++b){for(P=1&I,E=0;2>E;++E)B=P+(1&S),S=S>>1|(P=0<(B=ni(h,A[2],B,p.Qc,0,f,v)))<<3,x=x<<2|(3<B?3:1<B?2:0!=f[v+0]),v+=16;S>>=2,I=I>>1|P<<5}m|=x<<4*w,_|=S<<4<<w,k|=(240&I)<<w}l.la=_,g.la=k,d.Hc=y,d.Gc=m,d.ia=43690&m?0:p.ia,A=!(y|m)}if(0<u.L&&(u.wa[u.Y+u.ja]=u.gd[o.$b][o.Za],u.wa[u.Y+u.ja].La|=!A),c.Ka)return We(e,7,"Premature end-of-file encountered.")}if($e(e),u=r,c=1,o=(s=e).D,l=0<s.L&&s.M>=s.zb&&s.M<=s.Va,0==s.Aa)e:{if(o.M=s.M,o.uc=l,Lr(s,o),c=1,o=(x=s.D).Nb,l=(m=Di[s.L])*s.R,h=m/2*s.B,b=16*o*s.R,E=8*o*s.B,A=s.sa,d=s.ta-l+b,p=s.qa,f=s.ra-h+E,v=s.Ha,g=s.Ia-h+E,I=0==(S=x.M),y=S>=s.Va-1,2==s.Aa&&Lr(s,x),x.uc)for(P=(B=s).D.M,t(B.D.uc),x=B.yb;x<B.Hb;++x){k=x,_=P;var T=(O=(Q=B).D).Nb;w=Q.R;var O=O.wa[O.Y+k],L=Q.sa,N=Q.ta+16*T*w+16*k,M=O.dd,U=O.tc;if(0!=U)if(t(3<=U),1==Q.L)0<k&&bn(L,N,w,U+4),O.La&&xn(L,N,w,U),0<_&&mn(L,N,w,U+4),O.La&&wn(L,N,w,U);else{var F=Q.B,R=Q.qa,D=Q.ra+8*T*F+8*k,j=Q.Ha,Q=Q.Ia+8*T*F+8*k;T=O.ld,0<k&&(hn(L,N,w,U+4,M,T),dn(R,D,j,Q,F,U+4,M,T)),O.La&&(vn(L,N,w,U,M,T),yn(R,D,j,Q,F,U,M,T)),0<_&&(fn(L,N,w,U+4,M,T),An(R,D,j,Q,F,U+4,M,T)),O.La&&(pn(L,N,w,U,M,T),gn(R,D,j,Q,F,U,M,T))}}if(s.ia&&alert("todo:DitherRow"),null!=u.put){if(x=16*S,S=16*(S+1),I?(u.y=s.sa,u.O=s.ta+b,u.f=s.qa,u.N=s.ra+E,u.ea=s.Ha,u.W=s.Ia+E):(x-=m,u.y=A,u.O=d,u.f=p,u.N=f,u.ea=v,u.W=g),y||(S-=m),S>u.o&&(S=u.o),u.F=null,u.J=null,null!=s.Fa&&0<s.Fa.length&&x<S&&(u.J=fr(s,u,x,S-x),u.F=s.mb,null==u.F&&0==u.F.length)){c=We(s,3,"Could not decode alpha data.");break e}x<u.j&&(m=u.j-x,x=u.j,t(!(1&m)),u.O+=s.R*m,u.N+=s.B*(m>>1),u.W+=s.B*(m>>1),null!=u.F&&(u.J+=u.width*m)),x<S&&(u.O+=u.v,u.N+=u.v>>1,u.W+=u.v>>1,null!=u.F&&(u.J+=u.v),u.ka=x-u.j,u.U=u.va-u.v,u.T=S-x,c=u.put(u))}o+1!=s.Ic||y||(n(s.sa,s.ta-l,A,d+16*s.R,l),n(s.qa,s.ra-h,p,f+8*s.B,h),n(s.Ha,s.Ia-h,v,g+8*s.B,h))}if(!c)return We(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),s&=1}return s?(e.cb=0,s):0}function et(e,t,r,n,i){i=e[t+r+32*n]+(i>>3),e[t+r+32*n]=-256&i?0>i?0:255:i}function tt(e,t,r,n,i,a){et(e,t,0,r,n+i),et(e,t,1,r,n+a),et(e,t,2,r,n-a),et(e,t,3,r,n-i)}function rt(e){return(20091*e>>16)+e}function nt(e,t,r,n){var i,o=0,s=a(16);for(i=0;4>i;++i){var u=e[t+0]+e[t+8],c=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-rt(e[t+12]),f=rt(e[t+4])+(35468*e[t+12]>>16);s[o+0]=u+f,s[o+1]=c+l,s[o+2]=c-l,s[o+3]=u-f,o+=4,t++}for(i=o=0;4>i;++i)u=(e=s[o+0]+4)+s[o+8],c=e-s[o+8],l=(35468*s[o+4]>>16)-rt(s[o+12]),et(r,n,0,0,u+(f=rt(s[o+4])+(35468*s[o+12]>>16))),et(r,n,1,0,c+l),et(r,n,2,0,c-l),et(r,n,3,0,u-f),o++,n+=32}function it(e,t,r,n){var i=e[t+0]+4,a=35468*e[t+4]>>16,o=rt(e[t+4]),s=35468*e[t+1]>>16;tt(r,n,0,i+o,e=rt(e[t+1]),s),tt(r,n,1,i+a,e,s),tt(r,n,2,i-a,e,s),tt(r,n,3,i-o,e,s)}function at(e,t,r,n,i){nt(e,t,r,n),i&&nt(e,t+16,r,n+4)}function ot(e,t,r,n){on(e,t+0,r,n,1),on(e,t+32,r,n+128,1)}function st(e,t,r,n){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(r,n,t,i,e)}function ut(e,t,r,n){e[t+0]&&cn(e,t+0,r,n),e[t+16]&&cn(e,t+16,r,n+4),e[t+32]&&cn(e,t+32,r,n+128),e[t+48]&&cn(e,t+48,r,n+128+4)}function ct(e,t,r,n){var i,o=a(16);for(i=0;4>i;++i){var s=e[t+0+i]+e[t+12+i],u=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];o[0+i]=s+u,o[8+i]=s-u,o[4+i]=l+c,o[12+i]=l-c}for(i=0;4>i;++i)s=(e=o[0+4*i]+3)+o[3+4*i],u=o[1+4*i]+o[2+4*i],c=o[1+4*i]-o[2+4*i],l=e-o[3+4*i],r[n+0]=s+u>>3,r[n+16]=l+c>>3,r[n+32]=s-u>>3,r[n+48]=l-c>>3,n+=64}function lt(e,t,r){var n,i=t-32,a=Nn,o=255-e[i-1];for(n=0;n<r;++n){var s,u=a,c=o+e[t-1];for(s=0;s<r;++s)e[t+s]=u[c+e[i+s]];t+=32}}function ft(e,t){lt(e,t,4)}function ht(e,t){lt(e,t,8)}function At(e,t){lt(e,t,16)}function dt(e,t){var r;for(r=0;16>r;++r)n(e,t+32*r,e,t-32,16)}function pt(e,t){var r;for(r=16;0<r;--r)i(e,t,e[t-1],16),t+=32}function vt(e,t,r){var n;for(n=0;16>n;++n)i(t,r+32*n,e,16)}function gt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];vt(n>>5,e,t)}function yt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];vt(n>>4,e,t)}function mt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];vt(n>>4,e,t)}function bt(e,t){vt(128,e,t)}function wt(e,t,r){return e+2*t+r+2>>2}function xt(e,t){var r,i=t-32;for(i=new Uint8Array([wt(e[i-1],e[i+0],e[i+1]),wt(e[i+0],e[i+1],e[i+2]),wt(e[i+1],e[i+2],e[i+3]),wt(e[i+2],e[i+3],e[i+4])]),r=0;4>r;++r)n(e,t+32*r,i,0,i.length)}function kt(e,t){var r=e[t-1],n=e[t-1+32],i=e[t-1+64],a=e[t-1+96];I(e,t+0,16843009*wt(e[t-1-32],r,n)),I(e,t+32,16843009*wt(r,n,i)),I(e,t+64,16843009*wt(n,i,a)),I(e,t+96,16843009*wt(i,a,a))}function _t(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)i(e,t+32*r,n,4)}function Bt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],u=e[t+2-32],c=e[t+3-32];e[t+0+96]=wt(n,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(r,n,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(a,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(o,a,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(s,o,a),e[t+3+32]=e[t+2+0]=wt(u,s,o),e[t+3+0]=wt(c,u,s)}function Et(e,t){var r=e[t+1-32],n=e[t+2-32],i=e[t+3-32],a=e[t+4-32],o=e[t+5-32],s=e[t+6-32],u=e[t+7-32];e[t+0+0]=wt(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=wt(r,n,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(n,i,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(i,a,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(a,o,s),e[t+3+64]=e[t+2+96]=wt(o,s,u),e[t+3+96]=wt(s,u,u)}function St(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1-32],o=e[t+0-32],s=e[t+1-32],u=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=a+o+1>>1,e[t+1+0]=e[t+2+64]=o+s+1>>1,e[t+2+0]=e[t+3+64]=s+u+1>>1,e[t+3+0]=u+c+1>>1,e[t+0+96]=wt(i,n,r),e[t+0+64]=wt(n,r,a),e[t+0+32]=e[t+1+96]=wt(r,a,o),e[t+1+32]=e[t+2+96]=wt(a,o,s),e[t+2+32]=e[t+3+96]=wt(o,s,u),e[t+3+32]=wt(s,u,c)}function Ct(e,t){var r=e[t+0-32],n=e[t+1-32],i=e[t+2-32],a=e[t+3-32],o=e[t+4-32],s=e[t+5-32],u=e[t+6-32],c=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+i+1>>1,e[t+2+0]=e[t+1+64]=i+a+1>>1,e[t+3+0]=e[t+2+64]=a+o+1>>1,e[t+0+32]=wt(r,n,i),e[t+1+32]=e[t+0+96]=wt(n,i,a),e[t+2+32]=e[t+1+96]=wt(i,a,o),e[t+3+32]=e[t+2+96]=wt(a,o,s),e[t+3+64]=wt(o,s,u),e[t+3+96]=wt(s,u,c)}function It(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+i+1>>1,e[t+2+32]=e[t+0+64]=i+a+1>>1,e[t+1+0]=wt(r,n,i),e[t+3+0]=e[t+1+32]=wt(n,i,a),e[t+3+32]=e[t+1+64]=wt(i,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Pt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],a=e[t-1+96],o=e[t-1-32],s=e[t+0-32],u=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=r+o+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=i+n+1>>1,e[t+0+96]=a+i+1>>1,e[t+3+0]=wt(s,u,c),e[t+2+0]=wt(o,s,u),e[t+1+0]=e[t+3+32]=wt(r,o,s),e[t+1+32]=e[t+3+64]=wt(n,r,o),e[t+1+64]=e[t+3+96]=wt(i,n,r),e[t+1+96]=wt(a,i,n)}function Tt(e,t){var r;for(r=0;8>r;++r)n(e,t+32*r,e,t-32,8)}function Ot(e,t){var r;for(r=0;8>r;++r)i(e,t,e[t-1],8),t+=32}function Lt(e,t,r){var n;for(n=0;8>n;++n)i(t,r+32*n,e,8)}function Nt(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Lt(n>>4,e,t)}function Mt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Lt(n>>3,e,t)}function Ut(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Lt(n>>3,e,t)}function Ft(e,t){Lt(128,e,t)}function Rt(e,t,r){var n=e[t-r],i=e[t+0],a=3*(i-n)+On[1020+e[t-2*r]-e[t+r]],o=Ln[112+(a+4>>3)];e[t-r]=Nn[255+n+Ln[112+(a+3>>3)]],e[t+0]=Nn[255+i-o]}function Dt(e,t,r,n){var i=e[t+0],a=e[t+r];return Mn[255+e[t-2*r]-e[t-r]]>n||Mn[255+a-i]>n}function jt(e,t,r,n){return 4*Mn[255+e[t-r]-e[t+0]]+Mn[255+e[t-2*r]-e[t+r]]<=n}function Qt(e,t,r,n,i){var a=e[t-3*r],o=e[t-2*r],s=e[t-r],u=e[t+0],c=e[t+r],l=e[t+2*r],f=e[t+3*r];return 4*Mn[255+s-u]+Mn[255+o-c]>n?0:Mn[255+e[t-4*r]-a]<=i&&Mn[255+a-o]<=i&&Mn[255+o-s]<=i&&Mn[255+f-l]<=i&&Mn[255+l-c]<=i&&Mn[255+c-u]<=i}function Ht(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)jt(e,t+n,r,i)&&Rt(e,t+n,r)}function Kt(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)jt(e,t+n*r,1,i)&&Rt(e,t+n*r,1)}function Vt(e,t,r,n){var i;for(i=3;0<i;--i)Ht(e,t+=4*r,r,n)}function zt(e,t,r,n){var i;for(i=3;0<i;--i)Kt(e,t+=4,r,n)}function qt(e,t,r,n,i,a,o,s){for(a=2*a+1;0<i--;){if(Qt(e,t,r,a,o))if(Dt(e,t,r,s))Rt(e,t,r);else{var u=e,c=t,l=r,f=u[c-2*l],h=u[c-l],A=u[c+0],d=u[c+l],p=u[c+2*l],v=27*(y=On[1020+3*(A-h)+On[1020+f-d]])+63>>7,g=18*y+63>>7,y=9*y+63>>7;u[c-3*l]=Nn[255+u[c-3*l]+y],u[c-2*l]=Nn[255+f+g],u[c-l]=Nn[255+h+v],u[c+0]=Nn[255+A-v],u[c+l]=Nn[255+d-g],u[c+2*l]=Nn[255+p-y]}t+=n}}function Gt(e,t,r,n,i,a,o,s){for(a=2*a+1;0<i--;){if(Qt(e,t,r,a,o))if(Dt(e,t,r,s))Rt(e,t,r);else{var u=e,c=t,l=r,f=u[c-l],h=u[c+0],A=u[c+l],d=Ln[112+(4+(p=3*(h-f))>>3)],p=Ln[112+(p+3>>3)],v=d+1>>1;u[c-2*l]=Nn[255+u[c-2*l]+v],u[c-l]=Nn[255+f+p],u[c+0]=Nn[255+h-d],u[c+l]=Nn[255+A-v]}t+=n}}function Wt(e,t,r,n,i,a){qt(e,t,r,1,16,n,i,a)}function Jt(e,t,r,n,i,a){qt(e,t,1,r,16,n,i,a)}function Xt(e,t,r,n,i,a){var o;for(o=3;0<o;--o)Gt(e,t+=4*r,r,1,16,n,i,a)}function Yt(e,t,r,n,i,a){var o;for(o=3;0<o;--o)Gt(e,t+=4,1,r,16,n,i,a)}function $t(e,t,r,n,i,a,o,s){qt(e,t,i,1,8,a,o,s),qt(r,n,i,1,8,a,o,s)}function Zt(e,t,r,n,i,a,o,s){qt(e,t,1,i,8,a,o,s),qt(r,n,1,i,8,a,o,s)}function er(e,t,r,n,i,a,o,s){Gt(e,t+4*i,i,1,8,a,o,s),Gt(r,n+4*i,i,1,8,a,o,s)}function tr(e,t,r,n,i,a,o,s){Gt(e,t+4,1,i,8,a,o,s),Gt(r,n+4,1,i,8,a,o,s)}function rr(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ue,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new A,this.yc=new f}function or(){this.xb=this.a=0,this.l=new qe,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=o(4,ir),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ur(e,t,r,n,i,a,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)i[a+t]=e+r[n+t]&255,e=i[a+t]}function cr(e,t,r,n,i,a,o){var s;if(null==e)ur(null,null,r,n,i,a,o);else for(s=0;s<o;++s)i[a+s]=e[t+s]+r[n+s]&255}function lr(e,t,r,n,i,a,o){if(null==e)ur(null,null,r,n,i,a,o);else{var s,u=e[t+0],c=u,l=u;for(s=0;s<o;++s)c=l+(u=e[t+s])-c,l=r[n+s]+(-256&c?0>c?0:255:c)&255,c=u,i[a+s]=l}}function fr(e,r,i,o){var s=r.width,u=r.o;if(t(null!=e&&null!=r),0>i||0>=o||i+o>u)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new sr,(c=null==e.ga)||(c=r.width*r.o,t(0==e.Gb.length),e.Gb=a(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var l=e.Fa,f=e.P,h=e.qc,A=e.mb,d=e.nb,p=f+1,v=h-1,y=c.l;if(t(null!=l&&null!=A&&null!=r),vi[0]=null,vi[1]=ur,vi[2]=cr,vi[3]=lr,c.ca=A,c.tb=d,c.c=r.width,c.i=r.height,t(0<c.c&&0<c.i),1>=h)r=0;else if(c.$a=l[f+0]>>0&3,c.Z=l[f+0]>>2&3,c.Lc=l[f+0]>>4&3,f=l[f+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||f)r=0;else if(y.put=Ae,y.ac=he,y.bc=de,y.ma=c,y.width=r.width,y.height=r.height,y.Da=r.Da,y.v=r.v,y.va=r.va,y.j=r.j,y.o=r.o,c.$a)e:{t(1==c.$a),r=Ce();t:for(;;){if(null==r){r=0;break e}if(t(null!=c),c.mc=r,r.c=c.c,r.i=c.i,r.l=c.l,r.l.ma=c,r.l.width=c.c,r.l.height=c.i,r.a=0,g(r.m,l,p,v),!Ie(c.c,c.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&ke(r.s)?(c.ic=1,l=r.c*r.i,r.Ta=null,r.Ua=0,r.V=a(l),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(c.ic=0,r=Pe(r,c.c)),!r)break t;r=1;break e}c.mc=null,r=0}else r=v>=c.c*c.i;c=!r}if(c)return null;1!=e.ga.Lc?e.Ga=0:o=u-i}t(null!=e.ga),t(i+o<=u);e:{if(r=(l=e.ga).c,u=l.l.o,0==l.$a){if(p=e.rc,v=e.Vc,y=e.Fa,f=e.P+1+i*r,h=e.mb,A=e.nb+i*r,t(f<=e.P+e.qc),0!=l.Z)for(t(null!=vi[l.Z]),c=0;c<o;++c)vi[l.Z](p,v,y,f,h,A,r),p=h,v=A,A+=r,f+=r;else for(c=0;c<o;++c)n(h,A,y,f,r),p=h,v=A,A+=r,f+=r;e.rc=p,e.Vc=v}else{if(t(null!=l.mc),r=i+o,t(null!=(c=l.mc)),t(r<=c.i),c.C>=r)r=1;else if(l.ic||vr(),l.ic){l=c.V,p=c.Ba,v=c.c;var m=c.i,b=(y=1,f=c.$/v,h=c.$%v,A=c.m,d=c.s,c.$),w=v*m,x=v*r,_=d.wc,E=b<x?be(d,h,f):null;t(b<=w),t(r<=m),t(ke(d));t:for(;;){for(;!A.h&&b<x;){if(h&_||(E=be(d,h,f)),t(null!=E),B(A),256>(m=ye(E.G[0],E.H[0],A)))l[p+b]=m,++b,++h>=v&&(h=0,++f<=r&&!(f%16)&&Be(c,f));else{if(!(280>m)){y=0;break t}m=ve(m-256,A);var S,C=ye(E.G[4],E.H[4],A);if(B(A),!(b>=(C=ge(v,C=ve(C,A)))&&w-b>=m)){y=0;break t}for(S=0;S<m;++S)l[p+b+S]=l[p+b+S-C];for(b+=m,h+=m;h>=v;)h-=v,++f<=r&&!(f%16)&&Be(c,f);b<x&&h&_&&(E=be(d,h,f))}t(A.h==k(A))}Be(c,f>r?r:f);break t}!y||A.h&&b<w?(y=0,c.a=A.h?5:3):c.$=b,r=y}else r=Ee(c,c.V,c.Ba,c.c,c.i,r,Te);if(!r){o=0;break e}}i+o>=u&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*s}function hr(e,t,r,n,i,a){for(;0<i--;){var o,s=e,u=t+(r?1:0),c=e,l=t+(r?0:3);for(o=0;o<n;++o){var f=c[l+4*o];255!=f&&(f*=32897,s[u+4*o+0]=s[u+4*o+0]*f>>23,s[u+4*o+1]=s[u+4*o+1]*f>>23,s[u+4*o+2]=s[u+4*o+2]*f>>23)}t+=a}}function Ar(e,t,r,n,i){for(;0<n--;){var a;for(a=0;a<r;++a){var o=e[t+2*a+0],s=15&(c=e[t+2*a+1]),u=4369*s,c=(240&c|c>>4)*u>>16;e[t+2*a+0]=(240&o|o>>4)*u>>16&240|(15&o|o<<4)*u>>16>>4&15,e[t+2*a+1]=240&c|s}t+=i}}function dr(e,t,r,n,i,a,o,s){var u,c,l=255;for(c=0;c<i;++c){for(u=0;u<n;++u){var f=e[t+u];a[o+4*u]=f,l&=f}t+=r,o+=s}return 255!=l}function pr(e,t,r,n,i){var a;for(a=0;a<i;++a)r[n+a]=e[t+a]>>8}function vr(){kn=hr,_n=Ar,Bn=dr,En=pr}function gr(r,n,i){e[r]=function(e,r,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m){var b,w=m-1>>1,x=s[u+0]|c[l+0]<<16,k=f[h+0]|A[d+0]<<16;t(null!=e);var _=3*x+k+131074>>2;for(n(e[r+0],255&_,_>>16,p,v),null!=a&&(_=3*k+x+131074>>2,n(a[o+0],255&_,_>>16,g,y)),b=1;b<=w;++b){var B=s[u+b]|c[l+b]<<16,E=f[h+b]|A[d+b]<<16,S=x+B+k+E+524296,C=S+2*(B+k)>>3;_=C+x>>1,x=(S=S+2*(x+E)>>3)+B>>1,n(e[r+2*b-1],255&_,_>>16,p,v+(2*b-1)*i),n(e[r+2*b-0],255&x,x>>16,p,v+(2*b-0)*i),null!=a&&(_=S+k>>1,x=C+E>>1,n(a[o+2*b-1],255&_,_>>16,g,y+(2*b-1)*i),n(a[o+2*b+0],255&x,x>>16,g,y+(2*b+0)*i)),x=B,k=E}1&m||(_=3*x+k+131074>>2,n(e[r+m-1],255&_,_>>16,p,v+(m-1)*i),null!=a&&(_=3*k+x+131074>>2,n(a[o+m-1],255&_,_>>16,g,y+(m-1)*i)))}}function yr(){gi[Un]=yi,gi[Fn]=bi,gi[Rn]=mi,gi[Dn]=wi,gi[jn]=xi,gi[Qn]=ki,gi[Hn]=_i,gi[Kn]=bi,gi[Vn]=wi,gi[zn]=xi,gi[qn]=ki}function mr(e){return e&~Pi?0>e?0:255:e>>Ii}function br(e,t){return mr((19077*e>>8)+(26149*t>>8)-14234)}function wr(e,t,r){return mr((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function xr(e,t){return mr((19077*e>>8)+(33050*t>>8)-17685)}function kr(e,t,r,n,i){n[i+0]=br(e,r),n[i+1]=wr(e,t,r),n[i+2]=xr(e,t)}function _r(e,t,r,n,i){n[i+0]=xr(e,t),n[i+1]=wr(e,t,r),n[i+2]=br(e,r)}function Br(e,t,r,n,i){var a=wr(e,t,r);t=a<<3&224|xr(e,t)>>3,n[i+0]=248&br(e,r)|a>>5,n[i+1]=t}function Er(e,t,r,n,i){var a=240&xr(e,t)|15;n[i+0]=240&br(e,r)|wr(e,t,r)>>4,n[i+1]=a}function Sr(e,t,r,n,i){n[i+0]=255,kr(e,t,r,n,i+1)}function Cr(e,t,r,n,i){_r(e,t,r,n,i),n[i+3]=255}function Ir(e,t,r,n,i){kr(e,t,r,n,i),n[i+3]=255}function ze(e,t){return 0>e?0:e>t?t:e}function Pr(t,r,n){e[t]=function(e,t,i,a,o,s,u,c,l){for(var f=c+(-2&l)*n;c!=f;)r(e[t+0],i[a+0],o[s+0],u,c),r(e[t+1],i[a+0],o[s+0],u,c+n),t+=2,++a,++s,c+=2*n;1&l&&r(e[t+0],i[a+0],o[s+0],u,c)}}function Tr(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Or(e,t,r,n,i){switch(e>>>30){case 3:on(t,r,n,i,0);break;case 2:sn(t,r,n,i);break;case 1:cn(t,r,n,i)}}function Lr(e,t){var r,a,o=t.M,s=t.Nb,u=e.oc,c=e.pc+40,l=e.oc,f=e.pc+584,h=e.oc,A=e.pc+600;for(r=0;16>r;++r)u[c+32*r-1]=129;for(r=0;8>r;++r)l[f+32*r-1]=129,h[A+32*r-1]=129;for(0<o?u[c-1-32]=l[f-1-32]=h[A-1-32]=129:(i(u,c-32-1,127,21),i(l,f-32-1,127,9),i(h,A-32-1,127,9)),a=0;a<e.za;++a){var d=t.ya[t.aa+a];if(0<a){for(r=-1;16>r;++r)n(u,c+32*r-4,u,c+32*r+12,4);for(r=-1;8>r;++r)n(l,f+32*r-4,l,f+32*r+4,4),n(h,A+32*r-4,h,A+32*r+4,4)}var p=e.Gd,v=e.Hd+a,g=d.ad,y=d.Hc;if(0<o&&(n(u,c-32,p[v].y,0,16),n(l,f-32,p[v].f,0,8),n(h,A-32,p[v].ea,0,8)),d.Za){var m=u,b=c-32+16;for(0<o&&(a>=e.za-1?i(m,b,p[v].y[15],4):n(m,b,p[v+1].y,0,4)),r=0;4>r;r++)m[b+128+r]=m[b+256+r]=m[b+384+r]=m[b+0+r];for(r=0;16>r;++r,y<<=2)m=u,b=c+Ri[r],hi[d.Ob[r]](m,b),Or(y,g,16*+r,m,b)}else if(m=Tr(a,o,d.Ob[0]),fi[m](u,c),0!=y)for(r=0;16>r;++r,y<<=2)Or(y,g,16*+r,u,c+Ri[r]);for(r=d.Gc,m=Tr(a,o,d.Dd),Ai[m](l,f),Ai[m](h,A),y=g,m=l,b=f,255&(d=r>>0)&&(170&d?un(y,256,m,b):ln(y,256,m,b)),d=h,y=A,255&(r>>=8)&&(170&r?un(g,320,d,y):ln(g,320,d,y)),o<e.Ub-1&&(n(p[v].y,0,u,c+480,16),n(p[v].f,0,l,f+224,8),n(p[v].ea,0,h,A+224,8)),r=8*s*e.B,p=e.sa,v=e.ta+16*a+16*s*e.R,g=e.qa,d=e.ra+8*a+r,y=e.Ha,m=e.Ia+8*a+r,r=0;16>r;++r)n(p,v+r*e.R,u,c+32*r,16);for(r=0;8>r;++r)n(g,d+r*e.B,l,f+32*r,8),n(y,m+r*e.B,h,A+32*r,8)}}function Nr(e,n,i,a,o,s,u,c,l){var f=[0],h=[0],A=0,d=null!=l?l.kd:0,p=null!=l?l:new nr;if(null==e||12>i)return 7;p.data=e,p.w=n,p.ha=i,n=[n],i=[i],p.gb=[p.gb];e:{var v=n,y=i,m=p.gb;if(t(null!=e),t(null!=y),t(null!=m),m[0]=0,12<=y[0]&&!r(e,v[0],"RIFF")){if(r(e,v[0]+8,"WEBP")){m=3;break e}var b=O(e,v[0]+4);if(12>b||4294967286<b){m=3;break e}if(d&&b>y[0]-8){m=7;break e}m[0]=b,v[0]+=12,y[0]-=12}m=0}if(0!=m)return m;for(b=0<p.gb[0],i=i[0];;){e:{var x=e;y=n,m=i;var k=f,_=h,B=v=[0];if((C=A=[A])[0]=0,8>m[0])m=7;else{if(!r(x,y[0],"VP8X")){if(10!=O(x,y[0]+4)){m=3;break e}if(18>m[0]){m=7;break e}var E=O(x,y[0]+8),S=1+T(x,y[0]+12);if(2147483648<=S*(x=1+T(x,y[0]+15))){m=3;break e}null!=B&&(B[0]=E),null!=k&&(k[0]=S),null!=_&&(_[0]=x),y[0]+=18,m[0]-=18,C[0]=1}m=0}}if(A=A[0],v=v[0],0!=m)return m;if(y=!!(2&v),!b&&A)return 3;if(null!=s&&(s[0]=!!(16&v)),null!=u&&(u[0]=y),null!=c&&(c[0]=0),u=f[0],v=h[0],A&&y&&null==l){m=0;break}if(4>i){m=7;break}if(b&&A||!b&&!A&&!r(e,n[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{E=e,m=n,b=i;var C=p.gb;k=p.na,_=p.P,B=p.Sa,S=22,t(null!=E),t(null!=b),x=m[0];var I=b[0];for(t(null!=k),t(null!=B),k[0]=null,_[0]=null,B[0]=0;;){if(m[0]=x,b[0]=I,8>I){m=7;break e}var P=O(E,x+4);if(4294967286<P){m=3;break e}var L=8+P+1&-2;if(S+=L,0<C&&S>C){m=3;break e}if(!r(E,x,"VP8 ")||!r(E,x,"VP8L")){m=0;break e}if(I[0]<L){m=7;break e}r(E,x,"ALPH")||(k[0]=E,_[0]=x+8,B[0]=P),x+=L,I-=L}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=m)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];e:if(C=e,m=n,b=i,k=p.gb[0],_=p.Ja,B=p.xa,E=m[0],x=!r(C,E,"VP8 "),S=!r(C,E,"VP8L"),t(null!=C),t(null!=b),t(null!=_),t(null!=B),8>b[0])m=7;else{if(x||S){if(C=O(C,E+4),12<=k&&C>k-12){m=3;break e}if(d&&C>b[0]-8){m=7;break e}_[0]=C,m[0]+=8,b[0]-=8,B[0]=S}else B[0]=5<=b[0]&&47==C[E+0]&&!(C[E+4]>>5),_[0]=b[0];m=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],n=n[0],0!=m)break;if(4294967286<p.Ja)return 3;if(null==c||y||(c[0]=p.xa?2:1),u=[u],v=[v],p.xa){if(5>i){m=7;break}c=u,d=v,y=s,null==e||5>i?e=0:5<=i&&47==e[n+0]&&!(e[n+4]>>5)?(b=[0],C=[0],k=[0],g(_=new w,e,n,i),pe(_,b,C,k)?(null!=c&&(c[0]=b[0]),null!=d&&(d[0]=C[0]),null!=y&&(y[0]=k[0]),e=1):e=0):e=0}else{if(10>i){m=7;break}c=v,null==e||10>i||!Je(e,n+3,i-3)?e=0:(d=e[n+0]|e[n+1]<<8|e[n+2]<<16,y=16383&(e[n+7]<<8|e[n+6]),e=16383&(e[n+9]<<8|e[n+8]),1&d||3<(d>>1&7)||!(d>>4&1)||d>>5>=p.Ja||!y||!e?e=0:(u&&(u[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(u=u[0],v=v[0],A&&(f[0]!=u||h[0]!=v))return 3;null!=l&&(l[0]=p,l.offset=n-l.w,t(4294967286>n-l.w),t(l.offset==l.ha-i));break}return 0==m||7==m&&A&&null==l?(null!=s&&(s[0]|=null!=p.na&&0<p.na.length),null!=a&&(a[0]=u),null!=o&&(o[0]=v),0):m}function Mr(e,t,r){var n=t.width,i=t.height,a=0,o=0,s=n,u=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(s=e.cd,u=e.bd,a=e.v,o=e.j,11>r||(a&=-2,o&=-2),0>a||0>o||0>=s||0>=u||a+s>n||o+u>i))return 0;if(t.v=a,t.j=o,t.va=a+s,t.o=o+u,t.U=s,t.T=u,t.da=null!=e&&0<e.da,t.da){if(!U(s,u,r=[e.ib],a=[e.hb]))return 0;t.ib=r[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*i/4,t.Kb=0),1}function Ur(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Fr(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var i=r.cd,o=r.bd,s=-2&r.v,u=-2&r.j;if(0>s||0>u||0>=i||0>=o||s+i>e||u+o>t)return 2;e=i,t=o}if(r.da){if(!U(e,t,i=[r.ib],o=[r.hb]))return 2;e=i[0],t=o[0]}}n.width=e,n.height=t;e:{var c=n.width,l=n.height;if(e=n.S,0>=c||0>=l||!(e>=Un&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){s=o=i=t=0;var f=(u=c*Hi[e])*l;if(11>e||(o=(l+1)/2*(t=(c+1)/2),12==e&&(s=(i=c)*l)),null==(l=a(f+2*o+s))){e=1;break e}n.sd=l,11>e?((c=n.f.RGBA).eb=l,c.fb=0,c.A=u,c.size=f):((c=n.f.kb).y=l,c.O=0,c.fa=u,c.Fd=f,c.f=l,c.N=0+f,c.Ab=t,c.Cd=o,c.ea=l,c.W=0+f+o,c.Db=t,c.Ed=o,12==e&&(c.F=l,c.J=0+f+2*o),c.Tc=s,c.lb=i)}if(t=1,i=n.S,o=n.width,s=n.height,i>=Un&&13>i)if(11>i)e=n.f.RGBA,t&=(u=Math.abs(e.A))*(s-1)+o<=e.size,t&=u>=o*Hi[i],t&=null!=e.eb;else{e=n.f.kb,u=(o+1)/2,f=(s+1)/2,c=Math.abs(e.fa),l=Math.abs(e.Ab);var h=Math.abs(e.Db),A=Math.abs(e.lb),d=A*(s-1)+o;t&=c*(s-1)+o<=e.Fd,t&=l*(f-1)+u<=e.Cd,t=(t&=h*(f-1)+u<=e.Ed)&c>=o&l>=u&h>=u,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=A>=o,t&=d<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Ur(n)),e}var Rr=64,Dr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jr=24,Qr=32,Hr=8,Kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];D("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return Q(Q(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return Q(e,t[r-1])},e.Predictor7=function(e,t,r){return Q(e,t[r+0])},e.Predictor8=function(e,t,r){return Q(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return Q(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return Q(Q(e,t[r-1]),Q(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var n=t[r+0];return 0>=V(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+V(n>>16&255,e>>16&255,t>>16&255)+V(n>>8&255,e>>8&255,t>>8&255)+V(255&n,255&e,255&t)?n:e},e.Predictor12=function(e,t,r){var n=t[r+0];return(H((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|H((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|H((255&e)+(255&n)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var n=t[r-1];return(K((e=Q(e,t[r+0]))>>24&255,n>>24&255)<<24|K(e>>16&255,n>>16&255)<<16|K(e>>8&255,n>>8&255)<<8|K(e>>0&255,n>>0&255))>>>0};var Vr=e.PredictorAdd0;e.PredictorAdd1=z,D("Predictor2","PredictorAdd2"),D("Predictor3","PredictorAdd3"),D("Predictor4","PredictorAdd4"),D("Predictor5","PredictorAdd5"),D("Predictor6","PredictorAdd6"),D("Predictor7","PredictorAdd7"),D("Predictor8","PredictorAdd8"),D("Predictor9","PredictorAdd9"),D("Predictor10","PredictorAdd10"),D("Predictor11","PredictorAdd11"),D("Predictor12","PredictorAdd12"),D("Predictor13","PredictorAdd13");var zr=e.PredictorAdd2;J("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),J("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var qr,Gr=e.ColorIndexInverseTransform,Wr=e.MapARGB,Jr=e.VP8LColorIndexInverseTransformAlpha,Xr=e.MapAlpha,Yr=e.VP8LPredictorsAdd=[];Yr.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $r,Zr,en,tn,rn,nn,an,on,sn,un,cn,ln,fn,hn,An,dn,pn,vn,gn,yn,mn,bn,wn,xn,kn,_n,Bn,En,Sn=a(511),Cn=a(2041),In=a(225),Pn=a(767),Tn=0,On=Cn,Ln=In,Nn=Pn,Mn=Sn,Un=0,Fn=1,Rn=2,Dn=3,jn=4,Qn=5,Hn=6,Kn=7,Vn=8,zn=9,qn=10,Gn=[2,3,7],Wn=[3,3,11],Jn=[280,256,256,256,40],Xn=[0,1,1,1,0],Yn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$n=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ri=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ai=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ui=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],li=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fi=[],hi=[],Ai=[],di=1,pi=2,vi=[],gi=[];gr("UpsampleRgbLinePair",kr,3),gr("UpsampleBgrLinePair",_r,3),gr("UpsampleRgbaLinePair",Ir,4),gr("UpsampleBgraLinePair",Cr,4),gr("UpsampleArgbLinePair",Sr,4),gr("UpsampleRgba4444LinePair",Er,2),gr("UpsampleRgb565LinePair",Br,2);var yi=e.UpsampleRgbLinePair,mi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,wi=e.UpsampleBgraLinePair,xi=e.UpsampleArgbLinePair,ki=e.UpsampleRgba4444LinePair,_i=e.UpsampleRgb565LinePair,Bi=16,Ei=1<<Bi-1,Si=-227,Ci=482,Ii=6,Pi=(256<<Ii)-1,Ti=0,Oi=a(256),Li=a(256),Ni=a(256),Mi=a(256),Ui=a(Ci-Si),Fi=a(Ci-Si);Pr("YuvToRgbRow",kr,3),Pr("YuvToBgrRow",_r,3),Pr("YuvToRgbaRow",Ir,4),Pr("YuvToBgraRow",Cr,4),Pr("YuvToArgbRow",Sr,4),Pr("YuvToRgba4444Row",Er,2),Pr("YuvToRgb565Row",Br,2);var Ri=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Di=[0,2,8],ji=[8,7,6,4,4,2,2,2,1,1,1,1],Qi=1;this.WebPDecodeRGBA=function(e,r,n,i,a){var o=Fn,s=new rr,u=new oe;s.ba=u,u.S=o,u.width=[u.width],u.height=[u.height];var c=u.width,l=u.height,f=new se;if(null==f||null==e)var h=2;else t(null!=f),h=Nr(e,r,n,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=h?c=0:(null!=c&&(c[0]=f.width[0]),null!=l&&(l[0]=f.height[0]),c=1),c){u.width=u.width[0],u.height=u.height[0],null!=i&&(i[0]=u.width),null!=a&&(a[0]=u.height);e:{if(i=new qe,(a=new nr).data=e,a.w=r,a.ha=n,a.kd=1,r=[0],t(null!=a),(0==(e=Nr(a.data,a.w,a.ha,null,null,null,r,null,a))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=s),i.data=a.data,i.w=a.w+a.offset,i.ha=a.ha-a.offset,i.put=Ae,i.ac=he,i.bc=de,i.ma=s,a.xa){if(null==(e=Ce())){s=1;break e}if(function(e,r){var n=[0],i=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,g(e.m,r.data,r.w,r.ha),!pe(e.m,n,i,a)){e.a=3;break t}if(e.xb=pi,r.width=n[0],r.height=i[0],!Ie(n[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(r=Fr(i.width,i.height,s.Oa,s.ba))){t:{i=e;r:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(n=i.l)),t(null!=(a=n.ma)),0!=i.xb){if(i.ca=a.ba,i.tb=a.tb,t(null!=i.ca),!Mr(a.Oa,n,Dn)){i.a=2;break r}if(!Pe(i,n.width))break r;if(n.da)break r;if((n.da||ne(i.ca.S))&&vr(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vr()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!L(i.s.vb,i.s.Wa.Xa)){i.a=1;break r}i.xb=0}if(!Ee(i,i.V,i.Ba,i.c,i.i,n.o,xe))break r;a.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(r=e.a)}else r=e.a}else{if(null==(e=new Ge)){s=1;break e}if(e.Fa=a.na,e.P=a.P,e.qc=a.Sa,Xe(e,i)){if(0==(r=Fr(i.width,i.height,s.Oa,s.ba))){if(e.Aa=0,n=s.Oa,t(null!=(a=e)),null!=n){if(0<(c=0>(c=n.Md)?0:100<c?255:255*c/100)){for(l=f=0;4>l;++l)12>(h=a.pb[l]).lc&&(h.ia=c*ji[0>h.lc?0:h.lc]>>3),f|=h.ia;f&&(alert("todo:VP8InitRandom"),a.ia=1)}a.Ga=n.Id,100<a.Ga?a.Ga=100:0>a.Ga&&(a.Ga=0)}Ze(e,i)||(r=e.a)}}else r=e.a}0==r&&null!=s.Oa&&s.Oa.fd&&(r=Ur(s.ba))}s=r}o=0!=s?null:11>o?u.f.RGBA.eb:u.f.kb.y}else o=null;return o};var Hi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function l(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function f(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new u;var h=[0],A=[0],d=[],p=new u,v=e,g=function(e,t){var r={},n=0,i=!1,a=0,o=0;if(r.frames=[],!
/** @license
         * Copyright (c) 2017 Dominik Homberger
        Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
        The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
        https://webpjs.appspot.com
        WebPRiffParser dominikhlbg@gmail.com
        */
function(e,t,r,n){for(var i=0;i<4;i++)if(e[t+i]!="RIFF".charCodeAt(i))return!0;return!1}(e,t)){var s,u;for(f(e,t+=4),t+=8;t<e.length;){var h=c(e,t),A=f(e,t+=4);t+=4;var d=A+(1&A);switch(h){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(g=r.frames[n]).src_off=i?o:t-8,g.src_size=a+A+8,n++,i&&(i=!1,a=0,o=0);break;case"VP8X":(g=r.header={}).feature_flags=e[t];var p=t+4;g.canvas_width=1+l(e,p),p+=3,g.canvas_height=1+l(e,p),p+=3;break;case"ALPH":i=!0,a=d+8,o=t-8;break;case"ANIM":(g=r.header).bgcolor=f(e,t),p=t+4,g.loop_count=(s=e)[(u=p)+0]<<0|s[u+1]<<8,p+=2;break;case"ANMF":var v,g;(g=r.frames[n]={}).offset_x=2*l(e,t),t+=3,g.offset_y=2*l(e,t),t+=3,g.width=1+l(e,t),t+=3,g.height=1+l(e,t),t+=3,g.duration=l(e,t),t+=3,v=e[t++],g.dispose=1&v,g.blend=v>>1&1}"ANMF"!=h&&(t+=d)}return r}}(v,0);g.response=v,g.rgbaoutput=!0,g.dataurl=!1;var y=g.header?g.header:null,m=g.frames?g.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],A=[y.canvas_width];for(var b=0;b<m.length&&0!=m[b].blend;b++);}var w=m[0],x=p.WebPDecodeRGBA(v,w.src_off,w.src_size,A,h);w.rgba=x,w.imgwidth=A[0],w.imgheight=h[0];for(var k=0;k<A[0]*h[0]*4;k++)d[k]=x[k];return this.width=A,this.height=h,this.data=d,this}!function(e){var t=function(t,n,u,c){var l=4,f=a;switch(c){case e.image_compression.FAST:l=1,f=i;break;case e.image_compression.MEDIUM:l=6,f=o;break;case e.image_compression.SLOW:l=9,f=s}var h=kr(t=r(t,n,u,f),{level:l});return e.__addimage__.arrayBufferToBinaryString(h)},r=function(e,t,r,n){for(var i,a,o,s=e.length/t,u=new Uint8Array(e.length+s),f=c(),h=0;h<s;h+=1){if(o=h*t,i=e.subarray(o,o+t),n)u.set(n(i,r,a),o+h);else{for(var A,d=f.length,p=[];A<d;A+=1)p[A]=f[A](i,r,a);var v=l(p.concat());u.set(p[v],o+h)}a=i}return u},n=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var r,n=[],i=e.length;n[0]=1;for(var a=0;a<i;a+=1)r=e[a-t]||0,n[a+1]=e[a]-r+256&255;return n},a=function(e,t,r){var n,i=[],a=e.length;i[0]=2;for(var o=0;o<a;o+=1)n=r&&r[o]||0,i[o+1]=e[o]-n+256&255;return i},o=function(e,t,r){var n,i,a=[],o=e.length;a[0]=3;for(var s=0;s<o;s+=1)n=e[s-t]||0,i=r&&r[s]||0,a[s+1]=e[s]+256-(n+i>>>1)&255;return a},s=function(e,t,r){var n,i,a,o,s=[],c=e.length;s[0]=4;for(var l=0;l<c;l+=1)n=e[l-t]||0,i=r&&r[l]||0,a=r&&r[l-t]||0,o=u(n,i,a),s[l+1]=e[l]-o+256&255;return s},u=function(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r},c=function(){return[n,i,a,o,s]},l=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(r,n,i,a){var o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){if(r=(u=new vi(r)).imgData,s=u.bits,o=u.colorSpace,l=u.colors,-1!==[4,6].indexOf(u.colorType)){if(8===u.bits){d=(A=32==u.pixelBitlength?new Uint32Array(u.decodePixels().buffer):16==u.pixelBitlength?new Uint16Array(u.decodePixels().buffer):new Uint8Array(u.decodePixels().buffer)).length,v=new Uint8Array(d*u.colors),p=new Uint8Array(d);var k,_=u.pixelBitlength-u.bits;for(m=0,b=0;m<d;m++){for(y=A[m],k=0;k<_;)v[b++]=y>>>k&255,k+=u.bits;p[m]=y>>>k&255}}if(16===u.bits){d=(A=new Uint32Array(u.decodePixels().buffer)).length,v=new Uint8Array(d*(32/u.pixelBitlength)*u.colors),p=new Uint8Array(d*(32/u.pixelBitlength)),g=u.colors>1,m=0,b=0;for(var B=0;m<d;)y=A[m++],v[b++]=y>>>0&255,g&&(v[b++]=y>>>16&255,y=A[m++],v[b++]=y>>>0&255),p[B++]=y>>>16&255;s=8}a!==e.image_compression.NONE?(r=t(v,u.width*u.colors,u.colors,a),h=t(p,u.width,1,a)):(r=v,h=p,w=void 0)}if(3===u.colorType&&(o=this.color_spaces.INDEXED,f=u.palette,u.transparency.indexed)){var E=u.transparency.indexed,S=0;for(m=0,d=E.length;m<d;++m)S+=E[m];if((S/=255)==d-1&&-1!==E.indexOf(0))c=[E.indexOf(0)];else if(S!==d){for(A=u.decodePixels(),p=new Uint8Array(A.length),m=0,d=A.length;m<d;m++)p[m]=E[A[m]];h=t(p,u.width,1)}}var C=function(t){var r;switch(t){case e.image_compression.FAST:r=11;break;case e.image_compression.MEDIUM:r=13;break;case e.image_compression.SLOW:r=14;break;default:r=12}return r}(a);return w===this.decode.FLATE_DECODE&&(x="/Predictor "+C+" "),x+="/Colors "+l+" /BitsPerComponent "+s+" /Columns "+u.width,(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:i,data:r,index:n,filter:w,decodeParameters:x,transparency:c,palette:f,sMask:h,predictor:C,width:u.width,height:u.height,bitsPerComponent:s,colorSpace:o}}}}(an.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new gi(t),o=a.width,s=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var c={data:u,width:o,height:s},l=new mi(100).encode(c,100);return e.processJPEG.call(this,l,r,n,i)},e.processGIF87A=e.processGIF89A}(an.API),bi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){Sr.log("bit decode error:"+e)}},bi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var u=this.palette[a>>7-s&1];this.data[o+4*s]=u.blue,this.data[o+4*s+1]=u.green,this.data[o+4*s+2]=u.red,this.data[o+4*s+3]=255}0!==r&&(this.pos+=4-r)}},bi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,u=15&a,c=this.palette[s];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[u],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},bi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},bi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,u=(a>>10&t)/t*255|0,c=a>>15?255:0,l=n*this.width*4+4*i;this.data[l]=u,this.data[l+1]=s,this.data[l+2]=o,this.data[l+3]=c}this.pos+=e}},bi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,u=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,l=i*this.width*4+4*a;this.data[l]=c,this.data[l+1]=u,this.data[l+2]=s,this.data[l+3]=255}this.pos+=e}},bi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},bi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},bi.prototype.getData=function(){return this.data},
/**
   * @license
   * Copyright (c) 2018 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){e.processBMP=function(t,r,n,i){var a=new bi(t,!1),o=a.width,s=a.height,u={data:a.getData(),width:o,height:s},c=new mi(100).encode(u,100);return e.processJPEG.call(this,c,r,n,i)}}(an.API),wi.prototype.getData=function(){return this.data},
/**
   * @license
   * Copyright (c) 2019 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){e.processWEBP=function(t,r,n,i){var a=new wi(t),o=a.width,s=a.height,u={data:a.getData(),width:o,height:s},c=new mi(100).encode(u,100);return e.processJPEG.call(this,c,r,n,i)}}(an.API),an.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,u=0,c=0;c<i;c+=4){var l=n[c],f=n[c+1],h=n[c+2],A=n[c+3];a[s++]=l,a[s++]=f,a[s++]=h,o[u++]=A}var d=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:d,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},an.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},fi=an.API,hi=fi.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,u=s.fof?s.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,l=c.fof?c.fof:1,f=!1!==t.doKerning,h=0,A=e.length,d=0,p=s[0]||u,v=[];for(r=0;r<A;r++)n=e.charCodeAt(r),"function"==typeof i.metadata.widthOfString?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(h=f&&"object"===Ft(c[n])&&!isNaN(parseInt(c[n][d],10))?c[n][d]/l:0,v.push((s[n]||p)/u+h)),d=n;return v},Ai=fi.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return fi.processArabic&&(e=fi.processArabic(e)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(e,r,i)/r:hi.apply(this,arguments).reduce((function(e,t){return e+t}),0)},di=function(e,t,r,n){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<r;)s+=t[a],a++;i.push(e.slice(0,a));var u=a;for(s=0;a!==o;)s+t[a]>n&&(i.push(e.slice(u,a)),s=0,u=a),s+=t[a],a++;return u!==a&&i.push(e.slice(u,a)),i},pi=function(e,t,r){r||(r={});var n,i,a,o,s,u,c,l=[],f=[l],h=r.textIndent||0,A=0,d=0,p=e.split(" "),v=hi.apply(this,[" ",r])[0];if(u=-1===r.lineIndent?p[0].length+2:r.lineIndent||0){var g=Array(u).join(" "),y=[];p.map((function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):y.push(e[0])})),p=y,u=Ai.apply(this,[g,r])}for(a=0,o=p.length;a<o;a++){var m=0;if(n=p[a],u&&"\n"==n[0]&&(n=n.substr(1),m=1),h+A+(d=(i=hi.apply(this,[n,r])).reduce((function(e,t){return e+t}),0))>t||m){if(d>t){for(s=di.apply(this,[n,i,t-(h+A),t]),l.push(s.shift()),l=[s.pop()];s.length;)f.push([s.shift()]);d=i.slice(n.length-(l[0]?l[0].length:0)).reduce((function(e,t){return e+t}),0)}else l=[n];f.push(l),h=d+u,A=v}else l.push(n),h+=A+d,A=v}return c=u?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},f.map(c)},fi.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,u,c=[];for(s=0,u=n.length;s<u;s++)c=c.concat(pi.apply(this,[n[s],o,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,r,i,s,u=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?r="'"+c+"'":(c=parseInt(c,10),r=(r=a(c).slice(2)).slice(0,-1)+n[r.slice(-1)]),"number"==typeof t)t<0?(i=a(t).slice(3),s="-"):(i=a(t).slice(2),s=""),i=s+i.slice(0,-1)+n[i.slice(-1)];else{if("object"!==Ft(t))throw new Error("Don't know what to do with value type "+Ft(t)+".");i=o(t)}u.push(r+i)}return u.push("}"),u.join("")},s=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,a,o={},s=1,u=o,c=[],l="",f="",h=e.length-1,A=1;A<h;A+=1)"'"==(a=e[A])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(c.push([u,i]),u={},i=void 0):"}"==a?((n=c.pop())[0][n[1]]=u,i=void 0,u=n[0]):"-"==a?s=-1:void 0===i?r.hasOwnProperty(a)?(l+=r[a],i=parseInt(l,16)*s,s=1,l=""):l+=a:r.hasOwnProperty(a)?(f+=r[a],u[i]=parseInt(f,16)*s,s=1,i=void 0,f=""):f+=a;return o},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},l={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=l.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode.encoding=n,t.encoding=n.codePages[0])}])}(an.API),
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(n=!1===a.existsFileInVFS(i.postScriptName)?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(r,n){n=/^\x00\x01\x00\x00/.test(n)?t(n):t(Tr(n)),r.metadata=e.API.TTFFont.open(n),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}(i,n)}}])}(an),
/** @license
   * Copyright (c) 2012 Willow Systems Corporation, https://github.com/willowsystems
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
function(e){function t(){return(Br.canvg?Promise.resolve(Br.canvg):Promise.resolve().then((function(){return qOe}))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}an.API.addSvgAsImage=function(e,r,n,i,a,o,s,u){if(isNaN(r)||isNaN(n))throw Sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=a;var l=c.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then((function(t){return t.fromString(l,e,f)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(f)})).then((function(){h.addImage(c.toDataURL("image/jpeg",1),r,n,i,a,s,u)}))}}(),an.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},an.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),u=[],c=0,l=0,f=0;function h(e,t){var r,n=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var A=s.length;for(f=0;f<A;f+=1)r[s[f]].value=r[s[f]].defaultValue,r[s[f]].explicitSet=!1}if("object"===Ft(e))for(i in e)if(a=e[i],h(s,i)&&void 0!==a){if("boolean"===r[i].type&&"boolean"==typeof a)r[i].value=a;else if("name"===r[i].type&&h(r[i].valueSet,a))r[i].value=a;else if("integer"===r[i].type&&Number.isInteger(a))r[i].value=a;else if("array"===r[i].type){for(c=0;c<a.length;c+=1)if(n=!0,1===a[c].length&&"number"==typeof a[c][0])u.push(String(a[c]-1));else if(a[c].length>1){for(l=0;l<a[c].length;l+=1)"number"!=typeof a[c][l]&&(n=!1);!0===n&&u.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+u.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},
/** ====================================================================
   * @license
   * jsPDF XMP metadata plugin
   * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),o=r.length+n.length+i.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+r+n+i+a),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(an.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,n=t.metadata.Unicode.widths,i=["","0","00","000","0000"],a=[""],o=0,s=e.length;o<s;++o){if(r=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(o),-1==n.indexOf(r)&&(n.push(r),n.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return a.join("");r=r.toString(16),a.push(i[4-r.length],r)}return a.join("")},n=function(e){var t,r,n,i,a,o,s;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],o=0,s=(r=Object.keys(e).sort((function(e,t){return e-t}))).length;o<s;o++)t=r[o],n.length>=100&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),n.push("<"+t+"><"+i+">"));return n.length&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,i=t.out,a=t.newObject,o=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var s=r.metadata.Unicode.widths,u=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),c="",l=0;l<u.length;l++)c+=String.fromCharCode(u[l]);var f=a();o({data:c,addLength1:!0,objectId:f}),i("endobj");var h=a();o({data:n(r.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var A=a();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+$r(r.fontName)),i("/FontFile2 "+f+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),i("/Flags "+r.metadata.flags),i("/StemV "+r.metadata.stemV),i("/ItalicAngle "+r.metadata.italicAngle),i("/Ascent "+r.metadata.ascender),i("/Descent "+r.metadata.decender),i("/CapHeight "+r.metadata.capHeight),i(">>"),i("endobj");var d=a();i("<<"),i("/Type /Font"),i("/BaseFont /"+$r(r.fontName)),i("/FontDescriptor "+A+" 0 R"),i("/W "+e.API.PDFObject.convert(s)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+r.encoding+")"),i(">>"),i(">>"),i("endobj"),r.objectNumber=a(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+$r(r.fontName)),i("/Encoding /"+r.encoding),i("/DescendantFonts ["+d+" 0 R]"),i(">>"),i("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,i=t.out,a=t.newObject,o=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var s=r.metadata.rawData,u="",c=0;c<s.length;c++)u+=String.fromCharCode(s[c]);var l=a();o({data:u,addLength1:!0,objectId:l}),i("endobj");var f=a();o({data:n(r.metadata.toUnicode),addLength1:!0,objectId:f}),i("endobj");var h=a();i("<<"),i("/Descent "+r.metadata.decender),i("/CapHeight "+r.metadata.capHeight),i("/StemV "+r.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),i("/FontName /"+$r(r.fontName)),i("/ItalicAngle "+r.metadata.italicAngle),i("/Ascent "+r.metadata.ascender),i(">>"),i("endobj"),r.objectNumber=a();for(var A=0;A<r.metadata.hmtx.widths.length;A++)r.metadata.hmtx.widths[A]=parseInt(r.metadata.hmtx.widths[A]*(1e3/r.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+f+" 0 R/BaseFont/"+$r(r.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),i("endobj"),r.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,n=e.text||"",i=e.x,a=e.y,o=e.options||{},s=e.mutex||{},u=s.pdfEscape,c=s.activeFontKey,l=s.fonts,f=c,h="",A=0,d="",p=l[f].encoding;if("Identity-H"!==l[f].encoding)return{text:n,x:i,y:a,options:o,mutex:s};for(d=n,f=c,Array.isArray(n)&&(d=n[0]),A=0;A<d.length;A+=1)l[f].metadata.hasOwnProperty("cmap")&&(t=l[f].metadata.cmap.unicode.codeMap[d[A].charCodeAt(0)]),t||d[A].charCodeAt(0)<256&&l[f].metadata.hasOwnProperty("Unicode")?h+=d[A]:h+="";var v="";return parseInt(f.slice(1))<14||"WinAnsiEncoding"===p?v=u(h,f).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===p&&(v=r(h,l[f])),s.isHex=!0,{text:v,x:i,y:a,options:o,mutex:s}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],n={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?r.push([i(Object.assign({},n,{text:t[a][0]})).text,t[a][1],t[a][2]]):r.push(i(Object.assign({},n,{text:t[a]})).text);e.text=r}else e.text=i(Object.assign({},n,{text:t})).text}])}(an),
/**
   * @license
   * jsPDF virtual FileSystem functionality
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(an.API),
/**
   * @license
   * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
   * MIT License
   */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,n,i,a,o,s,u,c=t,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},d=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,g=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),r=t>>8,n=A[r];return void 0!==n?c[256*n+(255&t)]:252===r||253===r?"AL":p.test(r)?"L":8===r?"R":"N"},m=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=y(e.charAt(r))))return!1;if("R"===t)return!0}return!1},b=function(e,t,o,s){var u,c,l,f,h=t[s];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(h="AN");break;case"AL":v=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":s<1||s+1>=t.length||"EN"!==(u=o[s-1])&&"AN"!==u||"EN"!==(c=t[s+1])&&"AN"!==c?h="N":v&&(c="AN"),h=c===u?c:"N";break;case"ES":h="EN"===(u=s>0?o[s-1]:"B")&&s+1<t.length&&"EN"===t[s+1]?"EN":"N";break;case"ET":if(s>0&&"EN"===o[s-1]){h="EN";break}if(v){h="N";break}for(l=s+1,f=t.length;l<f&&"ET"===t[l];)l++;h=l<f&&"EN"===t[l]?"EN":"N";break;case"NSM":if(i&&!a){for(f=t.length,l=s+1;l<f&&"NSM"===t[l];)l++;if(l<f){var A=e[s],d=A>=1425&&A<=2303||64286===A;if(u=t[l],d&&("R"===u||"AL"===u)){h="R";break}}}h=s<1||"B"===(u=t[s-1])?"N":o[s-1];break;case"B":v=!1,r=!0,h=g;break;case"S":n=!0,h="N"}return h},w=function(e,t,r){var n=e.split("");return r&&x(n,r,{hiLevel:g}),n.reverse(),t&&t.reverse(),n.join("")},x=function(e,t,i){var a,o,s,u,c,A=-1,d=e.length,p=0,m=[],w=g?f:l,x=[];for(v=!1,r=!1,n=!1,o=0;o<d;o++)x[o]=y(e[o]);for(s=0;s<d;s++){if(c=p,m[s]=b(e,x,m,s),a=240&(p=w[c][h[m[s]]]),p&=15,t[s]=u=w[p][5],a>0)if(16===a){for(o=A;o<s;o++)t[o]=1;A=-1}else A=-1;if(w[p][6])-1===A&&(A=s);else if(A>-1){for(o=A;o<s;o++)t[o]=u;A=-1}"B"===x[s]&&(t[s]=0),i.hiLevel|=u}n&&function(e,t,r){for(var n=0;n<r;n++)if("S"===e[n]){t[n]=g;for(var i=n-1;i>=0&&"WS"===e[i];i--)t[i]=g}}(x,t,d)},k=function(e,t,n,i,a){if(!(a.hiLevel<e)){if(1===e&&1===g&&!r)return t.reverse(),void(n&&n.reverse());for(var o,s,u,c,l=t.length,f=0;f<l;){if(i[f]>=e){for(u=f+1;u<l&&i[u]>=e;)u++;for(c=f,s=u-1;c<s;c++,s--)o=t[c],t[c]=t[s],t[s]=o,n&&(o=n[c],n[c]=n[s],n[s]=o);f=u}f++}}},_=function(e,t,r){var n=e.split(""),i={hiLevel:g};return r||(r=[]),x(n,r,i),function(e,t,r){if(0!==r.hiLevel&&u)for(var n,i=0;i<e.length;i++)1===t[i]&&(n=d.indexOf(e[i]))>=0&&(e[i]=d[n+1])}(n,r,i),k(2,n,t,r,i),k(1,n,t,r,i),n.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===a&&(a=m(e)),void 0===s&&(s=m(e))}(e,t),i||!o||s)if(i&&o&&a^s)g=a?1:0,e=w(e,t,r);else if(!i&&o&&s)g=a?1:0,e=_(e,t,r),e=w(e,t);else if(!i||a||o||s){if(i&&!o&&a^s)e=w(e,t),a?(g=0,e=_(e,t,r)):(g=1,e=_(e,t,r),e=w(e,t));else if(i&&a&&!o&&s)g=1,e=_(e,t,r),e=w(e,t);else if(!i&&!o&&a^s){var n=u;a?(g=1,e=_(e,t,r),g=0,u=!1,e=_(e,t,r),u=n):(g=0,e=_(e,t,r),e=w(e,t),g=1,u=!1,e=_(e,t,r),u=n,e=w(e,t))}}else g=0,e=_(e,t,r);else g=a?1:0,e=_(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,o=e.isOutputVisual,a=e.isInputRtl,s=e.isOutputRtl,u=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,n=(e.x,e.y,e.options||{}),i=(e.mutex,n.lang,[]);if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,r.setOptions(n),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(i=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?i.push([r.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):i.push([r.doBidiReorder(t[a])]);e.text=i}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(an),an.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new ki(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Hi(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new _i(this.contents),this.head=new Si(this),this.name=new Ni(this),this.cmap=new Ii(this),this.toUnicode={},this.hhea=new Pi(this),this.maxp=new Mi(this),this.hmtx=new Ui(this),this.post=new Oi(this),this.os2=new Ti(this),this.loca=new Qi(this),this.glyf=new Ri(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,n,i;for(i=[],t=0,r=(n=this.bbox).length;t<r;t++)e=n[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),0!=(32768&(t=n>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var n,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)n=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var xi,ki=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,n,i,a,o,s;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^s)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*i+65536*a+256*o+s},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.writeByte(t));return i},e}(),_i=function(){var e;function t(e){var t,r,n;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,n=this.tableCount;0<=n?r<n:r>n;r=0<=n?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,n,i,a,o,s,u,c,l,f,h,A,d;for(d in h=Object.keys(t).length,s=Math.log(2),l=16*Math.floor(Math.log(h)/s),a=Math.floor(l/s),c=16*h-l,(n=new ki).writeInt(this.scalarType),n.writeShort(h),n.writeShort(l),n.writeShort(a),n.writeShort(c),i=16*h,u=n.pos+i,o=null,A=[],t)for(f=t[d],n.writeString(d),n.writeInt(e(f)),n.writeInt(u),n.writeInt(f.length),A=A.concat(f),"head"===d&&(o=u),u+=f.length;u%4;)A.push(0),u++;return n.write(A),r=2981146554-e(n.data),n.pos=o+8,n.writeUInt32(r),n.data},e=function(e){var t,r,n,i;for(e=Fi.call(e);e.length%4;)e.push(0);for(n=new ki(e),r=0,t=0,i=e.length;t<i;t=t+=4)r+=n.readUInt32();return 4294967295&r},t}(),Bi={}.hasOwnProperty,Ei=function(e,t){for(var r in t)Bi.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};xi=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Si=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new ki).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),Ci=function(){function e(e,t){var r,n,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),l=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,i=function(){var t,r;for(r=[],s=t=0;0<=f?t<f:t>f;s=0<=f?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,d=function(){var t,r;for(r=[],s=t=0;0<=f?t<f:t>f;s=0<=f?++t:--t)r.push(e.readUInt16());return r}(),u=function(){var t,r;for(r=[],s=t=0;0<=f?t<f:t>f;s=0<=f?++t:--t)r.push(e.readUInt16());return r}(),c=function(){var t,r;for(r=[],s=t=0;0<=f?t<f:t>f;s=0<=f?++t:--t)r.push(e.readUInt16());return r}(),n=(this.length-e.pos+this.offset)/2,o=function(){var t,r;for(r=[],s=t=0;0<=n?t<n:t>n;s=0<=n?++t:--t)r.push(e.readUInt16());return r}(),s=v=0,y=i.length;v<y;s=++v)for(p=i[s],r=g=A=d[s];A<=p?g<=p:g>=p;r=A<=p?++g:--g)0===c[s]?a=r+u[s]:0!==(a=o[c[s]/2+(r-A)-(f-s)]||0)&&(a+=u[s]),this.codeMap[r]=65535&a}e.pos=l}return e.encode=function(e,t){var r,n,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,L,N,M,U,F,R,D,j,Q,H,K,V,z,q,G;switch(I=new ki,a=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(d=0,p=function(){var e=[];for(A=0;A<256;++A)e.push(0);return e}(),g={0:0},i={},P=0,N=a.length;P<N;P++)null==g[V=e[n=a[P]]]&&(g[V]=++d),i[n]={old:e[n],new:g[e[n]]},p[n]=g[e[n]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(p),{charMap:i,subtable:I.data,maxGlyphID:d+1};case"unicode":for(S=[],l=[],y=0,g={},r={},v=u=null,T=0,M=a.length;T<M;T++)null==g[b=e[n=a[T]]]&&(g[b]=++y),r[n]={old:b,new:g[b]},o=g[b]-n,null!=v&&o===u||(v&&l.push(v),S.push(n),u=o),v=n;for(v&&l.push(v),l.push(65535),S.push(65535),B=2*(_=S.length),k=2*Math.pow(Math.log(_)/Math.LN2,2),f=Math.log(k/2)/Math.LN2,x=2*_-k,s=[],w=[],h=[],A=O=0,U=S.length;O<U;A=++O){if(E=S[A],c=l[A],65535===E){s.push(0),w.push(0);break}if(E-(C=r[E].new)>=32768)for(s.push(0),w.push(2*(h.length+_-A)),n=L=E;E<=c?L<=c:L>=c;n=E<=c?++L:--L)h.push(r[n].new);else s.push(C-E),w.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*_+2*h.length),I.writeUInt16(0),I.writeUInt16(B),I.writeUInt16(k),I.writeUInt16(f),I.writeUInt16(x),H=0,F=l.length;H<F;H++)n=l[H],I.writeUInt16(n);for(I.writeUInt16(0),K=0,R=S.length;K<R;K++)n=S[K],I.writeUInt16(n);for(z=0,D=s.length;z<D;z++)o=s[z],I.writeUInt16(o);for(q=0,j=w.length;q<j;q++)m=w[q],I.writeUInt16(m);for(G=0,Q=h.length;G<Q;G++)d=h[G],I.writeUInt16(d);return{charMap:r,subtable:I.data,maxGlyphID:y+1}}},e}(),Ii=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new Ci(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var r,n;return null==t&&(t="macroman"),r=Ci.encode(e,t),(n=new ki).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},t}(),Pi=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Ti=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Oi=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="post",t.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,n;for(n=[],i=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;i=0<=r?++t:--t)n.push(e.readUInt32());return n}.call(this)}},t}(),Li=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Ni=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="name",t.prototype.parse=function(e){var t,r,n,i,a,o,s,u,c,l,f;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(s={},i=c=0,l=r.length;c<l;i=++c)n=r[i],e.pos=n.offset,u=e.readString(n.length),a=new Li(u,n),null==s[f=n.nameID]&&(s[f]=[]),s[n.nameID].push(a);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},t}(),Mi=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Ui=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,r,n,i,a,o,s;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,i;for(i=[],t=r=0;0<=n?r<n:r>n;t=0<=n?++r:--r)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,r,n;for(n=[],e=0,t=(r=this.metrics).length;e<t;e++)i=r[e],n.push(i.advance);return n}.call(this),r=this.widths[this.widths.length-1],s=[],t=a=0;0<=n?a<n:a>n;t=0<=n?++a:--a)s.push(this.widths.push(r));return s},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Fi=[].slice,Ri=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,r,n,i,a,o,s,u,c,l;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),0===(n=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,a=(o=new ki(t.read(n))).readShort(),u=o.readShort(),l=o.readShort(),s=o.readShort(),c=o.readShort(),this.cache[e]=-1===a?new ji(o,u,l,s,c):new Di(o,a,u,l,s,c),this.cache[e]))},t.prototype.encode=function(e,t,r){var n,i,a,o,s;for(a=[],i=[],o=0,s=t.length;o<s;o++)n=e[t[o]],i.push(a.length),n&&(a=a.concat(n.encode(r)));return i.push(a.length),{table:a,offsets:i}},t}(),Di=function(){function e(e,t,r,n,i,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),ji=function(){function e(e,t,r,n,i){var a,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new ki(Fi.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Qi=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ei(t,xi),t.prototype.tag="loca",t.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=2)n.push(2*e.readUInt16());return n}.call(this):function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=4)n.push(e.readUInt32());return n}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,a=0;a<r.length;++a)if(r[a]=n,i<t.length&&t[i]==a){++i,r[a]=n;var o=this.offsets[a],s=this.offsets[a+1]-o;s>0&&(n+=s)}for(var u=new Array(4*r.length),c=0;c<r.length;++c)u[4*c+3]=255&r[c],u[4*c+2]=(65280&r[c])>>8,u[4*c+1]=(16711680&r[c])>>16,u[4*c]=(4278190080&r[c])>>24;return u},t}(),Hi=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=n[r];return e},e.prototype.glyphsFor=function(e){var t,r,n,i,a,o,s;for(n={},a=0,o=e.length;a<o;a++)n[i=e[a]]=this.font.glyf.glyphFor(i);for(i in t=[],n)(null!=(r=n[i])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in s=this.glyphsFor(t))r=s[i],n[i]=r;return n},e.prototype.encode=function(e,t){var r,n,i,a,o,s,u,c,l,f,h,A,d,p,v;for(n in r=Ii.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},v=r.charMap)h[(s=v[n]).old]=s.new;for(A in f=r.maxGlyphID,a)A in h||(h[A]=f++);return c=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(h),l=Object.keys(c).sort((function(e,t){return e-t})),d=function(){var e,t,r;for(r=[],e=0,t=l.length;e<t;e++)o=l[e],r.push(c[o]);return r}(),i=this.font.glyf.encode(a,d,h),u=this.font.loca.encode(i.offsets,d),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();an.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var e,i,a;for(a=[],e=0,i=r.length;e<i;e++)n=r[e],a.push(t.convert(n));return a}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join("\n")}return""+r},t}();var Ki={exports:{}};Ki.exports=function(){
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
        Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
        THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** */
var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function n(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?r(e.value):i(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))}function a(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function o(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||t)}for(var s=function(){function e(e,t,r,n){this.left=e,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find((function(e){return 0!==e.width}));return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),u=function(e,t){return s.fromClientRect(e,t.getBoundingClientRect())},c=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new s(0,0,n,i)},l=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),r--)}else t.push(i)}return t},f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push(55296+(o>>10),o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<h.length;d++)A[h.charCodeAt(d)]=d;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="undefined"==typeof Uint8Array?[]:new Uint8Array(256),g=0;g<p.length;g++)v[p.charCodeAt(g)]=g;for(var y=function(e){var t,r,n,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)r=v[e.charCodeAt(t)],n=v[e.charCodeAt(t+1)],i=v[e.charCodeAt(t+2)],a=v[e.charCodeAt(t+3)],l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|i>>2,l[u++]=(3&i)<<6|63&a;return c},m=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},b=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},w=5,x=11,k=2,_=65536>>w,B=(1<<w)-1,E=_+(1024>>w)+32,S=65536>>x,C=(1<<x-w)-1,I=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},P=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},T=function(e,t){var r=y(e),n=Array.isArray(r)?b(r):new Uint32Array(r),i=Array.isArray(r)?m(r):new Uint16Array(r),a=24,o=I(i,a/2,n[4]/2),s=2===n[5]?I(i,(a+n[4])/2):P(n,Math.ceil((a+n[4])/4));return new O(n[0],n[1],n[2],n[3],o,s)},O=function(){function e(e,t,r,n,i,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<k)+(e&B),this.data[t];if(e<=65535)return t=((t=this.index[_+(e-55296>>w)])<<k)+(e&B),this.data[t];if(e<this.highStart)return t=E-S+(e>>x),t=this.index[t],t+=e>>w&C,t=((t=this.index[t])<<k)+(e&B),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N="undefined"==typeof Uint8Array?[]:new Uint8Array(256),M=0;M<L.length;M++)N[L.charCodeAt(M)]=M;var U=50,F=1,R=2,D=3,j=4,Q=5,H=7,K=8,V=9,z=10,q=11,G=12,W=13,J=14,X=15,Y=16,$=17,Z=18,ee=19,te=20,re=21,ne=22,ie=23,ae=24,oe=25,se=26,ue=27,ce=28,le=29,fe=30,he=31,Ae=32,de=33,pe=34,ve=35,ge=36,ye=37,me=38,be=39,we=40,xe=41,ke=42,_e=43,Be=[9001,65288],Ee="!",Se="",Ce="",Ie=T("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Pe=[fe,ge],Te=[F,R,D,Q],Oe=[z,K],Le=[ue,se],Ne=Te.concat(Oe),Me=[me,be,we,pe,ve],Ue=[X,W],Fe=function(e,t){void 0===t&&(t="strict");var r=[],n=[],i=[];return e.forEach((function(e,a){var o=Ie.get(e);if(o>U?(i.push(!0),o-=U):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return n.push(a),r.push(Y);if(o===j||o===q){if(0===a)return n.push(a),r.push(fe);var s=r[a-1];return-1===Ne.indexOf(s)?(n.push(n[a-1]),r.push(s)):(n.push(a),r.push(fe))}return n.push(a),o===he?r.push("strict"===t?re:ye):o===ke||o===le?r.push(fe):o===_e?e>=131072&&e<=196605||e>=196608&&e<=262141?r.push(ye):r.push(fe):void r.push(o)})),[n,r,i]},Re=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var a=r;a<=n.length;){if((u=n[++a])===t)return!0;if(u!==z)break}if(i===z)for(a=r;a>0;){var o=n[--a];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=r;s<=n.length;){var u;if((u=n[++s])===t)return!0;if(u!==z)break}if(o!==z)break}return!1},De=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n!==z)return n;r--}return 0},je=function(e,t,r,n,i){if(0===r[n])return Se;var a=n-1;if(Array.isArray(i)&&!0===i[a])return Se;var o=a-1,s=a+1,u=t[a],c=o>=0?t[o]:0,l=t[s];if(u===R&&l===D)return Se;if(-1!==Te.indexOf(u))return Ee;if(-1!==Te.indexOf(l))return Se;if(-1!==Oe.indexOf(l))return Se;if(De(a,t)===K)return Ce;if(Ie.get(e[a])===q)return Se;if((u===Ae||u===de)&&Ie.get(e[s])===q)return Se;if(u===H||l===H)return Se;if(u===V)return Se;if(-1===[z,W,X].indexOf(u)&&l===V)return Se;if(-1!==[$,Z,ee,ae,ce].indexOf(l))return Se;if(De(a,t)===ne)return Se;if(Re(ie,ne,a,t))return Se;if(Re([$,Z],re,a,t))return Se;if(Re(G,G,a,t))return Se;if(u===z)return Ce;if(u===ie||l===ie)return Se;if(l===Y||u===Y)return Ce;if(-1!==[W,X,re].indexOf(l)||u===J)return Se;if(c===ge&&-1!==Ue.indexOf(u))return Se;if(u===ce&&l===ge)return Se;if(l===te)return Se;if(-1!==Pe.indexOf(l)&&u===oe||-1!==Pe.indexOf(u)&&l===oe)return Se;if(u===ue&&-1!==[ye,Ae,de].indexOf(l)||-1!==[ye,Ae,de].indexOf(u)&&l===se)return Se;if(-1!==Pe.indexOf(u)&&-1!==Le.indexOf(l)||-1!==Le.indexOf(u)&&-1!==Pe.indexOf(l))return Se;if(-1!==[ue,se].indexOf(u)&&(l===oe||-1!==[ne,X].indexOf(l)&&t[s+1]===oe)||-1!==[ne,X].indexOf(u)&&l===oe||u===oe&&-1!==[oe,ce,ae].indexOf(l))return Se;if(-1!==[oe,ce,ae,$,Z].indexOf(l))for(var f=a;f>=0;){if((h=t[f])===oe)return Se;if(-1===[ce,ae].indexOf(h))break;f--}if(-1!==[ue,se].indexOf(l))for(f=-1!==[$,Z].indexOf(u)?o:a;f>=0;){var h;if((h=t[f])===oe)return Se;if(-1===[ce,ae].indexOf(h))break;f--}if(me===u&&-1!==[me,be,pe,ve].indexOf(l)||-1!==[be,pe].indexOf(u)&&-1!==[be,we].indexOf(l)||-1!==[we,ve].indexOf(u)&&l===we)return Se;if(-1!==Me.indexOf(u)&&-1!==[te,se].indexOf(l)||-1!==Me.indexOf(l)&&u===ue)return Se;if(-1!==Pe.indexOf(u)&&-1!==Pe.indexOf(l))return Se;if(u===ae&&-1!==Pe.indexOf(l))return Se;if(-1!==Pe.concat(oe).indexOf(u)&&l===ne&&-1===Be.indexOf(e[s])||-1!==Pe.concat(oe).indexOf(l)&&u===Z)return Se;if(u===xe&&l===xe){for(var A=r[a],d=1;A>0&&t[--A]===xe;)d++;if(d%2!=0)return Se}return u===Ae&&l===de?Se:Ce},Qe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Fe(e,t.lineBreak),n=r[0],i=r[1],a=r[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[oe,fe,ke].indexOf(e)?ye:e})));var o="keep-all"===t.wordBreak?a.map((function(t,r){return t&&e[r]>=19968&&e[r]<=40959})):void 0;return[n,i,o]},He=function(){function e(e,t,r,n){this.codePoints=e,this.required=t===Ee,this.start=r,this.end=n}return e.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Ke=function(e,t){var r=l(e),n=Qe(r,t),i=n[0],a=n[1],o=n[2],s=r.length,u=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var e=Se;c<s&&(e=je(r,a,i,++c,o))===Se;);if(e!==Se||c===s){var t=new He(r,e,u,c);return u=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ve=1,ze=2,qe=4,Ge=8,We=10,Je=47,Xe=92,Ye=9,$e=32,Ze=34,et=61,tt=35,rt=36,nt=37,it=39,at=40,ot=41,st=95,ut=45,ct=33,lt=60,ft=62,ht=64,At=91,dt=93,pt=61,vt=123,gt=63,yt=125,mt=124,bt=126,wt=128,xt=65533,kt=42,_t=43,Bt=44,Et=58,St=59,Ct=46,It=0,Pt=8,Tt=11,Ot=14,Lt=31,Nt=127,Mt=-1,Ut=48,Ft=97,Rt=101,Dt=102,jt=117,Qt=122,Ht=65,Kt=69,Vt=70,zt=85,qt=90,Gt=function(e){return e>=Ut&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Jt=function(e){return Gt(e)||e>=Ht&&e<=Vt||e>=Ft&&e<=Dt},Xt=function(e){return e>=Ft&&e<=Qt},Yt=function(e){return e>=Ht&&e<=qt},$t=function(e){return Xt(e)||Yt(e)},Zt=function(e){return e>=wt},er=function(e){return e===We||e===Ye||e===$e},tr=function(e){return $t(e)||Zt(e)||e===st},rr=function(e){return tr(e)||Gt(e)||e===ut},nr=function(e){return e>=It&&e<=Pt||e===Tt||e>=Ot&&e<=Lt||e===Nt},ir=function(e,t){return e===Xe&&t!==We},ar=function(e,t,r){return e===ut?tr(t)||ir(t,r):!!tr(e)||!(e!==Xe||!ir(e,t))},or=function(e,t,r){return e===_t||e===ut?!!Gt(t)||t===Ct&&Gt(r):Gt(e===Ct?t:e)},sr=function(e){var t=0,r=1;e[t]!==_t&&e[t]!==ut||(e[t]===ut&&(r=-1),t++);for(var n=[];Gt(e[t]);)n.push(e[t++]);var i=n.length?parseInt(f.apply(void 0,n),10):0;e[t]===Ct&&t++;for(var a=[];Gt(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(f.apply(void 0,a),10):0;e[t]!==Kt&&e[t]!==Rt||t++;var u=1;e[t]!==_t&&e[t]!==ut||(e[t]===ut&&(u=-1),t++);for(var c=[];Gt(e[t]);)c.push(e[t++]);var l=c.length?parseInt(f.apply(void 0,c),10):0;return r*(i+s*Math.pow(10,-o))*Math.pow(10,u*l)},ur={type:2},cr={type:3},lr={type:4},fr={type:13},hr={type:8},Ar={type:21},dr={type:9},pr={type:10},vr={type:11},gr={type:12},yr={type:14},mr={type:23},br={type:1},wr={type:25},xr={type:24},kr={type:26},_r={type:27},Br={type:28},Er={type:29},Sr={type:31},Cr={type:32},Ir=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Cr;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case tt:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(rr(t)||ir(r,n)){var i=ar(t,r,n)?ze:Ve;return{type:5,value:this.consumeName(),flags:i}}break;case rt:if(this.peekCodePoint(0)===et)return this.consumeCodePoint(),fr;break;case it:return this.consumeStringToken(it);case at:return ur;case ot:return cr;case kt:if(this.peekCodePoint(0)===et)return this.consumeCodePoint(),yr;break;case _t:if(or(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return lr;case ut:var a=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(or(a,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ar(a,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===ut&&s===ft)return this.consumeCodePoint(),this.consumeCodePoint(),xr;break;case Ct:if(or(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Je:if(this.peekCodePoint(0)===kt)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===kt&&(u=this.consumeCodePoint())===Je)return this.consumeToken();if(u===Mt)return this.consumeToken()}break;case Et:return kr;case St:return _r;case lt:if(this.peekCodePoint(0)===ct&&this.peekCodePoint(1)===ut&&this.peekCodePoint(2)===ut)return this.consumeCodePoint(),this.consumeCodePoint(),wr;break;case ht:var c=this.peekCodePoint(0),l=this.peekCodePoint(1),h=this.peekCodePoint(2);if(ar(c,l,h))return{type:7,value:this.consumeName()};break;case At:return Br;case Xe:if(ir(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dt:return Er;case pt:if(this.peekCodePoint(0)===et)return this.consumeCodePoint(),hr;break;case vt:return vr;case yt:return gr;case jt:case zt:var A=this.peekCodePoint(0),d=this.peekCodePoint(1);return A!==_t||!Jt(d)&&d!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case mt:if(this.peekCodePoint(0)===et)return this.consumeCodePoint(),dr;if(this.peekCodePoint(0)===mt)return this.consumeCodePoint(),Ar;break;case bt:if(this.peekCodePoint(0)===et)return this.consumeCodePoint(),pr;break;case Mt:return Cr}return er(e)?(this.consumeWhiteSpace(),Sr):Gt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):tr(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:f(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Jt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r)return{type:30,start:parseInt(f.apply(void 0,e.map((function(e){return e===gt?Ut:e}))),16),end:parseInt(f.apply(void 0,e.map((function(e){return e===gt?Vt:e}))),16)};var n=parseInt(f.apply(void 0,e),16);if(this.peekCodePoint(0)===ut&&Jt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];Jt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:n,end:parseInt(f.apply(void 0,i),16)}}return{type:30,start:n,end:n}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===at?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===it||t===Ze){var r=this.consumeStringToken(this.consumeCodePoint());return 0===r.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mt||this.peekCodePoint(0)===ot)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),mr)}for(;;){var n=this.consumeCodePoint();if(n===Mt||n===ot)return{type:22,value:f.apply(void 0,e)};if(er(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Mt||this.peekCodePoint(0)===ot?(this.consumeCodePoint(),{type:22,value:f.apply(void 0,e)}):(this.consumeBadUrlRemnants(),mr);if(n===Ze||n===it||n===at||nr(n))return this.consumeBadUrlRemnants(),mr;if(n===Xe){if(!ir(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),mr;e.push(this.consumeEscapedCodePoint())}else e.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;er(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ot||e===Mt)return;ir(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var n=Math.min(t,e);r+=f.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(e){for(var t="",r=0;;){var n=this._value[r];if(n===Mt||void 0===n||n===e)return{type:0,value:t+=this.consumeStringSlice(r)};if(n===We)return this._value.splice(0,r),br;if(n===Xe){var i=this._value[r+1];i!==Mt&&void 0!==i&&(i===We?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):ir(n,i)&&(t+=this.consumeStringSlice(r),t+=f(this.consumeEscapedCodePoint()),r=-1))}r++}},e.prototype.consumeNumber=function(){var e=[],t=qe,r=this.peekCodePoint(0);for(r!==_t&&r!==ut||e.push(this.consumeCodePoint());Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===Ct&&Gt(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Kt||r===Rt)&&((n===_t||n===ut)&&Gt(i)||Gt(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sr(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);return ar(n,i,a)?{type:15,number:t,flags:r,unit:this.consumeName()}:n===nt?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Jt(e)){for(var t=f(e);Jt(this.peekCodePoint(0))&&t.length<6;)t+=f(this.consumeCodePoint());er(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return 0===r||Wt(r)||r>1114111?xt:r}return e===Mt?xt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(rr(t))e+=f(t);else{if(!ir(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=f(this.consumeEscapedCodePoint())}}},e}(),Pr=function(){function e(e){this._tokens=e}return e.create=function(t){var r=new Ir;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(32===r.type||Dr(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(32===r.type||3===r.type)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Cr:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Tr=function(e){return 15===e.type},Or=function(e){return 17===e.type},Lr=function(e){return 20===e.type},Nr=function(e){return 0===e.type},Mr=function(e,t){return Lr(e)&&e.value===t},Ur=function(e){return 31!==e.type},Fr=function(e){return 31!==e.type&&4!==e.type},Rr=function(e){var t=[],r=[];return e.forEach((function(e){if(4===e.type){if(0===r.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(r),void(r=[])}31!==e.type&&r.push(e)})),r.length&&t.push(r),t},Dr=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},jr=function(e){return 17===e.type||15===e.type},Qr=function(e){return 16===e.type||jr(e)},Hr=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kr={type:17,number:0,flags:qe},Vr={type:16,number:50,flags:qe},zr={type:16,number:100,flags:qe},qr=function(e,t,r){var n=e[0],i=e[1];return[Gr(n,t),Gr(void 0!==i?i:n,r)]},Gr=function(e,t){if(16===e.type)return e.number/100*t;if(Tr(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Wr="deg",Jr="grad",Xr="rad",Yr="turn",$r={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Wr:return Math.PI*t.number/180;case Jr:return Math.PI/200*t.number;case Xr:return t.number;case Yr:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zr=function(e){return 15===e.type&&(e.unit===Wr||e.unit===Jr||e.unit===Xr||e.unit===Yr)},en=function(e){switch(e.filter(Lr).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kr,Kr];case"to top":case"bottom":return tn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kr,zr];case"to right":case"left":return tn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zr,zr];case"to bottom":case"top":return tn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zr,Kr];case"to left":case"right":return tn(270)}return 0},tn=function(e){return Math.PI*e/180},rn={name:"color",parse:function(e,t){if(18===t.type){var r=fn[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(5===t.type){if(3===t.value.length){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return on(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(4===t.value.length){n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);var o=t.value.substring(3,4);return on(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),on(parseInt(n,16),parseInt(i,16),parseInt(a,16),1);if(8===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8),on(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}if(20===t.type){var s=An[t.value.toUpperCase()];if(void 0!==s)return s}return An.TRANSPARENT}},nn=function(e){return 0==(255&e)},an=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},on=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(255*n)<<0)>>>0},sn=function(e,t){if(17===e.type)return e.number;if(16===e.type){var r=3===t?1:255;return 3===t?e.number/100*r:Math.round(e.number/100*r)}return 0},un=function(e,t){var r=t.filter(Fr);if(3===r.length){var n=r.map(sn),i=n[0],a=n[1],o=n[2];return on(i,a,o,1)}if(4===r.length){var s=r.map(sn),u=(i=s[0],a=s[1],o=s[2],s[3]);return on(i,a,o,u)}return 0};function cn(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<.5?t:r<2/3?6*(t-e)*(2/3-r)+e:e}var ln=function(e,t){var r=t.filter(Fr),n=r[0],i=r[1],a=r[2],o=r[3],s=(17===n.type?tn(n.number):$r.parse(e,n))/(2*Math.PI),u=Qr(i)?i.number/100:0,c=Qr(a)?a.number/100:0,l=void 0!==o&&Qr(o)?Gr(o,1):1;if(0===u)return on(255*c,255*c,255*c,1);var f=c<=.5?c*(u+1):c+u-c*u,h=2*c-f,A=cn(h,f,s+1/3),d=cn(h,f,s),p=cn(h,f,s-1/3);return on(255*A,255*d,255*p,l)},fn={hsl:ln,hsla:ln,rgb:un,rgba:un},hn=function(e,t){return rn.parse(e,Pr.create(t).parseComponentValue())},An={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dn={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Lr(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vn=function(e,t){var r=rn.parse(e,t[0]),n=t[1];return n&&Qr(n)?{color:r,stop:n}:{color:r,stop:null}},gn=function(e,t){var r=e[0],n=e[e.length-1];null===r.stop&&(r.stop=Kr),null===n.stop&&(n.stop=zr);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var u=Gr(s,t);u>a?i.push(u):i.push(a),a=u}else i.push(null)}var c=null;for(o=0;o<i.length;o++){var l=i[o];if(null===l)null===c&&(c=o);else if(null!==c){for(var f=o-c,h=(l-i[c-1])/(f+1),A=1;A<=f;A++)i[c+A-1]=h*A;c=null}}return e.map((function(e,r){return{color:e.color,stop:Math.max(Math.min(1,i[r]/t),0)}}))},yn=function(e,t,r){var n=t/2,i=r/2,a=Gr(e[0],t)-n,o=i-Gr(e[1],r);return(Math.atan2(o,a)+2*Math.PI)%(2*Math.PI)},mn=function(e,t,r){var n="number"==typeof e?e:yn(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,o=r/2,s=i/2,u=Math.sin(n-Math.PI/2)*s,c=Math.cos(n-Math.PI/2)*s;return[i,a-c,a+c,o-u,o+u]},bn=function(e,t){return Math.sqrt(e*e+t*t)},wn=function(e,t,r,n,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var a=t[0],o=t[1],s=bn(r-a,n-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},xn=function(e,t,r,n,i){var a=0,o=0;switch(e.size){case 0:0===e.shape?a=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(0===e.shape)a=o=Math.min(bn(t,r),bn(t,r-i),bn(t-n,r),bn(t-n,r-i));else if(1===e.shape){var s=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),u=wn(n,i,t,r,!0),c=u[0],l=u[1];o=s*(a=bn(c-t,(l-r)/s))}break;case 1:0===e.shape?a=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(0===e.shape)a=o=Math.max(bn(t,r),bn(t,r-i),bn(t-n,r),bn(t-n,r-i));else if(1===e.shape){s=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n));var f=wn(n,i,t,r,!1);c=f[0],l=f[1],o=s*(a=bn(c-t,(l-r)/s))}}return Array.isArray(e.size)&&(a=Gr(e.size[0],n),o=2===e.size.length?Gr(e.size[1],i):a),[a,o]},kn=function(e,t){var r=tn(180),n=[];return Rr(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&"to"===a.value)return void(r=en(t));if(Zr(a))return void(r=$r.parse(e,a))}var o=vn(e,t);n.push(o)})),{angle:r,stops:n,type:1}},_n=function(e,t){var r=tn(180),n=[];return Rr(t).forEach((function(t,i){if(0===i){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(r=en(t));if(Zr(a))return void(r=($r.parse(e,a)+tn(270))%tn(360))}var o=vn(e,t);n.push(o)})),{angle:r,stops:n,type:1}},Bn=function(e,t){var r=tn(180),n=[],i=1,a=0,o=3,s=[];return Rr(t).forEach((function(t,r){var a=t[0];if(0===r){if(Lr(a)&&"linear"===a.value)return void(i=1);if(Lr(a)&&"radial"===a.value)return void(i=2)}if(18===a.type)if("from"===a.name){var o=rn.parse(e,a.values[0]);n.push({stop:Kr,color:o})}else if("to"===a.name)o=rn.parse(e,a.values[0]),n.push({stop:zr,color:o});else if("color-stop"===a.name){var s=a.values.filter(Fr);if(2===s.length){o=rn.parse(e,s[1]);var u=s[0];Or(u)&&n.push({stop:{type:16,number:100*u.number,flags:u.flags},color:o})}}})),1===i?{angle:(r+tn(180))%tn(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:s,type:i}},En="closest-side",Sn="farthest-side",Cn="closest-corner",In="farthest-corner",Pn="circle",Tn="ellipse",On="cover",Ln="contain",Nn=function(e,t){var r=0,n=3,i=[],a=[];return Rr(t).forEach((function(t,o){var s=!0;if(0===o){var u=!1;s=t.reduce((function(e,t){if(u)if(Lr(t))switch(t.value){case"center":return a.push(Vr),e;case"top":case"left":return a.push(Kr),e;case"right":case"bottom":return a.push(zr),e}else(Qr(t)||jr(t))&&a.push(t);else if(Lr(t))switch(t.value){case Pn:return r=0,!1;case Tn:return r=1,!1;case"at":return u=!0,!1;case En:return n=0,!1;case On:case Sn:return n=1,!1;case Ln:case Cn:return n=2,!1;case In:return n=3,!1}else if(jr(t)||Qr(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e}),s)}if(s){var c=vn(e,t);i.push(c)}})),{size:n,shape:r,stops:i,position:a,type:2}},Mn=function(e,t){var r=0,n=3,i=[],a=[];return Rr(t).forEach((function(t,o){var s=!0;if(0===o?s=t.reduce((function(e,t){if(Lr(t))switch(t.value){case"center":return a.push(Vr),!1;case"top":case"left":return a.push(Kr),!1;case"right":case"bottom":return a.push(zr),!1}else if(Qr(t)||jr(t))return a.push(t),!1;return e}),s):1===o&&(s=t.reduce((function(e,t){if(Lr(t))switch(t.value){case Pn:return r=0,!1;case Tn:return r=1,!1;case Ln:case En:return n=0,!1;case Sn:return n=1,!1;case Cn:return n=2,!1;case On:case In:return n=3,!1}else if(jr(t)||Qr(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e}),s)),s){var u=vn(e,t);i.push(u)}})),{size:n,shape:r,stops:i,position:a,type:2}},Un=function(e){return 1===e.type},Fn=function(e){return 2===e.type},Rn={name:"image",parse:function(e,t){if(22===t.type){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(18===t.type){var n=Qn[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Dn(e){return!(20===e.type&&"none"===e.value||18===e.type&&!Qn[e.name])}var jn,Qn={"linear-gradient":kn,"-moz-linear-gradient":_n,"-ms-linear-gradient":_n,"-o-linear-gradient":_n,"-webkit-linear-gradient":_n,"radial-gradient":Nn,"-moz-radial-gradient":Mn,"-ms-radial-gradient":Mn,"-o-radial-gradient":Mn,"-webkit-radial-gradient":Mn,"-webkit-gradient":Bn},Hn={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var r=t[0];return 20===r.type&&"none"===r.value?[]:t.filter((function(e){return Fr(e)&&Dn(e)})).map((function(t){return Rn.parse(e,t)}))}},Kn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Lr(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Vn={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Rr(t).map((function(e){return e.filter(Qr)})).map(Hr)}},zn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Rr(t).map((function(e){return e.filter(Lr).map((function(e){return e.value})).join(" ")})).map(qn)}},qn=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(jn||(jn={}));var Gn,Wn={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Rr(t).map((function(e){return e.filter(Jn)}))}},Jn=function(e){return Lr(e)||Qr(e)},Xn=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Yn=Xn("top"),$n=Xn("right"),Zn=Xn("bottom"),ei=Xn("left"),ti=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Hr(t.filter(Qr))}}},ri=ti("top-left"),ni=ti("top-right"),ii=ti("bottom-right"),ai=ti("bottom-left"),oi=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},si=oi("top"),ui=oi("right"),ci=oi("bottom"),li=oi("left"),fi=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Tr(t)?t.number:0}}},hi=fi("top"),Ai=fi("right"),di=fi("bottom"),pi=fi("left"),vi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},yi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Lr).reduce((function(e,t){return e|mi(t.value)}),0)}},mi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},wi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Gn||(Gn={}));var xi,ki={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Gn.STRICT:Gn.NORMAL}},_i={name:"line-height",initialValue:"normal",prefix:!1,type:4},Bi=function(e,t){return Lr(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Qr(e)?Gr(e,t):t},Ei={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Rn.parse(e,t)}},Si={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ii=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Pi=Ii("top"),Ti=Ii("right"),Oi=Ii("bottom"),Li=Ii("left"),Ni={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Lr).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Mi={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ui=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Fi=Ui("top"),Ri=Ui("right"),Di=Ui("bottom"),ji=Ui("left"),Qi={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Hi={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ki={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Mr(t[0],"none")?[]:Rr(t).map((function(t){for(var r={color:An.TRANSPARENT,offsetX:Kr,offsetY:Kr,blur:Kr},n=0,i=0;i<t.length;i++){var a=t[i];jr(a)?(0===n?r.offsetX=a:1===n?r.offsetY=a:r.blur=a,n++):r.color=rn.parse(e,a)}return r}))}},Vi={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var r=Wi[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},qi=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},Gi=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),r=t[0],n=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[r,n,i,a,o,s]:null},Wi={matrix:qi,matrix3d:Gi},Ji={type:16,number:50,flags:qe},Xi=[Ji,Ji],Yi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Qr);return 2!==r.length?Xi:[r[0],r[1]]}},$i={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(xi||(xi={}));for(var Zi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return xi.BREAK_ALL;case"keep-all":return xi.KEEP_ALL;default:return xi.NORMAL}}},ea={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Or(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},ta={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},ra={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Or(t)?t.number:1}},na={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ia={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Lr).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},aa={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach((function(e){switch(e.type){case 20:case 0:r.push(e.value);break;case 17:r.push(e.number.toString());break;case 4:n.push(r.join(" ")),r.length=0}})),r.length&&n.push(r.join(" ")),n.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},oa={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},sa={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Or(t)?t.number:Lr(t)&&"bold"===t.value?700:400}},ua={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Lr).map((function(e){return e.value}))}},ca={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},la=function(e,t){return 0!=(e&t)},fa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var r=t[0];return 20===r.type&&"none"===r.value?[]:t}},ha={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var r=t[0];if(20===r.type&&"none"===r.value)return null;for(var n=[],i=t.filter(Ur),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(20===o.type){var u=s&&Or(s)?s.number:1;n.push({counter:o.value,increment:u})}}return n}},Aa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var r=[],n=t.filter(Ur),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(Lr(a)&&"none"!==a.value){var s=o&&Or(o)?o.number:0;r.push({counter:a.value,reset:s})}}return r}},da={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Tr).map((function(t){return ta.parse(e,t)}))}},pa={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var r=t[0];if(20===r.type&&"none"===r.value)return null;var n=[],i=t.filter(Nr);if(i.length%2!=0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;n.push({open:o,close:s})}return n}},va=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},ga={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Mr(t[0],"none")?[]:Rr(t).map((function(t){for(var r={color:255,offsetX:Kr,offsetY:Kr,blur:Kr,spread:Kr,inset:!1},n=0,i=0;i<t.length;i++){var a=t[i];Mr(a,"inset")?r.inset=!0:jr(a)?(0===n?r.offsetX=a:1===n?r.offsetY=a:2===n?r.blur=a:r.spread=a,n++):r.color=rn.parse(e,a)}return r}))}},ya={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Lr).forEach((function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),r.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n}},ma={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ba={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Tr(t)?t.number:0}},wa=function(){function e(e,t){var r,n;this.animationDuration=_a(e,da,t.animationDuration),this.backgroundClip=_a(e,dn,t.backgroundClip),this.backgroundColor=_a(e,pn,t.backgroundColor),this.backgroundImage=_a(e,Hn,t.backgroundImage),this.backgroundOrigin=_a(e,Kn,t.backgroundOrigin),this.backgroundPosition=_a(e,Vn,t.backgroundPosition),this.backgroundRepeat=_a(e,zn,t.backgroundRepeat),this.backgroundSize=_a(e,Wn,t.backgroundSize),this.borderTopColor=_a(e,Yn,t.borderTopColor),this.borderRightColor=_a(e,$n,t.borderRightColor),this.borderBottomColor=_a(e,Zn,t.borderBottomColor),this.borderLeftColor=_a(e,ei,t.borderLeftColor),this.borderTopLeftRadius=_a(e,ri,t.borderTopLeftRadius),this.borderTopRightRadius=_a(e,ni,t.borderTopRightRadius),this.borderBottomRightRadius=_a(e,ii,t.borderBottomRightRadius),this.borderBottomLeftRadius=_a(e,ai,t.borderBottomLeftRadius),this.borderTopStyle=_a(e,si,t.borderTopStyle),this.borderRightStyle=_a(e,ui,t.borderRightStyle),this.borderBottomStyle=_a(e,ci,t.borderBottomStyle),this.borderLeftStyle=_a(e,li,t.borderLeftStyle),this.borderTopWidth=_a(e,hi,t.borderTopWidth),this.borderRightWidth=_a(e,Ai,t.borderRightWidth),this.borderBottomWidth=_a(e,di,t.borderBottomWidth),this.borderLeftWidth=_a(e,pi,t.borderLeftWidth),this.boxShadow=_a(e,ga,t.boxShadow),this.color=_a(e,vi,t.color),this.direction=_a(e,gi,t.direction),this.display=_a(e,yi,t.display),this.float=_a(e,bi,t.cssFloat),this.fontFamily=_a(e,aa,t.fontFamily),this.fontSize=_a(e,oa,t.fontSize),this.fontStyle=_a(e,ca,t.fontStyle),this.fontVariant=_a(e,ua,t.fontVariant),this.fontWeight=_a(e,sa,t.fontWeight),this.letterSpacing=_a(e,wi,t.letterSpacing),this.lineBreak=_a(e,ki,t.lineBreak),this.lineHeight=_a(e,_i,t.lineHeight),this.listStyleImage=_a(e,Ei,t.listStyleImage),this.listStylePosition=_a(e,Si,t.listStylePosition),this.listStyleType=_a(e,Ci,t.listStyleType),this.marginTop=_a(e,Pi,t.marginTop),this.marginRight=_a(e,Ti,t.marginRight),this.marginBottom=_a(e,Oi,t.marginBottom),this.marginLeft=_a(e,Li,t.marginLeft),this.opacity=_a(e,ra,t.opacity);var i=_a(e,Ni,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=_a(e,Mi,t.overflowWrap),this.paddingTop=_a(e,Fi,t.paddingTop),this.paddingRight=_a(e,Ri,t.paddingRight),this.paddingBottom=_a(e,Di,t.paddingBottom),this.paddingLeft=_a(e,ji,t.paddingLeft),this.paintOrder=_a(e,ya,t.paintOrder),this.position=_a(e,Hi,t.position),this.textAlign=_a(e,Qi,t.textAlign),this.textDecorationColor=_a(e,na,null!==(r=t.textDecorationColor)&&void 0!==r?r:t.color),this.textDecorationLine=_a(e,ia,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=_a(e,Ki,t.textShadow),this.textTransform=_a(e,Vi,t.textTransform),this.transform=_a(e,zi,t.transform),this.transformOrigin=_a(e,Yi,t.transformOrigin),this.visibility=_a(e,$i,t.visibility),this.webkitTextStrokeColor=_a(e,ma,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=_a(e,ba,t.webkitTextStrokeWidth),this.wordBreak=_a(e,Zi,t.wordBreak),this.zIndex=_a(e,ea,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return nn(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return la(this.display,4)||la(this.display,33554432)||la(this.display,268435456)||la(this.display,536870912)||la(this.display,67108864)||la(this.display,134217728)},e}(),xa=function(){function e(e,t){this.content=_a(e,fa,t.content),this.quotes=_a(e,pa,t.quotes)}return e}(),ka=function(){function e(e,t){this.counterIncrement=_a(e,ha,t.counterIncrement),this.counterReset=_a(e,Aa,t.counterReset)}return e}(),_a=function(e,t,r){var n=new Ir,i=null!=r?r.toString():t.initialValue;n.write(i);var a=new Pr(n.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Lr(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return $r.parse(e,a.parseComponentValue());case"color":return rn.parse(e,a.parseComponentValue());case"image":return Rn.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return jr(s)?s:Kr;case"length-percentage":var u=a.parseComponentValue();return Qr(u)?u:Kr;case"time":return ta.parse(e,a.parseComponentValue())}}},Ba="data-html2canvas-debug",Ea=function(e){switch(e.getAttribute(Ba)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Sa=function(e,t){var r=Ea(e);return 1===r||t===r},Ca=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Sa(t,3),this.styles=new wa(e,window.getComputedStyle(t,null)),vs(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=u(this.context,t),Sa(t,4)&&(this.flags|=16)}return e}(),Ia="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ta="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Oa=0;Oa<Pa.length;Oa++)Ta[Pa.charCodeAt(Oa)]=Oa;for(var La=function(e){var t,r,n,i,a,o=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<s;t+=4)r=Ta[e.charCodeAt(t)],n=Ta[e.charCodeAt(t+1)],i=Ta[e.charCodeAt(t+2)],a=Ta[e.charCodeAt(t+3)],l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|i>>2,l[u++]=(3&i)<<6|63&a;return c},Na=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Ma=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ua=5,Fa=11,Ra=2,Da=65536>>Ua,ja=(1<<Ua)-1,Qa=Da+(1024>>Ua)+32,Ha=65536>>Fa,Ka=(1<<Fa-Ua)-1,Va=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},za=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},qa=function(e,t){var r=La(e),n=Array.isArray(r)?Ma(r):new Uint32Array(r),i=Array.isArray(r)?Na(r):new Uint16Array(r),a=24,o=Va(i,a/2,n[4]/2),s=2===n[5]?Va(i,(a+n[4])/2):za(n,Math.ceil((a+n[4])/4));return new Ga(n[0],n[1],n[2],n[3],o,s)},Ga=function(){function e(e,t,r,n,i,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ua])<<Ra)+(e&ja),this.data[t];if(e<=65535)return t=((t=this.index[Da+(e-55296>>Ua)])<<Ra)+(e&ja),this.data[t];if(e<this.highStart)return t=Qa-Ha+(e>>Fa),t=this.index[t],t+=e>>Ua&Ka,t=((t=this.index[t])<<Ra)+(e&ja),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ja="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Xa=0;Xa<Wa.length;Xa++)Ja[Wa.charCodeAt(Xa)]=Xa;var Ya,$a=1,Za=2,eo=3,to=4,ro=5,no=7,io=8,ao=9,oo=10,so=11,uo=12,co=13,lo=14,fo=15,ho=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),r--)}else t.push(i)}return t},Ao=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push(55296+(o>>10),o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},po=qa(Ia),vo="",go="",yo=function(e){return po.get(e)},mo=function(e,t,r){var n=r-2,i=t[n],a=t[r-1],o=t[r];if(a===Za&&o===eo)return vo;if(a===Za||a===eo||a===to)return go;if(o===Za||o===eo||o===to)return go;if(a===io&&-1!==[io,ao,so,uo].indexOf(o))return vo;if(!(a!==so&&a!==ao||o!==ao&&o!==oo))return vo;if((a===uo||a===oo)&&o===oo)return vo;if(o===co||o===ro)return vo;if(o===no)return vo;if(a===$a)return vo;if(a===co&&o===lo){for(;i===ro;)i=t[--n];if(i===lo)return vo}if(a===fo&&o===fo){for(var s=0;i===fo;)s++,i=t[--n];if(s%2==0)return vo}return go},bo=function(e){var t=ho(e),r=t.length,n=0,i=0,a=t.map(yo);return{next:function(){if(n>=r)return{done:!0,value:null};for(var e=vo;n<r&&(e=mo(t,a,++n))===vo;);if(e!==vo||n===r){var o=Ao.apply(null,t.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},wo=function(e){for(var t,r=bo(e),n=[];!(t=r.next()).done;)t.value&&n.push(t.value.slice());return n},xo=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(n),a===t)return!0}}return!1},ko=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=t.firstChild,i=l(n.data).map((function(e){return f(e)})),a=0,o={},s=i.every((function(e,t){r.setStart(n,a),r.setEnd(n,a+e.length);var i=r.getBoundingClientRect();a+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s}));return e.body.removeChild(t),s},_o=function(){return void 0!==(new Image).crossOrigin},Bo=function(){return"string"==typeof(new XMLHttpRequest).responseType},Eo=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch(e){return!1}return!0},So=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Co=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=t.toDataURL();i.src=a;var o=Io(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),Po(o).then((function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var o=e.createElement("div");return o.style.backgroundImage="url("+a+")",o.style.height=r+"px",So(i)?Po(Io(r,r,0,0,o)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),So(n.getImageData(0,0,r,r).data)})).catch((function(){return!1}))},Io=function(e,t,r,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",r.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},Po=function(e){return new Promise((function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},To={get SUPPORT_RANGE_BOUNDS(){var e=xo(document);return Object.defineProperty(To,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=To.SUPPORT_RANGE_BOUNDS&&ko(document);return Object.defineProperty(To,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Eo(document);return Object.defineProperty(To,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?Co(document):Promise.resolve(!1);return Object.defineProperty(To,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=_o();return Object.defineProperty(To,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Bo();return Object.defineProperty(To,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(To,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(To,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Oo=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Lo=function(e,t,r,n){var i=Ro(t,r),a=[],o=0;return i.forEach((function(t){if(r.textDecorationLine.length||t.trim().length>0)if(To.SUPPORT_RANGE_BOUNDS){var i=Mo(n,o,t.length).getClientRects();if(i.length>1){var u=Uo(t),c=0;u.forEach((function(t){a.push(new Oo(t,s.fromDOMRectList(e,Mo(n,c+o,t.length).getClientRects()))),c+=t.length}))}else a.push(new Oo(t,s.fromDOMRectList(e,i)))}else{var l=n.splitText(t.length);a.push(new Oo(t,No(e,n))),n=l}else To.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));o+=t.length})),a},No=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var a=u(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return s.EMPTY},Mo=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},Uo=function(e){if(To.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return wo(e)},Fo=function(e,t){if(To.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map((function(e){return e.segment}))}return jo(e,t)},Ro=function(e,t){return 0!==t.letterSpacing?Uo(e):Fo(e,t)},Do=[32,160,4961,65792,65793,4153,4241],jo=function(e,t){for(var r,n=Ke(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],a=function(){if(r.value){var e=r.value.slice(),t=l(e),n="";t.forEach((function(e){-1===Do.indexOf(e)?n+=f(e):(n.length&&i.push(n),i.push(f(e)),n="")})),n.length&&i.push(n)}};!(r=n.next()).done;)a();return i},Qo=function(){function e(e,t,r){this.text=Ho(t.data,r.textTransform),this.textBounds=Lo(e,this.text,r,t)}return e}(),Ho=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Ko,Vo);case 2:return e.toUpperCase();default:return e}},Ko=/(^|\s|:|-|\(|\))([a-z])/g,Vo=function(e,t,r){return e.length>0?t+r.toUpperCase():e},zo=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return t(r,e),r}(Ca),qo=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return t(r,e),r}(Ca),Go=function(e){function r(t,r){var n=e.call(this,t,r)||this,i=new XMLSerializer,a=u(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t(r,e),r}(Ca),Wo=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return t(r,e),r}(Ca),Jo=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed="boolean"==typeof r.reversed&&!0===r.reversed,n}return t(r,e),r}(Ca),Xo=[{type:15,flags:0,unit:"px",number:3}],Yo=[{type:16,flags:0,number:50}],$o=function(e){return e.width>e.height?new s(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new s(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Zo=function(e){var t=e.type===rs?new Array(e.value.length+1).join(""):e.value;return 0===t.length?e.placeholder||"":t},es="checkbox",ts="radio",rs="password",ns=707406591,is=function(e){function r(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=Zo(r),n.type!==es&&n.type!==ts||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=$o(n.bounds)),n.type){case es:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Xo;break;case ts:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Yo}return n}return t(r,e),r}(Ca),as=function(e){function r(t,r){var n=e.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return t(r,e),r}(Ca),os=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return t(r,e),r}(Ca),ss=function(e){function r(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=fs(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?hn(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):An.TRANSPARENT,a=r.contentWindow.document.body?hn(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):An.TRANSPARENT;n.backgroundColor=nn(i)?nn(a)?n.styles.backgroundColor:a:i}}catch(e){}return n}return t(r,e),r}(Ca),us=["OL","UL","MENU"],cs=function e(t,r,n,i){for(var a=r.firstChild,o=void 0;a;a=o)if(o=a.nextSibling,ds(a)&&a.data.trim().length>0)n.textNodes.push(new Qo(t,a,n.styles));else if(ps(a))if(Os(a)&&a.assignedNodes)a.assignedNodes().forEach((function(r){return e(t,r,n,i)}));else{var s=ls(t,a);s.styles.isVisible()&&(hs(a,s,i)?s.flags|=4:As(s.styles)&&(s.flags|=2),-1!==us.indexOf(a.tagName)&&(s.flags|=8),n.elements.push(s),a.slot,a.shadowRoot?e(t,a.shadowRoot,s,i):Ps(a)||xs(a)||Ts(a)||e(t,a,s,i))}},ls=function(e,t){return Es(t)?new zo(e,t):_s(t)?new qo(e,t):xs(t)?new Go(e,t):ys(t)?new Wo(e,t):ms(t)?new Jo(e,t):bs(t)?new is(e,t):Ts(t)?new as(e,t):Ps(t)?new os(e,t):Ss(t)?new ss(e,t):new Ca(e,t)},fs=function(e,t){var r=ls(e,t);return r.flags|=4,cs(e,t,r,r),r},hs=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ks(e)&&r.styles.isTransparent()},As=function(e){return e.isPositioned()||e.isFloating()},ds=function(e){return e.nodeType===Node.TEXT_NODE},ps=function(e){return e.nodeType===Node.ELEMENT_NODE},vs=function(e){return ps(e)&&void 0!==e.style&&!gs(e)},gs=function(e){return"object"===i(e.className)},ys=function(e){return"LI"===e.tagName},ms=function(e){return"OL"===e.tagName},bs=function(e){return"INPUT"===e.tagName},ws=function(e){return"HTML"===e.tagName},xs=function(e){return"svg"===e.tagName},ks=function(e){return"BODY"===e.tagName},_s=function(e){return"CANVAS"===e.tagName},Bs=function(e){return"VIDEO"===e.tagName},Es=function(e){return"IMG"===e.tagName},Ss=function(e){return"IFRAME"===e.tagName},Cs=function(e){return"STYLE"===e.tagName},Is=function(e){return"SCRIPT"===e.tagName},Ps=function(e){return"TEXTAREA"===e.tagName},Ts=function(e){return"SELECT"===e.tagName},Os=function(e){return"SLOT"===e.tagName},Ls=function(e){return e.tagName.indexOf("-")>0},Ns=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,r=e.counterIncrement,n=e.counterReset,i=!0;null!==r&&r.forEach((function(e){var r=t.counters[e.counter];r&&0!==e.increment&&(i=!1,r.length||r.push(1),r[Math.max(0,r.length-1)]+=e.increment)}));var a=[];return i&&n.forEach((function(e){var r=t.counters[e.counter];a.push(e.counter),r||(r=t.counters[e.counter]=[]),r.push(e.reset)})),a},e}(),Ms={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Us={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Rs={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ds=function(e,t,r,n,i,a){return e<t||e>r?$s(e,i,a.length>0):n.integers.reduce((function(t,r,i){for(;e>=r;)e-=r,t+=n.values[i];return t}),"")+a},js=function(e,t,r,n){var i="";do{r||e--,i=n(e)+i,e/=t}while(e*t>=t);return i},Qs=function(e,t,r,n,i){var a=r-t+1;return(e<0?"-":"")+(js(Math.abs(e),a,n,(function(e){return f(Math.floor(e%a)+t)}))+i)},Hs=function(e,t,r){void 0===r&&(r=". ");var n=t.length;return js(Math.abs(e),n,!1,(function(e){return t[Math.floor(e%n)]}))+r},Ks=1,Vs=2,zs=4,qs=8,Gs=function(e,t,r,n,i,a){if(e<-9999||e>9999)return $s(e,4,i.length>0);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var u=0;o>0&&u<=4;u++){var c=o%10;0===c&&la(a,Ks)&&""!==s?s=t[c]+s:c>1||1===c&&0===u||1===c&&1===u&&la(a,Vs)||1===c&&1===u&&la(a,zs)&&e>100||1===c&&u>1&&la(a,qs)?s=t[c]+(u>0?r[u-1]:"")+s:1===c&&u>0&&(s=r[u-1]+s),o=Math.floor(o/10)}return(e<0?n:"")+s},Ws="",Js="",Xs="",Ys="",$s=function(e,t,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=Qs(e,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return Hs(e,"",i);case 6:return Ds(e,1,3999,Ms,3,n).toLowerCase();case 7:return Ds(e,1,3999,Ms,3,n);case 8:return Qs(e,945,969,!1,n);case 9:return Qs(e,97,122,!1,n);case 10:return Qs(e,65,90,!1,n);case 11:return Qs(e,1632,1641,!0,n);case 12:case 49:return Ds(e,1,9999,Us,3,n);case 35:return Ds(e,1,9999,Us,3,n).toLowerCase();case 13:return Qs(e,2534,2543,!0,n);case 14:case 30:return Qs(e,6112,6121,!0,n);case 15:return Hs(e,"",i);case 16:return Hs(e,"",i);case 17:case 48:return Gs(e,"",Ws,"",i,Vs|zs|qs);case 47:return Gs(e,"",Js,"",i,Ks|Vs|zs|qs);case 42:return Gs(e,"",Ws,"",i,Vs|zs|qs);case 41:return Gs(e,"",Js,"",i,Ks|Vs|zs|qs);case 26:return Gs(e,"","",Xs,i,0);case 25:return Gs(e,"","",Xs,i,Ks|Vs|zs);case 31:return Gs(e,"","",Ys,a,Ks|Vs|zs);case 33:return Gs(e,"","",Ys,a,0);case 32:return Gs(e,"","",Ys,a,Ks|Vs|zs);case 18:return Qs(e,2406,2415,!0,n);case 20:return Ds(e,1,19999,Rs,3,n);case 21:return Qs(e,2790,2799,!0,n);case 22:return Qs(e,2662,2671,!0,n);case 22:return Ds(e,1,10999,Fs,3,n);case 23:return Hs(e,"");case 24:return Hs(e,"");case 27:return Qs(e,3302,3311,!0,n);case 28:return Hs(e,"",i);case 29:return Hs(e,"",i);case 34:return Qs(e,3792,3801,!0,n);case 37:return Qs(e,6160,6169,!0,n);case 38:return Qs(e,4160,4169,!0,n);case 39:return Qs(e,2918,2927,!0,n);case 40:return Qs(e,1776,1785,!0,n);case 43:return Qs(e,3046,3055,!0,n);case 44:return Qs(e,3174,3183,!0,n);case 45:return Qs(e,3664,3673,!0,n);case 46:return Qs(e,3872,3881,!0,n);default:return Qs(e,48,57,!0,n)}},Zs="data-html2canvas-ignore",eu=function(){function e(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ns,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var r=this,i=ru(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,u=i.contentWindow,c=u.document,l=au(i).then((function(){return n(r,void 0,void 0,(function(){var e,r;return a(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(lu),u&&(u.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||u.scrollY===t.top&&u.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(u.scrollX-t.left,u.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(r=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,iu(c)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(c,r)})).then((function(){return i}))]:[2,i]}}))}))}));return c.open(),c.write(uu(document.doctype)+"<html></html>"),cu(this.referenceElement.ownerDocument,o,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},e.prototype.createElementClone=function(e){if(Sa(e,2),_s(e))return this.createCanvasClone(e);if(Bs(e))return this.createVideoClone(e);if(Cs(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Es(t)&&(Es(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ls(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return su(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),n=e.cloneNode(!1);return n.textContent=r,n}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var i=e.getContext("2d"),a=n.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return n}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},e.prototype.appendChildNode=function(e,t,r){ps(t)&&(Is(t)||t.hasAttribute(Zs)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ps(t)&&Cs(t)||e.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(e,t,r){for(var n=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ps(i)&&Os(i)&&"function"==typeof i.assignedNodes){var a=i.assignedNodes();a.length&&a.forEach((function(e){return n.appendChildNode(t,e,r)}))}else this.appendChildNode(t,i,r)},e.prototype.cloneNode=function(e,t){if(ds(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&ps(e)&&(vs(e)||gs(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var i=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&vs(n)&&(this.clonedReferenceElement=n),ks(n)&&vu(n);var s=this.counters.parse(new ka(this.context,i)),u=this.resolvePseudoContent(e,n,a,Ya.BEFORE);Ls(e)&&(t=!0),Bs(e)||this.cloneChildNodes(e,n,t),u&&n.insertBefore(u,n.firstChild);var c=this.resolvePseudoContent(e,n,o,Ya.AFTER);return c&&n.appendChild(c),this.counters.pop(s),(i&&(this.options.copyStyles||gs(e))&&!Ss(e)||t)&&su(i,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(Ps(e)||Ts(e))&&(Ps(n)||Ts(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,r,n){var i=this;if(r){var a=r.content,o=t.ownerDocument;if(o&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==r.display){this.counters.parse(new ka(this.context,r));var s=new xa(this.context,r),u=o.createElement("html2canvaspseudoelement");su(r,u),s.content.forEach((function(t){if(0===t.type)u.appendChild(o.createTextNode(t.value));else if(22===t.type){var r=o.createElement("img");r.src=t.value,r.style.opacity="1",u.appendChild(r)}else if(18===t.type){if("attr"===t.name){var n=t.values.filter(Lr);n.length&&u.appendChild(o.createTextNode(e.getAttribute(n[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Fr),c=a[0],l=a[1];if(c&&Lr(c)){var f=i.counters.getCounterValue(c.value),h=l&&Lr(l)?Ci.parse(i.context,l.value):3;u.appendChild(o.createTextNode($s(f,h,!1)))}}else if("counters"===t.name){var A=t.values.filter(Fr),d=(c=A[0],A[1]);if(l=A[2],c&&Lr(c)){var p=i.counters.getCounterValues(c.value),v=l&&Lr(l)?Ci.parse(i.context,l.value):3,g=d&&0===d.type?d.value:"",y=p.map((function(e){return $s(e,v,!1)})).join(g);u.appendChild(o.createTextNode(y))}}}else if(20===t.type)switch(t.value){case"open-quote":u.appendChild(o.createTextNode(va(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(o.createTextNode(va(s.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(o.createTextNode(t.value))}})),u.className=Au+" "+du;var c=n===Ya.BEFORE?" "+Au:" "+du;return gs(t)?t.className.baseValue+=c:t.className+=c,u}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Ya||(Ya={}));var tu,ru=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(Zs,"true"),e.body.appendChild(r),r},nu=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},iu=function(e){return Promise.all([].slice.call(e.images,0).map(nu))},au=function(e){return new Promise((function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var r=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(r),t(e))}),50)}}))},ou=["all","d","content"],su=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);-1===ou.indexOf(n)&&t.style.setProperty(n,e.getPropertyValue(n))}return t},uu=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},cu=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},lu=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},fu=":before",hu=":after",Au="___html2canvas___pseudoelement_before",du="___html2canvas___pseudoelement_after",pu='{\n    content: "" !important;\n    display: none !important;\n}',vu=function(e){gu(e,"."+Au+fu+pu+"\n         ."+du+hu+pu)},gu=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},yu=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),mu=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Eu(e)||ku(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i,o=this;return a(this,(function(a){switch(a.label){case 0:return t=yu.isSameOrigin(e),r=!_u(e)&&!0===this._options.useCORS&&To.SUPPORT_CORS_IMAGES&&!t,n=!_u(e)&&!t&&!Eu(e)&&"string"==typeof this._options.proxy&&To.SUPPORT_CORS_XHR&&!r,t||!1!==this._options.allowTaint||_u(e)||Eu(e)||n||r?(i=e,n?[4,this.proxy(i)]:[3,2]):[2];case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,(Bu(i)||r)&&(n.crossOrigin="anonymous"),n.src=i,!0===n.complete&&setTimeout((function(){return e(n)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,a.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise((function(i,a){var o=To.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return a(e)}),!1),e.readAsDataURL(s.response)}else a("Failed to proxy resource "+n+" with status code "+s.status)},s.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(s.open("GET",""+r+u+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+n)}}s.send()}))},e}(),bu=/^data:image\/svg\+xml/i,wu=/^data:image\/.*;base64,/i,xu=/^data:image\/.*/i,ku=function(e){return To.SUPPORT_SVG_DRAWING||!Su(e)},_u=function(e){return xu.test(e)},Bu=function(e){return wu.test(e)},Eu=function(e){return"blob"===e.substr(0,4)},Su=function(e){return"svg"===e.substr(-3).toLowerCase()||bu.test(e)},Cu=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Iu=function(e,t,r){return new Cu(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Pu=function(){function e(e,t,r,n){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(t,r){var n=Iu(this.start,this.startControl,t),i=Iu(this.startControl,this.endControl,t),a=Iu(this.endControl,this.end,t),o=Iu(n,i,t),s=Iu(i,a,t),u=Iu(o,s,t);return r?new e(this.start,n,o,u):new e(u,s,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Tu=function(e){return 1===e.type},Ou=function(){function e(e){var t=e.styles,r=e.bounds,n=qr(t.borderTopLeftRadius,r.width,r.height),i=n[0],a=n[1],o=qr(t.borderTopRightRadius,r.width,r.height),s=o[0],u=o[1],c=qr(t.borderBottomRightRadius,r.width,r.height),l=c[0],f=c[1],h=qr(t.borderBottomLeftRadius,r.width,r.height),A=h[0],d=h[1],p=[];p.push((i+s)/r.width),p.push((A+l)/r.width),p.push((a+d)/r.height),p.push((u+f)/r.height);var v=Math.max.apply(Math,p);v>1&&(i/=v,a/=v,s/=v,u/=v,l/=v,f/=v,A/=v,d/=v);var g=r.width-s,y=r.height-f,m=r.width-l,b=r.height-d,w=t.borderTopWidth,x=t.borderRightWidth,k=t.borderBottomWidth,_=t.borderLeftWidth,B=Gr(t.paddingTop,e.bounds.width),E=Gr(t.paddingRight,e.bounds.width),S=Gr(t.paddingBottom,e.bounds.width),C=Gr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Lu(r.left+_/3,r.top+w/3,i-_/3,a-w/3,tu.TOP_LEFT):new Cu(r.left+_/3,r.top+w/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Lu(r.left+g,r.top+w/3,s-x/3,u-w/3,tu.TOP_RIGHT):new Cu(r.left+r.width-x/3,r.top+w/3),this.bottomRightBorderDoubleOuterBox=l>0||f>0?Lu(r.left+m,r.top+y,l-x/3,f-k/3,tu.BOTTOM_RIGHT):new Cu(r.left+r.width-x/3,r.top+r.height-k/3),this.bottomLeftBorderDoubleOuterBox=A>0||d>0?Lu(r.left+_/3,r.top+b,A-_/3,d-k/3,tu.BOTTOM_LEFT):new Cu(r.left+_/3,r.top+r.height-k/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Lu(r.left+2*_/3,r.top+2*w/3,i-2*_/3,a-2*w/3,tu.TOP_LEFT):new Cu(r.left+2*_/3,r.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Lu(r.left+g,r.top+2*w/3,s-2*x/3,u-2*w/3,tu.TOP_RIGHT):new Cu(r.left+r.width-2*x/3,r.top+2*w/3),this.bottomRightBorderDoubleInnerBox=l>0||f>0?Lu(r.left+m,r.top+y,l-2*x/3,f-2*k/3,tu.BOTTOM_RIGHT):new Cu(r.left+r.width-2*x/3,r.top+r.height-2*k/3),this.bottomLeftBorderDoubleInnerBox=A>0||d>0?Lu(r.left+2*_/3,r.top+b,A-2*_/3,d-2*k/3,tu.BOTTOM_LEFT):new Cu(r.left+2*_/3,r.top+r.height-2*k/3),this.topLeftBorderStroke=i>0||a>0?Lu(r.left+_/2,r.top+w/2,i-_/2,a-w/2,tu.TOP_LEFT):new Cu(r.left+_/2,r.top+w/2),this.topRightBorderStroke=i>0||a>0?Lu(r.left+g,r.top+w/2,s-x/2,u-w/2,tu.TOP_RIGHT):new Cu(r.left+r.width-x/2,r.top+w/2),this.bottomRightBorderStroke=l>0||f>0?Lu(r.left+m,r.top+y,l-x/2,f-k/2,tu.BOTTOM_RIGHT):new Cu(r.left+r.width-x/2,r.top+r.height-k/2),this.bottomLeftBorderStroke=A>0||d>0?Lu(r.left+_/2,r.top+b,A-_/2,d-k/2,tu.BOTTOM_LEFT):new Cu(r.left+_/2,r.top+r.height-k/2),this.topLeftBorderBox=i>0||a>0?Lu(r.left,r.top,i,a,tu.TOP_LEFT):new Cu(r.left,r.top),this.topRightBorderBox=s>0||u>0?Lu(r.left+g,r.top,s,u,tu.TOP_RIGHT):new Cu(r.left+r.width,r.top),this.bottomRightBorderBox=l>0||f>0?Lu(r.left+m,r.top+y,l,f,tu.BOTTOM_RIGHT):new Cu(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=A>0||d>0?Lu(r.left,r.top+b,A,d,tu.BOTTOM_LEFT):new Cu(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||a>0?Lu(r.left+_,r.top+w,Math.max(0,i-_),Math.max(0,a-w),tu.TOP_LEFT):new Cu(r.left+_,r.top+w),this.topRightPaddingBox=s>0||u>0?Lu(r.left+Math.min(g,r.width-x),r.top+w,g>r.width+x?0:Math.max(0,s-x),Math.max(0,u-w),tu.TOP_RIGHT):new Cu(r.left+r.width-x,r.top+w),this.bottomRightPaddingBox=l>0||f>0?Lu(r.left+Math.min(m,r.width-_),r.top+Math.min(y,r.height-k),Math.max(0,l-x),Math.max(0,f-k),tu.BOTTOM_RIGHT):new Cu(r.left+r.width-x,r.top+r.height-k),this.bottomLeftPaddingBox=A>0||d>0?Lu(r.left+_,r.top+Math.min(b,r.height-k),Math.max(0,A-_),Math.max(0,d-k),tu.BOTTOM_LEFT):new Cu(r.left+_,r.top+r.height-k),this.topLeftContentBox=i>0||a>0?Lu(r.left+_+C,r.top+w+B,Math.max(0,i-(_+C)),Math.max(0,a-(w+B)),tu.TOP_LEFT):new Cu(r.left+_+C,r.top+w+B),this.topRightContentBox=s>0||u>0?Lu(r.left+Math.min(g,r.width+_+C),r.top+w+B,g>r.width+_+C?0:s-_+C,u-(w+B),tu.TOP_RIGHT):new Cu(r.left+r.width-(x+E),r.top+w+B),this.bottomRightContentBox=l>0||f>0?Lu(r.left+Math.min(m,r.width-(_+C)),r.top+Math.min(y,r.height+w+B),Math.max(0,l-(x+E)),f-(k+S),tu.BOTTOM_RIGHT):new Cu(r.left+r.width-(x+E),r.top+r.height-(k+S)),this.bottomLeftContentBox=A>0||d>0?Lu(r.left+_+C,r.top+b,Math.max(0,A-(_+C)),d-(k+S),tu.BOTTOM_LEFT):new Cu(r.left+_+C,r.top+r.height-(k+S))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(tu||(tu={}));var Lu=function(e,t,r,n,i){var a=(Math.sqrt(2)-1)/3*4,o=r*a,s=n*a,u=e+r,c=t+n;switch(i){case tu.TOP_LEFT:return new Pu(new Cu(e,c),new Cu(e,c-s),new Cu(u-o,t),new Cu(u,t));case tu.TOP_RIGHT:return new Pu(new Cu(e,t),new Cu(e+o,t),new Cu(u,c-s),new Cu(u,c));case tu.BOTTOM_RIGHT:return new Pu(new Cu(u,t),new Cu(u,t+s),new Cu(e+o,c),new Cu(e,c));case tu.BOTTOM_LEFT:default:return new Pu(new Cu(u,c),new Cu(u-o,c),new Cu(e,t+s),new Cu(e,t))}},Nu=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Mu=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Uu=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Fu=function(){function e(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),Ru=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Du=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),ju=function(e){return 0===e.type},Qu=function(e){return 1===e.type},Hu=function(e){return 2===e.type},Ku=function(e,t){return e.length===t.length&&e.some((function(e,r){return e===t[r]}))},Vu=function(e,t,r,n,i){return e.map((function(e,a){switch(a){case 0:return e.add(t,r);case 1:return e.add(t+n,r);case 2:return e.add(t+n,r+i);case 3:return e.add(t,r+i)}return e}))},zu=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),qu=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Ou(this.container),this.container.styles.opacity<1&&this.effects.push(new Du(this.container.styles.opacity)),null!==this.container.styles.transform){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Fu(r,n,i))}if(0!==this.container.styles.overflowX){var a=Nu(this.curves),o=Uu(this.curves);Ku(a,o)?this.effects.push(new Ru(a,6)):(this.effects.push(new Ru(a,2)),this.effects.push(new Ru(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter((function(e){return!Qu(e)}));if(t||0!==r.container.styles.position||!r.parent){if(n.unshift.apply(n,i),t=-1===[2,3].indexOf(r.container.styles.position),0!==r.container.styles.overflowX){var a=Nu(r.curves),o=Uu(r.curves);Ku(a,o)||n.unshift(new Ru(o,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter((function(t){return la(t.target,e)}))},e}(),Gu=function e(t,r,n,i){t.container.elements.forEach((function(a){var o=la(a.flags,4),s=la(a.flags,2),u=new qu(a,t);la(a.styles.display,2048)&&i.push(u);var c=la(a.flags,8)?[]:i;if(o||s){var l=o||a.styles.isPositioned()?n:r,f=new zu(u);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var A=0;l.negativeZIndex.some((function(e,t){return h>e.element.container.styles.zIndex.order?(A=t,!1):A>0})),l.negativeZIndex.splice(A,0,f)}else if(h>0){var d=0;l.positiveZIndex.some((function(e,t){return h>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),l.positiveZIndex.splice(d,0,f)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else a.styles.isFloating()?l.nonPositionedFloats.push(f):l.nonPositionedInlineLevel.push(f);e(u,f,o?f:n,c)}else a.styles.isInlineLevel()?r.inlineLevel.push(u):r.nonInlineLevel.push(u),e(u,r,n,c);la(a.flags,8)&&Wu(a,c)}))},Wu=function(e,t){for(var r=e instanceof Jo?e.start:1,n=e instanceof Jo&&e.reversed,i=0;i<t.length;i++){var a=t[i];a.container instanceof Wo&&"number"==typeof a.container.value&&0!==a.container.value&&(r=a.container.value),a.listValue=$s(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},Ju=function(e){var t=new qu(e,null),r=new zu(t),n=[];return Gu(t,r,r,n),Wu(t.container,n),r},Xu=function(e,t){switch(t){case 0:return tc(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return tc(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return tc(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return tc(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Yu=function(e,t){switch(t){case 0:return tc(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return tc(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return tc(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return tc(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},$u=function(e,t){switch(t){case 0:return tc(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return tc(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return tc(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return tc(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Zu=function(e,t){switch(t){case 0:return ec(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ec(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ec(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return ec(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ec=function(e,t){var r=[];return Tu(e)?r.push(e.subdivide(.5,!1)):r.push(e),Tu(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},tc=function(e,t,r,n){var i=[];return Tu(e)?i.push(e.subdivide(.5,!1)):i.push(e),Tu(r)?i.push(r.subdivide(.5,!0)):i.push(r),Tu(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Tu(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},rc=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},nc=function(e){var t=e.styles,r=e.bounds,n=Gr(t.paddingLeft,r.width),i=Gr(t.paddingRight,r.width),a=Gr(t.paddingTop,r.width),o=Gr(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},ic=function(e,t){return 0===e?t.bounds:2===e?nc(t):rc(t)},ac=function(e,t){return 0===e?t.bounds:2===e?nc(t):rc(t)},oc=function(e,t,r){var n=ic(lc(e.styles.backgroundOrigin,t),e),i=ac(lc(e.styles.backgroundClip,t),e),a=cc(lc(e.styles.backgroundSize,t),r,n),o=a[0],s=a[1],u=qr(lc(e.styles.backgroundPosition,t),n.width-o,n.height-s);return[fc(lc(e.styles.backgroundRepeat,t),u,a,n,i),Math.round(n.left+u[0]),Math.round(n.top+u[1]),o,s]},sc=function(e){return Lr(e)&&e.value===jn.AUTO},uc=function(e){return"number"==typeof e},cc=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Qr(o)&&s&&Qr(s))return[Gr(o,r.width),Gr(s,r.height)];var u=uc(a);if(Lr(o)&&(o.value===jn.CONTAIN||o.value===jn.COVER))return uc(a)?r.width/r.height<a!=(o.value===jn.COVER)?[r.width,r.width/a]:[r.height*a,r.height]:[r.width,r.height];var c=uc(n),l=uc(i),f=c||l;if(sc(o)&&(!s||sc(s)))return c&&l?[n,i]:u||f?f&&u?[c?n:i*a,l?i:n/a]:[c?n:r.width,l?i:r.height]:[r.width,r.height];if(u){var h=0,A=0;return Qr(o)?h=Gr(o,r.width):Qr(s)&&(A=Gr(s,r.height)),sc(o)?h=A*a:s&&!sc(s)||(A=h/a),[h,A]}var d=null,p=null;if(Qr(o)?d=Gr(o,r.width):s&&Qr(s)&&(p=Gr(s,r.height)),null===d||s&&!sc(s)||(p=c&&l?d/n*i:r.height),null!==p&&sc(o)&&(d=c&&l?p/i*n:r.width),null!==d&&null!==p)return[d,p];throw new Error("Unable to calculate background-size for element")},lc=function(e,t){var r=e[t];return void 0===r?e[0]:r},fc=function(e,t,r,n,i){var a=t[0],o=t[1],s=r[0],u=r[1];switch(e){case 2:return[new Cu(Math.round(n.left),Math.round(n.top+o)),new Cu(Math.round(n.left+n.width),Math.round(n.top+o)),new Cu(Math.round(n.left+n.width),Math.round(u+n.top+o)),new Cu(Math.round(n.left),Math.round(u+n.top+o))];case 3:return[new Cu(Math.round(n.left+a),Math.round(n.top)),new Cu(Math.round(n.left+a+s),Math.round(n.top)),new Cu(Math.round(n.left+a+s),Math.round(n.height+n.top)),new Cu(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Cu(Math.round(n.left+a),Math.round(n.top+o)),new Cu(Math.round(n.left+a+s),Math.round(n.top+o)),new Cu(Math.round(n.left+a+s),Math.round(n.top+o+u)),new Cu(Math.round(n.left+a),Math.round(n.top+o+u))];default:return[new Cu(Math.round(i.left),Math.round(i.top)),new Cu(Math.round(i.left+i.width),Math.round(i.top)),new Cu(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Cu(Math.round(i.left),Math.round(i.height+i.top))]}},hc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Ac="Hidden Text",dc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),n.src=hc,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Ac)),r.appendChild(i),r.appendChild(n);var o=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Ac)),r.style.lineHeight="normal",n.style.verticalAlign="super";var s=n.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var r=e+" "+t;return void 0===this._data[r]&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},e}(),pc=function(){function e(e,t){this.context=e,this.options=t}return e}(),vc=1e4,gc=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new dc(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return t(r,e),r.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},r.prototype.applyEffect=function(e){this.ctx.save(),Hu(e)&&(this.ctx.globalAlpha=e.opacity),ju(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Qu(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(e){return n(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},r.prototype.renderNode=function(e){return n(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return la(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},r.prototype.renderTextWithLetterSpacing=function(e,t,r){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+r):Uo(e.text).reduce((function(t,i){return n.ctx.fillText(i,t,e.bounds.top+r),t+n.ctx.measureText(i).width}),e.bounds.left)},r.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),r=xc(e.fontFamily).join(", "),n=Tr(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,n,r].join(" "),r,n]},r.prototype.renderTextNode=function(e,t){return n(this,void 0,void 0,(function(){var r,n,i,o,s,u,c,l,f=this;return a(this,(function(a){return r=this.createFontStyle(t),n=r[0],i=r[1],o=r[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(i,o),u=s.baseline,c=s.middle,l=t.paintOrder,e.textBounds.forEach((function(e){l.forEach((function(r){switch(r){case 0:f.ctx.fillStyle=an(t.color),f.renderTextWithLetterSpacing(e,t.letterSpacing,u);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(r){f.ctx.shadowColor=an(r.color),f.ctx.shadowOffsetX=r.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=r.offsetY.number*f.options.scale,f.ctx.shadowBlur=r.blur.number,f.renderTextWithLetterSpacing(e,t.letterSpacing,u)})),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),t.textDecorationLine.length&&(f.ctx.fillStyle=an(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:f.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+u),e.bounds.width,1);break;case 2:f.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:f.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(f.ctx.strokeStyle=an(t.webkitTextStrokeColor),f.ctx.lineWidth=t.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter"}}))})),[2]}))}))},r.prototype.renderReplacedElement=function(e,t,r){if(r&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var n=nc(e),i=Uu(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,(function(){var t,n,i,o,u,c,l,f,h,A,d,p,v,g,y,m,b,w;return a(this,(function(a){switch(a.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,n=e.curves,i=t.styles,o=0,u=t.textNodes,a.label=1;case 1:return o<u.length?(c=u[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof zo))return[3,8];a.label=5;case 5:return a.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=a.sent(),this.renderReplacedElement(t,n,y),[3,8];case 7:return a.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof qo&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof Go))return[3,12];a.label=9;case 9:return a.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=a.sent(),this.renderReplacedElement(t,n,y),[3,12];case 11:return a.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ss&&t.tree?[4,new r(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=a.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),a.label=14;case 14:if(t instanceof is&&(f=Math.min(t.bounds.width,t.bounds.height),t.type===es?t.checked&&(this.ctx.save(),this.path([new Cu(t.bounds.left+.39363*f,t.bounds.top+.79*f),new Cu(t.bounds.left+.16*f,t.bounds.top+.5549*f),new Cu(t.bounds.left+.27347*f,t.bounds.top+.44071*f),new Cu(t.bounds.left+.39694*f,t.bounds.top+.5649*f),new Cu(t.bounds.left+.72983*f,t.bounds.top+.23*f),new Cu(t.bounds.left+.84*f,t.bounds.top+.34085*f),new Cu(t.bounds.left+.39363*f,t.bounds.top+.79*f)]),this.ctx.fillStyle=an(ns),this.ctx.fill(),this.ctx.restore()):t.type===ts&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+f/2,t.bounds.top+f/2,f/4,0,2*Math.PI,!0),this.ctx.fillStyle=an(ns),this.ctx.fill(),this.ctx.restore())),yc(t)&&t.value.length){switch(h=this.createFontStyle(i),b=h[0],A=h[1],d=this.fontMetrics.getMetrics(b,A).baseline,this.ctx.font=b,this.ctx.fillStyle=an(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=bc(t.styles.textAlign),w=nc(t),p=0,t.styles.textAlign){case 1:p+=w.width/2;break;case 2:p+=w.width}v=w.add(p,0,0,-w.height/2+1),this.ctx.save(),this.path([new Cu(w.left,w.top),new Cu(w.left+w.width,w.top),new Cu(w.left+w.width,w.top+w.height),new Cu(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Oo(t.value,v),i.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!la(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];y=void 0,m=g.url,a.label=15;case 15:return a.trys.push([15,17,,18]),[4,this.context.cache.match(m)];case 16:return y=a.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return a.sent(),this.context.logger.error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(i)[0],this.ctx.font=b,this.ctx.fillStyle=an(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new s(t.bounds.left,t.bounds.top+Gr(t.styles.paddingTop,t.bounds.width),t.bounds.width,Bi(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Oo(e.listValue,w),i.letterSpacing,Bi(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),a.label=20;case 20:return[2]}}))}))},r.prototype.renderStackContent=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i,o,s,u,c,l,f,h,A,d,p,v;return a(this,(function(a){switch(a.label){case 0:return la(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:a.sent(),t=0,r=e.negativeZIndex,a.label=2;case 2:return t<r.length?(v=r[t],[4,this.renderStack(v)]):[3,5];case 3:a.sent(),a.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:a.sent(),n=0,i=e.nonInlineLevel,a.label=7;case 7:return n<i.length?(v=i[n],[4,this.renderNode(v)]):[3,10];case 8:a.sent(),a.label=9;case 9:return n++,[3,7];case 10:o=0,s=e.nonPositionedFloats,a.label=11;case 11:return o<s.length?(v=s[o],[4,this.renderStack(v)]):[3,14];case 12:a.sent(),a.label=13;case 13:return o++,[3,11];case 14:u=0,c=e.nonPositionedInlineLevel,a.label=15;case 15:return u<c.length?(v=c[u],[4,this.renderStack(v)]):[3,18];case 16:a.sent(),a.label=17;case 17:return u++,[3,15];case 18:l=0,f=e.inlineLevel,a.label=19;case 19:return l<f.length?(v=f[l],[4,this.renderNode(v)]):[3,22];case 20:a.sent(),a.label=21;case 21:return l++,[3,19];case 22:h=0,A=e.zeroOrAutoZIndexOrTransformedOrOpacity,a.label=23;case 23:return h<A.length?(v=A[h],[4,this.renderStack(v)]):[3,26];case 24:a.sent(),a.label=25;case 25:return h++,[3,23];case 26:d=0,p=e.positiveZIndex,a.label=27;case 27:return d<p.length?(v=p[d],[4,this.renderStack(v)]):[3,30];case 28:a.sent(),a.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},r.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},r.prototype.formatPath=function(e){var t=this;e.forEach((function(e,r){var n=Tu(e)?e.start:e;0===r?t.ctx.moveTo(n.x,n.y):t.ctx.lineTo(n.x,n.y),Tu(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},r.prototype.renderRepeat=function(e,t,r,n){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(r,n),this.ctx.fill(),this.ctx.translate(-r,-n)},r.prototype.resizeImage=function(e,t,r){var n;if(e.width===t&&e.height===r)return e;var i=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,r),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,r),i},r.prototype.renderBackgroundImage=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i,o,s;return a(this,(function(u){switch(u.label){case 0:t=e.styles.backgroundImage.length-1,r=function(r){var i,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,L,N,M;return a(this,(function(a){switch(a.label){case 0:if(0!==r.type)return[3,5];i=void 0,o=r.url,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.context.cache.match(o)];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),n.context.logger.error("Error loading background-image "+o),[3,4];case 4:return i&&(s=oc(e,t,[i.width,i.height,i.width/i.height]),b=s[0],E=s[1],S=s[2],k=s[3],_=s[4],y=n.ctx.createPattern(n.resizeImage(i,k,_),"repeat"),n.renderRepeat(b,y,E,S)),[3,6];case 5:Un(r)?(u=oc(e,t,[null,null,null]),b=u[0],E=u[1],S=u[2],k=u[3],_=u[4],c=mn(r.angle,k,_),l=c[0],f=c[1],h=c[2],A=c[3],d=c[4],(p=document.createElement("canvas")).width=k,p.height=_,v=p.getContext("2d"),g=v.createLinearGradient(f,A,h,d),gn(r.stops,l).forEach((function(e){return g.addColorStop(e.stop,an(e.color))})),v.fillStyle=g,v.fillRect(0,0,k,_),k>0&&_>0&&(y=n.ctx.createPattern(p,"repeat"),n.renderRepeat(b,y,E,S))):Fn(r)&&(m=oc(e,t,[null,null,null]),b=m[0],w=m[1],x=m[2],k=m[3],_=m[4],B=0===r.position.length?[Vr]:r.position,E=Gr(B[0],k),S=Gr(B[B.length-1],_),C=xn(r,E,S,k,_),I=C[0],P=C[1],I>0&&P>0&&(T=n.ctx.createRadialGradient(w+E,x+S,0,w+E,x+S,I),gn(r.stops,2*I).forEach((function(e){return T.addColorStop(e.stop,an(e.color))})),n.path(b),n.ctx.fillStyle=T,I!==P?(O=e.bounds.left+.5*e.bounds.width,L=e.bounds.top+.5*e.bounds.height,M=1/(N=P/I),n.ctx.save(),n.ctx.translate(O,L),n.ctx.transform(1,0,0,N,0,0),n.ctx.translate(-O,-L),n.ctx.fillRect(w,M*(x-L)+L,k,_*M),n.ctx.restore()):n.ctx.fill())),a.label=6;case 6:return t--,[2]}}))},n=this,i=0,o=e.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<o.length?(s=o[i],[5,r(s)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},r.prototype.renderSolidBorder=function(e,t,r){return n(this,void 0,void 0,(function(){return a(this,(function(n){return this.path(Xu(r,t)),this.ctx.fillStyle=an(e),this.ctx.fill(),[2]}))}))},r.prototype.renderDoubleBorder=function(e,t,r,i){return n(this,void 0,void 0,(function(){var n,o;return a(this,(function(a){switch(a.label){case 0:return t<3?[4,this.renderSolidBorder(e,r,i)]:[3,2];case 1:return a.sent(),[2];case 2:return n=Yu(i,r),this.path(n),this.ctx.fillStyle=an(e),this.ctx.fill(),o=$u(i,r),this.path(o),this.ctx.fill(),[2]}}))}))},r.prototype.renderNodeBackgroundAndBorders=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i,o,s,u,c,l=this;return a(this,(function(a){switch(a.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,r=!nn(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],i=mc(lc(t.backgroundClip,0),e.curves),r||t.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),nn(t.backgroundColor)||(this.ctx.fillStyle=an(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:a.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){l.ctx.save();var r=Nu(e.curves),n=t.inset?0:vc,i=Vu(r,-n+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(l.path(r),l.ctx.clip(),l.mask(i)):(l.mask(r),l.ctx.clip(),l.path(i)),l.ctx.shadowOffsetX=t.offsetX.number+n,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=an(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?an(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),a.label=2;case 2:o=0,s=0,u=n,a.label=3;case 3:return s<u.length?0!==(c=u[s]).style&&!nn(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return a.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return a.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return a.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:a.sent(),a.label=11;case 11:o++,a.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},r.prototype.renderDashedDottedBorder=function(e,t,r,i,o){return n(this,void 0,void 0,(function(){var n,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w;return a(this,(function(a){return this.ctx.save(),n=Zu(i,r),s=Xu(i,r),2===o&&(this.path(s),this.ctx.clip()),Tu(s[0])?(u=s[0].start.x,c=s[0].start.y):(u=s[0].x,c=s[0].y),Tu(s[1])?(l=s[1].end.x,f=s[1].end.y):(l=s[1].x,f=s[1].y),h=0===r||2===r?Math.abs(u-l):Math.abs(c-f),this.ctx.beginPath(),3===o?this.formatPath(n):this.formatPath(s.slice(0,2)),A=t<3?3*t:2*t,d=t<3?2*t:t,3===o&&(A=t,d=t),p=!0,h<=2*A?p=!1:h<=2*A+d?(A*=v=h/(2*A+d),d*=v):(g=Math.floor((h+d)/(A+d)),y=(h-g*A)/(g-1),d=(m=(h-(g+1)*A)/g)<=0||Math.abs(d-y)<Math.abs(d-m)?y:m),p&&(3===o?this.ctx.setLineDash([0,A+d]):this.ctx.setLineDash([A,d])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=an(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(Tu(s[0])&&(b=s[3],w=s[0],this.ctx.beginPath(),this.formatPath([new Cu(b.end.x,b.end.y),new Cu(w.start.x,w.start.y)]),this.ctx.stroke()),Tu(s[1])&&(b=s[1],w=s[2],this.ctx.beginPath(),this.formatPath([new Cu(b.end.x,b.end.y),new Cu(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},r.prototype.render=function(e){return n(this,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=an(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Ju(e),[4,this.renderStack(t)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},r}(pc),yc=function(e){return e instanceof os||e instanceof as||e instanceof is&&e.type!==ts&&e.type!==es},mc=function(e,t){switch(e){case 0:return Nu(t);case 2:return Mu(t);default:return Uu(t)}},bc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},wc=["-apple-system","system-ui"],xc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===wc.indexOf(e)})):e},kc=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return t(r,e),r.prototype.render=function(e){return n(this,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return t=Io(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,_c(t)];case 1:return r=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=an(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},r}(pc),_c=function(e){return new Promise((function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Bc=function(){function e(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Ec=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Bc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(n=t.cache)&&void 0!==n?n:new mu(this,t)}return e.instanceCount=1,e}(),Sc=function(e,t){return void 0===t&&(t={}),Cc(e,t)};"undefined"!=typeof window&&yu.setContext(window);var Cc=function(e,t){return n(void 0,void 0,void 0,(function(){var n,o,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,L,N,M,U,F,R,D,j,Q,H,K,V,z;return a(this,(function(a){switch(a.label){case 0:if(!e||"object"!==i(e))return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=n.defaultView))throw new Error("Document is not attached to a Window");return l={allowTaint:null!==(I=t.allowTaint)&&void 0!==I&&I,imageTimeout:null!==(P=t.imageTimeout)&&void 0!==P?P:15e3,proxy:t.proxy,useCORS:null!==(T=t.useCORS)&&void 0!==T&&T},f=r({logging:null===(O=t.logging)||void 0===O||O,cache:t.cache},l),h={windowWidth:null!==(L=t.windowWidth)&&void 0!==L?L:o.innerWidth,windowHeight:null!==(N=t.windowHeight)&&void 0!==N?N:o.innerHeight,scrollX:null!==(M=t.scrollX)&&void 0!==M?M:o.pageXOffset,scrollY:null!==(U=t.scrollY)&&void 0!==U?U:o.pageYOffset},A=new s(h.scrollX,h.scrollY,h.windowWidth,h.windowHeight),d=new Ec(f,A),p=null!==(F=t.foreignObjectRendering)&&void 0!==F&&F,v={allowTaint:null!==(R=t.allowTaint)&&void 0!==R&&R,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},d.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),g=new eu(d,e,v),(y=g.clonedReferenceElement)?[4,g.toIFrame(n,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=a.sent(),b=ks(y)||ws(y)?c(y.ownerDocument):u(d,y),w=b.width,x=b.height,k=b.left,_=b.top,B=Ic(d,y,t.backgroundColor),E={canvas:t.canvas,backgroundColor:B,scale:null!==(j=null!==(D=t.scale)&&void 0!==D?D:o.devicePixelRatio)&&void 0!==j?j:1,x:(null!==(Q=t.x)&&void 0!==Q?Q:0)+k,y:(null!==(H=t.y)&&void 0!==H?H:0)+_,width:null!==(K=t.width)&&void 0!==K?K:Math.ceil(w),height:null!==(V=t.height)&&void 0!==V?V:Math.ceil(x)},p?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new kc(d,E).render(y)]):[3,3];case 2:return S=a.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+k+","+_+" with size "+w+"x"+x+" using computed rendering"),d.logger.debug("Starting DOM parsing"),C=fs(d,y),B===C.styles.backgroundColor&&(C.styles.backgroundColor=An.TRANSPARENT),d.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new gc(d,E).render(C)];case 4:S=a.sent(),a.label=5;case 5:return(null===(z=t.removeContainer)||void 0===z||z)&&(eu.destroy(m)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,S]}}))}))},Ic=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?hn(e,getComputedStyle(n.documentElement).backgroundColor):An.TRANSPARENT,a=n.body?hn(e,getComputedStyle(n.body).backgroundColor):An.TRANSPARENT,o="string"==typeof r?hn(e,r):null===r?An.TRANSPARENT:4294967295;return t===n.documentElement?nn(i)?nn(a)?o:a:i:o};return Sc}();var Vi=Ki.exports,zi=e({__proto__:null,default:Vi},[Ki.exports]);const qi="FAST";function Gi(e,t){return e>t?"landscape":"portrait"}function Wi(e,t,r,n,i,a,o){return e.addImage({imageData:t,format:"PNG",x:i,y:a,width:r,height:n,compression:o}),e}async function Ji({pdf:e,pageHTMLElement:t,width:r,height:n,margin:i=0}){const a={width:r+2*i,height:n+2*i},o=(await Vi(t,{scale:2})).toDataURL("image/png",1),s=Gi(r,n);return e?e.addPage([a.width,a.height],s):e=new an({unit:"px",hotfixes:["px_scaling"],format:[a.width,a.height],orientation:s}),e=Wi(e,o,r,n,10,10,qi)}async function Xi(e,t){const{width:r,height:n}=await(async e=>await new Promise((t=>{const r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.src=e})))(t),i=Gi(r,n);return e.addPage([r,n],i),Wi(e,t,r,n,0,0,qi)}var Yi,$i=ze(Yi||(Yi=_(["<style>.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}.buv-c-logo{color:currentColor;text-decoration:none}.buv-c-logo--small{width:113px;height:16px}.buv-c-logo--medium{width:66%}.buv-c-logo__motto{font-size:12px}</style>"]))),Zi="en";var ea={locale:Zi},ta={en:{errors:{errorLabel:"Error",invalidBlockcerts:"Not a valid Blockcerts credential. Please check with the issuer or recipient that has provided this credential.",invalidBlockcertsUrl:"Not a valid credential URL.",invalidFormatDragAndDrop:"Only JSON files are accepted",invalidUrl:"This does not seem to be a valid URL.",noIssuerName:"No name provided",noMetadata:"No metadata specified for this record",noShareUrl:"No URL to share!",noTransactionId:"No transaction ID"},text:{brandName:"Blockcerts",blockcertsHint:"Visit Blockcerts website",by:"by",certified:"Certified by",closeButton:"Click to close",downloadLink:"Download Record in JSON format",downloadPDFLink:"Download Record in PDF Format",downloadPDFLinkIsLoading:"Generating PDF...",dragAndDropHint:"(you can also drag & drop your file).",fileUpload:"Choose JSON file",issued:"Issued on",issueDate:"Issue Date",issuerName:"Issuer",issuerPublicKey:"Issuer's public key",issuerProfileDomain:"Issuer's information",item:"Item",itemPlural:"Items",metadataButton:"View Metadata",metadataTitle:"Metadata",motto:"Blockcerts, The Open Standard for Blockchain Credentials",recipient:"Recipient",share:"Share on",shareButton:"Share on Social Networks",signatureSuiteType:"Digital signature type",signatureStatusSuccess:"This signature has been successfully verified",signatureStatusTestSuccess:"This signature has been successfully verified but has been issued on a test chain",signatureStatusFailure:"This signature yielded an error during verification",signed:"Signed by",substepsListClose:"Hide",substepsListHint:"Toggle open list of substeps",transactionId:"Transaction ID",urlInput:"Enter the certificate URL",urlInputPlaceholder:"Certificate URL",verificationStepProgress:"Verifying step...",verify:"Verify",verifyAgain:"Verify again",verifyOther:"Verify another record",viewRecord:"View Record"},date:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],pattern:"MM DD, YYYY"},numbers:{ordinal:["th","st","nd","rd"]}},es:{errors:{errorLabel:"Error",invalidBlockcerts:"No es una credencial vlida de Blockcerts. Verifique con el emisor o el destinatario que ha proporcionado esta credencial.",invalidBlockcertsUrl:"No es URL de certificado valido.",invalidFormatDragAndDrop:"Solo se aceptan archivos JSON",invalidUrl:"Esto no parece ser un URL vlido.",noIssuerName:"No nombre comunicado",noMetadata:"No se han especificado metadatos para este registro",noShareUrl:"No hay URL para compartir!",noTransactionId:"No ID de transaccin"},text:{brandName:"Blockcerts",blockcertsHint:"Visite el sitio web de Blockcerts",by:"por",certified:"Certificado por",closeButton:"Haz Click para cerrar",downloadLink:"Descarga el Registro en formato JSON",downloadPDFLink:"Descarga el Registro en formato PDF",downloadPDFLinkIsLoading:"Generando PDF...",dragAndDropHint:"(tambin puedes arrastrar y soltar tu archivo).",fileUpload:"Escoge archivo JSON",issued:"Emitido el",issueDate:"Fecha de Emisin",issuerName:"Emisor",issuerPublicKey:"Llave publica del Emisor",issuerProfileDomain:"Informacin del Emisor",item:"Elemento",itemPlural:"Elementos",metadataButton:"Ver Metadata",metadataTitle:"Metadata",motto:"Blockcerts, El Estndar Abierto para Credenciales Blockchain",recipient:"Recipiente",share:"Comparte en",shareButton:"Comparte en Redes Sociales",signatureSuiteType:"Tipo de firma digital",signed:"Firmado Por",signatureStatusSuccess:"La verificacin de esta firma digital ha tenido xito",signatureStatusTestSuccess:"La verificacin de esta firma digital ha tenido xito pero se utiliz una cadena de test",signatureStatusFailure:"Error en la verificacin de esta firma digital",substepsListClose:"Esconde",substepsListHint:"Pasa lista abierta de sub-pasos",transactionId:"ID de Transaccin",urlInput:"Ingrese el URL del certificado",urlInputPlaceholder:"Certificado del URL",verificationStepProgress:"Paso de verificacin...",verify:"Verifica",verifyAgain:"Verifica nuevamente",verifyOther:"Verifica otro registro",viewRecord:"Ver Registro"},date:{months:["enero","feb","marzo","abr","mayo","jun","jul","agosto","set","oct","nov","dic"],pattern:"MM DD, YYYY"},numbers:{ordinal:""}},fr:{errors:{errorLabel:"Erreur",invalidBlockcerts:"Ceci n'est pas un certificat Blockcerts valide. Veuillez s'il vous plat contrler avec l'organisme metteur ou le rcipiendaire de ce certificat.",invalidBlockcertsUrl:"Ceci n'est pas une URL de certificat valide.",invalidFormatDragAndDrop:"Seul le format JSON est accept",invalidUrl:"URL invalide",noIssuerName:"Pas de nom fourni",noMetadata:"Ce certificat ne contient pas de mtadata",noShareUrl:"Pas d'URL  partager!",noTransactionId:"Pas d'identifiant de transaction"},text:{brandName:"Blockcerts",blockcertsHint:"Visiter le site de Blockcerts",by:"par",certified:"Certifi par",closeButton:"Cliquer pour fermer",downloadLink:"Tlcharger le certificat au format JSON",downloadPDFLink:"Tlcharger le certificat au format PDF",downloadPDFLinkIsLoading:"Cration du PDF...",dragAndDropHint:"(vous pouvez aussi glisser et dposer votre fichier).",fileUpload:"Choisir un fichier JSON",issued:"mis le",issueDate:"Date d'mission",issuerName:"metteur",issuerPublicKey:"Cl publique de l'metteur",issuerProfileDomain:"Profil de l'metteur",item:"point contrl",itemPlural:"points contrls",metadataButton:"Voir les mtadata",metadataTitle:"Mtadata",motto:"Blockcerts, The Open Standard for Blockchain Credentials",recipient:"Titulaire",share:"Partager sur",shareButton:"Partager sur les rseaux sociaux",signatureSuiteType:"Type de signature numrique",signed:"Sign par",signatureStatusSuccess:"Cette signature a t vrifie avec succs",signatureStatusTestSuccess:"Cette signature a t vrifie avec succs mais la blockchain utilise est de test",signatureStatusFailure:"Erreur durant la vrification de cette signature",substepsListClose:"Fermer",substepsListHint:"Afficher les sous-tapes",transactionId:"Identifiant de transaction",urlInput:"Entrez l'URL du certificat",urlInputPlaceholder:"URL du certificat",verificationStepProgress:"Vrification en cours...",verify:"Vrifier",verifyAgain:"Vrifier de nouveau",verifyOther:"Vrifier un autre certificat",viewRecord:"Voir le certificat"},date:{months:["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Aout","Sept","Oct","Nov","Dc"],pattern:"DD MM YYYY"},numbers:{ordinal:["me","er"]}},it:{errors:{errorLabel:"Errore",invalidBlockcerts:"Non  una definizione valida di Blockcerts.",invalidBlockcertsUrl:"Non  un URL di certificato valido.",invalidFormatDragAndDrop:"Sono accettati solo file JSON",invalidUrl:"Questo non sembra essere un URL valido.",noIssuerName:"No name provided",noMetadata:"Nessun Metadata specificato per questo record",noShareUrl:"Non c' un URL da condividere!",noTransactionId:"Nessun ID transazione"},text:{brandName:"Blockcerts",blockcertsHint:"Visita il sito Web Blockcerts",by:"da",certified:"Certificato da",closeButton:"Fai clic per chiudere",downloadLink:"Scarica il Record in formato JSON",downloadPDFLink:"Scarica il Record in formato JSON",downloadPDFLinkIsLoading:"Generazione PDF...",dragAndDropHint:"(puoi anche trascinare il file).",fileUpload:"Scegli il file JSON",issued:"Rilasciato il",issueDate:"Data",issuerName:"Organizzazione Issuer",issuerPublicKey:"Chiave pubblica del Issuer",issuerProfileDomain:"Informazzione del Issuer",item:"Elemento",itemPlural:"Elementi",metadataButton:"Visualizza Metadata",metadataTitle:"Metadata",motto:"Blockcerts, The Open Standard for Blockchain Credentials",recipient:"Titolare",share:"Condividi",shareButton:"Condividi sui Social Network",signed:"Firmato da",signatureStatusSuccess:"This signature has been successfully verified",signatureStatusTestSuccess:"This signature has been successfully verified but has been issued on a test chain",signatureStatusFailure:"This signature yielded an error during verification",signatureSuiteType:"Digital signature type",substepsListClose:"Nascondi",substepsListHint:"Mostra gli step secondari",transactionId:"ID transazione",urlInput:"Inserisci l'URL del certificato",urlInputPlaceholder:"URL del certificato",verificationStepProgress:"Step di verifica...",verify:"Verifica",verifyAgain:"Verifica di nuovo",verifyOther:"Verifica un altro record",viewRecord:"Visualizza il Record"},date:{months:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],pattern:"DD MM YYYY"},numbers:{ordinal:""}}};function ra(){return ta}function na(e,t,r,n){if(!e)return"";if(e.includes(".")){const r=e.split(".");e=r[0],t=r[1]}if(!t)return"";r&&n>1&&(t+="Plural");const i=ra();return i[ea.locale]?i[ea.locale][e]?i[ea.locale][e][t]?i[ea.locale][e][t]||"":"[missing locale item data]":"[missing locale group data]":"[missing locale data]"}function ia(){return ze`
    <svg class='buv-qa-logo--branded  buv-c-logo--medium' version="1.1" viewBox="0 0 686 163" xmlns="http://www.w3.org/2000/svg">
      <g fill="none" fill-rule="evenodd">
        <g transform="translate(-76 -70)">
          <g transform="translate(76 53)">
            <path d="m119.52 35.613h21.191c9.8308 0 16.935 1.4323 21.313 4.2969 4.3783 2.8646 6.5674 7.3893 6.5674 13.574 0 4.1667-1.0742 7.6334-3.2227 10.4-2.1484 2.7669-5.2409 4.5085-9.2773 5.2246v0.48828c5.013 0.94402 8.6995 2.8076 11.06 5.5908 2.36 2.7832 3.54 6.5511 3.54 11.304 0 6.4128-2.2379 11.434-6.7139 15.063-4.4759 3.6296-10.701 5.4443-18.677 5.4443h-25.781v-71.387zm11.67 29.492h11.23c4.8828 0 8.4473-0.7731 10.693-2.3193s3.3691-4.1748 3.3691-7.8857c0-3.3529-1.2126-5.778-3.6377-7.2754-2.4251-1.4974-6.2744-2.2461-11.548-2.2461h-10.107v19.727zm0 9.4727v22.607h12.402c4.8828 0 8.5693-0.93586 11.06-2.8076 2.4902-1.8718 3.7354-4.8258 3.7354-8.8623 0-3.711-1.2695-6.4616-3.8086-8.252-2.5391-1.7904-6.3965-2.6855-11.572-2.6855h-11.816zm51.346 32.422v-71.387h11.67v61.377h30.225v10.01h-41.895zm112.58-35.791c0 11.621-2.9052 20.654-8.7158 27.1-5.8106 6.4453-14.038 9.668-24.683 9.668-10.775 0-19.051-3.1982-24.829-9.5947-5.778-6.3965-8.667-15.487-8.667-27.271s2.9052-20.833 8.7158-27.148c5.8106-6.3151 14.103-9.4727 24.878-9.4727 10.612 0 18.815 3.2063 24.609 9.6191s8.6914 15.446 8.6914 27.1zm-54.492 0c0 8.7891 1.7741 15.454 5.3223 19.995 3.5482 4.541 8.8053 6.8115 15.771 6.8115 6.9336 0 12.166-2.2461 15.698-6.7383 3.5319-4.4922 5.2979-11.182 5.2979-20.068 0-8.7566-1.7497-15.397-5.249-19.922-3.4994-4.5248-8.7158-6.7871-15.649-6.7871-6.9987 0-12.28 2.2623-15.845 6.7871s-5.3467 11.165-5.3467 19.922zm97.195-26.611c-6.7058 0-11.979 2.3763-15.82 7.1289-3.8412 4.7526-5.7617 11.312-5.7617 19.678 0 8.7566 1.8473 15.381 5.542 19.873 3.6947 4.4922 9.0413 6.7383 16.04 6.7383 3.0274 0 5.957-0.3011 8.7891-0.90332 2.832-0.60222 5.778-1.3753 8.8379-2.3193v10.01c-5.599 2.1159-11.947 3.1738-19.043 3.1738-10.449 0-18.473-3.1657-24.072-9.4971-5.599-6.3314-8.3984-15.389-8.3984-27.173 0-7.4219 1.359-13.916 4.0771-19.482 2.7181-5.5664 6.6487-9.8307 11.792-12.793s11.182-4.4434 18.115-4.4434c7.2917 0 14.03 1.5299 20.215 4.5898l-4.1992 9.7168c-2.4089-1.1393-4.956-2.1403-7.6416-3.0029-2.6856-0.86263-5.5094-1.2939-8.4717-1.2939zm84.5 62.402h-13.525l-22.412-32.324-6.8848 5.6152v26.709h-11.67v-71.387h11.67v34.082c3.1901-3.9063 6.3639-7.666 9.5215-11.279l19.287-22.803h13.281c-12.468 14.649-21.403 25.081-26.807 31.299l27.539 40.088zm37.576-67.92c-8.9519 0-15.999 2.8646-21.143 8.5938s-7.7148 13.574-7.7148 23.535c0 10.189 2.4251 18.099 7.2754 23.73 4.8503 5.6315 11.784 8.4473 20.801 8.4473 5.9896 0 11.491-0.76497 16.504-2.2949v4.3945c-4.7201 1.6602-10.612 2.4902-17.676 2.4902-10.026 0-17.92-3.2389-23.682-9.7168-5.7617-6.4779-8.6426-15.527-8.6426-27.148 0-7.2592 1.3753-13.656 4.126-19.189 2.7507-5.5339 6.7057-9.8063 11.865-12.817s11.157-4.5166 17.993-4.5166c6.9662 0 13.2 1.3021 18.701 3.9062l-2.002 4.4922c-5.2084-2.6042-10.677-3.9062-16.406-3.9062zm67.654 67.92h-39.014v-71.387h39.014v4.5898h-34.033v27.002h32.129v4.5898h-32.129v30.615h34.033v4.5898zm18.143-31.104v31.104h-4.9805v-71.387h16.992c8.8542 0 15.397 1.6357 19.629 4.9072s6.3477 8.195 6.3477 14.771c0 4.7852-1.2614 8.8216-3.7842 12.109-2.5228 3.2878-6.3558 5.6478-11.499 7.0801l19.385 32.52h-5.957l-18.408-31.104h-17.725zm0-4.2969h13.623c6.0222 0 10.693-1.3428 14.014-4.0283s4.9805-6.6487 4.9805-11.89c0-5.4362-1.6276-9.3913-4.8828-11.865-3.2552-2.474-8.5612-3.7109-15.918-3.7109h-11.816v31.494zm70.047 35.4h-5.0293v-66.699h-23.193v-4.6875h51.416v4.6875h-23.193v66.699zm70.193-18.408c0 5.9571-2.1891 10.677-6.5674 14.16-4.3783 3.4831-10.197 5.2246-17.456 5.2246-8.724 0-15.413-0.96028-20.068-2.8809v-4.9805c5.1433 2.181 11.702 3.2715 19.678 3.2715 5.8594 0 10.506-1.3428 13.94-4.0283 3.4343-2.6856 5.1514-6.2093 5.1514-10.571 0-2.7018-0.56966-4.9398-1.709-6.7139-1.1393-1.7741-2.9948-3.3935-5.5664-4.8584-2.5716-1.4649-6.3476-3.0436-11.328-4.7363-7.2917-2.5065-12.329-5.2165-15.112-8.1299s-4.1748-6.7952-4.1748-11.646c0-5.3386 2.0914-9.6924 6.2744-13.062 4.183-3.3692 9.5621-5.0537 16.138-5.0537 6.7058 0 13.005 1.2695 18.896 3.8086l-1.8066 4.2969c-5.9245-2.474-11.589-3.7109-16.992-3.7109-5.2735 0-9.4726 1.2207-12.598 3.6621-3.125 2.4414-4.6875 5.7617-4.6875 9.9609 0 2.6367 0.48014 4.8014 1.4404 6.4941 0.96029 1.6927 2.5309 3.2145 4.7119 4.5654 2.181 1.3509 5.9245 2.9704 11.23 4.8584 5.5664 1.9206 9.7493 3.7842 12.549 5.5908 2.7995 1.8066 4.8421 3.8574 6.1279 6.1523 1.2858 2.2949 1.9287 5.07 1.9287 8.3252z" fill="#182650" fill-rule="nonzero"/>
            <rect transform="translate(33.5 82) rotate(90) translate(-33.5 -82)" x="28.5" y="48.5" width="10" height="67" rx="5" fill="#2AB27B"/>
            <rect transform="translate(82 82) rotate(90) translate(-82 -82)" x="77" y="77" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(53 102) rotate(90) translate(-53 -102)" x="48" y="97" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(82 42) rotate(90) translate(-82 -42)" x="77" y="37" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(5 42) rotate(90) translate(-5 -42)" y="37" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(44 22) rotate(90) translate(-44 -22)" x="39" y="17" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(34 62) rotate(90) translate(-34 -62)" x="29" y="57" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(73 22) rotate(90) translate(-73 -22)" x="68" y="8" width="10" height="28" rx="5" fill="#2AB27B"/>
            <rect transform="translate(14.5 22) rotate(90) translate(-14.5 -22)" x="9.5" y="7.5" width="10" height="29" rx="5" fill="#2AB27B"/>
            <rect transform="translate(68 62) rotate(90) translate(-68 -62)" x="63" y="43" width="10" height="38" rx="5" fill="#2AB27B"/>
            <rect transform="translate(9.5 62) rotate(90) translate(-9.5 -62)" x="4.5" y="52.5" width="10" height="19" rx="5" fill="#2AB27B"/>
            <rect transform="translate(77.5 102) rotate(90) translate(-77.5 -102)" x="72.5" y="92.5" width="10" height="19" rx="5" fill="#2AB27B"/>
            <rect transform="translate(19 102) rotate(90) translate(-19 -102)" x="14" y="83" width="10" height="38" rx="5" fill="#2AB27B"/>
            <rect transform="translate(43.5 42) rotate(90) translate(-43.5 -42)" x="38.5" y="18.5" width="10" height="47" rx="5" fill="#2AB27B"/>
            <path d="m10.013 172h-2.6147v-20.164h-7.1213v-2.3225h16.857v2.3225h-7.1213v20.164zm21.656 0v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762s-1.6047-1.0151-2.9377-1.0151c-1.7739 0-3.0685 0.48193-3.8837 1.4458s-1.2228 2.543-1.2228 4.7373v8.8132h-2.5532v-23.933h2.5532v7.2444c0 0.87159-0.041015 1.5945-0.12305 2.1687h0.15381c0.50244-0.81006 1.2176-1.4484 2.1456-1.9149 0.92798-0.46656 1.9867-0.69983 3.1761-0.69983 2.061 0 3.6068 0.48962 4.6373 1.4689 1.0305 0.97925 1.5458 2.5353 1.5458 4.6681v10.997h-2.5532zm14.919 0.30762c-2.4917 0-4.4579-0.75878-5.8986-2.2764-1.4407-1.5176-2.161-3.6247-2.161-6.3215 0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826s-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm39.329 3.7529c0 3.5991-0.91003 6.4292-2.7301 8.4902-1.8201 2.061-4.3502 3.0916-7.5905 3.0916-3.312 0-5.8678-1.0126-7.6674-3.0377-1.7996-2.0252-2.6993-4.8834-2.6993-8.5748 0-3.6607 0.90233-6.4984 2.707-8.5133 1.8047-2.0149 4.3681-3.0223 7.6904-3.0223 3.23 0 5.7524 1.0254 7.5674 3.0762 1.815 2.0508 2.7224 4.8808 2.7224 8.4902zm-17.919 0c0 3.0454 0.64855 5.3551 1.9457 6.9291 1.2971 1.574 3.1813 2.361 5.6525 2.361 2.4917 0 4.3733-0.78442 5.6448-2.3533 1.2715-1.5689 1.9072-3.8811 1.9072-6.9368 0-3.0249-0.63317-5.3192-1.8995-6.8829-1.2664-1.5637-3.1402-2.3456-5.6217-2.3456-2.4917 0-4.3861 0.78698-5.6832 2.361-1.2971 1.574-1.9457 3.8631-1.9457 6.8676zm30.393 11.582c-1.0972 0-2.0995-0.20251-3.007-0.60754-0.90748-0.40503-1.6688-1.028-2.2841-1.8688h-0.18457c0.12305 0.98438 0.18457 1.9175 0.18457 2.7993v6.9368h-2.5532v-24.425h2.0764l0.35376 2.3071h0.12305c0.65625-0.92286 1.4202-1.5894 2.2917-1.9995 0.87159-0.41016 1.8713-0.61523 2.9993-0.61523 2.2354 0 3.9606 0.76391 5.1757 2.2917s1.8226 3.6709 1.8226 6.4292c0 2.7686-0.61779 4.9193-1.8534 6.4523-1.2356 1.533-2.9506 2.2994-5.1449 2.2994zm-0.36914-15.304c-1.7227 0-2.9685 0.4768-3.7375 1.4304s-1.1638 2.4712-1.1843 4.5527v0.56909c0 2.3687 0.39477 4.0631 1.1843 5.0834s2.0559 1.5304 3.7991 1.5304c1.4561 0 2.5968-0.58959 3.4222-1.7688 0.82544-1.1792 1.2382-2.8044 1.2382-4.8757 0-2.1021-0.41272-3.7145-1.2382-4.8373-0.82544-1.1228-1.9867-1.6842-3.4838-1.6842zm18.949 15.304c-2.4917 0-4.4579-0.75878-5.8986-2.2764s-2.161-3.6247-2.161-6.3215c0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826-0.80494 0.16919-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm22.779 15.027v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762-0.62549-0.67676-1.6047-1.0151-2.9377-1.0151-1.7637 0-3.0557 0.4768-3.876 1.4304-0.82032 0.95362-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689 1.0254 0.97925 1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm29.054-5.9832c0 1.979-0.71777 3.5222-2.1533 4.6296-1.4356 1.1074-3.3838 1.6611-5.8447 1.6611-2.666 0-4.7168-0.3435-6.1523-1.0305v-2.5225c0.92286 0.38965 1.9277 0.69726 3.0146 0.92285 1.0869 0.22559 2.1636 0.33838 3.23 0.33838 1.7432 0 3.0557-0.33068 3.9375-0.99206 0.88184-0.66138 1.3228-1.5817 1.3228-2.7609 0-0.7793-0.15637-1.4176-0.46912-1.9149-0.31274-0.49732-0.83569-0.95617-1.5688-1.3766-0.73316-0.42041-1.8483-0.89722-3.3453-1.4304-2.0918-0.74854-3.5863-1.6355-4.4835-2.6609s-1.3458-2.3635-1.3458-4.0144c0-1.7329 0.65112-3.1121 1.9534-4.1375 1.3023-1.0254 3.0249-1.5381 5.168-1.5381 2.2354 0 4.2912 0.41015 6.1677 1.2305l-0.81518 2.2764c-1.856-0.7793-3.6606-1.1689-5.4141-1.1689-1.3843 0-2.4661 0.29736-3.2454 0.89209s-1.1689 1.4202-1.1689 2.4763c0 0.7793 0.14355 1.4176 0.43066 1.9149s0.7716 0.95361 1.4535 1.3689 1.7252 0.87414 3.13 1.3766c2.3584 0.84082 3.9811 1.7432 4.868 2.707s1.3304 2.2148 1.3304 3.7529zm9.6592 4.1836c0.45117 0 0.88696-0.033324 1.3074-0.099975s0.75366-0.13586 0.99976-0.20764v1.9534c-0.27686 0.1333-0.68445 0.24353-1.2228 0.33069-0.53833 0.087159-1.0228 0.13074-1.4535 0.13074-3.2608 0-4.8911-1.7175-4.8911-5.1526v-10.028h-2.4148v-1.2305l2.4148-1.0613 1.0767-3.5991h1.4766v3.9067h4.8911v1.9841h-4.8911v9.9207c0 1.0151 0.24096 1.7944 0.7229 2.3379s1.1433 0.81518 1.9841 0.81518zm16.042 1.7996l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613s1.9816-0.38452 2.9762-0.38452c2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072s1.3407 0.7229 2.3456 0.7229zm24.456 1.7996v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762s-1.6047-1.0151-2.9377-1.0151c-1.7637 0-3.0557 0.4768-3.876 1.4304-0.82032 0.95362-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689s1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm19.272-2.261h-0.13843c-1.1792 1.7124-2.9429 2.5686-5.291 2.5686-2.2046 0-3.9196-0.75365-5.1449-2.261-1.2253-1.5073-1.838-3.6504-1.838-6.4292 0-2.7788 0.61523-4.9372 1.8457-6.4753 1.2305-1.5381 2.9429-2.3071 5.1372-2.3071 2.2866 0 4.04 0.83056 5.2603 2.4917h0.19995l-0.10767-1.2151-0.061523-1.1843v-6.8599h2.5532v23.933h-2.0764l-0.33838-2.261zm-5.1064 0.43066c1.7432 0 3.007-0.47424 3.7914-1.4227s1.1766-2.4789 1.1766-4.5912v-0.53833c0-2.3892-0.39734-4.0939-1.192-5.1141s-2.0636-1.5304-3.8068-1.5304c-1.4971 0-2.6429 0.5819-3.4376 1.7457s-1.192 2.807-1.192 4.9296c0 2.1533 0.39477 3.7786 1.1843 4.8757 0.78955 1.0972 1.9482 1.6458 3.4761 1.6458zm23.302 1.8303l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613 0.98951-0.25635 1.9816-0.38452 2.9762-0.38452 2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072 0.55884 0.48194 1.3407 0.7229 2.3456 0.7229zm20.61-15.365c0.74854 0 1.4202 0.061523 2.0149 0.18457l-0.35376 2.3687c-0.69727-0.15381-1.3125-0.23071-1.8457-0.23071-1.3638 0-2.5301 0.5537-3.4991 1.6611-0.969 1.1074-1.4535 2.4866-1.4535 4.1375v9.0439h-2.5532v-16.857h2.1072l0.29224 3.1223h0.12305c0.62549-1.0972 1.3791-1.9431 2.261-2.5378 0.88184-0.59473 1.8508-0.89209 2.907-0.89209zm16.011 14.904h-0.13843c-1.1792 1.7124-2.9429 2.5686-5.291 2.5686-2.2046 0-3.9195-0.75365-5.1449-2.261s-1.838-3.6504-1.838-6.4292c0-2.7788 0.61523-4.9372 1.8457-6.4753 1.2305-1.5381 2.9429-2.3071 5.1372-2.3071 2.2866 0 4.04 0.83056 5.2603 2.4917h0.19995l-0.10767-1.2151-0.061524-1.1843v-6.8599h2.5532v23.933h-2.0764l-0.33838-2.261zm-5.1064 0.43066c1.7432 0 3.007-0.47424 3.7914-1.4227 0.78443-0.94849 1.1766-2.4789 1.1766-4.5912v-0.53833c0-2.3892-0.39734-4.0939-1.192-5.1141-0.79468-1.0203-2.0636-1.5304-3.8068-1.5304-1.4971 0-2.6429 0.5819-3.4376 1.7457-0.79468 1.1638-1.192 2.807-1.192 4.9296 0 2.1533 0.39477 3.7786 1.1843 4.8757 0.78956 1.0972 1.9482 1.6458 3.4761 1.6458zm24.117 1.8303h-2.6147v-22.487h12.535v2.3225h-9.9207v8.2288h9.3208v2.3225h-9.3208v9.613zm27.809-8.4441c0 2.7481-0.69213 4.8937-2.0764 6.4369-1.3843 1.5432-3.2966 2.3148-5.7371 2.3148-1.5073 0-2.8455-0.35376-4.0144-1.0613s-2.0713-1.7226-2.707-3.0454c-0.63575-1.3228-0.95361-2.8711-0.95361-4.645 0-2.7481 0.687-4.8885 2.061-6.4215 1.374-1.533 3.2812-2.2994 5.7217-2.2994 2.3584 0 4.2323 0.78442 5.6217 2.3533 1.3894 1.5689 2.0841 3.6914 2.0841 6.3677zm-12.843 0c0 2.1533 0.43066 3.7939 1.292 4.9219 0.86133 1.1279 2.1277 1.6919 3.7991 1.6919s2.9403-0.5614 3.8068-1.6842c0.86646-1.1228 1.2997-2.766 1.2997-4.9296 0-2.1431-0.43322-3.7709-1.2997-4.8834-0.86646-1.1126-2.1456-1.6688-3.8375-1.6688-1.6714 0-2.9326 0.54858-3.7837 1.6458-0.85108 1.0972-1.2766 2.7327-1.2766 4.9065zm25.009-8.7209c0.74854 0 1.4202 0.061523 2.0149 0.18457l-0.35376 2.3687c-0.69727-0.15381-1.3125-0.23071-1.8457-0.23071-1.3638 0-2.5301 0.5537-3.4991 1.6611-0.969 1.1074-1.4535 2.4866-1.4535 4.1375v9.0439h-2.5532v-16.857h2.1072l0.29224 3.1223h0.12305c0.62549-1.0972 1.3791-1.9431 2.261-2.5378 0.88184-0.59473 1.8508-0.89209 2.907-0.89209zm13.735-5.3218h6.3523c2.9839 0 5.1423 0.44604 6.4753 1.3381 1.333 0.8921 1.9995 2.302 1.9995 4.2297 0 1.333-0.3717 2.4327-1.1151 3.2992s-1.8278 1.4279-3.2531 1.6842v0.15381c3.4146 0.58448 5.1218 2.3789 5.1218 5.3833 0 2.0098-0.67931 3.5786-2.038 4.7065-1.3586 1.1279-3.2582 1.6919-5.6986 1.6919h-7.8442v-22.487zm2.6147 9.6284h4.3066c1.8457 0 3.1736-0.28967 3.9836-0.86902 0.81006-0.57935 1.2151-1.556 1.2151-2.9301 0-1.2612-0.45117-2.1713-1.3535-2.7301-0.90235-0.55884-2.3379-0.83826-4.3066-0.83826h-3.8452v7.3674zm0 2.2148v8.4133h4.6912c1.815 0 3.1813-0.35119 4.099-1.0536 0.91773-0.7024 1.3766-1.8021 1.3766-3.2992 0-1.3945-0.46911-2.4199-1.4073-3.0762-0.93824-0.65625-2.3661-0.98438-4.2836-0.98438h-4.4758zm19.964 10.644h-2.5532v-23.933h2.5532v23.933zm19.964-8.4441c0 2.7481-0.69213 4.8937-2.0764 6.4369-1.3843 1.5432-3.2966 2.3148-5.7371 2.3148-1.5073 0-2.8455-0.35376-4.0144-1.0613s-2.0713-1.7226-2.707-3.0454c-0.63575-1.3228-0.95361-2.8711-0.95361-4.645 0-2.7481 0.687-4.8885 2.061-6.4215 1.374-1.533 3.2812-2.2994 5.7217-2.2994 2.3584 0 4.2323 0.78442 5.6217 2.3533 1.3894 1.5689 2.0841 3.6914 2.0841 6.3677zm-12.843 0c0 2.1533 0.43066 3.7939 1.292 4.9219 0.86133 1.1279 2.1277 1.6919 3.7991 1.6919s2.9403-0.5614 3.8068-1.6842c0.86646-1.1228 1.2997-2.766 1.2997-4.9296 0-2.1431-0.43322-3.7709-1.2997-4.8834-0.86646-1.1126-2.1456-1.6688-3.8375-1.6688-1.6714 0-2.9326 0.54858-3.7837 1.6458-0.85108 1.0972-1.2766 2.7327-1.2766 4.9065zm24.056 8.7517c-2.4404 0-4.3297-0.75109-5.6678-2.2533-1.3381-1.5022-2.0072-3.6273-2.0072-6.3754 0-2.8198 0.67931-4.9988 2.038-6.5369 1.3586-1.5381 3.2941-2.3071 5.8063-2.3071 0.81006 0 1.6201 0.087157 2.4302 0.26148 0.81006 0.17432 1.4458 0.37939 1.9072 0.61523l-0.78442 2.1687c-0.56397-0.22559-1.1792-0.41272-1.8457-0.5614-0.66651-0.14868-1.2561-0.22302-1.7688-0.22302-3.4248 0-5.1372 2.1841-5.1372 6.5522 0 2.0713 0.41784 3.6606 1.2535 4.7681 0.8357 1.1074 2.0738 1.6611 3.7145 1.6611 1.4048 0 2.8455-0.30249 4.322-0.90747v2.261c-1.1279 0.58448-2.5481 0.87671-4.2605 0.87671zm10.782-8.9363c0.44092-0.62549 1.1125-1.4458 2.0149-2.4609l5.4448-5.7678h3.03l-6.8291 7.1829 7.3059 9.6746h-3.0916l-5.9524-7.9673-1.9226 1.6611v6.3062h-2.5225v-23.933h2.5225v12.689c0 0.56397-0.041015 1.4355-0.12305 2.6147h0.12305zm20.118 8.9363c-2.4404 0-4.3297-0.75109-5.6678-2.2533-1.3381-1.5022-2.0072-3.6273-2.0072-6.3754 0-2.8198 0.67932-4.9988 2.038-6.5369 1.3586-1.5381 3.2941-2.3071 5.8063-2.3071 0.81006 0 1.6201 0.087157 2.4302 0.26148 0.81006 0.17432 1.4458 0.37939 1.9072 0.61523l-0.78442 2.1687c-0.56397-0.22559-1.1792-0.41272-1.8457-0.5614-0.66651-0.14868-1.2561-0.22302-1.7688-0.22302-3.4248 0-5.1372 2.1841-5.1372 6.5522 0 2.0713 0.41784 3.6606 1.2535 4.7681 0.8357 1.1074 2.0738 1.6611 3.7145 1.6611 1.4048 0 2.8455-0.30249 4.322-0.90747v2.261c-1.1279 0.58448-2.5481 0.87671-4.2605 0.87671zm19.795-0.30762v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762-0.62549-0.67676-1.6047-1.0151-2.9377-1.0151-1.7739 0-3.0685 0.48193-3.8837 1.4458-0.81519 0.96387-1.2228 2.543-1.2228 4.7373v8.8132h-2.5532v-23.933h2.5532v7.2444c0 0.87159-0.041015 1.5945-0.12305 2.1687h0.15381c0.50244-0.81006 1.2176-1.4484 2.1456-1.9149s1.9867-0.69983 3.1761-0.69983c2.061 0 3.6068 0.48962 4.6373 1.4689s1.5458 2.5353 1.5458 4.6681v10.997h-2.5532zm18.165 0l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613 0.98951-0.25635 1.9816-0.38452 2.9762-0.38452 2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072 0.55884 0.48194 1.3407 0.7229 2.3456 0.7229zm15.473 1.7996h-2.5532v-16.857h2.5532v16.857zm-2.7686-21.426c0-0.58448 0.14355-1.0126 0.43066-1.2843 0.28711-0.27173 0.64599-0.40759 1.0767-0.40759 0.41016 0 0.76391 0.13843 1.0613 0.41528 0.29736 0.27686 0.44604 0.70239 0.44604 1.2766s-0.14868 1.0023-0.44604 1.2843c-0.29736 0.28198-0.65112 0.42297-1.0613 0.42297-0.43067 0-0.78955-0.14099-1.0767-0.42297-0.28711-0.28198-0.43066-0.71008-0.43066-1.2843zm19.718 21.426v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762-0.62549-0.67676-1.6047-1.0151-2.9377-1.0151-1.7637 0-3.0557 0.4768-3.876 1.4304s-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689s1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm25.994-20.472c-2.4712 0-4.422 0.82287-5.8524 2.4686-1.4304 1.6458-2.1456 3.899-2.1456 6.7599 0 2.9429 0.68957 5.2167 2.0687 6.8214s3.3453 2.4071 5.8986 2.4071c1.5689 0 3.3581-0.28198 5.3679-0.84595v2.2917c-1.5586 0.58448-3.4812 0.87671-5.7678 0.87671-3.312 0-5.8678-1.0049-7.6674-3.0146-1.7996-2.0098-2.6993-4.8655-2.6993-8.5671 0-2.3174 0.43322-4.3476 1.2997-6.0908 0.86646-1.7432 2.1174-3.0864 3.7529-4.0298 1.6355-0.94336 3.5607-1.415 5.7755-1.415 2.3584 0 4.4194 0.43066 6.1831 1.292l-1.1074 2.2456c-1.7022-0.79981-3.4043-1.1997-5.1064-1.1997zm17.55 3.3069c0.74854 0 1.4202 0.061523 2.0149 0.18457l-0.35376 2.3687c-0.69727-0.15381-1.3125-0.23071-1.8457-0.23071-1.3638 0-2.5301 0.5537-3.4991 1.6611-0.969 1.1074-1.4535 2.4866-1.4535 4.1375v9.0439h-2.5532v-16.857h2.1072l0.29224 3.1223h0.12305c0.62549-1.0972 1.3791-1.9431 2.261-2.5378 0.88184-0.59473 1.8508-0.89209 2.907-0.89209zm11.659 17.473c-2.4917 0-4.4579-0.75878-5.8986-2.2764s-2.161-3.6247-2.161-6.3215c0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826-0.80494 0.16919-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm22.718 12.766h-0.13843c-1.1792 1.7124-2.9429 2.5686-5.291 2.5686-2.2046 0-3.9196-0.75365-5.1449-2.261s-1.838-3.6504-1.838-6.4292c0-2.7788 0.61523-4.9372 1.8457-6.4753 1.2305-1.5381 2.9429-2.3071 5.1372-2.3071 2.2866 0 4.04 0.83056 5.2603 2.4917h0.19995l-0.10767-1.2151-0.061524-1.1843v-6.8599h2.5532v23.933h-2.0764l-0.33838-2.261zm-5.1064 0.43066c1.7432 0 3.007-0.47424 3.7914-1.4227 0.78443-0.94849 1.1766-2.4789 1.1766-4.5912v-0.53833c0-2.3892-0.39734-4.0939-1.192-5.1141-0.79468-1.0203-2.0636-1.5304-3.8068-1.5304-1.4971 0-2.6429 0.5819-3.4376 1.7457s-1.192 2.807-1.192 4.9296c0 2.1533 0.39477 3.7786 1.1843 4.8757 0.78955 1.0972 1.9482 1.6458 3.4761 1.6458zm20.057 2.1379c-2.4917 0-4.4579-0.75878-5.8986-2.2764s-2.161-3.6247-2.161-6.3215c0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826-0.80494 0.16919-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm22.779 15.027v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762s-1.6047-1.0151-2.9377-1.0151c-1.7637 0-3.0557 0.4768-3.876 1.4304-0.82032 0.95362-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689s1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm13.243-1.7996c0.45118 0 0.88696-0.033324 1.3074-0.099975 0.42041-0.066651 0.75366-0.13586 0.99976-0.20764v1.9534c-0.27686 0.1333-0.68444 0.24353-1.2228 0.33069s-1.0228 0.13074-1.4535 0.13074c-3.2608 0-4.8911-1.7175-4.8911-5.1526v-10.028h-2.4148v-1.2305l2.4148-1.0613 1.0767-3.5991h1.4766v3.9067h4.8911v1.9841h-4.8911v9.9207c0 1.0151 0.24096 1.7944 0.7229 2.3379s1.1433 0.81518 1.9841 0.81518zm8.2288 1.7996h-2.5532v-16.857h2.5532v16.857zm-2.7686-21.426c0-0.58448 0.14355-1.0126 0.43066-1.2843 0.28711-0.27173 0.64599-0.40759 1.0767-0.40759 0.41016 0 0.76391 0.13843 1.0613 0.41528 0.29736 0.27686 0.44604 0.70239 0.44604 1.2766s-0.14868 1.0023-0.44604 1.2843c-0.29736 0.28198-0.65112 0.42297-1.0613 0.42297-0.43067 0-0.78955-0.14099-1.0767-0.42297-0.28711-0.28198-0.43066-0.71008-0.43066-1.2843zm18.549 21.426l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613 0.98951-0.25635 1.9816-0.38452 2.9762-0.38452 2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072 0.55884 0.48194 1.3407 0.7229 2.3456 0.7229zm15.473 1.7996h-2.5532v-23.933h2.5532v23.933zm16.288-4.5989c0 1.5689-0.58447 2.7788-1.7534 3.6299-1.169 0.85108-2.8096 1.2766-4.9219 1.2766-2.2354 0-3.9785-0.35376-5.2295-1.0613v-2.3687c0.81006 0.41016 1.6791 0.73315 2.6071 0.96899s1.8226 0.35376 2.684 0.35376c1.333 0 2.3584-0.21277 3.0762-0.6383s1.0767-1.0741 1.0767-1.9457c0-0.65625-0.28454-1.2176-0.85364-1.6842s-1.6791-1.0177-3.33-1.6534c-1.5689-0.58448-2.684-1.0946-3.3453-1.5304s-1.1536-0.93054-1.4766-1.4843c-0.323-0.55371-0.4845-1.2151-0.4845-1.9841 0-1.374 0.55883-2.4584 1.6765-3.2531 1.1177-0.79468 2.6506-1.192 4.5989-1.192 1.815 0 3.5889 0.36914 5.3218 1.1074l-0.90747 2.0764c-1.6919-0.69727-3.2248-1.0459-4.5989-1.0459-1.21 0-2.1226 0.1897-2.7378 0.56909-0.61524 0.3794-0.92285 0.90234-0.92285 1.5688 0 0.45117 0.11536 0.83569 0.34607 1.1536 0.23071 0.31787 0.60241 0.62036 1.1151 0.90747s1.4971 0.70239 2.9531 1.2458c1.9995 0.72803 3.3505 1.4612 4.0529 2.1995 0.7024 0.73828 1.0536 1.6663 1.0536 2.7839z" fill="#182650" fill-rule="nonzero"/>
          </g>
        </g>
      </g>
    </svg>
    <span class='buv-u-visually-hidden'>${na("text.motto")}</span>
  `}const aa=({className:e="",showMotto:t=!1}={className:"",showMotto:!1})=>ze`
    ${$i}
    <a href='https://www.blockcerts.org' title='${na("text.blockcertsHint")}' class$='buv-c-logo  ${e}'>
      ${t?ia():ze`
    <svg class='buv-qa-logo--simple  buv-c-logo--small' viewBox="0 0 113 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs></defs>
        <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd" fill-opacity="0.37">
          <g id="blockcerts-logo" transform="translate(0.000000, -2.000000)" fill-rule="nonzero" fill="inherit">
            <path d="M19.5,5.06256945 L22.9958467,5.06256945 C24.617584,5.06256945 25.789567,5.29884552 26.5118308,5.77140473 C27.2340946,6.24396395 27.5952211,6.99038151 27.5952211,8.01067982 C27.5952211,8.69803869 27.4180141,9.26993416 27.0635947,9.72638339 C26.7091752,10.1828327 26.1990337,10.4701229 25.5331548,10.5882627 L25.5331548,10.6688121 C26.3601335,10.8245419 26.9682758,11.1319693 27.3576002,11.5911035 C27.7469246,12.0502377 27.9415838,12.6718049 27.9415838,13.4558236 C27.9415838,14.5137118 27.5724025,15.3420205 26.8340287,15.9407745 C26.0956549,16.5395285 25.0686595,16.8389011 23.7530117,16.8389011 L19.5,16.8389011 L19.5,5.06256945 Z M21.4251322,9.92775706 L23.2777698,9.92775706 C24.0832685,9.92775706 24.6712737,9.80022169 25.0418031,9.54514712 C25.4123325,9.29007254 25.5975944,8.85645225 25.5975944,8.24427327 C25.5975944,7.69116419 25.3975653,7.29110585 24.9975009,7.04408626 C24.5974366,6.79706667 23.9624447,6.67355873 23.0925061,6.67355873 L21.4251322,6.67355873 L21.4251322,9.92775706 Z M21.4251322,11.4904167 L21.4251322,15.2198568 L23.4710886,15.2198568 C24.2765872,15.2198568 24.8847296,15.0654719 25.2955339,14.7566974 C25.7063383,14.4479229 25.9117373,13.9606036 25.9117373,13.2947247 C25.9117373,12.6825457 25.7023108,12.2287882 25.2834515,11.9334387 C24.8645922,11.6380892 24.2282578,11.4904167 23.3744292,11.4904167 L21.4251322,11.4904167 Z M29.8953916,16.8389011 L29.8953916,5.06256945 L31.8205237,5.06256945 L31.8205237,15.1876371 L36.8065356,15.1876371 L36.8065356,16.8389011 L29.8953916,16.8389011 Z M48.4665536,10.9346254 C48.4665536,12.8517122 47.9872891,14.3418624 47.0287457,15.4051206 C46.0702024,16.4683789 44.7129575,17 42.9569704,17 C41.1795033,17 39.8142036,16.4724063 38.8610302,15.417203 C37.9078567,14.3619998 37.4312772,12.8624522 37.4312772,10.9185155 C37.4312772,8.97457869 37.9105417,7.48174356 38.8690851,6.43996528 C39.8276285,5.39818701 41.1956132,4.87730568 42.9730803,4.87730568 C44.7236973,4.87730568 46.0769148,5.40624187 47.0327734,6.46413012 C47.9886317,7.52201836 48.4665536,9.01216855 48.4665536,10.9346254 Z M39.4772336,10.9346254 C39.4772336,12.384523 39.7698937,13.4840121 40.3552227,14.2331259 C40.9405517,14.9822397 41.8077923,15.3567909 42.9569704,15.3567909 C44.1007786,15.3567909 44.9639915,14.9862671 45.5466357,14.2452083 C46.1292796,13.5041496 46.4205973,12.4006329 46.4205973,10.9346254 C46.4205973,9.49009776 46.1319648,8.39463599 45.5546906,7.64820724 C44.9774165,6.90177847 44.1168884,6.52856969 42.9730803,6.52856969 C41.8185322,6.52856969 40.9472642,6.90177847 40.3592502,7.64820724 C39.7712361,8.39463599 39.4772336,9.49009776 39.4772336,10.9346254 Z M55.5110875,6.54467959 C54.4048694,6.54467959 53.5349439,6.93668306 52.9012851,7.72070175 C52.267626,8.50472046 51.9508013,9.58675743 51.9508013,10.9668451 C51.9508013,12.4113727 52.2555437,13.5041496 52.8650377,14.2452083 C53.4745317,14.9862671 54.3565394,15.3567909 55.5110875,15.3567909 C56.0104969,15.3567909 56.4937888,15.3071193 56.960978,15.2077744 C57.4281673,15.1084296 57.9141441,14.9808942 58.4189233,14.8251645 L58.4189233,16.4764285 C57.4952848,16.8254779 56.4481523,17 55.2774942,17 C53.5537269,17 52.230044,16.4777762 51.3064055,15.4333129 C50.3827671,14.3888497 49.9209548,12.894672 49.9209548,10.9507353 C49.9209548,9.72637727 50.1451485,8.65508014 50.5935427,7.73681166 C51.041937,6.81854317 51.6903538,6.11508489 52.5388124,5.6264157 C53.3872709,5.13774651 54.3833893,4.89341558 55.5271976,4.89341558 C56.7300756,4.89341558 57.841647,5.14580137 58.8619454,5.65058054 L58.1692199,7.25351487 C57.7718405,7.06556518 57.3516451,6.90044043 56.9086208,6.75813566 C56.4655966,6.6158309 55.9997568,6.54467959 55.5110875,6.54467959 Z M69.4506556,16.8389011 L67.2194355,16.8389011 L63.522215,11.5065265 L62.3864676,12.4328454 L62.3864676,16.8389011 L60.4613353,16.8389011 L60.4613353,5.06256945 L62.3864676,5.06256945 L62.3864676,10.684922 C62.9127266,10.0405231 63.4362929,9.42029843 63.9571822,8.82422942 L67.1388858,5.06256945 L69.3298314,5.06256945 C67.2731248,7.47906546 65.7990842,9.20012177 64.9076657,10.2257901 L69.4506556,16.8389011 Z M75.6494201,5.63447064 C74.1726725,5.63447064 73.0100869,6.10702277 72.1616284,7.05214121 C71.3131696,7.99725964 70.8889467,9.29140808 70.8889467,10.9346254 C70.8889467,12.6154326 71.2890051,13.9203209 72.0891337,14.8493293 C72.8892625,15.7783378 74.0330533,16.242835 75.5205409,16.242835 C76.5086192,16.242835 77.4161342,16.1166421 78.2431127,15.8642525 L78.2431127,16.5891977 C77.4644642,16.8630673 76.4925103,17 75.3272222,17 C73.673265,17 72.3710617,16.4656939 71.4205732,15.3970657 C70.4700848,14.3284374 69.9948476,12.8356023 69.9948476,10.9185155 C69.9948476,9.72100746 70.2217264,8.66582002 70.6754907,7.75292154 C71.129255,6.84002305 71.781699,6.13522229 72.6328427,5.63849812 C73.4839862,5.14177394 74.4733922,4.89341558 75.6010904,4.89341558 C76.7502684,4.89341558 77.7786064,5.108212 78.6861348,5.53781129 L78.355882,6.27886635 C77.4966834,5.84926707 76.5945384,5.63447064 75.6494201,5.63447064 Z M86.8100316,16.8389011 L80.3741293,16.8389011 L80.3741293,5.06256945 L86.8100316,5.06256945 L86.8100316,5.81973441 L81.1957339,5.81973441 L81.1957339,10.2741198 L86.4958886,10.2741198 L86.4958886,11.0312847 L81.1957339,11.0312847 L81.1957339,16.0817361 L86.8100316,16.0817361 L86.8100316,16.8389011 Z M89.8029274,11.7079002 L89.8029274,16.8389011 L88.9813228,16.8389011 L88.9813228,5.06256945 L91.7844442,5.06256945 C93.2450817,5.06256945 94.3244339,5.33240746 95.0225327,5.87209156 C95.7206316,6.41177567 96.0696758,7.22397464 96.0696758,8.30871284 C96.0696758,9.09810153 95.8615917,9.76397044 95.4454173,10.3063395 C95.0292429,10.8487086 94.396936,11.2380272 93.5484774,11.4743068 L96.7462912,16.8389011 L95.7635877,16.8389011 L92.726873,11.7079002 L89.8029274,11.7079002 Z M89.8029274,10.9990649 L92.0502574,10.9990649 C93.0437059,10.9990649 93.814288,10.7775561 94.3620271,10.3345318 C94.909766,9.8915076 95.1836315,9.23772099 95.1836315,8.37315242 C95.1836315,7.4763639 94.9151361,6.82391977 94.378137,6.41580044 C93.8411379,6.00768112 92.9658423,5.80362452 91.7522245,5.80362452 L89.8029274,5.80362452 L89.8029274,10.9990649 Z M101.358231,16.8389011 L100.528572,16.8389011 L100.528572,5.8358443 L96.7024723,5.8358443 L96.7024723,5.06256945 L105.184331,5.06256945 L105.184331,5.8358443 L101.358231,5.8358443 L101.358231,16.8389011 Z M112.9377,13.8021863 C112.9377,14.7848947 112.576573,15.5635317 111.85431,16.1381207 C111.132046,16.7127098 110.172174,17 108.974666,17 C107.535509,17 106.431992,16.8415876 105.664083,16.5247582 L105.664083,15.7031536 C106.512542,16.062943 107.594579,16.242835 108.910227,16.242835 C109.876825,16.242835 110.64338,16.0213262 111.209914,15.5783019 C111.776448,15.1352777 112.059711,14.5539849 112.059711,13.8344061 C112.059711,13.3886968 111.965737,13.0195154 111.777788,12.7268509 C111.589838,12.4341864 111.283753,12.1670334 110.859524,11.9253838 C110.435294,11.6837342 109.812385,11.4232935 108.990776,11.144054 C107.787898,10.7305647 106.956904,10.2835196 106.49777,9.80290539 C106.038636,9.32229119 105.809072,8.68192935 105.809072,7.88180069 C105.809072,7.00112214 106.154089,6.28289661 106.844133,5.72710253 C107.534177,5.17130845 108.421555,4.89341558 109.506293,4.89341558 C110.612511,4.89341558 111.651589,5.10284209 112.623557,5.52170139 L112.325524,6.23053668 C111.348186,5.82241735 110.413821,5.61836075 109.522403,5.61836075 C108.652464,5.61836075 107.959746,5.8197324 107.444226,6.22248173 C106.928707,6.62523106 106.670952,7.17296194 106.670952,7.86569079 C106.670952,8.30066007 106.750158,8.65775912 106.908573,8.93699866 C107.066987,9.2162382 107.326085,9.46728151 107.685875,9.69013615 C108.045664,9.91299077 108.663204,10.1801438 109.538513,10.4916033 C110.456781,10.8084328 111.146815,11.1158602 111.608634,11.4138947 C112.070453,11.7119292 112.407415,12.0502335 112.619529,12.4288179 C112.831644,12.8074023 112.9377,13.2651872 112.9377,13.8021863 Z" id="BLOCKCERTS"></path>
            <path d="M10.9580699,13.4113689 C10.9580699,13.8630088 10.5919434,14.2291353 10.1403035,14.2291353 L0.81776652,14.2291353 C0.366126608,14.2291353 1.20000012e-07,13.8630088 1.2000001e-07,13.4113689 C1.2000001e-07,12.959729 0.366126608,12.5936025 0.81776652,12.5936025 L10.1403035,12.5936025 C10.5919434,12.5936025 10.9580699,12.959729 10.9580699,13.4113689 Z"></path>
            <path d="M14.2291354,13.411369 C14.2291354,13.8630089 13.8630089,14.2291354 13.411369,14.2291354 C12.9597291,14.2291354 12.5936026,13.8630089 12.5936026,13.411369 C12.5936026,12.9597291 12.9597291,12.5936026 13.411369,12.5936026 C13.8630089,12.5936026 14.2291354,12.9597291 14.2291354,13.411369 Z"></path>
            <path d="M9.4860908,16.6824348 C9.4860908,17.1340748 9.11996431,17.5002012 8.6683244,17.5002012 C8.21668449,17.5002012 7.850558,17.1340748 7.850558,16.6824348 C7.850558,16.2307949 8.21668449,15.8646684 8.6683244,15.8646684 C9.11996431,15.8646684 9.4860908,16.2307949 9.4860908,16.6824348 Z"></path>
            <path d="M14.2291356,6.869238 C14.2291356,7.32087791 13.8630092,7.6870044 13.4113692,7.6870044 C12.9597293,7.6870044 12.5936028,7.32087791 12.5936028,6.869238 C12.5936028,6.41759809 12.9597293,6.0514716 13.4113692,6.0514716 C13.8630092,6.0514716 14.2291356,6.41759809 14.2291356,6.869238 Z"></path>
            <path d="M1.63553264,6.8692384 C1.63553264,7.32087831 1.26940615,7.6870048 0.81776624,7.6870048 C0.366126328,7.6870048 -1.60000013e-07,7.32087831 -1.60000013e-07,6.8692384 C-1.60000013e-07,6.41759849 0.366126328,6.051472 0.81776624,6.051472 C1.26940615,6.051472 1.63553264,6.41759849 1.63553264,6.8692384 Z"></path><rect transform="translate(7.196344, 3.598172) rotate(90.000000) translate(-7.196344, -3.598172) " x="6.37857744" y="2.78040592" width="1.6355328" height="1.6355328" rx="0.8177664"></rect>
            <path d="M6.37857804,10.1403025 C6.37857804,10.5919424 6.01245155,10.9580689 5.56081164,10.9580689 C5.10917173,10.9580689 4.74304524,10.5919424 4.74304524,10.1403025 C4.74304524,9.68866261 5.10917173,9.32253612 5.56081164,9.32253612 C6.01245155,9.32253612 6.37857804,9.68866261 6.37857804,10.1403025 Z"></path>
            <path d="M14.2291348,3.5981724 C14.2291348,4.04981231 13.8630083,4.4159388 13.4113684,4.4159388 L10.4674093,4.4159388 C10.0157694,4.4159388 9.64964292,4.04981231 9.64964292,3.5981724 C9.64964292,3.14653249 10.0157694,2.780406 10.4674093,2.780406 L13.4113684,2.780406 C13.8630083,2.780406 14.2291348,3.14653249 14.2291348,3.5981724 Z"></path><rect transform="translate(2.371523, 3.598172) rotate(90.000000) translate(-2.371523, -3.598172) " x="1.55375644" y="1.226649" width="1.6355328" height="4.74304512" rx="0.8177664"></rect>
            <path d="M14.229135,10.140303 C14.229135,10.5919429 13.8630085,10.9580694 13.4113686,10.9580694 L8.83187672,10.9580694 C8.38023681,10.9580694 8.01411032,10.5919429 8.01411032,10.140303 C8.01411032,9.68866309 8.38023681,9.3225366 8.83187672,9.3225366 L13.4113686,9.3225366 C13.8630085,9.3225366 14.229135,9.68866309 14.229135,10.140303 Z"></path>
            <path d="M3.1075118,10.1403032 C3.1075118,10.5919431 2.74138531,10.9580696 2.2897454,10.9580696 L0.81776588,10.9580696 C0.366125968,10.9580696 -5.20000015e-07,10.5919431 -5.20000015e-07,10.1403032 C-5.20000015e-07,9.68866325 0.366125968,9.32253676 0.81776588,9.32253676 L2.2897454,9.32253676 C2.74138531,9.32253676 3.1075118,9.68866325 3.1075118,10.1403032 Z"></path>
            <path d="M14.2291356,16.6824352 C14.2291356,17.1340751 13.8630091,17.5002016 13.4113692,17.5002016 L11.9393897,17.5002016 C11.4877498,17.5002016 11.1216233,17.1340751 11.1216233,16.6824352 C11.1216233,16.2307953 11.4877498,15.8646688 11.9393897,15.8646688 L13.4113692,15.8646688 C13.8630091,15.8646688 14.2291356,16.2307953 14.2291356,16.6824352 Z"></path>
            <path d="M6.2150248,16.6824353 C6.2150248,17.1340752 5.84889831,17.5002017 5.3972584,17.5002017 L0.81776656,17.5002017 C0.366126648,17.5002017 1.59999985e-07,17.1340752 1.59999985e-07,16.6824353 C1.59999985e-07,16.2307954 0.366126648,15.8646689 0.81776656,15.8646689 L5.3972584,15.8646689 C5.84889831,15.8646689 6.2150248,16.2307954 6.2150248,16.6824353 Z"></path>
            <path d="M10.9580703,6.86923768 C10.9580703,7.32087759 10.5919438,7.68700408 10.1403039,7.68700408 L4.08883256,7.68700408 C3.63719265,7.68700408 3.27106616,7.32087759 3.27106616,6.86923768 C3.27106616,6.41759777 3.63719265,6.05147128 4.08883256,6.05147128 L10.1403039,6.05147128 C10.5919438,6.05147128 10.9580703,6.41759777 10.9580703,6.86923768 Z">
            </path> 
          </g>
      </g> 
    </svg>
    <span class='buv-u-visually-hidden'>${na("text.brandname")}</span>
  `}
    </a>`;const oa={en:function(e){const t=na("numbers","ordinal"),r=e%100;return t[(r-20)%10]||t[r]||t[0]},fr:function(e){const t=na("numbers","ordinal");return 1===e?t[e]:t[0]},es:()=>na("numbers","ordinal"),it:()=>na("numbers","ordinal"),mt:e=>na("numbers","ordinal")[e-1]};function sa(e){return"mt"===ea.locale?oa[ea.locale](e):e+oa[ea.locale](e)}const ua=({certificateTitle:e="",issueDate:t="",issuerName:r="",recipientName:n="",issuerPublicKey:i=[],issuerPublicDomain:a=[],issuerPublicUrl:o=[],issuerLogo:s="",qrCodeImage:u=""})=>{const c=[];(e||s)&&(c.push("<section>"),s&&c.push(`<div style="margin:0 auto;width:140px;height:140px;background-repeat:no-repeat;background-position:center;background-size:contain;background-image:url('${s}');"></div>`),e&&c.push(`<h2 style="margin:20px 0;font-size:18px;text-align:center">${e}</h2>`),c.push("</section>")),c.push('<section style="text-align:center">');const l=[{title:"Issue Date",value:t},{title:"Recipient",value:n},{title:"Issuer",value:r}];c.push(...l.map((e=>`<div style="margin:15px 0"><dt style="margin-bottom:5px;text-transform:uppercase;font-weight:600;font-size:12px">${e.title}</dt><dd style="margin:0;font-size:13px">${e.value}</dd></div>`)));const f=i.map(((e,t)=>({publicKey:e,url:o[t],domain:a[t]})));c.push(function(e){const t=e.length>1,r=['<div style="margin:15px 0">'];return r.push('<dt style="margin-bottom:5px;text-transform:uppercase;font-weight:600;font-size:12px">Issuer Information</dt>'),r.push('<dd style="margin:0;font-size:13px">'),r.push('<div style="display:flex;flex-direction:column;align-content:center;row-gap:4px;padding:0 20px;font-size:12px">'),r.push(...e.map(((e,r)=>{const n=['<div style="display:flex;flex-direction:column;row-gap:3px;justify-content:center;padding:5px 10px">'];return n.push("<div>"),t&&n.push(`<span style="font-weight:500;margin-right:10px">${sa(r+1)}</span>`),n.push(`<span>Public Key: ${e.publicKey}</span>`),n.push("</div>"),e.url&&e.domain&&n.push(`<span><a href="${e.url}">${e.domain}</a></span>`),n.push("</div>"),n.join("")}))),r.push("<div/>"),r.push("<dd/>"),r.push("<div/>"),r.join("")}(f)),c.push("</section>"),u&&(c.push("<section>"),c.push('<span style="margin-bottom:15px;font-size:10px">Scan the QR code to verify the document.</span>'),c.push(`<div style="margin:0 auto;width:110px;height:110px;background-repeat:no-repeat;background-position:center;background-size:contain;background-image:url('data:image/svg+xml;base64,${u}');"></div>`),c.push("</section>")),c.push(`<div style="width:150px">${ia().getHTML()}</div>`);const h=document.createElement("section");return h.setAttribute("style","width:595px;height:842px;padding:40px 20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;align-items:center;font-family:'Open Sans',-apple-system,BlinkMacSystemFont,sans-serif;color:rgb(0,0,0);"),h.innerHTML=c.join(""),h};var ca={exports:{}};!function(e){function t(e){this.mode=n.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var i=[],a=this.data.charCodeAt(t);a>65536?(i[0]=240|(1835008&a)>>>18,i[1]=128|(258048&a)>>>12,i[2]=128|(4032&a)>>>6,i[3]=128|63&a):a>2048?(i[0]=224|(61440&a)>>>12,i[1]=128|(4032&a)>>>6,i[2]=128|63&a):a>128?(i[0]=192|(1984&a)>>>6,i[1]=128|63&a):i[0]=a,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function r(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},r.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=v.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var a=1*i,o=0;o<this.modules[i].length;o++){var s=1*o;this.modules[i][o]&&(n.beginFill(0,100),n.moveTo(s,a),n.lineTo(s+1,a),n.lineTo(s+1,a+1),n.lineTo(s,a+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=v.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[n+a][i+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},setupTypeNumber:function(e){for(var t=v.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=v.getBCHTypeInfo(r),i=0;i<15;i++){var a=!e&&1==(n>>i&1);i<6?this.modules[i][8]=a:i<8?this.modules[i+1][8]=a:this.modules[this.moduleCount-15+i][8]=a}for(i=0;i<15;i++){a=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=a:i<9?this.modules[8][15-i-1+1]=a:this.modules[8][15-i-1]=a}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[n][o-s]){var u=!1;a<e.length&&(u=1==(e[a]>>>i&1)),v.getMask(t,n,o-s)&&(u=!u),this.modules[n][o-s]=u,-1==--i&&(a++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,n){for(var i=b.getRSBlocks(e,t),a=new w,o=0;o<n.length;o++){var s=n[o];a.put(s.mode,4),a.put(s.getLength(),v.getLengthInBits(s.mode,e)),s.write(a)}var u=0;for(o=0;o<i.length;o++)u+=i[o].dataCount;if(a.getLengthInBits()>8*u)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*u+")");for(a.getLengthInBits()+4<=8*u&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*u||(a.put(r.PAD0,8),a.getLengthInBits()>=8*u));)a.put(r.PAD1,8);return r.createBytes(a,i)},r.createBytes=function(e,t){for(var r=0,n=0,i=0,a=new Array(t.length),o=new Array(t.length),s=0;s<t.length;s++){var u=t[s].dataCount,c=t[s].totalCount-u;n=Math.max(n,u),i=Math.max(i,c),a[s]=new Array(u);for(var l=0;l<a[s].length;l++)a[s][l]=255&e.buffer[l+r];r+=u;var f=v.getErrorCorrectPolynomial(c),h=new m(a[s],f.getLength()-1).mod(f);o[s]=new Array(f.getLength()-1);for(l=0;l<o[s].length;l++){var A=l+h.getLength()-o[s].length;o[s][l]=A>=0?h.get(A):0}}var d=0;for(l=0;l<t.length;l++)d+=t[l].totalCount;var p=new Array(d),g=0;for(l=0;l<n;l++)for(s=0;s<t.length;s++)l<a[s].length&&(p[g++]=a[s][l]);for(l=0;l<i;l++)for(s=0;s<t.length;s++)l<o[s].length&&(p[g++]=o[s][l]);return p};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i=1,a=0,o=3,s=2,u=0,c=1,l=2,f=3,h=4,A=5,d=6,p=7,v={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;v.getBCHDigit(t)-v.getBCHDigit(v.G15)>=0;)t^=v.G15<<v.getBCHDigit(t)-v.getBCHDigit(v.G15);return(e<<10|t)^v.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;v.getBCHDigit(t)-v.getBCHDigit(v.G18)>=0;)t^=v.G18<<v.getBCHDigit(t)-v.getBCHDigit(v.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return v.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case u:return(t+r)%2==0;case c:return t%2==0;case l:return r%3==0;case f:return(t+r)%3==0;case h:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case A:return t*r%2+t*r%3==0;case d:return(t*r%2+t*r%3)%2==0;case p:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new m([1],0),r=0;r<e;r++)t=t.multiply(new m([1,g.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var a=0,o=e.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var u=-1;u<=1;u++)i+u<0||t<=i+u||0==s&&0==u||o==e.isDark(n+s,i+u)&&a++;a>5&&(r+=3+a-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var c=0;e.isDark(n,i)&&c++,e.isDark(n+1,i)&&c++,e.isDark(n,i+1)&&c++,e.isDark(n+1,i+1)&&c++,0!=c&&4!=c||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var l=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&l++;return r+=10*(Math.abs(100*l/t/t-50)/5)}},g={glog:function(e){if(e<1)throw new Error("glog("+e+")");return g.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)g.EXP_TABLE[y]=1<<y;for(y=8;y<256;y++)g.EXP_TABLE[y]=g.EXP_TABLE[y-4]^g.EXP_TABLE[y-5]^g.EXP_TABLE[y-6]^g.EXP_TABLE[y-8];for(y=0;y<255;y++)g.LOG_TABLE[g.EXP_TABLE[y]]=y;function m(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function b(e,t){this.totalCount=e,this.dataCount=t}function w(){this.buffer=[],this.length=0}m.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=g.gexp(g.glog(this.get(r))+g.glog(e.get(n)));return new m(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=g.glog(this.get(0))-g.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=g.gexp(g.glog(e.get(n))+t);return new m(r,0).mod(e)}},b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b.getRSBlocks=function(e,t){var r=b.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],a=0;a<n;a++)for(var o=r[3*a+0],s=r[3*a+1],u=r[3*a+2],c=0;c<o;c++)i.push(new b(s,u));return i},b.getRsBlockTable=function(e,t){switch(t){case i:return b.RS_BLOCK_TABLE[4*(e-1)+0];case a:return b.RS_BLOCK_TABLE[4*(e-1)+1];case o:return b.RS_BLOCK_TABLE[4*(e-1)+2];case s:return b.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},w.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var x=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function k(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var n=this.options.content,u=function(e,t){for(var r=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),n=1,i=0,a=0,o=x.length;a<=o;a++){var s=x[a];if(!s)throw new Error("Content too long: expected "+i+" but got "+r);switch(t){case"L":i=s[0];break;case"M":i=s[1];break;case"Q":i=s[2];break;case"H":i=s[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(r<=i)break;n++}if(n>x.length)throw new Error("Content too long");return n}(n,this.options.ecl),c=function(e){switch(e){case"L":return i;case"M":return a;case"Q":return o;case"H":return s;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new r(u,c),this.qrcode.addData(n),this.qrcode.make()}k.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,i=n?"  ":"",a=n?"\r\n":"",o=t.width,s=t.height,u=r.length,c=o/(u+2*t.padding),l=s/(u+2*t.padding),f=void 0!==t.join&&!!t.join,h=void 0!==t.swap&&!!t.swap,A=void 0===t.xmlDeclaration||!!t.xmlDeclaration,d=void 0!==t.predefined&&!!t.predefined,p=d?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+c+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+a:"",v=i+'<rect x="0" y="0" width="'+o+'" height="'+s+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+a,g="",y="",m=0;m<u;m++)for(var b=0;b<u;b++){if(r[b][m]){var w=b*c+t.padding*c,x=m*l+t.padding*l;if(h){var k=w;w=x,x=k}if(f){var _=c+w,B=l+x;w=Number.isInteger(w)?Number(w):w.toFixed(2),x=Number.isInteger(x)?Number(x):x.toFixed(2),_=Number.isInteger(_)?Number(_):_.toFixed(2),y+="M"+w+","+x+" V"+(B=Number.isInteger(B)?Number(B):B.toFixed(2))+" H"+_+" V"+x+" H"+w+" Z "}else g+=d?i+'<use x="'+w.toString()+'" y="'+x.toString()+'" href="#qrmodule" />'+a:i+'<rect x="'+w.toString()+'" y="'+x.toString()+'" width="'+c+'" height="'+l+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+a}}f&&(g=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+y+'" />');var E="";switch(e.container){case"svg":A&&(E+='<?xml version="1.0" standalone="yes"?>'+a),E+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+s+'">'+a,E+=p+v+g,E+="</svg>";break;case"svg-viewbox":A&&(E+='<?xml version="1.0" standalone="yes"?>'+a),E+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+s+'">'+a,E+=p+v+g,E+="</svg>";break;case"g":E+='<g width="'+o+'" height="'+s+'">'+a,E+=p+v+g,E+="</g>";break;default:E+=(p+v+g).replace(/^\s+/,"")}return E},k.prototype.save=function(e,t){var r=this.svg();"function"!=typeof t&&(t=function(e,t){});try{require("fs").writeFile(e,r,t)}catch(e){t(e)}},e.exports=k}(ca);var la=ca.exports;const fa=e=>e?(e=>window.btoa(e))(new la(e).svg()):null;const ha={height:"0",overflow:"hidden"},Aa={padding:"20px","background-color":"#fff","font-family":"serif","text-align":"center",color:"#49555f","font-size":"12px","word-wrap":"break-word","min-height":"calc(100vh - 145px)","box-sizing":"border-box",margin:"0 auto","min-width":"600px","line-height":"initial",clipPath:"inset(0 100% 0 0)"},da={"max-width":"460px"},pa=async(e,t)=>{const r=Tt(t),n=va({...Aa,...ha,...r?da:{}});n.insertAdjacentHTML("beforeend",t);const i=((e,t)=>t?[e]:Array.from(e.querySelectorAll(":scope > div > div")))(n,r);for(const t of i){const r=Lt(t);e=await Ji({pdf:e,pageHTMLElement:t,width:r.width,height:r.height,margin:10})}return ga(n),e},va=e=>{const t=document.createElement("div");var r,n;return t.setAttribute("id","html2pdf-dom-container-identifier"),e&&(r=t,n=e,Object.keys(n).forEach((e=>{r.style[e]=n[e]}))),document.body.appendChild(t),t},ga=e=>{document.body.removeChild(e)},ya=async({contentType:e=null,contentEncoding:t="",content:r="",recipientName:n="",certificateTitle:i="",issueDate:a="",issuerName:o="",issuerLogo:s="",recordLink:u="",issuerPublicKey:c=[],issuerProfileUrl:l=[],issuerProfileDomain:f=[]})=>{const h=i;let A;const d=(e=>[Ct.IMAGE_GIF,Ct.IMAGE_BMP,Ct.IMAGE_PNG,Ct.IMAGE_JPEG].includes(e))(e),p=e===Ct.TEXT_HTML;if((p||d)&&(A=await(async(e,t,r,n,i,a,o,s,u)=>{const c=va(ha),l=fa(a),f=ua({certificateTitle:t,issueDate:r,issuerName:n,issuerLogo:i,issuerPublicKey:o,issuerPublicDomain:s,issuerPublicUrl:u,recipientName:e,qrCodeImage:l});c.appendChild(f);const h=await Ji({pageHTMLElement:f,width:595,height:842,margin:0});return ga(c),h})(n,i,a,o,s,u,c,f,l)),p)A=await pa(A,r);else if(d)A=await Xi(A,`data:${e};${t},${r}`);else{const n=function(e){return e===Ct.APPLICATION_PDF?"pdf":""}(Ct.APPLICATION_PDF);!function(e,t,r,n,i=""){const a=`data:${t};${r},${e}`,o=document.createElement("a"),s=[n];i&&s.push(i);const u=s.join(".");o.href=a,o.download=u,o.click()}(r,e,t,h,n)}!function(e,t){e.save(t)}(A,h)};var ma,ba,wa,xa=["seed"],ka=["publicKeyBase58","privateKeyBase58"],_a=["documentLoader"],Ba="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ea(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var Sa={},Ca="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Ia=[],Pa=[],Ta="undefined"!=typeof Uint8Array?Uint8Array:Array,Oa=!1;function La(){Oa=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)Ia[t]=e[t],Pa[e.charCodeAt(t)]=t;Pa["-".charCodeAt(0)]=62,Pa["_".charCodeAt(0)]=63}function Na(e,t,r){for(var n,i,a=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],a.push(Ia[(i=n)>>18&63]+Ia[i>>12&63]+Ia[i>>6&63]+Ia[63&i]);return a.join("")}function Ma(e){var t;Oa||La();for(var r=e.length,n=r%3,i="",a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(Na(e,s,s+o>u?u:s+o));return 1===n?(t=e[r-1],i+=Ia[t>>2],i+=Ia[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=Ia[t>>10],i+=Ia[t>>4&63],i+=Ia[t<<2&63],i+="="),a.push(i),a.join("")}function Ua(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,A=e[t+f];for(f+=h,a=A&(1<<-l)-1,A>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=h,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(A?-1:1);o+=Math.pow(2,n),a-=c}return(A?-1:1)*o*Math.pow(2,a-n)}function Fa(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:a-1,d=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+A]=255&s,A+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+A]=255&o,A+=d,o/=256,c-=8);e[r+A-d]|=128*p}var Ra={}.toString,Da=Array.isArray||function(e){return"[object Array]"==Ra.call(e)};Ka.TYPED_ARRAY_SUPPORT=void 0===Ca.TYPED_ARRAY_SUPPORT||Ca.TYPED_ARRAY_SUPPORT;var ja=Qa();function Qa(){return Ka.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ha(e,t){if(Qa()<t)throw new RangeError("Invalid typed array length");return Ka.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Ka.prototype:(null===e&&(e=new Ka(t)),e.length=t),e}function Ka(e,t,r){if(!(Ka.TYPED_ARRAY_SUPPORT||this instanceof Ka))return new Ka(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return qa(this,e)}return Va(this,e,t,r)}function Va(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Ka.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Ka.prototype:e=Ga(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!Ka.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|Xa(t,r),i=(e=Ha(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(Ja(t)){var r=0|Wa(t.length);return 0===(e=Ha(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?Ha(e,0):Ga(e,t);if("Buffer"===t.type&&Da(t.data))return Ga(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function za(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function qa(e,t){if(za(t),e=Ha(e,t<0?0:0|Wa(t)),!Ka.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function Ga(e,t){var r=t.length<0?0:0|Wa(t.length);e=Ha(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function Wa(e){if(e>=Qa())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Qa().toString(16)+" bytes");return 0|e}function Ja(e){return!(null==e||!e._isBuffer)}function Xa(e,t){if(Ja(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return ko(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return _o(e).length;default:if(n)return ko(e).length;t=(""+t).toLowerCase(),n=!0}}function Ya(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return fo(this,t,r);case"utf8":case"utf-8":return uo(this,t,r);case"ascii":return co(this,t,r);case"latin1":case"binary":return lo(this,t,r);case"base64":return so(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ho(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function $a(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Za(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=Ka.from(t,n)),Ja(t))return 0===t.length?-1:eo(e,t,r,n,i);if("number"==typeof t)return t&=255,Ka.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):eo(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function eo(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,h=0;h<u;h++)if(c(e,a+h)!==c(t,h)){f=!1;break}if(f)return a}return-1}function to(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function ro(e,t,r,n){return Bo(ko(t,e.length-r),e,r,n)}function no(e,t,r,n){return Bo(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function io(e,t,r,n){return no(e,t,r,n)}function ao(e,t,r,n){return Bo(_o(t),e,r,n)}function oo(e,t,r,n){return Bo(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function so(e,t,r){return 0===t&&r===e.length?Ma(e):Ma(e.slice(t,r))}function uo(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function co(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function lo(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function fo(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=xo(e[a]);return i}function ho(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function Ao(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function po(e,t,r,n,i,a){if(!Ja(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function vo(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function go(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function yo(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function mo(e,t,r,n,i){return i||yo(e,0,r,4),Fa(e,t,r,n,23,4),r+4}function bo(e,t,r,n,i){return i||yo(e,0,r,8),Fa(e,t,r,n,52,8),r+8}Ka.poolSize=8192,Ka._augment=function(e){return e.__proto__=Ka.prototype,e},Ka.from=function(e,t,r){return Va(null,e,t,r)},Ka.TYPED_ARRAY_SUPPORT&&(Ka.prototype.__proto__=Uint8Array.prototype,Ka.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Ka[Symbol.species]),Ka.alloc=function(e,t,r){return function(e,t,r,n){return za(t),t<=0?Ha(e,t):void 0!==r?"string"==typeof n?Ha(e,t).fill(r,n):Ha(e,t).fill(r):Ha(e,t)}(null,e,t,r)},Ka.allocUnsafe=function(e){return qa(null,e)},Ka.allocUnsafeSlow=function(e){return qa(null,e)},Ka.isBuffer=Eo,Ka.compare=function(e,t){if(!Ja(e)||!Ja(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},Ka.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ka.concat=function(e,t){if(!Da(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Ka.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Ka.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!Ja(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},Ka.byteLength=Xa,Ka.prototype._isBuffer=!0,Ka.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)$a(this,t,t+1);return this},Ka.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)$a(this,t,t+3),$a(this,t+1,t+2);return this},Ka.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)$a(this,t,t+7),$a(this,t+1,t+6),$a(this,t+2,t+5),$a(this,t+3,t+4);return this},Ka.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?uo(this,0,e):Ya.apply(this,arguments)},Ka.prototype.equals=function(e){if(!Ja(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Ka.compare(this,e)},Ka.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},Ka.prototype.compare=function(e,t,r,n,i){if(!Ja(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0},Ka.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Ka.prototype.indexOf=function(e,t,r){return Za(this,e,t,r,!0)},Ka.prototype.lastIndexOf=function(e,t,r){return Za(this,e,t,r,!1)},Ka.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return to(this,e,t,r);case"utf8":case"utf-8":return ro(this,e,t,r);case"ascii":return no(this,e,t,r);case"latin1":case"binary":return io(this,e,t,r);case"base64":return ao(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oo(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},Ka.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Ka.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Ka.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Ka.prototype;else{var i=t-e;r=new Ka(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},Ka.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Ao(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},Ka.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Ao(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},Ka.prototype.readUInt8=function(e,t){return t||Ao(e,1,this.length),this[e]},Ka.prototype.readUInt16LE=function(e,t){return t||Ao(e,2,this.length),this[e]|this[e+1]<<8},Ka.prototype.readUInt16BE=function(e,t){return t||Ao(e,2,this.length),this[e]<<8|this[e+1]},Ka.prototype.readUInt32LE=function(e,t){return t||Ao(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Ka.prototype.readUInt32BE=function(e,t){return t||Ao(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Ka.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Ao(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},Ka.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Ao(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},Ka.prototype.readInt8=function(e,t){return t||Ao(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Ka.prototype.readInt16LE=function(e,t){t||Ao(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Ka.prototype.readInt16BE=function(e,t){t||Ao(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Ka.prototype.readInt32LE=function(e,t){return t||Ao(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Ka.prototype.readInt32BE=function(e,t){return t||Ao(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Ka.prototype.readFloatLE=function(e,t){return t||Ao(e,4,this.length),Ua(this,e,!0,23,4)},Ka.prototype.readFloatBE=function(e,t){return t||Ao(e,4,this.length),Ua(this,e,!1,23,4)},Ka.prototype.readDoubleLE=function(e,t){return t||Ao(e,8,this.length),Ua(this,e,!0,52,8)},Ka.prototype.readDoubleBE=function(e,t){return t||Ao(e,8,this.length),Ua(this,e,!1,52,8)},Ka.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||po(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},Ka.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||po(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},Ka.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,1,255,0),Ka.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Ka.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,2,65535,0),Ka.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):vo(this,e,t,!0),t+2},Ka.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,2,65535,0),Ka.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):vo(this,e,t,!1),t+2},Ka.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,4,4294967295,0),Ka.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):go(this,e,t,!0),t+4},Ka.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,4,4294967295,0),Ka.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):go(this,e,t,!1),t+4},Ka.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);po(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},Ka.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);po(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},Ka.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,1,127,-128),Ka.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Ka.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,2,32767,-32768),Ka.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):vo(this,e,t,!0),t+2},Ka.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,2,32767,-32768),Ka.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):vo(this,e,t,!1),t+2},Ka.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,4,2147483647,-2147483648),Ka.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):go(this,e,t,!0),t+4},Ka.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||po(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Ka.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):go(this,e,t,!1),t+4},Ka.prototype.writeFloatLE=function(e,t,r){return mo(this,e,t,!0,r)},Ka.prototype.writeFloatBE=function(e,t,r){return mo(this,e,t,!1,r)},Ka.prototype.writeDoubleLE=function(e,t,r){return bo(this,e,t,!0,r)},Ka.prototype.writeDoubleBE=function(e,t,r){return bo(this,e,t,!1,r)},Ka.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!Ka.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},Ka.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Ka.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=Ja(e)?e:ko(new Ka(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var wo=/[^+\/0-9A-Za-z-_]/g;function xo(e){return e<16?"0"+e.toString(16):e.toString(16)}function ko(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function _o(e){return function(e){var t,r,n,i,a,o;Oa||La();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[s-2]?2:"="===e[s-1]?1:0,o=new Ta(3*s/4-a),n=a>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=Pa[e.charCodeAt(t)]<<18|Pa[e.charCodeAt(t+1)]<<12|Pa[e.charCodeAt(t+2)]<<6|Pa[e.charCodeAt(t+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=255&i;return 2===a?(i=Pa[e.charCodeAt(t)]<<2|Pa[e.charCodeAt(t+1)]>>4,o[u++]=255&i):1===a&&(i=Pa[e.charCodeAt(t)]<<10|Pa[e.charCodeAt(t+1)]<<4|Pa[e.charCodeAt(t+2)]>>2,o[u++]=i>>8&255,o[u++]=255&i),o}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(wo,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Bo(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Eo(e){return null!=e&&(!!e._isBuffer||So(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&So(e.slice(0,0))}(e))}function So(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Co=Ea(Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:ja,Buffer:Ka,SlowBuffer:function(e){return+e!=e&&(e=0),Ka.alloc(+e)},isBuffer:Eo})),Io={/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */read:function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,A=e[t+f];for(f+=h,a=A&(1<<-l)-1,A>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=h,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(A?-1:1);o+=Math.pow(2,n),a-=c}return(A?-1:1)*o*Math.pow(2,a-n)},write:function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:a-1,d=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+A]=255&s,A+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+A]=255&o,A+=d,o/=256,c-=8);e[r+A-d]|=128*p}},Po={exports:{}};!function(e){!function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,o=Math.floor,s="[BigNumber Error] ",u=s+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,d=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function v(e){for(var t,r,n=1,i=e.length,a=e[0]+"";n<i;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function g(e,t){var r,n,i=e.c,a=t.c,o=e.s,s=t.s,u=e.e,c=t.e;if(!o||!s)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-s:o;if(o!=s)return o;if(r=o<0,n=u==c,!i||!a)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(s=(u=i.length)<(c=a.length)?u:c,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function y(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function m(e){var t=e.c.length-1;return p(e.e/l)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,x,k,_,B,E,S,C,I,P,T=z.prototype={constructor:z,toString:null,valueOf:null},O=new z(1),L=20,N=4,M=-7,U=21,F=-1e7,R=1e7,D=!1,j=1,Q=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},K="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function z(e,t){var r,i,a,s,c,h,A,d,p=this;if(!(p instanceof z))return new z(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>R?p.c=p.e=null:e.e<F?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,c=e;c>=10;c/=10,s++);return void(s>R?p.c=p.e=null:(p.e=s,p.c=[e]))}d=String(e)}else{if(!n.test(d=String(e)))return k(p,d,h);p.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf("."))>-1&&(d=d.replace(".","")),(c=d.search(/e/i))>0?(s<0&&(s=c),s+=+d.slice(c+1),d=d.substring(0,c)):s<0&&(s=d.length)}else{if(y(t,2,K.length,"Base"),10==t&&V)return J(p=new z(e),L+p.e+1,N);if(d=String(e),h="number"==typeof e){if(0*e!=0)return k(p,d,h,t);if(p.s=1/e<0?(d=d.slice(1),-1):1,z.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else p.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=K.slice(0,t),s=c=0,A=d.length;c<A;c++)if(r.indexOf(i=d.charAt(c))<0){if("."==i){if(c>s){s=A;continue}}else if(!a&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){a=!0,c=-1,s=0;continue}return k(p,String(e),h,t)}h=!1,(s=(d=x(d,t,10,p.s)).indexOf("."))>-1?d=d.replace(".",""):s=d.length}for(c=0;48===d.charCodeAt(c);c++);for(A=d.length;48===d.charCodeAt(--A););if(d=d.slice(c,++A)){if(A-=c,h&&z.DEBUG&&A>15&&(e>f||e!==o(e)))throw Error(u+p.s*e);if((s=s-c-1)>R)p.c=p.e=null;else if(s<F)p.c=[p.e=0];else{if(p.e=s,p.c=[],c=(s+1)%l,s<0&&(c+=l),c<A){for(c&&p.c.push(+d.slice(0,c)),A-=l;c<A;)p.c.push(+d.slice(c,c+=l));c=l-(d=d.slice(c)).length}else c-=A;for(;c--;d+="0");p.c.push(+d)}}else p.c=[p.e=0]}function q(e,t,r,n){var i,a,o,s,u;if(null==r?r=N:y(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)u=v(e.c),u=1==n||2==n&&(o<=M||o>=U)?b(u,o):w(u,o,"0");else if(a=(e=J(new z(e),t,r)).e,s=(u=v(e.c)).length,1==n||2==n&&(t<=a||a<=M)){for(;s<t;u+="0",s++);u=b(u,a)}else if(t-=o,u=w(u,a,"0"),a+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=a-s)>0)for(a+1==s&&(u+=".");t--;u+="0");return e.s<0&&i?"-"+u:u}function G(e,t){for(var r,n=1,i=new z(e[0]);n<e.length;n++){if(!(r=new z(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function W(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*l-1)>R?e.c=e.e=null:r<F?e.c=[e.e=0]:(e.e=r,e.c=t),e}function J(e,t,r,n){var i,s,u,f,A,d,p,v=e.c,g=h;if(v){e:{for(i=1,f=v[0];f>=10;f/=10,i++);if((s=t-i)<0)s+=l,u=t,p=(A=v[d=0])/g[i-u-1]%10|0;else if((d=a((s+1)/l))>=v.length){if(!n)break e;for(;v.length<=d;v.push(0));A=p=0,i=1,u=(s%=l)-l+1}else{for(A=f=v[d],i=1;f>=10;f/=10,i++);p=(u=(s%=l)-l+i)<0?0:A/g[i-u-1]%10|0}if(n=n||t<0||null!=v[d+1]||(u<0?A:A%g[i-u-1]),n=r<4?(p||n)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||n||6==r&&(s>0?u>0?A/g[i-u]:0:v[d-1])%10&1||r==(e.s<0?8:7)),t<1||!v[0])return v.length=0,n?(t-=e.e+1,v[0]=g[(l-t%l)%l],e.e=-t||0):v[0]=e.e=0,e;if(0==s?(v.length=d,f=1,d--):(v.length=d+1,f=g[l-s],v[d]=u>0?o(A/g[i-u]%g[u])*f:0),n)for(;;){if(0==d){for(s=1,u=v[0];u>=10;u/=10,s++);for(u=v[0]+=f,f=1;u>=10;u/=10,f++);s!=f&&(e.e++,v[0]==c&&(v[0]=1));break}if(v[d]+=f,v[d]!=c)break;v[d--]=0,f=1}for(s=v.length;0===v[--s];v.pop());}e.e>R?e.c=e.e=null:e.e<F&&(e.c=[e.e=0])}return e}function X(e){var t,r=e.e;return null===r?e.toString():(t=v(e.c),t=r<=M||r>=U?b(t,r):w(t,r,"0"),e.s<0?"-"+t:t)}return z.clone=e,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(e){var t,r;if(null!=e){if("object"!=i(e))throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(r=e[t],0,d,t),L=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(r=e[t],0,8,t),N=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(y(r[0],-d,0,t),y(r[1],0,d,t),M=r[0],U=r[1]):(y(r,-d,d,t),M=-(U=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)y(r[0],-d,-1,t),y(r[1],1,d,t),F=r[0],R=r[1];else{if(y(r,-d,d,t),!r)throw Error(s+t+" cannot be zero: "+r);F=-(R=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(s+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!r,Error(s+"crypto unavailable");D=r}else D=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(r=e[t],0,9,t),j=r),e.hasOwnProperty(t="POW_PRECISION")&&(y(r=e[t],0,d,t),Q=r),e.hasOwnProperty(t="FORMAT")){if("object"!=i(r=e[t]))throw Error(s+t+" not an object: "+r);H=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);V="0123456789"==r.slice(0,10),K=r}}return{DECIMAL_PLACES:L,ROUNDING_MODE:N,EXPONENTIAL_AT:[M,U],RANGE:[F,R],CRYPTO:D,MODULO_MODE:j,POW_PRECISION:Q,FORMAT:H,ALPHABET:K}},z.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!z.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-d&&i<=d&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==o(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},z.maximum=z.max=function(){return G(arguments,T.lt)},z.minimum=z.min=function(){return G(arguments,T.gt)},z.random=(_=9007199254740992,B=Math.random()*_&2097151?function(){return o(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,u,c=0,f=[],A=new z(O);if(null==e?e=L:y(e,0,d),i=a(e/l),D)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));c<i;)(u=131072*t[c]+(t[c+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[c]=r[0],t[c+1]=r[1]):(f.push(u%1e14),c+=2);c=i/2}else{if(!crypto.randomBytes)throw D=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(i*=7);c<i;)(u=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(f.push(u%1e14),c+=7);c=i/7}if(!D)for(;c<i;)(u=B())<9e15&&(f[c++]=u%1e14);for(i=f[--c],e%=l,i&&e&&(u=h[l-e],f[c]=o(i/u)*u);0===f[c];f.pop(),c--);if(c<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=l);for(c=1,u=f[0];u>=10;u/=10,c++);c<l&&(n-=l-c)}return A.e=n,A.c=f,A}),z.sum=function(){for(var e=1,t=arguments,r=new z(t[0]);e<t.length;)r=r.plus(t[e++]);return r},x=function(){var e="0123456789";function t(e,t,r,n){for(var i,a,o=[0],s=0,u=e.length;s<u;){for(a=o.length;a--;o[a]*=t);for(o[0]+=n.indexOf(e.charAt(s++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,a,o,s){var u,c,l,f,h,A,d,p,g=n.indexOf("."),y=L,m=N;for(g>=0&&(f=Q,Q=0,n=n.replace(".",""),A=(p=new z(i)).pow(n.length-g),Q=f,p.c=t(w(v(A.c),A.e,"0"),10,a,e),p.e=p.c.length),l=f=(d=t(n,i,a,s?(u=K,e):(u=e,K))).length;0==d[--f];d.pop());if(!d[0])return u.charAt(0);if(g<0?--l:(A.c=d,A.e=l,A.s=o,d=(A=r(A,p,y,m,a)).c,h=A.r,l=A.e),g=d[c=l+y+1],f=a/2,h=h||c<0||null!=d[c+1],h=m<4?(null!=g||h)&&(0==m||m==(A.s<0?3:2)):g>f||g==f&&(4==m||h||6==m&&1&d[c-1]||m==(A.s<0?8:7)),c<1||!d[0])n=h?w(u.charAt(1),-y,u.charAt(0)):u.charAt(0);else{if(d.length=c,h)for(--a;++d[--c]>a;)d[c]=0,c||(++l,d=[1].concat(d));for(f=d.length;!d[--f];);for(g=0,n="";g<=f;n+=u.charAt(d[g++]));n=w(n,l,u.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,a,o,s=0,u=e.length,c=t%A,l=t/A|0;for(e=e.slice();u--;)s=((i=c*(a=e[u]%A)+(n=l*a+(o=e[u]/A|0)*c)%A*A+s)/r|0)+(n/A|0)+l*o,e[u]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,s,u){var f,h,A,d,v,g,y,m,b,w,x,k,_,B,E,S,C,I=n.s==i.s?1:-1,P=n.c,T=i.c;if(!(P&&P[0]&&T&&T[0]))return new z(n.s&&i.s&&(P?!T||P[0]!=T[0]:T)?P&&0==P[0]||!T?0*I:I/0:NaN);for(b=(m=new z(I)).c=[],I=a+(h=n.e-i.e)+1,u||(u=c,h=p(n.e/l)-p(i.e/l),I=I/l|0),A=0;T[A]==(P[A]||0);A++);if(T[A]>(P[A]||0)&&h--,I<0)b.push(1),d=!0;else{for(B=P.length,S=T.length,A=0,I+=2,(v=o(u/(T[0]+1)))>1&&(T=e(T,v,u),P=e(P,v,u),S=T.length,B=P.length),_=S,x=(w=P.slice(0,S)).length;x<S;w[x++]=0);C=T.slice(),C=[0].concat(C),E=T[0],T[1]>=u/2&&E++;do{if(v=0,(f=t(T,w,S,x))<0){if(k=w[0],S!=x&&(k=k*u+(w[1]||0)),(v=o(k/E))>1)for(v>=u&&(v=u-1),y=(g=e(T,v,u)).length,x=w.length;1==t(g,w,y,x);)v--,r(g,S<y?C:T,y,u),y=g.length,f=1;else 0==v&&(f=v=1),y=(g=T.slice()).length;if(y<x&&(g=[0].concat(g)),r(w,g,x,u),x=w.length,-1==f)for(;t(T,w,S,x)<1;)v++,r(w,S<x?C:T,x,u),x=w.length}else 0===f&&(v++,w=[0]);b[A++]=v,w[0]?w[x++]=P[_]||0:(w=[P[_]],x=1)}while((_++<B||null!=w[0])&&I--);d=null!=w[0],b[0]||b.splice(0,1)}if(u==c){for(A=1,I=b[0];I>=10;I/=10,A++);J(m,a+(m.e=A+h*l-1)+1,s,d)}else m.e=h,m.r=+d;return m}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,C=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,k=function(e,t,r,n){var i,a=r?t:t.replace(P,"");if(I.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!r&&(a=a.replace(E,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,a=a.replace(S,"$1").replace(C,"0.$1")),t!=a))return new z(a,i);if(z.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},T.absoluteValue=T.abs=function(){var e=new z(this);return e.s<0&&(e.s=1),e},T.comparedTo=function(e,t){return g(this,new z(e,t))},T.decimalPlaces=T.dp=function(e,t){var r,n,i,a=this;if(null!=e)return y(e,0,d),null==t?t=N:y(t,0,8),J(new z(a),e+a.e+1,t);if(!(r=a.c))return null;if(n=((i=r.length-1)-p(this.e/l))*l,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},T.dividedBy=T.div=function(e,t){return r(this,new z(e,t),L,N)},T.dividedToIntegerBy=T.idiv=function(e,t){return r(this,new z(e,t),0,1)},T.exponentiatedBy=T.pow=function(e,t){var r,n,i,u,c,f,h,A,d=this;if((e=new z(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+X(e));if(null!=t&&(t=new z(t)),c=e.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!e.c||!e.c[0])return A=new z(Math.pow(+X(d),c?2-m(e):+X(e))),t?A.mod(t):A;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new z(NaN);(n=!f&&d.isInteger()&&t.isInteger())&&(d=d.mod(t))}else{if(e.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||c&&d.c[1]>=24e7:d.c[0]<8e13||c&&d.c[0]<=9999975e7)))return u=d.s<0&&m(e)?-0:0,d.e>-1&&(u=1/u),new z(f?1/u:u);Q&&(u=a(Q/l+2))}for(c?(r=new z(.5),f&&(e.s=1),h=m(e)):h=(i=Math.abs(+X(e)))%2,A=new z(O);;){if(h){if(!(A=A.times(d)).c)break;u?A.c.length>u&&(A.c.length=u):n&&(A=A.mod(t))}if(i){if(0===(i=o(i/2)))break;h=i%2}else if(J(e=e.times(r),e.e+1,1),e.e>14)h=m(e);else{if(0==(i=+X(e)))break;h=i%2}d=d.times(d),u?d.c&&d.c.length>u&&(d.c.length=u):n&&(d=d.mod(t))}return n?A:(f&&(A=O.div(A)),t?A.mod(t):u?J(A,Q,N,void 0):A)},T.integerValue=function(e){var t=new z(this);return null==e?e=N:y(e,0,8),J(t,t.e+1,e)},T.isEqualTo=T.eq=function(e,t){return 0===g(this,new z(e,t))},T.isFinite=function(){return!!this.c},T.isGreaterThan=T.gt=function(e,t){return g(this,new z(e,t))>0},T.isGreaterThanOrEqualTo=T.gte=function(e,t){return 1===(t=g(this,new z(e,t)))||0===t},T.isInteger=function(){return!!this.c&&p(this.e/l)>this.c.length-2},T.isLessThan=T.lt=function(e,t){return g(this,new z(e,t))<0},T.isLessThanOrEqualTo=T.lte=function(e,t){return-1===(t=g(this,new z(e,t)))||0===t},T.isNaN=function(){return!this.s},T.isNegative=function(){return this.s<0},T.isPositive=function(){return this.s>0},T.isZero=function(){return!!this.c&&0==this.c[0]},T.minus=function(e,t){var r,n,i,a,o=this,s=o.s;if(t=(e=new z(e,t)).s,!s||!t)return new z(NaN);if(s!=t)return e.s=-t,o.plus(e);var u=o.e/l,f=e.e/l,h=o.c,A=e.c;if(!u||!f){if(!h||!A)return h?(e.s=-t,e):new z(A?o:NaN);if(!h[0]||!A[0])return A[0]?(e.s=-t,e):new z(h[0]?o:3==N?-0:0)}if(u=p(u),f=p(f),h=h.slice(),s=u-f){for((a=s<0)?(s=-s,i=h):(f=u,i=A),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(n=(a=(s=h.length)<(t=A.length))?s:t,s=t=0;t<n;t++)if(h[t]!=A[t]){a=h[t]<A[t];break}if(a&&(i=h,h=A,A=i,e.s=-e.s),(t=(n=A.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=c-1;n>s;){if(h[--n]<A[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=c}h[n]-=A[n]}for(;0==h[0];h.splice(0,1),--f);return h[0]?W(e,h,f):(e.s=3==N?-1:1,e.c=[e.e=0],e)},T.modulo=T.mod=function(e,t){var n,i,a=this;return e=new z(e,t),!a.c||!e.s||e.c&&!e.c[0]?new z(NaN):!e.c||a.c&&!a.c[0]?new z(a):(9==j?(i=e.s,e.s=1,n=r(a,e,0,3),e.s=i,n.s*=i):n=r(a,e,0,j),(e=a.minus(n.times(e))).c[0]||1!=j||(e.s=a.s),e)},T.multipliedBy=T.times=function(e,t){var r,n,i,a,o,s,u,f,h,d,v,g,y,m,b,w=this,x=w.c,k=(e=new z(e,t)).c;if(!(x&&k&&x[0]&&k[0]))return!w.s||!e.s||x&&!x[0]&&!k||k&&!k[0]&&!x?e.c=e.e=e.s=null:(e.s*=w.s,x&&k?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=p(w.e/l)+p(e.e/l),e.s*=w.s,(u=x.length)<(d=k.length)&&(y=x,x=k,k=y,i=u,u=d,d=i),i=u+d,y=[];i--;y.push(0));for(m=c,b=A,i=d;--i>=0;){for(r=0,v=k[i]%b,g=k[i]/b|0,a=i+(o=u);a>i;)r=((f=v*(f=x[--o]%b)+(s=g*f+(h=x[o]/b|0)*v)%b*b+y[a]+r)/m|0)+(s/b|0)+g*h,y[a--]=f%m;y[a]=r}return r?++n:y.splice(0,1),W(e,y,n)},T.negated=function(){var e=new z(this);return e.s=-e.s||null,e},T.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new z(e,t)).s,!i||!t)return new z(NaN);if(i!=t)return e.s=-t,n.minus(e);var a=n.e/l,o=e.e/l,s=n.c,u=e.c;if(!a||!o){if(!s||!u)return new z(i/0);if(!s[0]||!u[0])return u[0]?e:new z(s[0]?n:0*i)}if(a=p(a),o=p(o),s=s.slice(),i=a-o){for(i>0?(o=a,r=u):(i=-i,r=s),r.reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(t=u.length)<0&&(r=u,u=s,s=r,t=i),i=0;t;)i=(s[--t]=s[t]+u[t]+i)/c|0,s[t]=c===s[t]?0:s[t]%c;return i&&(s=[i].concat(s),++o),W(e,s,o)},T.precision=T.sd=function(e,t){var r,n,i,a=this;if(null!=e&&e!==!!e)return y(e,1,d),null==t?t=N:y(t,0,8),J(new z(a),e,t);if(!(r=a.c))return null;if(n=(i=r.length-1)*l+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&a.e+1>n&&(n=a.e+1),n},T.shiftedBy=function(e){return y(e,-9007199254740991,f),this.times("1e"+e)},T.squareRoot=T.sqrt=function(){var e,t,n,i,a,o=this,s=o.c,u=o.s,c=o.e,l=L+4,f=new z("0.5");if(1!==u||!s||!s[0])return new z(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(u=Math.sqrt(+X(o)))||u==1/0?(((t=v(s)).length+c)%2==0&&(t+="0"),u=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),n=new z(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):n=new z(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(a=n,n=f.times(a.plus(r(o,a,l,1))),v(a.c).slice(0,u)===(t=v(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(J(n,n.e+L+2,1),e=!n.times(n).eq(o));break}if(!i&&(J(a,a.e+L+2,0),a.times(a).eq(o))){n=a;break}l+=4,u+=4,i=1}return J(n,n.e+L+1,N,e)},T.toExponential=function(e,t){return null!=e&&(y(e,0,d),e++),q(this,e,t,1)},T.toFixed=function(e,t){return null!=e&&(y(e,0,d),e=e+this.e+1),q(this,e,t)},T.toFormat=function(e,t,r){var n,a=this;if(null==r)null!=e&&t&&"object"==i(t)?(r=t,t=null):e&&"object"==i(e)?(r=e,e=t=null):r=H;else if("object"!=i(r))throw Error(s+"Argument not an object: "+r);if(n=a.toFixed(e,t),a.c){var o,u=n.split("."),c=+r.groupSize,l=+r.secondaryGroupSize,f=r.groupSeparator||"",h=u[0],A=u[1],d=a.s<0,p=d?h.slice(1):h,v=p.length;if(l&&(o=c,c=l,l=o,v-=o),c>0&&v>0){for(o=v%c||c,h=p.substr(0,o);o<v;o+=c)h+=f+p.substr(o,c);l>0&&(h+=f+p.slice(o)),d&&(h="-"+h)}n=A?h+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?A.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):A):h}return(r.prefix||"")+n+(r.suffix||"")},T.toFraction=function(e){var t,n,i,a,o,u,c,f,A,d,p,g,y=this,m=y.c;if(null!=e&&(!(c=new z(e)).isInteger()&&(c.c||1!==c.s)||c.lt(O)))throw Error(s+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+X(c));if(!m)return new z(y);for(t=new z(O),A=n=new z(O),i=f=new z(O),g=v(m),o=t.e=g.length-y.e-1,t.c[0]=h[(u=o%l)<0?l+u:u],e=!e||c.comparedTo(t)>0?o>0?t:A:c,u=R,R=1/0,c=new z(g),f.c[0]=0;d=r(c,t,0,1),1!=(a=n.plus(d.times(i))).comparedTo(e);)n=i,i=a,A=f.plus(d.times(a=A)),f=a,t=c.minus(d.times(a=t)),c=a;return a=r(e.minus(n),i,0,1),f=f.plus(a.times(A)),n=n.plus(a.times(i)),f.s=A.s=y.s,p=r(A,i,o*=2,N).minus(y).abs().comparedTo(r(f,n,o,N).minus(y).abs())<1?[A,i]:[f,n],R=u,p},T.toNumber=function(){return+X(this)},T.toPrecision=function(e,t){return null!=e&&y(e,1,d),q(this,e,t,2)},T.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=M||i>=U?b(v(r.c),i):w(v(r.c),i,"0"):10===e&&V?t=w(v((r=J(new z(r),L+i+1,N)).c),r.e,"0"):(y(e,2,K.length,"Base"),t=x(w(v(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},T.valueOf=T.toJSON=function(){return X(this)},T._isBigNumber=!0,null!=t&&z.set(t),z}(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=r)}(Ba)}(Po);var To={},Oo={},Lo=Po.exports.BigNumber;Oo.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},Oo.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},Oo.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},Oo.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},Oo.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},Oo.SHIFT32=Math.pow(2,32),Oo.SHIFT16=Math.pow(2,16),Oo.MAX_SAFE_HIGH=2097151,Oo.NEG_ONE=new Lo(-1),Oo.TEN=new Lo(10),Oo.TWO=new Lo(2),Oo.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},function(e){var t=Co.Buffer,r=Po.exports.BigNumber,n=Oo,i=n.SHIFT32,a=n.SHIFT16;function o(e){return e<16?"0"+e.toString(16):e.toString(16)}e.parseHalf=function(e){var t,r,n;return n=128&e[0]?-1:1,t=(124&e[0])>>2,r=(3&e[0])<<8|e[1],t?31===t?n*(r?NaN:1/0):n*Math.pow(2,t-25)*(1024+r):5.960464477539063e-8*n*r},e.arrayBufferToBignumber=function(e){for(var t=e.byteLength,n="",i=0;i<t;i++)n+=o(e[i]);return new r(n,16)},e.buildMap=function(e){for(var t=new Map,r=Object.keys(e),n=r.length,i=0;i<n;i++)t.set(r[i],e[r[i]]);return t},e.buildInt32=function(e,t){return e*a+t},e.buildInt64=function(t,n,a,o){var s=e.buildInt32(t,n),u=e.buildInt32(a,o);return s>2097151?new r(s).times(i).plus(u):s*i+u},e.writeHalf=function(e,r){var n=t.allocUnsafe(4);n.writeFloatBE(r,0);var i=n.readUInt32BE(0);if(0!=(8191&i))return!1;var a=i>>16&32768,o=i>>23&255,s=8388607&i;if(o>=113&&o<=142)a+=(o-112<<10)+(s>>13);else{if(!(o>=103&&o<113))return!1;if(s&(1<<126-o)-1)return!1;a+=s+8388608>>126-o}return e.writeUInt16BE(a,0),!0},e.keySorter=function(e,t){var r=e[0].byteLength,n=t[0].byteLength;return r>n?1:n>r?-1:e[0].compare(t[0])},e.isNegativeZero=function(e){return 0===e&&1/e<0},e.nextPowerOf2=function(e){var t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}}(To);var No=Oo,Mo=No.MT,Uo=No.SIMPLE,Fo=No.SYMS,Ro=function(){function e(t){if(s(this,e),"number"!=typeof t)throw new Error("Invalid Simple type: "+i(t));if(t<0||t>255||(0|t)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}return c(e,[{key:"toString",value:function(){return"simple("+this.value+")"}},{key:"inspect",value:function(){return"simple("+this.value+")"}},{key:"encodeCBOR",value:function(e){return e._pushInt(this.value,Mo.SIMPLE_FLOAT)}}],[{key:"isSimple",value:function(t){return t instanceof e}},{key:"decode",value:function(t,r){switch(null==r&&(r=!0),t){case Uo.FALSE:return!1;case Uo.TRUE:return!0;case Uo.NULL:return r?null:Fo.NULL;case Uo.UNDEFINED:return r?void 0:Fo.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return Fo.BREAK;default:return new e(t)}}}]),e}(),Do=Ro,jo=function(){function e(t,r,n){if(s(this,e),this.tag=t,this.value=r,this.err=n,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+i(this.tag)+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}return c(e,[{key:"toString",value:function(){return"".concat(this.tag,"(").concat(JSON.stringify(this.value),")")}},{key:"encodeCBOR",value:function(e){return e._pushTag(this.tag),e.pushAny(this.value)}},{key:"convert",value:function(t){var r,n;if("function"!=typeof(n=null!=t?t[this.tag]:void 0)&&"function"!=typeof(n=e["_tag"+this.tag]))return this;try{return n.call(e,this.value)}catch(t){return r=t,this.err=r,this}}}]),e}(),Qo=jo,Ho=self.location?self.location.protocol+"//"+self.location.host:"",Ko=self.URL,Vo={URLWithLegacySupport:function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ho;s(this,e),this.super=new Ko(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}return c(e,[{key:"hash",get:function(){return this.super.hash},set:function(e){this.super.hash=e}},{key:"host",get:function(){return this.super.host},set:function(e){this.super.host=e}},{key:"hostname",get:function(){return this.super.hostname},set:function(e){this.super.hostname=e}},{key:"href",get:function(){return this.super.href},set:function(e){this.super.href=e}},{key:"origin",get:function(){return this.super.origin},set:function(e){this.super.origin=e}},{key:"password",get:function(){return this.super.password},set:function(e){this.super.password=e}},{key:"pathname",get:function(){return this.super.pathname},set:function(e){this.super.pathname=e}},{key:"port",get:function(){return this.super.port},set:function(e){this.super.port=e}},{key:"protocol",get:function(){return this.super.protocol},set:function(e){this.super.protocol=e}},{key:"search",get:function(){return this.super.search},set:function(e){this.super.search=e}},{key:"searchParams",get:function(){return this.super.searchParams},set:function(e){this.super.searchParams=e}},{key:"username",get:function(){return this.super.username},set:function(e){this.super.username=e}},{key:"createObjectURL",value:function(e){return this.super.createObjectURL(e)}},{key:"revokeObjectURL",value:function(e){this.super.revokeObjectURL(e)}},{key:"toJSON",value:function(){return this.super.toJSON()}},{key:"toString",value:function(){return this.super.toString()}},{key:"format",value:function(){return this.toString()}}]),e}(),URLSearchParams:self.URLSearchParams,defaultBase:Ho,format:function(e){if("string"==typeof e)return new Ko(e).toString();if(!(e instanceof Ko)){var t=e.username&&e.password?"".concat(e.username,":").concat(e.password,"@"):"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",a=e.host||"",o=e.hostname||"",s=e.search||(e.query?"?"+e.query:""),u=e.hash||"",c=e.pathname||"";return"".concat(i).concat(t||r).concat(a||o+n).concat(e.path||c+s).concat(u)}}},zo=Vo.URLWithLegacySupport,qo=Vo.format,Go={URL:Vo.URLWithLegacySupport,URLSearchParams:Vo.URLSearchParams,format:Vo.format,relative:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,a=r.protocol?r.protocol.replace(":",""):"http";a=(n[a]||i||a)+":";try{t=new zo(e)}catch(e){t={}}var o=Object.assign({},r,{protocol:a||t.protocol,host:r.host||t.host});return new zo(e,qo(o)).toString()},defaultBase:Vo.defaultBase},Wo=Co.Buffer,Jo=Io,Xo=Po.exports.BigNumber,Yo=To,$o=Oo,Zo=Do,es=Qo,ts=Go.URL,rs=function(){function e(t){s(this,e),!(t=t||{}).size||t.size<65536?t.size=65536:t.size=Yo.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=Wo.from(this._heap),this._reset(),this._knownTags=Object.assign({0:function(e){return new Date(e)},1:function(e){return new Date(1e3*e)},2:function(e){return Yo.arrayBufferToBignumber(e)},3:function(e){return $o.NEG_ONE.minus(Yo.arrayBufferToBignumber(e))},4:function(e){return $o.TEN.pow(e[0]).times(e[1])},5:function(e){return $o.TWO.pow(e[0]).times(e[1])},32:function(e){return new ts(e)},35:function(e){return new RegExp(e)}},t.tags),this.parser=function(e,t,r){"use asm";var n=new e.Uint8Array(r),i=t.pushInt,a=t.pushInt32,o=t.pushInt32Neg,s=t.pushInt64,u=t.pushInt64Neg,c=t.pushFloat,l=t.pushFloatSingle,f=t.pushFloatDouble,h=t.pushTrue,A=t.pushFalse,d=t.pushUndefined,p=t.pushNull,v=t.pushInfinity,g=t.pushInfinityNeg,y=t.pushNaN,m=t.pushNaNNeg,b=t.pushArrayStart,w=t.pushArrayStartFixed,x=t.pushArrayStartFixed32,k=t.pushArrayStartFixed64,_=t.pushObjectStart,B=t.pushObjectStartFixed,E=t.pushObjectStartFixed32,S=t.pushObjectStartFixed64,C=t.pushByteString,I=t.pushByteStringStart,P=t.pushUtf8String,T=t.pushUtf8StringStart,O=t.pushSimpleUnassigned,L=t.pushTagStart,N=t.pushTagStart4,M=t.pushTagStart8,U=t.pushTagUnassigned,F=t.pushBreak,R=e.Math.pow,D=0,j=0,Q=0;function H(e){e=e|0;D=0;j=e;while((D|0)<(j|0)){Q=Xe[n[D]&255](n[D]|0)|0;if((Q|0)>0){break}}return Q|0}function K(e){e=e|0;if(((D|0)+(e|0)|0)<(j|0)){return 0}return 1}function V(e){e=e|0;return n[e|0]<<8|n[e+1|0]|0}function z(e){e=e|0;return n[e|0]<<24|n[e+1|0]<<16|n[e+2|0]<<8|n[e+3|0]|0}function q(e){e=e|0;i(e|0);D=D+1|0;return 0}function G(e){e=e|0;if(K(1)|0){return 1}i(n[D+1|0]|0);D=D+2|0;return 0}function W(e){e=e|0;if(K(2)|0){return 1}i(V(D+1|0)|0);D=D+3|0;return 0}function J(e){e=e|0;if(K(4)|0){return 1}a(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function X(e){e=e|0;if(K(8)|0){return 1}s(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function Y(e){e=e|0;i(-1-(e-32|0)|0);D=D+1|0;return 0}function $(e){e=e|0;if(K(1)|0){return 1}i(-1-(n[D+1|0]|0)|0);D=D+2|0;return 0}function Z(e){e=e|0;var t=0;if(K(2)|0){return 1}t=V(D+1|0)|0;i(-1-(t|0)|0);D=D+3|0;return 0}function ee(e){e=e|0;if(K(4)|0){return 1}o(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function te(e){e=e|0;if(K(8)|0){return 1}u(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function re(e){e=e|0;var t=0;var r=0;var n=0;n=e-64|0;if(K(n|0)|0){return 1}t=D+1|0;r=(D+1|0)+(n|0)|0;C(t|0,r|0);D=r|0;return 0}function ne(e){e=e|0;var t=0;var r=0;var i=0;if(K(1)|0){return 1}i=n[D+1|0]|0;t=D+2|0;r=(D+2|0)+(i|0)|0;if(K(i+1|0)|0){return 1}C(t|0,r|0);D=r|0;return 0}function ie(e){e=e|0;var t=0;var r=0;var n=0;if(K(2)|0){return 1}n=V(D+1|0)|0;t=D+3|0;r=(D+3|0)+(n|0)|0;if(K(n+2|0)|0){return 1}C(t|0,r|0);D=r|0;return 0}function ae(e){e=e|0;var t=0;var r=0;var n=0;if(K(4)|0){return 1}n=z(D+1|0)|0;t=D+5|0;r=(D+5|0)+(n|0)|0;if(K(n+4|0)|0){return 1}C(t|0,r|0);D=r|0;return 0}function oe(e){e=e|0;return 1}function se(e){e=e|0;I();D=D+1|0;return 0}function ue(e){e=e|0;var t=0;var r=0;var n=0;n=e-96|0;if(K(n|0)|0){return 1}t=D+1|0;r=(D+1|0)+(n|0)|0;P(t|0,r|0);D=r|0;return 0}function ce(e){e=e|0;var t=0;var r=0;var i=0;if(K(1)|0){return 1}i=n[D+1|0]|0;t=D+2|0;r=(D+2|0)+(i|0)|0;if(K(i+1|0)|0){return 1}P(t|0,r|0);D=r|0;return 0}function le(e){e=e|0;var t=0;var r=0;var n=0;if(K(2)|0){return 1}n=V(D+1|0)|0;t=D+3|0;r=(D+3|0)+(n|0)|0;if(K(n+2|0)|0){return 1}P(t|0,r|0);D=r|0;return 0}function fe(e){e=e|0;var t=0;var r=0;var n=0;if(K(4)|0){return 1}n=z(D+1|0)|0;t=D+5|0;r=(D+5|0)+(n|0)|0;if(K(n+4|0)|0){return 1}P(t|0,r|0);D=r|0;return 0}function he(e){e=e|0;return 1}function Ae(e){e=e|0;T();D=D+1|0;return 0}function de(e){e=e|0;w(e-128|0);D=D+1|0;return 0}function pe(e){e=e|0;if(K(1)|0){return 1}w(n[D+1|0]|0);D=D+2|0;return 0}function ve(e){e=e|0;if(K(2)|0){return 1}w(V(D+1|0)|0);D=D+3|0;return 0}function ge(e){e=e|0;if(K(4)|0){return 1}x(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function ye(e){e=e|0;if(K(8)|0){return 1}k(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function me(e){e=e|0;b();D=D+1|0;return 0}function be(e){e=e|0;var t=0;t=e-160|0;if(K(t|0)|0){return 1}B(t|0);D=D+1|0;return 0}function we(e){e=e|0;if(K(1)|0){return 1}B(n[D+1|0]|0);D=D+2|0;return 0}function xe(e){e=e|0;if(K(2)|0){return 1}B(V(D+1|0)|0);D=D+3|0;return 0}function ke(e){e=e|0;if(K(4)|0){return 1}E(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function _e(e){e=e|0;if(K(8)|0){return 1}S(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function Be(e){e=e|0;_();D=D+1|0;return 0}function Ee(e){e=e|0;L(e-192|0|0);D=D+1|0;return 0}function Se(e){e|0;L(e|0);D=D+1|0;return 0}function Ce(e){e|0;L(e|0);D=D+1|0;return 0}function Ie(e){e|0;L(e|0);D=D+1|0;return 0}function Pe(e){e|0;L(e|0);D=D+1|0;return 0}function Te(e){e=e|0;L(e-192|0|0);D=D+1|0;return 0}function Oe(e){e|0;L(e|0);D=D+1|0;return 0}function Le(e){e|0;L(e|0);D=D+1|0;return 0}function Ne(e){e|0;L(e|0);D=D+1|0;return 0}function Me(e){e=e|0;if(K(1)|0){return 1}L(n[D+1|0]|0);D=D+2|0;return 0}function Ue(e){e=e|0;if(K(2)|0){return 1}L(V(D+1|0)|0);D=D+3|0;return 0}function Fe(e){e=e|0;if(K(4)|0){return 1}N(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function Re(e){e=e|0;if(K(8)|0){return 1}M(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function De(e){e=e|0;O((e|0)-224|0);D=D+1|0;return 0}function je(e){e=e|0;A();D=D+1|0;return 0}function Qe(e){e=e|0;h();D=D+1|0;return 0}function He(e){e=e|0;p();D=D+1|0;return 0}function Ke(e){e=e|0;d();D=D+1|0;return 0}function Ve(e){e=e|0;if(K(1)|0){return 1}O(n[D+1|0]|0);D=D+2|0;return 0}function ze(e){e=e|0;var t=0;var r=0;var i=1.0;var a=0.0;var o=0.0;var s=0.0;if(K(2)|0){return 1}t=n[D+1|0]|0;r=n[D+2|0]|0;if((t|0)&0x80){i=-1.0}a=+(((t|0)&0x7C)>>2);o=+(((t|0)&0x03)<<8|r);if(+a==0.0){c(+(+i*+5.9604644775390625e-8*+o))}else if(+a==31.0){if(+i==1.0){if(+o>0.0){y()}else{v()}}else{if(+o>0.0){m()}else{g()}}}else{c(+(+i*R(+2,+(+a-25.0))*+(1024.0+o)))}D=D+3|0;return 0}function qe(e){e=e|0;if(K(4)|0){return 1}l(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0);D=D+5|0;return 0}function Ge(e){e=e|0;if(K(8)|0){return 1}f(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0,n[D+5|0]|0,n[D+6|0]|0,n[D+7|0]|0,n[D+8|0]|0);D=D+9|0;return 0}function We(e){e=e|0;return 1}function Je(e){e=e|0;F();D=D+1|0;return 0}var Xe=[q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,G,W,J,X,We,We,We,We,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,$,Z,ee,te,We,We,We,We,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,ne,ie,ae,oe,We,We,We,se,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ue,ce,le,fe,he,We,We,We,Ae,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,pe,ve,ge,ye,We,We,We,me,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,we,xe,ke,_e,We,We,We,Be,Ee,Ee,Ee,Ee,Ee,Ee,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Me,Ue,Fe,Re,We,We,We,We,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,je,Qe,He,Ke,Ve,ze,qe,Ge,We,We,We,Je];return{parse:H}}(Ba,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}return c(e,[{key:"_depth",get:function(){return this._parents.length}},{key:"_currentParent",get:function(){return this._parents[this._depth-1]}},{key:"_ref",get:function(){return this._currentParent.ref}},{key:"_closeParent",value:function(){var e=this._parents.pop();if(e.length>0)throw new Error("Missing ".concat(e.length," elements"));switch(e.type){case $o.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case $o.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case $o.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case $o.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case $o.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case $o.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===$o.PARENT.TAG&&this._dec()}},{key:"_dec",value:function(){var e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}},{key:"_push",value:function(e,t){var r=this._currentParent;switch(r.values++,r.type){case $o.PARENT.ARRAY:case $o.PARENT.BYTE_STRING:case $o.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case $o.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,"string"!=typeof r.tmpKey&&(r.type=$o.PARENT.MAP,r.ref=Yo.buildMap(r.ref)));break;case $o.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case $o.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}},{key:"_createParent",value:function(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}},{key:"_reset",value:function(){this._res=[],this._parents=[{type:$o.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}},{key:"createTag",value:function(e,t){var r=this._knownTags[e];return r?r(t):new es(e,t)}},{key:"createMap",value:function(e,t){return e}},{key:"createObject",value:function(e,t){return e}},{key:"createArray",value:function(e,t){return e}},{key:"createByteString",value:function(e,t){return Wo.concat(e)}},{key:"createByteStringFromHeap",value:function(e,t){return e===t?Wo.alloc(0):Wo.from(this._heap.slice(e,t))}},{key:"createInt",value:function(e){return e}},{key:"createInt32",value:function(e,t){return Yo.buildInt32(e,t)}},{key:"createInt64",value:function(e,t,r,n){return Yo.buildInt64(e,t,r,n)}},{key:"createFloat",value:function(e){return e}},{key:"createFloatSingle",value:function(e,t,r,n){return Jo.read([e,t,r,n],0,!1,23,4)}},{key:"createFloatDouble",value:function(e,t,r,n,i,a,o,s){return Jo.read([e,t,r,n,i,a,o,s],0,!1,52,8)}},{key:"createInt32Neg",value:function(e,t){return-1-Yo.buildInt32(e,t)}},{key:"createInt64Neg",value:function(e,t,r,n){var i=Yo.buildInt32(e,t),a=Yo.buildInt32(r,n);return i>$o.MAX_SAFE_HIGH?$o.NEG_ONE.minus(new Xo(i).times($o.SHIFT32).plus(a)):-1-(i*$o.SHIFT32+a)}},{key:"createTrue",value:function(){return!0}},{key:"createFalse",value:function(){return!1}},{key:"createNull",value:function(){return null}},{key:"createUndefined",value:function(){}},{key:"createInfinity",value:function(){return 1/0}},{key:"createInfinityNeg",value:function(){return-1/0}},{key:"createNaN",value:function(){return NaN}},{key:"createNaNNeg",value:function(){return NaN}},{key:"createUtf8String",value:function(e,t){return e.join("")}},{key:"createUtf8StringFromHeap",value:function(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}},{key:"createSimpleUnassigned",value:function(e){return new Zo(e)}},{key:"pushInt",value:function(e){this._push(this.createInt(e))}},{key:"pushInt32",value:function(e,t){this._push(this.createInt32(e,t))}},{key:"pushInt64",value:function(e,t,r,n){this._push(this.createInt64(e,t,r,n))}},{key:"pushFloat",value:function(e){this._push(this.createFloat(e))}},{key:"pushFloatSingle",value:function(e,t,r,n){this._push(this.createFloatSingle(e,t,r,n))}},{key:"pushFloatDouble",value:function(e,t,r,n,i,a,o,s){this._push(this.createFloatDouble(e,t,r,n,i,a,o,s))}},{key:"pushInt32Neg",value:function(e,t){this._push(this.createInt32Neg(e,t))}},{key:"pushInt64Neg",value:function(e,t,r,n){this._push(this.createInt64Neg(e,t,r,n))}},{key:"pushTrue",value:function(){this._push(this.createTrue())}},{key:"pushFalse",value:function(){this._push(this.createFalse())}},{key:"pushNull",value:function(){this._push(this.createNull())}},{key:"pushUndefined",value:function(){this._push(this.createUndefined())}},{key:"pushInfinity",value:function(){this._push(this.createInfinity())}},{key:"pushInfinityNeg",value:function(){this._push(this.createInfinityNeg())}},{key:"pushNaN",value:function(){this._push(this.createNaN())}},{key:"pushNaNNeg",value:function(){this._push(this.createNaNNeg())}},{key:"pushArrayStart",value:function(){this._createParent([],$o.PARENT.ARRAY,-1)}},{key:"pushArrayStartFixed",value:function(e){this._createArrayStartFixed(e)}},{key:"pushArrayStartFixed32",value:function(e,t){var r=Yo.buildInt32(e,t);this._createArrayStartFixed(r)}},{key:"pushArrayStartFixed64",value:function(e,t,r,n){var i=Yo.buildInt64(e,t,r,n);this._createArrayStartFixed(i)}},{key:"pushObjectStart",value:function(){this._createObjectStartFixed(-1)}},{key:"pushObjectStartFixed",value:function(e){this._createObjectStartFixed(e)}},{key:"pushObjectStartFixed32",value:function(e,t){var r=Yo.buildInt32(e,t);this._createObjectStartFixed(r)}},{key:"pushObjectStartFixed64",value:function(e,t,r,n){var i=Yo.buildInt64(e,t,r,n);this._createObjectStartFixed(i)}},{key:"pushByteStringStart",value:function(){this._parents[this._depth]={type:$o.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}},{key:"pushByteString",value:function(e,t){this._push(this.createByteStringFromHeap(e,t))}},{key:"pushUtf8StringStart",value:function(){this._parents[this._depth]={type:$o.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}},{key:"pushUtf8String",value:function(e,t){this._push(this.createUtf8StringFromHeap(e,t))}},{key:"pushSimpleUnassigned",value:function(e){this._push(this.createSimpleUnassigned(e))}},{key:"pushTagStart",value:function(e){this._parents[this._depth]={type:$o.PARENT.TAG,length:1,ref:[e]}}},{key:"pushTagStart4",value:function(e,t){this.pushTagStart(Yo.buildInt32(e,t))}},{key:"pushTagStart8",value:function(e,t,r,n){this.pushTagStart(Yo.buildInt64(e,t,r,n))}},{key:"pushTagUnassigned",value:function(e){this._push(this.createTag(e))}},{key:"pushBreak",value:function(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}},{key:"_createObjectStartFixed",value:function(e){0!==e?this._createParent({},$o.PARENT.OBJECT,e):this._push(this.createObject({}))}},{key:"_createArrayStartFixed",value:function(e){0!==e?this._createParent(new Array(e),$o.PARENT.ARRAY,e):this._push(this.createArray([]))}},{key:"_decode",value:function(e){if(0===e.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(e);var t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}},{key:"decodeFirst",value:function(e){return this._decode(e),this._res[0]}},{key:"decodeAll",value:function(e){return this._decode(e),this._res}}],[{key:"decode",value:function(t,r){return"string"==typeof t&&(t=Wo.from(t,r||"hex")),new e({size:t.length}).decodeFirst(t)}},{key:"decodeAll",value:function(t,r){return"string"==typeof t&&(t=Wo.from(t,r||"hex")),new e({size:t.length}).decodeAll(t)}}]),e}();rs.decodeFirst=rs.decode;var ns=rs,is=Co.Buffer,as=To,os=function(e){f(r,e);var t=w(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"createTag",value:function(e,t){return"".concat(e,"(").concat(t,")")}},{key:"createInt",value:function(e){return k(h(r.prototype),"createInt",this).call(this,e).toString()}},{key:"createInt32",value:function(e,t){return k(h(r.prototype),"createInt32",this).call(this,e,t).toString()}},{key:"createInt64",value:function(e,t,n,i){return k(h(r.prototype),"createInt64",this).call(this,e,t,n,i).toString()}},{key:"createInt32Neg",value:function(e,t){return k(h(r.prototype),"createInt32Neg",this).call(this,e,t).toString()}},{key:"createInt64Neg",value:function(e,t,n,i){return k(h(r.prototype),"createInt64Neg",this).call(this,e,t,n,i).toString()}},{key:"createTrue",value:function(){return"true"}},{key:"createFalse",value:function(){return"false"}},{key:"createFloat",value:function(e){var t=k(h(r.prototype),"createFloat",this).call(this,e);return as.isNegativeZero(e)?"-0_1":"".concat(t,"_1")}},{key:"createFloatSingle",value:function(e,t,n,i){return"".concat(k(h(r.prototype),"createFloatSingle",this).call(this,e,t,n,i),"_2")}},{key:"createFloatDouble",value:function(e,t,n,i,a,o,s,u){return"".concat(k(h(r.prototype),"createFloatDouble",this).call(this,e,t,n,i,a,o,s,u),"_3")}},{key:"createByteString",value:function(e,t){var r=e.join(", ");return-1===t?"(_ ".concat(r,")"):"h'".concat(r)}},{key:"createByteStringFromHeap",value:function(e,t){return"h'".concat(is.from(k(h(r.prototype),"createByteStringFromHeap",this).call(this,e,t)).toString("hex"),"'")}},{key:"createInfinity",value:function(){return"Infinity_1"}},{key:"createInfinityNeg",value:function(){return"-Infinity_1"}},{key:"createNaN",value:function(){return"NaN_1"}},{key:"createNaNNeg",value:function(){return"-NaN_1"}},{key:"createNull",value:function(){return"null"}},{key:"createUndefined",value:function(){return"undefined"}},{key:"createSimpleUnassigned",value:function(e){return"simple(".concat(e,")")}},{key:"createArray",value:function(e,t){var n=k(h(r.prototype),"createArray",this).call(this,e,t);return-1===t?"[_ ".concat(n.join(", "),"]"):"[".concat(n.join(", "),"]")}},{key:"createMap",value:function(e,t){var n=k(h(r.prototype),"createMap",this).call(this,e),i=Array.from(n.keys()).reduce(us(n),"");return-1===t?"{_ ".concat(i,"}"):"{".concat(i,"}")}},{key:"createObject",value:function(e,t){var n=k(h(r.prototype),"createObject",this).call(this,e),i=Object.keys(n).reduce(us(n),"");return-1===t?"{_ ".concat(i,"}"):"{".concat(i,"}")}},{key:"createUtf8String",value:function(e,t){var r=e.join(", ");return-1===t?"(_ ".concat(r,")"):'"'.concat(r,'"')}},{key:"createUtf8StringFromHeap",value:function(e,t){return'"'.concat(is.from(k(h(r.prototype),"createUtf8StringFromHeap",this).call(this,e,t)).toString("utf8"),'"')}}],[{key:"diagnose",value:function(e,t){return"string"==typeof e&&(e=is.from(e,t||"hex")),(new r).decodeFirst(e)}}]),r}(ns),ss=os;function us(e){return function(t,r){return t?"".concat(t,", ").concat(r,": ").concat(e[r]):"".concat(r,": ").concat(e[r])}}var cs=Co.Buffer,ls=Go.URL,fs=Po.exports.BigNumber,hs=To,As=Oo,ds=As.MT,ps=As.NUMBYTES,vs=As.SHIFT32,gs=As.SYMS,ys=As.TAG,ms=As.MT.SIMPLE_FLOAT<<5|As.NUMBYTES.TWO,bs=As.MT.SIMPLE_FLOAT<<5|As.NUMBYTES.FOUR,ws=As.MT.SIMPLE_FLOAT<<5|As.NUMBYTES.EIGHT,xs=As.MT.SIMPLE_FLOAT<<5|As.SIMPLE.TRUE,ks=As.MT.SIMPLE_FLOAT<<5|As.SIMPLE.FALSE,_s=As.MT.SIMPLE_FLOAT<<5|As.SIMPLE.UNDEFINED,Bs=As.MT.SIMPLE_FLOAT<<5|As.SIMPLE.NULL,Es=new fs("0x20000000000000"),Ss=cs.from("f97e00","hex"),Cs=cs.from("f9fc00","hex"),Is=cs.from("f97c00","hex"),Ps=function(){function e(t){s(this,e),t=t||{},this.streaming="function"==typeof t.stream,this.onData=t.stream,this.semanticTypes=[[ls,this._pushUrl],[fs,this._pushBigNumber]];for(var r=t.genTypes||[],n=r.length,i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}return c(e,[{key:"addSemanticType",value:function(e,t){for(var r=this.semanticTypes.length,n=0;n<r;n++)if(this.semanticTypes[n][0]===e){var i=this.semanticTypes[n][1];return this.semanticTypes[n][1]=t,i}return this.semanticTypes.push([e,t]),null}},{key:"push",value:function(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}},{key:"pushWrite",value:function(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}},{key:"_pushUInt8",value:function(e){return this.pushWrite(e,1,1)}},{key:"_pushUInt16BE",value:function(e){return this.pushWrite(e,2,2)}},{key:"_pushUInt32BE",value:function(e){return this.pushWrite(e,3,4)}},{key:"_pushDoubleBE",value:function(e){return this.pushWrite(e,4,8)}},{key:"_pushNaN",value:function(){return this.push(Ss)}},{key:"_pushInfinity",value:function(e){var t=e<0?Cs:Is;return this.push(t)}},{key:"_pushFloat",value:function(e){var t=cs.allocUnsafe(2);if(hs.writeHalf(t,e)&&hs.parseHalf(t)===e)return this._pushUInt8(ms)&&this.push(t);var r=cs.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(bs)&&this.push(r):this._pushUInt8(ws)&&this._pushDoubleBE(e)}},{key:"_pushInt",value:function(e,t,r){var n=t<<5;return e<24?this._pushUInt8(n|e):e<=255?this._pushUInt8(n|ps.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(n|ps.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(n|ps.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|ps.EIGHT)&&this._pushUInt32BE(Math.floor(e/vs))&&this._pushUInt32BE(e%vs):t===ds.NEG_INT?this._pushFloat(r):this._pushFloat(e)}},{key:"_pushIntNum",value:function(e){return e<0?this._pushInt(-e-1,ds.NEG_INT,e):this._pushInt(e,ds.POS_INT)}},{key:"_pushNumber",value:function(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}},{key:"_pushString",value:function(e){var t=cs.byteLength(e,"utf8");return this._pushInt(t,ds.UTF8_STRING)&&this.pushWrite(e,5,t)}},{key:"_pushBoolean",value:function(e){return this._pushUInt8(e?xs:ks)}},{key:"_pushUndefined",value:function(e){return this._pushUInt8(_s)}},{key:"_pushArray",value:function(e,t){var r=t.length;if(!e._pushInt(r,ds.ARRAY))return!1;for(var n=0;n<r;n++)if(!e.pushAny(t[n]))return!1;return!0}},{key:"_pushTag",value:function(e){return this._pushInt(e,ds.TAG)}},{key:"_pushDate",value:function(e,t){return e._pushTag(ys.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}},{key:"_pushBuffer",value:function(e,t){return e._pushInt(t.length,ds.BYTE_STRING)&&e.push(t)}},{key:"_pushNoFilter",value:function(e,t){return e._pushBuffer(e,t.slice())}},{key:"_pushRegexp",value:function(e,t){return e._pushTag(ys.REGEXP)&&e.pushAny(t.source)}},{key:"_pushSet",value:function(e,t){if(!e._pushInt(t.size,ds.ARRAY))return!1;var r,n=L(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!e.pushAny(i))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"_pushUrl",value:function(e,t){return e._pushTag(ys.URI)&&e.pushAny(t.format())}},{key:"_pushBigint",value:function(e){var t=ys.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=ys.NEG_BIGINT);var r=e.toString(16);r.length%2&&(r="0"+r);var n=cs.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,n)}},{key:"_pushBigNumber",value:function(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(ys.DECIMAL_FRAC)||!e._pushInt(2,ds.ARRAY))return!1;var r=t.decimalPlaces(),n=t.multipliedBy(new fs(10).pow(r));return!!e._pushIntNum(-r)&&(n.abs().isLessThan(Es)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}},{key:"_pushMap",value:function(e,t){return!!e._pushInt(t.size,ds.MAP)&&this._pushRawMap(t.size,Array.from(t))}},{key:"_pushObject",value:function(e){if(!e)return this._pushUInt8(Bs);for(var t=this.semanticTypes.length,r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var n=e.encodeCBOR;if("function"==typeof n)return n.call(e,this);var i=Object.keys(e),a=i.length;return!!this._pushInt(a,ds.MAP)&&this._pushRawMap(a,i.map((function(t){return[t,e[t]]})))}},{key:"_pushRawMap",value:function(t,r){r=r.map((function(t){return t[0]=e.encode(t[0]),t})).sort(hs.keySorter);for(var n=0;n<t;n++){if(!this.push(r[n][0]))return!1;if(!this.pushAny(r[n][1]))return!1}return!0}},{key:"write",value:function(e){return this.pushAny(e)}},{key:"pushAny",value:function(e){var t=function(e){return{}.toString.call(e).slice(8,-1)}(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,cs.isBuffer(e)?e:cs.from(e));case"Null":return this._pushUInt8(Bs);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case gs.NULL:return this._pushObject(null);case gs.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+i(e)+", "+(e?e.toString():""))}}},{key:"finalize",value:function(){if(0===this.offset)return null;for(var e=this.result,t=this.resultLength,r=this.resultMethod,n=this.offset,i=0,a=0;a<n;a++)i+=t[a];var o=cs.allocUnsafe(i),s=0,u=0;for(a=0;a<n;a++){switch(u=t[a],r[a]){case 0:e[a].copy(o,s);break;case 1:o.writeUInt8(e[a],s,!0);break;case 2:o.writeUInt16BE(e[a],s,!0);break;case 3:o.writeUInt32BE(e[a],s,!0);break;case 4:o.writeDoubleBE(e[a],s,!0);break;case 5:o.write(e[a],s,u,"utf8");break;default:throw new Error("unkown method")}s+=u}var c=o;return this._reset(),c}},{key:"_reset",value:function(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}}],[{key:"encode",value:function(t){var r=new e;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}]),e}(),Ts=Ps;function Os(e){if("string"==typeof e)return(new TextEncoder).encode(e);if(!(e instanceof Uint8Array))throw new TypeError('"data" be a string or Uint8Array.');return e}
/*!
   * Copyright (c) 2019 Digital Bazaar, Inc. All rights reserved.
   */!function(e){e.Diagnose=ss,e.Decoder=ns,e.Encoder=Ts,e.Simple=Do,e.Tagged=Qo,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}(Sa);var Ls=function(){function e(){s(this,e),l(this,"registeredCodecs",void 0),this.registeredCodecs={}}var t,i,a;return c(e,[{key:"encode",value:(a=o(n().mark((function e(t){var i,a,s,u,c,l,f,h,A,d,p,v,g=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.data,a=t.urls,s=t.codecs,u=void 0===s?["mh-sha2-256","mb-base58-btc"]:s,c=t.meta,l=void 0===c?{}:c,void 0!==i||void 0!==a){e.next=3;break}throw new Error("Either `data` or `urls` must be provided.");case 3:if(void 0!==u){e.next=5;break}throw new Error("The hashlink creation `codecs` must be provided.");case 5:return void 0!==a&&(Array.isArray(a)||(a=[a]),a.forEach((function(e){if("string"!=typeof e)throw new Error('URL "'.concat(e,'" must be a string.'))})),l=r(r({},l),{},{url:a})),e.next=8,u.reduce(function(){var e=o(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(i=g.registeredCodecs[r])){e.next=3;break}throw new Error('Unknown cryptographic hash encoder "'.concat(r,'".'));case 3:return e.t0=i,e.next=6,t;case 6:return e.t1=e.sent,e.abrupt("return",e.t0.encode.call(e.t0,e.t1));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),i);case 8:if(f=e.sent,h=new Map,l.url&&h.set(15,l.url),l["content-type"]&&h.set(14,l["content-type"]),l.experimental&&h.set(13,l.experimental),l.transform&&h.set(12,l.transform),A=new TextDecoder,d="hl:"+A.decode(f),!(h.size>0)){e.next=22;break}return p=u[u.length-1],v=new Uint8Array(Sa.encode(h)),e.t0=d,e.t1=A,e.next=19,this.registeredCodecs[p].encode(v);case 19:e.t2=e.sent,e.t3=e.t1.decode.call(e.t1,e.t2),d=e.t0+=":"+e.t3;case 22:return e.abrupt("return",d);case 23:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"decode",value:(i=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.hashlink,i=r.split(":"),a={hashName:"unknown",hashValue:null,meta:{}},!(i.length<2)){e.next=4;break}throw new Error('Hashlink "'.concat(r,'" is invalid; it must contain at least one colon.'));case 4:if(!(i.length>3)){e.next=6;break}throw new Error('Hashlink "'.concat(r,'" is invalid; it contains more than two colons.'));case 6:return o=Os(i[1]),s=this._findDecoder(o),u=s.decode(o),c=this._findDecoder(u),a.hashName=c.name,a.hashValue=c.decode(u),3===i.length&&(l=Os(i[2]),f=s.decode(l),(h=Sa.decode(f)).has(15)&&(a.meta.url=h.get(15)),h.has(14)&&(a.meta["content-type"]=h.get(14)),h.has(13)&&(a.meta.experimental=h.get(13)),h.has(12)&&(a.meta.transform=h.get(12))),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"verify",value:(t=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,i=t.hashlink,!((a=i.split(":")).length>3)){e.next=4;break}throw new Error('Hashlink "'.concat(i,'" is invalid; it contains more than two colons.'));case 4:return o=Os(a[1]),s=this._findDecoder(o),u=s.decode(o),c=this._findDecoder(u),l=[],3===a.length&&(f=Os(a[2]),h=s.decode(f),(A=Sa.decode(h)).has(12)&&l.push.apply(l,S(A.get(12)))),l.push(c.algorithm,s.algorithm),e.next=9,this.encode({data:r,codecs:l});case 9:return d=e.sent.split(":"),e.abrupt("return",a[1]===d[1]);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"use",value:function(e){this.registeredCodecs[e.algorithm]=e}},{key:"_findDecoder",value:function(e){var t=Object.values(this.registeredCodecs).find((function(t){return t.identifier.every((function(t,r){return t===e[r]}))}));if(!t)throw new Error("Could not determine decoder for: "+e);return t}}]),e}(),Ns={};function Ms(e,t){return function(e,t,r){if(!(e instanceof Uint8Array))throw new TypeError('"input" must be a Uint8Array.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');if(0===e.length)return"";var n="",i=0,a=t.length,o=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=e[i],c=0;c<s.length;++c)u+=s[c]<<8,s[c]=u%a,u=u/a|0;for(;u>0;)s.push(u%a),u=u/a|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=t[s[i]];if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n}(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t)}function Us(e){return(4294967296+e).toString(16).substring(1)}var Fs={normalizeInput:function(e){var t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,r){for(var n="\n"+e+" = ",i=0;i<t.length;i+=2){if(32===r)n+=Us(t[i]).toUpperCase(),n+=" ",n+=Us(t[i+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);n+=Us(t[i+1]).toUpperCase(),n+=Us(t[i]).toUpperCase()}i%6==4?n+="\n"+new Array(e.length+4).join(" "):i<t.length-2&&(n+=" ")}console.log(n)},testSpeed:function(e,t,r){for(var n=(new Date).getTime(),i=new Uint8Array(t),a=0;a<t;a++)i[a]=a%256;var o=(new Date).getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(var s=0;s<r;s++){var u=e(i),c=(new Date).getTime(),l=c-n;n=c,console.log("Hashed in "+l+"ms: "+u.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}},Rs=Fs;function Ds(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function js(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var a=e[t+1]+n;i>=4294967296&&a++,e[t]=i,e[t+1]=a}function Qs(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Hs(e,t,r,n,i,a){var o=qs[i],s=qs[i+1],u=qs[a],c=qs[a+1];Ds(zs,e,t),js(zs,e,o,s);var l=zs[n]^zs[e],f=zs[n+1]^zs[e+1];zs[n]=f,zs[n+1]=l,Ds(zs,r,n),l=zs[t]^zs[r],f=zs[t+1]^zs[r+1],zs[t]=l>>>24^f<<8,zs[t+1]=f>>>24^l<<8,Ds(zs,e,t),js(zs,e,u,c),l=zs[n]^zs[e],f=zs[n+1]^zs[e+1],zs[n]=l>>>16^f<<16,zs[n+1]=f>>>16^l<<16,Ds(zs,r,n),l=zs[t]^zs[r],f=zs[t+1]^zs[r+1],zs[t]=f>>>31^l<<1,zs[t+1]=l>>>31^f<<1}var Ks=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Vs=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),zs=new Uint32Array(32),qs=new Uint32Array(32);function Gs(e,t){var r=0;for(r=0;r<16;r++)zs[r]=e.h[r],zs[r+16]=Ks[r];for(zs[24]=zs[24]^e.t,zs[25]=zs[25]^e.t/4294967296,t&&(zs[28]=~zs[28],zs[29]=~zs[29]),r=0;r<32;r++)qs[r]=Qs(e.b,4*r);for(r=0;r<12;r++)Hs(0,8,16,24,Vs[16*r+0],Vs[16*r+1]),Hs(2,10,18,26,Vs[16*r+2],Vs[16*r+3]),Hs(4,12,20,28,Vs[16*r+4],Vs[16*r+5]),Hs(6,14,22,30,Vs[16*r+6],Vs[16*r+7]),Hs(0,10,20,30,Vs[16*r+8],Vs[16*r+9]),Hs(2,12,22,24,Vs[16*r+10],Vs[16*r+11]),Hs(4,14,16,26,Vs[16*r+12],Vs[16*r+13]),Hs(6,8,18,28,Vs[16*r+14],Vs[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^zs[r]^zs[r+16]}var Ws=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Js(e,t,r,n){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");var i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};Ws.fill(0),Ws[0]=e,t&&(Ws[1]=t.length),Ws[2]=1,Ws[3]=1,r&&Ws.set(r,32),n&&Ws.set(n,48);for(var a=0;a<16;a++)i.h[a]=Ks[a]^Qs(Ws,4*a);return t&&(Xs(i,t),i.c=128),i}function Xs(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,Gs(e,!1),e.c=0),e.b[e.c++]=t[r]}function Ys(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;Gs(e,!0);for(var t=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function $s(e,t,r,n,i){r=r||64,e=Rs.normalizeInput(e),n&&(n=Rs.normalizeInput(n)),i&&(i=Rs.normalizeInput(i));var a=Js(r,t,n,i);return Xs(a,e),Ys(a)}var Zs={blake2b:$s,blake2bHex:function(e,t,r,n,i){var a=$s(e,t,r,n,i);return Rs.toHex(a)},blake2bInit:Js,blake2bUpdate:Xs,blake2bFinal:Ys},eu=Fs;function tu(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function ru(e,t,r,n,i,a){ou[e]=ou[e]+ou[t]+i,ou[n]=nu(ou[n]^ou[e],16),ou[r]=ou[r]+ou[n],ou[t]=nu(ou[t]^ou[r],12),ou[e]=ou[e]+ou[t]+a,ou[n]=nu(ou[n]^ou[e],8),ou[r]=ou[r]+ou[n],ou[t]=nu(ou[t]^ou[r],7)}function nu(e,t){return e>>>t^e<<32-t}var iu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),au=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),ou=new Uint32Array(16),su=new Uint32Array(16);function uu(e,t){var r=0;for(r=0;r<8;r++)ou[r]=e.h[r],ou[r+8]=iu[r];for(ou[12]^=e.t,ou[13]^=e.t/4294967296,t&&(ou[14]=~ou[14]),r=0;r<16;r++)su[r]=tu(e.b,4*r);for(r=0;r<10;r++)ru(0,4,8,12,su[au[16*r+0]],su[au[16*r+1]]),ru(1,5,9,13,su[au[16*r+2]],su[au[16*r+3]]),ru(2,6,10,14,su[au[16*r+4]],su[au[16*r+5]]),ru(3,7,11,15,su[au[16*r+6]],su[au[16*r+7]]),ru(0,5,10,15,su[au[16*r+8]],su[au[16*r+9]]),ru(1,6,11,12,su[au[16*r+10]],su[au[16*r+11]]),ru(2,7,8,13,su[au[16*r+12]],su[au[16*r+13]]),ru(3,4,9,14,su[au[16*r+14]],su[au[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=ou[r]^ou[r+8]}function cu(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");var n={h:new Uint32Array(iu),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(lu(n,t),n.c=64),n}function lu(e,t){for(var r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,uu(e,!1),e.c=0),e.b[e.c++]=t[r]}function fu(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;uu(e,!0);for(var t=new Uint8Array(e.outlen),r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function hu(e,t,r){r=r||32,e=eu.normalizeInput(e);var n=cu(r,t);return lu(n,e),fu(n)}var Au,du,pu={blake2s:hu,blake2sHex:function(e,t,r){var n=hu(e,t,r);return eu.toHex(n)},blake2sInit:cu,blake2sUpdate:lu,blake2sFinal:fu},vu={blake2b:Zs.blake2b,blake2bHex:Zs.blake2bHex,blake2bInit:Zs.blake2bInit,blake2bUpdate:Zs.blake2bUpdate,blake2bFinal:Zs.blake2bFinal,blake2s:pu.blake2s,blake2sHex:pu.blake2sHex,blake2sInit:pu.blake2sInit,blake2sUpdate:pu.blake2sUpdate,blake2sFinal:pu.blake2sFinal},gu=self.crypto||self.msCrypto,yu=c((function e(){s(this,e),l(this,"identifier",void 0),l(this,"algorithm",void 0),l(this,"name",void 0)})),mu=function(e){f(i,e);var t,r=w(i);function i(){var e;return s(this,i),(e=r.call(this)).identifier=new Uint8Array([18,32]),e.algorithm="mh-sha2-256",e.name="sha2-256",e}return c(i,[{key:"encode",value:(t=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,gu.subtle.digest({name:"SHA-256"},t);case 3:return e.t1=e.sent,r=new e.t0(e.t1),i=new Uint8Array(r.byteLength+this.identifier.byteLength),e.abrupt("return",(i.set(this.identifier,0),i.set(r,this.identifier.byteLength),i));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"decode",value:function(e){return e.slice(this.identifier.length)}}]),i}(yu),bu=function(e){f(i,e);var t,r=w(i);function i(){var e;return s(this,i),(e=r.call(this)).identifier=new Uint8Array([178,8,8]),e.algorithm="mh-blake2b-64",e.name="blake2b-64",e}return c(i,[{key:"encode",value:(t=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vu.blake2b(t,null,8),i=new Uint8Array(r.byteLength+this.identifier.byteLength),e.abrupt("return",(i.set(this.identifier,0),i.set(r,this.identifier.byteLength),i));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"decode",value:function(e){return e.slice(this.identifier.length)}}]),i}(yu),wu=function(e){f(i,e);var t,r=w(i);function i(){var e;return s(this,i),(e=r.call(this)).identifier=new Uint8Array([122]),e.algorithm="mb-base58-btc",e.name="base58-btc",e}return c(i,[{key:"encode",value:(t=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Uint8Array(Os("z"+Ms(t))));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"decode",value:function(e){return function(e){return function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if(0===e.length)return new Uint8Array;var r=Ns[t];if(!r){r=Ns[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),o=[0],s=0;s<e.length;s++){var u=r[e.charCodeAt(s)];if(void 0===u)return;for(var c=u,l=0;l<o.length;++l)c+=o[l]*i,o[l]=255&c,c>>=8;for(;c>0;)o.push(255&c),c>>=8}for(var f=0;e[f]===a&&f<e.length-1;++f)o.push(0);return new Uint8Array(o.reverse())}
/*!
   * Copyright (c) 2019-2020 Digital Bazaar, Inc. All rights reserved.
   */(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}(new TextDecoder("utf-8").decode(e.slice(1)))}}]),i}(yu),xu=function(){function e(){s(this,e),l(this,"hl",void 0),l(this,"hashlinkTable",{}),this.hl=new Ls,this.hl.use(new mu),this.hl.use(new bu),this.hl.use(new wu)}var t,r,i,a;return c(e,[{key:"decode",value:(a=o(n().mark((function e(t,r){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.hl.decode({hashlink:t});case 2:if((a=e.sent).meta||null!==(i=a.meta.url)&&void 0!==i&&i.length){e.next=5;break}throw new Error("unparseable document, no url provided as meta data");case 5:return this.hashlinkTable[t]=a,e.abrupt("return",(null!=r&&r(a.meta.url[0]),a));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"verifyHashlinkTable",value:(i=o(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.keys(this.hashlinkTable),r=0;case 2:if(!(r<t.length)){e.next=8;break}return e.next=5,this.verify(t[r]).catch((function(e){return console.log("caught an hashlink exception",e)}));case 5:r++,e.next=2;break;case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"verify",value:(r=o(n().mark((function e(t){var r,i,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSourceUrlFromHashlink(t);case 2:return r=e.sent,e.next=5,fetch(r).then(function(){var e=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){i=e}));case 5:return a=new TextEncoder,e.next=8,this.hl.verify({data:a.encode(i),hashlink:t});case 8:if(s=e.sent){e.next=11;break}throw new Error("Hashlink ".concat(t," does not match data from url ").concat(r));case 11:return e.abrupt("return",(console.log("hashlink ".concat(t," bound to ").concat(r," was successfully verified")),s));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getSourceUrlFromHashlink",value:(t=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hashlinkTable[t]){e.next=4;break}e.t0=this.hashlinkTable[t],e.next=7;break;case 4:return e.next=6,this.decode(t);case 6:e.t0=e.sent;case 7:return r=e.t0,e.abrupt("return",this.getMetaUrl(r));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getMetaUrl",value:function(e){return e.meta.url[0]}}]),e}();function ku(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}function _u(e){return"string"==typeof e}!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(Au||(Au={})),function(e){e.V1_1="1.1",e.V1_2="1.2",e.V2_0="2.0",e.V3_0_alpha="3.0-alpha",e.V3_0_beta="3.0-beta",e.V3_0="3.0"}(du||(du={}));var Bu,Eu=du;!function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(Bu||(Bu={}));var Su,Cu=(l(ma={},Bu.Bitcoin,{code:Bu.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}}),l(ma,Bu.Ethmain,{code:Bu.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}}),l(ma,Bu.Ethropst,{code:Bu.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}}),l(ma,Bu.Ethrinkeby,{code:Bu.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}}),l(ma,Bu.Mocknet,{code:Bu.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}}),l(ma,Bu.Regtest,{code:Bu.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}}),l(ma,Bu.Testnet,{code:Bu.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}),ma);!function(e){e.mainnet="mainnet",e.testnet="testnet"}(Su||(Su={}));var Iu={"@context":{id:"@id",type:"@type",extensions:"https://w3id.org/openbadges/extensions#",obi:"https://w3id.org/openbadges#",validation:"obi:validation",cred:"https://w3id.org/credentials#",dc:"http://purl.org/dc/terms/",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",AlignmentObject:"schema:AlignmentObject",CryptographicKey:"sec:Key",Endorsement:"cred:Credential",Assertion:"obi:Assertion",BadgeClass:"obi:BadgeClass",Criteria:"obi:Criteria",Evidence:"obi:Evidence",Extension:"obi:Extension",FrameValidation:"obi:FrameValidation",IdentityObject:"obi:IdentityObject",Image:"obi:Image",HostedBadge:"obi:HostedBadge",hosted:"obi:HostedBadge",Issuer:"obi:Issuer",Profile:"obi:Profile",RevocationList:"obi:RevocationList",SignedBadge:"obi:SignedBadge",signed:"obi:SignedBadge",TypeValidation:"obi:TypeValidation",VerificationObject:"obi:VerificationObject",author:{"@id":"schema:author","@type":"@id"},caption:{"@id":"schema:caption"},claim:{"@id":"cred:claim","@type":"@id"},created:{"@id":"dc:created","@type":"xsd:dateTime"},creator:{"@id":"dc:creator","@type":"@id"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},endorsement:{"@id":"cred:credential","@type":"@id"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},genre:{"@id":"schema:genre"},image:{"@id":"schema:image","@type":"@id"},name:{"@id":"schema:name"},owner:{"@id":"sec:owner","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},publicKeyPem:{"@id":"sec:publicKeyPem"},related:{"@id":"dc:relation","@type":"@id"},startsWith:{"@id":"http://purl.org/dqm-vocabulary/v1/dqm#startsWith"},tags:{"@id":"schema:keywords"},targetDescription:{"@id":"schema:targetDescription"},targetFramework:{"@id":"schema:targetFramework"},targetName:{"@id":"schema:targetName"},targetUrl:{"@id":"schema:targetUrl"},telephone:{"@id":"schema:telephone"},url:{"@id":"schema:url","@type":"@id"},version:{"@id":"schema:version"},alignment:{"@id":"obi:alignment","@type":"@id"},allowedOrigins:{"@id":"obi:allowedOrigins"},audience:{"@id":"obi:audience"},badge:{"@id":"obi:badge","@type":"@id"},criteria:{"@id":"obi:criteria","@type":"@id"},endorsementComment:{"@id":"obi:endorsementComment"},evidence:{"@id":"obi:evidence","@type":"@id"},hashed:{"@id":"obi:hashed","@type":"xsd:boolean"},identity:{"@id":"obi:identityHash"},issuedOn:{"@id":"obi:issueDate","@type":"xsd:dateTime"},issuer:{"@id":"obi:issuer","@type":"@id"},narrative:{"@id":"obi:narrative"},recipient:{"@id":"obi:recipient","@type":"@id"},revocationList:{"@id":"obi:revocationList","@type":"@id"},revocationReason:{"@id":"obi:revocationReason"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},revokedAssertions:{"@id":"obi:revoked"},salt:{"@id":"obi:salt"},targetCode:{"@id":"obi:targetCode"},uid:{"@id":"obi:uid"},validatesType:"obi:validatesType",validationFrame:"obi:validationFrame",validationSchema:"obi:validationSchema",verification:{"@id":"obi:verify","@type":"@id"},verificationProperty:{"@id":"obi:verificationProperty"},verify:"verification"}},Pu={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2017:"sec:MerkleProof2017",RecipientProfile:"bc:RecipientProfile",SignatureLine:"bc:SignatureLine",MerkleProofVerification2017:"bc:MerkleProofVerification2017",recipientProfile:"bc:recipientProfile",signatureLines:"bc:signatureLines",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},subtitle:"bc:subtitle",jobTitle:"schema:jobTitle",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},CryptographicKey:"sec:Key",signature:"sec:signature",verification:{"@id":"obi:verify","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"},"obi:validation":[{"obi:validatesType":"RecipientProfile","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0/recipientSchema.json"},{"obi:validatesType":"SignatureLine","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0/signatureLineSchema.json"},{"obi:validatesType":"MerkleProof2017","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0/merkleProof2017Schema.json"}]},Tu={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2017:"sec:MerkleProof2017",RecipientProfile:"bc:RecipientProfile",SignatureLine:"bc:SignatureLine",MerkleProofVerification2017:"bc:MerkleProofVerification2017",recipientProfile:"bc:recipientProfile",signatureLines:"bc:signatureLines",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},subtitle:"bc:subtitle",jobTitle:"schema:jobTitle",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},CryptographicKey:"sec:Key",signature:"sec:signature",verification:{"@id":"obi:verify","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"},"obi:validation":[{"obi:validatesType":"RecipientProfile","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.1/recipientSchema.json"},{"obi:validatesType":"SignatureLine","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.1/signatureLineSchema.json"},{"obi:validatesType":"MerkleProof2017","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.1/merkleProof2017Schema.json"}]},Ou={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",cp:"https://w3id.org/chainpoint#",vc:"https://www.w3.org/2018/credentials/v1",schema:"https://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2019:"sec:MerkleProof2019",BlockcertsCredential:"bc:BlockcertsCredential",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},metadata:"bc:metadata",display:{"@id":"bc:display","@context":{id:"@id",type:"@type",contentMediaType:{"@id":"bc:contentMediaType"},contentEncoding:{"@id":"bc:contentEncoding"},content:{"@id":"bc:content"}}},CryptographicKey:"sec:Key",domain:"sec:domain",nonce:"sec:nonce",proofValue:"sec:proofValue",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},created:{"@id":"https://purl.org/dc/terms/created","@type":"xsd:dateTime"},challenge:"sec:challenge",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},name:{"@id":"schema:name"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},publicKey:{"@id":"sec:publicKey"},url:{"@id":"schema:url"},image:{"@id":"schema:image"},criteria:{"@id":"schema:criteria"},claim:{"@id":"schema:claim"}}},Lu={};Lu["https://w3id.org/openbadges/v2"]=Iu,Lu["https://openbadgespec.org/v2/context.json"]=Iu,Lu["https://www.w3.org/2018/credentials/v1"]={"@context":{"@version":1.1,id:"@id",type:"@type",VerifiableCredential:{"@id":"https://www.w3.org/2018/credentials#VerifiableCredential","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",credentialSchema:{"@id":"cred:credentialSchema","@type":"@id","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",JsonSchemaValidator2018:"cred:JsonSchemaValidator2018"}},credentialStatus:{"@id":"cred:credentialStatus","@type":"@id"},credentialSubject:{"@id":"cred:credentialSubject","@type":"@id"},evidence:{"@id":"cred:evidence","@type":"@id"},expirationDate:{"@id":"cred:expirationDate","@type":"xsd:dateTime"},holder:{"@id":"cred:holder","@type":"@id"},issued:{"@id":"cred:issued","@type":"xsd:dateTime"},issuer:{"@id":"cred:issuer","@type":"@id"},issuanceDate:{"@id":"cred:issuanceDate","@type":"xsd:dateTime"},proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},refreshService:{"@id":"cred:refreshService","@type":"@id","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",ManualRefreshService2018:"cred:ManualRefreshService2018"}},termsOfUse:{"@id":"cred:termsOfUse","@type":"@id"},validFrom:{"@id":"cred:validFrom","@type":"xsd:dateTime"},validUntil:{"@id":"cred:validUntil","@type":"xsd:dateTime"}}},VerifiablePresentation:{"@id":"https://www.w3.org/2018/credentials#VerifiablePresentation","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",sec:"https://w3id.org/security#",holder:{"@id":"cred:holder","@type":"@id"},proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},verifiableCredential:{"@id":"cred:verifiableCredential","@type":"@id","@container":"@graph"}}},EcdsaSecp256k1Signature2019:{"@id":"https://w3id.org/security#EcdsaSecp256k1Signature2019","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},EcdsaSecp256r1Signature2019:{"@id":"https://w3id.org/security#EcdsaSecp256r1Signature2019","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},Ed25519Signature2018:{"@id":"https://w3id.org/security#Ed25519Signature2018","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},RsaSignature2018:{"@id":"https://w3id.org/security#RsaSignature2018","@context":{"@version":1.1,challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"}}},Lu["https://w3id.org/blockcerts/schema/2.0/context.json"]=Pu,Lu["https://www.blockcerts.org/schema/2.0/context.json"]=Pu,Lu["https://w3id.org/blockcerts/v2"]=Pu,Lu["https://w3id.org/blockcerts/schema/2.1/context.json"]=Tu,Lu["https://www.blockcerts.org/schema/2.1/context.json"]=Tu,Lu["https://w3id.org/blockcerts/v2.1"]=Tu,Lu["https://w3id.org/blockcerts/schema/3.0/context.json"]=Ou,Lu["https://www.blockcerts.org/schema/3.0/context.json"]=Ou,Lu["https://w3id.org/blockcerts/v3"]=Ou;var Nu={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2017:"sec:MerkleProof2017",RecipientProfile:"bc:RecipientProfile",SignatureLine:"bc:SignatureLine",MerkleProofVerification2017:"bc:MerkleProofVerification2017",recipientProfile:"bc:recipientProfile",signatureLines:"bc:signatureLines",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},subtitle:"bc:subtitle",jobTitle:"schema:jobTitle",creator:{"@id":"dc:creator","@type":"@id"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},revoked:{"@id":"sec:expiration","@type":"xsd:dateTime"},CryptographicKey:"sec:Key",signature:"sec:signature",verification:"bc:verification",publicKeys:"bc:publicKeys",ChainpointSHA256v2:"cp:ChainpointSHA256v2",BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"},"obi:validation":[{"obi:validatesType":"RecipientProfile","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0-alpha/recipientSchema.json"},{"obi:validatesType":"SignatureLine","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0-alpha/signatureLineSchema.json"},{"obi:validatesType":"MerkleProof2017","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0-alpha/merkleProof2017Schema.json"}]},Mu={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2019:"sec:MerkleProof2019",BlockcertsCredential:"bc:BlockcertsCredential",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},CryptographicKey:"sec:Key",domain:"sec:domain",nonce:"sec:nonce",proofValue:"sec:proofValue",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},created:{"@id":"bc:created","@type":"xsd:dateTime"},name:{"@id":"schema:name"}}},Uu={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",cp:"https://w3id.org/chainpoint#",vc:"https://www.w3.org/2018/credentials/v1",schema:"https://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2019:"sec:MerkleProof2019",BlockcertsCredential:"bc:BlockcertsCredential",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},metadata:"bc:metadata",display:{"@id":"bc:display","@context":{id:"@id",type:"@type",contentMediaType:{"@id":"bc:contentMediaType","@type":"@id"},contentEncoding:{"@id":"bc:contentEncoding","@type":"@id"},content:{"@id":"bc:content","@type":"@id"}}},CryptographicKey:"sec:Key",domain:"sec:domain",nonce:"sec:nonce",proofValue:"sec:proofValue",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},created:{"@id":"https://purl.org/dc/terms/created","@type":"xsd:dateTime"},challenge:"sec:challenge",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},name:{"@id":"schema:name"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},publicKey:{"@id":"sec:publicKey","@type":"@id"},url:{"@id":"schema:url","@type":"@id"},image:{"@id":"schema:image","@type":"@id"}}};Lu["https://w3id.org/blockcerts/schema/2.0-alpha/context.json"]=Nu,Lu["https://www.blockcerts.org/schema/2.0-alpha/context.json"]=Nu,Lu["https://www.blockcerts.org/schema/3.0-alpha/context.json"]=Mu,Lu["https://w3id.org/blockcerts/schema/3.0-alpha/context.json"]=Mu,Lu["https://w3id.org/blockcerts/v3.0-alpha"]=Mu,Lu["https://www.blockcerts.org/schema/3.0-beta/context.json"]=Uu,Lu["https://w3id.org/blockcerts/schema/3.0-beta/context.json"]=Uu,Lu["https://w3id.org/blockcerts/v3.0-beta"]=Uu,Lu["https://w3id.org/security/suites/ed25519-2020/v1"]={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2020:{"@id":"https://w3id.org/security#Ed25519VerificationKey2020","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyMultibase:{"@id":"https://w3id.org/security#publicKeyMultibase","@type":"https://w3id.org/security#multibase"}}},Ed25519Signature2020:{"@id":"https://w3id.org/security#Ed25519Signature2020","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},proofValue:{"@id":"https://w3id.org/security#proofValue","@type":"https://w3id.org/security#multibase"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}};var Fu={locale:"en-US"},Ru=Object.freeze({__proto__:null,isMainnet:function(e){return ku(e,"1")||ku(e,"ecdsa-koblitz-pubkey:1")}}),Du={locale:"en-US"},ju={"en-US":{steps:{formatValidationLabel:"Format validation",formatValidationLabelPending:"Validating format",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"Status check",statusCheckLabelPending:"Checking record status"},subSteps:{getTransactionIdLabel:"Get transaction ID",getTransactionIdLabelPending:"Getting transaction ID",computeLocalHashLabel:"Compute local hash",computeLocalHashLabelPending:"Computing local hash",fetchRemoteHashLabel:"Fetch remote hash",fetchRemoteHashLabelPending:"Fetching remote hash",getIssuerProfileLabel:"Get issuer profile",getIssuerProfileLabelPending:"Getting issuer profile",parseIssuerKeysLabel:"Parse issuer keys",parseIssuerKeysLabelPending:"Parsing issuer keys",compareHashesLabel:"Compare hashes",compareHashesLabelPending:"Comparing hashes",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Check Merkle Root",checkMerkleRootLabelPending:"Checking Merkle Root",checkReceiptLabel:"Check Receipt",checkReceiptLabelPending:"Checking Receipt",checkAuthenticityLabel:"Check Authenticity",checkAuthenticityLabelPending:"Checking Authenticity",checkRevokedStatusLabel:"Check Revoked Status",checkRevokedStatusLabelPending:"Checking Revoked Status",checkExpiresDateLabel:"Check Expiration Date",checkExpiresDateLabelPending:"Checking Expiration Date",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"Reason given:",reason:"This certificate has been revoked by the issuer."},success:{mocknet:{label:"This Mocknet credential passed all checks",description:"Mocknet credentials are used for test purposes only. They are not recorded on a blockchain, and they should not be considered verified Blockcerts."},blockchain:{label:"Verified",description:"This is a valid ${chain} certificate.",linkText:"View transaction link"},multisign:{label:"Verified",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"This is not a valid certificate",couldNotConfirmTx:"Could not confirm the transaction",ensureHashesEqual:"Computed hash does not match remote hash",ensureMerkleRootEqual:"Merkle root does not match remote hash.",ensureNotExpired:"This certificate has expired.",ensureValidReceipt:"The receipt is malformed. There was a problem navigating the merkle tree in the receipt.",failedJsonLdNormalization:"Failed JSON-LD normalization",foundUnmappedFields:"Found unmapped fields during JSON-LD normalization",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Didn't recognize chain value",getIssuerProfile:"Unable to get issuer profile",getRevokedAssertions:"Unable to get revocation assertions",getTransactionId:"Cannot verify this certificate without a transaction ID to compare against.",invalidMerkleReceipt:"Invalid Merkle Receipt. Proof hash did not match Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Cannot verify this certificate without a transaction ID to compare against.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"Unable to parse JSON out of issuer identification data.",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}},fr:{steps:{formatValidationLabel:"Validation du format",formatValidationLabelPending:"Validation du format",signatureVerificationLabel:"Vrification de la preuve",signatureVerificationLabelPending:"Vrification de la preuve",identityVerificationLabel:"Vrification de l'identit",identityVerificationLabelPending:"Vrification de l'identit",statusCheckLabel:"Vrification du status",statusCheckLabelPending:"Vrification du status"},subSteps:{getTransactionIdLabel:"Obtention de l'identifiant de transaction",getTransactionIdLabelPending:"Obtention de l'identifiant de transaction",computeLocalHashLabel:"Calcul du hash local",computeLocalHashLabelPending:"Calcul du hash local",fetchRemoteHashLabel:"Rcupration du hash distant",fetchRemoteHashLabelPending:"Rcupration du hash distant",getIssuerProfileLabel:"Obtention du profil de l'metteur",getIssuerProfileLabelPending:"Obtention du profil de l'metteur",parseIssuerKeysLabel:"Traitement des cls de l'metteur",parseIssuerKeysLabelPending:"Traitement des cls de l'metteur",compareHashesLabel:"Comparaison des hash",compareHashesLabelPending:"Comparaison des hashs",checkDocumentSignatureLabel:"Vrification de la signature du document",checkDocumentSignatureLabelPending:"Vrification de la signature du document",checkMerkleRootLabel:"Vrification du Merkle Root",checkMerkleRootLabelPending:"Vrification du  Merkle Root",checkReceiptLabel:"Vrification du reu",checkReceiptLabelPending:"Vrification du reu",checkAuthenticityLabel:"Vrification de l'authenticit",checkAuthenticityLabelPending:"Vrification de l'authenticit",checkRevokedStatusLabel:"Vrification du status de rvocation",checkRevokedStatusLabelPending:"Vrification du status de rvocation",checkExpiresDateLabel:"Vrification de la date d'expiration",checkExpiresDateLabelPending:"Vrification de la date d'expiration",controlVerificationMethodLabel:"Contrle de la Mthode de Vrification",controlVerificationMethodLabelPending:"Contrle de la Mthode de Vrification",retrieveVerificationMethodPublicKeyLabel:"Extraction de la cl publique depuis le document DID",retrieveVerificationMethodPublicKeyLabelPending:"Extraction de la cl publique depuis le document DID",deriveIssuingAddressFromPublicKeyLabel:"Drivation de l'adresse d'mission depuis la cl publique",deriveIssuingAddressFromPublicKeyLabelPending:"Drivation de l'adresse d'mission depuis la cl publique",compareIssuingAddressLabel:"Comparaison des adresses",compareIssuingAddressLabelPending:"Comparaison des adresses",checkImagesIntegrityLabel:"Vrification de l'Intgrit des Images",checkImagesIntegrityLabelPending:"Vrification de l'Intgrit des Images"},revocation:{preReason:"Raison :",reason:"Ce certificat a t rvoqu par l'metteur."},success:{mocknet:{label:"Cet enregistrement Mocknet a t vrifi",description:"Le mode Mocknet est utilis  des fins de tests uniquement. Ce Blockcert n'a pas t enregistr sur une blockchain, et en tant que tel ne peut pas tre considr un Blockcert valide."},blockchain:{label:"Vrifi",description:"Ceci est un certificat ${chain} valide.",linkText:"Voir la transaction"},multisign:{label:"Vrifi",description:"Toutes les signatures numriques de ce certificat ont t vrifies avec succs."}},errors:{certificateNotValid:"Certificat invalide",couldNotConfirmTx:"Impossible de confirmer la transaction",ensureHashesEqual:"Calcul du hash local diffrent du hash distant",ensureMerkleRootEqual:"Le Merkle root ne correspond pas au hash distant",ensureNotExpired:"Certificat expir",ensureValidReceipt:"Erreur d'criture du reu. Un problme est survenu lors de la navigation de l'arbre Merkle du reu.",failedJsonLdNormalization:"Erreur de normalisation JSON-LD",foundUnmappedFields:"Champs non lis dcouverts durant la normalisation JSON-LD",identityErrorBaseMessage:"Identit de l'metteur invalide",deriveIssuingAddressFromPublicKey:"Cette blockchain n'est pas supporte pour la vrification de l'identit dcentralise.",controlVerificationMethod:"Le document d'identit de l'metteur ne correspond pas  la mthode de vrification.",retrieveVerificationMethodPublicKey:"Le document d'identit de l'metteur ne fait pas mention de la mthode de vrification.",compareIssuingAddress:"La mthode de vrification n'a pas permis d'tablir l'identit de l'metteur.",invalidIssuingAddressCreationTime:"L'adresse d'mission utilise a t cre aprs la transaction d'enregistrement.",invalidIssuingAddressRevoked:"L'adresse d'mission utilise a t dcommissionne par l'metteur avant la transaction d'enregistrement.",invalidIssuingAddressExpired:"L'adresse d'mission utilise a expir avant la transaction.",invalidIssuingAddressUnknown:"L'adresse utilise pour mettre ce Blockcerts n'appartient  l'metteur dclar.",getChain:"Valeur de chaine non reconnue",getIssuerProfile:"Profil de l'metteur indisponible",getRevokedAssertions:"Impossible d'obtenir les raisons de revocation",getTransactionId:"Impossible de vrifier ce certificat sans un identifiant de transaction valide",invalidMerkleReceipt:"Reu Merkle invalide. Hash de preuve diffrent du Merkle root",invalidMerkleVersion:"La version du Merkle utilis est incompatible avec la version Blockcerts.",isTransactionIdValid:"Impossible de vrifier ce certificat sans un identifiant de transaction valide",issuerProfileNotSet:"l'URL de l'metteur n'est pas dfinie",issuerProfileInvalid:"le document distant ne semble pas tre un profil d'metteur valide",parseIssuerKeys:"Impossible de lire le JSON d'identification de l'metteur",checkImagesIntegrity:"La vrification des images a prouv que le contenu a t modifi aprs l'mission."}},es:{steps:{formatValidationLabel:"Validacin de formato",formatValidationLabelPending:"Validando el formato",signatureVerificationLabel:"Verificar prueba",signatureVerificationLabelPending:"Verificando prueba",identityVerificationLabel:"Verificar identitad",identityVerificationLabelPending:"Verificando identitad",statusCheckLabel:"Estado de Verificacin",statusCheckLabelPending:"Verificando Estado de Grabacin"},subSteps:{getTransactionIdLabel:"Obtener Identificacin de Transaccin",getTransactionIdLabelPending:"Obteniendo Identificacin de Transaccin",computeLocalHashLabel:"Calcular cadena binaria local",computeLocalHashLabelPending:"Calculando cadena binaria local",fetchRemoteHashLabel:"Obtener cadena binaria remota",fetchRemoteHashLabelPending:"Obeniendo cadena binaria remota",getIssuerProfileLabel:"Obtener perfil de emisor",getIssuerProfileLabelPending:"Obteniendo perfil de emisor",parseIssuerKeysLabel:"Analizar claves del emisor",parseIssuerKeysLabelPending:"Analizando claves del emisor",compareHashesLabel:"Comparar cadenas binarias",compareHashesLabelPending:"Comparando cadenas binarias",checkDocumentSignatureLabel:"Controlar firma del documento",checkDocumentSignatureLabelPending:"Controlando firma del documento",checkMerkleRootLabel:"Verificar Merkle Root",checkMerkleRootLabelPending:"Verificando Merkle Root",checkReceiptLabel:"Verificar Recibo",checkReceiptLabelPending:"Verificando Recibo",checkAuthenticityLabel:"Verificar Autenticidad",checkAuthenticityLabelPending:"Verificando Autenticidad",checkRevokedStatusLabel:"Verificar Estado de Revocacin",checkRevokedStatusLabelPending:"Verificando Estado de Revocacin",checkExpiresDateLabel:"Verificar Fechas de Expiracin",checkExpiresDateLabelPending:"Verificando Fechas de Expiracin",controlVerificationMethodLabel:"Controlar Metodo de Verificacin",controlVerificationMethodLabelPending:"Controlando Metodo de Verificacin",retrieveVerificationMethodPublicKeyLabel:"Extraer la llave pblica desde el documento DID",retrieveVerificationMethodPublicKeyLabelPending:"Extraendo la llave pblica desde el documento DID",deriveIssuingAddressFromPublicKeyLabel:"Derivar la direccin del emisor desde la llave pblica",deriveIssuingAddressFromPublicKeyLabelPending:"Derivando la direccin del emisor desde la llave pblica",compareIssuingAddressLabel:"Comparar direcciones",compareIssuingAddressLabelPending:"Comparando direcciones",checkImagesIntegrityLabel:"Comprobar Integridad de las Imagens",checkImagesIntegrityLabelPending:"Comprobando Integridad de las Imagens"},revocation:{preReason:"Razn dada:",reason:"Este certificado ha sido revocado por el emisor"},success:{mocknet:{label:"Esta credencial de Mocknet pas todas las comprobaciones",description:"Las credenciales de Mocknet se usan solo con fines de prueba. No se graban en una cadena de bloques, y no se deben considerar Blockcerts Verificados."},blockchain:{label:"Verificado",description:"Este es un certificado vlido de ${chain}.",linkText:"Ver enlace de transaccin"},multisign:{label:"Verificado",description:"Todas las firmas digitales de este certificado han verificado con xito."}},errors:{certificateNotValid:"Este no es un certificado vlido",couldNotConfirmTx:"No se ha podido confirmar la transaccin",ensureHashesEqual:"La cadena binaria calculada no corresponde con la cadena binaria remota",ensureMerkleRootEqual:"La raz Merkle no corresponde con la cadena binaria remota",ensureNotExpired:"Este certificado ha expirado",ensureValidReceipt:"El recibo est malformado. Hubo un problema navegando el rbol Merkle en el recibo",failedJsonLdNormalization:"La normalizacin del JSON-LD ha fallado",foundUnmappedFields:"Se han encontrado campos no mapeados durante la normalizacin de JSON-LD",identityErrorBaseMessage:"Identitad del emisor invlida",deriveIssuingAddressFromPublicKey:"No se puede validar la identitad decentalisada con esta cadena binaria.",controlVerificationMethod:"El documento de identitad del emisor no corresponde al metodo de verificacin.",retrieveVerificationMethodPublicKey:"El documento de identitad del emisor no hace constar al metodo de verificacin.",compareIssuingAddress:"El metodo de verificacin no corresponde a la identitad del emisor.",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Valor de cadena no reconocido",getIssuerProfile:"No se ha podido obtener el perfil del emisor",getRevokedAssertions:"No se ha podido obtener aseveraciones de revocacin",getTransactionId:"No se puede verificar este certificado sin una identificacin de transaccin que sirva como comparacin",invalidMerkleReceipt:"Recibo Merkle invlido. La cadena binaria de prueba no corresponde con la raz Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"No se puede verificar este certificado sin una identificacin de transaccin que sirva como comparacin",issuerProfileNotSet:"URL del emisor no definido",issuerProfileInvalid:"el documento recogido no parece ser un perfil de emisor valido",parseIssuerKeys:"No se ha podido analizar el JSON de la informacin de identificacin del emisor",checkImagesIntegrity:"La verificacin de la integridad de los imagens prov alteracin del contenido despus de la emisin."}},mt:{steps:{formatValidationLabel:"Validazzjoni tal-format",formatValidationLabelPending:"Il-format qed jii vvalidat",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"Status check",statusCheckLabelPending:"Ir-record status qed jii ekkjat"},subSteps:{getTransactionIdLabel:"Ikseb l-ID ta' tranazzjoni",getTransactionIdLabelPending:"L-ID ta' tranazzjoni qed tii mnila",computeLocalHashLabel:"Ikkalkula l-hash lokali",computeLocalHashLabelPending:"Il-hash lokali qed jii kkalkulat",fetchRemoteHashLabel:"Fittex ir-remote hash",fetchRemoteHashLabelPending:"Ir-remote hash qed jii mfittex",getIssuerProfileLabel:"Ikseb il-profil tal-emittent",getIssuerProfileLabelPending:"Il-profil tal-emittent qed jii mniel",parseIssuerKeysLabel:"Estratta -wievet tal-emittent",parseIssuerKeysLabelPending:"I-wievet tal-emittent qed jiu estratti",compareHashesLabel:"Ikkumpara l-hashes",compareHashesLabelPending:"Il-hashes qed jiu kkomparati",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Iekkja l-Merkle Root",checkMerkleRootLabelPending:"Il-Merkle Root Qed Tii ekkjata",checkReceiptLabel:"Iekkja l-Irevuta",checkReceiptLabelPending:"L-Irevuta Qed Tii ekkjata",checkAuthenticityLabel:"Iekkja l-Awtentiit",checkAuthenticityLabelPending:"L-Awtentiit Qed Tii ekkjata",checkRevokedStatusLabel:"Iekkja l-Istatus Revokat",checkRevokedStatusLabelPending:"L-Istatus Revokat Qed Jii ekkjat",checkExpiresDateLabel:"Iekkja d-Data ta' Skadenza",checkExpiresDateLabelPending:"Id-Data ta' Skadenza Qed Tii ekkjata",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"Rauni mogtija:",reason:"Dan i-ertifikat ie revokat mill-emittent."},success:{mocknet:{label:"Din il-kredenzjali tal-Mocknet gaddiet il-kontrolli kollha",description:"Il-kredenzjali tal-Mocknet jintuaw biss gal skopijiet ta 'ttestjar. Dawn mhumiex irreistrati fuq blockchain, u ma gandhomx jiu kkunsidrati bala blockcerts verifikati."},blockchain:{label:"Ivverifikat",description:"Dan huwa ertifikat ${chain} huwa validu.",linkText:"Ara l-link tat-transazzjoni"},multisign:{label:"Ivverifikat",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"Dan mhux ertifikat validu",couldNotConfirmTx:"Ma setgetx tii kkonfermata t-tranazzjoni",ensureHashesEqual:"Il-hash ikkalkulat ma jikkorrispondix mar-remote hash",ensureMerkleRootEqual:"Merkle root ma taqbilx mar-remote hash",ensureNotExpired:"Dan i-ertifikat skada",ensureValidReceipt:"L-irevuta hija malformata. Kien hemm problema fin-navigazzjoni tal-merkle tree fl-irevuta",failedJsonLdNormalization:"In-normalizzazzjoni ta' JSON-LD ma rnexxietx",foundUnmappedFields:"Instabu unmapped fields matul in-normalizzazzjoni JSON-LD",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"L-indirizz elettroniku tal-ru speifikat inoloq wara li seet it-tranazzjoni.",invalidIssuingAddressRevoked:"L-indirizz elettroniku tal-ru speifikat ie revokat mill-emittent qabel ma seet it-tranazzjoni.",invalidIssuingAddressExpired:"L-indirizz elettroniku tal-ru speifikat skada qabel ma seet it-tranazzjoni.",invalidIssuingAddressUnknown:"L-indirizz elettroniku uat biex jinaru dawn il-Blockcerts ma jappartjenix gall-emittent mitlub.",getChain:"I-chain value ma ntgarafx",getIssuerProfile:"Mhux possibbli jinkiseb il-profil tal-emittent",getRevokedAssertions:"Mhux possibbli jinkisbu dikjarazzjonijiet revokati",getTransactionId:"Dan i-ertifikat ma jistax jii vverifikat mingajr ID ta' tranazzjoni mqabbla miegu",invalidMerkleReceipt:"Irevuta Merkle invalida. Il-proof hash ma kienx jaqbel mal-Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Dan i-ertifikat ma jistax jii vverifikat mingajr ID ta' tranazzjoni mqabbla miegu",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"Ma jistax jii estratt JSON mid-data tal-identifikazzjoni tal-emittent",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}},"it-IT":{steps:{formatValidationLabel:"Convalidare formato",formatValidationLabelPending:"Convalida formato",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"Verificare stato",statusCheckLabelPending:"Verifica stato del record"},subSteps:{getTransactionIdLabel:"Ottenere ID transazione",getTransactionIdLabelPending:"Ottieni ID transazione",computeLocalHashLabel:"Calcolare hash locale",computeLocalHashLabelPending:"Calcola hash locale",fetchRemoteHashLabel:"Recuperare hash remoto",fetchRemoteHashLabelPending:"Recupera hash remoto",getIssuerProfileLabel:"Ottenere profilo issuer",getIssuerProfileLabelPending:"Ottieni profilo issuer",parseIssuerKeysLabel:"Analizzare chiavi issuer",parseIssuerKeysLabelPending:"Analizza chiavi issuer",compareHashesLabel:"Confrontare gli hash",compareHashesLabelPending:"Confronto hash",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Controllare radice di Merkle",checkMerkleRootLabelPending:"Controllo radice di Merkle",checkReceiptLabel:"Verificare ricevuta",checkReceiptLabelPending:"Verifica ricevuta",checkAuthenticityLabel:"Verificare autenticit",checkAuthenticityLabelPending:"Verifica autenticit",checkRevokedStatusLabel:"Verificare stato revocato",checkRevokedStatusLabelPending:"Verifica stato revocato",checkExpiresDateLabel:"Verificare data di scadenza",checkExpiresDateLabelPending:"Verifica data di scadenza",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"Motivo indicato:",reason:"Questo certificato  stato revocato dall'emittente."},success:{mocknet:{label:"Questo Blockcert simulato ha superato tutti i controlli.",description:"La modalit Mocknet  utilizzata solo dagli emittenti per testare il loro flusso di lavoro localmente. Questo Blockcert non  stato registrato su una blockchain e non dovrebbe essere considerato un Blockcert verificato."},blockchain:{label:"Verificato",description:"Questo  un certificato ${chain} valido.",linkText:"Vedi la transazione"},multisign:{label:"Verificato",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"Questo non  un certificato valido",couldNotConfirmTx:"Impossibile confermare la transazione",ensureHashesEqual:"L'hash calcolato non corrisponde all'hash remoto",ensureMerkleRootEqual:"La radice di Merkle non corrisponde all'hash remoto.",ensureNotExpired:"Questo certificato  scaduto.",ensureValidReceipt:"La ricevuta  malformata. C' stato un problema nella navigazione dell'albero di Merkle nella ricevuta.",failedJsonLdNormalization:"Normalizzazione JSON-LD fallita",foundUnmappedFields:"Campi non mappati trovati durante la normalizzazione JSON-LD",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Il valore della catena non  stato riconosciuto",getIssuerProfile:"Impossibile ottenere il profilo dell'emittente",getRevokedAssertions:"Impossibile ottenere le asserzioni di revoca",getTransactionId:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",invalidMerkleReceipt:"Ricevuta Merkle non valida. L'hash di prova non corrisponde alla radice di Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"Impossibile analizzare JSON dai dati di identificazione dell'emittente.",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}},ja:{steps:{formatValidationLabel:"",formatValidationLabelPending:"",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"",statusCheckLabelPending:""},subSteps:{getTransactionIdLabel:"ID",getTransactionIdLabelPending:"ID",computeLocalHashLabel:"",computeLocalHashLabelPending:"",fetchRemoteHashLabel:"",fetchRemoteHashLabelPending:"",getIssuerProfileLabel:"",getIssuerProfileLabelPending:"",parseIssuerKeysLabel:"",parseIssuerKeysLabelPending:"",compareHashesLabel:"",compareHashesLabelPending:"",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Merkle Root",checkMerkleRootLabelPending:"Merkle Root",checkReceiptLabel:"",checkReceiptLabelPending:"",checkAuthenticityLabel:"",checkAuthenticityLabelPending:"",checkRevokedStatusLabel:"",checkRevokedStatusLabelPending:"",checkExpiresDateLabel:"",checkExpiresDateLabelPending:"",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"",reason:""},success:{mocknet:{label:"Mocknet",description:"MocknetBlockcert"},blockchain:{label:"",description:"${chain}",linkText:""},multisign:{label:"",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"",couldNotConfirmTx:"",ensureHashesEqual:"",ensureMerkleRootEqual:"Merkle root",ensureNotExpired:"",ensureValidReceipt:"Merkle tree",failedJsonLdNormalization:"JSON-LD",foundUnmappedFields:"JSON-LD",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"",getIssuerProfile:"",getRevokedAssertions:"assertions",getTransactionId:"ID",invalidMerkleReceipt:"MerkleMerkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"ID",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"JSON",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}}};function Qu(e,t){return e&&t?ju[Du.locale]?ju[Du.locale][e]?ju[Du.locale][e][t]?ju[Du.locale][e][t]||"":"[missing locale item data]":"[missing locale group data]":"[missing locale data]":""}var Hu=Object.freeze({__proto__:null,detectLocale:function(){return navigator.language||Fu.locale},ensureIsSupported:function(e){var t,r=kp.i18n.getSupportedLanguages().map((function(e){return e.toLowerCase()}));if(!(t=r.includes(e.toLowerCase()))){var n=e.substr(0,2).toLowerCase(),i=r.map((function(e){return e.split("-")[0]})).indexOf(n);(t=i>-1)&&(e=r[i])}return t||(e=Fu.locale),function(e){var t=e.split("-");return t.length>1?"".concat(t[0].toLowerCase(),"-").concat(t[1].toUpperCase()):t[0].toLowerCase()}(e)},getText:Qu,getSupportedLanguages:function(){return Object.keys(ju)}});function Ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Ru.isMainnet(e)?Cu.bitcoin:Cu.testnet}function Vu(e){var t=Object.keys(Cu).map((function(e){return Cu[e]})).find((function(t){return t.signatureValue===e}));if(void 0===t)throw new Error(Qu("errors","getChain"));return t}var zu,qu,Gu=c((function e(t,r,n,i){s(this,e),l(this,"publicKey",void 0),l(this,"created",void 0),l(this,"revoked",void 0),l(this,"expires",void 0),this.publicKey=t,this.created=r,this.revoked=n,this.expires=i})),Wu=c((function e(t,r,n){s(this,e),l(this,"image",void 0),l(this,"jobTitle",void 0),l(this,"name",void 0),this.image=t,this.jobTitle=r,this.name=n})),Ju=function(e){f(r,e);var t=w(r);function r(e,n){var i;return s(this,r),l(m(i=t.call(this,n)),"stepCode",void 0),i.stepCode=e,i}return c(r)}(v(Error)),Xu=ju[Du.locale];function Yu(){var e;return l(e={},zu.formatValidation,{code:zu.formatValidation,label:Xu.steps.formatValidationLabel,labelPending:Xu.steps.formatValidationLabelPending,subSteps:[]}),l(e,zu.proofVerification,{code:zu.proofVerification,label:Xu.steps.signatureVerificationLabel,labelPending:Xu.steps.signatureVerificationLabelPending,subSteps:[]}),l(e,zu.identityVerification,{code:zu.identityVerification,label:Xu.steps.identityVerificationLabel,labelPending:Xu.steps.identityVerificationLabelPending,subSteps:[]}),l(e,zu.statusCheck,{code:zu.statusCheck,label:Xu.steps.statusCheckLabel,labelPending:Xu.steps.statusCheckLabelPending,subSteps:[]}),e}function $u(e,t){var r=e.findIndex((function(e){return e===t}));r>-1&&e.splice(r,1)}!function(e){e.formatValidation="formatValidation",e.proofVerification="proofVerification",e.identityVerification="identityVerification",e.statusCheck="statusCheck",e.final="final"}(zu||(zu={})),function(e){e.checkImagesIntegrity="checkImagesIntegrity",e.checkRevokedStatus="checkRevokedStatus",e.checkExpiresDate="checkExpiresDate",e.controlVerificationMethod="controlVerificationMethod"}(qu||(qu={})),Object.freeze({__proto__:null,final:"final",get VerificationSteps(){return zu},get SUB_STEPS(){return qu},default:Yu});var Zu=(l(ba={},zu.formatValidation,[qu.checkImagesIntegrity]),l(ba,zu.proofVerification,[]),l(ba,zu.identityVerification,[qu.controlVerificationMethod]),l(ba,zu.statusCheck,[qu.checkRevokedStatus,qu.checkExpiresDate]),ba);function ec(e,t){return Zu[e].filter((function(e){return t.includes(e)})).map((function(t){return kp.verifier.convertToVerificationSubsteps(e,t)}))}function tc(e){var t=Yu();return Object.keys(t).map((function(n){return r(r({},t[n]),{},{subSteps:ec(n,e)})}))}var rc,nc,ic=Object.freeze({__proto__:null,getChain:function(e,t){var r=t||null;if(null!=r&&r.anchors){var n=r.anchors[0];if(n.chain)return Vu(n.chain);if("string"==typeof n)return function(e){var t={btc:{chainName:Cu.bitcoin.name},eth:{chainName:Cu.ethmain.name}},r=e.split(":"),n=r.findIndex((function(e){return Object.keys(t).includes(e)}));if(n>-1){var i=r[n],a=r[n+1],o=t[i].chainName.toLowerCase()+function(e){var t=e.substr(0,1),r=e.substr(1,e.length-1);return t.toUpperCase()+r.toLowerCase()}(a);return Vu(o)}return Ku()}(n)}return Ku(e)},generateRevocationReason:function(e){return e=(e=e.trim()).length>0?" ".concat(Qu("revocation","preReason")," ").concat(e).concat("."!==e.slice(-1)?".":""):"","".concat(Qu("revocation","reason")).concat(e)},getTransactionId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.anchors,r=t[0];if(r.sourceId)return r.sourceId;if("string"==typeof r)return r.split(":").pop()}catch(e){throw new Ju("",Qu("errors","getTransactionId"))}},getTransactionLink:function(e,t){return e&&t?{rawTransactionLink:t.transactionTemplates.raw.replace("{transaction_id}",e),transactionLink:t.transactionTemplates.full.replace("{transaction_id}",e)}:null},getVerificationMap:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(e){var t=Object.values(qu);return e||$u(t,qu.controlVerificationMethod),t}(e);return{verificationProcess:t,verificationMap:tc(t)}}}),ac=Object.freeze({__proto__:null,isMockChain:function(e){if(e){var t="string"==typeof e?e:e.code;return!!Object.keys(Cu).some((function(e){return e===t}))&&!!Cu[t].test}return!1}});!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(rc||(rc={})),function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(nc||(nc={}));var oc=(l(wa={},nc.Bitcoin,{code:nc.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}}),l(wa,nc.Ethmain,{code:nc.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}}),l(wa,nc.Ethropst,{code:nc.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}}),l(wa,nc.Ethrinkeby,{code:nc.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}}),l(wa,nc.Mocknet,{code:nc.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}}),l(wa,nc.Regtest,{code:nc.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}}),l(wa,nc.Testnet,{code:nc.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}),wa);function sc(e){return e!==oc.bitcoin.code&&e!==oc.ethmain.code}var uc=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function cc(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return uc(this,void 0,void 0,n().mark((function i(){var a;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((e=Array.from(e)).length<t)){n.next=2;break}throw new Error("Could not retrieve tx data");case 2:return a=e.map((function(e,t){return e.then((function(){return t})).catch((function(e){throw t}))})),n.abrupt("return",Promise.race(a).then((function(n){return e.splice(n,1)[0].then((function(e){return r.push(e)})),1===t?r:cc(e,t-1,r)})).catch((function(n){return e.splice(n,1),cc(e,t,r)})));case 4:case"end":return n.stop()}}),i)})))}function lc(e){var t=e.explorerAPI,r=e.transactionIdPlaceholder,n=void 0===r?"{transaction_id}":r,i=e.transactionId,a=void 0===i?"":i,o=e.isTestApi,s=void 0!==o&&o,u=t.serviceURL,c="string"==typeof u?u:s?u.test:u.main;return c=function(e,t){if(!t.key)return e;if(t.key&&!t.keyPropertyName)throw new Error("No keyPropertyName defined for explorerAPI ".concat(t.serviceName));return function(e,t,r){var n=e.includes("?")?"&":"?";return"".concat(e).concat(n).concat(t,"=").concat(r)}(e,t.keyPropertyName,t.key)}(c=c.replace(n,a),t),c}function fc(){throw new Error("setTimeout has not been defined")}function hc(){throw new Error("clearTimeout has not been defined")}var Ac=fc,dc=hc;function pc(e){if(Ac===setTimeout)return setTimeout(e,0);if((Ac===fc||!Ac)&&setTimeout)return Ac=setTimeout,setTimeout(e,0);try{return Ac(e,0)}catch(t){try{return Ac.call(null,e,0)}catch(t){return Ac.call(this,e,0)}}}"function"==typeof Ca.setTimeout&&(Ac=setTimeout),"function"==typeof Ca.clearTimeout&&(dc=clearTimeout);var vc,gc=[],yc=!1,mc=-1;function bc(){yc&&vc&&(yc=!1,vc.length?gc=vc.concat(gc):mc=-1,gc.length&&wc())}function wc(){if(!yc){var e=pc(bc);yc=!0;for(var t=gc.length;t;){for(vc=gc,gc=[];++mc<t;)vc&&vc[mc].run();mc=-1,t=gc.length}vc=null,yc=!1,function(e){if(dc===clearTimeout)return clearTimeout(e);if((dc===hc||!dc)&&clearTimeout)return dc=clearTimeout,clearTimeout(e);try{dc(e)}catch(t){try{return dc.call(null,e)}catch(t){return dc.call(this,e)}}}(e)}}function xc(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];gc.push(new kc(e,t)),1!==gc.length||yc||pc(wc)}function kc(e,t){this.fun=e,this.array=t}function _c(){}kc.prototype.run=function(){this.fun.apply(null,this.array)};var Bc=_c,Ec=_c,Sc=_c,Cc=_c,Ic=_c,Pc=_c,Tc=_c,Oc=Ca.performance||{},Lc=Oc.now||Oc.mozNow||Oc.msNow||Oc.oNow||Oc.webkitNow||function(){return(new Date).getTime()},Nc=new Date,Mc={nextTick:xc,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Bc,addListener:Ec,once:Sc,off:Cc,removeListener:Ic,removeAllListeners:Pc,emit:Tc,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Lc.call(Oc),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Nc)/1e3}},Uc=/[^\x20-\x7E]/,Fc=/[\x2E\u3002\uFF0E\uFF61]/g,Rc={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Dc=Math.floor,jc=String.fromCharCode;/*! https://mths.be/punycode v1.4.1 by @mathias */function Qc(e){throw new RangeError(Rc[e])}function Hc(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function Kc(e,t,r){var n=0;for(e=r?Dc(e/700):e>>1,e+=Dc(e/t);e>455;n+=36)e=Dc(e/35);return Dc(n+36*e/(e+38))}function Vc(e){return function(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}((e=e.replace(Fc,".")).split("."),(function(e){return Uc.test(e)?"xn--"+function(e){var t,r,n,i,a,o,s,u,c,l,f,h,A,d,p,v=[];for(e=function(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}(e),h=e.length,t=128,r=0,a=72,o=0;o<h;++o)(f=e[o])<128&&v.push(jc(f));for(n=i=v.length,i&&v.push("-");n<h;){for(s=2147483647,o=0;o<h;++o)(f=e[o])>=t&&f<s&&(s=f);for(s-t>Dc((2147483647-r)/(A=n+1))&&Qc("overflow"),r+=(s-t)*A,t=s,o=0;o<h;++o)if((f=e[o])<t&&++r>2147483647&&Qc("overflow"),f==t){for(u=r,c=36;!(u<(l=c<=a?1:c>=a+26?26:c-a));c+=36)p=u-l,d=36-l,v.push(jc(Hc(l+p%d,0))),u=Dc(p/d);v.push(jc(Hc(u,0))),a=Kc(r,A,n==i),r=0,++n}++r,++t}return v.join("")}(e):e})).join(".");return n+i}(e)}var zc="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},qc=/%[sdj%]/g;function Gc(e){if(!cl(e)){for(var t=[],r=0;r<arguments.length;r++)t.push($c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(qc,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<i;o=n[++r])ol(o)||!Al(o)?a+=" "+o:a+=" "+$c(o);return a}function Wc(e,t){if(fl(Ca.process))return function(){return Wc(e,t).apply(this,arguments)};if(!0===Mc.noDeprecation)return e;var r=!1;return function(){if(!r){if(Mc.throwDeprecation)throw new Error(t);Mc.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}}var Jc,Xc={};function Yc(e){return fl(Jc)&&(Jc=Mc.env.NODE_DEBUG||""),e=e.toUpperCase(),Xc[e]||(new RegExp("\\b"+e+"\\b","i").test(Jc)?Xc[e]=function(){var t=Gc.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:Xc[e]=function(){}),Xc[e]}function $c(e,t){var r={seen:[],stylize:el};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),al(t)?r.showHidden=t:t&&_l(r,t),fl(r.showHidden)&&(r.showHidden=!1),fl(r.depth)&&(r.depth=2),fl(r.colors)&&(r.colors=!1),fl(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Zc),tl(r,e,r.depth)}function Zc(e,t){var r=$c.styles[t];return r?"["+$c.colors[r][0]+"m"+e+"["+$c.colors[r][1]+"m":e}function el(e,t){return e}function tl(e,t,r){if(e.customInspect&&t&&vl(t.inspect)&&t.inspect!==$c&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return cl(n)||(n=tl(e,n,r)),n}var i=function(e,t){if(fl(t))return e.stylize("undefined","undefined");if(cl(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return ul(t)?e.stylize(""+t,"number"):al(t)?e.stylize(""+t,"boolean"):ol(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var a=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),pl(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return rl(t);if(0===a.length){if(vl(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(hl(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(dl(t))return e.stylize(Date.prototype.toString.call(t),"date");if(pl(t))return rl(t)}var u,c="",l=!1,f=["{","}"];return il(t)&&(l=!0,f=["[","]"]),vl(t)&&(c=" [Function"+(t.name?": "+t.name:"")+"]"),hl(t)&&(c=" "+RegExp.prototype.toString.call(t)),dl(t)&&(c=" "+Date.prototype.toUTCString.call(t)),pl(t)&&(c=" "+rl(t)),0!==a.length||l&&0!=t.length?r<0?hl(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=l?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)Bl(t,String(o))?a.push(nl(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(nl(e,t,r,n,i,!0))})),a}(e,t,r,o,a):a.map((function(n){return nl(e,t,r,o,n,l)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,c,f)):f[0]+c+f[1]}function rl(e){return"["+Error.prototype.toString.call(e)+"]"}function nl(e,t,r,n,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),Bl(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=ol(r)?tl(e,u.value,null):tl(e,u.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),fl(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function il(e){return Array.isArray(e)}function al(e){return"boolean"==typeof e}function ol(e){return null===e}function sl(e){return null==e}function ul(e){return"number"==typeof e}function cl(e){return"string"==typeof e}function ll(e){return"symbol"==i(e)}function fl(e){return void 0===e}function hl(e){return Al(e)&&"[object RegExp]"===ml(e)}function Al(e){return"object"==i(e)&&null!==e}function dl(e){return Al(e)&&"[object Date]"===ml(e)}function pl(e){return Al(e)&&("[object Error]"===ml(e)||e instanceof Error)}function vl(e){return"function"==typeof e}function gl(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==i(e)||void 0===e}function yl(e){return Eo(e)}function ml(e){return Object.prototype.toString.call(e)}function bl(e){return e<10?"0"+e.toString(10):e.toString(10)}$c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var wl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xl(){var e=new Date,t=[bl(e.getHours()),bl(e.getMinutes()),bl(e.getSeconds())].join(":");return[e.getDate(),wl[e.getMonth()],t].join(" ")}function kl(){console.log("%s - %s",xl(),Gc.apply(null,arguments))}function _l(e,t){if(!t||!Al(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Bl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var El={inherits:zc,_extend:_l,log:kl,isBuffer:yl,isPrimitive:gl,isFunction:vl,isError:pl,isDate:dl,isObject:Al,isRegExp:hl,isUndefined:fl,isSymbol:ll,isString:cl,isNumber:ul,isNullOrUndefined:sl,isNull:ol,isBoolean:al,isArray:il,inspect:$c,deprecate:Wc,format:Gc,debuglog:Yc},Sl=Object.freeze({__proto__:null,format:Gc,deprecate:Wc,debuglog:Yc,inspect:$c,isArray:il,isBoolean:al,isNull:ol,isNullOrUndefined:sl,isNumber:ul,isString:cl,isSymbol:ll,isUndefined:fl,isRegExp:hl,isObject:Al,isDate:dl,isError:pl,isFunction:vl,isPrimitive:gl,isBuffer:yl,log:kl,inherits:zc,_extend:_l,default:El});function Cl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Il=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Pl(e){switch(i(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function Tl(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var Ol=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function Ll(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var u=0;u<s;++u){var c,l,f,h,A=e[u].replace(a,"%20"),d=A.indexOf(r);d>=0?(c=A.substr(0,d),l=A.substr(d+1)):(c=A,l=""),f=decodeURIComponent(c),h=decodeURIComponent(l),Cl(i,f)?Il(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i}var Nl={parse:Wl,resolve:$l,resolveObject:Zl,format:Xl,Url:Ml};function Ml(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ul=/^([a-z0-9.+-]+:)/i,Fl=/:[0-9]*$/,Rl=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Dl=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),jl=["'"].concat(Dl),Ql=["%","/","?",";","#"].concat(jl),Hl=["/","?","#"],Kl=/^[+a-z0-9A-Z_-]{0,63}$/,Vl=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zl={javascript:!0,"javascript:":!0},ql={javascript:!0,"javascript:":!0},Gl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Wl(e,t,r){if(e&&Al(e)&&e instanceof Ml)return e;var n=new Ml;return n.parse(e,t,r),n}function Jl(e,t,r,n){if(!cl(t))throw new TypeError("Parameter 'url' must be a string, not "+i(t));var a=t.indexOf("?"),o=-1!==a&&a<t.indexOf("#")?"?":"#",s=t.split(o);s[0]=s[0].replace(/\\/g,"/");var u=t=s.join(o);if(u=u.trim(),!n&&1===t.split("#").length){var c=Rl.exec(u);if(c)return e.path=u,e.href=u,e.pathname=c[1],c[2]?(e.search=c[2],e.query=r?Ll(e.search.substr(1)):e.search.substr(1)):r&&(e.search="",e.query={}),e}var l,f,h,A,d=Ul.exec(u);if(d){var p=(d=d[0]).toLowerCase();e.protocol=p,u=u.substr(d.length)}if(n||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===u.substr(0,2);!v||d&&ql[d]||(u=u.substr(2),e.slashes=!0)}if(!ql[d]&&(v||d&&!Gl[d])){var g,y,m=-1;for(l=0;l<Hl.length;l++)-1!==(f=u.indexOf(Hl[l]))&&(-1===m||f<m)&&(m=f);for(-1!==(y=-1===m?u.lastIndexOf("@"):u.lastIndexOf("@",m))&&(g=u.slice(0,y),u=u.slice(y+1),e.auth=decodeURIComponent(g)),m=-1,l=0;l<Ql.length;l++)-1!==(f=u.indexOf(Ql[l]))&&(-1===m||f<m)&&(m=f);-1===m&&(m=u.length),e.host=u.slice(0,m),u=u.slice(m),ef(e),e.hostname=e.hostname||"";var b="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!b){var w=e.hostname.split(/\./);for(l=0,h=w.length;l<h;l++){var x=w[l];if(x&&!x.match(Kl)){for(var k="",_=0,B=x.length;_<B;_++)x.charCodeAt(_)>127?k+="x":k+=x[_];if(!k.match(Kl)){var E=w.slice(0,l),S=w.slice(l+1),C=x.match(Vl);C&&(E.push(C[1]),S.unshift(C[2])),S.length&&(u="/"+S.join(".")+u),e.hostname=E.join(".");break}}}}e.hostname.length>255?e.hostname="":e.hostname=e.hostname.toLowerCase(),b||(e.hostname=Vc(e.hostname)),A=e.port?":"+e.port:"";var I=e.hostname||"";e.host=I+A,e.href+=e.host,b&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!zl[p])for(l=0,h=jl.length;l<h;l++){var P=jl[l];if(-1!==u.indexOf(P)){var T=encodeURIComponent(P);T===P&&(T=escape(P)),u=u.split(P).join(T)}}var O=u.indexOf("#");-1!==O&&(e.hash=u.substr(O),u=u.slice(0,O));var L=u.indexOf("?");if(-1!==L?(e.search=u.substr(L),e.query=u.substr(L+1),r&&(e.query=Ll(e.query)),u=u.slice(0,L)):r&&(e.search="",e.query={}),u&&(e.pathname=u),Gl[p]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){A=e.pathname||"";var N=e.search||"";e.path=A+N}return e.href=Yl(e),e}function Xl(e){return cl(e)&&(e=Jl({},e)),Yl(e)}function Yl(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",a=e.hash||"",o=!1,s="";e.host?o=t+e.host:e.hostname&&(o=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(o+=":"+e.port)),e.query&&Al(e.query)&&Object.keys(e.query).length&&(s=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==i(e)?Tl(Ol(e),(function(n){var i=encodeURIComponent(Pl(n))+r;return Il(e[n])?Tl(e[n],(function(e){return i+encodeURIComponent(Pl(e))})).join(t):i+encodeURIComponent(Pl(e[n]))})).join(t):""}(e.query));var u=e.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||Gl[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),a&&"#"!==a.charAt(0)&&(a="#"+a),u&&"?"!==u.charAt(0)&&(u="?"+u),r+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(u=u.replace("#","%23"))+a}function $l(e,t){return Wl(e,!1,!0).resolve(t)}function Zl(e,t){return e?Wl(e,!1,!0).resolveObject(t):t}function ef(e){var t=e.host,r=Fl.exec(t);r&&(":"!==(r=r[0])&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}Ml.prototype.parse=function(e,t,r){return Jl(this,e,t,r)},Ml.prototype.format=function(){return Yl(this)},Ml.prototype.resolve=function(e){return this.resolveObject(Wl(e,!1,!0)).format()},Ml.prototype.resolveObject=function(e){if(cl(e)){var t=new Ml;t.parse(e,!1,!0),e=t}for(var r,n=new Ml,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=e[c])}return Gl[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Gl[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var h=l[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||ql[e.protocol])n.pathname=e.pathname;else{for(r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var A=n.pathname||"",d=n.search||"";n.path=A+d}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var p,v=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=g||v||n.host&&e.pathname,m=y,b=n.pathname&&n.pathname.split("/")||[],w=n.protocol&&!Gl[n.protocol];if(r=e.pathname&&e.pathname.split("/")||[],w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),y=y&&(""===r[0]||""===b[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=r;else if(r.length)b||(b=[]),b.pop(),b=b.concat(r),n.search=e.search,n.query=e.query;else if(!sl(e.search))return w&&(n.hostname=n.host=b.shift(),(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),n.search=e.search,n.query=e.query,ol(n.pathname)&&ol(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=b.slice(-1)[0],k=(n.host||e.host||b.length>1)&&("."===x||".."===x)||""===x,_=0,B=b.length;B>=0;B--)"."===(x=b[B])?b.splice(B,1):".."===x?(b.splice(B,1),_++):_&&(b.splice(B,1),_--);if(!y&&!m)for(;_--;_)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),k&&"/"!==b.join("/").substr(-1)&&b.push("");var E=""===b[0]||b[0]&&"/"===b[0].charAt(0);return w&&(n.hostname=n.host=E?"":b.length?b.shift():"",(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),(y=y||n.host&&b.length)&&!E&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),ol(n.pathname)&&ol(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Ml.prototype.parseHost=function(){return ef(this)};var tf,rf,nf=Ea(Object.freeze({__proto__:null,parse:Wl,resolve:$l,resolveObject:Zl,format:Xl,default:Nl,Url:Ml})),af=Ea(Object.freeze({__proto__:null,default:{}})),of=pf(Ca.fetch)&&pf(Ca.ReadableStream);function sf(e){rf||(rf=new Ca.XMLHttpRequest).open("GET",Ca.location.host?"/":"https://example.com");try{return rf.responseType=e,rf.responseType===e}catch(e){return!1}}var uf=void 0!==Ca.ArrayBuffer,cf=uf&&pf(Ca.ArrayBuffer.prototype.slice),lf=uf&&sf("arraybuffer"),ff=!of&&cf&&sf("ms-stream"),hf=!of&&uf&&sf("moz-chunked-arraybuffer"),Af=pf(rf.overrideMimeType),df=pf(Ca.VBArray);function pf(e){return"function"==typeof e}function vf(){}function gf(){gf.init.call(this)}function yf(e){return void 0===e._maxListeners?gf.defaultMaxListeners:e._maxListeners}function mf(e,t,r){if(t)e.call(r);else for(var n=e.length,i=Sf(e,n),a=0;a<n;++a)i[a].call(r)}function bf(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,a=Sf(e,i),o=0;o<i;++o)a[o].call(r,n)}function wf(e,t,r,n,i){if(t)e.call(r,n,i);else for(var a=e.length,o=Sf(e,a),s=0;s<a;++s)o[s].call(r,n,i)}function xf(e,t,r,n,i,a){if(t)e.call(r,n,i,a);else for(var o=e.length,s=Sf(e,o),u=0;u<o;++u)s[u].call(r,n,i,a)}function kf(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,a=Sf(e,i),o=0;o<i;++o)a[o].apply(r,n)}function _f(e,t,r,n){var i,a,o,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]):(a=e._events=new vf,e._eventsCount=0),o){if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=yf(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"==typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=r,++e._eventsCount;return e}function Bf(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function Ef(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function Sf(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}rf=null,vf.prototype=Object.create(null),gf.EventEmitter=gf,gf.usingDomains=!1,gf.prototype.domain=void 0,gf.prototype._events=void 0,gf.prototype._maxListeners=void 0,gf.defaultMaxListeners=10,gf.init=function(){this.domain=null,gf.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new vf,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},gf.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},gf.prototype.getMaxListeners=function(){return yf(this)},gf.prototype.emit=function(e){var t,r,n,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(r=o[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:mf(r,l,this);break;case 2:bf(r,l,this,arguments[1]);break;case 3:wf(r,l,this,arguments[1],arguments[2]);break;case 4:xf(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),a=1;a<n;a++)i[a-1]=arguments[a];kf(r,l,this,i)}return!0},gf.prototype.addListener=function(e,t){return _f(this,e,t,!1)},gf.prototype.on=gf.prototype.addListener,gf.prototype.prependListener=function(e,t){return _f(this,e,t,!0)},gf.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Bf(this,e,t)),this},gf.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Bf(this,e,t)),this},gf.prototype.removeListener=function(e,t){var r,n,i,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new vf:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new vf,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,o||t)}return this},gf.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new vf,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new vf:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),a=0;a<i.length;++a)"removeListener"!==(n=i[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new vf,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},gf.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},gf.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Ef.call(e,t)},gf.prototype.listenerCount=Ef,gf.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Cf=Object.freeze({__proto__:null,default:gf,EventEmitter:gf});function If(){this.head=null,this.tail=null,this.length=0}If.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},If.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},If.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},If.prototype.clear=function(){this.head=this.tail=null,this.length=0},If.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},If.prototype.concat=function(e){if(0===this.length)return Ka.alloc(0);if(1===this.length)return this.head.data;for(var t=Ka.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Pf=Ka.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Tf(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Pf(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Lf;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Nf;break;default:return void(this.write=Of)}this.charBuffer=new Ka(6),this.charReceived=0,this.charLength=0}function Of(e){return e.toString(this.encoding)}function Lf(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Nf(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}Tf.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(n=t.charCodeAt(i))>=55296&&n<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,i)}return t},Tf.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},Tf.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var Mf=Object.freeze({__proto__:null,StringDecoder:Tf});Rf.ReadableState=Ff;var Uf=Yc("stream");function Ff(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof fh&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new If,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Tf(e.encoding),this.encoding=e.encoding)}function Rf(e){if(!(this instanceof Rf))return new Rf(e);this._readableState=new Ff(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),gf.call(this)}function Df(e,t,r,n,i){var a=function(e,t){var r=null;return Eo(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(t,r);if(a)e.emit("error",a);else if(null===r)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Qf(e)}}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var u;!t.decoder||i||n||(r=t.decoder.write(r),u=!t.objectMode&&0===r.length),i||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Qf(e))),function(e,t){t.readingMore||(t.readingMore=!0,xc(Kf,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}function jf(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function Qf(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Uf("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?xc(Hf,e):Hf(e))}function Hf(e){Uf("emit readable"),e.emit("readable"),qf(e)}function Kf(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Uf("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function Vf(e){Uf("readable nexttick read 0"),e.read(0)}function zf(e,t){t.reading||(Uf("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),qf(e),t.flowing&&!t.reading&&e.read(0)}function qf(e){var t=e._readableState;for(Uf("flow",t.flowing);t.flowing&&null!==e.read(););}function Gf(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0==(e-=o)){o===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=Ka.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0==(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function Wf(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,xc(Jf,t,e))}function Jf(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Xf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Yf(){}function $f(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function Zf(e,t){Object.defineProperty(this,"buffer",{get:Wc((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof fh&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?xc(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var a=ih(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||nh(e,r),n?xc(rh,e,r,a,i):rh(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new sh(this)}function eh(e){if(!(this instanceof eh||this instanceof fh))return new eh(e);this._writableState=new Zf(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),gf.call(this)}function th(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function rh(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),oh(e,t)}function nh(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;th(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new sh(t)}else{for(;r;){var s=r.chunk,u=r.encoding,c=r.callback;if(th(e,t,!1,t.objectMode?1:s.length,s,u,c),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function ih(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function ah(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function oh(e,t){var r=ih(t);return r&&(0===t.pendingcb?(ah(e,t),t.finished=!0,e.emit("finish")):ah(e,t)),r}function sh(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}zc(Rf,gf),Rf.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=Ka.from(e,t),t=""),Df(this,r,e,t,!1)},Rf.prototype.unshift=function(e){return Df(this,this._readableState,e,"",!0)},Rf.prototype.isPaused=function(){return!1===this._readableState.flowing},Rf.prototype.setEncoding=function(e){return this._readableState.decoder=new Tf(e),this._readableState.encoding=e,this},Rf.prototype.read=function(e){Uf("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Uf("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Wf(this):Qf(this),null;if(0===(e=jf(e,t))&&t.ended)return 0===t.length&&Wf(this),null;var n,i=t.needReadable;return Uf("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&Uf("length less than watermark",i=!0),t.ended||t.reading?Uf("reading or ended",i=!1):i&&(Uf("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=jf(r,t))),null===(n=e>0?Gf(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Wf(this)),null!==n&&this.emit("data",n),n},Rf.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Rf.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Uf("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end?c:o;function a(e){Uf("onunpipe"),e===r&&c()}function o(){Uf("onend"),e.end()}n.endEmitted?xc(i):r.once("end",i),e.on("unpipe",a);var s=function(e){return function(){var t=e._readableState;Uf("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,qf(e))}}(r);e.on("drain",s);var u=!1;function c(){Uf("cleanup"),e.removeListener("close",A),e.removeListener("finish",d),e.removeListener("drain",s),e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",c),r.removeListener("data",f),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s()}var l=!1;function f(t){Uf("ondata"),l=!1,!1!==e.write(t)||l||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==Xf(n.pipes,e))&&!u&&(Uf("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function h(t){Uf("onerror",t),p(),e.removeListener("error",h),0===function(e,t){return e.listeners("error").length}(e)&&e.emit("error",t)}function A(){e.removeListener("finish",d),p()}function d(){Uf("onfinish"),e.removeListener("close",A),p()}function p(){Uf("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",A),e.once("finish",d),e.emit("pipe",r),n.flowing||(Uf("pipe resume"),r.resume()),e},Rf.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var a=Xf(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},Rf.prototype.on=function(e,t){var r=gf.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Qf(this):xc(Vf,this))}return r},Rf.prototype.addListener=Rf.prototype.on,Rf.prototype.resume=function(){var e=this._readableState;return e.flowing||(Uf("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,xc(zf,e,t))}(this,e)),this},Rf.prototype.pause=function(){return Uf("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Uf("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Rf.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(Uf("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){Uf("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r])}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){Uf("wrapped _read",t),r&&(r=!1,e.resume())},n},Rf._fromList=Gf,eh.WritableState=Zf,zc(eh,gf),Zf.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},eh.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},eh.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),Ka.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=Yf),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),xc(t,r)}(this,r):function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):Ka.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),xc(n,a),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Ka.from(t,r)),t}(t,r,n),Ka.isBuffer(r)&&(n="buffer");var a=t.objectMode?1:r.length;t.length+=a;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new $f(r,n,i),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else th(e,t,!1,a,r,n,i);return o}(this,n,e,t,r)),i},eh.prototype.cork=function(){this._writableState.corked++},eh.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||nh(this,e))},eh.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},eh.prototype._write=function(e,t,r){r(new Error("not implemented"))},eh.prototype._writev=null,eh.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,oh(e,t),r&&(t.finished?xc(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},zc(fh,Rf);for(var uh=Object.keys(eh.prototype),ch=0;ch<uh.length;ch++){var lh=uh[ch];fh.prototype[lh]||(fh.prototype[lh]=eh.prototype[lh])}function fh(e){if(!(this instanceof fh))return new fh(e);Rf.call(this,e),eh.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",hh)}function hh(){this.allowHalfOpen||this._writableState.ended||xc(Ah,this)}function Ah(e){e.end()}function dh(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function ph(e){if(!(this instanceof ph))return new ph(e);fh.call(this,e),this._transformState=new dh(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){vh(t,e)})):vh(t)}))}function vh(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function gh(e){if(!(this instanceof gh))return new gh(e);ph.call(this,e)}function yh(){gf.call(this)}zc(ph,fh),ph.prototype.push=function(e,t){return this._transformState.needTransform=!1,fh.prototype.push.call(this,e,t)},ph.prototype._transform=function(e,t,r){throw new Error("Not implemented")},ph.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},ph.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},zc(gh,ph),gh.prototype._transform=function(e,t,r){r(null,e)},zc(yh,gf),yh.Readable=Rf,yh.Writable=eh,yh.Duplex=fh,yh.Transform=ph,yh.PassThrough=gh,yh.Stream=yh,yh.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",s));var a=!1;function o(){a||(a=!0,e.end())}function s(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===gf.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",s),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};var mh=Object.freeze({__proto__:null,default:yh,Readable:Rf,Writable:eh,Duplex:fh,Transform:ph,PassThrough:gh,Stream:yh});function bh(e,t,r){var n,i=this;if(Rf.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",(function(){xc((function(){i.emit("close")}))})),"fetch"===r){i._fetchResponse=t,i.url=t.url,i.statusCode=t.status,i.statusMessage=t.statusText;for(var a,o,s=t.headers[Symbol.iterator]();a=(o=s.next()).value,!o.done;)i.headers[a[0].toLowerCase()]=a[1],i.rawHeaders.push(a[0],a[1]);var u=t.body.getReader();(n=function(){u.read().then((function(e){i._destroyed||(e.done?i.push(null):(i.push(new Ka(e.value)),n()))}))})()}else if(i._xhr=e,i._pos=0,i.url=e.responseURL,i.statusCode=e.status,i.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===i.headers[r]&&(i.headers[r]=[]),i.headers[r].push(t[2])):void 0!==i.headers[r]?i.headers[r]+=", "+t[2]:i.headers[r]=t[2],i.rawHeaders.push(t[1],t[2])}})),i._charset="x-user-defined",!Af){var c=i.rawHeaders["mime-type"];if(c){var l=c.match(/;\s*charset=([^;])(;|$)/);l&&(i._charset=l[1].toLowerCase())}i._charset||(i._charset="utf-8")}}function wh(e){var t,r=this;eh.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new Ka(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!Af;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return of&&t?"fetch":hf?"moz-chunked-arraybuffer":ff?"ms-stream":lf&&e?"arraybuffer":df&&e?"text:vbarray":"text"}(t,n),r.on("finish",(function(){r._onFinish()}))}zc(bh,Rf),bh.prototype._read=function(){},bh.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(4!==t.readyState)break;try{r=new Ca.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new Ka(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if("x-user-defined"===e._charset){for(var i=new Ka(n.length),a=0;a<n.length;a++)i[a]=255&n.charCodeAt(a);e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(4!==t.readyState||!t.response)break;r=t.response,e.push(new Ka(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,3!==t.readyState||!r)break;e.push(new Ka(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,3!==t.readyState)break;var o=new Ca.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new Ka(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(r)}4===e._xhr.readyState&&"ms-stream"!==e._mode&&e.push(null)},zc(wh,eh);var xh=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];function kh(e,t){"string"==typeof e&&(e=Wl(e));var r=-1===Ca.location.protocol.search(/^https?:$/)?"http:":"",n=e.protocol||r,i=e.hostname||e.host,a=e.port,o=e.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(a?":"+a:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var s=new wh(e);return t&&s.on("response",t),s}function _h(e,t){var r=kh(e,t);return r.end(),r}function Bh(){}wh.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===xh.indexOf(r)&&(this._headers[r]={name:e,value:t})},wh.prototype.getHeader=function(e){return this._headers[e.toLowerCase()].value},wh.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},wh.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,n=e._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(t=function(){if(void 0!==tf)return tf;try{new Ca.Blob([new ArrayBuffer(1)]),tf=!0}catch(e){tf=!1}return tf}()?new Ca.Blob(e._body.map((function(e){return function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(Eo(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}(e)})),{type:(n["content-type"]||{}).value||""}):Ka.concat(e._body).toString()),"fetch"===e._mode){var i=Object.keys(n).map((function(e){return[n[e].name,n[e].value]}));Ca.fetch(e._opts.url,{method:e._opts.method,headers:i,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){e.emit("error",t)}))}else{var a=e._xhr=new Ca.XMLHttpRequest;try{a.open(e._opts.method,e._opts.url,!0)}catch(t){return void xc((function(){e.emit("error",t)}))}"responseType"in a&&(a.responseType=e._mode.split(":")[0]),"withCredentials"in a&&(a.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(n).forEach((function(e){a.setRequestHeader(n[e].name,n[e].value)})),e._response=null,a.onreadystatechange=function(){switch(a.readyState){case 3:case 4:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(a.onprogress=function(){e._onXHRProgress()}),a.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{a.send(t)}catch(t){return void xc((function(){e.emit("error",t)}))}}}},wh.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},wh.prototype._connect=function(){var e=this;e._destroyed||(e._response=new bh(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},wh.prototype._write=function(e,t,r){this._body.push(e),r()},wh.prototype.abort=wh.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},wh.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),eh.prototype.end.call(this,e,t,r)},wh.prototype.flushHeaders=function(){},wh.prototype.setTimeout=function(){},wh.prototype.setNoDelay=function(){},wh.prototype.setSocketKeepAlive=function(){},Bh.defaultMaxSockets=4;var Eh=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Sh={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Ch={request:kh,get:_h,Agent:Bh,METHODS:Eh,STATUS_CODES:Sh},Ih=Ea(Object.freeze({__proto__:null,request:kh,get:_h,Agent:Bh,METHODS:Eh,STATUS_CODES:Sh,default:Ch})),Ph=nf,Th=af.spawn,Oh=af,Lh=function(){var e,t,r=this,n=Ih,i=Ih,a={},o=!1,s={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},u={},c={},l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],f=["TRACE","TRACK","CONNECT"],h=!1,A=!1,d={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1,this.open=function(e,t,r,n,i){if(this.abort(),A=!1,!function(e){return e&&-1===f.indexOf(e)}(e))throw new Error("SecurityError: Request method not allowed");a={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},p(this.OPENED)},this.setDisableHeaderCheck=function(e){o=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(function(e){return o||e&&-1===l.indexOf(e.toLowerCase())}(e)){if(h)throw new Error("INVALID_STATE_ERR: send flag is true");e=c[e.toLowerCase()]||e,c[e.toLowerCase()]=e,u[e]=u[e]?u[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&t&&t.headers&&t.headers[e.toLowerCase()]&&!A?t.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||A)return"";var e="";for(var r in t.headers)"set-cookie"!==r&&"set-cookie2"!==r&&(e+=r+": "+t.headers[r]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&c[e.toLowerCase()]?u[c[e.toLowerCase()]]:""},this.send=function(o){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(h)throw new Error("INVALID_STATE_ERR: send has already been called");var l,f=!1,d=!1,v=Ph.parse(a.url);switch(v.protocol){case"https:":f=!0;case"http:":l=v.hostname;break;case"file:":d=!0;break;case void 0:case null:case"":l="localhost";break;default:throw new Error("Protocol not supported.")}if(d){if("GET"!==a.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(a.async)Oh.readFile(v.pathname,"utf8",(function(e,t){e?r.handleError(e):(r.status=200,r.responseText=t,p(r.DONE))}));else try{this.responseText=Oh.readFileSync(v.pathname,"utf8"),this.status=200,p(r.DONE)}catch(e){this.handleError(e)}}else{var g=v.port||(f?443:80),y=v.pathname+(v.search?v.search:"");for(var m in s)c[m.toLowerCase()]||(u[m]=s[m]);if(u.Host=l,f&&443===g||80===g||(u.Host+=":"+v.port),a.user){void 0===a.password&&(a.password="");var b=new Ka(a.user+":"+a.password);u.Authorization="Basic "+b.toString("base64")}"GET"===a.method||"HEAD"===a.method?o=null:o?(u["Content-Length"]=Eo(o)?o.length:Ka.byteLength(o),u["Content-Type"]||(u["Content-Type"]="text/plain;charset=UTF-8")):"POST"===a.method&&(u["Content-Length"]=0);var w={host:l,port:g,path:y,method:a.method,headers:u,agent:!1,withCredentials:r.withCredentials};if(A=!1,a.async){var x=f?i.request:n.request;h=!0,r.dispatchEvent("readystatechange");var k=function(e){r.handleError(e)};e=x(w,(function n(i){if(301!==(t=i).statusCode&&302!==t.statusCode&&303!==t.statusCode&&307!==t.statusCode)t.setEncoding("utf8"),p(r.HEADERS_RECEIVED),r.status=t.statusCode,t.on("data",(function(e){e&&(r.responseText+=e),h&&p(r.LOADING)})),t.on("end",(function(){h&&(p(r.DONE),h=!1)})),t.on("error",(function(e){r.handleError(e)}));else{a.url=t.headers.location;var o=Ph.parse(a.url);l=o.hostname;var s={hostname:o.hostname,port:o.port,path:o.path,method:303===t.statusCode?"GET":a.method,headers:u,withCredentials:r.withCredentials};(e=x(s,n).on("error",k)).end()}})).on("error",k),o&&e.write(o),e.end(),r.dispatchEvent("loadstart")}else{var _=".node-xmlhttprequest-content-"+Mc.pid,B=".node-xmlhttprequest-sync-"+Mc.pid;Oh.writeFileSync(B,"","utf8");for(var E="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(f?"s":"")+".request;var options = "+JSON.stringify(w)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+_+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+B+"');});response.on('error', function(error) {fs.writeFileSync('"+_+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+B+"');});}).on('error', function(error) {fs.writeFileSync('"+_+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+B+"');});"+(o?"req.write('"+JSON.stringify(o).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",S=Th(Mc.argv[0],["-e",E]);Oh.existsSync(B););var C=JSON.parse(Oh.readFileSync(_,"utf8"));S.stdin.end(),Oh.unlinkSync(_),C.err?r.handleError(C.err):(t=C.data,r.status=C.data.statusCode,r.responseText=C.data.text,p(r.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,A=!0,p(this.DONE),this.dispatchEvent("error")},this.abort=function(){e&&(e.abort(),e=null),u=s,this.status=0,this.responseText="",this.responseXML="",A=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!h||this.readyState===this.DONE||(h=!1,p(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in d||(d[e]=[]),d[e].push(t)},this.removeEventListener=function(e,t){e in d&&(d[e]=d[e].filter((function(e){return e!==t})))},this.dispatchEvent=function(e){if("function"==typeof r["on"+e]&&r["on"+e](),e in d)for(var t=0,n=d[e].length;t<n;t++)d[e][t].call(r)};var p=function(e){e!=r.LOADING&&r.readyState===e||(r.readyState=e,(a.async||r.readyState<r.OPENED||r.readyState===r.DONE)&&r.dispatchEvent("readystatechange"),r.readyState!==r.DONE||A||(r.dispatchEvent("load"),r.dispatchEvent("loadend")))}};function Nh(e){return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,r){var n=e.url;n||r(new Error("URL is missing")),"http://"!==n.substr(0,7)||e.forceHttp||(console.warn("Upgrading requested url ".concat(n," to https protocol.")),n=n.replace("http://","https://"));var i=new("undefined"==typeof XMLHttpRequest?Lh:XMLHttpRequest);e["bearer-token"]&&i.setRequestHeader("Authorization","Bearer ".concat(e["bearer-token"])),i.onload=function(){if(i.status>=200&&i.status<300)t(i.responseText);else{console.log(i.responseText);var e="Error fetching url:".concat(n,"; status code:").concat(i.status);r(new Error(e))}},i.ontimeout=function(e){console.log("ontimeout",e)},i.onreadystatechange=function(){404===i.status&&r(new Error("Error fetching url:".concat(n,"; status code:").concat(i.status)))},i.onerror=function(){console.error("Request failed with error ".concat(i.responseText)),r(new Error(i.responseText))},i.open(e.method||"GET",n),e.body?i.send(JSON.stringify(e.body)):i.send()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}function Mh(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}function Uh(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(Mh(e,n))return e.slice(n.length)}return e}var Fh=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))},Rh="https://api.etherscan.io/api?module=proxy",Dh="https://api-ropsten.etherscan.io/api?module=proxy",jh={serviceURL:{main:"".concat(Rh,"&action=eth_getTransactionByHash&txhash={transaction_id}"),test:"".concat(Dh,"&action=eth_getTransactionByHash&txhash={transaction_id}")},serviceName:rc.etherscan,parsingFunction:function(e){var t=e.jsonResponse,r=e.chain,i=e.key,a=e.keyPropertyName;return Fh(this,void 0,void 0,n().mark((function e(){var o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={serviceURL:{main:"".concat(Rh,"&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}"),test:"".concat(Dh,"&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}")}},s={serviceURL:{main:"".concat(Rh,"&action=eth_blockNumber"),test:"".concat(Dh,"&action=eth_blockNumber")}},e.next=3,function(e,t){return Fh(this,void 0,void 0,n().mark((function r(){var u,c,l,f;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=e.result.blockNumber,c=lc({explorerAPI:Object.assign(Object.assign({},o),{key:i,keyPropertyName:a}),transactionId:u,isTestApi:sc(t)}),r.prev=1,r.next=4,Nh({url:c});case 4:return l=r.sent,f=JSON.parse(l).result,r.next=8,function(e,t){return Fh(this,void 0,void 0,n().mark((function r(){var o,u,c;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=lc({explorerAPI:Object.assign(Object.assign({},s),{key:i,keyPropertyName:a}),isTestApi:sc(e)}),r.prev=1,r.next=4,Nh({url:o});case 4:u=r.sent,r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(1),new Error("Unable to get remote hash");case 10:if(!((c=JSON.parse(u).result)-t<1)){r.next=13;break}throw new Error("Not enough");case 13:return r.abrupt("return",c);case 14:case"end":return r.stop()}}),r,null,[[1,7]])})))}(t,u);case 8:return r.abrupt("return",f);case 11:throw r.prev=11,r.t0=r.catch(1),new Error("Unable to get remote hash");case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))}(t,r);case 3:return u=e.sent,e.abrupt("return",function(e,t){var r=e.result,n=new Date(1e3*parseInt(t.timestamp,16)),i=r.from;return{remoteHash:Uh(r.input,oc.ethmain.prefixes),issuingAddress:i,time:n,revokedAddresses:[]}}(t,u));case 5:case"end":return e.stop()}}),e)})))},priority:-1};function Qh(e){return""===e?"":function(e){var t=Date.parse(e);if(t)return new Date(t);var r=function(e){var t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));var r=e.slice(-5),n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t.getTime()}(e);return r||function(e){var t,r,n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,(t=new Date(Date.UTC.apply(Date,t))).getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}("".concat(e))}function Hh(e){return new Date(1e3*e)}var Kh={serviceURL:{main:"https://api.blockcypher.com/v1/eth/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/beth/test/txs/{transaction_id}?limit=500"},serviceName:rc.blockcypher,parsingFunction:function(e){var t=e.jsonResponse;if(t.confirmations<1)throw new Error("Not enough");var r=Qh(t.received),n=t.outputs,i=n[n.length-1],a=t.inputs[0].addresses[0],o=Uh(i.script,oc.ethmain.prefixes);a=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(!Mh(e,n))return"".concat(n).concat(e)}return e}(a,oc.ethmain.prefixes);var s=n.filter((function(e){return!!e.spent_by})).map((function(e){return e.addresses[0]}));return{remoteHash:o,issuingAddress:a,time:r,revokedAddresses:s}},priority:-1},Vh={serviceURL:{main:"https://blockstream.info/api/tx/{transaction_id}",test:"https://blockstream.info/testnet/api/tx/{transaction_id}"},serviceName:rc.blockstream,parsingFunction:function(e){var t=e.jsonResponse;if(!t.status.confirmed)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockstream API");var r=Hh(t.status.block_time),n=t.vout,i=n[n.length-1],a=t.vin[0].prevout.scriptpubkey_address,o=Uh(i.scriptpubkey,oc.bitcoin.prefixes),s=n.filter((function(e){return!!e.scriptpubkey_address})).map((function(e){return e.scriptpubkey_address}));return{remoteHash:o,issuingAddress:a,time:r,revokedAddresses:s}},priority:-1},zh={serviceURL:{main:"https://api.blockcypher.com/v1/btc/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/btc/test3/txs/{transaction_id}?limit=500"},serviceName:rc.blockcypher,parsingFunction:function(e){var t=e.jsonResponse;if(t.confirmations<1)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockcypher API");var r=Qh(t.received),n=t.outputs,i=n[n.length-1],a=t.inputs[0].addresses[0],o=Uh(i.script,oc.bitcoin.prefixes),s=n.filter((function(e){return!!e.spent_by})).map((function(e){return e.addresses[0]}));return{remoteHash:o,issuingAddress:a,time:r,revokedAddresses:s}},priority:-1},qh=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function Gh(e){var t=this;return e.map((function(e){return{getTxData:function(r,i){return qh(t,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t,r){return qh(this,void 0,void 0,n().mark((function i(){var a,o;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=lc({explorerAPI:e,transactionId:t,isTestApi:sc(r)}),n.prev=1,n.next=4,Nh({url:a});case 4:return o=n.sent,n.next=7,e.parsingFunction(Object.assign({jsonResponse:JSON.parse(o),chain:r},e));case 7:return n.abrupt("return",n.sent);case 10:throw n.prev=10,n.t0=n.catch(1),new Error("Unable to get remote hash");case 13:case"end":return n.stop()}}),i,null,[[1,10]])})))}(e,r,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},priority:e.priority}}))}var Wh=[zh,Vh],Jh=[jh,Kh];function Xh(e){var t=e.serviceUrl,r=e.transactionId;return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,n().mark((function e(){var i,a,o,s,u,c,l,f,h,A;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"eth_getTransactionByHash",jsonrpc:"2.0",id:"getbyhash",params:["0x"+r]},e.next=3,Nh({url:t,body:i,method:"POST"});case 3:return a=e.sent,o=JSON.parse(a),s={method:"eth_getBlockByNumber",jsonrpc:"2.0",id:"blockbynumber",params:[o.result.blockNumber,!0]},e.next=8,Nh({url:t,body:s,method:"POST"});case 8:return u=e.sent,c=JSON.parse(u),l=o.result,f=c.result,h=new Date(1e3*parseInt(f.timestamp,16)),A=l.from,e.abrupt("return",{remoteHash:Uh(l.input,["0x"]),issuingAddress:A,time:h,revokedAddresses:[]});case 15:case"end":return e.stop()}}),e)})))}function Yh(e){var t=e.serviceUrl,r=e.transactionId;return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,n().mark((function e(){var i,a,o,s,u,c,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"getrawtransaction",jsonrpc:"2.0",id:"rpctest",params:[r,!0]},e.next=3,Nh({url:t,body:i,method:"POST"});case 3:return a=e.sent,o=JSON.parse(a).result,s=o.vout[0].scriptPubKey.addresses[0],u=Uh(o.vout[1].scriptPubKey.asm,["6a20","OP_RETURN "]),c=Hh(o.blocktime),l=o.vout.filter((function(e){return!!e.scriptPubKey.addresses})).map((function(e){return e.scriptPubKey.addresses})).flat(),e.abrupt("return",{issuingAddress:s,remoteHash:u,time:c,revokedAddresses:l});case 10:case"end":return e.stop()}}),e)})))}var $h=[];function Zh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.map((function(e){return e.serviceName})).filter((function(e){return!!e})).filter((function(e){return!!rc[e]}));return n.length?t.reduce((function(t,i){if(n.includes(i.serviceName)){var a=Object.assign({},i),o=e.find((function(e){return e.serviceName===i.serviceName}));if(function(e){if(e.key&&!e.keyPropertyName)throw new Error("Property keyPropertyName is not set for ".concat(e.serviceName,". Cannot pass the key property to the service."));return!0}(o)){var s=Object.assign(a,o);t.push(s);var u=e.findIndex((function(e){return e.serviceName===s.serviceName}));$h.includes(u)||$h.push(u)}}else t.push(i);return r&&function(e,t){t.forEach((function(t){return e.splice(t,1)}))}(e,$h),t}),[]):t}function eA(e){var t=this;return e.map((function(e){return e.parsingFunction||(e.parsingFunction="btc"===e.chainType?Yh:Xh),e})).map((function(e){return{getTxData:function(r){return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(t,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.parsingFunction(Object.assign(Object.assign({},e),{transactionId:r}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},priority:e.priority}}))}function tA(e){var t,r={bitcoin:Gh(Zh(t=e,Wh)),ethereum:Gh(Zh(t,Jh))},n=r.bitcoin,i=r.ethereum,a=function(e){return{custom:eA(e)}}(e.filter((function(e){return"rpc"===e.apiType}))).custom;return{bitcoin:n,ethereum:i,custom:[].concat(S(a),S(Gh(e.filter((function(e){return"rpc"!==e.apiType})))))}}var rA=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function nA(e,t){var r;switch(e){case oc[nc.Bitcoin].code:case oc[nc.Regtest].code:case oc[nc.Testnet].code:case oc[nc.Mocknet].code:return t.bitcoin;case oc[nc.Ethmain].code:case oc[nc.Ethropst].code:case oc[nc.Ethrinkeby].code:return t.ethereum;default:if(!(null===(r=t.custom)||void 0===r?void 0:r.length))throw new Error("Chain is not natively supported. Use custom explorers to retrieve tx data.");return t.custom}}function iA(e){return rA(this,void 0,void 0,n().mark((function t(){var r,i,a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,cc(e,1);case 3:r=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Error("Transaction lookup error: ".concat(t.t0.message));case 9:if(r&&0!==r.length){t.next=11;break}throw new Error("Could not confirm transaction data.");case 11:i=r[0],a=1;case 13:if(!(a<r.length)){t.next=22;break}if(o=r[a],i.issuingAddress===o.issuingAddress){t.next=17;break}throw new Error("Issuing addresses do not match consistently");case 17:if(i.remoteHash===o.remoteHash){t.next=19;break}throw new Error("Remote hashes do not match consistently");case 19:a++,t.next=13;break;case 22:return t.abrupt("return",i);case 23:case"end":return t.stop()}}),t,null,[[0,6]])})))}function aA(e,t,r,i){return rA(this,void 0,void 0,n().mark((function a(){var o;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=function(e,t,r){if(1>e.length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");for(var n=[],i=e.length,a=0;a<i;a++)n.push(e[a].getTxData(t,r));return n}(e[t],r,i),n.next=4,iA(o);case 4:case 13:return n.abrupt("return",n.sent);case 7:if(n.prev=7,n.t0=n.catch(0),!(t<e.length-1)){n.next=14;break}return t++,n.next=13,aA(e,t,r,i);case 14:throw n.t0;case 15:case"end":return n.stop()}}),a,null,[[0,7]])})))}var oA={value:"https://dev.uniresolver.io/1.0/identifiers",set url(e){this.value=e},get url(){return this.value}};function sA(e){return e.startsWith("did:",0)}function uA(e){return e.startsWith("did:key:",0)}var cA={},lA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";
/*!
   * Copyright (c) 2019-2022 Digital Bazaar, Inc. All rights reserved.
   */function fA(e,t){return function(e,t,r){if(!(e instanceof Uint8Array))throw new TypeError('"input" must be a Uint8Array.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');if(0===e.length)return"";var n="",i=0,a=t.length,o=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=e[i],c=0;c<s.length;++c)u+=s[c]<<8,s[c]=u%a,u=u/a|0;for(;u>0;)s.push(u%a),u=u/a|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=t[s[i]];if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n}(e,lA,t)}function hA(e){return function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(0===e.length)return new Uint8Array;var r=cA[t];if(!r){r=cA[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,a=t.charAt(0),o=[0],s=0;s<e.length;s++){var u=r[e.charCodeAt(s)];if(void 0===u)return;for(var c=u,l=0;l<o.length;++l)c+=o[l]*i,o[l]=255&c,c>>=8;for(;c>0;)o.push(255&c),c>>=8}for(var f=0;e[f]===a&&f<e.length-1;++f)o.push(0);return new Uint8Array(o.reverse())}(e,lA)}
/*!
   * Copyright (c) 2018-2022 Digital Bazaar, Inc. All rights reserved.
   */var AA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",dA=[62,-1,-1,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function pA(e){if(!(e instanceof Uint8Array||"string"==typeof e))throw new TypeError('"input" be a string or Uint8Array.');"string"==typeof e&&(e=(new TextEncoder).encode(e));for(var t,r,n,i="",a=0;a<e.byteLength;)t=e[a++],r=e[a++],n=e[a++],i+=AA.charAt(t>>2),i+=AA.charAt((3&t)<<4|r>>4),isNaN(r)||(i+=AA.charAt((15&r)<<2|n>>6),isNaN(n)||(i+=AA.charAt(63&n)));return i}var vA={},gA=Object.freeze({__proto__:null,default:vA}),yA=BigInt(0),mA=BigInt(1),bA=BigInt(2),wA=BigInt(255),xA=Math.pow(bA,BigInt(252))+BigInt("27742317777372353535851937790883648493"),kA={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:Math.pow(bA,wA)-BigInt(19),l:xA,n:xA,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")},_A=Math.pow(bA,BigInt(256)),BA=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");var EA=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),SA=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),CA=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),IA=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),PA=function(){function e(t,r,n,i){s(this,e),this.x=t,this.y=r,this.z=n,this.t=i}return c(e,[{key:"equals",value:function(e){TA(e);var t=this.x,r=this.y,n=this.z,i=e.x,a=e.y,o=e.z,s=qA(t*o),u=qA(i*n),c=qA(r*o),l=qA(a*n);return s===u&&c===l}},{key:"negate",value:function(){return new e(qA(-this.x),this.y,this.z,qA(-this.t))}},{key:"double",value:function(){var t=this.x,r=this.y,n=this.z,i=kA.a,a=qA(Math.pow(t,bA)),o=qA(Math.pow(r,bA)),s=qA(bA*qA(Math.pow(n,bA))),u=qA(i*a),c=qA(qA(Math.pow(t+r,bA))-a-o),l=u+o,f=l-s,h=u-o,A=qA(c*f),d=qA(l*h),p=qA(c*h);return new e(A,d,qA(f*l),p)}},{key:"add",value:function(t){TA(t);var r=this.x,n=this.y,i=this.z,a=this.t,o=t.x,s=t.y,u=t.z,c=t.t,l=qA((n-r)*(s+o)),f=qA((n+r)*(s-o)),h=qA(f-l);if(h===yA)return this.double();var A=qA(i*bA*c),d=qA(a*bA*u),p=d+A,v=f+l,g=d-A,y=qA(p*h),m=qA(v*g),b=qA(p*g);return new e(y,m,qA(h*v),b)}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"precomputeWindow",value:function(e){for(var t=1+256/e,r=[],n=this,i=n,a=0;a<t;a++){i=n,r.push(i);for(var o=1;o<Math.pow(2,e-1);o++)i=i.add(n),r.push(i);n=i.double()}return r}},{key:"wNAF",value:function(t,r){!r&&this.equals(e.BASE)&&(r=UA.BASE);var n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");var i=r&&MA.get(r);i||(i=this.precomputeWindow(n),r&&1!==n&&(i=e.normalizeZ(i),MA.set(r,i)));for(var a=e.ZERO,o=e.ZERO,s=1+256/n,u=Math.pow(2,n-1),c=BigInt(Math.pow(2,n)-1),l=Math.pow(2,n),f=BigInt(n),h=0;h<s;h++){var A=h*u,d=Number(t&c);if(t>>=f,d>u&&(d-=l,t+=mA),0===d){var p=i[A];h%2&&(p=p.negate()),o=o.add(p)}else{var v=i[A+Math.abs(d)-1];d<0&&(v=v.negate()),a=a.add(v)}}return e.normalizeZ([a,o])[0]}},{key:"multiply",value:function(e,t){return this.wNAF(ed(e,kA.l),t)}},{key:"multiplyUnsafe",value:function(t){var r=ed(t,kA.l,!1),n=e.BASE,i=e.ZERO;if(r===yA)return i;if(this.equals(i)||r===mA)return this;if(this.equals(n))return this.wNAF(r);for(var a=i,o=this;r>yA;)r&mA&&(a=a.add(o)),o=o.double(),r>>=mA;return a}},{key:"isSmallOrder",value:function(){return this.multiplyUnsafe(kA.h).equals(e.ZERO)}},{key:"isTorsionFree",value:function(){return this.multiplyUnsafe(kA.l).equals(e.ZERO)}},{key:"toAffine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GA(this.z),t=this.x,r=this.y,n=this.z,i=qA(t*e),a=qA(r*e);if(qA(n*e)!==mA)throw new Error("invZ was invalid");return new UA(i,a)}},{key:"fromRistrettoBytes",value:function(){LA()}},{key:"toRistrettoBytes",value:function(){LA()}},{key:"fromRistrettoHash",value:function(){LA()}}],[{key:"fromAffine",value:function(t){if(!(t instanceof UA))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(UA.ZERO)?e.ZERO:new e(t.x,t.y,mA,qA(t.x*t.y))}},{key:"toAffineBatch",value:function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kA.P,r=new Array(e.length),n=GA(e.reduce((function(e,n,i){return n===yA?e:(r[i]=e,qA(e*n,t))}),mA),t);return e.reduceRight((function(e,n,i){return n===yA?e:(r[i]=qA(e*r[i],t),qA(e*n,t))}),n),r}(e.map((function(e){return e.z})));return e.map((function(e,r){return e.toAffine(t[r])}))}},{key:"normalizeZ",value:function(e){return this.toAffineBatch(e).map(this.fromAffine)}}]),e}();function TA(e){if(!(e instanceof PA))throw new TypeError("ExtendedPoint expected")}function OA(e){if(!(e instanceof NA))throw new TypeError("RistrettoPoint expected")}function LA(){throw new Error("Legacy method: switch to RistrettoPoint")}PA.BASE=new PA(kA.Gx,kA.Gy,mA,qA(kA.Gx*kA.Gy)),PA.ZERO=new PA(yA,mA,mA,yA);var NA=function(){function e(t){s(this,e),this.ep=t}return c(e,[{key:"toRawBytes",value:function(){var e,t=this.ep,r=t.x,n=t.y,i=t.z,a=t.t,o=qA(qA(i+n)*qA(i-n)),s=qA(r*n),u=XA(qA(o*Math.pow(s,bA))).value,c=qA(u*o),l=qA(u*s),f=qA(c*l*a);if(KA(a*f)){var h=qA(n*BA),A=qA(r*BA);r=h,n=A,e=qA(c*SA)}else e=l;KA(r*f)&&(n=qA(-n));var d=qA((i-n)*e);return KA(d)&&(d=qA(-d)),HA(d)}},{key:"toHex",value:function(){return DA(this.toRawBytes())}},{key:"toString",value:function(){return this.toHex()}},{key:"equals",value:function(e){OA(e);var t=this.ep,r=e.ep,n=qA(t.x*r.y)===qA(t.y*r.x),i=qA(t.y*r.y)===qA(t.x*r.x);return n||i}},{key:"add",value:function(t){return OA(t),new e(this.ep.add(t.ep))}},{key:"subtract",value:function(t){return OA(t),new e(this.ep.subtract(t.ep))}},{key:"multiply",value:function(t){return new e(this.ep.multiply(t))}},{key:"multiplyUnsafe",value:function(t){return new e(this.ep.multiplyUnsafe(t))}}],[{key:"calcElligatorRistrettoMap",value:function(e){var t=kA.d,r=qA(BA*e*e),n=qA((r+mA)*CA),i=BigInt(-1),a=qA((i-t*r)*qA(r+t)),o=JA(n,a),s=o.isValid,u=o.value,c=qA(u*e);KA(c)||(c=qA(-c)),s||(u=c),s||(i=r);var l=qA(i*(r-mA)*IA-a),f=u*u,h=qA((u+u)*a),A=qA(l*EA),d=qA(mA-f),p=qA(mA+f);return new PA(qA(h*p),qA(d*A),qA(A*p),qA(h*d))}},{key:"hashToCurve",value:function(t){var r=zA((t=ZA(t,64)).slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=zA(t.slice(32,64)),a=this.calcElligatorRistrettoMap(i);return new e(n.add(a))}},{key:"fromHex",value:function(t){t=ZA(t,32);var r=kA.a,n=kA.d,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=zA(t);if(!function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(HA(a),t)||KA(a))throw new Error(i);var o=qA(a*a),s=qA(mA+r*o),u=qA(mA-r*o),c=qA(s*s),l=qA(u*u),f=qA(r*n*c-l),h=XA(qA(f*l)),A=h.isValid,d=h.value,p=qA(d*u),v=qA(d*p*f),g=qA((a+a)*p);KA(g)&&(g=qA(-g));var y=qA(s*v),m=qA(g*y);if(!A||KA(m)||y===yA)throw new Error(i);return new e(new PA(g,y,mA,m))}}]),e}();NA.BASE=new NA(PA.BASE),NA.ZERO=new NA(PA.ZERO);var MA=new WeakMap,UA=function(){function e(t,r){s(this,e),this.x=t,this.y=r}var t;return c(e,[{key:"_setWindowSize",value:function(e){this._WINDOW_SIZE=e,MA.delete(this)}},{key:"toRawBytes",value:function(){var e=HA(this.y);return e[31]|=this.x&mA?128:0,e}},{key:"toHex",value:function(){return DA(this.toRawBytes())}},{key:"toX25519",value:function(){var e=this.y;return HA(qA((mA+e)*GA(mA-e)))}},{key:"isTorsionFree",value:function(){return PA.fromAffine(this).isTorsionFree()}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"negate",value:function(){return new e(qA(-this.x),this.y)}},{key:"add",value:function(e){return PA.fromAffine(this).add(PA.fromAffine(e)).toAffine()}},{key:"subtract",value:function(e){return this.add(e.negate())}},{key:"multiply",value:function(e){return PA.fromAffine(this).multiply(e,this).toAffine()}}],[{key:"fromHex",value:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=kA.d,i=kA.P,a=(t=ZA(t,32)).slice();a[31]=-129&t[31];var o=VA(a);if(r&&o>=i)throw new Error("Expected 0 < hex < P");if(!r&&o>=_A)throw new Error("Expected 0 < hex < 2**256");var s=qA(o*o),u=qA(s-mA),c=qA(n*s+mA),l=JA(u,c),f=l.isValid,h=l.value;if(!f)throw new Error("Point.fromHex: invalid y coordinate");var A=(h&mA)===mA;return 0!=(128&t[31])!==A&&(h=qA(-h)),new e(h,o)}},{key:"fromPrivateKey",value:(t=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,td(t);case 2:return e.abrupt("return",e.sent.point);case 3:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();UA.BASE=new UA(kA.Gx,kA.Gy),UA.ZERO=new UA(yA,mA);var FA=function(){function e(t,r){s(this,e),this.r=t,this.s=r,this.assertValidity()}return c(e,[{key:"assertValidity",value:function(){var e=this.r,t=this.s;if(!(e instanceof UA))throw new Error("Expected Point instance");return ed(t,kA.l,!1),this}},{key:"toRawBytes",value:function(){var e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(HA(this.s),32),e}},{key:"toHex",value:function(){return DA(this.toRawBytes())}}],[{key:"fromHex",value:function(t){var r=ZA(t,64);return new e(UA.fromHex(r.slice(0,32),!1),VA(r.slice(32,64)))}}]),e}(),RA=Array.from({length:256},(function(e,t){return t.toString(16).padStart(2,"0")}));function DA(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");for(var t="",r=0;r<e.length;r++)t+=RA[e[r]];return t}function jA(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+i(e));if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");for(var t=new Uint8Array(e.length/2),r=0;r<t.length;r++){var n=2*r,a=e.slice(n,n+2),o=Number.parseInt(a,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function QA(e){return jA(e.toString(16).padStart(64,"0"))}function HA(e){return QA(e).reverse()}function KA(e){return(qA(e)&mA)===mA}function VA(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+DA(Uint8Array.from(e).reverse()))}function zA(e){return qA(VA(e)&Math.pow(bA,wA)-mA)}function qA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kA.P,r=e%t;return r>=yA?r:t+r}function GA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kA.P;if(e===yA||t<=yA)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));for(var r=qA(e,t),n=t,i=yA,a=mA;r!==yA;){var o=n%r,s=i-a*(n/r);n=r,r=o,i=a,a=s}if(n!==mA)throw new Error("invert: does not exist");return qA(i,t)}function WA(e,t){for(var r=kA.P,n=e;t-- >yA;)n*=n,n%=r;return n}function JA(e,t){var r=qA(t*t*t),n=function(e){var t=kA.P,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),o=BigInt(80),s=e*e%t*e%t,u=WA(s,bA)*s%t,c=WA(u,mA)*e%t,l=WA(c,r)*c%t,f=WA(l,n)*l%t,h=WA(f,i)*f%t,A=WA(h,a)*h%t,d=WA(A,o)*A%t,p=WA(d,o)*A%t,v=WA(p,n)*l%t;return{pow_p_5_8:WA(v,bA)*e%t,b2:s}}(e*qA(r*r*t)).pow_p_5_8,i=qA(e*r*n),a=qA(t*i*i),o=i,s=qA(i*BA),u=a===e,c=a===qA(-e),l=a===qA(-e*BA);return u&&(i=o),(c||l)&&(i=s),KA(i)&&(i=qA(-i)),{isValid:u||c,value:i}}function XA(e){return JA(mA,e)}function YA(){return $A.apply(this,arguments)}function $A(){return $A=o(n().mark((function e(){var t,r=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ad.sha512(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((function(e){return e instanceof Uint8Array})))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];for(var n=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(n),a=0,o=0;a<t.length;a++){var s=t[a];i.set(s,o),o+=s.length}return i}.apply(void 0,r));case 2:return t=e.sent,e.abrupt("return",qA(VA(t),kA.l));case 4:case"end":return e.stop()}}),e)}))),$A.apply(this,arguments)}function ZA(e,t){var r=e instanceof Uint8Array?Uint8Array.from(e):jA(e);if("number"==typeof t&&r.length!==t)throw new Error("Expected ".concat(t," bytes"));return r}function ed(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(r){if(yA<e)return e}else if(yA<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function td(e){return rd.apply(this,arguments)}function rd(){return rd=o(n().mark((function e(t){var r,i,a,o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(32===(t="bigint"==typeof t||"number"==typeof t?QA(ed(t,_A)):ZA(t)).length){e.next=2;break}throw new Error("Expected 32 bytes");case 2:return e.next=4,ad.sha512(t);case 4:return r=e.sent,(a=r.slice(0,32))[0]&=248,a[31]&=127,a[31]|=64,i=a,o=r.slice(32,64),s=qA(VA(i),kA.l),u=UA.BASE.multiply(s),c=u.toRawBytes(),e.abrupt("return",{head:i,prefix:o,scalar:s,point:u,pointBytes:c});case 8:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}UA.BASE._setWindowSize(8);var nd,id={node:vA,web:"object"==("undefined"==typeof self?"undefined":i(self))&&"crypto"in self?self.crypto:void 0},ad={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:DA,getExtendedPublicKey:td,mod:qA,invert:GA,hashToPrivateScalar:function(e){if((e=ZA(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");var t=qA(VA(e),kA.l);if(t===yA||t===mA)throw new Error("Invalid private key");return t},randomBytes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(id.web)return id.web.getRandomValues(new Uint8Array(e));if(id.node){var t=id.node.randomBytes;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:function(){return ad.randomBytes(32)},sha512:(nd=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!id.web){e.next=5;break}return e.next=3,id.web.subtle.digest("SHA-512",t.buffer);case 3:return r=e.sent,e.abrupt("return",new Uint8Array(r));case 5:if(!id.node){e.next=7;break}return e.abrupt("return",Uint8Array.from(id.node.createHash("sha512").update(t).digest()));case 7:throw new Error("The environment doesn't have sha512 function");case 8:case"end":return e.stop()}}),e)}))),function(e){return nd.apply(this,arguments)}),precompute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UA.BASE,r=t.equals(UA.BASE)?t:new UA(t.x,t.y);return r._setWindowSize(e),r.multiply(bA),r}},od=self.crypto;if(!od.getRandomValues)throw new Error('Browser does not provide "crypto.getRandomValues".');var sd,ud,cd,ld={generateKeyPair:function(){return o(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Uint8Array(32),od.getRandomValues(t),e.next=4,fd(t);case 4:return r=e.sent,e.abrupt("return",(t.fill(0),r));case 6:case"end":return e.stop()}}),e)})))()},generateKeyPairFromSeed:fd,sign:(cd=o(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=o(n().mark((function e(t,r){var i,a,o,s,u,c,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ZA(t),e.next=3,td(r);case 3:return i=e.sent,a=i.prefix,o=i.scalar,s=i.pointBytes,e.next=9,YA(a,t);case 9:return u=e.sent,c=UA.BASE.multiply(u),e.t0=qA,e.t1=u,e.next=15,YA(c.toRawBytes(),s,t);case 15:return e.t2=e.sent,e.t3=o,e.t4=e.t2*e.t3,e.t5=e.t1+e.t4,e.t6=kA.l,l=(0,e.t0)(e.t5,e.t6),e.abrupt("return",new FA(c,l).toRawBytes());case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()(r,t.slice(0,32)));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return cd.apply(this,arguments)}),verify:(ud=o(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=o(n().mark((function e(t,r,i){var a,o,s,u,c,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ZA(r),i instanceof UA||(i=UA.fromHex(i,!1)),a=t instanceof FA?t.assertValidity():FA.fromHex(t),o=a.r,s=a.s,u=PA.BASE.multiplyUnsafe(s),e.next=7,YA(o.toRawBytes(),i.toRawBytes(),r);case 7:return c=e.sent,l=PA.fromAffine(i).multiplyUnsafe(c),e.abrupt("return",PA.fromAffine(o).add(l).subtract(u).multiplyUnsafe(kA.h).equals(PA.ZERO));case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()(i,r,t));case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return ud.apply(this,arguments)}),sha256digest:(sd=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,e.abrupt("return",od.subtle.digest("SHA-256",r));case 2:case"end":return e.stop()}}),e)}))),function(e){return sd.apply(this,arguments)})};function fd(e){return hd.apply(this,arguments)}
/*!
   * Copyright (c) 2018-2022 Digital Bazaar, Inc. All rights reserved.
   */function hd(){return hd=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,td(t);case 2:return e.abrupt("return",e.sent.pointBytes);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(t);case 2:return r=e.sent,i=new Uint8Array(64),e.abrupt("return",(i.set(t),i.set(r,t.length),{publicKey:r,secretKey:i}));case 5:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}var Ad=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.controller,i=t.revoked;s(this,e),this.id=r,this.controller=n,this.revoked=i}var t,r,i;return c(e,[{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publicKey,r=void 0!==t&&t,n=e.privateKey,i=void 0!==n&&n;if(!r&&!i)throw new Error('Export requires specifying either "publicKey" or "privateKey".');var a={id:this.id,type:this.type,controller:this.controller};return this.revoked&&(a.revoked=this.revoked),a}},{key:"fingerprint",value:function(){throw new Error("Abstract method, must be implemented in subclass.")}},{key:"verifyFingerprint",value:function(){throw new Error("Abstract method, must be implemented in subclass.")}},{key:"signer",value:function(){return{sign:function(e){return o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw g(e),new Error("Abstract method, must be implemented in subclass.");case 2:case"end":return t.stop()}}),t)})))()}}}},{key:"verifier",value:function(){return{verify:function(e){return o(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw g(e),new Error("Abstract method, must be implemented in subclass.");case 2:case"end":return t.stop()}}),t)})))()}}}}],[{key:"generate",value:(i=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Abstract method, must be implemented in subclass.");case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"fromKeyDocument",value:(r=o(n().mark((function e(){var t,r,i,a,o,s,u=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.document,i=t.checkContext,a=void 0===i||i,o=t.checkRevoked,s=void 0===o||o,r){e.next=3;break}throw new TypeError('The "document" parameter is required.');case 3:if(!a){e.next=6;break}if([].concat(r["@context"]).includes(this.SUITE_CONTEXT)){e.next=6;break}throw new Error('Key document does not contain required context "'+this.SUITE_CONTEXT+'".');case 6:if(!s||!r.revoked){e.next=8;break}throw new Error('Key has been revoked since: "'.concat(r.revoked,'".'));case 8:return e.abrupt("return",this.from(r));case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"from",value:(t=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Abstract method from() must be implemented in subclass.");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();Ad.SUITE_CONTEXT="INVALID LDKeyPair CONTEXT";
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
var dd=new Uint8Array([237,1]),pd=new Uint8Array([128,38]),vd=function(e){f(h,e);var t,i,a,u,l=w(h);function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,h),(e=l.call(this,t)).type="Ed25519VerificationKey2020";var r=t.publicKeyMultibase,n=t.privateKeyMultibase;if(!r)throw new TypeError('The "publicKeyMultibase" property is required.');if(!r||!gd(r,dd))throw new Error('"publicKeyMultibase" has invalid header bytes: "'.concat(r,'".'));if(n&&!gd(n,pd))throw new Error('"privateKeyMultibase" has invalid header bytes.');return e.publicKeyMultibase=r,e.privateKeyMultibase=n,e.controller&&!e.id&&(e.id="".concat(e.controller,"#").concat(e.fingerprint())),e}return c(h,[{key:"_publicKeyBuffer",get:function(){if(this.publicKeyMultibase)return hA(this.publicKeyMultibase.substr(1)).slice(dd.length)}},{key:"_privateKeyBuffer",get:function(){if(this.privateKeyMultibase)return hA(this.privateKeyMultibase.substr(1)).slice(pd.length)}},{key:"fingerprint",value:function(){return this.publicKeyMultibase}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publicKey,r=void 0!==t&&t,n=e.privateKey,i=void 0!==n&&n,a=e.includeContext,o=void 0!==a&&a;if(!r&&!i)throw new TypeError('Export requires specifying either "publicKey" or "privateKey".');var s={id:this.id,type:this.type};return o&&(s["@context"]=h.SUITE_CONTEXT),this.controller&&(s.controller=this.controller),r&&(s.publicKeyMultibase=this.publicKeyMultibase),i&&(s.privateKeyMultibase=this.privateKeyMultibase),this.revoked&&(s.revoked=this.revoked),s}},{key:"toJwk",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publicKey,r=void 0===t||t,n=e.privateKey,i=void 0!==n&&n;if(!r&&!i)throw TypeError('Either a "publicKey" or a "privateKey" is required.');var a={crv:"Ed25519",kty:"OKP"};return r&&(a.x=pA(this._publicKeyBuffer)),i&&(a.d=pA(this._privateKeyBuffer)),a}},{key:"jwkThumbprint",value:(u=o(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t='{"crv":"Ed25519","kty":"OKP","x":"'.concat(pA(this._publicKeyBuffer),'"}'),r=(new TextEncoder).encode(t),e.t0=pA,e.t1=Uint8Array,e.next=5,ld.sha256digest({data:r});case 5:return e.t2=e.sent,e.t3=new e.t1(e.t2),e.abrupt("return",(0,e.t0)(e.t3));case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"toJsonWebKey2020",value:(a=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.controller+"#",e.next=3,this.jwkThumbprint();case 3:return e.t1=e.sent,e.t2=e.t0+e.t1,e.t3=this.controller,e.t4=this.toJwk({publicKey:!0}),e.abrupt("return",{"@context":"https://w3id.org/security/jws/v1",id:e.t2,type:"JsonWebKey2020",controller:e.t3,publicKeyJwk:e.t4});case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"verifyFingerprint",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.fingerprint;if("string"!=typeof r||"z"!==r[0])return{error:new Error('"fingerprint" must be a multibase encoded string.'),valid:!1};try{if(!(e=hA(r.substr(1))))throw new TypeError("Invalid encoding of fingerprint.")}catch(r){return{error:r,valid:!1}}var n=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(this._publicKeyBuffer,e.slice(2)),i=e[0]===dd[0]&&e[1]===dd[1]&&n;return i?{valid:i}:{error:new Error("The fingerprint does not match the public key."),valid:!1}}},{key:"signer",value:function(){var e=this._privateKeyBuffer;return{sign:function(t){return o(n().mark((function r(){var i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.data,e){r.next=3;break}throw new Error("A private key is not available for signing.");case 3:return r.abrupt("return",ld.sign(e,i));case 4:case"end":return r.stop()}}),r)})))()},id:this.id}}},{key:"verifier",value:function(){var e=this._publicKeyBuffer;return{verify:function(t){return o(n().mark((function r(){var i,a;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t.data,a=t.signature,e){r.next=3;break}throw new Error("A public key is not available for verifying.");case 3:return r.abrupt("return",ld.verify(e,i,a));case 4:case"end":return r.stop()}}),r)})))()},id:this.id}}}],[{key:"from",value:(i=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","Ed25519VerificationKey2018"===t.type?h.fromEd25519VerificationKey2018(t):"JsonWebKey2020"===t.type?h.fromJsonWebKey2020(t):new h(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"fromEd25519VerificationKey2018",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keyPair,r=yd(dd,hA(t.publicKeyBase58)),n=new h({id:t.id,controller:t.controller,publicKeyMultibase:r});return t.privateKeyBase58&&(n.privateKeyMultibase=yd(pd,hA(t.privateKeyBase58))),n}},{key:"fromJsonWebKey2020",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.type,n=e.controller,i=e.publicKeyJwk;if("JsonWebKey2020"!==r)throw new TypeError('Invalid key type: "'.concat(r,'".'));if(!i)throw new TypeError('"publicKeyJwk" property is required.');var a=i.kty,o=i.crv;if("OKP"!==a)throw new TypeError('"kty" is required to be "OKP".');if("Ed25519"!==o)throw new TypeError('"crv" is required to be "Ed25519".');var s=i.x,u=yd(dd,function(e){var t=e.length,r=t%4;if(1===r)throw new Error("Illegal base64 string.");var n=0;r>0&&(t+=n=4-r);for(var i,a,o,s,u=new Uint8Array(t/4*3-n),c=0,l=0;c<t;)i=dA[e.charCodeAt(c++)-45],a=dA[e.charCodeAt(c++)-45],u[l++]=i<<2|a>>4,c<e.length&&(o=dA[e.charCodeAt(c++)-45],u[l++]=(15&a)<<4|o>>2,c<e.length&&(s=dA[e.charCodeAt(c++)-45],u[l++]=(3&o)<<6|s));return u}(s));return h.from({id:t,controller:n,publicKeyMultibase:u})}},{key:"generate",value:(t=o(n().mark((function e(){var t,i,a,o,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},i=t.seed,a=y(t,xa),!i){e.next=7;break}return e.next=4,ld.generateKeyPairFromSeed(i);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,ld.generateKeyPair();case 9:e.t0=e.sent;case 10:return o=e.t0,s=yd(dd,o.publicKey),u=yd(pd,o.secretKey),e.abrupt("return",new h(r({publicKeyMultibase:s,privateKeyMultibase:u},a)));case 13:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"fromFingerprint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fingerprint;return new h({publicKeyMultibase:t})}}]),h}(Ad);function gd(e,t){if("string"!=typeof e||"z"!==e[0])return!1;var r=hA(e.slice(1));return t.every((function(e,t){return r[t]===e}))}function yd(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),"z"+fA(r)}vd.suite="Ed25519VerificationKey2020",vd.SUITE_CONTEXT="https://w3id.org/security/suites/ed25519-2020/v1";var md={exports:{}},bd={exports:{}},wd=Ea(gA);!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=t(),o=t([1]),s=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function d(e,t,r,n,i){var a,o=0;for(a=0;a<i;a++)o|=e[t+a]^r[n+a];return(1&o-1>>>8)-1}function p(e,t,r,n){return d(e,t,r,n,16)}function v(e,t,r,n){return d(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var i,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,A=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=a,x=o,k=s,_=u,B=c,E=l,S=f,C=h,I=A,P=d,T=p,O=v,L=g,N=y,M=m,U=b,F=0;F<20;F+=2)w^=(i=(L^=(i=(I^=(i=(B^=(i=w+L|0)<<7|i>>>25)+w|0)<<9|i>>>23)+B|0)<<13|i>>>19)+I|0)<<18|i>>>14,E^=(i=(x^=(i=(N^=(i=(P^=(i=E+x|0)<<7|i>>>25)+E|0)<<9|i>>>23)+P|0)<<13|i>>>19)+N|0)<<18|i>>>14,T^=(i=(S^=(i=(k^=(i=(M^=(i=T+S|0)<<7|i>>>25)+T|0)<<9|i>>>23)+M|0)<<13|i>>>19)+k|0)<<18|i>>>14,U^=(i=(O^=(i=(C^=(i=(_^=(i=U+O|0)<<7|i>>>25)+U|0)<<9|i>>>23)+_|0)<<13|i>>>19)+C|0)<<18|i>>>14,w^=(i=(_^=(i=(k^=(i=(x^=(i=w+_|0)<<7|i>>>25)+w|0)<<9|i>>>23)+x|0)<<13|i>>>19)+k|0)<<18|i>>>14,E^=(i=(B^=(i=(C^=(i=(S^=(i=E+B|0)<<7|i>>>25)+E|0)<<9|i>>>23)+S|0)<<13|i>>>19)+C|0)<<18|i>>>14,T^=(i=(P^=(i=(I^=(i=(O^=(i=T+P|0)<<7|i>>>25)+T|0)<<9|i>>>23)+O|0)<<13|i>>>19)+I|0)<<18|i>>>14,U^=(i=(M^=(i=(N^=(i=(L^=(i=U+M|0)<<7|i>>>25)+U|0)<<9|i>>>23)+L|0)<<13|i>>>19)+N|0)<<18|i>>>14;w=w+a|0,x=x+o|0,k=k+s|0,_=_+u|0,B=B+c|0,E=E+l|0,S=S+f|0,C=C+h|0,I=I+A|0,P=P+d|0,T=T+p|0,O=O+v|0,L=L+g|0,N=N+y|0,M=M+m|0,U=U+b|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=k>>>0&255,e[9]=k>>>8&255,e[10]=k>>>16&255,e[11]=k>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=B>>>0&255,e[17]=B>>>8&255,e[18]=B>>>16&255,e[19]=B>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=S>>>0&255,e[25]=S>>>8&255,e[26]=S>>>16&255,e[27]=S>>>24&255,e[28]=C>>>0&255,e[29]=C>>>8&255,e[30]=C>>>16&255,e[31]=C>>>24&255,e[32]=I>>>0&255,e[33]=I>>>8&255,e[34]=I>>>16&255,e[35]=I>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=T>>>0&255,e[41]=T>>>8&255,e[42]=T>>>16&255,e[43]=T>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=L>>>0&255,e[49]=L>>>8&255,e[50]=L>>>16&255,e[51]=L>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var i,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,A=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)a^=(i=(g^=(i=(A^=(i=(c^=(i=a+g|0)<<7|i>>>25)+a|0)<<9|i>>>23)+c|0)<<13|i>>>19)+A|0)<<18|i>>>14,l^=(i=(o^=(i=(y^=(i=(d^=(i=l+o|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+y|0)<<18|i>>>14,p^=(i=(f^=(i=(s^=(i=(m^=(i=p+f|0)<<7|i>>>25)+p|0)<<9|i>>>23)+m|0)<<13|i>>>19)+s|0)<<18|i>>>14,b^=(i=(v^=(i=(h^=(i=(u^=(i=b+v|0)<<7|i>>>25)+b|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,a^=(i=(u^=(i=(s^=(i=(o^=(i=a+u|0)<<7|i>>>25)+a|0)<<9|i>>>23)+o|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(c^=(i=(h^=(i=(f^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+h|0)<<18|i>>>14,p^=(i=(d^=(i=(A^=(i=(v^=(i=p+d|0)<<7|i>>>25)+p|0)<<9|i>>>23)+v|0)<<13|i>>>19)+A|0)<<18|i>>>14,b^=(i=(m^=(i=(y^=(i=(g^=(i=b+m|0)<<7|i>>>25)+b|0)<<9|i>>>23)+g|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=a>>>0&255,e[1]=a>>>8&255,e[2]=a>>>16&255,e[3]=a>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=A>>>0&255,e[25]=A>>>8&255,e[26]=A>>>16&255,e[27]=A>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,t,r,n)}var m=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(e,t,r,n,i,a,o){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=a[u];for(;i>=64;){for(g(l,c,o,m),u=0;u<64;u++)e[t+u]=r[n+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,t+=64,n+=64}if(i>0)for(g(l,c,o,m),u=0;u<i;u++)e[t+u]=r[n+u]^l[u];return 0}function w(e,t,r,n,i){var a,o,s=new Uint8Array(16),u=new Uint8Array(64);for(o=0;o<16;o++)s[o]=0;for(o=0;o<8;o++)s[o]=n[o];for(;r>=64;){for(g(u,s,i,m),o=0;o<64;o++)e[t+o]=u[o];for(a=1,o=8;o<16;o++)a=a+(255&s[o])|0,s[o]=255&a,a>>>=8;r-=64,t+=64}if(r>0)for(g(u,s,i,m),o=0;o<r;o++)e[t+o]=u[o];return 0}function x(e,t,r,n,i){var a=new Uint8Array(32);y(a,n,i,m);for(var o=new Uint8Array(8),s=0;s<8;s++)o[s]=n[s+16];return w(e,t,r,o,a)}function k(e,t,r,n,i,a,o){var s=new Uint8Array(32);y(s,a,o,m);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=a[c+16];return b(e,t,r,n,i,u,s)}var _=function(e){var t,r,n,i,a,o,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),a=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|a<<12),this.r[5]=a>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(a>>>14|o<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function B(e,t,r,n,i,a){var o=new _(a);return o.update(r,n,i),o.finish(e,t),0}function E(e,t,r,n,i,a){var o=new Uint8Array(16);return B(o,0,r,n,i,a),p(e,t,o,0)}function S(e,t,r,n,i){var a;if(r<32)return-1;for(k(e,0,t,0,r,n,i),B(e,16,e,32,r-32,e),a=0;a<16;a++)e[a]=0;return 0}function C(e,t,r,n,i){var a,o=new Uint8Array(32);if(r<32)return-1;if(x(o,0,32,n,i),0!==E(t,16,t,32,r-32,o))return-1;for(k(e,0,t,0,r,n,i),a=0;a<32;a++)e[a]=0;return 0}function I(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function P(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function T(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function O(e,r){var n,i,a,o=t(),s=t();for(n=0;n<16;n++)s[n]=r[n];for(P(s),P(s),P(s),i=0;i<2;i++){for(o[0]=s[0]-65517,n=1;n<15;n++)o[n]=s[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),a=o[15]>>16&1,o[14]&=65535,T(s,o,1-a)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function L(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),v(r,0,n,0)}function N(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function M(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function U(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function F(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function R(e,t,r){var n,i,a=0,o=0,s=0,u=0,c=0,l=0,f=0,h=0,A=0,d=0,p=0,v=0,g=0,y=0,m=0,b=0,w=0,x=0,k=0,_=0,B=0,E=0,S=0,C=0,I=0,P=0,T=0,O=0,L=0,N=0,M=0,U=r[0],F=r[1],R=r[2],D=r[3],j=r[4],Q=r[5],H=r[6],K=r[7],V=r[8],z=r[9],q=r[10],G=r[11],W=r[12],J=r[13],X=r[14],Y=r[15];a+=(n=t[0])*U,o+=n*F,s+=n*R,u+=n*D,c+=n*j,l+=n*Q,f+=n*H,h+=n*K,A+=n*V,d+=n*z,p+=n*q,v+=n*G,g+=n*W,y+=n*J,m+=n*X,b+=n*Y,o+=(n=t[1])*U,s+=n*F,u+=n*R,c+=n*D,l+=n*j,f+=n*Q,h+=n*H,A+=n*K,d+=n*V,p+=n*z,v+=n*q,g+=n*G,y+=n*W,m+=n*J,b+=n*X,w+=n*Y,s+=(n=t[2])*U,u+=n*F,c+=n*R,l+=n*D,f+=n*j,h+=n*Q,A+=n*H,d+=n*K,p+=n*V,v+=n*z,g+=n*q,y+=n*G,m+=n*W,b+=n*J,w+=n*X,x+=n*Y,u+=(n=t[3])*U,c+=n*F,l+=n*R,f+=n*D,h+=n*j,A+=n*Q,d+=n*H,p+=n*K,v+=n*V,g+=n*z,y+=n*q,m+=n*G,b+=n*W,w+=n*J,x+=n*X,k+=n*Y,c+=(n=t[4])*U,l+=n*F,f+=n*R,h+=n*D,A+=n*j,d+=n*Q,p+=n*H,v+=n*K,g+=n*V,y+=n*z,m+=n*q,b+=n*G,w+=n*W,x+=n*J,k+=n*X,_+=n*Y,l+=(n=t[5])*U,f+=n*F,h+=n*R,A+=n*D,d+=n*j,p+=n*Q,v+=n*H,g+=n*K,y+=n*V,m+=n*z,b+=n*q,w+=n*G,x+=n*W,k+=n*J,_+=n*X,B+=n*Y,f+=(n=t[6])*U,h+=n*F,A+=n*R,d+=n*D,p+=n*j,v+=n*Q,g+=n*H,y+=n*K,m+=n*V,b+=n*z,w+=n*q,x+=n*G,k+=n*W,_+=n*J,B+=n*X,E+=n*Y,h+=(n=t[7])*U,A+=n*F,d+=n*R,p+=n*D,v+=n*j,g+=n*Q,y+=n*H,m+=n*K,b+=n*V,w+=n*z,x+=n*q,k+=n*G,_+=n*W,B+=n*J,E+=n*X,S+=n*Y,A+=(n=t[8])*U,d+=n*F,p+=n*R,v+=n*D,g+=n*j,y+=n*Q,m+=n*H,b+=n*K,w+=n*V,x+=n*z,k+=n*q,_+=n*G,B+=n*W,E+=n*J,S+=n*X,C+=n*Y,d+=(n=t[9])*U,p+=n*F,v+=n*R,g+=n*D,y+=n*j,m+=n*Q,b+=n*H,w+=n*K,x+=n*V,k+=n*z,_+=n*q,B+=n*G,E+=n*W,S+=n*J,C+=n*X,I+=n*Y,p+=(n=t[10])*U,v+=n*F,g+=n*R,y+=n*D,m+=n*j,b+=n*Q,w+=n*H,x+=n*K,k+=n*V,_+=n*z,B+=n*q,E+=n*G,S+=n*W,C+=n*J,I+=n*X,P+=n*Y,v+=(n=t[11])*U,g+=n*F,y+=n*R,m+=n*D,b+=n*j,w+=n*Q,x+=n*H,k+=n*K,_+=n*V,B+=n*z,E+=n*q,S+=n*G,C+=n*W,I+=n*J,P+=n*X,T+=n*Y,g+=(n=t[12])*U,y+=n*F,m+=n*R,b+=n*D,w+=n*j,x+=n*Q,k+=n*H,_+=n*K,B+=n*V,E+=n*z,S+=n*q,C+=n*G,I+=n*W,P+=n*J,T+=n*X,O+=n*Y,y+=(n=t[13])*U,m+=n*F,b+=n*R,w+=n*D,x+=n*j,k+=n*Q,_+=n*H,B+=n*K,E+=n*V,S+=n*z,C+=n*q,I+=n*G,P+=n*W,T+=n*J,O+=n*X,L+=n*Y,m+=(n=t[14])*U,b+=n*F,w+=n*R,x+=n*D,k+=n*j,_+=n*Q,B+=n*H,E+=n*K,S+=n*V,C+=n*z,I+=n*q,P+=n*G,T+=n*W,O+=n*J,L+=n*X,N+=n*Y,b+=(n=t[15])*U,o+=38*(x+=n*R),s+=38*(k+=n*D),u+=38*(_+=n*j),c+=38*(B+=n*Q),l+=38*(E+=n*H),f+=38*(S+=n*K),h+=38*(C+=n*V),A+=38*(I+=n*z),d+=38*(P+=n*q),p+=38*(T+=n*G),v+=38*(O+=n*W),g+=38*(L+=n*J),y+=38*(N+=n*X),m+=38*(M+=n*Y),a=(n=(a+=38*(w+=n*F))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=o,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=h,e[8]=A,e[9]=d,e[10]=p,e[11]=v,e[12]=g,e[13]=y,e[14]=m,e[15]=b}function D(e,t){R(e,t,t)}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)D(i,i),2!==n&&4!==n&&R(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function Q(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)D(i,i),1!==n&&R(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function H(e,r,n){var i,a,o=new Uint8Array(32),u=new Float64Array(80),c=t(),l=t(),f=t(),h=t(),A=t(),d=t();for(a=0;a<31;a++)o[a]=r[a];for(o[31]=127&r[31]|64,o[0]&=248,M(u,n),a=0;a<16;a++)l[a]=u[a],h[a]=c[a]=f[a]=0;for(c[0]=h[0]=1,a=254;a>=0;--a)T(c,l,i=o[a>>>3]>>>(7&a)&1),T(f,h,i),U(A,c,f),F(c,c,f),U(f,l,h),F(l,l,h),D(h,A),D(d,c),R(c,f,c),R(f,l,A),U(A,c,f),F(c,c,f),D(l,c),F(f,h,d),R(c,f,s),U(c,c,h),R(f,f,c),R(c,h,d),R(h,l,u),D(l,A),T(c,l,i),T(f,h,i);for(a=0;a<16;a++)u[a+16]=c[a],u[a+32]=f[a],u[a+48]=l[a],u[a+64]=h[a];var p=u.subarray(32),v=u.subarray(16);return j(p,p),R(v,v,p),O(e,v),0}function K(e,t){return H(e,t,i)}function V(e,t){return r(t,32),K(e,t)}function z(e,t,r){var i=new Uint8Array(32);return H(i,r,t),y(e,n,i,m)}_.prototype.blocks=function(e,t,r){for(var n,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x=this.fin?0:2048,k=this.h[0],_=this.h[1],B=this.h[2],E=this.h[3],S=this.h[4],C=this.h[5],I=this.h[6],P=this.h[7],T=this.h[8],O=this.h[9],L=this.r[0],N=this.r[1],M=this.r[2],U=this.r[3],F=this.r[4],R=this.r[5],D=this.r[6],j=this.r[7],Q=this.r[8],H=this.r[9];r>=16;)h=f=0,h+=(k+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*L,h+=(_+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),h+=(B+=8191&(i>>>10|(a=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*Q),h+=(E+=8191&(a>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*j),f=(h+=(S+=8191&(o>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*D))>>>13,h&=8191,h+=(C+=s>>>1&8191)*(5*R),h+=(I+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*F),h+=(P+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),h+=(T+=8191&(c>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*M),A=f+=(h+=(O+=l>>>5|x)*(5*N))>>>13,A+=k*N,A+=_*L,A+=B*(5*H),A+=E*(5*Q),f=(A+=S*(5*j))>>>13,A&=8191,A+=C*(5*D),A+=I*(5*R),A+=P*(5*F),A+=T*(5*U),f+=(A+=O*(5*M))>>>13,A&=8191,d=f,d+=k*M,d+=_*N,d+=B*L,d+=E*(5*H),f=(d+=S*(5*Q))>>>13,d&=8191,d+=C*(5*j),d+=I*(5*D),d+=P*(5*R),d+=T*(5*F),p=f+=(d+=O*(5*U))>>>13,p+=k*U,p+=_*M,p+=B*N,p+=E*L,f=(p+=S*(5*H))>>>13,p&=8191,p+=C*(5*Q),p+=I*(5*j),p+=P*(5*D),p+=T*(5*R),v=f+=(p+=O*(5*F))>>>13,v+=k*F,v+=_*U,v+=B*M,v+=E*N,f=(v+=S*L)>>>13,v&=8191,v+=C*(5*H),v+=I*(5*Q),v+=P*(5*j),v+=T*(5*D),g=f+=(v+=O*(5*R))>>>13,g+=k*R,g+=_*F,g+=B*U,g+=E*M,f=(g+=S*N)>>>13,g&=8191,g+=C*L,g+=I*(5*H),g+=P*(5*Q),g+=T*(5*j),y=f+=(g+=O*(5*D))>>>13,y+=k*D,y+=_*R,y+=B*F,y+=E*U,f=(y+=S*M)>>>13,y&=8191,y+=C*N,y+=I*L,y+=P*(5*H),y+=T*(5*Q),m=f+=(y+=O*(5*j))>>>13,m+=k*j,m+=_*D,m+=B*R,m+=E*F,f=(m+=S*U)>>>13,m&=8191,m+=C*M,m+=I*N,m+=P*L,m+=T*(5*H),b=f+=(m+=O*(5*Q))>>>13,b+=k*Q,b+=_*j,b+=B*D,b+=E*R,f=(b+=S*F)>>>13,b&=8191,b+=C*U,b+=I*M,b+=P*N,b+=T*L,w=f+=(b+=O*(5*H))>>>13,w+=k*H,w+=_*Q,w+=B*j,w+=E*D,f=(w+=S*R)>>>13,w&=8191,w+=C*F,w+=I*U,w+=P*M,w+=T*N,k=h=8191&(f=(f=((f+=(w+=O*L)>>>13)<<2)+f|0)+(h&=8191)|0),_=A+=f>>>=13,B=d&=8191,E=p&=8191,S=v&=8191,C=g&=8191,I=y&=8191,P=m&=8191,T=b&=8191,O=w&=8191,t+=16,r-=16;this.h[0]=k,this.h[1]=_,this.h[2]=B,this.h[3]=E,this.h[4]=S,this.h[5]=C,this.h[6]=I,this.h[7]=P,this.h[8]=T,this.h[9]=O},_.prototype.finish=function(e,t){var r,n,i,a,o=new Uint16Array(10);if(this.leftover){for(a=this.leftover,this.buffer[a++]=1;a<16;a++)this.buffer[a]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,a=2;a<10;a++)this.h[a]+=r,r=this.h[a]>>>13,this.h[a]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,a=1;a<10;a++)o[a]=this.h[a]+r,r=o[a]>>>13,o[a]&=8191;for(o[9]-=8192,n=(1^r)-1,a=0;a<10;a++)o[a]&=n;for(n=~n,a=0;a<10;a++)this.h[a]=this.h[a]&n|o[a];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,a=1;a<8;a++)i=(this.h[a]+this.pad[a]|0)+(i>>>16)|0,this.h[a]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},_.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var q=S,G=C,W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,r,n){for(var i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P=new Int32Array(16),T=new Int32Array(16),O=e[0],L=e[1],N=e[2],M=e[3],U=e[4],F=e[5],R=e[6],D=e[7],j=t[0],Q=t[1],H=t[2],K=t[3],V=t[4],z=t[5],q=t[6],G=t[7],J=0;n>=128;){for(x=0;x<16;x++)k=8*x+J,P[x]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],T[x]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(x=0;x<80;x++)if(i=O,a=L,o=N,s=M,u=U,c=F,l=R,h=j,A=Q,d=H,p=K,v=V,g=z,y=q,E=65535&(B=G),S=B>>>16,C=65535&(_=D),I=_>>>16,E+=65535&(B=(V>>>14|U<<18)^(V>>>18|U<<14)^(U>>>9|V<<23)),S+=B>>>16,C+=65535&(_=(U>>>14|V<<18)^(U>>>18|V<<14)^(V>>>9|U<<23)),I+=_>>>16,E+=65535&(B=V&z^~V&q),S+=B>>>16,C+=65535&(_=U&F^~U&R),I+=_>>>16,E+=65535&(B=W[2*x+1]),S+=B>>>16,C+=65535&(_=W[2*x]),I+=_>>>16,_=P[x%16],S+=(B=T[x%16])>>>16,C+=65535&_,I+=_>>>16,C+=(S+=(E+=65535&B)>>>16)>>>16,E=65535&(B=w=65535&E|S<<16),S=B>>>16,C=65535&(_=b=65535&C|(I+=C>>>16)<<16),I=_>>>16,E+=65535&(B=(j>>>28|O<<4)^(O>>>2|j<<30)^(O>>>7|j<<25)),S+=B>>>16,C+=65535&(_=(O>>>28|j<<4)^(j>>>2|O<<30)^(j>>>7|O<<25)),I+=_>>>16,S+=(B=j&Q^j&H^Q&H)>>>16,C+=65535&(_=O&L^O&N^L&N),I+=_>>>16,f=65535&(C+=(S+=(E+=65535&B)>>>16)>>>16)|(I+=C>>>16)<<16,m=65535&E|S<<16,E=65535&(B=p),S=B>>>16,C=65535&(_=s),I=_>>>16,S+=(B=w)>>>16,C+=65535&(_=b),I+=_>>>16,L=i,N=a,M=o,U=s=65535&(C+=(S+=(E+=65535&B)>>>16)>>>16)|(I+=C>>>16)<<16,F=u,R=c,D=l,O=f,Q=h,H=A,K=d,V=p=65535&E|S<<16,z=v,q=g,G=y,j=m,x%16==15)for(k=0;k<16;k++)_=P[k],E=65535&(B=T[k]),S=B>>>16,C=65535&_,I=_>>>16,_=P[(k+9)%16],E+=65535&(B=T[(k+9)%16]),S+=B>>>16,C+=65535&_,I+=_>>>16,b=P[(k+1)%16],E+=65535&(B=((w=T[(k+1)%16])>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),S+=B>>>16,C+=65535&(_=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7),I+=_>>>16,b=P[(k+14)%16],S+=(B=((w=T[(k+14)%16])>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26))>>>16,C+=65535&(_=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6),I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,P[k]=65535&C|I<<16,T[k]=65535&E|S<<16;E=65535&(B=j),S=B>>>16,C=65535&(_=O),I=_>>>16,_=e[0],S+=(B=t[0])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[0]=O=65535&C|I<<16,t[0]=j=65535&E|S<<16,E=65535&(B=Q),S=B>>>16,C=65535&(_=L),I=_>>>16,_=e[1],S+=(B=t[1])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[1]=L=65535&C|I<<16,t[1]=Q=65535&E|S<<16,E=65535&(B=H),S=B>>>16,C=65535&(_=N),I=_>>>16,_=e[2],S+=(B=t[2])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[2]=N=65535&C|I<<16,t[2]=H=65535&E|S<<16,E=65535&(B=K),S=B>>>16,C=65535&(_=M),I=_>>>16,_=e[3],S+=(B=t[3])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[3]=M=65535&C|I<<16,t[3]=K=65535&E|S<<16,E=65535&(B=V),S=B>>>16,C=65535&(_=U),I=_>>>16,_=e[4],S+=(B=t[4])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[4]=U=65535&C|I<<16,t[4]=V=65535&E|S<<16,E=65535&(B=z),S=B>>>16,C=65535&(_=F),I=_>>>16,_=e[5],S+=(B=t[5])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[5]=F=65535&C|I<<16,t[5]=z=65535&E|S<<16,E=65535&(B=q),S=B>>>16,C=65535&(_=R),I=_>>>16,_=e[6],S+=(B=t[6])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[6]=R=65535&C|I<<16,t[6]=q=65535&E|S<<16,E=65535&(B=G),S=B>>>16,C=65535&(_=D),I=_>>>16,_=e[7],S+=(B=t[7])>>>16,C+=65535&_,I+=_>>>16,I+=(C+=(S+=(E+=65535&B)>>>16)>>>16)>>>16,e[7]=D=65535&C|I<<16,t[7]=G=65535&E|S<<16,J+=128,n-=128}return n}function X(e,t,r){var n,i=new Int32Array(8),a=new Int32Array(8),o=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,J(i,a,t,r),r%=128,n=0;n<r;n++)o[n]=t[s-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,A(o,r-8,s/536870912|0,s<<3),J(i,a,o,r),n=0;n<8;n++)A(e,8*n,i[n],a[n]);return 0}function Y(e,r){var n=t(),i=t(),a=t(),o=t(),s=t(),u=t(),l=t(),f=t(),h=t();F(n,e[1],e[0]),F(h,r[1],r[0]),R(n,n,h),U(i,e[0],e[1]),U(h,r[0],r[1]),R(i,i,h),R(a,e[3],r[3]),R(a,a,c),R(o,e[2],r[2]),U(o,o,o),F(s,i,n),F(u,o,a),U(l,o,a),U(f,i,n),R(e[0],s,u),R(e[1],f,l),R(e[2],l,u),R(e[3],s,f)}function $(e,t,r){var n;for(n=0;n<4;n++)T(e[n],t[n],r)}function Z(e,r){var n=t(),i=t(),a=t();j(a,r[2]),R(n,r[0],a),R(i,r[1],a),O(e,i),e[31]^=N(n)<<7}function ee(e,t,r){var n,i;for(I(e[0],a),I(e[1],o),I(e[2],o),I(e[3],a),i=255;i>=0;--i)$(e,t,n=r[i/8|0]>>(7&i)&1),Y(t,e),Y(e,e),$(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];I(n[0],l),I(n[1],f),I(n[2],o),R(n[3],l,f),ee(e,n,r)}function re(e,n,i){var a,o=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||r(n,32),X(o,n,32),o[0]&=248,o[31]&=127,o[31]|=64,te(s,o),Z(e,s),a=0;a<32;a++)n[a+32]=e[a];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ae(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function oe(e,r,n,i){var a,o,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];X(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=n+64;for(a=0;a<n;a++)e[64+a]=r[a];for(a=0;a<32;a++)e[32+a]=s[32+a];for(X(c,e.subarray(32),n+32),ae(c),te(f,c),Z(e,f),a=32;a<64;a++)e[a]=i[a];for(X(u,e,n+64),ae(u),a=0;a<64;a++)l[a]=0;for(a=0;a<32;a++)l[a]=c[a];for(a=0;a<32;a++)for(o=0;o<32;o++)l[a+o]+=u[a]*s[o];return ie(e.subarray(32),l),h}function se(e,r,n,i){var s,c=new Uint8Array(32),l=new Uint8Array(64),f=[t(),t(),t(),t()],A=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),c=t(),l=t(),f=t(),A=t();return I(e[2],o),M(e[1],r),D(s,e[1]),R(c,s,u),F(s,s,e[2]),U(c,e[2],c),D(l,c),D(f,l),R(A,f,l),R(n,A,s),R(n,n,c),Q(n,n),R(n,n,s),R(n,n,c),R(n,n,c),R(e[0],n,c),D(i,e[0]),R(i,i,c),L(i,s)&&R(e[0],e[0],h),D(i,e[0]),R(i,i,c),L(i,s)?-1:(N(e[0])===r[31]>>7&&F(e[0],a,e[0]),R(e[3],e[0],e[1]),0)}(A,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(X(l,e,n),ae(l),ee(f,A,l),te(A,r.subarray(32)),Y(f,A),Z(c,f),n-=64,v(r,0,c,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ue=64,ce=32,le=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function he(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ae(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:k,crypto_stream:x,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:w,crypto_onetimeauth:B,crypto_onetimeauth_verify:E,crypto_verify_16:p,crypto_verify_32:v,crypto_secretbox:S,crypto_secretbox_open:C,crypto_scalarmult:H,crypto_scalarmult_base:K,crypto_box_beforenm:z,crypto_box_afternm:q,crypto_box:function(e,t,r,n,i,a){var o=new Uint8Array(32);return z(o,i,a),q(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,a){var o=new Uint8Array(32);return z(o,i,a),G(e,t,r,n,o)},crypto_box_keypair:V,crypto_hash:X,crypto_sign:oe,crypto_sign_keypair:re,crypto_sign_open:se,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:ce,crypto_sign_SECRETKEYBYTES:le,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ne,pack25519:O,unpack25519:M,M:R,A:U,S:D,Z:F,pow2523:Q,add:Y,set25519:I,modL:ie,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){he(e,t,r),fe(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),a=0;a<e.length;a++)n[a+32]=e[a];return S(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){he(e,t,r),fe(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),a=0;a<e.length;a++)n[a+16]=e[a];return n.length<32||0!==C(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(he(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return H(r,e,t),r},e.scalarMult.base=function(e){if(he(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return K(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var a=e.box.before(n,i);return e.secretbox(t,r,a)},e.box.before=function(e,t){he(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return z(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var a=e.box.before(n,i);return e.secretbox.open(t,r,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(he(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return K(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(he(e,t),t.length!==le)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return oe(r,e,e.length,t),r},e.sign.open=function(e,t){if(he(e,t),t.length!==ce)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=se(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),a=0;a<i.length;a++)i[a]=r[a];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ue),a=0;a<i.length;a++)i[a]=n[a];return i},e.sign.detached.verify=function(e,t,r){if(he(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==ce)throw new Error("bad public key size");var n,i=new Uint8Array(ue+e.length),a=new Uint8Array(ue+e.length);for(n=0;n<ue;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ue]=e[n];return se(a,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(ce),t=new Uint8Array(le);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(he(e),e.length!==le)throw new Error("bad secret key size");for(var t=new Uint8Array(ce),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(he(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(ce),r=new Uint8Array(le),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=ce,e.sign.secretKeyLength=le,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){he(e);var t=new Uint8Array(64);return X(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return he(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===d(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];Ae(i)})):(t=wd)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];Ae(i)}))}()}(bd.exports?bd.exports:self.nacl=self.nacl||{});var xd=bd.exports;!function(e){!function(t,r){e.exports?e.exports=r(bd.exports):t.ed2curve=r(t.nacl)}(Ba,(function(e){if(!e)throw new Error("tweetnacl not loaded");var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=t(),n=t([1]),i=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),a=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function o(e){var t,r;for(r=0;r<16;r++)e[r]+=65536,t=Math.floor(e[r]/65536),e[(r+1)*(r<15?1:0)]+=t-1+37*(t-1)*(15===r?1:0),e[r]-=65536*t}function s(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function u(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]+r[n]|0}function c(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]-r[n]|0}function l(e,t,r){var n,i,a=new Float64Array(31);for(n=0;n<31;n++)a[n]=0;for(n=0;n<16;n++)for(i=0;i<16;i++)a[n+i]+=t[n]*r[i];for(n=0;n<15;n++)a[n]+=38*a[n+16];for(n=0;n<16;n++)e[n]=a[n];o(e),o(e)}function f(e,t){l(e,t,t)}function h(e,r){var n,i,a,u=t(),c=t();for(n=0;n<16;n++)c[n]=r[n];for(o(c),o(c),o(c),i=0;i<2;i++){for(u[0]=c[0]-65517,n=1;n<15;n++)u[n]=c[n]-65535-(u[n-1]>>16&1),u[n-1]&=65535;u[15]=c[15]-32767-(u[14]>>16&1),a=u[15]>>16&1,u[14]&=65535,s(c,u,1-a)}for(n=0;n<16;n++)e[2*n]=255&c[n],e[2*n+1]=c[n]>>8}function A(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return h(r,e),h(n,t),function(e,t,r,n){return function(e,t,r,n,i){var a,o=0;for(a=0;a<32;a++)o|=e[0+a]^r[0+a];return(1&o-1>>>8)-1}(e,0,r)}(r,0,n)}function d(e,o){var s=t(),d=t(),p=t(),v=t(),g=t(),y=t(),m=t();return function(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}(e[2],n),function(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],o),f(p,e[1]),l(v,p,i),c(p,p,e[2]),u(v,e[2],v),f(g,v),f(y,g),l(m,y,g),l(s,m,p),l(s,s,v),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)f(i,i),1!==n&&l(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(s,s),l(s,s,p),l(s,s,v),l(s,s,v),l(e[0],s,v),f(d,e[0]),l(d,d,v),A(d,p)&&l(e[0],e[0],a),f(d,e[0]),l(d,d,v),A(d,p)?-1:(function(e){var t=new Uint8Array(32);return h(t,e),1&t[0]}(e[0])===o[31]>>7&&c(e[0],r,e[0]),l(e[3],e[0],e[1]),0)}function p(e){var r=new Uint8Array(32),i=[t(),t(),t(),t()],a=t(),o=t();if(d(i,e))return null;var s=i[1];return u(a,n,s),c(o,n,s),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)f(i,i),2!==n&&4!==n&&l(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(o,o),l(a,a,o),h(r,a),r}function v(t){var r,n=new Uint8Array(64),i=new Uint8Array(32);for(e.lowlevel.crypto_hash(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,r=0;r<32;r++)i[r]=n[r];for(r=0;r<64;r++)n[r]=0;return i}return{convertPublicKey:p,convertSecretKey:v,convertKeyPair:function(e){var t=p(e.publicKey);return t?{publicKey:t,secretKey:v(e.secretKey)}:null}}}))}(md);var kd=md.exports,_d=new Uint8Array([237,1]),Bd=new Uint8Array([128,38]),Ed=new Uint8Array([236,1]),Sd=new Uint8Array([130,38]),Cd=function(e){f(h,e);var t,i,a,u,l=w(h);function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,h),(e=l.call(this,t)).type="X25519KeyAgreementKey2020";var r=t.publicKeyMultibase,n=t.privateKeyMultibase;if(!r)throw new TypeError('The "publicKeyMultibase" property is required.');if(!r||!Id(r,Ed))throw new Error('"publicKeyMultibase" has invalid header bytes: "'.concat(r,'".'));if(n&&!Id(n,Sd))throw new Error('"privateKeyMultibase" has invalid header bytes.');return e.publicKeyMultibase=r,e.privateKeyMultibase=n,e.controller&&!e.id&&(e.id="".concat(e.controller,"#").concat(e.fingerprint())),e}return c(h,[{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publicKey,r=void 0!==t&&t,n=e.privateKey,i=void 0!==n&&n,a=e.includeContext,o=void 0!==a&&a;if(!r&&!i)throw new TypeError('Export requires specifying either "publicKey" or "privateKey".');var s={id:this.id,type:this.type};return o&&(s["@context"]=h.SUITE_CONTEXT),this.controller&&(s.controller=this.controller),r&&(s.publicKeyMultibase=this.publicKeyMultibase),i&&(s.privateKeyMultibase=this.privateKeyMultibase),this.revoked&&(s.revoked=this.revoked),s}},{key:"deriveSecret",value:(u=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.publicKey,i=Td(Ed,r.publicKeyMultibase),e.abrupt("return",function(){var e=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.privateKey,i=t.remotePublicKey,e.abrupt("return",xd.scalarMult(r,i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()({privateKey:Td(Sd,this.privateKeyMultibase),remotePublicKey:i}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"fingerprint",value:function(){return this.publicKeyMultibase}},{key:"verifyFingerprint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fingerprint;if(!Id(t,Ed))throw new Error('"fingerprint" has invalid header bytes: "'.concat(t,'".'));return{valid:!0}}}],[{key:"generate",value:(a=o(n().mark((function e(){var t,i,a,s,u=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,o(n().mark((function e(){var t,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xd.box.keyPair(),r=t.publicKey,i=t.secretKey,e.abrupt("return",{publicKey:r,privateKey:i});case 2:case"end":return e.stop()}}),e)})))();case 3:return i=e.sent,a=i.publicKey,s=i.privateKey,e.abrupt("return",new h(r({publicKeyMultibase:Pd(Ed,a),privateKeyMultibase:Pd(Sd,s)},t)));case 7:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"from",value:(i=o(n().mark((function e(){var t,r=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.abrupt("return",t.publicKeyBase58?this.fromX25519KeyAgreementKey2019(t):new h(t));case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"fromX25519KeyAgreementKey2019",value:(t=o(n().mark((function e(){var t,i,a,o,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},i=t.publicKeyBase58,a=t.privateKeyBase58,o=y(t,ka),e.abrupt("return",(i&&(s=Pd(Ed,hA(i))),a&&(u=Pd(Sd,hA(a))),new h(r({publicKeyMultibase:s,privateKeyMultibase:u},o))));case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"fromEd25519VerificationKey2020",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keyPair;if(!t.publicKeyMultibase)throw new Error("Source public key is required to convert.");if(!t.publicKeyMultibase.startsWith("z"))throw new TypeError('Expecting "publicKeyMultibase" value to be multibase base58btc encoded (must start with "z").');var r=new h({controller:t.controller,publicKeyMultibase:h.convertFromEdPublicKey(t)});if(t.privateKeyMultibase){if(!t.privateKeyMultibase.startsWith("z"))throw new TypeError('Expecting "privateKeyMultibase" value to be multibase base58btc encoded (must start with "z").');r.privateKeyMultibase=h.convertFromEdPrivateKey(t)}return r}},{key:"convertFromEdPublicKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publicKeyMultibase;if(!t)throw new Error("Source public key is required to convert.");var r=Td(_d,t),n=UA.fromHex(r).toX25519();if(!n)throw new Error("Error converting to X25519; Invalid Ed25519 public key.");return Pd(Ed,n)}},{key:"convertFromEdPrivateKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.privateKeyMultibase;if(!t)throw new Error("Source private key is required to convert.");var r=Td(Bd,t),n=kd.convertSecretKey(r);if(!n)throw new Error("Error converting to X25519; Invalid Ed25519 private key.");return Pd(Sd,n)}},{key:"fingerprintFromPublicKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publicKeyMultibase;if(!t)throw new Error("Source public key is required.");return t}},{key:"fromFingerprint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fingerprint;return new h({publicKeyMultibase:t})}}]),h}(Ad);
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
/*!
   * Copyright (c) 2021-2022 Digital Bazaar, Inc. All rights reserved.
   */function Id(e,t){if("string"!=typeof e||"z"!==e[0])return!1;var r=hA(e.slice(1));return t.every((function(e,t){return r[t]===e}))}function Pd(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),"z"+fA(r)}function Td(e,t){var r=hA(t.substr(1));if(!e.every((function(e,t){return r[t]===e})))throw new Error("Multibase value does not have expected header.");return r.slice(e.length)}
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */Cd.suite="X25519KeyAgreementKey2020",Cd.SUITE_CONTEXT="https://w3id.org/security/suites/x25519-2020/v1";
/*!
   * Copyright (c) 2019-2021 Digital Bazaar, Inc. All rights reserved.
   */
var Od="X25519KeyAgreementKey2019",Ld=new Uint8Array([237,1]),Nd=new Uint8Array([128,38]),Md=function(e){f(l,e);var t,i,a,u=w(l);function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s(this,l),(e=u.call(this,t)).type=Od,e.publicKeyBase58=t.publicKeyBase58,!e.publicKeyBase58)throw TypeError('The "publicKeyBase58" property is required.');return e.privateKeyBase58=t.privateKeyBase58,e.controller&&!e.id&&(e.id="".concat(e.controller,"#").concat(e.fingerprint())),b(e)}return c(l,[{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publicKey,r=void 0!==t&&t,n=e.privateKey,i=void 0!==n&&n,a=e.includeContext,o=void 0!==a&&a;if(!r&&!i)throw new TypeError('Export requires specifying either "publicKey" or "privateKey".');var s={id:this.id,type:this.type};return o&&(s["@context"]=l.SUITE_CONTEXT),this.controller&&(s.controller=this.controller),r&&(s.publicKeyBase58=this.publicKeyBase58),i&&(s.privateKeyBase58=this.privateKeyBase58),this.revoked&&(s.revoked=this.revoked),s}},{key:"deriveSecret",value:(a=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.publicKey,i=hA(r.publicKeyBase58),e.abrupt("return",function(){var e=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.privateKey,i=t.remotePublicKey,e.abrupt("return",xd.scalarMult(r,i));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()({privateKey:hA(this.privateKeyBase58),remotePublicKey:i}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fingerprint",value:function(){var e=this.publicKeyBase58;return l.fingerprintFromPublicKey({publicKeyBase58:e})}},{key:"verifyFingerprint",value:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.fingerprint;if("string"!=typeof n||"z"!==n[0])return{error:new Error("`fingerprint` must be a multibase encoded string."),valid:!1};try{e=hA(n.slice(1))}catch(n){return{error:n,valid:!1}}try{t=hA(this.publicKeyBase58)}catch(n){return{error:n,valid:!1}}var i=236===e[0]&&1===e[1]&&t.toString()===e.slice(2).toString();return i?{valid:i}:{error:new Error("The fingerprint does not match the public key."),valid:!1}}}],[{key:"generate",value:(i=o(n().mark((function e(){var t,i,a,s,u=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},e.next=3,o(n().mark((function e(){var t,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xd.box.keyPair(),r=t.publicKey,i=t.secretKey,e.abrupt("return",{publicKey:r,privateKey:i});case 2:case"end":return e.stop()}}),e)})))();case 3:return i=e.sent,a=i.publicKey,s=i.privateKey,e.abrupt("return",new l(r({publicKeyBase58:fA(a),privateKeyBase58:fA(s)},t)));case 7:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"from",value:(t=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new l(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"fromEd25519VerificationKey2018",value:function(e){var t=e.keyPair,r=new l({controller:t.controller,publicKeyBase58:l.convertFromEdPublicKey(t)});return t.privateKeyBase58&&(r.privateKeyBase58=l.convertFromEdPrivateKey(t)),r}},{key:"fromEd25519VerificationKey2020",value:function(e){var t=e.keyPair;if(!t.publicKeyMultibase)throw new Error("Source public key is required to convert.");if(!t.publicKeyMultibase.startsWith("z"))throw new TypeError("Expecting source public Ed25519 2020 key to have base58btc encoding.");var r=fA(Ud(Ld,t.publicKeyMultibase)),n=new l({controller:t.controller,publicKeyBase58:l.convertFromEdPublicKey({publicKeyBase58:r})});if(t.privateKeyMultibase){if(!t.privateKeyMultibase.startsWith("z"))throw new TypeError("Expecting source private Ed25519 2020 key to have base58btc encoding.");var i=fA(Ud(Nd,t.privateKeyMultibase));n.privateKeyBase58=l.convertFromEdPrivateKey({privateKeyBase58:i})}return n}},{key:"fromEdKeyPair",value:function(e){var t=e.keyPair;return this.fromEd25519VerificationKey2018({keyPair:t})}},{key:"convertFromEdPublicKey",value:function(e){var t=hA(e.publicKeyBase58),r=UA.fromHex(t).toX25519();if(!r)throw new Error("Error converting to X25519; Invalid Ed25519 public key.");return fA(r)}},{key:"convertFromEdPrivateKey",value:function(e){var t=hA(e.privateKeyBase58),r=kd.convertSecretKey(t);if(!r)throw new Error("Error converting to X25519; Invalid Ed25519 private key.");return fA(r)}},{key:"fingerprintFromPublicKey",value:function(e){var t=hA(e.publicKeyBase58),r=new Uint8Array(2+t.length);return r[0]=236,r[1]=1,r.set(t,2),"z".concat(fA(r))}},{key:"fromFingerprint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fingerprint;if(!t||"string"!=typeof t||"z"!==t[0])throw new Error("`fingerprint` must be a multibase encoded string.");var r=hA(t.substr(1));if(236!==r[0]||1!==r[1])throw new Error("Unsupported Fingerprint Type: ".concat(t));return new l({publicKeyBase58:fA(r.slice(2))})}}]),l}(Ad);function Ud(e,t){var r=hA(t.slice(1));if(!e.every((function(e,t){return r[t]===e})))throw new Error("Multibase value does not have expected header.");return r.slice(e.length)}
/*!
   * Copyright (c) 2021 Digital Bazaar. All rights reserved.
   */Md.suite=Od,Md.SUITE_CONTEXT="https://w3id.org/security/suites/x25519-2019/v1";var Fd=new Set(["assertionMethod","authentication","capabilityDelegation","capabilityInvocation","keyAgreement"]);
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */function Rd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.doc,r=e.methodId,n=e.purpose;if(!t)throw new TypeError("A DID Document is required.");if(!r&&!n)throw new TypeError("A method id or purpose is required.");if(r)return Dd({doc:t,methodId:r});var i=t[n]||[],a=B(i,1),o=a[0];return o&&"string"==typeof o?Dd({doc:t,methodId:o}):o}function Dd(e){var t,r=e.doc,n=e.methodId;r.verificationMethod&&(t=r.verificationMethod.find((function(e){return e.id===n})));var a,o=L(Fd);try{for(o.s();!(a=o.n()).done;){var s,u=L(r[a.value]||[]);try{for(u.s();!(s=u.n()).done;){var c=s.value;if("object"==i(c)&&c.id===n){t=c;break}}}catch(e){u.e(e)}finally{u.f()}if(t)return t}}catch(e){o.e(e)}finally{o.f()}}var jd=Qd;function Qd(e){var t=this;if(t instanceof Qd||(t=new Qd),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function Hd(e,t,r){var n=t===e.head?new zd(r,null,t,e):new zd(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function Kd(e,t){e.tail=new zd(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Vd(e,t){e.head=new zd(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function zd(e,t,r,n){if(!(this instanceof zd))return new zd(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}Qd.Node=zd,Qd.create=Qd,Qd.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Qd.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Qd.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Qd.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Kd(this,arguments[e]);return this.length},Qd.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Vd(this,arguments[e]);return this.length},Qd.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Qd.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Qd.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},Qd.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},Qd.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},Qd.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},Qd.prototype.map=function(e,t){t=t||this;for(var r=new Qd,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},Qd.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Qd,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},Qd.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},Qd.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},Qd.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},Qd.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},Qd.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Qd;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(;null!==i&&n<t;n++,i=i.next)r.push(i.value);return r},Qd.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Qd;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;null!==i&&n>t;n--)i=i.prev;for(;null!==i&&n>e;n--,i=i.prev)r.push(i.value);return r},Qd.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var i=[];for(r=0;n&&r<t;r++)i.push(n.value),n=this.removeNode(n);for(null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev),r=0;r<(arguments.length<=2?0:arguments.length-2);r++)n=Hd(this,n,r+2<2||arguments.length<=r+2?void 0:arguments[r+2]);return i},Qd.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{require("./iterator.js")(Qd)}catch(e){}var qd=jd,Gd=Symbol("max"),Wd=Symbol("length"),Jd=Symbol("lengthCalculator"),Xd=Symbol("allowStale"),Yd=Symbol("maxAge"),$d=Symbol("dispose"),Zd=Symbol("noDisposeOnSet"),ep=Symbol("lruList"),tp=Symbol("cache"),rp=Symbol("updateAgeOnGet"),np=function(){return 1},ip=function(e,t,r){var n=e[tp].get(t);if(n){var i=n.value;if(ap(e,i)){if(sp(e,n),!e[Xd])return}else r&&(e[rp]&&(n.value.now=Date.now()),e[ep].unshiftNode(n));return i.value}},ap=function(e,t){if(!t||!t.maxAge&&!e[Yd])return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Yd]&&r>e[Yd]},op=function(e){if(e[Wd]>e[Gd])for(var t=e[ep].tail;e[Wd]>e[Gd]&&null!==t;){var r=t.prev;sp(e,t),t=r}},sp=function(e,t){if(t){var r=t.value;e[$d]&&e[$d](r.key,r.value),e[Wd]-=r.length,e[tp].delete(r.key),e[ep].removeNode(t)}},up=c((function e(t,r,n,i,a){s(this,e),this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=a||0})),cp=function(e,t,r,n){var i=r.value;ap(e,i)&&(sp(e,r),e[Xd]||(i=void 0)),i&&t.call(n,i.value,i.key,e)},lp=function(){function e(t){if(s(this,e),"number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[Gd]=t.max||1/0;var r=t.length||np;if(this[Jd]="function"!=typeof r?np:r,this[Xd]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[Yd]=t.maxAge||0,this[$d]=t.dispose,this[Zd]=t.noDisposeOnSet||!1,this[rp]=t.updateAgeOnGet||!1,this.reset()}return c(e,[{key:"max",get:function(){return this[Gd]},set:function(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Gd]=e||1/0,op(this)}},{key:"allowStale",get:function(){return this[Xd]},set:function(e){this[Xd]=!!e}},{key:"maxAge",get:function(){return this[Yd]},set:function(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[Yd]=e,op(this)}},{key:"lengthCalculator",get:function(){return this[Jd]},set:function(e){var t=this;"function"!=typeof e&&(e=np),e!==this[Jd]&&(this[Jd]=e,this[Wd]=0,this[ep].forEach((function(e){e.length=t[Jd](e.value,e.key),t[Wd]+=e.length}))),op(this)}},{key:"length",get:function(){return this[Wd]}},{key:"itemCount",get:function(){return this[ep].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var r=this[ep].tail;null!==r;){var n=r.prev;cp(this,e,r,t),r=n}}},{key:"forEach",value:function(e,t){t=t||this;for(var r=this[ep].head;null!==r;){var n=r.next;cp(this,e,r,t),r=n}}},{key:"keys",value:function(){return this[ep].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[ep].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[$d]&&this[ep]&&this[ep].length&&this[ep].forEach((function(t){return e[$d](t.key,t.value)})),this[tp]=new Map,this[ep]=new qd,this[Wd]=0}},{key:"dump",value:function(){var e=this;return this[ep].map((function(t){return!ap(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[ep]}},{key:"set",value:function(e,t,r){if((r=r||this[Yd])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,i=this[Jd](t,e);if(this[tp].has(e)){if(i>this[Gd])return sp(this,this[tp].get(e)),!1;var a=this[tp].get(e).value;return this[$d]&&(this[Zd]||this[$d](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[Wd]+=i-a.length,a.length=i,this.get(e),op(this),!0}var o=new up(e,t,i,n,r);return o.length>this[Gd]?(this[$d]&&this[$d](e,t),!1):(this[Wd]+=o.length,this[ep].unshift(o),this[tp].set(e,this[ep].head),op(this),!0)}},{key:"has",value:function(e){if(!this[tp].has(e))return!1;var t=this[tp].get(e).value;return!ap(this,t)}},{key:"get",value:function(e){return ip(this,e,!0)}},{key:"peek",value:function(e){return ip(this,e,!1)}},{key:"pop",value:function(){var e=this[ep].tail;return e?(sp(this,e),e.value):null}},{key:"del",value:function(e){sp(this,this[tp].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var a=i-t;a>0&&this.set(n.k,n.v,a)}}}},{key:"prune",value:function(){var e=this;this[tp].forEach((function(t,r){return ip(e,r,!1)}))}}]),e}(),fp=new Map([[vd.suite,vd.SUITE_CONTEXT],["Ed25519VerificationKey2018","https://w3id.org/security/suites/ed25519-2018/v1"],[Cd.suite,Cd.SUITE_CONTEXT],[Md.suite,Md.SUITE_CONTEXT]]),hp=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.verificationSuite,n=void 0===r?vd:r;s(this,e),this.method="key",this.verificationSuite=n}var t,i,a,u,l;return c(e,[{key:"generate",value:(l=o(n().mark((function e(){var t,r,i,a,o,s,u=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.seed,e.next=3,this.verificationSuite.generate({seed:r});case 3:return i=e.sent,e.next=6,this._keyPairToDidDocument({keyPair:i});case 6:return a=e.sent,o=a.didDocument,s=a.keyPairs,e.abrupt("return",{didDocument:o,keyPairs:s,methodFor:function(e){var t=e.purpose,r=Rd({doc:o,purpose:t}).id;return s.get(r)}});case 10:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"publicMethodFor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.didDocument,r=e.purpose;if(!t)throw new TypeError('The "didDocument" parameter is required.');if(!r)throw new TypeError('The "purpose" parameter is required.');var n=Rd({doc:t,purpose:r});if(!n)throw new Error('No verification method found for purpose "'.concat(r,'"'));return n}},{key:"get",value:(u=o(n().mark((function e(){var t,i,a,o,s,u,c,l,f,h,A,d=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},i=t.did,a=t.url,i=i||a){e.next=3;break}throw new TypeError('"did" must be a string.');case 3:return o=i.split("#"),s=B(o,2),u=s[0],c=s[1],l=u.substr("did:key:".length),f=this.verificationSuite.fromFingerprint({fingerprint:l}),e.next=11,this._keyPairToDidDocument({keyPair:f});case 11:return h=e.sent,A=h.didDocument,e.abrupt("return",c?function(e){var t,n=e.didDocument,i=e.keyIdFragment,a=n.id+"#"+i;return t=n.verificationMethod[0].id===a?n.verificationMethod[0]:n.keyAgreement[0],r({"@context":fp.get(t.type)},t)}({didDocument:A,keyIdFragment:c}):A);case 14:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"publicKeyToDidDoc",value:(a=o(n().mark((function e(){var t,r,i,a,o=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.publicKeyDescription,e.next=3,this._keyPairToDidDocument({keyPair:r});case 3:return i=e.sent,a=i.didDocument,e.abrupt("return",{didDocument:a});case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_keyPairToDidDocument",value:(i=o(n().mark((function e(){var t,i,a,o,s,u,c,l,f,h,A=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.length>0&&void 0!==A[0]?A[0]:{},i=t.keyPair,e.next=3,this.verificationSuite.from(r({},i));case 3:if(a=e.sent,o="did:key:".concat(a.fingerprint()),a.controller=o,s=["https://www.w3.org/ns/did/v1"],"Ed25519VerificationKey2020"!==a.type){e.next=11;break}u=Cd.fromEd25519VerificationKey2020({keyPair:a}),s.push(vd.SUITE_CONTEXT,Cd.SUITE_CONTEXT),e.next=14;break;case 11:if("Ed25519VerificationKey2018"===a.type){e.next=13;break}throw new Error('Cannot derive key agreement key from verification key type "'+a.type+'".');case 13:u=Md.fromEd25519VerificationKey2018({keyPair:a}),s.push("https://w3id.org/security/suites/ed25519-2018/v1",Md.SUITE_CONTEXT);case 14:return a.id="".concat(o,"#").concat(a.fingerprint()),c=a.export({publicKey:!0}),l=u.export({publicKey:!0}),f={"@context":s,id:o,verificationMethod:[c],authentication:[c.id],assertionMethod:[c.id],capabilityDelegation:[c.id],capabilityInvocation:[c.id],keyAgreement:[l]},h=new Map,e.abrupt("return",(h.set(a.id,a),h.set(u.id,u),{didDocument:f,keyPairs:h}));case 17:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"computeId",value:(t=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.keyPair,e.abrupt("return","did:key:".concat(r.fingerprint(),"#").concat(r.fingerprint()));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}();function Ap(e){return dp.apply(this,arguments)}function dp(){return dp=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new hp,e.next=3,r.get({did:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}var pp,vp,gp=r(r({},Object.freeze({__proto__:null,resolve:(vp=o(n().mark((function e(t){var r,i,a=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:oA.url,!uA(t)){e.next=5;break}return e.next=4,Ap(t);case 4:return e.abrupt("return",e.sent);case 5:return e.next=7,Nh({url:"".concat(r,"/").concat(t)});case 7:return i=e.sent,e.abrupt("return",JSON.parse(i).didDocument);case 9:case"end":return e.stop()}}),e)}))),function(e){return vp.apply(this,arguments)}),resolveDidKeyDocument:Ap,getIssuerProfileUrl:function(e){var t;if(!e.service)return"";var r=null===(t=e.service.find((function(e){return"IssuerProfile"===e.type})))||void 0===t?void 0:t.serviceEndpoint;return null!=r?r:""}})),{},{didResolver:oA});!function(e){e.DEFAULT="standby",e.FAILURE="failure",e.STARTING="starting",e.SUCCESS="success"}(pp||(pp={}));var yp=c((function e(t,r){s(this,e),l(this,"code",void 0),l(this,"label",void 0),l(this,"labelPending",void 0),l(this,"parentStep",void 0),l(this,"status",void 0),this.code=r,this.label=Qu("subSteps","".concat(r,"Label")),this.labelPending=Qu("subSteps","".concat(r,"LabelPending")),this.parentStep=t,this.status=pp.DEFAULT}));function mp(e){return""===e?0:function(e){var t=Date.parse(e);if(t)return new Date(t);var r=function(e){var t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));var r=e.slice(-5),n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t}(e);return r||function(e){var t,r,n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,(t=new Date(Date.UTC.apply(Date,t))).getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}("".concat(e)).getTime()}function bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.created?mp(e.created):null,n=e.revoked?mp(e.revoked):null,i=e.expires?mp(e.expires):null,a=t;return t||(a=(e.id||e.publicKey).replace("ecdsa-koblitz-pubkey:","")),new Gu(a,r,n,i)}var wp,xp=Object.freeze({__proto__:null,convertToVerificationSubsteps:function(e,t){return new yp(e,t)},findVerificationSubstep:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=0;n<t.length;n++){var i,a=t[n].subSteps.find((function(t){return t.code===e}));if(a&&""===r)return a;if(null!==(i=t[n].suites)&&void 0!==i&&i.length)for(var o=0;o<t[n].suites.length;o++){var s=t[n].suites[o];if(a=s.subSteps.find((function(t){return t.code===e})),a&&s.proofType===r)return a}}},getIssuerProfile:function(){var e=o(n().mark((function e(a){var o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Qu("errors","getIssuerProfile"),a){e.next=3;break}throw new Ju("getIssuerProfile","".concat(o," - ").concat(Qu("errors","issuerProfileNotSet")));case 3:if("object"==i(a)&&(a=a.id),!sA(a)){e.next=28;break}return e.prev=4,e.next=7,kp.did.resolve(a);case 7:if(u=e.sent,!uA(a)){e.next=12;break}s=function(e){return{"@context":["https://w3id.org/openbadges/v2","https://w3id.org/blockcerts/3.0"],publicKey:[{created:(new Date).toISOString(),id:e.id.split(":").pop()}]}}(u),e.next=20;break;case 12:return e.next=14,kp.did.getIssuerProfileUrl(u);case 14:if(c=e.sent,e.t0=c,!e.t0){e.next=20;break}return e.next=19,t(c);case 19:s=e.sent;case 20:return e.abrupt("return",r({didDocument:u},s));case 23:throw e.prev=23,e.t1=e.catch(4),console.error(e.t1),new Ju("getIssuerProfile","".concat(o," - ").concat(e.t1));case 26:e.next=30;break;case 28:if(function(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}(a)){e.next=30;break}throw new Ju("getIssuerProfile","".concat(o," - ").concat(Qu("errors","issuerProfileNotSet")));case 30:return e.t2=JSON,e.next=33,Nh({url:a}).catch((function(){throw new Ju("getIssuerProfile",o)}));case 33:if(e.t3=e.sent,function(e){var t=["issuer","profile"],r=e.type;return!!r&&(Array.isArray(r)?r.some((function(e){return t.includes(e.toLowerCase())})):t.includes(r.toLowerCase()))}(s=e.t2.parse.call(e.t2,e.t3))||function(e){var t=e.issuer_key,r=e.revocation_key,n=e.issuerKeys,i=e.revocationKeys;return!(!t||!r)||!(!n||!i)}(s)){e.next=37;break}throw new Ju("getIssuerProfile","".concat(o," - ").concat(Qu("errors","issuerProfileInvalid")));case 37:return e.abrupt("return",s);case 38:case"end":return e.stop()}}),e,null,[[4,23]])})));function t(t){return e.apply(this,arguments)}return t}(),getRevokedAssertions:(wp=o(n().mark((function e(t,r){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return a=Qu("errors","getRevokedAssertions"),r&&(t=function(e,t,r){var n=e.includes("?")?"&":"?";return"".concat(e).concat(n).concat("assertionId","=").concat(r)}(t,0,encodeURIComponent(r))),e.next=6,Nh({url:t}).catch((function(){throw new Ju(qu.checkRevokedStatus,a)}));case 6:return o=e.sent,e.abrupt("return",null!==(i=JSON.parse(o).revokedAssertions)&&void 0!==i?i:[]);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return wp.apply(this,arguments)}),lookForTx:function(e){var t=e.transactionId,r=e.chain,i=e.explorerAPIs,a=void 0===i?[]:i;return rA(this,void 0,void 0,n().mark((function e(){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tA(a),o=function(e){var t=e.defaultAPIs,r=e.customAPIs,n=[t];if(null==r?void 0:r.length){var i=r[0].priority;n.splice(i,0,r)}if(1>t.concat(r).length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");return n}({defaultAPIs:nA(r,i),customAPIs:i.custom}),e.next=3,aA(o,0,t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))},parseIssuerKeys:function(e){try{var t={};if("@context"in e)for(var r=e.publicKey||e.publicKeys,n=0;n<r.length;n++){var i=bp(r[n]);t[i.publicKey]=i}else{var a=bp({},(e.issuerKeys||[])[0].key);t[a.publicKey]=a}return t}catch(e){throw console.error(e),new Ju("parseIssuerKeys",Qu("errors","parseIssuerKeys"))}},parseRevocationKey:function(e){return e&&Object.prototype.hasOwnProperty.call(e,"revocationKeys")&&e.revocationKeys.length>0?e.revocationKeys[0].key:""}}),kp={addresses:Ru,certificates:ic,chains:ac,did:gp,i18n:Hu,verifier:xp};function _p(e){return e.credentialSubject.name||""}function Bp(e){"string"==typeof e&&(e=[e]);var t,r,n=(t=function(e){return e.filter(_u)}(e),t.find((function(e){return e.toLowerCase().indexOf("blockcerts")>0}))),i=n.split("/").filter((function(e){return""!==e})),a=Object.keys(Cp),o=parseInt(a.filter((function(e){return function(e,t){return e.some((function(e){return e.includes("v".concat(t))||e.includes("".concat(t,"."))}))}(i,e.toString())}))[0],10);switch(o){case 1:r=Eu.V1_2;break;case 2:r=Eu.V2_0;break;case 3:if(n.includes("-alpha")){r=Eu.V3_0_alpha;break}if(n.includes("-beta")){r=Eu.V3_0_beta;break}r=Eu.V3_0}return{versionNumber:o,version:r}}var Ep,Sp,Cp={1:function(){throw new Ju("","Verification of v1 certificates is not supported by this component. See the python cert-verifier for v1.1 verification or the npm package cert-verifier-js-v1-legacy for v1.2 (https://www.npmjs.com/package/@blockcerts/cert-verifier-js-v1-legacy)")},2:(Sp=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p,v;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.expires,a=t.badge,o=a.image,s=a.name,u=a.description,c=a.subtitle,l=a.issuer,f=t.recipientProfile||t.recipient.recipientProfile,h=t.issuedOn,A=t.metadataJson,d=f.name,p=function(e){var t=[];for(var r in e){var n=e[r],i=new Wu(n.image,n.jobTitle,n.name);t.push(i)}return t}(a.signatureLines),e.next=15,kp.verifier.getIssuerProfile(l);case 15:return v=e.sent,e.abrupt("return",{certificateImage:o,description:u,expires:i,id:r,issuedOn:h,issuer:v,metadataJson:A,name:s,recipientFullName:d,recordLink:r,revocationKey:null,sealImage:v.image,signatureImage:p,subtitle:c});case 17:case"end":return e.stop()}}),e)}))),function(e){return Sp.apply(this,arguments)}),3:(Ep=o(n().mark((function e(t){var r,i,a,o,s,u,c,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.issuer,i=t.metadataJson,a=t.metadata,o=t.issuanceDate,s=t.id,u=t.expirationDate,c=t.display,l=a||i,e.t0=c,e.t1=u,e.t2=o,e.t3=s,e.next=7,kp.verifier.getIssuerProfile(r);case 7:return e.t4=e.sent,e.t5=l,e.t6=_p(t),e.t7=s,e.abrupt("return",{display:e.t0,expires:e.t1,issuedOn:e.t2,id:e.t3,issuer:e.t4,metadataJson:e.t5,recipientFullName:e.t6,recordLink:e.t7});case 12:case"end":return e.stop()}}),e)}))),function(e){return Ep.apply(this,arguments)})},Ip={exports:{}},Pp=6e4,Tp=36e5,Op=24*Tp,Lp=function(e,t){t=t||{};var r=i(e);if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*Op;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Tp;case"minutes":case"minute":case"mins":case"min":case"m":return r*Pp;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=Op?Np(e,t,Op,"day"):t>=Tp?Np(e,t,Tp,"hour"):t>=Pp?Np(e,t,Pp,"minute"):t>=1e3?Np(e,t,1e3,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=Op?Math.round(e/Op)+"d":t>=Tp?Math.round(e/Tp)+"h":t>=Pp?Math.round(e/Pp)+"m":t>=1e3?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Np(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}!function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==Mc&&"env"in Mc&&(e=Mc.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=function(e){function t(e){var n,i,a,o=null;function s(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(s.enabled){var a=s,o=Number(new Date),u=o-(n||o);a.diff=u,a.prev=n,a.curr=o,n=o,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";c++;var i=t.formatters[n];if("function"==typeof i){var o=r[c];e=i.call(a,o),r.splice(c,1),c--}return e})),t.formatArgs.call(a,r),(a.log||t.log).apply(a,r)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=r,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a)},set:function(e){o=e}}),"function"==typeof t.init&&t.init(s),s}function r(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(S(t.names.map(n)),S(t.skips.map(n).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=Lp,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(Ip,Ip.exports);var Mp=Ip.exports,Up=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s(this,e),this.prefix=t,this._existing=r,this.counter=n}return c(e,[{key:"clone",value:function(){var t=this.prefix,r=this._existing,n=this.counter;return new e(t,new Map(r),n)}},{key:"getId",value:function(e){var t=e&&this._existing.get(e);if(t)return t;var r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}},{key:"hasId",value:function(e){return this._existing.has(e)}},{key:"getOldIds",value:function(){return S(this._existing.keys())}}]),e}();!function(e,t){if(!e.setImmediate){var r,n,i,a,o,s=1,u={},c=!1,l=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){xc((function(){A(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(a="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&A(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){A(e.data)},r=function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){A(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(A,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[s]=i,r(s),s++},f.clearImmediate=h}function h(e){delete u[e]}function A(e){if(c)setTimeout(A,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?Ba:self);var Fp=self.crypto||self.msCrypto,Rp=function(){function e(t){if(s(this,e),!Fp||!Fp.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error('Unsupport algorithm "'.concat(t,'".'));this.algorithm={name:"SHA-1"}}this._content=""}var t;return c(e,[{key:"update",value:function(e){this._content+=e}},{key:"digest",value:(t=o(n().mark((function e(){var t,r,i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new TextEncoder).encode(this._content),e.t0=Uint8Array,e.next=4,Fp.subtle.digest(this.algorithm,t);case 4:for(e.t1=e.sent,r=new e.t0(e.t1),i="",a=0;a<r.length;++a)i+=r[a].toString(16).padStart(2,"0");return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),Dp=function(){function e(t){s(this,e),this.current=t.sort(),this.done=!1,this.dir=new Map;for(var r=0;r<t.length;++r)this.dir.set(t[r],!0)}return c(e,[{key:"hasNext",value:function(){return!this.done}},{key:"next",value:function(){for(var e=this.current,t=this.dir,r=e.slice(),n=null,i=0,a=e.length,o=0;o<a;++o){var s=e[o],u=t.get(s);(null===n||s>n)&&(u&&o>0&&s>e[o-1]||!u&&o<a-1&&s>e[o+1])&&(n=s,i=o)}if(null===n)this.done=!0;else{var c=t.get(n)?i-1:i+1;e[i]=e[c],e[c]=n;var l,f=L(e);try{for(f.s();!(l=f.n()).done;){var h=l.value;h>n&&t.set(h,!t.get(h))}}catch(e){f.e(e)}finally{f.f()}}return r}}]),e}(),jp="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Qp="http://www.w3.org/2001/XMLSchema#string",Hp={eoln:/(?:\r\n)|(?:\n)|(?:\r)/g};Hp.empty=new RegExp("^[ \\t]*$"),Hp.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?))[ \\t]*\\.))[ \\t]*$');var Kp=function(){function e(){s(this,e)}return c(e,null,[{key:"parse",value:function(e){var t,r=[],n={},i=0,a=L(e.split(Hp.eoln));try{for(a.s();!(t=a.n()).done;){var o=t.value;if(i++,!Hp.empty.test(o)){var s=o.match(Hp.quad);if(null===s)throw new Error("N-Quads parse error on line "+i+".");var u={subject:null,predicate:null,object:null,graph:null};if(void 0!==s[1]?u.subject={termType:"NamedNode",value:s[1]}:u.subject={termType:"BlankNode",value:s[2]},u.predicate={termType:"NamedNode",value:s[3]},void 0!==s[4]?u.object={termType:"NamedNode",value:s[4]}:void 0!==s[5]?u.object={termType:"BlankNode",value:s[5]}:(u.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==s[7]?u.object.datatype.value=s[7]:void 0!==s[8]?(u.object.datatype.value=jp,u.object.language=s[8]):u.object.datatype.value=Qp,u.object.value=Gp(s[6])),void 0!==s[9]?u.graph={termType:"NamedNode",value:s[9]}:void 0!==s[10]?u.graph={termType:"BlankNode",value:s[10]}:u.graph={termType:"DefaultGraph",value:""},u.graph.value in n){var c,l=!0,f=n[u.graph.value],h=L(f);try{for(h.s();!(c=h.n()).done;){if(Vp(c.value,u)){l=!1;break}}}catch(e){h.e(e)}finally{h.f()}l&&(f.push(u),r.push(u))}else n[u.graph.value]=[u],r.push(u)}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"serialize",value:function(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));var r,n=[],i=L(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(e.serializeQuad(a))}}catch(e){i.e(e)}finally{i.f()}return n.sort().join("")}},{key:"serializeQuad",value:function(e){var t=e.subject,r=e.predicate,n=e.object,i=e.graph,a="";return"NamedNode"===t.termType?a+="<".concat(t.value,">"):a+="".concat(t.value),a+=" <".concat(r.value,"> "),"NamedNode"===n.termType?a+="<".concat(n.value,">"):"BlankNode"===n.termType?a+=n.value:(a+='"'.concat(function(e){return e.replace(zp,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(n.value),'"'),n.datatype.value===jp?n.language&&(a+="@".concat(n.language)):n.datatype.value!==Qp&&(a+="^^<".concat(n.datatype.value,">"))),"NamedNode"===i.termType?a+=" <".concat(i.value,">"):"BlankNode"===i.termType&&(a+=" ".concat(i.value)),a+=" .\n"}},{key:"legacyDatasetToQuads",value:function(e){var t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"},n=function(n){e[n].forEach((function(e){var i={};for(var a in e){var o=e[a],s={termType:r[o.type],value:o.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=jp),s.language=o.language):"datatype"in o||(s.datatype.value=Qp)),i[a]=s}i.graph="@default"===n?{termType:"DefaultGraph",value:""}:{termType:n.startsWith("_:")?"BlankNode":"NamedNode",value:n},t.push(i)}))};for(var i in e)n(i);return t}}]),e}();function Vp(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&("Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value)}var zp=/["\\\n\r]/g,qp=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function Gp(e){return e.replace(qp,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))}var Wp=Up,Jp=Rp,Xp=Dp,Yp=Kp,$p=function(){function e(){s(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Wp("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}var t,i,a,u,l,f,h,A;return c(e,[{key:"main",value:(A=o(n().mark((function e(t){var i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,C,I,P,T,O,N,M,U,F,R,D,j,Q,H;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.quads=t,i=L(t);try{for(i.s();!(a=i.n()).done;)o=a.value,this._addBlankNodeQuadInfo({quad:o,component:o.subject}),this._addBlankNodeQuadInfo({quad:o,component:o.object}),this._addBlankNodeQuadInfo({quad:o,component:o.graph})}catch(e){i.e(e)}finally{i.f()}s=new Map,u=S(this.blankNodeInfo.keys()),c=0,l=L(u),e.prev=6,l.s();case 8:if((f=l.n()).done){e.next=18;break}if(h=f.value,e.t0=++c%100==0,!e.t0){e.next=14;break}return e.next=14,this._yield();case 14:return e.next=16,this._hashAndTrackBlankNode({id:h,hashToBlankNodes:s});case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(6),l.e(e.t1);case 23:return e.prev=23,l.f(),e.finish(23);case 26:A=S(s.keys()).sort(),d=[],p=L(A),e.prev=28,p.s();case 30:if((v=p.n()).done){e.next=40;break}if(g=v.value,!((y=s.get(g)).length>1)){e.next=36;break}return d.push(y),e.abrupt("continue",38);case 36:m=y[0],this.canonicalIssuer.getId(m);case 38:e.next=30;break;case 40:e.next=45;break;case 42:e.prev=42,e.t2=e.catch(28),p.e(e.t2);case 45:return e.prev=45,p.f(),e.finish(45);case 48:b=0,w=d;case 49:if(!(b<w.length)){e.next=80;break}x=w[b],k=[],_=L(x),e.prev=53,_.s();case 55:if((B=_.n()).done){e.next=67;break}if(E=B.value,!this.canonicalIssuer.hasId(E)){e.next=59;break}return e.abrupt("continue",65);case 59:return(C=new Wp("_:b")).getId(E),e.next=63,this.hashNDegreeQuads(E,C);case 63:I=e.sent,k.push(I);case 65:e.next=55;break;case 67:e.next=72;break;case 69:e.prev=69,e.t3=e.catch(53),_.e(e.t3);case 72:return e.prev=72,_.f(),e.finish(72);case 75:for(k.sort(Zp),P=0,T=k;P<T.length;P++){O=T[P],N=O.issuer.getOldIds(),M=L(N);try{for(M.s();!(U=M.n()).done;)F=U.value,this.canonicalIssuer.getId(F)}catch(e){M.e(e)}finally{M.f()}}case 77:b++,e.next=49;break;case 80:R=[],D=L(this.quads);try{for(D.s();!(j=D.n()).done;)Q=j.value,(H=r({},Q)).subject=this._useCanonicalId({component:H.subject}),H.object=this._useCanonicalId({component:H.object}),H.graph=this._useCanonicalId({component:H.graph}),R.push(Yp.serializeQuad(H))}catch(e){D.e(e)}finally{D.f()}return e.abrupt("return",(R.sort(),R.join("")));case 84:case"end":return e.stop()}}),e,this,[[6,20,23,26],[28,42,45,48],[53,69,72,75]])}))),function(e){return A.apply(this,arguments)})},{key:"hashFirstDegreeQuads",value:(h=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=this.blankNodeInfo.get(t),a=i.quads,o=L(a);try{for(o.s();!(s=o.n()).done;)u=s.value,(c={subject:null,predicate:u.predicate,object:null,graph:null}).subject=this.modifyFirstDegreeComponent(t,u.subject,"subject"),c.object=this.modifyFirstDegreeComponent(t,u.object,"object"),c.graph=this.modifyFirstDegreeComponent(t,u.graph,"graph"),r.push(Yp.serializeQuad(c))}catch(e){o.e(e)}finally{o.f()}for(r.sort(),l=new Jp(this.hashAlgorithm),f=0,h=r;f<h.length;f++)A=h[f],l.update(A);return e.next=8,l.digest();case 8:return i.hash=e.sent,e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"hashRelatedBlankNode",value:(f=o(n().mark((function e(t,r,i,a){var o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):i.hasId(t)?i.getId(t):this.blankNodeInfo.get(t).hash,s=new Jp(this.hashAlgorithm),e.abrupt("return",(s.update(a),"g"!==a&&s.update(this.getRelatedPredicate(r)),s.update(o),s.digest()));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return f.apply(this,arguments)})},{key:"hashNDegreeQuads",value:(l=o(n().mark((function e(t,r){var i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Jp(this.hashAlgorithm),e.next=3,this.createHashToRelated(t,r);case 3:a=e.sent,o=S(a.keys()).sort(),s=L(o),e.prev=6,s.s();case 8:if((u=s.n()).done){e.next=69;break}c=u.value,i.update(c),l=void 0,f="",h=new Xp(a.get(c)),A=0;case 14:if(!h.hasNext()){e.next=66;break}if(d=h.next(),e.t0=++A%3==0,!e.t0){e.next=20;break}return e.next=20,this._yield();case 20:p=r.clone(),v="",g=[],y=!1,m=L(d),e.prev=24,m.s();case 26:if((b=m.n()).done){e.next=33;break}if(w=b.value,this.canonicalIssuer.hasId(w)?v+=this.canonicalIssuer.getId(w):(p.hasId(w)||g.push(w),v+=p.getId(w)),!(0!==f.length&&v>f)){e.next=31;break}return y=!0,e.abrupt("break",33);case 31:e.next=26;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(24),m.e(e.t1);case 38:return e.prev=38,m.f(),e.finish(38);case 41:if(y){e.next=64;break}x=L(g),e.prev=43,x.s();case 45:if((k=x.n()).done){e.next=55;break}return _=k.value,e.next=49,this.hashNDegreeQuads(_,p);case 49:if(B=e.sent,v+=p.getId(_),v+="<".concat(B.hash,">"),p=B.issuer,!(0!==f.length&&v>f)){e.next=53;break}return y=!0,e.abrupt("break",55);case 53:e.next=45;break;case 55:e.next=60;break;case 57:e.prev=57,e.t2=e.catch(43),x.e(e.t2);case 60:return e.prev=60,x.f(),e.finish(60);case 63:y||(0===f.length||v<f)&&(f=v,l=p);case 64:e.next=14;break;case 66:i.update(f),r=l;case 67:e.next=8;break;case 69:e.next=74;break;case 71:e.prev=71,e.t3=e.catch(6),s.e(e.t3);case 74:return e.prev=74,s.f(),e.finish(74);case 77:return e.next=79,i.digest();case 79:return e.t4=e.sent,e.t5=r,e.abrupt("return",{hash:e.t4,issuer:e.t5});case 82:case"end":return e.stop()}}),e,this,[[6,71,74,77],[24,35,38,41],[43,57,60,63]])}))),function(e,t){return l.apply(this,arguments)})},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:(u=o(n().mark((function e(t,r){var i,a,o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Map,a=this.blankNodeInfo.get(t).quads,o=0,s=L(a),e.prev=3,s.s();case 5:if((u=s.n()).done){e.next=15;break}if(c=u.value,e.t0=++o%100==0,!e.t0){e.next=11;break}return e.next=11,this._yield();case 11:return e.next=13,Promise.all([this._addRelatedBlankNodeHash({quad:c,component:c.subject,position:"s",id:t,issuer:r,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:c,component:c.object,position:"o",id:t,issuer:r,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:c,component:c.graph,position:"g",id:t,issuer:r,hashToRelated:i})]);case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(3),s.e(e.t1);case 20:return e.prev=20,s.f(),e.finish(20);case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this,[[3,17,20,23]])}))),function(e,t){return u.apply(this,arguments)})},{key:"_hashAndTrackBlankNode",value:(a=o(n().mark((function e(t){var r,i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.hashToBlankNodes,e.next=3,this.hashFirstDegreeQuads(r);case 3:a=e.sent,(o=i.get(a))?o.push(r):i.set(a,[r]);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,r=e.component;if("BlankNode"===r.termType){var n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:(i=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.quad,i=t.component,a=t.position,o=t.id,s=t.issuer,u=t.hashToRelated,"BlankNode"===i.termType&&i.value!==o){e.next=3;break}return e.abrupt("return");case 3:return c=i.value,e.next=6,this.hashRelatedBlankNode(c,r,s,a);case 6:l=e.sent,(f=u.get(l))?f.push(c):u.set(l,[c]);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}},{key:"_yield",value:(t=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setImmediate(e)})));case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}();function Zp(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}var ev=$p,tv=Up,rv=Rp,nv=Dp,iv=Kp,av=function(){function e(){s(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new tv("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return c(e,[{key:"main",value:function(e){this.quads=e;var t,n=L(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;this._addBlankNodeQuadInfo({quad:i,component:i.subject}),this._addBlankNodeQuadInfo({quad:i,component:i.object}),this._addBlankNodeQuadInfo({quad:i,component:i.graph})}}catch(e){n.e(e)}finally{n.f()}var a,o=new Map,s=L(S(this.blankNodeInfo.keys()));try{for(s.s();!(a=s.n()).done;){var u=a.value;this._hashAndTrackBlankNode({id:u,hashToBlankNodes:o})}}catch(e){s.e(e)}finally{s.f()}var c,l=[],f=L(S(o.keys()).sort());try{for(f.s();!(c=f.n()).done;){var h=c.value,A=o.get(h);if(A.length>1)l.push(A);else{var d=A[0];this.canonicalIssuer.getId(d)}}}catch(e){f.e(e)}finally{f.f()}for(var p=0,v=l;p<v.length;p++){var g,y=[],m=L(v[p]);try{for(m.s();!(g=m.n()).done;){var b=g.value;if(!this.canonicalIssuer.hasId(b)){var w=new tv("_:b");w.getId(b);var x=this.hashNDegreeQuads(b,w);y.push(x)}}}catch(e){m.e(e)}finally{m.f()}y.sort(ov);for(var k=0,_=y;k<_.length;k++){var B,E=L(_[k].issuer.getOldIds());try{for(E.s();!(B=E.n()).done;){var C=B.value;this.canonicalIssuer.getId(C)}}catch(e){E.e(e)}finally{E.f()}}}var I,P=[],T=L(this.quads);try{for(T.s();!(I=T.n()).done;){var O=r({},I.value);O.subject=this._useCanonicalId({component:O.subject}),O.object=this._useCanonicalId({component:O.object}),O.graph=this._useCanonicalId({component:O.graph}),P.push(iv.serializeQuad(O))}}catch(e){T.e(e)}finally{T.f()}return P.sort(),P.join("")}},{key:"hashFirstDegreeQuads",value:function(e){var t,r=[],n=this.blankNodeInfo.get(e),i=L(n.quads);try{for(i.s();!(t=i.n()).done;){var a=t.value,o={subject:null,predicate:a.predicate,object:null,graph:null};o.subject=this.modifyFirstDegreeComponent(e,a.subject,"subject"),o.object=this.modifyFirstDegreeComponent(e,a.object,"object"),o.graph=this.modifyFirstDegreeComponent(e,a.graph,"graph"),r.push(iv.serializeQuad(o))}}catch(e){i.e(e)}finally{i.f()}r.sort();for(var s=new rv(this.hashAlgorithm),u=0,c=r;u<c.length;u++){var l=c[u];s.update(l)}return n.hash=s.digest(),n.hash}},{key:"hashRelatedBlankNode",value:function(e,t,r,n){var i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;var a=new rv(this.hashAlgorithm);return a.update(n),"g"!==n&&a.update(this.getRelatedPredicate(t)),a.update(i),a.digest()}},{key:"hashNDegreeQuads",value:function(e,t){var r,n=new rv(this.hashAlgorithm),i=this.createHashToRelated(e,t),a=L(S(i.keys()).sort());try{for(a.s();!(r=a.n()).done;){var o=r.value;n.update(o);for(var s=void 0,u="",c=new nv(i.get(o));c.hasNext();){var l,f=c.next(),h=t.clone(),A="",d=[],p=!1,v=L(f);try{for(v.s();!(l=v.n()).done;){var g=l.value;if(this.canonicalIssuer.hasId(g)?A+=this.canonicalIssuer.getId(g):(h.hasId(g)||d.push(g),A+=h.getId(g)),0!==u.length&&A>u){p=!0;break}}}catch(e){v.e(e)}finally{v.f()}if(!p){var y,m=L(d);try{for(m.s();!(y=m.n()).done;){var b=y.value,w=this.hashNDegreeQuads(b,h);if(A+=h.getId(b),A+="<".concat(w.hash,">"),h=w.issuer,0!==u.length&&A>u){p=!0;break}}}catch(e){m.e(e)}finally{m.f()}p||(0===u.length||A<u)&&(u=A,s=h)}}n.update(u),t=s}}catch(e){a.e(e)}finally{a.f()}return{hash:n.digest(),issuer:t}}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(e,t){var r,n=new Map,i=L(this.blankNodeInfo.get(e).quads);try{for(i.s();!(r=i.n()).done;){var a=r.value;this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:e,issuer:t,hashToRelated:n})}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"_hashAndTrackBlankNode",value:function(e){var t=e.id,r=e.hashToBlankNodes,n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,r=e.component;if("BlankNode"===r.termType){var n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(e){var t=e.quad,r=e.component,n=e.position,i=e.id,a=e.issuer,o=e.hashToRelated;if("BlankNode"===r.termType&&r.value!==i){var s=r.value,u=this.hashRelatedBlankNode(s,t,a,n),c=o.get(u);c?c.push(s):o.set(u,[s])}}},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}]),e}();function ov(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}var sv,uv=av,cv=$p,lv=function(e){f(i,e);var t,r=w(i);function i(){var e;return s(this,i),(e=r.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return c(i,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:(t=o(n().mark((function e(t,r){var i,a,o,s,u,c,l,f,h,A;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Map,a=this.blankNodeInfo.get(t).quads,o=0,s=L(a),e.prev=3,s.s();case 5:if((u=s.n()).done){e.next=26;break}if(c=u.value,l=void 0,f=void 0,"BlankNode"!==c.subject.termType||c.subject.value===t){e.next=12;break}f=c.subject.value,l="p",e.next=15;break;case 12:if("BlankNode"===c.object.termType&&c.object.value!==t){e.next=14;break}return e.abrupt("continue",24);case 14:f=c.object.value,l="r";case 15:if(e.t0=++o%100==0,!e.t0){e.next=19;break}return e.next=19,this._yield();case 19:return e.next=21,this.hashRelatedBlankNode(f,c,r,l);case 21:h=e.sent,(A=i.get(h))?A.push(f):i.set(h,[f]);case 24:e.next=5;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(3),s.e(e.t1);case 31:return e.prev=31,s.f(),e.finish(31);case 34:return e.abrupt("return",i);case 35:case"end":return e.stop()}}),e,this,[[3,28,31,34]])}))),function(e,r){return t.apply(this,arguments)})}]),i}(ev),fv=av,hv=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return c(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t){var r,n=new Map,i=L(this.blankNodeInfo.get(e).quads);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=void 0,s=void 0;if("BlankNode"===a.subject.termType&&a.subject.value!==e)s=a.subject.value,o="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;s=a.object.value,o="r"}var u=this.hashRelatedBlankNode(s,a,t,o),c=n.get(u);c?c.push(s):n.set(u,[s])}}catch(e){i.e(e)}finally{i.f()}return n}}]),r}(uv);try{sv=require("rdf-canonize-native")}catch(e){}var Av={},dv=Av;Av.NQuads=Kp,Av.IdentifierIssuer=Up,Av._rdfCanonizeNative=function(e){return e&&(sv=e),sv},Av.canonize=function(){var e=o(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)||(t=Av.NQuads.legacyDatasetToQuads(t)),!r.useNative){e.next=4;break}if(sv){e.next=3;break}throw new Error("rdf-canonize-native not available");case 3:return e.abrupt("return",new Promise((function(e,n){return sv.canonize(t,r,(function(t,r){return t?n(t):e(r)}))})));case 4:if("URDNA2015"!==r.algorithm){e.next=6;break}return e.abrupt("return",new cv(r).main(t));case 6:if("URGNA2012"!==r.algorithm){e.next=8;break}return e.abrupt("return",new lv(r).main(t));case 8:if("algorithm"in r){e.next=10;break}throw new Error("No RDF Dataset Canonicalization algorithm specified.");case 10:throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+r.algorithm);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Av._canonizeSync=function(e,t){if(Array.isArray(e)||(e=Av.NQuads.legacyDatasetToQuads(e)),t.useNative){if(sv)return sv.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new fv(t).main(e);if("URGNA2012"===t.algorithm)return new hv(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)};var pv=dv,vv={},gv=vv;vv.isArray=Array.isArray,vv.isBoolean=function(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},vv.isDouble=function(e){return vv.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21)},vv.isEmptyObject=function(e){return vv.isObject(e)&&0===Object.keys(e).length},vv.isNumber=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},vv.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},vv.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},vv.isString=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},vv.isUndefined=function(e){return void 0===e};var yv=gv,mv={},bv=mv;mv.isSubject=function(e){return!(!yv.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},mv.isSubjectReference=function(e){return yv.isObject(e)&&1===Object.keys(e).length&&"@id"in e},mv.isValue=function(e){return yv.isObject(e)&&"@value"in e},mv.isList=function(e){return yv.isObject(e)&&"@list"in e},mv.isGraph=function(e){return yv.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((function(e){return"@id"!==e&&"@index"!==e})).length},mv.isSimpleGraph=function(e){return mv.isGraph(e)&&!("@id"in e)},mv.isBlankNode=function(e){return!!yv.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))};var wv=function(e){f(r,e);var t=w(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,r),(e=t.call(this,n)).name=i,e.message=n,e.details=a,e}return c(r)}(v(Error)),xv=bv,kv=gv,_v=pv.IdentifierIssuer,Bv=wv,Ev=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,Sv=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,Cv=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,Iv="application/ld+json, application/json",Pv={},Tv=Pv;function Ov(e,t){if(kv.isArray(t))for(var r=0;r<t.length;++r)t[r]=Ov(e,t[r]);else if(xv.isList(t))t["@list"]=Ov(e,t["@list"]);else if(kv.isObject(t)){xv.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];"@id"!==a&&(t[a]=Ov(e,t[a]))}}return t}Pv.IdentifierIssuer=_v,Pv.clone=function(e){if(e&&"object"==i(e)){var t;if(kv.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=Pv.clone(e[r])}else if(e instanceof Map){t=new Map;var n,a=L(e);try{for(a.s();!(n=a.n()).done;){var o=B(n.value,2),s=o[0],u=o[1];t.set(s,Pv.clone(u))}}catch(e){a.e(e)}finally{a.f()}}else if(e instanceof Set){t=new Set;var c,l=L(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;t.add(Pv.clone(f))}}catch(e){l.e(e)}finally{l.f()}}else if(kv.isObject(e))for(var h in t={},e)t[h]=Pv.clone(e[h]);else t=e.toString();return t}return e},Pv.asArray=function(e){return Array.isArray(e)?e:[e]},Pv.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).some((function(e){return"accept"===e.toLowerCase()}));if(t)throw new RangeError('Accept header may not be specified; only "'+Iv+'" is supported.');return Object.assign({Accept:Iv},e)},Pv.parseLinkHeader=function(e){for(var t={},r=e.match(Ev),n=0;n<r.length;++n){var i=r[n].match(Sv);if(i){for(var a={target:i[1]},o=i[2];i=Cv.exec(o);)a[i[1]]=void 0===i[2]?i[3]:i[2];var s=a.rel||"";Array.isArray(t[s])?t[s].push(a):t.hasOwnProperty(s)?t[s]=[t[s],a]:t[s]=a}}return t},Pv.validateTypeValue=function(e,t){if(!(kv.isString(e)||kv.isArray(e)&&e.every((function(e){return kv.isString(e)})))){if(t&&kv.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&Pv.asArray(e["@default"]).every((function(e){return kv.isString(e)})))return}throw new Bv('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},Pv.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var r=e[t];return!kv.isArray(r)||r.length>0}return!1},Pv.hasValue=function(e,t,r){if(Pv.hasProperty(e,t)){var n=e[t],i=xv.isList(n);if(kv.isArray(n)||i){i&&(n=n["@list"]);for(var a=0;a<n.length;++a)if(Pv.compareValues(r,n[a]))return!0}else if(!kv.isArray(r))return Pv.compareValues(r,n)}return!1},Pv.addValue=function(e,t,r,n){if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(kv.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(var i=0;i<r.length;++i)Pv.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){var a=!n.allowDuplicate&&Pv.hasValue(e,t,r);kv.isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},Pv.getValues=function(e,t){return[].concat(e[t]||[])},Pv.removeProperty=function(e,t){delete e[t]},Pv.removeValue=function(e,t,r,n){"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);var i=Pv.getValues(e,t).filter((function(e){return!Pv.compareValues(e,r)}));0===i.length?Pv.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},Pv.relabelBlankNodes=function(e,t){return Ov((t=t||{}).issuer||new _v("_:b"),e)},Pv.compareValues=function(e,t){return e===t||!(!xv.isValue(e)||!xv.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(kv.isObject(e)&&"@id"in e&&kv.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]},Pv.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1};var Lv="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Nv="http://www.w3.org/2001/XMLSchema#",Mv={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Lv,RDF_LIST:Lv+"List",RDF_FIRST:Lv+"first",RDF_REST:Lv+"rest",RDF_NIL:Lv+"nil",RDF_TYPE:Lv+"type",RDF_PLAIN_LITERAL:Lv+"PlainLiteral",RDF_XML_LITERAL:Lv+"XMLLiteral",RDF_JSON_LITERAL:Lv+"JSON",RDF_OBJECT:Lv+"object",RDF_LANGSTRING:Lv+"langString",XSD:Nv,XSD_BOOLEAN:Nv+"boolean",XSD_DOUBLE:Nv+"double",XSD_INTEGER:Nv+"integer",XSD_STRING:Nv+"string"},Uv=function(){function e(){s(this,e),this._requests={}}var t;return c(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}},{key:"add",value:(t=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._requests[t])){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return r=this._requests[t]=this._loader(t),e.prev=4,e.next=7,r;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,delete this._requests[t],e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])}))),function(e){return t.apply(this,arguments)})}]),e}(),Fv=gv,Rv={},Dv=Rv;Rv.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},Rv.parse=function(e,t){for(var r={},n=Rv.parsers[t||"full"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Rv.removeDotSegments(r.path),r},Rv.prependBase=function(e,t){if(null===e)return t;if(Rv.isAbsolute(t))return t;e&&!Fv.isString(e)||(e=Rv.parse(e||""));var r=Rv.parse(t),n={protocol:e.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,""===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{var i=e.path;((i=i.substr(0,i.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==i.substr(-1)&&(i+="/"),i+=r.path,n.path=i}n.query=r.query}""!==r.path&&(n.path=Rv.removeDotSegments(n.path));var a=n.protocol;return null!==n.authority&&(a+="//"+n.authority),a+=n.path,null!==n.query&&(a+="?"+n.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},Rv.removeBase=function(e,t){if(null===e)return t;e&&!Fv.isString(e)||(e=Rv.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;for(var n=Rv.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),a=n.normalizedPath.split("/"),o=n.fragment||n.query?0:1;i.length>0&&a.length>o&&i[0]===a[0];)i.shift(),a.shift();var s="";if(i.length>0){i.pop();for(var u=0;u<i.length;++u)s+="../"}return s+=a.join("/"),null!==n.query&&(s+="?"+n.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s},Rv.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),r=[];t.length>0;){var n=t.shift(),i=0===t.length;"."!==n?".."!==n?r.push(n):(r.pop(),i&&r.push("")):i&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};var jv=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Rv.isAbsolute=function(e){return Fv.isString(e)&&jv.test(e)},Rv.isRelative=function(e){return Fv.isString(e)};var Qv=Tv.parseLinkHeader,Hv=Tv.buildHeaders,Kv=Mv.LINK_HEADER_CONTEXT,Vv=wv,zv=Uv,qv=Dv.prependBase,Gv=/(^|(\r\n))link:/i,Wv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,r=e.headers,i=void 0===r?{}:r,a=e.xhr;return i=Hv(i),(new zv).wrapLoader(function(){var e=o(n().mark((function e(o){var s,u,c,l,f,h,A;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===o.indexOf("http:")||0===o.indexOf("https:")){e.next=2;break}throw new Vv('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:o});case 2:if(!t||0===o.indexOf("https")){e.next=4;break}throw new Vv('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:o});case 4:return e.prev=4,e.next=7,function(e,t,r){var n=new(e=e||XMLHttpRequest);return new Promise((function(e,i){for(var a in n.onload=function(){return e(n)},n.onerror=function(e){return i(e)},n.open("GET",t,!0),r)n.setRequestHeader(a,r[a]);n.send()}))}(a,o,i);case 7:s=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new Vv("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:o,cause:e.t0});case 13:if(!(s.status>=400)){e.next=15;break}throw new Vv("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:o,httpStatusCode:s.status});case 15:if(u={contextUrl:null,documentUrl:o,document:s.response},c=null,l=s.getResponseHeader("Content-Type"),Gv.test(s.getAllResponseHeaders())&&(f=s.getResponseHeader("Link")),!f||"application/ld+json"===l){e.next=29;break}if(h=Qv(f),A=h[Kv],!Array.isArray(A)){e.next=22;break}throw new Vv("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:o});case 22:if(A&&(u.contextUrl=A.target),c=h.alternate,e.t1=c&&"application/ld+json"==c.type&&!(l||"").match(/^application\/(\w*\+)?json$/),!e.t1){e.next=29;break}return e.next=28,r(qv(o,c.target));case 28:u=e.sent;case 29:return e.abrupt("return",u);case 30:case"end":return e.stop()}}),e,null,[[4,10]])})));function r(t){return e.apply(this,arguments)}return r}())},Jv={},Xv=Jv;Jv.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=Wv,e.useDocumentLoader("xhr"))},Jv.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};var Yv=lp,$v=gv.isArray,Zv=gv.isObject,eg=gv.isString,tg=Tv.asArray,rg=Dv.prependBase,ng=wv,ig=function(){function e(t){var r=t.document;s(this,e),this.document=r,this.cache=new Yv({max:10})}return c(e,[{key:"getProcessed",value:function(e){return this.cache.get(e)}},{key:"setProcessed",value:function(e,t){this.cache.set(e,t)}}]),e}();function ag(e){throw new ng("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function og(e){var t=e.context,r=e.base;if(t){var n=t["@context"];if(eg(n))t["@context"]=rg(r,n);else if($v(n))for(var i=0;i<n.length;++i){var a=n[i];eg(a)?n[i]=rg(r,a):Zv(a)&&og({context:{"@context":a},base:r})}else if(Zv(n))for(var o in n)og({context:n[o],base:r})}}var sg=pv.NQuads,ug=Tv,cg=wv,lg=gv.isArray,fg=gv.isObject,hg=gv.isString,Ag=gv.isUndefined,dg=Dv.isAbsolute,pg=Dv.isRelative,vg=Dv.prependBase,gg=Tv.asArray,yg=Tv.compareShortestLeast,mg=new Map,bg=/^@[a-zA-Z]+$/,wg={},xg=wg;function kg(e,t,r,n,i,a){if(null===t||!hg(t)||wg.isKeyword(t))return t;if(t.match(bg))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&wg.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:a}),(r=r||{}).vocab){var o=e.mappings.get(t);if(null===o)return null;if(fg(o)&&"@id"in o)return o["@id"]}var s=t.indexOf(":");if(s>0){var u=t.substr(0,s),c=t.substr(s+1);if("_"===u||0===c.indexOf("//"))return t;n&&n.hasOwnProperty(u)&&wg.createTermDefinition({activeCtx:e,localCtx:n,term:u,defined:i,options:a});var l=e.mappings.get(u);if(l&&l._prefix)return l["@id"]+c;if(dg(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return vg(vg(a.base,e["@base"]),t)}else if(r.base)return vg(a.base,t);return t}function _g(e,t){if(!e||"object"!=i(e)||!t||"object"!=i(t))return e===t;var r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!_g(e[n],t[n]))return!1;return!0}var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s in e){var u=e[s],c=t[s];if("@container"===s&&Array.isArray(u)&&Array.isArray(c)&&(u=u.slice().sort(),c=c.slice().sort()),!_g(u,c))return!1}return!0}wg.process=function(){var e=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,E,S,C,I,P,T,O,N,M,U,F,R,D,j,Q,H;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,i=t.localCtx,a=t.options,o=t.propagate,s=void 0===o||o,u=t.overrideProtected,c=void 0!==u&&u,l=t.cycles,f=void 0===l?new Set:l,fg(i)&&"@context"in i&&lg(i["@context"])&&(i=i["@context"]),0!==gg(i).length){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,a.contextResolver.resolve({activeCtx:r,context:i,documentLoader:a.documentLoader,base:a.base});case 6:h=e.sent,fg(h[0].document)&&"boolean"==typeof h[0].document["@propagate"]&&(s=h[0].document["@propagate"]),A=r,s||A.previousContext||((A=A.clone()).previousContext=r),d=L(h),e.prev=11,d.s();case 13:if((p=d.n()).done){e.next=144;break}if(v=p.value,g=v.document,r=A,null!==g){e.next=35;break}if(c||0===Object.keys(r.protected).length){e.next=33;break}if("error"!==(y=a&&a.protectedMode||"error")){e.next=21;break}throw new cg("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});case 21:if("warn"!==y){e.next=32;break}if(console.warn("WARNING: invalid context nullification"),!(m=v.getProcessed(r))){e.next=27;break}return A=r=m,e.abrupt("continue",142);case 27:for(b=r,A=r=wg.getInitialContext(a).clone(),w=0,x=Object.entries(b.protected);w<x.length;w++)k=B(x[w],2),_=k[0],k[1]&&(r.mappings[_]=ug.clone(b.mappings[_]));return r.protected=ug.clone(b.protected),v.setProcessed(b,A),e.abrupt("continue",142);case 32:throw new cg("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:i,protectedMode:y});case 33:return A=r=wg.getInitialContext(a).clone(),e.abrupt("continue",142);case 35:if(!(E=v.getProcessed(r))){e.next=39;break}return A=r=E,e.abrupt("continue",142);case 39:if(fg(g)&&"@context"in g&&(g=g["@context"]),fg(g)){e.next=41;break}throw new cg("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:g});case 41:if(A=A.clone(),S=new Map,!("@version"in g)){e.next=49;break}if(1.1===g["@version"]){e.next=46;break}throw new cg("Unsupported JSON-LD version: "+g["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:g});case 46:if(!r.processingMode||"json-ld-1.0"!==r.processingMode){e.next=48;break}throw new cg("@version: "+g["@version"]+" not compatible with "+r.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:g});case 48:A.processingMode="json-ld-1.1",A["@version"]=g["@version"],S.set("@version",!0);case 49:if(A.processingMode=A.processingMode||r.processingMode,!("@base"in g)){e.next=59;break}if(null!==(C=g["@base"])&&!dg(C)){e.next=55;break}e.next=58;break;case 55:if(pg(C)){e.next=57;break}throw new cg('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:g});case 57:C=vg(A["@base"],C);case 58:A["@base"]=C,S.set("@base",!0);case 59:if(!("@vocab"in g)){e.next=71;break}if(null!==(I=g["@vocab"])){e.next=65;break}delete A["@vocab"],e.next=70;break;case 65:if(hg(I)){e.next=67;break}throw new cg('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});case 67:if(dg(I)||!wg.processingMode(A,1)){e.next=69;break}throw new cg('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:g});case 69:A["@vocab"]=kg(A,I,{vocab:!0,base:!0},void 0,void 0,a);case 70:S.set("@vocab",!0);case 71:if(!("@language"in g)){e.next=81;break}if(null!==(P=g["@language"])){e.next=77;break}delete A["@language"],e.next=80;break;case 77:if(hg(P)){e.next=79;break}throw new cg('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:g});case 79:A["@language"]=P.toLowerCase();case 80:S.set("@language",!0);case 81:if(!("@direction"in g)){e.next=93;break}if(T=g["@direction"],"json-ld-1.0"!==r.processingMode){e.next=85;break}throw new cg("Invalid JSON-LD syntax; @direction not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:g});case 85:if(null!==T){e.next=89;break}delete A["@direction"],e.next=92;break;case 89:if("ltr"===T||"rtl"===T){e.next=91;break}throw new cg('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:g});case 91:A["@direction"]=T;case 92:S.set("@direction",!0);case 93:if(!("@propagate"in g)){e.next=100;break}if(O=g["@propagate"],"json-ld-1.0"!==r.processingMode){e.next=97;break}throw new cg("Invalid JSON-LD syntax; @propagate not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:g});case 97:if("boolean"==typeof O){e.next=99;break}throw new cg("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:i});case 99:S.set("@propagate",!0);case 100:if(!("@import"in g)){e.next=122;break}if(N=g["@import"],"json-ld-1.0"!==r.processingMode){e.next=104;break}throw new cg("Invalid JSON-LD syntax; @import not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:g});case 104:if(hg(N)){e.next=106;break}throw new cg("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:i});case 106:return e.next=108,a.contextResolver.resolve({activeCtx:r,context:N,documentLoader:a.documentLoader,base:a.base});case 108:if(1===(M=e.sent).length){e.next=111;break}throw new cg("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:i});case 111:if(!(U=M[0].getProcessed(r))){e.next=116;break}g=U,e.next=121;break;case 116:if(!("@import"in(F=M[0].document))){e.next=119;break}throw new cg("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:i});case 119:for(R in F)g.hasOwnProperty(R)||(g[R]=F[R]);M[0].setProcessed(r,g);case 121:S.set("@import",!0);case 122:S.set("@protected",g["@protected"]||!1),e.t0=n().keys(g);case 124:if((e.t1=e.t0()).done){e.next=141;break}if(D=e.t1.value,wg.createTermDefinition({activeCtx:A,localCtx:g,term:D,defined:S,options:a,overrideProtected:c}),!fg(g[D])||!("@context"in g[D])){e.next=139;break}if(j=g[D]["@context"],Q=!0,hg(j)&&(H=vg(a.base,j),f.has(H)?Q=!1:f.add(H)),!Q){e.next=139;break}return e.prev=131,e.next=134,wg.process({activeCtx:A.clone(),localCtx:g[D]["@context"],overrideProtected:!0,options:a,cycles:f});case 134:e.next=139;break;case 136:throw e.prev=136,e.t2=e.catch(131),new cg("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:g[D]["@context"],term:D});case 139:e.next=124;break;case 141:v.setProcessed(r,A);case 142:e.next=13;break;case 144:e.next=149;break;case 146:e.prev=146,e.t3=e.catch(11),d.e(e.t3);case 149:return e.prev=149,d.f(),e.finish(149);case 152:return e.abrupt("return",A);case 153:case"end":return e.stop()}}),e,null,[[11,146,149,152],[131,136]])})));return function(t){return e.apply(this,arguments)}}(),wg.createTermDefinition=function(e){var t,r=e.activeCtx,n=e.localCtx,i=e.term,a=e.defined,o=e.options,s=e.overrideProtected,u=void 0!==s&&s;if(a.has(i)){if(a.get(i))return;throw new cg("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:n,term:i})}if(a.set(i,!1),n.hasOwnProperty(i)&&(t=n[i]),"@type"===i&&fg(t)&&"@set"===(t["@container"]||"@set")&&wg.processingMode(r,1.1)){var c=["@container","@id","@protected"],l=Object.keys(t);if(0===l.length||l.some((function(e){return!c.includes(e)})))throw new cg("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:i})}else{if(wg.isKeyword(i))throw new cg("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:i});if(i.match(bg))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:i});if(""===i)throw new cg("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:n})}var f=r.mappings.get(i);r.mappings.has(i)&&r.mappings.delete(i);var h=!1;if((hg(t)||null===t)&&(h=!0,t={"@id":t}),!fg(t))throw new cg("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:n});var A={};r.mappings.set(i,A),A.reverse=!1;var d=["@container","@id","@language","@reverse","@type"];for(var p in wg.processingMode(r,1.1)&&d.push("@context","@direction","@index","@nest","@prefix","@protected"),t)if(!d.includes(p))throw new cg("Invalid JSON-LD syntax; a term definition must not contain "+p,"jsonld.SyntaxError",{code:"invalid term definition",context:n});var v=i.indexOf(":");if(A._termHasColon=v>0,"@reverse"in t){if("@id"in t)throw new cg("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});if("@nest"in t)throw new cg("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});var g=t["@reverse"];if(!hg(g))throw new cg("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(!wg.isKeyword(g)&&g.match(bg))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:g}),void(f?r.mappings.set(i,f):r.mappings.delete(i));var y=kg(r,g,{vocab:!0,base:!1},n,a,o);if(!dg(y))throw new cg("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});A["@id"]=y,A.reverse=!0}else if("@id"in t){var m=t["@id"];if(m&&!hg(m))throw new cg("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(null===m)A["@id"]=null;else{if(!wg.isKeyword(m)&&m.match(bg))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:m}),void(f?r.mappings.set(i,f):r.mappings.delete(i));if(m!==i){if(m=kg(r,m,{vocab:!0,base:!1},n,a,o),!dg(m)&&!wg.isKeyword(m))throw new cg("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(i.match(/(?::[^:])|\//)&&kg(r,i,{vocab:!0,base:!1},n,new Map(a).set(i,!0),o)!==m)throw new cg("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});A["@id"]=m,A._prefix=h&&!A._termHasColon&&m.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in A))if(A._termHasColon){var b=i.substr(0,v);if(n.hasOwnProperty(b)&&wg.createTermDefinition({activeCtx:r,localCtx:n,term:b,defined:a,options:o}),r.mappings.has(b)){var w=i.substr(v+1);A["@id"]=r.mappings.get(b)["@id"]+w}else A["@id"]=i}else if("@type"===i)A["@id"]=i;else{if(!("@vocab"in r))throw new cg("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n,term:i});A["@id"]=r["@vocab"]+i}if((!0===t["@protected"]||!0===a.get("@protected")&&!1!==t["@protected"])&&(r.protected[i]=!0,A.protected=!0),a.set(i,!0),"@type"in t){var x=t["@type"];if(!hg(x))throw new cg("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if("@json"===x||"@none"===x){if(wg.processingMode(r,1))throw new cg('Invalid JSON-LD syntax; an @context @type value must not be "'.concat(x,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else if("@id"!==x&&"@vocab"!==x){if(x=kg(r,x,{vocab:!0,base:!1},n,a,o),!dg(x))throw new cg("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if(0===x.indexOf("_:"))throw new cg("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}A["@type"]=x}if("@container"in t){var k=hg(t["@container"])?[t["@container"]]:t["@container"]||[],_=["@list","@set","@index","@language"],B=!0,E=k.includes("@set");if(wg.processingMode(r,1.1)){if(_.push("@graph","@id","@type"),k.includes("@list")){if(1!==k.length)throw new cg("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else if(k.includes("@graph")){if(k.some((function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e})))throw new cg("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else B&=k.length<=(E?2:1);if(k.includes("@type")&&(A["@type"]=A["@type"]||"@id",!["@id","@vocab"].includes(A["@type"])))throw new cg("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else B&=!lg(t["@container"]),B&=k.length<=1;if(B&=k.every((function(e){return _.includes(e)})),!(B&=!(E&&k.includes("@list"))))throw new cg("Invalid JSON-LD syntax; @context @container value must be one of the following: "+_.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:n});if(A.reverse&&!k.every((function(e){return["@index","@set"].includes(e)})))throw new cg("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});A["@container"]=k}if("@index"in t){if(!("@container"in t)||!A["@container"].includes("@index"))throw new cg('Invalid JSON-LD syntax; @index without @index in @container: "'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});if(!hg(t["@index"])||0===t["@index"].indexOf("@"))throw new cg('Invalid JSON-LD syntax; @index must expand to an IRI: "'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});A["@index"]=t["@index"]}if("@context"in t&&(A["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){var S=t["@language"];if(null!==S&&!hg(S))throw new cg("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:n});null!==S&&(S=S.toLowerCase()),A["@language"]=S}if("@prefix"in t){if(i.match(/:|\//))throw new cg("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:n});if(wg.isKeyword(A["@id"]))throw new cg("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:n});if("boolean"!=typeof t["@prefix"])throw new cg("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:n});A._prefix=!0===t["@prefix"]}if("@direction"in t){var C=t["@direction"];if(null!==C&&"ltr"!==C&&"rtl"!==C)throw new cg('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:n});A["@direction"]=C}if("@nest"in t){var I=t["@nest"];if(!hg(I)||"@nest"!==I&&0===I.indexOf("@"))throw new cg("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:n});A["@nest"]=I}// disallow aliasing @context and @preserve
var P=A["@id"];if("@context"===P||"@preserve"===P)throw new cg("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:n});if(f&&f.protected&&!u&&(r.protected[i]=!0,A.protected=!0,!_g(f,A))){var T=o&&o.protectedMode||"error";if("error"===T)throw new cg('Invalid JSON-LD syntax; tried to redefine "'.concat(i,'" which is a protected term.'),"jsonld.SyntaxError",{code:"protected term redefinition",context:n,term:i});if("warn"===T)return void console.warn("WARNING: protected term redefinition",{term:i});throw new cg("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:n,term:i,protectedMode:T})}},wg.expandIri=function(e,t,r,n){return kg(e,t,r,void 0,void 0,n)},wg.getInitialContext=function(e){var t=JSON.stringify({processingMode:e.processingMode}),r=mg.get(t);if(r)return r;var n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){var e=this;if(e.inverse)return e.inverse;var t,r=e.inverse={},n=e.fastCurieMap={},o={},s=(e["@language"]||"@none").toLowerCase(),u=e["@direction"],c=e.mappings,l=L(S(c.keys()).sort(yg));try{for(l.s();!(t=l.n()).done;){var f=t.value,h=c.get(f);if(null!==h){var A=h["@container"]||"@none";if(A=[].concat(A).sort().join(""),null!==h["@id"]){var d,p=L(gg(h["@id"]));try{for(p.s();!(d=p.n()).done;){var v=d.value,g=r[v],y=wg.isKeyword(v);if(g)y||h._termHasColon||o[v].push(f);else if(r[v]=g={},!y&&!h._termHasColon){o[v]=[f];var m={iri:v,terms:o[v]};v[0]in n?n[v[0]].push(m):n[v[0]]=[m]}if(g[A]||(g[A]={"@language":{},"@type":{},"@any":{}}),a(f,(g=g[A])["@any"],"@none"),h.reverse)a(f,g["@type"],"@reverse");else if("@none"===h["@type"])a(f,g["@any"],"@none"),a(f,g["@language"],"@none"),a(f,g["@type"],"@none");else if("@type"in h)a(f,g["@type"],h["@type"]);else if("@language"in h&&"@direction"in h){var b=h["@language"],w=h["@direction"];a(f,g["@language"],b&&w?"".concat(b,"_").concat(w).toLowerCase():b?b.toLowerCase():w?"_".concat(w):"@null")}else"@language"in h?a(f,g["@language"],(h["@language"]||"@null").toLowerCase()):"@direction"in h?h["@direction"]?a(f,g["@language"],"_".concat(h["@direction"])):a(f,g["@language"],"@none"):u?(a(f,g["@language"],"_".concat(u)),a(f,g["@language"],"@none"),a(f,g["@type"],"@none")):(a(f,g["@language"],s),a(f,g["@language"],"@none"),a(f,g["@type"],"@none"))}}catch(e){p.e(e)}finally{p.f()}}}}}catch(e){l.e(e)}finally{l.f()}for(var x in n)i(n,x,1);return r},clone:function(){var e={};return e.mappings=ug.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=ug.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===mg.size&&mg.clear(),mg.set(t,n),n;function i(e,t,r){var n,a,o,s=e[t],u=e[t]={},c=L(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;(a=r>=(n=l.iri).length?"":n[r])in u?u[a].push(l):u[a]=[l]}}catch(e){c.e(e)}finally{c.f()}for(var f in u)""!==f&&i(u,f,r+1)}function a(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},wg.getContextValue=function(e,t,r){if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){var n=e.mappings.get(t);if(Ag(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},wg.processingMode=function(e,t){return t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode},wg.isKeyword=function(e){if(!hg(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};var Bg=wv,Eg=gv.isArray,Sg=gv.isObject,Cg=gv.isEmptyObject,Ig=gv.isString,Pg=gv.isUndefined,Tg=bv.isList,Og=bv.isValue,Lg=bv.isGraph,Ng=bv.isSubject,Mg=xg.expandIri,Ug=xg.getContextValue,Fg=xg.isKeyword,Rg=xg.process,Dg=xg.processingMode,jg=Dv.isAbsolute,Qg=Tv.addValue,Hg=Tv.asArray,Kg=Tv.getValues,Vg=Tv.validateTypeValue,zg={},qg=zg,Gg=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function Wg(e){return Jg.apply(this,arguments)}function Jg(){return Jg=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,E,S,C,I,P,T,O,N,M,U,F,R,D,j,Q,H,K,V,z,q,G,W,J,X,Y,$,Z,ee,te,re,ne;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,i=t.activeProperty,a=t.expandedActiveProperty,o=t.element,s=t.expandedParent,u=t.options,c=void 0===u?{}:u,l=t.insideList,f=t.typeKey,h=t.typeScopedContext,A=t.expansionMap,d=Object.keys(o).sort(),p=[],g=o[f]&&"@json"===Mg(r,Eg(o[f])?o[f][0]:o[f],{vocab:!0},c),y=L(d),e.prev=4,y.s();case 6:if((m=y.n()).done){e.next=188;break}if(b=m.value,w=void 0,x=o[b],"@context"!==b){e.next=11;break}return e.abrupt("continue",186);case 11:if(null!==(k=Mg(r,b,{vocab:!0},c))&&(jg(k)||Fg(k))||void 0!==(k=A({unmappedProperty:b,activeCtx:r,activeProperty:i,parent:o,options:c,insideList:l,value:x,expandedParent:s}))){e.next=14;break}return e.abrupt("continue",186);case 14:if(!Fg(k)){e.next=19;break}if("@reverse"!==a){e.next=17;break}throw new Bg("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:x});case 17:if(!(k in s)||"@included"===k||"@type"===k){e.next=19;break}throw new Bg("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:k});case 19:if("@id"!==k){e.next=34;break}if(Ig(x)){e.next=32;break}if(c.isFrame){e.next=23;break}throw new Bg('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:x});case 23:if(!Sg(x)){e.next=28;break}if(Cg(x)){e.next=26;break}throw new Bg('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:x});case 26:e.next=32;break;case 28:if(Eg(x)){e.next=30;break}throw new Bg('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:x});case 30:if(x.every((function(e){return Ig(e)}))){e.next=32;break}throw new Bg('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:x});case 32:return Qg(s,"@id",Hg(x).map((function(e){return Ig(e)?Mg(r,e,{base:!0},c):e})),{propertyIsArray:c.isFrame}),e.abrupt("continue",186);case 34:if("@type"!==k){e.next=37;break}return Sg(x)&&(x=Object.fromEntries(Object.entries(x).map((function(e){var t=B(e,2),r=t[0],n=t[1];return[Mg(h,r,{vocab:!0}),Hg(n).map((function(e){return Mg(h,e,{base:!0,vocab:!0})}))]})))),Vg(x,c.isFrame),Qg(s,"@type",Hg(x).map((function(e){return Ig(e)?Mg(h,e,{base:!0,vocab:!0},c):e})),{propertyIsArray:c.isFrame}),e.abrupt("continue",186);case 37:if("@included"!==k||!Dg(r,1.1)){e.next=47;break}return e.t0=Hg,e.next=41,zg.expand({activeCtx:r,activeProperty:i,element:x,options:c,expansionMap:A});case 41:if(e.t1=e.sent,(_=(0,e.t0)(e.t1)).every((function(e){return Ng(e)}))){e.next=45;break}throw new Bg("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:x});case 45:return Qg(s,"@included",_,{propertyIsArray:!0}),e.abrupt("continue",186);case 47:if("@graph"!==k||Sg(x)||Eg(x)){e.next=49;break}throw new Bg('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:x});case 49:if("@value"!==k){e.next=52;break}return v=x,g&&Dg(r,1.1)?s["@value"]=x:Qg(s,"@value",x,{propertyIsArray:c.isFrame}),e.abrupt("continue",186);case 52:if("@language"!==k){e.next=62;break}if(null!==x){e.next=55;break}return e.abrupt("continue",186);case 55:if(Ig(x)||c.isFrame){e.next=57;break}throw new Bg('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:x});case 57:x=Hg(x).map((function(e){return Ig(e)?e.toLowerCase():e})),E=L(x);try{for(E.s();!(S=E.n()).done;)C=S.value,Ig(C)&&!C.match(Gg)&&console.warn("@language must be valid BCP47: ".concat(C))}catch(e){E.e(e)}finally{E.f()}return Qg(s,"@language",x,{propertyIsArray:c.isFrame}),e.abrupt("continue",186);case 62:if("@direction"!==k){e.next=85;break}if(Ig(x)||c.isFrame){e.next=65;break}throw new Bg('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:x});case 65:x=Hg(x),I=L(x),e.prev=67,I.s();case 69:if((P=I.n()).done){e.next=75;break}if(T=P.value,!Ig(T)||"ltr"===T||"rtl"===T){e.next=73;break}throw new Bg('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:x});case 73:e.next=69;break;case 75:e.next=80;break;case 77:e.prev=77,e.t2=e.catch(67),I.e(e.t2);case 80:return e.prev=80,I.f(),e.finish(80);case 83:return Qg(s,"@direction",x,{propertyIsArray:c.isFrame}),e.abrupt("continue",186);case 85:if("@index"!==k){e.next=90;break}if(Ig(x)){e.next=88;break}throw new Bg('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:x});case 88:return Qg(s,"@index",x),e.abrupt("continue",186);case 90:if("@reverse"!==k){e.next=118;break}if(Sg(x)){e.next=93;break}throw new Bg('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:x});case 93:return e.next=95,zg.expand({activeCtx:r,activeProperty:"@reverse",element:x,options:c,expansionMap:A});case 95:if(!("@reverse"in(w=e.sent))){e.next=98;break}for(O in w["@reverse"])Qg(s,O,w["@reverse"][O],{propertyIsArray:!0});case 98:N=s["@reverse"]||null,e.t3=n().keys(w);case 100:if((e.t4=e.t3()).done){e.next=117;break}if("@reverse"!==(M=e.t4.value)){e.next=104;break}return e.abrupt("continue",100);case 104:null===N&&(N=s["@reverse"]={}),Qg(N,M,[],{propertyIsArray:!0}),U=w[M],F=0;case 107:if(!(F<U.length)){e.next=115;break}if(R=U[F],!Og(R)&&!Tg(R)){e.next=111;break}throw new Bg('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:w});case 111:Qg(N,M,R,{propertyIsArray:!0});case 112:++F,e.next=107;break;case 115:e.next=100;break;case 117:return e.abrupt("continue",186);case 118:if("@nest"!==k){e.next=121;break}return p.push(b),e.abrupt("continue",186);case 121:if(D=r,j=Ug(r,b,"@context"),e.t5=Pg(j),e.t5){e.next=128;break}return e.next=127,Rg({activeCtx:r,localCtx:j,propagate:!0,overrideProtected:!0,options:c});case 127:D=e.sent;case 128:if(!(Q=Ug(D,b,"@container")||[]).includes("@language")||!Sg(x)){e.next=133;break}w=Yg(D,x,Ug(D,b,"@direction"),c),e.next=170;break;case 133:if(!Q.includes("@index")||!Sg(x)){e.next=140;break}return H=Q.includes("@graph"),K=Ug(D,b,"@index")||"@index",V="@index"!==K&&Mg(r,K,{vocab:!0},c),e.next=137,$g({activeCtx:D,options:c,activeProperty:b,value:x,expansionMap:A,asGraph:H,indexKey:K,propertyIndex:V});case 137:w=e.sent,e.next=170;break;case 140:if(!Q.includes("@id")||!Sg(x)){e.next=147;break}return z=Q.includes("@graph"),e.next=144,$g({activeCtx:D,options:c,activeProperty:b,value:x,expansionMap:A,asGraph:z,indexKey:"@id"});case 144:w=e.sent,e.next=170;break;case 147:if(!Q.includes("@type")||!Sg(x)){e.next=153;break}return e.next=150,$g({activeCtx:D.revertToPreviousContext(),options:c,activeProperty:b,value:x,expansionMap:A,asGraph:!1,indexKey:"@type"});case 150:w=e.sent,e.next=170;break;case 153:if(!(q="@list"===k)&&"@set"!==k){e.next=162;break}return G=i,q&&"@graph"===a&&(G=null),e.next=159,zg.expand({activeCtx:D,activeProperty:G,element:x,options:c,insideList:q,expansionMap:A});case 159:w=e.sent,e.next=170;break;case 162:if("@json"!==Ug(r,b,"@type")){e.next=166;break}e.t6={"@type":"@json","@value":x},e.next=169;break;case 166:return e.next=168,zg.expand({activeCtx:D,activeProperty:b,element:x,options:c,insideList:!1,expansionMap:A});case 168:e.t6=e.sent;case 169:w=e.t6;case 170:if(null===w&&"@value"!==k&&void 0===(w=A({unmappedValue:x,expandedProperty:k,activeCtx:D,activeProperty:i,parent:o,options:c,insideList:l,key:b,expandedParent:s}))){e.next=186;break}if("@list"!==k&&!Tg(w)&&Q.includes("@list")&&(w={"@list":Hg(w)}),Q.includes("@graph")&&!Q.some((function(e){return"@id"===e||"@index"===e}))&&(w=Hg(w).map((function(e){return{"@graph":Hg(e)}}))),!D.mappings.has(b)||!D.mappings.get(b).reverse){e.next=185;break}W=s["@reverse"]=s["@reverse"]||{},w=Hg(w),J=0;case 175:if(!(J<w.length)){e.next=183;break}if(X=w[J],!Og(X)&&!Tg(X)){e.next=179;break}throw new Bg('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:w});case 179:Qg(W,k,X,{propertyIsArray:!0});case 180:++J,e.next=175;break;case 183:e.next=186;break;case 185:Qg(s,k,w,{propertyIsArray:!0});case 186:e.next=6;break;case 188:e.next=193;break;case 190:e.prev=190,e.t7=e.catch(4),y.e(e.t7);case 193:return e.prev=193,y.f(),e.finish(193);case 196:if(!("@value"in s)){e.next=203;break}if("@json"!==s["@type"]||!Dg(r,1.1)){e.next=201;break}e.next=203;break;case 201:if(!Sg(v)&&!Eg(v)||c.isFrame){e.next=203;break}throw new Bg('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:v});case 203:Y=0,$=p;case 204:if(!(Y<$.length)){e.next=229;break}Z=$[Y],ee=Eg(o[Z])?o[Z]:[o[Z]],te=L(ee),e.prev=208,te.s();case 210:if((re=te.n()).done){e.next=218;break}if(ne=re.value,Sg(ne)&&!Object.keys(ne).some((function(e){return"@value"===Mg(r,e,{vocab:!0},c)}))){e.next=214;break}throw new Bg("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:ne});case 214:return e.next=216,Wg({activeCtx:r,activeProperty:i,expandedActiveProperty:a,element:ne,expandedParent:s,options:c,insideList:l,typeScopedContext:h,typeKey:f,expansionMap:A});case 216:e.next=210;break;case 218:e.next=223;break;case 220:e.prev=220,e.t8=e.catch(208),te.e(e.t8);case 223:return e.prev=223,te.f(),e.finish(223);case 226:Y++,e.next=204;break;case 229:case"end":return e.stop()}}),e,null,[[4,190,193,196],[67,77,80,83],[208,220,223,226]])}))),Jg.apply(this,arguments)}function Xg(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,a=e.options;if(null==n)return null;var o=Mg(t,r,{vocab:!0},a);if("@id"===o)return Mg(t,n,{base:!0},a);if("@type"===o)return Mg(t,n,{vocab:!0,base:!0},a);var s=Ug(t,r,"@type");if(("@id"===s||"@graph"===o)&&Ig(n))return{"@id":Mg(t,n,{base:!0},a)};if("@vocab"===s&&Ig(n))return{"@id":Mg(t,n,{vocab:!0,base:!0},a)};if(Fg(o))return n;var u={};if(s&&!["@id","@vocab","@none"].includes(s))u["@type"]=s;else if(Ig(n)){var c=Ug(t,r,"@language");null!==c&&(u["@language"]=c);var l=Ug(t,r,"@direction");null!==l&&(u["@direction"]=l)}return["boolean","number","string"].includes(i(n))||(n=n.toString()),u["@value"]=n,u}function Yg(e,t,r,n){var i,a=[],o=L(Object.keys(t).sort());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=Mg(e,s,{vocab:!0},n),c=t[s];Eg(c)||(c=[c]);var l,f=L(c);try{for(f.s();!(l=f.n()).done;){var h=l.value;if(null!==h){if(!Ig(h))throw new Bg("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var A={"@value":h};"@none"!==u&&(A["@language"]=s.toLowerCase()),r&&(A["@direction"]=r),a.push(A)}}}catch(e){f.e(e)}finally{f.f()}}}catch(e){o.e(e)}finally{o.f()}return a}function $g(e){return Zg.apply(this,arguments)}function Zg(){return Zg=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,i=t.options,a=t.activeProperty,o=t.value,s=t.expansionMap,u=t.asGraph,c=t.indexKey,l=t.propertyIndex,f=[],h=Object.keys(o).sort(),A="@type"===c,d=L(h),e.prev=3,d.s();case 5:if((p=d.n()).done){e.next=46;break}if(v=p.value,!A){e.next=14;break}if(g=Ug(r,v,"@context"),e.t0=Pg(g),e.t0){e.next=14;break}return e.next=13,Rg({activeCtx:r,localCtx:g,propagate:!1,options:i});case 13:r=e.sent;case 14:return y=void 0,m=o[v],Eg(m)||(m=[m]),e.next=18,zg.expand({activeCtx:r,activeProperty:a,element:m,options:i,insideList:!1,insideIndex:!0,expansionMap:s});case 18:m=e.sent,y=l?"@none"===v?"@none":Xg({activeCtx:r,activeProperty:c,value:v,options:i}):Mg(r,v,{vocab:!0},i),"@id"===c?v=Mg(r,v,{base:!0},i):A&&(v=y),b=L(m),e.prev=22,b.s();case 24:if((w=b.n()).done){e.next=36;break}if(x=w.value,u&&!Lg(x)&&(x={"@graph":[x]}),"@type"!==c){e.next=30;break}"@none"===y||(x["@type"]?x["@type"]=[v].concat(x["@type"]):x["@type"]=[v]),e.next=33;break;case 30:if(!Og(x)||["@language","@type","@index"].includes(c)){e.next=32;break}throw new Bg('Invalid JSON-LD syntax; Attempt to add illegal key to value object: "'.concat(c,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:x});case 32:l?"@none"!==y&&Qg(x,l,y,{propertyIsArray:!0,prependValue:!0}):"@none"===y||c in x||(x[c]=v);case 33:f.push(x);case 34:e.next=24;break;case 36:e.next=41;break;case 38:e.prev=38,e.t1=e.catch(22),b.e(e.t1);case 41:return e.prev=41,b.f(),e.finish(41);case 44:e.next=5;break;case 46:e.next=51;break;case 48:e.prev=48,e.t2=e.catch(3),d.e(e.t2);case 51:return e.prev=51,d.f(),e.finish(51);case 54:return e.abrupt("return",f);case 55:case"end":return e.stop()}}),e,null,[[3,48,51,54],[22,38,41,44]])}))),Zg.apply(this,arguments)}zg.expand=function(){var e=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,N,M,U,F,R,D,j,Q,H,K,V,z,q,G,W;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,i=t.activeProperty,a=void 0===i?null:i,o=t.element,s=t.options,u=void 0===s?{}:s,c=t.insideList,l=void 0!==c&&c,f=t.insideIndex,h=void 0!==f&&f,A=t.typeScopedContext,d=void 0===A?null:A,p=t.expansionMap,v=void 0===p?function(){}:p,null!=o){e.next=3;break}return e.abrupt("return",null);case 3:if("@default"===a&&(u=Object.assign({},u,{isFrame:!1})),Eg(o)||Sg(o)){e.next=10;break}if(l||null!==a&&"@graph"!==Mg(r,a,{vocab:!0},u)){e.next=9;break}return e.next=7,v({unmappedValue:o,activeCtx:r,activeProperty:a,options:u,insideList:l});case 7:return g=e.sent,e.abrupt("return",void 0===g?null:g);case 9:return e.abrupt("return",Xg({activeCtx:r,activeProperty:a,value:o,options:u}));case 10:if(!Eg(o)){e.next=33;break}y=[],m=Ug(r,a,"@container")||[],l=l||m.includes("@list"),b=0;case 15:if(!(b<o.length)){e.next=32;break}return e.next=18,zg.expand({activeCtx:r,activeProperty:a,element:o[b],options:u,expansionMap:v,insideIndex:h,typeScopedContext:d});case 18:if(w=e.sent,l&&Eg(w)&&(w={"@list":w}),e.t0=null===w,!e.t0){e.next=26;break}return e.next=24,v({unmappedValue:o[b],activeCtx:r,activeProperty:a,parent:o,index:b,options:u,expandedParent:y,insideList:l});case 24:w=e.sent,e.t0=void 0===w;case 26:if(e.t1=e.t0,e.t1){e.next=29;break}Eg(w)?y=y.concat(w):y.push(w);case 29:++b,e.next=15;break;case 32:return e.abrupt("return",y);case 33:if(x=Mg(r,a,{vocab:!0},u),k=Ug(r,a,"@context"),d=d||(r.previousContext?r:null),_=Object.keys(o).sort(),!((B=!h)&&d&&_.length<=2)||_.includes("@context")){e.next=59;break}E=L(_),e.prev=38,E.s();case 40:if((S=E.n()).done){e.next=51;break}if(C=S.value,"@value"!==(I=Mg(d,C,{vocab:!0},u))){e.next=46;break}return B=!1,r=d,e.abrupt("break",51);case 46:if("@id"!==I||1!==_.length){e.next=49;break}return B=!1,e.abrupt("break",51);case 49:e.next=40;break;case 51:e.next=56;break;case 53:e.prev=53,e.t2=e.catch(38),E.e(e.t2);case 56:return e.prev=56,E.f(),e.finish(56);case 59:if(B&&(r=r.revertToPreviousContext()),e.t3=Pg(k),e.t3){e.next=65;break}return e.next=64,Rg({activeCtx:r,localCtx:k,propagate:!0,overrideProtected:!0,options:u});case 64:r=e.sent;case 65:if(e.t4="@context"in o,!e.t4){e.next=70;break}return e.next=69,Rg({activeCtx:r,localCtx:o["@context"],options:u});case 69:r=e.sent;case 70:d=r,P=null,T=L(_),e.prev=73,T.s();case 75:if((O=T.n()).done){e.next=103;break}if(N=O.value,"@type"!==Mg(r,N,{vocab:!0},u)){e.next=101;break}P=P||N,M=o[N],U=Array.isArray(M)?M.length>1?M.slice().sort():M:[M],F=L(U),e.prev=81,F.s();case 83:if((R=F.n()).done){e.next=93;break}if(D=R.value,j=Ug(d,D,"@context"),e.t5=Pg(j),e.t5){e.next=91;break}return e.next=90,Rg({activeCtx:r,localCtx:j,options:u,propagate:!1});case 90:r=e.sent;case 91:e.next=83;break;case 93:e.next=98;break;case 95:e.prev=95,e.t6=e.catch(81),F.e(e.t6);case 98:return e.prev=98,F.f(),e.finish(98);case 101:e.next=75;break;case 103:e.next=108;break;case 105:e.prev=105,e.t7=e.catch(73),T.e(e.t7);case 108:return e.prev=108,T.f(),e.finish(108);case 111:return Q={},e.next=114,Wg({activeCtx:r,activeProperty:a,expandedActiveProperty:x,element:o,expandedParent:Q,options:u,insideList:l,typeKey:P,typeScopedContext:d,expansionMap:v});case 114:if(_=Object.keys(Q),H=_.length,!("@value"in Q)){e.next=140;break}if(!("@type"in Q)||!("@language"in Q)&&!("@direction"in Q)){e.next=119;break}throw new Bg('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Q});case 119:if(K=H-1,"@type"in Q&&(K-=1),"@index"in Q&&(K-=1),"@language"in Q&&(K-=1),"@direction"in Q&&(K-=1),0===K){e.next=122;break}throw new Bg('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Q});case 122:if(V=null===Q["@value"]?[]:Hg(Q["@value"]),z=Kg(Q,"@type"),!Dg(r,1.1)||!z.includes("@json")||1!==z.length){e.next=127;break}e.next=138;break;case 127:if(0!==V.length){e.next=134;break}return e.next=130,v({unmappedValue:Q,activeCtx:r,activeProperty:a,element:o,options:u,insideList:l});case 130:q=e.sent,Q=void 0!==q?q:null,e.next=138;break;case 134:if(V.every((function(e){return Ig(e)||Cg(e)}))||!("@language"in Q)){e.next=136;break}throw new Bg("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:Q});case 136:if(z.every((function(e){return jg(e)&&!(Ig(e)&&0===e.indexOf("_:"))||Cg(e)}))){e.next=138;break}throw new Bg('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:Q});case 138:e.next=155;break;case 140:if(!("@type"in Q)||Eg(Q["@type"])){e.next=144;break}Q["@type"]=[Q["@type"]],e.next=155;break;case 144:if(!("@set"in Q)&&!("@list"in Q)){e.next=150;break}if(!(H>1)||2===H&&"@index"in Q){e.next=147;break}throw new Bg('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:Q});case 147:"@set"in Q&&(Q=Q["@set"],_=Object.keys(Q),H=_.length),e.next=155;break;case 150:if(1!==H||!("@language"in Q)){e.next=155;break}return e.next=153,v(Q,{unmappedValue:Q,activeCtx:r,activeProperty:a,element:o,options:u,insideList:l});case 153:G=e.sent,Q=void 0!==G?G:null;case 155:if(!Sg(Q)||u.keepFreeFloatingNodes||l||null!==a&&"@graph"!==x||!(0===H||"@value"in Q||"@list"in Q||1===H&&"@id"in Q)){e.next=160;break}return e.next=158,v({unmappedValue:Q,activeCtx:r,activeProperty:a,element:o,options:u,insideList:l});case 158:W=e.sent,Q=void 0!==W?W:null;case 160:return e.abrupt("return",Q);case 161:case"end":return e.stop()}}),e,null,[[38,53,56,59],[73,105,108,111],[81,95,98,101]])})));return function(t){return e.apply(this,arguments)}}();var ey=xg.isKeyword,ty=bv,ry=gv,ny=Tv,iy=wv,ay={},oy=ay;ay.createMergedNodeMap=function(e,t){var r=(t=t||{}).issuer||new ny.IdentifierIssuer("_:b"),n={"@default":{}};return ay.createNodeMap(e,n,"@default",r),ay.mergeNodeMaps(n)},ay.createNodeMap=function(e,t,r,n,i,a){if(ry.isArray(e)){var o,s=L(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;ay.createNodeMap(u,t,r,n,void 0,a)}}catch(e){s.e(e)}finally{s.f()}}else if(ry.isObject(e))if(ty.isValue(e)){if("@type"in e){var c=e["@type"];0===c.indexOf("_:")&&(e["@type"]=c=n.getId(c))}a&&a.push(e)}else{if(a&&ty.isList(e)){var l=[];return ay.createNodeMap(e["@list"],t,r,n,i,l),void a.push({"@list":l})}if("@type"in e){var f,h=L(e["@type"]);try{for(h.s();!(f=h.n()).done;){var A=f.value;0===A.indexOf("_:")&&n.getId(A)}}catch(e){h.e(e)}finally{h.f()}}ry.isUndefined(i)&&(i=ty.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),a&&a.push({"@id":i});var d=t[r],p=d[i]=d[i]||{};p["@id"]=i;var v,g=L(Object.keys(e).sort());try{for(g.s();!(v=g.n()).done;){var y=v.value;if("@id"!==y)if("@reverse"!==y)if("@graph"!==y)if("@included"!==y)if("@type"!==y&&ey(y)){if("@index"===y&&y in p&&(e[y]!==p[y]||e[y]["@id"]!==p[y]["@id"]))throw new iy("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[y]=e[y]}else{var m=e[y];if(0===y.indexOf("_:")&&(y=n.getId(y)),0!==m.length){var b,w=L(m);try{for(w.s();!(b=w.n()).done;){var x=b.value;if("@type"===y&&(x=0===x.indexOf("_:")?n.getId(x):x),ty.isSubject(x)||ty.isSubjectReference(x)){if("@id"in x&&!x["@id"])continue;var k=ty.isBlankNode(x)?n.getId(x["@id"]):x["@id"];ny.addValue(p,y,{"@id":k},{propertyIsArray:!0,allowDuplicate:!1}),ay.createNodeMap(x,t,r,n,k)}else if(ty.isValue(x))ny.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1});else if(ty.isList(x)){var _=[];ay.createNodeMap(x["@list"],t,r,n,i,_),x={"@list":_},ny.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1})}else ay.createNodeMap(x,t,r,n,i),ny.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){w.e(e)}finally{w.f()}}else ny.addValue(p,y,[],{propertyIsArray:!0})}else ay.createNodeMap(e[y],t,r,n);else i in t||(t[i]={}),ay.createNodeMap(e[y],t,i,n);else{var B={"@id":i},E=e["@reverse"];for(var S in E){var C,I=L(E[S]);try{for(I.s();!(C=I.n()).done;){var P=C.value,T=P["@id"];ty.isBlankNode(P)&&(T=n.getId(T)),ay.createNodeMap(P,t,r,n,T),ny.addValue(d[T],S,B,{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){I.e(e)}finally{I.f()}}}}}catch(e){g.e(e)}finally{g.f()}}else a&&a.push(e)},ay.mergeNodeMapGraphs=function(e){var t,r={},n=L(Object.keys(e).sort());try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=L(Object.keys(e[a]).sort());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e[a][s];s in r||(r[s]={"@id":s});var c,l=r[s],f=L(Object.keys(u).sort());try{for(f.s();!(c=f.n()).done;){var h=c.value;if(ey(h)&&"@type"!==h)l[h]=ny.clone(u[h]);else{var A,d=L(u[h]);try{for(d.s();!(A=d.n()).done;){var p=A.value;ny.addValue(l,h,ny.clone(p),{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){f.e(e)}finally{f.f()}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return r},ay.mergeNodeMaps=function(e){var t,r=e["@default"],n=L(Object.keys(e).sort());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("@default"!==i){var a=e[i],o=r[i];o?"@graph"in o||(o["@graph"]=[]):r[i]=o={"@id":i,"@graph":[]};var s,u=o["@graph"],c=L(Object.keys(a).sort());try{for(c.s();!(s=c.n()).done;){var l=a[s.value];ty.isSubjectReference(l)||u.push(l)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){n.e(e)}finally{n.f()}return r};var sy=bv.isSubjectReference,uy=oy.createMergedNodeMap,cy={},ly=cy;cy.flatten=function(e){for(var t=uy(e),r=[],n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=t[n[i]];sy(a)||r.push(a)}return r};var fy=wv,hy=bv,Ay=gv,dy=Tv,py=Mv.RDF_LIST,vy=Mv.RDF_FIRST,gy=Mv.RDF_REST,yy=Mv.RDF_NIL,my=Mv.RDF_TYPE,by=Mv.RDF_JSON_LITERAL,wy=Mv.XSD_BOOLEAN,xy=Mv.XSD_DOUBLE,ky=Mv.XSD_INTEGER,_y=Mv.XSD_STRING,By=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,Ey={},Sy=Ey;function Cy(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};var n={"@value":e.value};if(e.language)n["@language"]=e.language;else{var i=e.datatype.value;if(i||(i=_y),i===by){i="@json";try{n["@value"]=JSON.parse(n["@value"])}catch(e){throw new fy("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:n["@value"],cause:e})}}if(t){if(i===wy)"true"===n["@value"]?n["@value"]=!0:"false"===n["@value"]&&(n["@value"]=!1);else if(Ay.isNumeric(n["@value"]))if(i===ky){var a=parseInt(n["@value"],10);a.toFixed(0)===n["@value"]&&(n["@value"]=a)}else i===xy&&(n["@value"]=parseFloat(n["@value"]));[wy,ky,xy,_y].includes(i)||(n["@type"]=i)}else if("i18n-datatype"===r&&i.startsWith("https://www.w3.org/ns/i18n#")){var o=B(i.split(/[#_]/),3),s=o[1],u=o[2];s.length>0&&(n["@language"]=s,s.match(By)||console.warn("@language must be valid BCP47: ".concat(s))),n["@direction"]=u}else i!==_y&&(n["@type"]=i)}return n}Ey.fromRDF=function(){var e=o(n().mark((function e(t,r){var i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,N,M,U,F,R,D,j,Q,H,K,V,z,q,G,W,J,X,Y,$,Z;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.useRdfType,a=void 0!==i&&i,o=r.useNativeTypes,s=void 0!==o&&o,u=r.rdfDirection,c=void 0===u?null:u,f={"@default":l={}},h={},A=L(t),e.prev=3,A.s();case 5:if((d=A.n()).done){e.next=19;break}if(p=d.value,(v="DefaultGraph"===p.graph.termType?"@default":p.graph.value)in f||(f[v]={}),"@default"===v||v in l||(l[v]={"@id":v}),g=f[v],y=p.subject.value,m=p.predicate.value,b=p.object,y in g||(g[y]={"@id":y}),w=g[y],(x=b.termType.endsWith("Node"))&&!(b.value in g)&&(g[b.value]={"@id":b.value}),m!==my||a||!x){e.next=15;break}return dy.addValue(w,"@type",b.value,{propertyIsArray:!0}),e.abrupt("continue",17);case 15:k=Cy(b,s,c),dy.addValue(w,m,k,{propertyIsArray:!0}),x&&(b.value===yy?("usages"in(_=g[b.value])||(_.usages=[]),_.usages.push({node:w,property:m,value:k})):b.value in h?h[b.value]=!1:h[b.value]={node:w,property:m,value:k});case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),A.e(e.t0);case 24:return e.prev=24,A.f(),e.finish(24);case 27:e.t1=n().keys(f);case 28:if((e.t2=e.t1()).done){e.next=37;break}if(B=e.t2.value,E=f[B],yy in E){e.next=33;break}return e.abrupt("continue",28);case 33:if((S=E[yy]).usages){C=L(S.usages);try{for(C.s();!(I=C.n()).done;){for(P=I.value,T=P.node,O=P.property,N=P.value,M=[],U=[],F=Object.keys(T).length;O===gy&&Ay.isObject(h[T["@id"]])&&Ay.isArray(T[vy])&&1===T[vy].length&&Ay.isArray(T[gy])&&1===T[gy].length&&(3===F||4===F&&Ay.isArray(T["@type"])&&1===T["@type"].length&&T["@type"][0]===py)&&(M.push(T[vy][0]),U.push(T["@id"]),P=h[T["@id"]],T=P.node,O=P.property,N=P.value,F=Object.keys(T).length,hy.isBlankNode(T)););for(delete N["@id"],N["@list"]=M.reverse(),R=0,D=U;R<D.length;R++)j=D[R],delete E[j]}}catch(e){C.e(e)}finally{C.f()}delete S.usages}e.next=28;break;case 37:Q=[],H=Object.keys(l).sort(),K=L(H);try{for(K.s();!(V=K.n()).done;){if(z=V.value,q=l[z],z in f){G=q["@graph"]=[],W=f[z],J=Object.keys(W).sort(),X=L(J);try{for(X.s();!(Y=X.n()).done;)$=Y.value,Z=W[$],hy.isSubjectReference(Z)||G.push(Z)}catch(e){X.e(e)}finally{X.f()}}hy.isSubjectReference(q)||Q.push(q)}}catch(e){K.e(e)}finally{K.f()}return e.abrupt("return",Q);case 41:case"end":return e.stop()}}),e,null,[[3,21,24,27]])})));return function(t,r){return e.apply(this,arguments)}}();var Iy=oy.createNodeMap,Py=xg.isKeyword,Ty=bv,Oy=function e(t){return null===t||"object"!=i(t)||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((function(t,r,n){return t+(0===n?"":",")+e(void 0===r||"symbol"==i(r)?null:r)}),"")+"]":"{"+Object.keys(t).sort().reduce((function(r,n,a){return void 0===t[n]||"symbol"==i(t[n])?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])}),"")+"}"},Ly=gv,Ny=Tv,My=Mv.RDF_FIRST,Uy=Mv.RDF_REST,Fy=Mv.RDF_NIL,Ry=Mv.RDF_TYPE,Dy=Mv.RDF_JSON_LITERAL,jy=Mv.RDF_LANGSTRING,Qy=Mv.XSD_BOOLEAN,Hy=Mv.XSD_DOUBLE,Ky=Mv.XSD_INTEGER,Vy=Mv.XSD_STRING,zy=Dv.isAbsolute,qy={},Gy=qy;function Wy(e,t,r,n,i){var a,o=L(Object.keys(t).sort());try{for(o.s();!(a=o.n()).done;){var s,u=a.value,c=t[u],l=L(Object.keys(c).sort());try{for(l.s();!(s=l.n()).done;){var f=s.value,h=c[f];if("@type"===f)f=Ry;else if(Py(f))continue;var A,d=L(h);try{for(d.s();!(A=d.n()).done;){var p=A.value,v={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(zy(u)){var g={termType:f.startsWith("_:")?"BlankNode":"NamedNode",value:f};if(zy(f)&&("BlankNode"!==g.termType||i.produceGeneralizedRdf)){var y=Jy(p,n,e,r,i.rdfDirection);y&&e.push({subject:v,predicate:g,object:y,graph:r})}}}}catch(e){d.e(e)}finally{d.f()}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}}function Jy(e,t,r,n,i){var a={};if(Ty.isValue(e)){a.termType="Literal",a.value=void 0,a.datatype={termType:"NamedNode"};var o=e["@value"],s=e["@type"]||null;if("@json"===s)a.value=Oy(o),a.datatype.value=Dy;else if(Ly.isBoolean(o))a.value=o.toString(),a.datatype.value=s||Qy;else if(Ly.isDouble(o)||s===Hy)Ly.isDouble(o)||(o=parseFloat(o)),a.value=o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),a.datatype.value=s||Hy;else if(Ly.isNumber(o))a.value=o.toFixed(0),a.datatype.value=s||Ky;else if("i18n-datatype"===i&&"@direction"in e){var u="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_".concat(e["@direction"]);a.datatype.value=u,a.value=o}else"@language"in e?(a.value=o,a.datatype.value=s||jy,a.language=e["@language"]):(a.value=o,a.datatype.value=s||Vy)}else if(Ty.isList(e)){var c=function(e,t,r,n,i){var a,o={termType:"NamedNode",value:My},s={termType:"NamedNode",value:Uy},u={termType:"NamedNode",value:Fy},c=e.pop(),l=c?{termType:"BlankNode",value:t.getId()}:u,f=l,h=L(e);try{for(h.s();!(a=h.n()).done;){var A=Jy(a.value,t,r,n,i),d={termType:"BlankNode",value:t.getId()};r.push({subject:f,predicate:o,object:A,graph:n}),r.push({subject:f,predicate:s,object:d,graph:n}),f=d}}catch(e){h.e(e)}finally{h.f()}if(c){var p=Jy(c,t,r,n,i);r.push({subject:f,predicate:o,object:p,graph:n}),r.push({subject:f,predicate:s,object:u,graph:n})}return l}(e["@list"],t,r,n,i);a.termType=c.termType,a.value=c.value}else{var l=Ly.isObject(e)?e["@id"]:e;a.termType=l.startsWith("_:")?"BlankNode":"NamedNode",a.value=l}return"NamedNode"!==a.termType||zy(a.value)?a:null}qy.toRDF=function(e,t){var r=new Ny.IdentifierIssuer("_:b"),n={"@default":{}};Iy(e,n,"@default",r);var i,a=[],o=L(Object.keys(n).sort());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0;if("@default"===s)u={termType:"DefaultGraph",value:""};else{if(!zy(s))continue;(u=s.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=s}Wy(a,n[s],u,r,t)}}catch(e){o.e(e)}finally{o.f()}return a};var Xy=xg.isKeyword,Yy=bv,$y=gv,Zy=Tv,em=Dv,tm=wv,rm=oy.createNodeMap,nm=oy.mergeNodeMapGraphs,im={},am=im;function om(e){var t={};for(var r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function sm(e,t,r){for(var n=r.length-1;n>=0;--n){var i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function um(e,t,r){var n="@"+r,i=n in e?e[n][0]:t[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new tm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function cm(e){if(!$y.isArray(e)||1!==e.length||!$y.isObject(e[0]))throw new tm("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){var t,r=L(Zy.asArray(e[0]["@id"]));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!$y.isObject(n)&&!em.isAbsolute(n)||$y.isString(n)&&0===n.indexOf("_:"))throw new tm("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(e){r.e(e)}finally{r.f()}}if("@type"in e[0]){var i,a=L(Zy.asArray(e[0]["@type"]));try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!$y.isObject(o)&&!em.isAbsolute(o)||$y.isString(o)&&0===o.indexOf("_:"))throw new tm("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(e){a.e(e)}finally{a.f()}}}function lm(e,t,r,n){var a=!0,o=!1;for(var s in r){var u=!1,c=Zy.getValues(t,s),l=0===Zy.getValues(r,s).length;if("@id"===s){if($y.isEmptyObject(r["@id"][0]||{})?u=!0:r["@id"].length>=0&&(u=r["@id"].includes(c[0])),!n.requireAll)return u}else if("@type"===s){if(a=!1,l){if(c.length>0)return!1;u=!0}else if(1===r["@type"].length&&$y.isEmptyObject(r["@type"][0]))u=c.length>0;else{var f,h=L(r["@type"]);try{var A=function(){var e=f.value;u=!(!$y.isObject(e)||!("@default"in e))||u||c.some((function(t){return t===e}))};for(h.s();!(f=h.n()).done;)A()}catch(e){h.e(e)}finally{h.f()}}if(!n.requireAll)return u}else{if(Xy(s))continue;var d=function(){var t=Zy.getValues(r,s)[0],i=!1;if(t&&(cm([t]),i="@default"in t),a=!1,0===c.length&&i)return"continue";if(c.length>0&&l)return{v:!1};if(void 0===t){if(c.length>0)return{v:!1};u=!0}else if(Yy.isList(t)){var o=t["@list"][0];if(Yy.isList(c[0])){var f=c[0]["@list"];Yy.isValue(o)?u=f.some((function(e){return pm(o,e)})):(Yy.isSubject(o)||Yy.isSubjectReference(o))&&(u=f.some((function(t){return dm(e,o,t,n)})))}}else u=Yy.isValue(t)?c.some((function(e){return pm(t,e)})):Yy.isSubjectReference(t)?c.some((function(r){return dm(e,t,r,n)})):!!$y.isObject(t)&&c.length>0}();if("continue"===d)continue;if("object"===i(d))return d.v}if(!u&&n.requireAll)return!1;o=o||u}return a||o}function fm(e,t){var r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,a=n.property,o={"@id":t};if($y.isArray(i)){for(var s=0;s<i.length;++s)if(Zy.compareValues(i[s],o)){i[s]=o;break}}else{var u=$y.isArray(i[a]);Zy.removeValue(i,a,o,{propertyIsArray:u}),Zy.addValue(i,a,o,{propertyIsArray:u})}!function e(t){for(var n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a in r&&$y.isObject(r[a].parent)&&r[a].parent["@id"]===t&&(delete r[a],e(a))}}(t)}
/**
   * Removes the @preserve keywords from expanded result of framing.
   *
   * @param input the framed, framed output.
   * @param options the framing options used.
   *
   * @return the resulting output.
   */function hm(e,t){if($y.isArray(e))return e.map((function(e){return hm(e,t)}));if($y.isObject(e)){// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(Yy.isValue(e))return e;if(Yy.isList(e))return e["@list"]=hm(e["@list"],t),e;if("@id"in e){var r=e["@id"];if(t.link.hasOwnProperty(r)){var n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(var i in e)"@id"===i&&t.bnodesToClear.includes(e[i])?delete e["@id"]:e[i]=hm(e[i],t)}return e}function Am(e,t,r){$y.isObject(e)?Zy.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function dm(e,t,r,n){if(!("@id"in r))return!1;var i=e.subjects[r["@id"]];return i&&lm(e,i,t,n)}function pm(e,t){var r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?$y.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],o=e["@type"]?$y.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?$y.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===o.length&&0===s.length||!(!a.includes(r)&&!$y.isEmptyObject(a[0]))&&!!(!n&&0===o.length||o.includes(n)||n&&$y.isEmptyObject(o[0]))&&!!(!i&&0===s.length||s.includes(i)||i&&$y.isEmptyObject(s[0]))}im.frameMergedOrDefault=function(e,t,r){var n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new Zy.IdentifierIssuer("_:b");rm(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=nm(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];var a=[];return im.frame(n,Object.keys(n.subjects).sort(),t,a),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((function(e){return 1===n.bnodeMap[e].length}))),// remove @preserve from results
r.link={},hm(a,r)},im.frame=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;cm(n),n=n[0];var o=e.options,s={embed:um(n,o,"embed"),explicit:um(n,o,"explicit"),requireAll:um(n,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});var u,c=e.link[e.graph],f=function(e,t,r,n){var i,a={},o=L(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e.graphMap[e.graph][s];lm(e,u,r,n)&&(a[s]=u)}}catch(e){o.e(e)}finally{o.f()}return a}(e,t,n,s),h=Object.keys(f).sort(),A=L(h);try{var d=function(){var h=u.value,A=f[h];if(null===a?e.uniqueEmbeds=l({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===s.embed&&h in c)return Am(i,a,c[h]),"continue";var d={"@id":h};if(0===h.indexOf("_:")&&Zy.addValue(e.bnodeMap,h,d,{propertyIsArray:!0}),c[h]=d,("@first"===s.embed||"@last"===s.embed)&&e.is11)throw new tm("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(h))if(!e.embedded||"@never"!==s.embed&&!sm(A,e.graph,e.subjectStack))if(!e.embedded||"@first"!=s.embed&&"@once"!=s.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(h)){if("@last"===s.embed&&h in e.uniqueEmbeds[e.graph]&&fm(e,h),e.uniqueEmbeds[e.graph][h]={parent:i,property:a},e.subjectStack.push({subject:A,graph:e.graph}),h in e.graphMap){var p=!1,v=null;"@graph"in n?(v=n["@graph"][0],p=!("@merged"===h||"@default"===h),$y.isObject(v)||(v={})):(p="@merged"!==e.graph,v={}),p&&im.frame(r(r({},e),{},{graph:h,embedded:!1}),Object.keys(e.graphMap[h]).sort(),[v],d,"@graph")}"@included"in n&&im.frame(r(r({},e),{},{embedded:!1}),t,n["@included"],d,"@included");var g,y=L(Object.keys(A).sort());try{for(y.s();!(g=y.n()).done;){var m=g.value;if(Xy(m)){if(d[m]=Zy.clone(A[m]),"@type"===m){var b,w=L(A["@type"]);try{for(w.s();!(b=w.n()).done;){var x=b.value;0===x.indexOf("_:")&&Zy.addValue(e.bnodeMap,x,d,{propertyIsArray:!0})}}catch(e){w.e(e)}finally{w.f()}}}else if(!s.explicit||m in n){var k,_=L(A[m]);try{for(_.s();!(k=_.n()).done;){var B=k.value,E=m in n?n[m]:om(s);if(Yy.isList(B)){var S=n[m]&&n[m][0]&&n[m][0]["@list"]?n[m][0]["@list"]:om(s),C={"@list":[]};Am(d,m,C);var I,P=L(B["@list"]);try{for(P.s();!(I=P.n()).done;){var T=I.value;Yy.isSubjectReference(T)?im.frame(r(r({},e),{},{embedded:!0}),[T["@id"]],S,C,"@list"):Am(C,"@list",Zy.clone(T))}}catch(e){P.e(e)}finally{P.f()}}else Yy.isSubjectReference(B)?im.frame(r(r({},e),{},{embedded:!0}),[B["@id"]],E,d,m):pm(E[0],B)&&Am(d,m,Zy.clone(B))}}catch(e){_.e(e)}finally{_.f()}}}}catch(e){y.e(e)}finally{y.f()}var O,N=L(Object.keys(n).sort());try{for(N.s();!(O=N.n()).done;){var M=O.value;if("@type"===M){if(!$y.isObject(n[M][0])||!("@default"in n[M][0]))continue}else if(Xy(M))continue;var U=n[M][0]||{};if(!um(U,o,"omitDefault")&&!(M in d)){var F="@null";"@default"in U&&(F=Zy.clone(U["@default"])),$y.isArray(F)||(F=[F]),d[M]=[{"@preserve":F}]}}}catch(e){N.e(e)}finally{N.f()}var R,D=L(Object.keys(n["@reverse"]||{}).sort());try{for(D.s();!(R=D.n()).done;)for(var j=R.value,Q=n["@reverse"][j],H=0,K=Object.keys(e.subjects);H<K.length;H++){var V=K[H];Zy.getValues(e.subjects[V],j).some((function(e){return e["@id"]===h}))&&(d["@reverse"]=d["@reverse"]||{},Zy.addValue(d["@reverse"],j,[],{propertyIsArray:!0}),im.frame(r(r({},e),{},{embedded:!0}),[V],Q,d["@reverse"][j],a))}}catch(e){D.e(e)}finally{D.f()}Am(i,a,d),e.subjectStack.pop()}else Am(i,a,d);else Am(i,a,d)};for(A.s();!(u=A.n()).done;)d()}catch(e){A.e(e)}finally{A.f()}},im.cleanupNull=function(e,t){if($y.isArray(e))return e.map((function(e){return im.cleanupNull(e,t)})).filter((function(e){return e}));if("@null"===e)return null;if($y.isObject(e)){if("@id"in e){var r=e["@id"];if(t.link.hasOwnProperty(r)){var n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(var i in e)e[i]=im.cleanupNull(e[i],t)}return e};var vm=wv,gm=gv.isArray,ym=gv.isObject,mm=gv.isString,bm=gv.isUndefined,wm=bv.isList,xm=bv.isValue,km=bv.isGraph,_m=bv.isSimpleGraph,Bm=bv.isSubjectReference,Em=xg.expandIri,Sm=xg.getContextValue,Cm=xg.isKeyword,Im=xg.process,Pm=xg.processingMode,Tm=Dv.removeBase,Om=Dv.prependBase,Lm=Tv.addValue,Nm=Tv.asArray,Mm=Tv.compareShortestLeast,Um={},Fm=Um;function Rm(e,t,r){if("@nest"!==Em(e,t,{vocab:!0},r))throw new vm("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}Um.compact=function(){var e=o(n().mark((function e(t){var r,a,o,s,u,c,f,h,A,d,p,v,g;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,a=t.activeProperty,o=void 0===a?null:a,s=t.element,u=t.options,c=void 0===u?{}:u,f=t.compactionMap,h=void 0===f?function(){}:f,!gm(s)){e.next=22;break}A=[],d=0;case 4:if(!(d<s.length)){e.next=20;break}return e.next=7,Um.compact({activeCtx:r,activeProperty:o,element:s[d],options:c,compactionMap:h});case 7:if(p=e.sent,e.t0=null===p,!e.t0){e.next=14;break}return e.next=12,h({unmappedValue:s[d],activeCtx:r,activeProperty:o,parent:s,index:d,options:c});case 12:p=e.sent,e.t0=void 0===p;case 14:if(e.t1=e.t0,e.t1){e.next=17;break}A.push(p);case 17:++d,e.next=4;break;case 20:return c.compactArrays&&1===A.length&&0===(Sm(r,o,"@container")||[]).length&&(A=A[0]),e.abrupt("return",A);case 22:if(v=Sm(r,o,"@context"),e.t2=bm(v),e.t2){e.next=28;break}return e.next=27,Im({activeCtx:r,localCtx:v,propagate:!0,overrideProtected:!0,options:c});case 27:r=e.sent;case 28:if(!ym(s)){e.next=33;break}return e.delegateYield(n().mark((function e(){var t,i,a,u,f,A,d,p,v,g,y,m,b,w,x,k,_,B,S,C,I,P,T,O,N,M,U,F,R,D,j,Q,H,K,V,z,q,G,W,J,X,Y,$,Z,ee,te,re,ne,ie,ae,oe,se,ue,ce,le,fe,he,Ae,de,pe;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.link&&"@id"in s&&c.link.hasOwnProperty(s["@id"]))){e.next=9;break}a=c.link[s["@id"]],u=0;case 3:if(!(u<a.length)){e.next=9;break}if(a[u].expanded!==s){e.next=6;break}return e.abrupt("return",{v:a[u].compacted});case 6:++u,e.next=3;break;case 9:if(!xm(s)&&!Bm(s)){e.next=12;break}return f=Um.compactValue({activeCtx:r,activeProperty:o,value:s,options:c}),e.abrupt("return",{v:(c.link&&Bm(s)&&(c.link.hasOwnProperty(s["@id"])||(c.link[s["@id"]]=[]),c.link[s["@id"]].push({expanded:s,compacted:f})),f)});case 12:if(!wm(s)){e.next=15;break}if(!(Sm(r,o,"@container")||[]).includes("@list")){e.next=15;break}return e.abrupt("return",{v:Um.compact({activeCtx:r,activeProperty:o,element:s["@list"],options:c,compactionMap:h})});case 15:if(A="@reverse"===o,d={},p=r,xm(s)||Bm(s)||(r=r.revertToPreviousContext()),v=Sm(p,o,"@context"),e.t0=bm(v),e.t0){e.next=23;break}return e.next=22,Im({activeCtx:r,localCtx:v,propagate:!0,overrideProtected:!0,options:c});case 22:r=e.sent;case 23:c.link&&"@id"in s&&(c.link.hasOwnProperty(s["@id"])||(c.link[s["@id"]]=[]),c.link[s["@id"]].push({expanded:s,compacted:d})),(g=s["@type"]||[]).length>1&&(g=Array.from(g).sort()),y=r,m=L(g),e.prev=28,m.s();case 30:if((b=m.n()).done){e.next=40;break}if(w=b.value,x=Um.compactIri({activeCtx:y,iri:w,relativeTo:{vocab:!0}}),k=Sm(p,x,"@context"),e.t1=bm(k),e.t1){e.next=38;break}return e.next=37,Im({activeCtx:r,localCtx:k,options:c,propagate:!1});case 37:r=e.sent;case 38:e.next=30;break;case 40:e.next=45;break;case 42:e.prev=42,e.t2=e.catch(28),m.e(e.t2);case 45:return e.prev=45,m.f(),e.finish(45);case 48:_=Object.keys(s).sort(),B=L(_),e.prev=50,B.s();case 52:if((S=B.n()).done){e.next=186;break}if(C=S.value,I=s[C],"@id"===C){e.next=181;break}if("@type"===C){e.next=175;break}if("@reverse"===C){e.next=168;break}if("@preserve"===C){e.next=162;break}if("@index"===C){e.next=156;break}if("@graph"===C||"@list"===C||"@included"===C||!Cm(C)){e.next=65;break}P=Um.compactIri({activeCtx:r,iri:C,relativeTo:{vocab:!0}}),Lm(d,P,I),e.next=154;break;case 65:if(gm(I)){e.next=67;break}throw new vm("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");case 67:0===I.length&&(T=Um.compactIri({activeCtx:r,iri:C,value:I,relativeTo:{vocab:!0},reverse:A}),O=r.mappings.has(T)?r.mappings.get(T)["@nest"]:null,N=d,O&&(Rm(r,O,c),ym(d[O])||(d[O]={}),N=d[O]),Lm(N,T,I,{propertyIsArray:!0})),M=L(I),e.prev=69,M.s();case 71:if((U=M.n()).done){e.next=146;break}return F=U.value,R=Um.compactIri({activeCtx:r,iri:C,value:F,relativeTo:{vocab:!0},reverse:A}),D=r.mappings.has(R)?r.mappings.get(R)["@nest"]:null,j=d,D&&(Rm(r,D,c),ym(d[D])||(d[D]={}),j=d[D]),Q=Sm(r,R,"@container")||[],H=km(F),K=wm(F),V=void 0,K?V=F["@list"]:H&&(V=F["@graph"]),e.next=81,Um.compact({activeCtx:r,activeProperty:R,element:K||H?V:F,options:c,compactionMap:h});case 81:if(z=e.sent,!K){e.next=87;break}if(gm(z)||(z=[z]),!Q.includes("@list")){e.next=86;break}return Lm(j,R,z,{valueIsArray:!0,allowDuplicate:!0}),e.abrupt("continue",144);case 86:z=l({},Um.compactIri({activeCtx:r,iri:"@list",relativeTo:{vocab:!0}}),z),"@index"in F&&(z[Um.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=F["@index"]);case 87:if(!H){e.next=91;break}Q.includes("@graph")&&(Q.includes("@id")||Q.includes("@index")&&_m(F))?(q=void 0,j.hasOwnProperty(R)?q=j[R]:j[R]=q={},G=(Q.includes("@id")?F["@id"]:F["@index"])||Um.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}}),Lm(q,G,z,{propertyIsArray:!c.compactArrays||Q.includes("@set")})):Q.includes("@graph")&&_m(F)?(gm(z)&&z.length>1&&(z={"@included":z}),Lm(j,R,z,{propertyIsArray:!c.compactArrays||Q.includes("@set")})):(gm(z)&&1===z.length&&c.compactArrays&&(z=z[0]),z=l({},Um.compactIri({activeCtx:r,iri:"@graph",relativeTo:{vocab:!0}}),z),"@id"in F&&(z[Um.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=F["@id"]),"@index"in F&&(z[Um.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=F["@index"]),Lm(j,R,z,{propertyIsArray:!c.compactArrays||Q.includes("@set")})),e.next=144;break;case 91:if(!(Q.includes("@language")||Q.includes("@index")||Q.includes("@id")||Q.includes("@type"))){e.next=142;break}if(W=void 0,J=void 0,j.hasOwnProperty(R)?W=j[R]:j[R]=W={},!Q.includes("@language")){e.next=97;break}xm(z)&&(z=z["@value"]),J=F["@language"],e.next=139;break;case 97:if(!Q.includes("@index")){e.next=118;break}if(X=Sm(r,R,"@index")||"@index",Y=Um.compactIri({activeCtx:r,iri:X,relativeTo:{vocab:!0}}),"@index"!==X){e.next=103;break}J=F["@index"],delete z[Y],e.next=116;break;case 103:if(ee=void 0,$=Nm(z[X]||[]),Z=E($),J=Z[0],ee=Z.slice(1),!mm(J)){e.next=115;break}e.t3=ee.length,e.next=0===e.t3?108:1===e.t3?110:112;break;case 108:return delete z[X],e.abrupt("break",113);case 110:return z[X]=ee[0],e.abrupt("break",113);case 112:z[X]=ee;case 113:e.next=116;break;case 115:J=null;case 116:e.next=139;break;case 118:if(!Q.includes("@id")){e.next=123;break}te=Um.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}}),J=z[te],delete z[te],e.next=139;break;case 123:if(!Q.includes("@type")){e.next=139;break}re=Um.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),ne=void 0,e.t4=(t=Nm(z[re]||[]),i=E(t),J=i[0],(ne=i.slice(1)).length),e.next=0===e.t4?129:1===e.t4?131:133;break;case 129:return delete z[re],e.abrupt("break",134);case 131:return z[re]=ne[0],e.abrupt("break",134);case 133:z[re]=ne;case 134:if(e.t5=1===Object.keys(z).length&&"@id"in F,!e.t5){e.next=139;break}return e.next=138,Um.compact({activeCtx:r,activeProperty:R,element:{"@id":F["@id"]},options:c,compactionMap:h});case 138:z=e.sent;case 139:J||(J=Um.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}})),Lm(W,J,z,{propertyIsArray:Q.includes("@set")}),e.next=144;break;case 142:ie=!c.compactArrays||Q.includes("@set")||Q.includes("@list")||gm(z)&&0===z.length||"@list"===C||"@graph"===C,Lm(j,R,z,{propertyIsArray:ie});case 144:e.next=71;break;case 146:e.next=151;break;case 148:e.prev=148,e.t6=e.catch(69),M.e(e.t6);case 151:return e.prev=151,M.f(),e.finish(151);case 154:e.next=160;break;case 156:if(!(Sm(r,o,"@container")||[]).includes("@index")){e.next=158;break}return e.abrupt("continue",184);case 158:ae=Um.compactIri({activeCtx:r,iri:C,relativeTo:{vocab:!0}}),Lm(d,ae,I);case 160:e.next=166;break;case 162:return e.next=164,Um.compact({activeCtx:r,activeProperty:o,element:I,options:c,compactionMap:h});case 164:oe=e.sent,gm(oe)&&0===oe.length||Lm(d,C,oe);case 166:e.next=173;break;case 168:return e.next=170,Um.compact({activeCtx:r,activeProperty:"@reverse",element:I,options:c,compactionMap:h});case 170:for(ue in se=e.sent)r.mappings.has(ue)&&r.mappings.get(ue).reverse&&(ce=se[ue],le=(Sm(r,ue,"@container")||[]).includes("@set")||!c.compactArrays,Lm(d,ue,ce,{propertyIsArray:le}),delete se[ue]);Object.keys(se).length>0&&(fe=Um.compactIri({activeCtx:r,iri:C,relativeTo:{vocab:!0}}),Lm(d,fe,se));case 173:e.next=179;break;case 175:he=Nm(I).map((function(e){return Um.compactIri({activeCtx:p,iri:e,relativeTo:{vocab:!0}})})),1===he.length&&(he=he[0]),Ae=Um.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),de=(Sm(r,Ae,"@container")||[]).includes("@set")&&Pm(r,1.1)||gm(he)&&0===I.length,Lm(d,Ae,he,{propertyIsArray:de});case 179:e.next=184;break;case 181:pe=Nm(I).map((function(e){return Um.compactIri({activeCtx:r,iri:e,relativeTo:{vocab:!1},base:c.base})})),1===pe.length&&(pe=pe[0]),d[Um.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=pe;case 184:e.next=52;break;case 186:e.next=191;break;case 188:e.prev=188,e.t7=e.catch(50),B.e(e.t7);case 191:return e.prev=191,B.f(),e.finish(191);case 194:return e.abrupt("return",{v:d});case 195:case"end":return e.stop()}}),e,null,[[28,42,45,48],[50,188,191,194],[69,148,151,154]])}))(),"t3",30);case 30:if("object"!==i(g=e.t3)){e.next=33;break}return e.abrupt("return",g.v);case 33:return e.abrupt("return",s);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Um.compactIri=function(e){var t=e.activeCtx,r=e.iri,n=e.value,i=void 0===n?null:n,a=e.relativeTo,o=void 0===a?{vocab:!1}:a,s=e.reverse,u=void 0!==s&&s,c=e.base,l=void 0===c?null:c;if(null===r)return r;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var f=t.getInverse();if(Cm(r)&&r in f&&"@none"in f[r]&&"@type"in f[r]["@none"]&&"@none"in f[r]["@none"]["@type"])return f[r]["@none"]["@type"]["@none"];if(o.vocab&&r in f){var h=t["@language"]||"@none",A=[];ym(i)&&"@index"in i&&!("@graph"in i)&&A.push("@index","@index@set"),ym(i)&&"@preserve"in i&&(i=i["@preserve"][0]),km(i)?("@index"in i&&A.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i&&A.push("@graph@id","@graph@id@set"),A.push("@graph","@graph@set","@set"),"@index"in i||A.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i||A.push("@graph@id","@graph@id@set")):ym(i)&&!xm(i)&&A.push("@id","@id@set","@type","@set@type");var d="@language",p="@null";if(u)d="@type",p="@reverse",A.push("@set");else if(wm(i)){"@index"in i||A.push("@list");var v=i["@list"];if(0===v.length)d="@any",p="@none";else{for(var g=0===v.length?h:null,y=null,m=0;m<v.length;++m){var b=v[m],w="@none",x="@none";if(xm(b)?"@direction"in b?w="".concat((b["@language"]||"").toLowerCase(),"_").concat(b["@direction"]):"@language"in b?w=b["@language"].toLowerCase():"@type"in b?x=b["@type"]:w="@null":x="@id",null===g?g=w:w!==g&&xm(b)&&(g="@none"),null===y?y=x:x!==y&&(y="@none"),"@none"===g&&"@none"===y)break}g=g||"@none","@none"!==(y=y||"@none")?(d="@type",p=y):p=g}}else{if(xm(i))if("@language"in i&&!("@index"in i)){A.push("@language","@language@set"),p=i["@language"];var k=i["@direction"];k&&(p="".concat(p,"_").concat(k))}else"@direction"in i&&!("@index"in i)?p="_".concat(i["@direction"]):"@type"in i&&(d="@type",p=i["@type"]);else d="@type",p="@id";A.push("@set")}A.push("@none"),ym(i)&&!("@index"in i)&&A.push("@index","@index@set"),xm(i)&&1===Object.keys(i).length&&A.push("@language","@language@set");var _=function(e,t,r,n,i,a){null===a&&(a="@null");var o=[];if(("@id"===a||"@reverse"===a)&&ym(r)&&"@id"in r){"@reverse"===a&&o.push("@reverse");var s=Um.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(s)&&e.mappings.get(s)&&e.mappings.get(s)["@id"]===r["@id"]?o.push.apply(o,["@vocab","@id"]):o.push.apply(o,["@id","@vocab"])}else{o.push(a);var u=o.find((function(e){return e.includes("_")}));u&&o.push(u.replace(/^[^_]+_/,"_"))}o.push("@none");var c,l=e.inverse[t],f=L(n);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(h in l){var A,d=l[h][i],p=L(o);try{for(p.s();!(A=p.n()).done;){var v=A.value;if(v in d)return d[v]}}catch(e){p.e(e)}finally{p.f()}}}}catch(e){f.e(e)}finally{f.f()}return null}(t,r,i,A,d,p);if(null!==_)return _}if(o.vocab&&"@vocab"in t){var E=t["@vocab"];if(0===r.indexOf(E)&&r!==E){var S=r.substr(E.length);if(!t.mappings.has(S))return S}}for(var C=null,I=[],P=t.fastCurieMap,T=r.length-1,O=0;O<T&&r[O]in P;++O)""in(P=P[r[O]])&&I.push(P[""][0]);for(var N=I.length-1;N>=0;--N){var M,U=I[N],F=L(U.terms);try{for(F.s();!(M=F.n()).done;){var R=M.value,D=R+":"+r.substr(U.iri.length);t.mappings.get(R)._prefix&&(!t.mappings.has(D)||null===i&&t.mappings.get(D)["@id"]===r)&&(null===C||Mm(D,C)<0)&&(C=D)}}catch(e){F.e(e)}finally{F.f()}}if(null!==C)return C;var j,Q=L(t.mappings);try{for(Q.s();!(j=Q.n()).done;){var H=B(j.value,2),K=H[0],V=H[1];if(V&&V._prefix&&r.startsWith(K+":"))throw new vm('Absolute IRI "'.concat(r,'" confused with prefix "').concat(K,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t})}}catch(e){Q.e(e)}finally{Q.f()}return o.vocab?r:"@base"in t?t["@base"]?Tm(Om(l,t["@base"]),r):r:Tm(l,r)},Um.compactValue=function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(xm(n)){var a=Sm(t,r,"@type"),o=Sm(t,r,"@language"),s=Sm(t,r,"@direction"),u=Sm(t,r,"@container")||[],c="@index"in n&&!u.includes("@index");if(!c&&"@none"!==a){if(n["@type"]===a)return n["@value"];if("@language"in n&&n["@language"]===o&&"@direction"in n&&n["@direction"]===s)return n["@value"];if("@language"in n&&n["@language"]===o)return n["@value"];if("@direction"in n&&n["@direction"]===s)return n["@value"]}var f=Object.keys(n).length,h=1===f||2===f&&"@index"in n&&!c,A="@language"in t,d=mm(n["@value"]),p=t.mappings.has(r)&&null===t.mappings.get(r)["@language"];if(h&&"@none"!==a&&(!A||!d||p))return n["@value"];var v={};return c&&(v[Um.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?v[Um.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=Um.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(v[Um.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(v[Um.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),v[Um.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],v}var g=Em(t,r,{vocab:!0},i),y=Sm(t,r,"@type"),m=Um.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:"@vocab"===y},base:i.base});return"@id"===y||"@vocab"===y||"@graph"===g?m:l({},Um.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),m)};
/**
   * A JavaScript implementation of the JSON-LD API.
   *
   * @author Dave Longley
   *
   * @license BSD 3-Clause License
   * Copyright (c) 2011-2019 Digital Bazaar, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * Redistributions in binary form must reproduce the above copyright
   * notice, this list of conditions and the following disclaimer in the
   * documentation and/or other materials provided with the distribution.
   *
   * Neither the name of the Digital Bazaar, Inc. nor the names of its
   * contributors may be used to endorse or promote products derived from
   * this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
   * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
   * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
var Dm=pv,jm=Xv,Qm=Tv,Hm=function(){function e(t){var r=t.sharedCache;s(this,e),this.perOpCache=new Map,this.sharedCache=r}var t,r,i;return c(e,[{key:"resolve",value:(i=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,i=t.context,a=t.documentLoader,o=t.base,s=t.cycles,u=void 0===s?new Set:s,i&&Zv(i)&&i["@context"]&&(i=i["@context"]),i=tg(i),c=[],l=L(i),e.prev=4,l.s();case 6:if((f=l.n()).done){e.next=26;break}if(h=f.value,!eg(h)){e.next=17;break}if(A=this._get(h),e.t0=A,e.t0){e.next=15;break}return e.next=14,this._resolveRemoteContext({activeCtx:r,url:h,documentLoader:a,base:o,cycles:u});case 14:A=e.sent;case 15:return $v(A)?c.push.apply(c,S(A)):c.push(A),e.abrupt("continue",24);case 17:if(null!==h){e.next=20;break}return c.push(new ig({document:null})),e.abrupt("continue",24);case 20:Zv(h)||ag(i),d=JSON.stringify(h),(p=this._get(d))||(p=new ig({document:h}),this._cacheResolvedContext({key:d,resolved:p,tag:"static"})),c.push(p);case 24:e.next=6;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(4),l.e(e.t1);case 31:return e.prev=31,l.f(),e.finish(31);case 34:return e.abrupt("return",c);case 35:case"end":return e.stop()}}),e,this,[[4,28,31,34]])}))),function(e){return i.apply(this,arguments)})},{key:"_get",value:function(e){var t=this.perOpCache.get(e);if(!t){var r=this.sharedCache.get(e);r&&((t=r.get("static"))&&this.perOpCache.set(e,t))}return t}},{key:"_cacheResolvedContext",value:function(e){var t=e.key,r=e.resolved,n=e.tag;if(this.perOpCache.set(t,r),void 0!==n){var i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}},{key:"_resolveRemoteContext",value:(r=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.activeCtx,i=t.url,a=t.documentLoader,o=t.base,s=t.cycles,i=rg(o,i),e.next=4,this._fetchContext({activeCtx:r,url:i,documentLoader:a,cycles:s});case 4:return u=e.sent,c=u.context,l=u.remoteDoc,og({context:c,base:o=l.documentUrl||i}),e.next=10,this.resolve({activeCtx:r,context:c,documentLoader:a,base:o,cycles:s});case 10:return f=e.sent,e.abrupt("return",(this._cacheResolvedContext({key:i,resolved:f,tag:l.tag}),f));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_fetchContext",value:(t=o(n().mark((function e(t){var r,i,a,o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,i=t.url,a=t.documentLoader,!((o=t.cycles).size>10)){e.next=3;break}throw new ng("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"loading remote context failed":"context overflow",max:10});case 3:if(!o.has(i)){e.next=5;break}throw new ng("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"recursive context inclusion":"context overflow",url:i});case 5:return o.add(i),e.prev=6,e.next=9,a(i);case 9:u=e.sent,s=u.document||null,eg(s)&&(s=JSON.parse(s)),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),new ng("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:i,cause:e.t0});case 17:if(Zv(s)){e.next=19;break}throw new ng("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:i});case 19:return e.abrupt("return",(s="@context"in s?{"@context":s["@context"]}:{"@context":{}},u.contextUrl&&($v(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(u.contextUrl)),{context:s,remoteDoc:u}));case 20:case"end":return e.stop()}}),e,null,[[6,14]])}))),function(e){return t.apply(this,arguments)})}]),e}(),Km=Qm.IdentifierIssuer,Vm=wv,zm=lp,qm=sg,Gm=qg.expand,Wm=ly.flatten,Jm=Sy.fromRDF,Xm=Gy.toRDF,Ym=am.frameMergedOrDefault,$m=am.cleanupNull,Zm=gv.isArray,eb=gv.isObject,tb=gv.isString,rb=bv.isSubjectReference,nb=xg.expandIri,ib=xg.getInitialContext,ab=xg.process,ob=xg.processingMode,sb=Fm.compact,ub=Fm.compactIri,cb=oy.createNodeMap,lb=oy.createMergedNodeMap,fb=oy.mergeNodeMaps,hb=function(e){var t={},i=new zm({max:100});function a(t,r){var n=r.documentLoader,i=void 0===n?e.documentLoader:n,a=y(r,_a);return Object.assign({},{documentLoader:i},a,t)}return e.compact=function(){var t=o(n().mark((function t(r,o,s){var u,c,l,f,h,A,d,p,v,g,y=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(y.length<2)){t.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==o){t.next=4;break}throw new Vm("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==r){t.next=6;break}return t.abrupt("return",null);case 6:if((s=a(s,{base:tb(r)?r:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new Km("_:b"),contextResolver:new Hm({sharedCache:i})})).link&&(s.skipExpansion=!0),s.compactToRelative||delete s.base,!s.skipExpansion){t.next=12;break}t.t0=r,t.next=15;break;case 12:return t.next=14,e.expand(r,s);case 14:t.t0=t.sent;case 15:return u=t.t0,t.next=18,e.processContext(ib(s),o,s);case 18:return c=t.sent,t.next=21,sb({activeCtx:c,element:u,options:s,compactionMap:s.compactionMap});case 21:l=t.sent,s.compactArrays&&!s.graph&&Zm(l)?1===l.length?l=l[0]:0===l.length&&(l={}):s.graph&&eb(l)&&(l=[l]),eb(o)&&"@context"in o&&(o=o["@context"]),o=Qm.clone(o),Zm(o)||(o=[o]),f=o,o=[];for(h=0;h<f.length;++h)(!eb(f[h])||Object.keys(f[h]).length>0)&&o.push(f[h]);if(A=o.length>0,1===o.length&&(o=o[0]),Zm(l))d=ub({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),p=l,l={},A&&(l["@context"]=o),l[d]=p;else if(eb(l)&&A)for(g in v=l,l={"@context":o},v)l[g]=v[g];return t.abrupt("return",l);case 29:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.expand=function(){var t=o(n().mark((function t(r,o){var s,u,c,l,f,h,A,d,p,v,g=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(g.length<1)){t.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(o=a(o,{keepFreeFloatingNodes:!1,contextResolver:new Hm({sharedCache:i})})).expansionMap&&(o.expansionMap=void 0),s={},u=[],"expandContext"in o&&(c=Qm.clone(o.expandContext),eb(c)&&"@context"in c?s.expandContext=c:s.expandContext={"@context":c},u.push(s.expandContext)),!tb(r)){t.next=12;break}return t.next=8,e.get(r,o);case 8:f=t.sent,l=f.documentUrl,s.input=f.document,f.contextUrl&&(s.remoteContext={"@context":f.contextUrl},u.push(s.remoteContext)),t.next=13;break;case 12:s.input=Qm.clone(r);case 13:"base"in o||(o.base=l||""),h=ib(o),A=0,d=u;case 16:if(!(A<d.length)){t.next=24;break}return p=d[A],t.next=20,ab({activeCtx:h,localCtx:p,options:o});case 20:h=t.sent;case 21:A++,t.next=16;break;case 24:return t.next=26,Gm({activeCtx:h,element:s.input,options:o,expansionMap:o.expansionMap});case 26:return v=t.sent,t.abrupt("return",(eb(v)&&"@graph"in v&&1===Object.keys(v).length?v=v["@graph"]:null===v&&(v=[]),Zm(v)||(v=[v]),v));case 28:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.flatten=function(){var t=o(n().mark((function t(r,o,s){var u,c,l,f=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(f.length<1)){t.next=2;break}return t.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return o="function"==typeof o?null:o||null,s=a(s,{base:tb(r)?r:"",contextResolver:new Hm({sharedCache:i})}),t.next=5,e.expand(r,s);case 5:if(u=t.sent,c=Wm(u),null!==o){t.next=9;break}return t.abrupt("return",c);case 9:return s.graph=!0,s.skipExpansion=!0,t.next=12,e.compact(c,o,s);case 12:return l=t.sent,t.abrupt("return",l);case 14:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.frame=function(){var t=o(n().mark((function t(o,s,u){var c,l,f,h,A,d,p,v,g,y,m=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<2)){t.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(u=a(u,{base:tb(o)?o:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Hm({sharedCache:i})}),!tb(s)){t.next=7;break}return t.next=5,e.get(s,u);case 5:c=t.sent,s=c.document,c.contextUrl&&((l=s["@context"])?Zm(l)?l.push(c.contextUrl):l=[l,c.contextUrl]:l=c.contextUrl,s["@context"]=l);case 7:return f=s&&s["@context"]||{},t.next=10,e.processContext(ib(u),f,u);case 10:return h=t.sent,u.hasOwnProperty("omitGraph")||(u.omitGraph=ob(h,1.1)),u.hasOwnProperty("pruneBlankNodeIdentifiers")||(u.pruneBlankNodeIdentifiers=ob(h,1.1)),t.next=14,e.expand(o,u);case 14:return A=t.sent,(d=r({},u)).isFrame=!0,d.keepFreeFloatingNodes=!0,t.next=19,e.expand(s,d);case 19:return p=t.sent,v=Object.keys(s).map((function(e){return nb(h,e,{vocab:!0})})),d.merged=!v.includes("@graph"),d.is11=ob(h,1.1),g=Ym(A,p,d),d.graph=!u.omitGraph,d.skipExpansion=!0,d.link={},d.framing=!0,t.next=26,e.compact(g,f,d);case 26:return y=t.sent,t.abrupt("return",(d.link={},y=$m(y,d)));case 28:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.link=function(){var t=o(n().mark((function t(r,i,a){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={},t.abrupt("return",(i&&(o["@context"]=i),o["@embed"]="@link",e.frame(r,o,a)));case 2:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.normalize=e.canonize=function(){var t=o(n().mark((function t(o,s){var u,c,l,f=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(f.length<1)){t.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(s=a(s,{base:tb(o)?o:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new Hm({sharedCache:i})})))){t.next=7;break}if("application/n-quads"===s.inputFormat||"application/nquads"===s.inputFormat){t.next=5;break}throw new Vm("Unknown canonicalization input format.","jsonld.CanonizeError");case 5:return u=qm.parse(o),t.abrupt("return",Dm.canonize(u,s));case 7:return delete(c=r({},s)).format,c.produceGeneralizedRdf=!1,t.next=11,e.toRDF(o,c);case 11:return l=t.sent,t.abrupt("return",Dm.canonize(l,s));case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.fromRDF=function(){var e=o(n().mark((function e(r,i){var o,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(i=a(i,{format:tb(r)?"application/n-quads":void 0}),o=i.format,s=i.rdfParser,!o){e.next=10;break}if(s=s||t[o]){e.next=8;break}throw new Vm("Unknown input format.","jsonld.UnknownFormat",{format:o});case 8:e.next=11;break;case 10:s=function(){return r};case 11:return e.next=13,s(r);case 13:return u=e.sent,e.abrupt("return",Jm(u,i));case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.toRDF=function(){var t=o(n().mark((function t(r,o){var s,u,c=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.length<1)){t.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(o=a(o,{base:tb(r)?r:"",skipExpansion:!1,contextResolver:new Hm({sharedCache:i})})).skipExpansion){t.next=6;break}t.t0=r,t.next=9;break;case 6:return t.next=8,e.expand(r,o);case 8:t.t0=t.sent;case 9:if(s=t.t0,u=Xm(s,o),!o.format){t.next=15;break}if("application/n-quads"!==o.format&&"application/nquads"!==o.format){t.next=14;break}return t.abrupt("return",qm.serialize(u));case 14:throw new Vm("Unknown output format.","jsonld.UnknownFormat",{format:o.format});case 15:return t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.createNodeMap=function(){var t=o(n().mark((function t(r,o){var s,u=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u.length<1)){t.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return o=a(o,{base:tb(r)?r:"",contextResolver:new Hm({sharedCache:i})}),t.next=5,e.expand(r,o);case 5:return s=t.sent,t.abrupt("return",lb(s,o));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.merge=function(){var t=o(n().mark((function t(o,s,u){var c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(E.length<1)){t.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(Zm(o)){t.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return s="function"==typeof s?null:s||null,u=a(u,{contextResolver:new Hm({sharedCache:i})}),t.next=7,Promise.all(o.map((function(t){var n=r({},u);return e.expand(t,n)})));case 7:c=t.sent,l=!0,"mergeNodes"in u&&(l=u.mergeNodes),f=u.issuer||new Km("_:b"),h={"@default":{}},A=0;case 12:if(!(A<c.length)){t.next=29;break}if(d=Qm.relabelBlankNodes(c[A],{issuer:new Km("_:b"+A+"-")}),cb(d,p=l||0===A?h:{"@default":{}},"@default",f),p===h){t.next=26;break}t.t0=n().keys(p);case 16:if((t.t1=t.t0()).done){t.next=26;break}if(v=t.t1.value,g=p[v],v in h){t.next=22;break}return h[v]=g,t.abrupt("continue",16);case 22:for(m in y=h[v],g)m in y||(y[m]=g[m]);t.next=16;break;case 26:++A,t.next=12;break;case 29:for(b=fb(h),w=[],x=Object.keys(b).sort(),k=0;k<x.length;++k)_=b[x[k]],rb(_)||w.push(_);if(null!==s){t.next=33;break}return t.abrupt("return",w);case 33:return u.graph=!0,u.skipExpansion=!0,t.next=36,e.compact(w,s,u);case 36:return B=t.sent,t.abrupt("return",B);case 38:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Object.defineProperty(e,"documentLoader",{get:function(){return e._documentLoader},set:function(t){return e._documentLoader=t}}),e.documentLoader=function(){var e=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Vm("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.get=function(){var t=o(n().mark((function t(r,i){var a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="function"==typeof i.documentLoader?i.documentLoader:e.documentLoader,t.next=3,a(r);case 3:if(o=t.sent,t.prev=4,o.document){t.next=7;break}throw new Vm("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:tb(o.document)&&(o.document=JSON.parse(o.document)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(4),new Vm("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t.t0,remoteDoc:o});case 13:return t.abrupt("return",o);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,r){return t.apply(this,arguments)}}(),e.processContext=function(){var e=o(n().mark((function e(t,r,o){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(o=a(o,{base:"",contextResolver:new Hm({sharedCache:i})}),null===r?ib(o):(r=Qm.clone(r),eb(r)&&"@context"in r||(r={"@context":r}),ab({activeCtx:t,localCtx:r,options:o}))));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.getContextValue=xg.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new Vm('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",qm.parse),e.registerRDFParser("application/nquads",qm.parse),e.url=Dv,e.util=Qm,Object.assign(e,Qm),e.promises=e,e.RequestQueue=Uv,e.JsonLdProcessor=function(e){var t=function(){function e(){s(this,e)}return c(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}(e),jm.setupGlobals(e),jm.setupDocumentLoaders(e),e},Ab=function e(){return hb((function(){return e()}))};hb(Ab);var db=Ab,pb={exports:{}},vb={exports:{}};!function(e){!function(t){var r={bytesToHex:function(e){return function(e){return e.map((function(e){return 2,(t=e.toString(16)).length>2?t:Array(2-t.length+1).join("0")+t;var t})).join("")}(e)},hexToBytes:function(e){if(e.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===e.indexOf("0x")&&(e=e.slice(2)),e.match(/../g).map((function(e){return parseInt(e,16)}))}};e.exports?e.exports=r:t.convertHex=r}(Ba)}(vb);var gb={exports:{}};!function(e){!function(t){var r={bytesToString:function(e){return e.map((function(e){return String.fromCharCode(e)})).join("")},stringToBytes:function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))}};r.UTF8={bytesToString:function(e){return decodeURIComponent(escape(r.bytesToString(e)))},stringToBytes:function(e){return r.stringToBytes(unescape(encodeURIComponent(e)))}},e.exports?e.exports=r:t.convertString=r}(Ba)}(gb),function(e){!function(t){var r={};e.exports?(r.bytesToHex=vb.exports.bytesToHex,r.convertString=gb.exports,e.exports=o):(r.bytesToHex=t.convertHex.bytesToHex,r.convertString=t.convertString,t.sha256=o);var n=[];!function(){function e(e){for(var t=Math.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(n[i]=t(Math.pow(r,1/3)),i++),r++}();var i=[],a=function(e,t,r){for(var a=e[0],o=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7],A=0;A<64;A++){if(A<16)i[A]=0|t[r+A];else{var d=i[A-15],p=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=i[A-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;i[A]=p+i[A-7]+g+i[A-16]}var y=a&o^a&s^o&s,m=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),b=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&f)+n[A]+i[A];h=f,f=l,l=c,c=u+b|0,u=s,s=o,o=a,a=b+(m+y)|0}e[0]=e[0]+a|0,e[1]=e[1]+o|0,e[2]=e[2]+s|0,e[3]=e[3]+u|0,e[4]=e[4]+c|0,e[5]=e[5]+l|0,e[6]=e[6]+f|0,e[7]=e[7]+h|0};function o(e,t){e.constructor===String&&(e=r.convertString.UTF8.stringToBytes(e));var n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t}(e),o=8*e.length;i[o>>5]|=128<<24-o%32,i[15+(o+64>>9<<4)]=o;for(var s=0;s<i.length;s+=16)a(n,i,s);var u=function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t}(n);return t&&t.asBytes?u:t&&t.asString?r.convertString.bytesToString(u):r.bytesToHex(u)}o.x2=function(e,t){return o(o(e,{asBytes:!0}),t)}}(Ba)}(pb);var yb=pb.exports;function mb(e){e=e.trim();for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t}var bb={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,a="[object Arguments]",o="[object Boolean]",s="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",A="[object Promise]",d="[object RegExp]",p="[object Set]",v="[object String]",g="[object Symbol]",y="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",_="[object Int16Array]",B="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",I="[object Uint32Array]",P=/\w*$/,T=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,L={};L[a]=L["[object Array]"]=L[m]=L[b]=L[o]=L[s]=L[w]=L[x]=L[k]=L[_]=L[B]=L[l]=L[f]=L[h]=L[d]=L[p]=L[v]=L[g]=L[E]=L[S]=L[C]=L[I]=!0,L["[object Error]"]=L[u]=L[y]=!1;var N="object"==i(Ba)&&Ba&&Ba.Object===Object&&Ba,M="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,U=N||M||Function("return this")(),F=t&&!t.nodeType&&t,R=F&&e&&!e.nodeType&&e,D=R&&R.exports===F;function j(e,t){return e.set(t[0],t[1]),e}function Q(e,t){return e.add(t),e}function H(e,t,r,n){var i=-1,a=e?e.length:0;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function z(e,t){return function(r){return e(t(r))}}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var G,W=Array.prototype,J=Function.prototype,X=Object.prototype,Y=U["__core-js_shared__"],$=(G=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=J.toString,ee=X.hasOwnProperty,te=X.toString,re=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=D?U.Buffer:void 0,ie=U.Symbol,ae=U.Uint8Array,oe=z(Object.getPrototypeOf,Object),se=Object.create,ue=X.propertyIsEnumerable,ce=W.splice,le=Object.getOwnPropertySymbols,fe=ne?ne.isBuffer:void 0,he=z(Object.keys,Object),Ae=Ue(U,"DataView"),de=Ue(U,"Map"),pe=Ue(U,"Promise"),ve=Ue(U,"Set"),ge=Ue(U,"WeakMap"),ye=Ue(Object,"create"),me=Qe(Ae),be=Qe(de),we=Qe(pe),xe=Qe(ve),ke=Qe(ge),_e=ie?ie.prototype:void 0,Be=_e?_e.valueOf:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){this.__data__=new Se(e)}function Pe(e,t,r){var n=e[t];ee.call(e,t)&&He(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Te(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1}function Oe(e,t,r,n,i,A,y){var T;if(n&&(T=A?n(e,i,A,y):n(e)),void 0!==T)return T;if(!Ge(e))return e;var O=Ke(e);if(O){if(T=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,T)}else{var N=Re(e),M=N==u||N==c;if(ze(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(N==h||N==a||M&&!A){if(K(e))return A?e:{};if(T=function(e){return"function"!=typeof e.constructor||je(e)?{}:Ge(t=oe(e))?se(t):{};var t}(M?{}:e),!t)return function(e,t){return Ne(e,Fe(e),t)}(e,function(e,t){return e&&Ne(t,We(t),e)}(T,e))}else{if(!L[N])return A?e:{};T=function(e,t,r,n){var i,a=e.constructor;switch(t){case m:return Le(e);case o:case s:return new a(+e);case b:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case w:case x:case k:case _:case B:case E:case S:case C:case I:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case l:return function(e,t,r){return H(t?r(V(e),!0):V(e),j,new e.constructor)}(e,n,r);case f:case v:return new a(e);case d:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,r){return H(t?r(q(e),!0):q(e),Q,new e.constructor)}(e,n,r);case g:return i=e,Be?Object(Be.call(i)):{}}}(e,N,Oe,t)}}y||(y=new Ie);var U=y.get(e);if(U)return U;if(y.set(e,T),!O)var F=r?function(e){return function(e,t,r){var n=t(e);return Ke(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,We,Fe)}(e):We(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(F||e,(function(i,a){F&&(i=e[a=i]),Pe(T,a,Oe(i,t,r,n,a,e,y))})),T}function Le(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Ne(e,t,r,n){r||(r={});for(var i=-1,a=t.length;++i<a;){var o=t[i],s=n?n(r[o],e[o],o,r,e):void 0;Pe(r,o,void 0===s?e[o]:s)}return r}function Me(e,t){var r=e.__data__;return function(e){var t=i(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ge(e)||(t=e,$&&$ in t))&&(qe(e)||K(e)?re:T).test(Qe(e));var t}(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=ye?ye(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Te(t,e);return!(r<0||(r==t.length-1?t.pop():ce.call(t,r,1),0))},Se.prototype.get=function(e){var t=this.__data__,r=Te(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Te(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Te(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ee,map:new(de||Se),string:new Ee}},Ce.prototype.delete=function(e){return Me(this,e).delete(e)},Ce.prototype.get=function(e){return Me(this,e).get(e)},Ce.prototype.has=function(e){return Me(this,e).has(e)},Ce.prototype.set=function(e,t){return Me(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new Se},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ce(n)}return r.set(e,t),this};var Fe=le?z(le,Object):function(){return[]},Re=function(e){return te.call(e)};function De(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function je(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function Qe(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(Ae&&Re(new Ae(new ArrayBuffer(1)))!=b||de&&Re(new de)!=l||pe&&Re(pe.resolve())!=A||ve&&Re(new ve)!=p||ge&&Re(new ge)!=y)&&(Re=function(e){var t=te.call(e),r=t==h?e.constructor:void 0,n=r?Qe(r):void 0;if(n)switch(n){case me:return b;case be:return l;case we:return A;case xe:return p;case ke:return y}return t});var Ke=Array.isArray;function Ve(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!qe(e)}var ze=fe||function(){return!1};function qe(e){var t=Ge(e)?te.call(e):"";return t==u||t==c}function Ge(e){var t=i(e);return!!e&&("object"==t||"function"==t)}function We(e){return Ve(e)?function(e,t){var r=Ke(e)||function(e){return function(e){return function(e){return!!e&&"object"==i(e)}(e)&&Ve(e)}(e)&&ee.call(e,"callee")&&(!ue.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||De(s,n))||r.push(s);return r}(e):function(e){if(!je(e))return he(e);var t=[];for(var r in Object(e))ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Oe(e,!0,!0)}}(bb,bb.exports);var wb=bb.exports;function xb(e){return wb(e)}function kb(e){var t=xb(e);return"proof"in t?function(e){var t=xb(e);if(!Array.isArray(e.proof))return delete t.proof,t;var r=e.proof.find((function(e){return"ChainedProof2021"!==e.type}));return t.proof=r,t}(t):("signature"in t&&delete t.signature,t)}function _b(e){return Bb.apply(this,arguments)}function Bb(){return Bb=o(n().mark((function e(t){var r,i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t["@context"].find((function(e){return(t=e)===Object(t)&&"@vocab"in e;var t}))||t["@context"].push({"@vocab":"http://fallback.org/"}),r=kb(t),i={algorithm:"URDNA2015",format:"application/nquads",documentLoader:function(e){return e in Lu?{contextUrl:null,document:Lu[e],documentUrl:e}:db.documentLoader(e)}},e.prev=2,e.next=5,db.normalize(r,i);case 5:a=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),console.error(e.t0),new Ju("computeLocalHash",Qu("errors","failedJsonLdNormalization"));case 11:if(o=function(e){var t=e.split("\n"),r=/<http:\/\/fallback\.org\/(.*)>/,n=t.map((function(e){return r.exec(e)})).filter((function(e){return null!=e}));if(n.length>0){var i=n.map((function(e){return e[1]})).sort();return Array.from(new Set(i))}return null}(a),!o){e.next=14;break}throw new Ju("computeLocalHash","".concat(Qu("errors","foundUnmappedFields"),": ").concat(o.join(", ")));case 14:return e.abrupt("return",yb(function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}(a)));case 15:case"end":return e.stop()}}),e,null,[[2,8]])}))),Bb.apply(this,arguments)}var Eb=kp.i18n.getText("errors","identityErrorBaseMessage"),Sb=function(e){f(r,e);var t=w(r);function r(e){return s(this,r),t.call(this,e||"This operation is not supported for this key type")}return c(r)}(v(Error)),Cb=Sb,Ib=function(e){f(r,e);var t=w(r);function r(){return s(this,r),t.call(this,"This has not been implemented yet")}return c(r)}(v(Error)),Pb=Ib,Tb=function(){function e(){s(this,e),this.registry=[],this.classes={}}return c(e,[{key:"find",value:function(e){return this.registry.find(e)}},{key:"define",value:function(e,t){var r=this;e.forEach((function(e){var n=e.kty;if(!n)throw new Error("Invalid type definition");r.classes[n]||(r.classes[n]=t),r.registry.push(e)}))}},{key:"normalize",value:function(e,t,r){var n=this.classes[e],i=this.find((function(e){return e[t]===r}));if(!n||!i)throw new Error("Invalid type");return new n(i)}}]),e}(),Ob=Pb,Lb=function(){function e(t){s(this,e),this.params=t}return c(e,[{key:"fromPrivatePKCS1",value:function(e){throw new Ob}},{key:"fromPrivatePKCS8",value:function(e){throw new Ob}},{key:"fromPublicPKCS1",value:function(e){throw new Ob}},{key:"fromPublicPKCS8",value:function(e){throw new Ob}},{key:"fromPrivateBlk",value:function(e){throw new Ob}},{key:"fromPublicBlk",value:function(e){throw new Ob}},{key:"fromJwk",value:function(e){throw new Ob}},{key:"toPrivatePKCS1",value:function(e){throw new Ob}},{key:"toPrivatePKCS8",value:function(e){throw new Ob}},{key:"toPublicPKCS1",value:function(e){throw new Ob}},{key:"toPublicPKCS8",value:function(e){throw new Ob}},{key:"toPrivateBlk",value:function(e){throw new Ob}},{key:"toPublicBlk",value:function(e){throw new Ob}},{key:"toPrivateJwk",value:function(e){throw new Ob}},{key:"toPublicJwk",value:function(e){throw new Ob}}],[{key:"formatPem",value:function(e,t){return"-----BEGIN ".concat(t," KEY-----\n")+e.match(/.{1,64}/g).join("\n")+"\n-----END ".concat(t," KEY-----")}}]),e}(),Nb={},Mb={exports:{}};!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==i(e)?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}a.isBN=function(e){return e instanceof a||null!==e&&"object"==i(e)&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==i(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(a++,this.negative=1),a<e.length&&(16===t?this._parseHex(e,a,n):(this._parseBase(e,t,a),"le"===n&&this._initArray(this.toArray(),t,n)))},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,u=0,l=r;l<s;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=c(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function A(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),A=Math.max(0,c-e.length+1);A<=h;A++){var d=c-A|0;l+=(o=(i=0|e.words[d])*(a=0|t.words[A])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}a.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);n=0!=(a=s>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=f[e],A=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var p=d.modn(A).toString(e);n=(d=d.idivn(A)).isZero()?p+n:l[c-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},a.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,h=l>>>13,A=0|o[1],d=8191&A,p=A>>>13,v=0|o[2],g=8191&v,y=v>>>13,m=0|o[3],b=8191&m,w=m>>>13,x=0|o[4],k=8191&x,_=x>>>13,B=0|o[5],E=8191&B,S=B>>>13,C=0|o[6],I=8191&C,P=C>>>13,T=0|o[7],O=8191&T,L=T>>>13,N=0|o[8],M=8191&N,U=N>>>13,F=0|o[9],R=8191&F,D=F>>>13,j=0|s[0],Q=8191&j,H=j>>>13,K=0|s[1],V=8191&K,z=K>>>13,q=0|s[2],G=8191&q,W=q>>>13,J=0|s[3],X=8191&J,Y=J>>>13,$=0|s[4],Z=8191&$,ee=$>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,Ae=0|s[9],de=8191&Ae,pe=Ae>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(c+(n=Math.imul(f,Q))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(h,Q)|0))<<13)|0;c=((a=Math.imul(h,H))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(d,Q),i=(i=Math.imul(d,H))+Math.imul(p,Q)|0,a=Math.imul(p,H);var ge=(c+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,z)|0)+Math.imul(h,V)|0))<<13)|0;c=((a=a+Math.imul(h,z)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,Q),i=(i=Math.imul(g,H))+Math.imul(y,Q)|0,a=Math.imul(y,H),n=n+Math.imul(d,V)|0,i=(i=i+Math.imul(d,z)|0)+Math.imul(p,V)|0,a=a+Math.imul(p,z)|0;var ye=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(h,G)|0))<<13)|0;c=((a=a+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(b,Q),i=(i=Math.imul(b,H))+Math.imul(w,Q)|0,a=Math.imul(w,H),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,z)|0)+Math.imul(y,V)|0,a=a+Math.imul(y,z)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,W)|0)+Math.imul(p,G)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,X)|0))<<13)|0;c=((a=a+Math.imul(h,Y)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(k,Q),i=(i=Math.imul(k,H))+Math.imul(_,Q)|0,a=Math.imul(_,H),n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(w,V)|0,a=a+Math.imul(w,z)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,G)|0,a=a+Math.imul(y,W)|0,n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(p,X)|0,a=a+Math.imul(p,Y)|0;var be=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Z)|0))<<13)|0;c=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(E,Q),i=(i=Math.imul(E,H))+Math.imul(S,Q)|0,a=Math.imul(S,H),n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,z)|0)+Math.imul(_,V)|0,a=a+Math.imul(_,z)|0,n=n+Math.imul(b,G)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(y,X)|0,a=a+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,ee)|0)+Math.imul(p,Z)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(I,Q),i=(i=Math.imul(I,H))+Math.imul(P,Q)|0,a=Math.imul(P,H),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(S,V)|0,a=a+Math.imul(S,z)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,W)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,X)|0,a=a+Math.imul(w,Y)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Z)|0,a=a+Math.imul(y,ee)|0,n=n+Math.imul(d,re)|0,i=(i=i+Math.imul(d,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var xe=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(h,ae)|0))<<13)|0;c=((a=a+Math.imul(h,oe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(O,Q),i=(i=Math.imul(O,H))+Math.imul(L,Q)|0,a=Math.imul(L,H),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(P,V)|0,a=a+Math.imul(P,z)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(S,G)|0,a=a+Math.imul(S,W)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(_,X)|0,a=a+Math.imul(_,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(w,Z)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,a=a+Math.imul(y,ne)|0,n=n+Math.imul(d,ae)|0,i=(i=i+Math.imul(d,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var ke=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((a=a+Math.imul(h,ce)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(M,Q),i=(i=Math.imul(M,H))+Math.imul(U,Q)|0,a=Math.imul(U,H),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,z)|0)+Math.imul(L,V)|0,a=a+Math.imul(L,z)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,G)|0,a=a+Math.imul(P,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(S,X)|0,a=a+Math.imul(S,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(_,Z)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,oe)|0,n=n+Math.imul(d,ue)|0,i=(i=i+Math.imul(d,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var _e=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,Q),i=(i=Math.imul(R,H))+Math.imul(D,Q)|0,a=Math.imul(D,H),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,z)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,z)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(L,G)|0,a=a+Math.imul(L,W)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(P,X)|0,a=a+Math.imul(P,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(b,ae)|0,i=(i=i+Math.imul(b,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(y,ue)|0,a=a+Math.imul(y,ce)|0,n=n+Math.imul(d,fe)|0,i=(i=i+Math.imul(d,he)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,he)|0;var Be=(c+(n=n+Math.imul(f,de)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(h,de)|0))<<13)|0;c=((a=a+Math.imul(h,pe)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(D,V)|0,a=Math.imul(D,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(U,G)|0,a=a+Math.imul(U,W)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(L,X)|0,a=a+Math.imul(L,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(P,Z)|0,a=a+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(S,re)|0,a=a+Math.imul(S,ne)|0,n=n+Math.imul(k,ae)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,oe)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(y,fe)|0,a=a+Math.imul(y,he)|0;var Ee=(c+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,pe)|0)+Math.imul(p,de)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,W))+Math.imul(D,G)|0,a=Math.imul(D,W),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(U,X)|0,a=a+Math.imul(U,Y)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(L,Z)|0,a=a+Math.imul(L,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(P,re)|0,a=a+Math.imul(P,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,oe)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(_,ue)|0,a=a+Math.imul(_,ce)|0,n=n+Math.imul(b,fe)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,he)|0;var Se=(c+(n=n+Math.imul(g,de)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(y,de)|0))<<13)|0;c=((a=a+Math.imul(y,pe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,X),i=(i=Math.imul(R,Y))+Math.imul(D,X)|0,a=Math.imul(D,Y),n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(U,Z)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(L,re)|0,a=a+Math.imul(L,ne)|0,n=n+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,ce)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,he)|0;var Ce=(c+(n=n+Math.imul(b,de)|0)|0)+((8191&(i=(i=i+Math.imul(b,pe)|0)+Math.imul(w,de)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(R,Z),i=(i=Math.imul(R,ee))+Math.imul(D,Z)|0,a=Math.imul(D,ee),n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,n=n+Math.imul(O,ae)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,oe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(S,fe)|0,a=a+Math.imul(S,he)|0;var Ie=(c+(n=n+Math.imul(k,de)|0)|0)+((8191&(i=(i=i+Math.imul(k,pe)|0)+Math.imul(_,de)|0))<<13)|0;c=((a=a+Math.imul(_,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(R,re),i=(i=Math.imul(R,ne))+Math.imul(D,re)|0,a=Math.imul(D,ne),n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,oe)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,ce)|0,n=n+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,he)|0;var Pe=(c+(n=n+Math.imul(E,de)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(S,de)|0))<<13)|0;c=((a=a+Math.imul(S,pe)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(R,ae),i=(i=Math.imul(R,oe))+Math.imul(D,ae)|0,a=Math.imul(D,oe),n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(U,ue)|0,a=a+Math.imul(U,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(L,fe)|0,a=a+Math.imul(L,he)|0;var Te=(c+(n=n+Math.imul(I,de)|0)|0)+((8191&(i=(i=i+Math.imul(I,pe)|0)+Math.imul(P,de)|0))<<13)|0;c=((a=a+Math.imul(P,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(R,ue),i=(i=Math.imul(R,ce))+Math.imul(D,ue)|0,a=Math.imul(D,ce),n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(U,fe)|0,a=a+Math.imul(U,he)|0;var Oe=(c+(n=n+Math.imul(O,de)|0)|0)+((8191&(i=(i=i+Math.imul(O,pe)|0)+Math.imul(L,de)|0))<<13)|0;c=((a=a+Math.imul(L,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(R,fe),i=(i=Math.imul(R,he))+Math.imul(D,fe)|0,a=Math.imul(D,he);var Le=(c+(n=n+Math.imul(M,de)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(U,de)|0))<<13)|0;c=((a=a+Math.imul(U,pe)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ne=(c+(n=Math.imul(R,de))|0)+((8191&(i=(i=Math.imul(R,pe))+Math.imul(D,de)|0))<<13)|0;return c=((a=Math.imul(D,pe))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=ve,u[1]=ge,u[2]=ye,u[3]=me,u[4]=be,u[5]=we,u[6]=xe,u[7]=ke,u[8]=_e,u[9]=Be,u[10]=Ee,u[11]=Se,u[12]=Ce,u[13]=Ie,u[14]=Pe,u[15]=Te,u[16]=Oe,u[17]=Le,u[18]=Ne,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new v).mulp(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(d=A),a.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?d(this,e,t):n<63?A(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=a.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},v.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,h=c,A=0;A<o;A++){var d=r[l+A],p=n[l+A],v=r[l+A+o],g=n[l+A+o],y=f*v-h*g;g=f*g+h*v,v=y,r[l+A]=d+v,n[l+A]=p+g,r[l+A+o]=d-v,n[l+A+o]=p-g,A!==s&&(y=u*f-c*h,h=u*h+c*f,f=y)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===a),r(0==(-8192&a))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var A=0;A<n;A++){var d=s[A]*l[A]-u[A]*f[A];u[A]=s[A]*f[A]+u[A]*l[A],s[A]=d}return this.conjugate(s,u,n),this.transform(s,u,h,a,n,i),this.conjugate(h,a,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),p(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new a(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<n;this.words[t]=u|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=n;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==t){(s=new a(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},a.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),u=new a(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,A=1;0==(t.words[0]&A)&&h<26;++h,A<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var d=0,p=1;0==(n.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(u)):(n.isub(t),s.isub(i),u.isub(o))}return{a:s,b:u,gcd:n.iushln(c)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new k(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(m,y),m.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(b,y),n(w,y),n(x,y),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new a(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),A=this.pow(e,i),d=o;0!==A.cmp(s);){for(var p=A,v=0;0!==p.cmp(s);v++)p=p.redSqr();r(v<d);var g=this.pow(f,new a(1).iushln(d-v-1));h=h.redMul(g),f=g.redSqr(),A=A.redMul(f),d=v}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new a(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++s||0===n&&0===l)&&(i=this.mul(i,r[o]),s=0,o=0)):s=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new _(e)},n(_,k),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(Mb,Ba);var Ub={},Fb={},Rb={exports:{}};"function"==typeof Object.create?Rb.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Rb.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Db,jb=Co,Qb=jb.Buffer,Hb={};for(Db in jb)jb.hasOwnProperty(Db)&&"SlowBuffer"!==Db&&"Buffer"!==Db&&(Hb[Db]=jb[Db]);var Kb=Hb.Buffer={};for(Db in Qb)Qb.hasOwnProperty(Db)&&"allocUnsafe"!==Db&&"allocUnsafeSlow"!==Db&&(Kb[Db]=Qb[Db]);if(Hb.Buffer.prototype=Qb.prototype,Kb.from&&Kb.from!==Uint8Array.from||(Kb.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+i(e));if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+i(e));return Qb(e,t,r)}),Kb.alloc||(Kb.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+i(e));if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=Qb(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!Hb.kStringMaxLength)try{Hb.kStringMaxLength=Mc.binding("buffer").kStringMaxLength}catch(e){}Hb.constants||(Hb.constants={MAX_LENGTH:Hb.kMaxLength},Hb.kStringMaxLength&&(Hb.constants.MAX_STRING_LENGTH=Hb.kStringMaxLength));var Vb=Hb,zb={},qb=Rb.exports;function Gb(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function Wb(e,t){this.path=e,this.rethrow(t)}zb.Reporter=Gb,Gb.prototype.isError=function(e){return e instanceof Wb},Gb.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},Gb.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},Gb.prototype.enterKey=function(e){return this._reporterState.path.push(e)},Gb.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},Gb.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},Gb.prototype.path=function(){return this._reporterState.path.join("/")},Gb.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},Gb.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},Gb.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof Wb;if(t=n?e:new Wb(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},Gb.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},qb(Wb,Error),Wb.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Wb),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this};var Jb={},Xb=Rb.exports,Yb=zb.Reporter,$b=Vb.Buffer;function Zb(e,t){Yb.call(this,t),$b.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function ew(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return ew.isEncoderBuffer(e)||(e=new ew(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=$b.byteLength(e);else{if(!$b.isBuffer(e))return t.error("Unsupported type: "+i(e));this.value=e,this.length=e.length}}Xb(Zb,Yb),Jb.DecoderBuffer=Zb,Zb.isDecoderBuffer=function(e){return e instanceof Zb||"object"==i(e)&&$b.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},Zb.prototype.save=function(){return{offset:this.offset,reporter:Yb.prototype.save.call(this)}},Zb.prototype.restore=function(e){var t=new Zb(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,Yb.prototype.restore.call(this,e.reporter),t},Zb.prototype.isEmpty=function(){return this.offset===this.length},Zb.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},Zb.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new Zb(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},Zb.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},Jb.EncoderBuffer=ew,ew.isEncoderBuffer=function(e){return e instanceof ew||"object"==i(e)&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},ew.prototype.join=function(e,t){return e||(e=$b.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):$b.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e};var tw=rw;function rw(e,t){if(!e)throw new Error(t||"Assertion failed")}rw.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var nw=zb.Reporter,iw=Jb.EncoderBuffer,aw=Jb.DecoderBuffer,ow=tw,sw=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],uw=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(sw);function cw(e,t,r){var n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var lw=cw,fw=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];cw.prototype.clone=function(){var e=this._baseState,t={};fw.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},cw.prototype._wrap=function(){var e=this._baseState;uw.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},cw.prototype._init=function(e){var t=this._baseState;ow(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),ow.equal(t.children.length,1,"Root node can have only one child")},cw.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(ow(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(ow(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=i(e)||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){cw.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),sw.forEach((function(e){cw.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return ow(null===t.tag),t.tag=e,this._useArgs(r),this}})),cw.prototype.use=function(e){ow(e);var t=this._baseState;return ow(null===t.use),t.use=e,this},cw.prototype.optional=function(){return this._baseState.optional=!0,this},cw.prototype.def=function(e){var t=this._baseState;return ow(null===t.default),t.default=e,t.optional=!0,this},cw.prototype.explicit=function(e){var t=this._baseState;return ow(null===t.explicit&&null===t.implicit),t.explicit=e,this},cw.prototype.implicit=function(e){var t=this._baseState;return ow(null===t.explicit&&null===t.implicit),t.implicit=e,this},cw.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},cw.prototype.key=function(e){var t=this._baseState;return ow(null===t.key),t.key=e,this},cw.prototype.any=function(){return this._baseState.any=!0,this},cw.prototype.choice=function(e){var t=this._baseState;return ow(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},cw.prototype.contains=function(e){var t=this._baseState;return ow(null===t.use),t.contains=e,this},cw.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,a=!0,o=null;if(null!==r.key&&(o=e.enterKey(r.key)),r.optional){var s=null;if(null!==r.explicit?s=r.explicit:null!==r.implicit?s=r.implicit:null!==r.tag&&(s=r.tag),null!==s||r.any){if(a=this._peekTag(e,s,r.any),e.isError(a))return a}else{var u=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(u)}}if(r.obj&&a&&(n=e.enterObject()),a){if(null!==r.explicit){var c=this._decodeTag(e,r.explicit);if(e.isError(c))return c;e=c}var l=e.offset;if(null===r.use&&null===r.choice){var f;r.any&&(f=e.save());var h=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(h))return h;r.any?i=e.raw(f):e=h}if(t&&t.track&&null!==r.tag&&t.track(e.path(),l,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var A=new aw(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(A,t)}}return r.obj&&a&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==o&&e.exitKey(o):e.leaveKey(o,r.key,i),i},cw.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},cw.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),ow(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},cw.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(a){var o=e.save(),s=r.choice[a];try{var u=s._decode(e,t);if(e.isError(u))return!1;n={type:a,value:u},i=!0}catch(t){return e.restore(o),!1}return!0}),this),i?n:e.error("Choice not matched")},cw.prototype._createEncoderBuffer=function(e){return new iw(e,this.reporter)},cw.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i}},cw.prototype._encodeValue=function(e,t,r){var n=this._baseState;if(null===n.parent)return n.children[0]._encode(e,t||new nw);var a=null;if(this.reporter=t,n.optional&&void 0===e){if(null===n.default)return;e=n.default}var o=null,s=!1;if(n.any)a=this._createEncoderBuffer(e);else if(n.choice)a=this._encodeChoice(e,t);else if(n.contains)o=this._getUse(n.contains,r)._encode(e,t),s=!0;else if(n.children)o=n.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=i(e))return t.error("Child expected, but input is not object");var a=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),a}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return t.error("Too many args for : "+n.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),u))}else null!==n.use?a=this._getUse(n.use,r)._encode(e,t):(o=this._encodePrimitive(n.tag,e),s=!0);if(!n.any&&null===n.choice){var c=null!==n.implicit?n.implicit:n.tag,l=null===n.implicit?"universal":"context";null===c?null===n.use&&t.error("Tag could be omitted only for .use()"):null===n.use&&(a=this._encodeComposite(c,s,l,o))}return null!==n.explicit&&(a=this._encodeComposite(n.explicit,!1,"context",a)),a},cw.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||ow(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},cw.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},cw.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},cw.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var hw={};!function(e){function t(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)}(hw);var Aw=Rb.exports,dw=Vb.Buffer,pw=lw,vw=hw;function gw(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new mw,this.tree._init(e.body)}var yw=gw;function mw(e){pw.call(this,"der",e)}function bw(e){return e<10?"0"+e:e}gw.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},Aw(mw,pw),mw.prototype._encodeComposite=function(e,t,r,n){var i=function(e,t,r,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),vw.tagByName.hasOwnProperty(e))i=vw.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=vw.tagClassByName[r||"universal"]<<6)}(e,t,r,this.reporter);if(n.length<128){var a=dw.alloc(2);return a[0]=i,a[1]=n.length,this._createEncoderBuffer([a,n])}for(var o=1,s=n.length;s>=256;s>>=8)o++;var u=dw.alloc(2+o);u[0]=i,u[1]=128|o;for(var c=1+o,l=n.length;l>0;c--,l>>=8)u[c]=255&l;return this._createEncoderBuffer([u,n])},mw.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=dw.alloc(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},mw.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var a=0,o=0;o<e.length;o++){var s=e[o];for(a++;s>=128;s>>=7)a++}for(var u=dw.alloc(a),c=u.length-1,l=e.length-1;l>=0;l--){var f=e[l];for(u[c--]=127&f;(f>>=7)>0;)u[c--]=128|127&f}return this._createEncoderBuffer(u)},mw.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[bw(n.getUTCFullYear()),bw(n.getUTCMonth()+1),bw(n.getUTCDate()),bw(n.getUTCHours()),bw(n.getUTCMinutes()),bw(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[bw(n.getUTCFullYear()%100),bw(n.getUTCMonth()+1),bw(n.getUTCDate()),bw(n.getUTCHours()),bw(n.getUTCMinutes()),bw(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},mw.prototype._encodeNull=function(){return this._createEncoderBuffer("")},mw.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!dw.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=dw.from(r)}if(dw.isBuffer(e)){var n=e.length;0===e.length&&n++;var i=dw.alloc(n);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var a=1,o=e;o>=256;o>>=8)a++;for(var s=new Array(a),u=s.length-1;u>=0;u--)s[u]=255&e,e>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(dw.from(s))},mw.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},mw.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},mw.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var a=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),a.length!==i.defaultBuffer.length)return!1;for(n=0;n<a.length;n++)if(a[n]!==i.defaultBuffer[n])return!1;return!0};var ww=Rb.exports,xw=yw;function kw(e){xw.call(this,e),this.enc="pem"}ww(kw,xw);var _w=kw;kw.prototype.encode=function(e,t){for(var r=xw.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],i=0;i<r.length;i+=64)n.push(r.slice(i,i+64));return n.push("-----END "+t.label+"-----"),n.join("\n")},function(e){var t=e;t.der=yw,t.pem=_w}(Fb);var Bw={},Ew=Rb.exports,Sw=Mb.exports,Cw=Jb.DecoderBuffer,Iw=lw,Pw=hw;function Tw(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new Lw,this.tree._init(e.body)}var Ow=Tw;function Lw(e){Iw.call(this,"der",e)}function Nw(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=Pw.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){var a=r;for(r=0;128==(128&a);){if(a=e.readUInt8(t),e.isError(a))return a;r<<=7,r|=127&a}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:Pw.tag[r]}}function Mw(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var a=0;a<i;a++){n<<=8;var o=e.readUInt8(r);if(e.isError(o))return o;n|=o}return n}Tw.prototype.decode=function(e,t){return Cw.isDecoderBuffer(e)||(e=new Cw(e,t)),this.tree._decode(e,t)},Ew(Lw,Iw),Lw.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=Nw(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},Lw.prototype._decodeTag=function(e,t,r){var n=Nw(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=Mw(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var a=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(i=e.offset-a.offset,e.restore(a),e.skip(i,'Failed to match body of: "'+t+'"'))},Lw.prototype._skipUntilEnd=function(e,t){for(;;){var r=Nw(e,t);if(e.isError(r))return r;var n=Mw(e,r.primitive,t);if(e.isError(n))return n;var i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},Lw.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=r.decode(e,"der",n);if(e.isError(o)&&a)break;i.push(o)}return i},Lw.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",a=0;a<n.length/2;a++)i+=String.fromCharCode(n.readUInt16BE(2*a));return i}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},Lw.prototype._decodeObjid=function(e,t,r){for(var n,i=[],a=0,o=0;!e.isEmpty();)a<<=7,a|=127&(o=e.readUInt8()),0==(128&o)&&(i.push(a),a=0);128&o&&i.push(a);var s=i[0]/40|0,u=i[0]%40;if(n=r?i:[s,u].concat(i.slice(1)),t){var c=t[n.join(" ")];void 0===c&&(c=t[n.join(".")]),void 0!==c&&(n=c)}return n},Lw.prototype._decodeTime=function(e,t){var r,n,i,a,o,s,u=e.raw().toString();if("gentime"===t)r=0|u.slice(0,4),n=0|u.slice(4,6),i=0|u.slice(6,8),a=0|u.slice(8,10),o=0|u.slice(10,12),s=0|u.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|u.slice(0,2),n=0|u.slice(2,4),i=0|u.slice(4,6),a=0|u.slice(6,8),o=0|u.slice(8,10),s=0|u.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,i,a,o,s,0)},Lw.prototype._decodeNull=function(){return null},Lw.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},Lw.prototype._decodeInt=function(e,t){var r=e.raw(),n=new Sw(r);return t&&(n=t[n.toString(10)]||n),n},Lw.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree};var Uw=Rb.exports,Fw=Vb.Buffer,Rw=Ow;function Dw(e){Rw.call(this,e),this.enc="pem"}Uw(Dw,Rw);var jw=Dw;Dw.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,o=-1,s=0;s<r.length;s++){var u=r[s].match(i);if(null!==u&&u[2]===n){if(-1!==a){if("END"!==u[1])break;o=s;break}if("BEGIN"!==u[1])break;a=s}}if(-1===a||-1===o)throw new Error("PEM section not found for: "+n);var c=r.slice(a+1,o).join("");c.replace(/[^a-z0-9+/=]+/gi,"");var l=Fw.from(c,"base64");return Rw.prototype.decode.call(this,l,t)},function(e){var t=e;t.der=Ow,t.pem=jw}(Bw),function(e){var t=Fb,r=Bw,n=Rb.exports;function i(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.define=function(e,t){return new i(e,t)},i.prototype._createNamed=function(e){var t=this.name;function r(e){this._initNamed(e,t)}return n(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},i.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},i.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},i.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(t[e])),this.encoders[e]},i.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}}(Ub);var Qw={};!function(e){var t=Qw;t.Reporter=zb.Reporter,t.DecoderBuffer=Jb.DecoderBuffer,t.EncoderBuffer=Jb.EncoderBuffer,t.Node=lw}();var Hw={};!function(e){var t=Hw;t._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},t.der=hw}(),function(e){var t=Nb;t.bignum=Mb.exports,t.define=Ub.define,t.base=Qw,t.constants=Hw,t.decoders=Bw,t.encoders=Fb}();var Kw={exports:{}},Vw={},zw={};Object.defineProperty(zw,"__esModule",{value:!0}),zw.default=function(e){var t=e.length,r=t%4;if(!r)return e;var n=t,i=4-r,a=t+i,o=Ka.alloc(a);for(o.write(e);i--;)o.write("=",n++);return o.toString()},Object.defineProperty(Vw,"__esModule",{value:!0});var qw=zw;function Gw(e,t){return void 0===t&&(t="utf8"),Eo(e)?Jw(e.toString("base64")):Jw(Ka.from(e,t).toString("base64"))}function Ww(e){return e=e.toString(),qw.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function Jw(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var Xw=Gw;Xw.encode=Gw,Xw.decode=function(e,t){return void 0===t&&(t="utf8"),Ka.from(Ww(e),"base64").toString(t)},Xw.toBase64=Ww,Xw.fromBase64=Jw,Xw.toBuffer=function(e){return Ka.from(Ww(e),"base64")},Vw.default=Xw,function(e){e.exports=Vw.default,e.exports.default=e.exports}(Kw);var Yw=Nb,$w=Kw.exports,Zw=function(){function e(){s(this,e)}return c(e,null,[{key:"convert",value:function(e,t,r){if(e){if(t===r)return e;var n;if("raw"===t||e instanceof Ka)n=e;else if("uint8_array"===t||Array.isArray(e))n=Ka.from(e);else if("hex"===t)n=Ka.from(e,"hex");else if("base64"===t)n=Ka.from(e,"base64");else if("base64url"===t)n=$w.toBuffer(e);else{if("bn"!==t&&"bignum"!==t)throw new Error("Invalid fromType");n=Ka.from(this.pad(e.toString(16)),"hex")}if("raw"===r)return n;if("uint8_array"===r)return Array.from(n);if("hex"===r)return n.toString("hex");if("base64"===r)return n.toString("base64");if("base64url"===r)return $w.fromBase64(n.toString("base64"));if("bn"===r||"bignum"===r)return new Yw.bignum(n);throw new Error("Invalid toType")}}},{key:"pad",value:function(e){return e.length%2==1?"0".concat(e):e}}]),e}(),ex=Nb,tx=function(){function e(){s(this,e),Object.defineProperty(this,"_registry",{value:{}})}return c(e,[{key:"registry",get:function(){return this._registry}},{key:"define",value:function(e,t){this._registry[e]=ex.define(e,t(this))}},{key:"normalize",value:function(e){return this.registry[e]}}]),e}(),rx=new tx;rx.define("Version",(function(e){return function(){this.int({0:"two-prime",1:"multi"})}})),rx.define("OtherPrimeInfos",(function(e){return function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())}})),rx.define("AlgorithmIdentifier",(function(e){return function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}})),rx.define("PrivateKeyInfo",(function(e){var t=e.normalize("Version"),r=e.normalize("AlgorithmIdentifier");return function(){this.seq().obj(this.key("version").use(t),this.key("algorithm").use(r),this.key("privateKey").octstr())}})),rx.define("PublicKeyInfo",(function(e){var t=e.normalize("AlgorithmIdentifier");return function(){this.seq().obj(this.key("algorithm").use(t),this.key("publicKey").bitstr())}})),rx.define("RSAPrivateKey",(function(e){var t=e.normalize("Version"),r=e.normalize("OtherPrimeInfos");return function(){this.seq().obj(this.key("version").use(t),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(r))}})),rx.define("RSAPublicKey",(function(e){return function(){this.seq().obj(this.key("n").int(),this.key("e").int())}})),rx.define("ECPrivateKey",(function(e){return function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid()}),this.key("publicKey").explicit(1).optional().bitstr())}}));var nx=rx,ix=Zw,ax=nx,ox=function(e){f(r,e);var t=w(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"fromPrivatePKCS1",value:function(e){var t=ax.normalize("RSAPrivateKey").decode(e,"der"),r=t.n,n=t.e,i=t.d,a=t.p,o=t.q,s=t.dp,u=t.dq,c=t.qi;return{n:ix.convert(r,"bn","raw"),e:ix.convert(n,"bn","raw"),d:ix.convert(i,"bn","raw"),p:ix.convert(a,"bn","raw"),q:ix.convert(o,"bn","raw"),dp:ix.convert(s,"bn","raw"),dq:ix.convert(u,"bn","raw"),qi:ix.convert(c,"bn","raw")}}},{key:"fromPrivatePKCS8",value:function(e){var t=ax.normalize("PrivateKeyInfo"),r=ax.normalize("RSAPrivateKey"),n=t.decode(e,"der"),i=r.decode(n.privateKey,"der"),a=i.n,o=i.e,s=i.d,u=i.p,c=i.q,l=i.dp,f=i.dq,h=i.qi;return{n:ix.convert(a,"bn","raw"),e:ix.convert(o,"bn","raw"),d:ix.convert(s,"bn","raw"),p:ix.convert(u,"bn","raw"),q:ix.convert(c,"bn","raw"),dp:ix.convert(l,"bn","raw"),dq:ix.convert(f,"bn","raw"),qi:ix.convert(h,"bn","raw")}}},{key:"fromPublicPKCS1",value:function(e){var t=ax.normalize("RSAPublicKey").decode(e,"der"),r=t.n,n=t.e;return{n:ix.convert(r,"bn","raw"),e:ix.convert(n,"bn","raw")}}},{key:"fromPublicPKCS8",value:function(e){var t=ax.normalize("PublicKeyInfo"),r=ax.normalize("RSAPublicKey"),n=t.decode(e,"der"),i=r.decode(n.publicKey.data,"der"),a=i.n,o=i.e;return{n:ix.convert(a,"bn","raw"),e:ix.convert(o,"bn","raw")}}},{key:"fromJwk",value:function(e){var t=e.n,r=e.e,n=e.d,i=e.p,a=e.q,o=e.dp,s=e.dq,u=e.qi;return e.alg,{n:ix.convert(t,"base64url","raw"),e:ix.convert(r,"base64url","raw"),d:ix.convert(n,"base64url","raw"),p:ix.convert(i,"base64url","raw"),q:ix.convert(a,"base64url","raw"),dp:ix.convert(o,"base64url","raw"),dq:ix.convert(s,"base64url","raw"),qi:ix.convert(u,"base64url","raw")}}},{key:"toPrivatePKCS1",value:function(e){var t=e.n,n=e.e,i=e.d,a=e.p,o=e.q,s=e.dp,u=e.dq,c=e.qi,l=this.params.version,f=ax.normalize("RSAPrivateKey").encode({version:l,n:ix.convert(t,"raw","bn"),e:ix.convert(n,"raw","bn"),d:ix.convert(i,"raw","bn"),p:ix.convert(a,"raw","bn"),q:ix.convert(o,"raw","bn"),dp:ix.convert(s,"raw","bn"),dq:ix.convert(u,"raw","bn"),qi:ix.convert(c,"raw","bn")},"der").toString("base64");return r.formatPem(f,"RSA PRIVATE")}},{key:"toPrivatePKCS8",value:function(e){var t=e.n,n=e.e,i=e.d,a=e.p,o=e.q,s=e.dp,u=e.dq,c=e.qi,l=this.params,f=l.oid,h=l.algParameters,A=l.version,d=ax.normalize("PrivateKeyInfo"),p=ax.normalize("RSAPrivateKey").encode({version:A,n:ix.convert(t,"raw","bn"),e:ix.convert(n,"raw","bn"),d:ix.convert(i,"raw","bn"),p:ix.convert(a,"raw","bn"),q:ix.convert(o,"raw","bn"),dp:ix.convert(s,"raw","bn"),dq:ix.convert(u,"raw","bn"),qi:ix.convert(c,"raw","bn")},"der"),v=d.encode({version:A,algorithm:{algorithm:f.split("."),parameters:Ka.from(h,"hex")},privateKey:p},"der").toString("base64");return r.formatPem(v,"PRIVATE")}},{key:"toPublicPKCS1",value:function(e){var t=e.n,n=e.e,i=this.params.version,a=ax.normalize("RSAPublicKey").encode({version:i,n:ix.convert(t,"raw","bn"),e:ix.convert(n,"raw","bn")},"der").toString("base64");return r.formatPem(a,"RSA PUBLIC")}},{key:"toPublicPKCS8",value:function(e){var t=e.n,n=e.e,i=this.params,a=i.oid,o=i.algParameters,s=ax.normalize("PublicKeyInfo"),u=ax.normalize("RSAPublicKey").encode({n:ix.convert(t,"raw","bn"),e:ix.convert(n,"raw","bn")},"der"),c=s.encode({algorithm:{algorithm:a.split("."),parameters:Ka.from(o,"hex")},publicKey:{unused:0,data:u}},"der").toString("base64");return r.formatPem(c,"PUBLIC")}},{key:"toPrivateJwk",value:function(e){var t=e.n,r=e.e,n=e.d,i=e.p,a=e.q,o=e.dp,s=e.dq,u=e.qi;return{kty:this.params.kty,n:ix.convert(t,"raw","base64url"),e:ix.convert(r,"raw","base64url"),d:ix.convert(n,"raw","base64url"),p:ix.convert(i,"raw","base64url"),q:ix.convert(a,"raw","base64url"),dp:ix.convert(o,"raw","base64url"),dq:ix.convert(s,"raw","base64url"),qi:ix.convert(u,"raw","base64url")}}},{key:"toPublicJwk",value:function(e){var t=e.n,r=e.e;return{kty:this.params.kty,n:ix.convert(t,"raw","base64url"),e:ix.convert(r,"raw","base64url")}}}]),r}(Lb),sx=ox,ux={},cx={},lx={};!function(e){var t=lx;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(),function(e){var t=cx,r=Mb.exports,n=tw,i=lx;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,c=t.andln(3)+a&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!=(n=t.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}}();var fx,hx={exports:{}};function Ax(e){this.rand=e}if(hx.exports=function(e){return fx||(fx=new Ax(null)),fx.generate(e)},hx.exports.Rand=Ax,Ax.prototype.generate=function(e){return this._rand(e)},Ax.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==("undefined"==typeof self?"undefined":i(self)))self.crypto&&self.crypto.getRandomValues?Ax.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Ax.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==("undefined"==typeof window?"undefined":i(window))&&(Ax.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var dx=require("crypto");if("function"!=typeof dx.randomBytes)throw new Error("Not supported");Ax.prototype._rand=function(e){return dx.randomBytes(e)}}catch(e){}var px={},vx=Mb.exports,gx=cx,yx=gx.getNAF,mx=gx.getJSF,bx=gx.assert;function wx(e,t){this.type=e,this.p=new vx(t.p,16),this.red=t.prime?vx.red(t.prime):vx.mont(this.p),this.zero=new vx(0).toRed(this.red),this.one=new vx(1).toRed(this.red),this.two=new vx(2).toRed(this.red),this.n=t.n&&new vx(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var xx=wx;function kx(e,t){this.curve=e,this.type=t,this.precomputed=null}wx.prototype.point=function(){throw new Error("Not implemented")},wx.prototype.validate=function(){throw new Error("Not implemented")},wx.prototype._fixedNafMul=function(e,t){bx(e.precomputed);var r=e._getDoubles(),n=yx(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,o,s=[];for(a=0;a<n.length;a+=r.step){o=0;for(var u=a+r.step-1;u>=a;u--)o=(o<<1)+n[u];s.push(o)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<s.length;a++)(o=s[a])===f?l=l.mixedAdd(r.points[a]):o===-f&&(l=l.mixedAdd(r.points[a].neg()));c=c.add(l)}return c.toP()},wx.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=yx(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var u=0;s>=0&&0===a[s];s--)u++;if(s>=0&&u++,o=o.dblp(u),s<0)break;var c=a[s];bx(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},wx.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,f=0;for(a=0;a<n;a++){var h=(s=t[a])._getNAFPoints(e);u[a]=h.wnd,c[a]=h.points}for(a=n-1;a>=1;a-=2){var A=a-1,d=a;if(1===u[A]&&1===u[d]){var p=[t[A],null,null,t[d]];0===t[A].y.cmp(t[d].y)?(p[1]=t[A].add(t[d]),p[2]=t[A].toJ().mixedAdd(t[d].neg())):0===t[A].y.cmp(t[d].y.redNeg())?(p[1]=t[A].toJ().mixedAdd(t[d]),p[2]=t[A].add(t[d].neg())):(p[1]=t[A].toJ().mixedAdd(t[d]),p[2]=t[A].toJ().mixedAdd(t[d].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=mx(r[A],r[d]);for(f=Math.max(g[0].length,f),l[A]=new Array(f),l[d]=new Array(f),o=0;o<f;o++){var y=0|g[0][o],m=0|g[1][o];l[A][o]=v[3*(y+1)+(m+1)],l[d][o]=0,c[A]=p}}else l[A]=yx(r[A],u[A],this._bitLength),l[d]=yx(r[d],u[d],this._bitLength),f=Math.max(l[A].length,f),f=Math.max(l[d].length,f)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(a=f;a>=0;a--){for(var x=0;a>=0;){var k=!0;for(o=0;o<n;o++)w[o]=0|l[o][a],0!==w[o]&&(k=!1);if(!k)break;x++,a--}if(a>=0&&x++,b=b.dblp(x),a<0)break;for(o=0;o<n;o++){var _=w[o];0!==_&&(_>0?s=c[o][_-1>>1]:_<0&&(s=c[o][-_-1>>1].neg()),b="affine"===s.type?b.mixedAdd(s):b.add(s))}}for(a=0;a<n;a++)c[a]=null;return i?b:b.toP()},wx.BasePoint=kx,kx.prototype.eq=function(){throw new Error("Not implemented")},kx.prototype.validate=function(){return this.curve.validate(this)},wx.prototype.decodePoint=function(e,t){e=gx.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?bx(e[e.length-1]%2==0):7===e[0]&&bx(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},kx.prototype.encodeCompressed=function(e){return this.encode(e,!0)},kx.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},kx.prototype.encode=function(e,t){return gx.encode(this._encode(t),e)},kx.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},kx.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},kx.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},kx.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},kx.prototype._getBeta=function(){return null},kx.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var _x=cx,Bx=Mb.exports,Ex=Rb.exports,Sx=xx,Cx=_x.assert;function Ix(e){Sx.call(this,"short",e),this.a=new Bx(e.a,16).toRed(this.red),this.b=new Bx(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ex(Ix,Sx);var Px=Ix;function Tx(e,t,r,n){Sx.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Bx(t,16),this.y=new Bx(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Ox(e,t,r,n){Sx.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Bx(0)):(this.x=new Bx(t,16),this.y=new Bx(r,16),this.z=new Bx(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ix.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Bx(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Bx(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Cx(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Bx(e.a,16),b:new Bx(e.b,16)}})):this._getEndoBasis(r)}}},Ix.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Bx.mont(e),r=new Bx(2).toRed(t).redInvm(),n=r.redNeg(),i=new Bx(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Ix.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),A=new Bx(1),d=new Bx(0),p=new Bx(0),v=new Bx(1),g=0;0!==f.cmpn(0);){var y=h.div(f);u=h.sub(y.mul(f)),c=p.sub(y.mul(A));var m=v.sub(y.mul(d));if(!n&&u.cmp(l)<0)t=s.neg(),r=A,n=u.neg(),i=c;else if(n&&2==++g)break;s=u,h=f,f=u,p=A,A=c,v=d,d=m}a=u.neg(),o=c;var b=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(b)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a:a,b:o}]},Ix.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},Ix.prototype.pointFromX=function(e,t){(e=new Bx(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Ix.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Ix.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),l=0;l<2*a;l++)n[l]=null,i[l]=null;return c},Ex(Tx,Sx.BasePoint),Ix.prototype.point=function(e,t,r){return new Tx(this,e,t,r)},Ix.prototype.pointFromJSON=function(e,t){return Tx.fromJSON(this,e,t)},Tx.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Tx.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Tx.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},Tx.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Tx.prototype.isInfinity=function(){return this.inf},Tx.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Tx.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},Tx.prototype.getX=function(){return this.x.fromRed()},Tx.prototype.getY=function(){return this.y.fromRed()},Tx.prototype.mul=function(e){return e=new Bx(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Tx.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Tx.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Tx.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Tx.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Tx.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ex(Ox,Sx.BasePoint),Ix.prototype.jpoint=function(e,t,r){return new Ox(this,e,t,r)},Ox.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Ox.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ox.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),h=u.redSqr().redIAdd(l).redISub(f).redISub(f),A=u.redMul(f.redISub(h)).redISub(a.redMul(l)),d=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,A,d)},Ox.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),h=s.redMul(l.redISub(f)).redISub(i.redMul(c)),A=this.z.redMul(o);return this.curve.jpoint(f,h,A)},Ox.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=a.redSqr(),f=c.redSqr(),h=f.redSqr(),A=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),d=a.redMul(f),p=A.redSqr().redISub(d.redAdd(d)),v=d.redISub(p),g=A.redMul(v);g=g.redIAdd(g).redISub(h);var y=c.redMul(s);t+1<e&&(u=u.redMul(h)),a=p,s=y,c=g}return this.curve.jpoint(a,c.redMul(i),s)},Ox.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ox.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),A=this.x.redAdd(f).redSqr().redISub(l).redISub(h);A=A.redIAdd(A);var d=l.redAdd(l).redIAdd(l),p=d.redSqr(),v=h.redIAdd(h);v=(v=v.redIAdd(v)).redIAdd(v),e=p.redISub(A).redISub(A),t=d.redMul(A.redISub(e)).redISub(v),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Ox.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),A=this.x.redSub(l).redMul(this.x.redAdd(l));A=A.redAdd(A).redIAdd(A);var d=h.redIAdd(h),p=(d=d.redIAdd(d)).redAdd(d);e=A.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=A.redMul(d.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,r)},Ox.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var A=s.redMul(f).redISub(h),d=r.redAdd(r).redMul(n);return this.curve.jpoint(l,A,d)},Ox.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var A=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,h,A)},Ox.prototype.mul=function(e,t){return e=new Bx(e,t),this.curve._wnafMul(this,e)},Ox.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Ox.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Ox.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ox.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Lx=Mb.exports,Nx=Rb.exports,Mx=xx,Ux=cx;function Fx(e){Mx.call(this,"mont",e),this.a=new Lx(e.a,16).toRed(this.red),this.b=new Lx(e.b,16).toRed(this.red),this.i4=new Lx(4).toRed(this.red).redInvm(),this.two=new Lx(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Nx(Fx,Mx);var Rx=Fx;function Dx(e,t,r){Mx.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Lx(t,16),this.z=new Lx(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Fx.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},Nx(Dx,Mx.BasePoint),Fx.prototype.decodePoint=function(e,t){return this.point(Ux.toArray(e,t),1)},Fx.prototype.point=function(e,t){return new Dx(this,e,t)},Fx.prototype.pointFromJSON=function(e){return Dx.fromJSON(this,e)},Dx.prototype.precompute=function(){},Dx.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Dx.fromJSON=function(e,t){return new Dx(e,t[0],t[1]||e.one)},Dx.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Dx.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Dx.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Dx.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Dx.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),o=i.redMul(n),s=t.z.redMul(a.redAdd(o).redSqr()),u=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(s,u)},Dx.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Dx.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Dx.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Dx.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Dx.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Dx.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var jx=cx,Qx=Mb.exports,Hx=Rb.exports,Kx=xx,Vx=jx.assert;function zx(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Kx.call(this,"edwards",e),this.a=new Qx(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Qx(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Qx(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Vx(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}Hx(zx,Kx);var qx=zx;function Gx(e,t,r,n,i){Kx.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Qx(t,16),this.y=new Qx(r,16),this.z=n?new Qx(n,16):this.curve.one,this.t=i&&new Qx(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}zx.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},zx.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},zx.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},zx.prototype.pointFromX=function(e,t){(e=new Qx(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var s=o.fromRed().isOdd();return(t&&!s||!t&&s)&&(o=o.redNeg()),this.point(e,o)},zx.prototype.pointFromY=function(e,t){(e=new Qx(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},zx.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},Hx(Gx,Kx.BasePoint),zx.prototype.pointFromJSON=function(e){return Gx.fromJSON(this,e)},zx.prototype.point=function(e,t,r,n){return new Gx(this,e,t,r,n)},Gx.fromJSON=function(e,t){return new Gx(e,t[0],t[1],t[2])},Gx.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Gx.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Gx.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),o=a.redSub(r),s=n.redSub(t),u=i.redMul(o),c=a.redMul(s),l=i.redMul(s),f=o.redMul(a);return this.curve.point(u,c,f,l)},Gx.prototype._projDbl=function(){var e,t,r,n,i,a,o=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(s)).redAdd(u);this.zOne?(e=o.redSub(s).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),a=c.redSub(i).redISub(i),e=o.redSub(s).redISub(u).redMul(a),t=c.redMul(n.redSub(u)),r=c.redMul(a))}else n=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),a=n.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(n)).redMul(a),t=this.curve._mulC(n).redMul(s.redISub(u)),r=n.redMul(a);return this.curve.point(e,t,r)},Gx.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Gx.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),o=i.redSub(n),s=i.redAdd(n),u=r.redAdd(t),c=a.redMul(o),l=s.redMul(u),f=a.redMul(u),h=o.redMul(s);return this.curve.point(c,l,h,f)},Gx.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),f=n.redMul(u).redMul(l);return this.curve.twisted?(t=n.redMul(c).redMul(o.redSub(this.curve._mulA(a))),r=u.redMul(c)):(t=n.redMul(c).redMul(o.redSub(a)),r=this.curve._mulC(u).redMul(c)),this.curve.point(f,t,r)},Gx.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Gx.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Gx.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Gx.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Gx.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Gx.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Gx.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Gx.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Gx.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Gx.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Gx.prototype.toP=Gx.prototype.normalize,Gx.prototype.mixedAdd=Gx.prototype.add,function(e){var t=e;t.base=xx,t.short=Px,t.mont=Rx,t.edwards=qx}(px);var Wx={},Jx={},Xx={},Yx=tw,$x=Rb.exports;function Zx(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function ek(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function tk(e){return 1===e.length?"0"+e:e}function rk(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}Xx.inherits=$x,Xx.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):Zx(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},Xx.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=tk(e[r].toString(16));return t},Xx.htonl=ek,Xx.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=ek(i)),r+=rk(i.toString(16))}return r},Xx.zero2=tk,Xx.zero8=rk,Xx.join32=function(e,t,r,n){var i=r-t;Yx(i%4==0);for(var a=new Array(i/4),o=0,s=t;o<a.length;o++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[o]=u>>>0}return a},Xx.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},Xx.rotr32=function(e,t){return e>>>t|e<<32-t},Xx.rotl32=function(e,t){return e<<t|e>>>32-t},Xx.sum32=function(e,t){return e+t>>>0},Xx.sum32_3=function(e,t,r){return e+t+r>>>0},Xx.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},Xx.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},Xx.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a},Xx.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},Xx.sum64_lo=function(e,t,r,n){return t+n>>>0},Xx.sum64_4_hi=function(e,t,r,n,i,a,o,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+a>>>0)<a?1:0,e+r+i+o+(u+=(c=c+s>>>0)<s?1:0)>>>0},Xx.sum64_4_lo=function(e,t,r,n,i,a,o,s){return t+n+a+s>>>0},Xx.sum64_5_hi=function(e,t,r,n,i,a,o,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+a>>>0)<a?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+o+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},Xx.sum64_5_lo=function(e,t,r,n,i,a,o,s,u,c){return t+n+a+s+c>>>0},Xx.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},Xx.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},Xx.shr64_hi=function(e,t,r){return e>>>r},Xx.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var nk={},ik=Xx,ak=tw;function ok(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}nk.BlockHash=ok,ok.prototype.update=function(e,t){if(e=ik.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=ik.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},ok.prototype.digest=function(e){return this.update(this._pad()),ak(null===this.pending),this._digest(e)},ok.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var sk={},uk={},ck=Xx.rotr32;function lk(e,t,r){return e&t^~e&r}function fk(e,t,r){return e&t^e&r^t&r}function hk(e,t,r){return e^t^r}uk.ft_1=function(e,t,r,n){return 0===e?lk(t,r,n):1===e||3===e?hk(t,r,n):2===e?fk(t,r,n):void 0},uk.ch32=lk,uk.maj32=fk,uk.p32=hk,uk.s0_256=function(e){return ck(e,2)^ck(e,13)^ck(e,22)},uk.s1_256=function(e){return ck(e,6)^ck(e,11)^ck(e,25)},uk.g0_256=function(e){return ck(e,7)^ck(e,18)^e>>>3},uk.g1_256=function(e){return ck(e,17)^ck(e,19)^e>>>10};var Ak=Xx,dk=nk,pk=uk,vk=Ak.rotl32,gk=Ak.sum32,yk=Ak.sum32_5,mk=pk.ft_1,bk=dk.BlockHash,wk=[1518500249,1859775393,2400959708,3395469782];function xk(){if(!(this instanceof xk))return new xk;bk.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ak.inherits(xk,bk);var kk=xk;xk.blockSize=512,xk.outSize=160,xk.hmacStrength=80,xk.padLength=64,xk.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=vk(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=yk(vk(i,5),mk(c,a,o,s),u,r[n],wk[c]);u=s,s=o,o=vk(a,30),a=i,i=l}this.h[0]=gk(this.h[0],i),this.h[1]=gk(this.h[1],a),this.h[2]=gk(this.h[2],o),this.h[3]=gk(this.h[3],s),this.h[4]=gk(this.h[4],u)},xk.prototype._digest=function(e){return"hex"===e?Ak.toHex32(this.h,"big"):Ak.split32(this.h,"big")};var _k=Xx,Bk=nk,Ek=uk,Sk=tw,Ck=_k.sum32,Ik=_k.sum32_4,Pk=_k.sum32_5,Tk=Ek.ch32,Ok=Ek.maj32,Lk=Ek.s0_256,Nk=Ek.s1_256,Mk=Ek.g0_256,Uk=Ek.g1_256,Fk=Bk.BlockHash,Rk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Dk(){if(!(this instanceof Dk))return new Dk;Fk.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Rk,this.W=new Array(64)}_k.inherits(Dk,Fk);var jk=Dk;Dk.blockSize=512,Dk.outSize=256,Dk.hmacStrength=192,Dk.padLength=64,Dk.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Ik(Uk(r[n-2]),r[n-7],Mk(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],f=this.h[7];for(Sk(this.k.length===r.length),n=0;n<r.length;n++){var h=Pk(f,Nk(u),Tk(u,c,l),this.k[n],r[n]),A=Ck(Lk(i),Ok(i,a,o));f=l,l=c,c=u,u=Ck(s,h),s=o,o=a,a=i,i=Ck(h,A)}this.h[0]=Ck(this.h[0],i),this.h[1]=Ck(this.h[1],a),this.h[2]=Ck(this.h[2],o),this.h[3]=Ck(this.h[3],s),this.h[4]=Ck(this.h[4],u),this.h[5]=Ck(this.h[5],c),this.h[6]=Ck(this.h[6],l),this.h[7]=Ck(this.h[7],f)},Dk.prototype._digest=function(e){return"hex"===e?_k.toHex32(this.h,"big"):_k.split32(this.h,"big")};var Qk=Xx,Hk=jk;function Kk(){if(!(this instanceof Kk))return new Kk;Hk.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Qk.inherits(Kk,Hk);var Vk=Kk;Kk.blockSize=512,Kk.outSize=224,Kk.hmacStrength=192,Kk.padLength=64,Kk.prototype._digest=function(e){return"hex"===e?Qk.toHex32(this.h.slice(0,7),"big"):Qk.split32(this.h.slice(0,7),"big")};var zk=Xx,qk=nk,Gk=tw,Wk=zk.rotr64_hi,Jk=zk.rotr64_lo,Xk=zk.shr64_hi,Yk=zk.shr64_lo,$k=zk.sum64,Zk=zk.sum64_hi,e_=zk.sum64_lo,t_=zk.sum64_4_hi,r_=zk.sum64_4_lo,n_=zk.sum64_5_hi,i_=zk.sum64_5_lo,a_=qk.BlockHash,o_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function s_(){if(!(this instanceof s_))return new s_;a_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=o_,this.W=new Array(160)}zk.inherits(s_,a_);var u_=s_;function c_(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function l_(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function f_(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function h_(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function A_(e,t){var r=Wk(e,t,28)^Wk(t,e,2)^Wk(t,e,7);return r<0&&(r+=4294967296),r}function d_(e,t){var r=Jk(e,t,28)^Jk(t,e,2)^Jk(t,e,7);return r<0&&(r+=4294967296),r}function p_(e,t){var r=Wk(e,t,14)^Wk(e,t,18)^Wk(t,e,9);return r<0&&(r+=4294967296),r}function v_(e,t){var r=Jk(e,t,14)^Jk(e,t,18)^Jk(t,e,9);return r<0&&(r+=4294967296),r}function g_(e,t){var r=Wk(e,t,1)^Wk(e,t,8)^Xk(e,t,7);return r<0&&(r+=4294967296),r}function y_(e,t){var r=Jk(e,t,1)^Jk(e,t,8)^Yk(e,t,7);return r<0&&(r+=4294967296),r}function m_(e,t){var r=Wk(e,t,19)^Wk(t,e,29)^Xk(e,t,6);return r<0&&(r+=4294967296),r}function b_(e,t){var r=Jk(e,t,19)^Jk(t,e,29)^Yk(e,t,6);return r<0&&(r+=4294967296),r}s_.blockSize=1024,s_.outSize=512,s_.hmacStrength=192,s_.padLength=128,s_.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=m_(r[n-4],r[n-3]),a=b_(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],u=g_(r[n-30],r[n-29]),c=y_(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=t_(i,a,o,s,u,c,l,f),r[n+1]=r_(i,a,o,s,u,c,l,f)}},s_.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],f=this.h[8],h=this.h[9],A=this.h[10],d=this.h[11],p=this.h[12],v=this.h[13],g=this.h[14],y=this.h[15];Gk(this.k.length===r.length);for(var m=0;m<r.length;m+=2){var b=g,w=y,x=p_(f,h),k=v_(f,h),_=c_(f,0,A,0,p),B=l_(0,h,0,d,0,v),E=this.k[m],S=this.k[m+1],C=r[m],I=r[m+1],P=n_(b,w,x,k,_,B,E,S,C,I),T=i_(b,w,x,k,_,B,E,S,C,I);b=A_(n,i),w=d_(n,i),x=f_(n,0,a,0,s),k=h_(0,i,0,o,0,u);var O=Zk(b,w,x,k),L=e_(b,w,x,k);g=p,y=v,p=A,v=d,A=f,d=h,f=Zk(c,l,P,T),h=e_(l,l,P,T),c=s,l=u,s=a,u=o,a=n,o=i,n=Zk(P,T,O,L),i=e_(P,T,O,L)}$k(this.h,0,n,i),$k(this.h,2,a,o),$k(this.h,4,s,u),$k(this.h,6,c,l),$k(this.h,8,f,h),$k(this.h,10,A,d),$k(this.h,12,p,v),$k(this.h,14,g,y)},s_.prototype._digest=function(e){return"hex"===e?zk.toHex32(this.h,"big"):zk.split32(this.h,"big")};var w_=Xx,x_=u_;function k_(){if(!(this instanceof k_))return new k_;x_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}w_.inherits(k_,x_);var __=k_;k_.blockSize=1024,k_.outSize=384,k_.hmacStrength=192,k_.padLength=128,k_.prototype._digest=function(e){return"hex"===e?w_.toHex32(this.h.slice(0,12),"big"):w_.split32(this.h.slice(0,12),"big")},sk.sha1=kk,sk.sha224=Vk,sk.sha256=jk,sk.sha384=__,sk.sha512=u_;var B_={},E_=Xx,S_=nk,C_=E_.rotl32,I_=E_.sum32,P_=E_.sum32_3,T_=E_.sum32_4,O_=S_.BlockHash;function L_(){if(!(this instanceof L_))return new L_;O_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function N_(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function M_(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function U_(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}E_.inherits(L_,O_),B_.ripemd160=L_,L_.blockSize=512,L_.outSize=160,L_.hmacStrength=192,L_.padLength=64,L_.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],s=r,u=n,c=i,l=a,f=o,h=0;h<80;h++){var A=I_(C_(T_(r,N_(h,n,i,a),e[F_[h]+t],M_(h)),D_[h]),o);r=o,o=a,a=C_(i,10),i=n,n=A,A=I_(C_(T_(s,N_(79-h,u,c,l),e[R_[h]+t],U_(h)),j_[h]),f),s=f,f=l,l=C_(c,10),c=u,u=A}A=P_(this.h[1],i,l),this.h[1]=P_(this.h[2],a,f),this.h[2]=P_(this.h[3],o,s),this.h[3]=P_(this.h[4],r,u),this.h[4]=P_(this.h[0],n,c),this.h[0]=A},L_.prototype._digest=function(e){return"hex"===e?E_.toHex32(this.h,"little"):E_.split32(this.h,"little")};var F_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],R_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],D_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Q_=Xx,H_=tw;function K_(e,t,r){if(!(this instanceof K_))return new K_(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Q_.toArray(t,r))}var V_=K_;K_.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),H_(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},K_.prototype.update=function(e,t){return this.inner.update(e,t),this},K_.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=Jx;t.utils=Xx,t.common=nk,t.sha=sk,t.ripemd=B_,t.hmac=V_,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(),function(e){var t,r=Wx,n=Jx,i=px,a=cx.assert;function o(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new o(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=require("./precomputed/secp256k1")}catch(e){t=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}();var z_=Jx,q_=lx,G_=tw;function W_(e){if(!(this instanceof W_))return new W_(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=q_.toArray(e.entropy,e.entropyEnc||"hex"),r=q_.toArray(e.nonce,e.nonceEnc||"hex"),n=q_.toArray(e.pers,e.persEnc||"hex");G_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var J_=W_;W_.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},W_.prototype._hmac=function(){return new z_.hmac(this.hash,this.K)},W_.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},W_.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=q_.toArray(e,t),r=q_.toArray(r,n),G_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},W_.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=q_.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,q_.encode(a,t)};var X_=Mb.exports,Y_=cx.assert;function $_(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Z_=$_;$_.fromPublic=function(e,t,r){return t instanceof $_?t:new $_(e,{pub:t,pubEnc:r})},$_.fromPrivate=function(e,t,r){return t instanceof $_?t:new $_(e,{priv:t,privEnc:r})},$_.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},$_.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},$_.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},$_.prototype._importPrivate=function(e,t){this.priv=new X_(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},$_.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Y_(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Y_(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},$_.prototype.derive=function(e){return e.validate()||Y_(e.validate(),"public point not validated"),e.mul(this.priv).getX()},$_.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},$_.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},$_.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var eB=Mb.exports,tB=cx,rB=tB.assert;function nB(e,t){if(e instanceof nB)return e;this._importDER(e,t)||(rB(e.r&&e.s,"Signature without r or s"),this.r=new eB(e.r,16),this.s=new eB(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var iB=nB;function aB(){this.place=0}function oB(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function sB(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function uB(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}nB.prototype._importDER=function(e,t){e=tB.toArray(e,t);var r=new aB;if(48!==e[r.place++])return!1;var n=oB(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=oB(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=oB(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new eB(a),this.s=new eB(s),this.recoveryParam=null,!0},nB.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=sB(t),r=sB(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];uB(n,t.length),(n=n.concat(t)).push(2),uB(n,r.length);var i=n.concat(r),a=[48];return uB(a,i.length),a=a.concat(i),tB.encode(a,e)};var cB=Mb.exports,lB=J_,fB=cx,hB=Wx,AB=hx.exports,dB=fB.assert,pB=Z_,vB=iB;function gB(e){if(!(this instanceof gB))return new gB(e);"string"==typeof e&&(dB(Object.prototype.hasOwnProperty.call(hB,e),"Unknown curve "+e),e=hB[e]),e instanceof hB.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var yB=gB;gB.prototype.keyPair=function(e){return new pB(this,e)},gB.prototype.keyFromPrivate=function(e,t){return pB.fromPrivate(this,e,t)},gB.prototype.keyFromPublic=function(e,t){return pB.fromPublic(this,e,t)},gB.prototype.genKeyPair=function(e){e||(e={});for(var t=new lB({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||AB(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new cB(2));;){var i=new cB(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},gB.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},gB.prototype.sign=function(e,t,r,n){"object"==i(r)&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new cB(e,16));for(var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),s=e.toArray("be",a),u=new lB({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new cB(1)),l=0;;l++){var f=n.k?n.k(l):new cB(u.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var A=h.getX(),d=A.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(h.getY().isOdd()?1:0)|(0!==A.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new vB({r:d,s:p,recoveryParam:v})}}}}}},gB.prototype.verify=function(e,t,r,n){e=this._truncateToN(new cB(e,16)),r=this.keyFromPublic(r,n);var i=(t=new vB(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,s=a.invm(this.n),u=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},gB.prototype.recoverPubKey=function(e,t,r,n){dB((3&r)===r,"The recovery param is more than two bits"),t=new vB(t,n);var i=this.n,a=new cB(e),o=t.r,s=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var l=t.r.invm(i),f=i.sub(a).mul(l).umod(i),h=s.mul(l).umod(i);return this.g.mulAdd(f,o,h)},gB.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new vB(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var mB=cx,bB=mB.assert,wB=mB.parseBytes,xB=mB.cachedProperty;function kB(e,t){this.eddsa=e,this._secret=wB(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=wB(t.pub)}kB.fromPublic=function(e,t){return t instanceof kB?t:new kB(e,{pub:t})},kB.fromSecret=function(e,t){return t instanceof kB?t:new kB(e,{secret:t})},kB.prototype.secret=function(){return this._secret},xB(kB,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),xB(kB,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),xB(kB,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),xB(kB,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),xB(kB,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),xB(kB,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),kB.prototype.sign=function(e){return bB(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},kB.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},kB.prototype.getSecret=function(e){return bB(this._secret,"KeyPair is public only"),mB.encode(this.secret(),e)},kB.prototype.getPublic=function(e){return mB.encode(this.pubBytes(),e)};var _B=kB,BB=Mb.exports,EB=cx,SB=EB.assert,CB=EB.cachedProperty,IB=EB.parseBytes;function PB(e,t){this.eddsa=e,"object"!=i(t)&&(t=IB(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),SB(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof BB&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}CB(PB,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),CB(PB,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),CB(PB,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),CB(PB,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),PB.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},PB.prototype.toHex=function(){return EB.encode(this.toBytes(),"hex").toUpperCase()};var TB=PB,OB=Jx,LB=Wx,NB=cx,MB=NB.assert,UB=NB.parseBytes,FB=_B,RB=TB;function DB(e){if(MB("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof DB))return new DB(e);e=LB[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=OB.sha512}var jB=DB;DB.prototype.sign=function(e,t){e=UB(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),o=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),s=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:a})},DB.prototype.verify=function(e,t,r){e=UB(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},DB.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return NB.intFromLE(e.digest()).umod(this.curve.n)},DB.prototype.keyFromPublic=function(e){return FB.fromPublic(this,e)},DB.prototype.keyFromSecret=function(e){return FB.fromSecret(this,e)},DB.prototype.makeSignature=function(e){return e instanceof RB?e:new RB(this,e)},DB.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},DB.prototype.decodePoint=function(e){var t=(e=NB.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=NB.intFromLE(r);return this.curve.pointFromY(i,n)},DB.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},DB.prototype.decodeInt=function(e){return NB.intFromLE(e)},DB.prototype.isPoint=function(e){return e instanceof this.pointClass},function(e){var t=ux;t.version="6.5.4",t.utils=cx,t.rand=hx.exports,t.curve=px,t.curves=Wx,t.ec=yB,t.eddsa=jB}();var QB=new ux.ec("secp256k1"),HB=Zw,KB=nx,VB=function(e){f(r,e);var t=w(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"fromPrivatePKCS1",value:function(e){var t=KB.normalize("ECPrivateKey").decode(e,"der"),n=t.privateKey,i=t.publicKey.data,a=HB.convert(i,"raw","hex"),o=r.getPoint(a);return{d:n,x:o.x,y:o.y}}},{key:"fromPrivatePKCS8",value:function(e){var t=KB.normalize("PrivateKeyInfo"),n=KB.normalize("ECPrivateKey"),i=t.decode(e,"der"),a=n.decode(i.privateKey,"der"),o=a.privateKey,s=a.publicKey.data,u=HB.convert(s,"raw","hex"),c=r.getPoint(u);return{d:o,x:c.x,y:c.y}}},{key:"fromPublicPKCS8",value:function(e){var t=KB.normalize("PublicKeyInfo").decode(e,"der"),n=HB.convert(t.publicKey.data,"raw","hex");return r.getPoint(n)}},{key:"fromPrivateBlk",value:function(e){var t=QB.keyFromPrivate(e,"hex"),r=t.getPublic();return{d:HB.convert(t.priv,"bn","raw"),x:HB.convert(r.getX(),"bn","raw"),y:HB.convert(r.getY(),"bn","raw")}}},{key:"fromPublicBlk",value:function(e){return r.getPoint(e)}},{key:"fromJwk",value:function(e){var t=e.d,r=e.x,n=e.y;return{d:HB.convert(t,"base64url","raw"),x:HB.convert(r,"base64url","raw"),y:HB.convert(n,"base64url","raw")}}},{key:"toPrivatePKCS1",value:function(e){var t=this.params,n=t.namedCurve,i=t.keyVersion,a=e.d,o=e.x,s=e.y,u=KB.normalize("ECPrivateKey"),c=r.makePoint(o,s),l=u.encode({version:i,privateKey:a,parameters:{type:"namedCurve",value:n.split(".")},publicKey:{unused:0,data:c}},"der").toString("base64");return r.formatPem(l,"EC PRIVATE")}},{key:"toPrivatePKCS8",value:function(e){var t=this.params,n=t.oid,i=t.algParameters,a=t.keyVersion,o=t.infoVersion,s=e.d,u=e.x,c=e.y,l=KB.normalize("PrivateKeyInfo"),f=KB.normalize("ECPrivateKey"),h=r.makePoint(u,c),A=f.encode({version:a,privateKey:s,publicKey:{unused:0,data:h}},"der"),d=l.encode({version:o,algorithm:{algorithm:n.split("."),parameters:Ka.from(i,"hex")},privateKey:A},"der").toString("base64");return r.formatPem(d,"PRIVATE")}},{key:"toPublicPKCS8",value:function(e){var t=this.params,n=t.oid,i=t.algParameters,a=e.x,o=e.y,s=KB.normalize("PublicKeyInfo"),u=r.makePoint(a,o),c=s.encode({algorithm:{algorithm:n.split("."),parameters:Ka.from(i,"hex")},publicKey:{unused:0,data:u}},"der").toString("base64");return r.formatPem(c,"PUBLIC")}},{key:"toPrivateBlk",value:function(e){return e.d.toString("hex")}},{key:"toPublicBlk",value:function(e){return HB.convert(r.makePoint(e.x,e.y),"raw","hex")}},{key:"toPrivateJwk",value:function(e){var t=this.params,r=t.crv,n=t.kty,i=e.d,a=e.x,o=e.y;return{kty:n,crv:r,d:HB.convert(i,"raw","base64url"),x:HB.convert(a,"raw","base64url"),y:HB.convert(o,"raw","base64url")}}},{key:"toPublicJwk",value:function(e){var t=this.params,r=t.crv,n=t.kty,i=e.x,a=e.y;return{kty:n,crv:r,x:HB.convert(i,"raw","base64url"),y:HB.convert(a,"raw","base64url")}}}],[{key:"getPoint",value:function(e){var t=e.slice(2,(e.length-2)/2+2),r=e.slice((e.length-2)/2+2);return{x:HB.convert(t,"hex","raw"),y:HB.convert(r,"hex","raw")}}},{key:"makePoint",value:function(e,t){var r=Ka.from("04","hex");return Ka.concat([r,e,t],r.length+e.length+t.length)}}]),r}(Lb),zB=VB,qB=Zw,GB=nx,WB=function(e){f(r,e);var t=w(r);function r(){return s(this,r),t.apply(this,arguments)}return c(r,[{key:"fromPrivatePKCS8",value:function(e){var t=GB.normalize("PrivateKeyInfo").decode(e,"der").privateKey.slice(2);return{d:t,x:this.publicKeyFromPrivate(t)}}},{key:"fromPublicPKCS8",value:function(e){var t=GB.normalize("PublicKeyInfo").decode(e,"der");return{x:qB.convert(t.publicKey.data,"hex","raw")}}},{key:"fromJwk",value:function(e){var t=e.d,r=e.x;return{d:qB.convert(t,"base64url","raw"),x:qB.convert(r,"base64url","raw")}}},{key:"toPrivatePKCS8",value:function(e){var t=this.params,n=t.oid,i=t.infoVersion,a=e.d,o=GB.normalize("PrivateKeyInfo"),s=this.privateKeyPadding(a),u=o.encode({version:i,algorithm:{algorithm:n.split(".")},privateKey:s},"der").toString("base64");return r.formatPem(u,"PRIVATE")}},{key:"toPublicPKCS8",value:function(e){var t=this.params.oid,n=e.x,i=GB.normalize("PublicKeyInfo").encode({algorithm:{algorithm:t.split(".")},publicKey:{unused:0,data:qB.convert(n,"hex","raw")}},"der").toString("base64");return r.formatPem(i,"PUBLIC")}},{key:"toPrivateJwk",value:function(e){var t=this.params,r=t.crv,n=t.kty,i=e.d,a=e.x;return{kty:n,crv:r,d:qB.convert(i,"raw","base64url"),x:qB.convert(a,"raw","base64url")}}},{key:"toPublicJwk",value:function(e){var t=this.params,r=t.crv,n=t.kty,i=e.x;return{kty:n,crv:r,x:qB.convert(i,"raw","base64url")}}},{key:"privateKeyPadding",value:function(e){var t;if("Ed25519"!==this.params.crv)throw new Error("".concat(this.params.crv," is an invalid curve for EdDSA"));return t=Ka.from("0420","hex"),Ka.concat([t,e],t.length+e.length)}},{key:"publicKeyFromPrivate",value:function(e){if("Ed25519"===this.params.crv){var t=new ux.eddsa("ed25519");return Ka.from(t.keyFromSecret(e).getPublic())}throw new Error("".concat(this.params.crv," is an invalid curve for EdDSA"))}}]),r}(Lb),JB=sx,XB=zB,YB=WB,$B=new Tb;$B.define([{kty:"RSA",oid:"1.2.840.113549.1.1.1",algParameters:"0500",version:"two-prime"}],JB),$B.define([{kty:"EC",crv:"K-256",oid:"1.2.840.10045.2.1",namedCurve:"1.3.132.0.10",algParameters:"06052b8104000a",keyVersion:1,infoVersion:"two-prime"},{kty:"EC",crv:"P-256",oid:"1.2.840.10045.2.1",namedCurve:"1.2.840.10045.3.1.7",algParameters:"06082a8648ce3d030107",keyVersion:1,infoVersion:"two-prime"},{kty:"EC",crv:"P-384",oid:"1.2.840.10045.2.1",namedCurve:"1.3.132.0.34",algParameters:"06052b81040022",keyVersion:1,infoVersion:"two-prime"},{kty:"EC",crv:"P-521",oid:"1.2.840.10045.2.1",namedCurve:"1.3.132.0.35",algParameters:"06052b81040023",keyVersion:1,infoVersion:"two-prime"}],XB),$B.define([{kty:"OKP",crv:"Ed25519",oid:"1.3.101.112",infoVersion:"two-prime"}],YB);var ZB=Cb,eE=Pb,tE=$B,rE=nx,nE=RegExp("\r?\n","g"),iE=function(){function e(t,r){if(s(this,e),!t)throw new ZB("key is required");if(!r)throw new ZB("options are required");var n=r.kty,i=r.format,a=r.selector,o=r.crv,u=r.oid;if(!r.kty)throw new ZB("options.kty is required");if(!r.format)throw new ZB("options.format is required");if(!r.selector)throw new ZB("options.selector is required");if(!r.crv&&!r.oid)throw new ZB("options.crv or options.oid is required");this.kty=n,this.format=i,this.selector=a,this.crv=o,this.oid=u,this.key=this.parseKey(t)}return c(e,[{key:"alg",get:function(){var e=this.kty,t=this.crv,r=this.oid;if(!this.algorithm){if(t)Object.defineProperty(this,"algorithm",{value:tE.normalize(e,"crv",t)});else{if(!r)throw new Error("Both crv and oid are undefined");Object.defineProperty(this,"algorithm",{value:tE.normalize(e,"oid",r)})}if(!this.algorithm)throw new Error("".concat(this.crv||this.oid," is not implemented yet"))}return this.algorithm}},{key:"parseKey",value:function(e){var t=this.alg,r=this.format,n=this.selector;if("pem"===r)switch(n){case"public_pkcs1":return t.fromPublicPKCS1(e);case"public_pkcs8":return t.fromPublicPKCS8(e);case"private_pkcs1":return t.fromPrivatePKCS1(e);case"private_pkcs8":return t.fromPrivatePKCS8(e);default:throw new Error("Invalid selector value")}if("jwk"===r)return t.fromJwk(e,n);if("blk"===r)switch(n){case"public":return t.fromPublicBlk(e);case"private":return t.fromPrivateBlk(e)}}},{key:"toJwk",value:function(e){var t=this.key,r=this.alg,n=this.selector;switch(e){case"public":return r.toPublicJwk(t);case"private":if(n.includes("public"))throw new ZB("Cannot export a private key from a public key");return r.toPrivateJwk(t);default:throw new Error("Invalid key selector")}}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"public_pkcs8",r=this.key,n=this.alg,i=this.selector;if("pem"===e)switch(t){case"public_pkcs1":return n.toPublicPKCS1(r);case"public_pkcs8":return n.toPublicPKCS8(r);case"private_pkcs1":if(i.includes("public"))throw new ZB("Cannot export a private key from a public key");return n.toPrivatePKCS1(r);case"private_pkcs8":if(i.includes("public"))throw new ZB("Cannot export a private key from a public key");return n.toPrivatePKCS8(r);default:throw new Error("Invalid key selector")}else if("jwk"===e)switch(t){case"public":return JSON.stringify(n.toPublicJwk(r));case"private":if(i.includes("public"))throw new ZB("Cannot export a private key from a public key");return JSON.stringify(n.toPrivateJwk(r));default:throw new Error("Invalid key selector")}else if("blk"===e)switch(t){case"private":if(i.includes("public"))throw new ZB("Cannot export a private key from a public key");return n.toPrivateBlk(r);case"public":return n.toPublicBlk(r);default:throw new Error("Invalid key selector")}throw new eE}}],[{key:"from",value:function(t,r){if(!t)throw new ZB("key is required");if(!r)throw new ZB("format is required");if("jwk"===r){var n;if("string"==typeof t)try{n=JSON.parse(t)}catch(t){throw new ZB("key is not a valid JWK")}else"object"==i(t)&&(n=t);var a,o=n,s=o.kty,u=o.crv;if(!s)throw new ZB("kty is required for JWK");if("EC"===s&&!u)throw new ZB("crv is required for EC JWK");"RSA"===s&&(a=tE.find((function(e){return e.kty===s})).oid);var c=n.d?"private":"public";return new e(n,{kty:s,crv:u,oid:a,format:r,selector:c})}if("pem"===r){if("string"!=typeof t)throw new ZB("key is not a valid PEM string");var l=t.split(nE),f=l.splice(0,1);l.splice(l.length-1,1);var h,A,d=l.join(""),p=/^-----BEGIN ((RSA|EC) )?(PUBLIC|PRIVATE) KEY-----$/.exec(f),v=p?p[2]:void 0,g=p?p[3]:void 0,y=Ka.from(d,"base64");if(!g)throw new ZB("key is not a valid PEM string");if(v){if("RSA"===v)g="PRIVATE"===g?"private_pkcs1":"public_pkcs1",h=tE.find((function(e){return e.kty===v})).oid;else if("EC"===v){var m;if("PRIVATE"===g)g="private_pkcs1",m=rE.normalize("".concat(v,"PrivateKey")).decode(y,"der");else if("PUBLIC"===g){g="public_pkcs1",m=rE.normalize("".concat(v,"PrivateKey")).decode(y,"der")}var b=m.parameters.value;A=tE.find((function(e){return e.namedCurve===b.join(".")})).crv}}else{var w,x=rE.normalize("PrivateKeyInfo"),k=rE.normalize("PublicKeyInfo");"PRIVATE"===g?(g="private_pkcs8",w=x.decode(y,"der")):"PUBLIC"===g&&(g="public_pkcs8",w=k.decode(y,"der"));var _=w.algorithm,B=_.algorithm,E=_.parameters;B=B.join("."),E=E?E.toString("hex"):void 0;var S=tE.find((function(e){return e.oid===B}));if(!(v=S?S.kty:void 0))throw new ZB("".concat(B," is not supported"));"RSA"===v||"OKP"===v?h=B:"EC"===v&&(A=tE.find((function(e){return e.algParameters===E})).crv)}return new e(y,{kty:v,oid:h,crv:A,format:r,selector:g})}if("blk"===r)return new e(t,{kty:"EC",crv:"K-256",format:r,selector:t.length>64?"public":"private"});throw new ZB("Invalid format ".concat(r))}}]),e}(),aE=iE,oE={exports:{}};!function(e,t){var r=Co,n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),a.prototype=Object.create(n.prototype),i(n,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(oE,oE.exports);var sE=oE.exports.Buffer,uE=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),a=i.charCodeAt(0);if(255!==t[a])throw new TypeError(i+" is ambiguous");t[a]=n}var o=e.length,s=e.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return sE.alloc(0);for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var a=(e.length-r)*u+1>>>0,c=new Uint8Array(a);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var f=0,h=a-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=o*c[h]>>>0,c[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,r++}for(var A=a-i;A!==a&&0===c[A];)A++;var d=sE.allocUnsafe(n+(a-A));d.fill(0,0,n);for(var p=n;A!==a;)d[p++]=c[A++];return d}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=sE.from(t)),!sE.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var u=(a-i)*c+1>>>0,l=new Uint8Array(u);i!==a;){for(var f=t[i],h=0,A=u-1;(0!==f||h<n)&&-1!==A;A--,h++)f+=256*l[A]>>>0,l[A]=f%o>>>0,f=f/o>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var d=u-n;d!==u&&0===l[d];)d++;for(var p=s.repeat(r);d<u;++d)p+=e.charAt(l[d]);return p},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+o+" character")}}},cE=uE("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),lE="Impossible case. Please create issue.",fE="The tweak was out of range or the resulted private key is invalid",hE="The tweak was out of range or equal to zero",AE="Private Key is invalid",dE="Public Key could not be parsed",pE="Public Key serialization error",vE="The sum of the public keys is not valid",gE="Signature could not be parsed",yE="The nonce generation function failed, or the private key was invalid",mE="Public key could not be recover",bE="Scalar was invalid (zero or overflow)";function wE(e,t){if(!e)throw new Error(t)}function xE(e,t,r){if(wE(t instanceof Uint8Array,"Expected ".concat(e," to be an Uint8Array")),void 0!==r)if(Array.isArray(r)){var n="Expected ".concat(e," to be an Uint8Array with length [").concat(r.join(", "),"]");wE(r.includes(t.length),n)}else{var i="Expected ".concat(e," to be an Uint8Array with length ").concat(r);wE(t.length===r,i)}}function kE(e){wE("Boolean"===BE(e),"Expected compressed to be a Boolean")}function _E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return new Uint8Array(e)},t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(e=e(t)),xE("output",e,t),e}function BE(e){return Object.prototype.toString.call(e).slice(8,-1)}var EE=new ux.ec("secp256k1"),SE=EE.curve,CE=SE.n.constructor;function IE(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new CE(t);if(r.cmp(SE.p)>=0)return null;var n=(r=r.toRed(SE.red)).redSqr().redIMul(r).redIAdd(SE.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),EE.keyPair({pub:{x:r,y:n}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new CE(t),i=new CE(r);if(n.cmp(SE.p)>=0||i.cmp(SE.p)>=0)return null;if(n=n.toRed(SE.red),i=i.toRed(SE.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(SE.b)).isZero()?EE.keyPair({pub:{x:n,y:i}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function PE(e,t){for(var r=t.encode(null,33===e.length),n=0;n<e.length;++n)e[n]=r[n]}var TE={contextRandomize:function(){return 0},privateKeyVerify:function(e){var t=new CE(e);return t.cmp(SE.n)<0&&!t.isZero()?0:1},privateKeyNegate:function(e){var t=new CE(e),r=SE.n.sub(t).umod(SE.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd:function(e,t){var r=new CE(t);if(r.cmp(SE.n)>=0)return 1;if(r.iadd(new CE(e)),r.cmp(SE.n)>=0&&r.isub(SE.n),r.isZero())return 1;var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul:function(e,t){var r=new CE(t);if(r.cmp(SE.n)>=0||r.isZero())return 1;r.imul(new CE(e)),r.cmp(SE.n)>=0&&(r=r.umod(SE.n));var n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:function(e){return null===IE(e)?1:0},publicKeyCreate:function(e,t){var r=new CE(t);return r.cmp(SE.n)>=0||r.isZero()?1:(PE(e,EE.keyFromPrivate(t).getPublic()),0)},publicKeyConvert:function(e,t){var r=IE(t);return null===r?1:(PE(e,r.getPublic()),0)},publicKeyNegate:function(e,t){var r=IE(t);if(null===r)return 1;var n=r.getPublic();return n.y=n.y.redNeg(),PE(e,n),0},publicKeyCombine:function(e,t){for(var r=new Array(t.length),n=0;n<t.length;++n)if(r[n]=IE(t[n]),null===r[n])return 1;for(var i=r[0].getPublic(),a=1;a<r.length;++a)i=i.add(r[a].pub);return i.isInfinity()?2:(PE(e,i),0)},publicKeyTweakAdd:function(e,t,r){var n=IE(t);if(null===n)return 1;if((r=new CE(r)).cmp(SE.n)>=0)return 2;var i=n.getPublic().add(SE.g.mul(r));return i.isInfinity()?2:(PE(e,i),0)},publicKeyTweakMul:function(e,t,r){var n=IE(t);return null===n?1:(r=new CE(r)).cmp(SE.n)>=0||r.isZero()?2:(PE(e,n.getPublic().mul(r)),0)},signatureNormalize:function(e){var t=new CE(e.subarray(0,32)),r=new CE(e.subarray(32,64));return t.cmp(SE.n)>=0||r.cmp(SE.n)>=0?1:(1===r.cmp(EE.nh)&&e.set(SE.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport:function(e,t){var r=t.subarray(0,32),n=t.subarray(32,64);if(new CE(r).cmp(SE.n)>=0)return 1;if(new CE(n).cmp(SE.n)>=0)return 1;var i=e.output,a=i.subarray(4,37);a[0]=0,a.set(r,1);for(var o=33,s=0;o>1&&0===a[s]&&!(128&a[s+1]);--o,++s);if(128&(a=a.subarray(s))[0])return 1;if(o>1&&0===a[0]&&!(128&a[1]))return 1;var u=i.subarray(39,72);u[0]=0,u.set(n,1);for(var c=33,l=0;c>1&&0===u[l]&&!(128&u[l+1]);--c,++l);return 128&(u=u.subarray(l))[0]||c>1&&0===u[0]&&!(128&u[1])?1:(e.outputlen=6+o+c,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+o]=2,i[5+o]=u.length,i.set(u,6+o),0)},signatureImport:function(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;var r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;var n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;var i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;var a=t.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");var o=new CE(i);o.cmp(SE.n)>=0&&(o=new CE(0));var s=new CE(t.subarray(6+r));return s.cmp(SE.n)>=0&&(s=new CE(0)),e.set(o.toArrayLike(Uint8Array,"be",32),0),e.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign:function(e,t,r,n,i){if(i){var a=i;i=function(e){var i=a(t,r,null,n,e);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new CE(i)}}var o,s=new CE(r);if(s.cmp(SE.n)>=0||s.isZero())return 1;try{o=EE.sign(t,r,{canonical:!0,k:i,pers:n})}catch(e){return 1}return e.signature.set(o.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(o.s.toArrayLike(Uint8Array,"be",32),32),e.recid=o.recoveryParam,0},ecdsaVerify:function(e,t,r){var n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new CE(n.r),a=new CE(n.s);if(i.cmp(SE.n)>=0||a.cmp(SE.n)>=0)return 1;if(1===a.cmp(EE.nh)||i.isZero()||a.isZero())return 3;var o=IE(r);if(null===o)return 2;var s=o.getPublic();return EE.verify(t,n,s)?0:3},ecdsaRecover:function(e,t,r,n){var i,a={r:t.slice(0,32),s:t.slice(32,64)},o=new CE(a.r),s=new CE(a.s);if(o.cmp(SE.n)>=0||s.cmp(SE.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;try{i=EE.recoverPubKey(n,a,r)}catch(e){return 2}return PE(e,i),0},ecdh:function(e,t,r,n,i,a,o){var s=IE(t);if(null===s)return 1;var u=new CE(r);if(u.cmp(SE.n)>=0||u.isZero())return 2;var c=s.getPublic().mul(u);if(void 0===i)for(var l=c.encode(null,!0),f=EE.hash().update(l).digest(),h=0;h<32;++h)e[h]=f[h];else{a||(a=new Uint8Array(32));for(var A=c.getX().toArray("be",32),d=0;d<32;++d)a[d]=A[d];o||(o=new Uint8Array(32));for(var p=c.getY().toArray("be",32),v=0;v<32;++v)o[v]=p[v];var g=i(a,o,n);if(!(g instanceof Uint8Array&&g.length===e.length))return 2;e.set(g)}return 0}},OE=function(e){return{contextRandomize:function(t){if(wE(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&xE("seed",t,32),1===e.contextRandomize(t))throw new Error("Unknow error on context randomization")},privateKeyVerify:function(t){return xE("private key",t,32),0===e.privateKeyVerify(t)},privateKeyNegate:function(t){switch(xE("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(lE)}},privateKeyTweakAdd:function(t,r){switch(xE("private key",t,32),xE("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(fE)}},privateKeyTweakMul:function(t,r){switch(xE("private key",t,32),xE("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(hE)}},publicKeyVerify:function(t){return xE("public key",t,[33,65]),0===e.publicKeyVerify(t)},publicKeyCreate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(xE("private key",t,32),kE(r),n=_E(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(AE);case 2:throw new Error(pE)}},publicKeyConvert:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(xE("public key",t,[33,65]),kE(r),n=_E(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(dE);case 2:throw new Error(pE)}},publicKeyNegate:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;switch(xE("public key",t,[33,65]),kE(r),n=_E(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(dE);case 2:throw new Error(lE);case 3:throw new Error(pE)}},publicKeyCombine:function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;wE(Array.isArray(t),"Expected public keys to be an Array"),wE(t.length>0,"Expected public keys array will have more than zero items");var i,a=L(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;xE("public key",o,[33,65])}}catch(e){a.e(e)}finally{a.f()}switch(kE(r),n=_E(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(dE);case 2:throw new Error(vE);case 3:throw new Error(pE)}},publicKeyTweakAdd:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(xE("public key",t,[33,65]),xE("tweak",r,32),kE(n),i=_E(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(dE);case 2:throw new Error(fE)}},publicKeyTweakMul:function(t,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;switch(xE("public key",t,[33,65]),xE("tweak",r,32),kE(n),i=_E(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(dE);case 2:throw new Error(hE)}},signatureNormalize:function(t){switch(xE("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(gE)}},signatureExport:function(t,r){xE("signature",t,64);var n={output:r=_E(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(gE);case 2:throw new Error(lE)}},signatureImport:function(t,r){switch(xE("signature",t),r=_E(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(gE);case 2:throw new Error(lE)}},ecdsaSign:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;xE("message",t,32),xE("private key",r,32),wE("Object"===BE(n),"Expected options to be an Object"),void 0!==n.data&&xE("options.data",n.data),void 0!==n.noncefn&&wE("Function"===BE(n.noncefn),"Expected options.noncefn to be a Function");var a={signature:i=_E(i,64),recid:null};switch(e.ecdsaSign(a,t,r,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(yE);case 2:throw new Error(lE)}},ecdsaVerify:function(t,r,n){switch(xE("signature",t,64),xE("message",r,32),xE("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(gE);case 2:throw new Error(dE)}},ecdsaRecover:function(t,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4?arguments[4]:void 0;switch(xE("signature",t,64),wE("Number"===BE(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),xE("message",n,32),kE(i),a=_E(a,i?33:65),e.ecdsaRecover(a,t,r,n)){case 0:return a;case 1:throw new Error(gE);case 2:throw new Error(mE);case 3:throw new Error(lE)}},ecdh:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;switch(xE("public key",t,[33,65]),xE("private key",r,32),wE("Object"===BE(n),"Expected options to be an Object"),void 0!==n.data&&xE("options.data",n.data),void 0!==n.hashfn?(wE("Function"===BE(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&xE("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&xE("options.ybuf",n.ybuf,32),xE("output",i)):i=_E(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(dE);case 2:throw new Error(bE)}}}}(TE),LE="undefined"==typeof Buffer?Ka:Buffer,NE={},ME={},UE={},FE={},RE={exports:{}},DE={},jE=Ea(Cf),QE=jE.EventEmitter;function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function KE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VE=Co.Buffer,zE=wd.inspect,qE=zE&&zE.custom||"inspect";function GE(e,t,r){VE.prototype.copy.call(e,t,r)}var WE=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return VE.alloc(0);for(var t=VE.allocUnsafe(e>>>0),r=this.head,n=0;r;)GE(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=VE.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:qE,value:function(e,t){return zE(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HE(Object(r),!0).forEach((function(t){KE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function JE(e,t){YE(e,t),XE(e)}function XE(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function YE(e,t){e.emit("error",t)}var $E={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,xc(YE,this,e)):xc(YE,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?xc(XE,r):(r._writableState.errorEmitted=!0,xc(JE,r,e)):xc(JE,r,e):t?(xc(XE,r),t(e)):xc(XE,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}},ZE={},eS={};function tS(e,t,r){r||(r=Error);var n=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=e,eS[e]=n}function rS(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}tS("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),tS("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,a,o;if("string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(rS(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(rS(t,"type"))}return o+". Received type ".concat(i(r))}),TypeError),tS("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),tS("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),tS("ERR_STREAM_PREMATURE_CLOSE","Premature close"),tS("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),tS("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),tS("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),tS("ERR_STREAM_WRITE_AFTER_END","write after end"),tS("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),tS("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),tS("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),ZE.codes=eS;var nS=ZE.codes.ERR_INVALID_OPT_VALUE,iS=function(e,t,r,n){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new nS(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384},aS={},oS=oE.exports.Buffer,sS=oS.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function uS(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(oS.isEncoding===sS||!sS(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=fS,this.end=hS,t=4;break;case"utf8":this.fillLast=lS,t=4;break;case"base64":this.text=AS,this.end=dS,t=3;break;default:return this.write=pS,void(this.end=vS)}this.lastNeed=0,this.lastTotal=0,this.lastChar=oS.allocUnsafe(t)}function cS(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function lS(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function fS(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function hS(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function AS(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function dS(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function pS(e){return e.toString(this.encoding)}function vS(e){return e&&e.length?this.write(e):""}aS.StringDecoder=uS,uS.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},uS.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},uS.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=cS(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=cS(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=cS(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},uS.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var gS=ZE.codes.ERR_STREAM_PREMATURE_CLOSE;function yS(){}var mS,bS=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(n||yS);var i=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){a=!1,s=!0,i||n.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){i=!1,c=!0,a||n.call(t)},f=function(e){n.call(t,e)},h=function(){var e;return i&&!c?(t._readableState&&t._readableState.ended||(e=new gS),n.call(t,e)):a&&!s?(t._writableState&&t._writableState.ended||(e=new gS),n.call(t,e)):void 0},A=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",h),t.req?A():t.on("request",A)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",A),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",h)}};function wS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xS=bS,kS=Symbol("lastResolve"),_S=Symbol("lastReject"),BS=Symbol("error"),ES=Symbol("ended"),SS=Symbol("lastPromise"),CS=Symbol("handlePromise"),IS=Symbol("stream");function PS(e,t){return{value:e,done:t}}function TS(e){var t=e[kS];if(null!==t){var r=e[IS].read();null!==r&&(e[SS]=null,e[kS]=null,e[_S]=null,t(PS(r,!1)))}}function OS(e){xc(TS,e)}var LS=Object.getPrototypeOf((function(){})),NS=Object.setPrototypeOf((mS={get stream(){return this[IS]},next:function(){var e=this,t=this[BS];if(null!==t)return Promise.reject(t);if(this[ES])return Promise.resolve(PS(void 0,!0));if(this[IS].destroyed)return new Promise((function(t,r){xc((function(){e[BS]?r(e[BS]):t(PS(void 0,!0))}))}));var r,n=this[SS];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[ES]?r(PS(void 0,!0)):t[CS](r,n)}),n)}}(n,this));else{var i=this[IS].read();if(null!==i)return Promise.resolve(PS(i,!1));r=new Promise(this[CS])}return this[SS]=r,r}},wS(mS,Symbol.asyncIterator,(function(){return this})),wS(mS,"return",(function(){var e=this;return new Promise((function(t,r){e[IS].destroy(null,(function(e){e?r(e):t(PS(void 0,!0))}))}))})),mS),LS),MS=function(e){var t,r=Object.create(NS,(wS(t={},IS,{value:e,writable:!0}),wS(t,kS,{value:null,writable:!0}),wS(t,_S,{value:null,writable:!0}),wS(t,BS,{value:null,writable:!0}),wS(t,ES,{value:e._readableState.endEmitted,writable:!0}),wS(t,CS,{value:function(e,t){var n=r[IS].read();n?(r[SS]=null,r[kS]=null,r[_S]=null,e(PS(n,!1))):(r[kS]=e,r[_S]=t)},writable:!0}),t));return r[SS]=null,xS(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[_S];return null!==t&&(r[SS]=null,r[kS]=null,r[_S]=null,t(e)),void(r[BS]=e)}var n=r[kS];null!==n&&(r[SS]=null,r[kS]=null,r[_S]=null,n(PS(void 0,!0))),r[ES]=!0})),e.on("readable",OS.bind(null,r)),r},US=function(){throw new Error("Readable.from is not available in the browser")},FS=DE;FS.Readable=iC,iC.ReadableState=nC,jE.EventEmitter;var RS,DS=function(e,t){return e.listeners(t).length},jS=QE,QS=Co.Buffer,HS=Ba.Uint8Array||function(){},KS=wd;RS=KS&&KS.debuglog?KS.debuglog("stream"):function(){};var VS,zS,qS,GS=WE,WS=$E,JS=iS,XS=ZE.codes,YS=XS.ERR_INVALID_ARG_TYPE,$S=XS.ERR_STREAM_PUSH_AFTER_EOF,ZS=XS.ERR_METHOD_NOT_IMPLEMENTED,eC=XS.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;Rb.exports(iC,jS);var tC=WS.errorOrDestroy,rC=["error","close","destroy","pause","resume"];function nC(e,t,r){e=e||{},"boolean"!=typeof r&&(r=t instanceof FS.Duplex),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=JS(this,e,"readableHighWaterMark",r),this.buffer=new GS,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(VS||(VS=aS.StringDecoder),this.decoder=new VS(e.encoding),this.encoding=e.encoding)}function iC(e){if(!(this instanceof iC))return new iC(e);var t=this instanceof FS.Duplex;this._readableState=new nC(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),jS.call(this)}function aC(e,t,r,n,i){RS("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(RS("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?uC(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,cC(e)))}}(e,o);else if(i||(a=function(e,t){var r,n;return n=t,QS.isBuffer(n)||n instanceof HS||"string"==typeof t||void 0===t||e.objectMode||(r=new YS("chunk",["string","Buffer","Uint8Array"],t)),r}(o,t)),a)tC(e,a);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===QS.prototype||(t=function(e){return QS.from(e)}(t)),n)o.endEmitted?tC(e,new eC):oC(e,o,t,!0);else if(o.ended)tC(e,new $S);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?oC(e,o,t,!1):lC(e,o)):oC(e,o,t,!1)}else n||(o.reading=!1,lC(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function oC(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&uC(e)),lC(e,t)}function sC(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function uC(e){var t=e._readableState;RS("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(RS("emitReadable",t.flowing),t.emittedReadable=!0,xc(cC,e))}function cC(e){var t=e._readableState;RS("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,pC(e)}function lC(e,t){t.readingMore||(t.readingMore=!0,xc(fC,e,t))}function fC(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(RS("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function hC(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function AC(e){RS("readable nexttick read 0"),e.read(0)}function dC(e,t){RS("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),pC(e),t.flowing&&!t.reading&&e.read(0)}function pC(e){var t=e._readableState;for(RS("flow",t.flowing);t.flowing&&null!==e.read(););}function vC(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function gC(e){var t=e._readableState;RS("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,xc(yC,t,e))}function yC(e,t){if(RS("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function mC(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(iC.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),iC.prototype.destroy=WS.destroy,iC.prototype._undestroy=WS.undestroy,iC.prototype._destroy=function(e,t){t(e)},iC.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=QS.from(e,t),t=""),r=!0),aC(this,e,t,!1,r)},iC.prototype.unshift=function(e){return aC(this,e,null,!0,!1)},iC.prototype.isPaused=function(){return!1===this._readableState.flowing},iC.prototype.setEncoding=function(e){VS||(VS=aS.StringDecoder);var t=new VS(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},iC.prototype.read=function(e){RS("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return RS("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?gC(this):uC(this),null;if(0===(e=sC(e,t))&&t.ended)return 0===t.length&&gC(this),null;var n,i=t.needReadable;return RS("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&RS("length less than watermark",i=!0),t.ended||t.reading?RS("reading or ended",i=!1):i&&(RS("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=sC(r,t))),null===(n=e>0?vC(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&gC(this)),null!==n&&this.emit("data",n),n},iC.prototype._read=function(e){tC(this,new ZS("_read()"))},iC.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,RS("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end||e===Mc.stdout||e===Mc.stderr?h:a;function a(){RS("onend"),e.end()}n.endEmitted?xc(i):r.once("end",i),e.on("unpipe",(function t(i,A){RS("onunpipe"),i===r&&A&&!1===A.hasUnpiped&&(A.hasUnpiped=!0,RS("cleanup"),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("drain",o),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",h),r.removeListener("data",u),s=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||o())}));var o=function(e){return function(){var t=e._readableState;RS("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&DS(e,"data")&&(t.flowing=!0,pC(e))}}(r);e.on("drain",o);var s=!1;function u(t){RS("ondata");var i=e.write(t);RS("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==mC(n.pipes,e))&&!s&&(RS("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function c(t){RS("onerror",t),h(),e.removeListener("error",c),0===DS(e,"error")&&tC(e,t)}function l(){e.removeListener("finish",f),h()}function f(){RS("onfinish"),e.removeListener("close",l),h()}function h(){RS("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",l),e.once("finish",f),e.emit("pipe",r),n.flowing||(RS("pipe resume"),r.resume()),e},iC.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=mC(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},iC.prototype.on=function(e,t){var r=jS.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,RS("on readable",n.length,n.reading),n.length?uC(this):n.reading||xc(AC,this))),r},iC.prototype.addListener=iC.prototype.on,iC.prototype.removeListener=function(e,t){var r=jS.prototype.removeListener.call(this,e,t);return"readable"===e&&xc(hC,this),r},iC.prototype.removeAllListeners=function(e){var t=jS.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||xc(hC,this),t},iC.prototype.resume=function(){var e=this._readableState;return e.flowing||(RS("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,xc(dC,e,t))}(this,e)),e.paused=!1,this},iC.prototype.pause=function(){return RS("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(RS("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},iC.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(RS("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){RS("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<rC.length;a++)e.on(rC[a],this.emit.bind(this,rC[a]));return this._read=function(t){RS("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(iC.prototype[Symbol.asyncIterator]=function(){return void 0===zS&&(zS=MS),zS(this)}),Object.defineProperty(iC.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(iC.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(iC.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),iC._fromList=vC,Object.defineProperty(iC.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(iC.from=function(e,t){return void 0===qS&&(qS=US),qS(iC,e,t)});function bC(e){try{if(!Ba.localStorage)return!1}catch(e){return!1}var t=Ba.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}var wC=DE;function xC(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}wC.Writable=HC,HC.WritableState=QC;var kC,_C=function(e,t){if(bC("noDeprecation"))return e;var r=!1;return function(){if(!r){if(bC("throwDeprecation"))throw new Error(t);bC("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}},BC=QE,EC=Co.Buffer,SC=Ba.Uint8Array||function(){},CC=$E,IC=iS,PC=ZE.codes,TC=PC.ERR_INVALID_ARG_TYPE,OC=PC.ERR_METHOD_NOT_IMPLEMENTED,LC=PC.ERR_MULTIPLE_CALLBACK,NC=PC.ERR_STREAM_CANNOT_PIPE,MC=PC.ERR_STREAM_DESTROYED,UC=PC.ERR_STREAM_NULL_VALUES,FC=PC.ERR_STREAM_WRITE_AFTER_END,RC=PC.ERR_UNKNOWN_ENCODING,DC=CC.errorOrDestroy;function jC(){}function QC(e,t,r){e=e||{},"boolean"!=typeof r&&(r=t instanceof wC.Duplex),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=IC(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new LC;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(xc(i,n),xc(WC,e,t),e._writableState.errorEmitted=!0,DC(e,n)):(i(n),e._writableState.errorEmitted=!0,DC(e,n),WC(e,t))}(e,r,n,t,i);else{var a=qC(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||zC(e,r),n?xc(VC,e,r,a,i):VC(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new xC(this)}function HC(e){var t=this instanceof wC.Duplex;if(!t&&!kC.call(HC,this))return new HC(e);this._writableState=new QC(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),BC.call(this)}function KC(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new MC("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function VC(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),WC(e,t)}function zC(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,KC(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new xC(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback;if(KC(e,t,!1,t.objectMode?1:u.length,u,c,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function qC(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function GC(e,t){e._final((function(r){t.pendingcb--,r&&DC(e,r),t.prefinished=!0,e.emit("prefinish"),WC(e,t)}))}function WC(e,t){var r=qC(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,xc(GC,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}Rb.exports(HC,BC),QC.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(QC.prototype,"buffer",{get:_C((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(kC=Function.prototype[Symbol.hasInstance],Object.defineProperty(HC,Symbol.hasInstance,{value:function(e){return!!kC.call(this,e)||this===HC&&e&&e._writableState instanceof QC}})):kC=function(e){return e instanceof this},HC.prototype.pipe=function(){DC(this,new NC)},HC.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,o=!i.objectMode&&(n=e,EC.isBuffer(n)||n instanceof SC);return o&&!EC.isBuffer(e)&&(e=function(e){return EC.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=jC),i.ending?function(e,t){var r=new FC;DC(e,r),xc(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new UC:"string"==typeof r||t.objectMode||(i=new TC("chunk",["string","Buffer"],r)),!i||(DC(e,i),xc(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=EC.from(t,r)),t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else KC(e,t,!1,s,n,i,a);return u}(this,i,o,e,t,r)),a},HC.prototype.cork=function(){this._writableState.corked++},HC.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||zC(this,e))},HC.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new RC(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(HC.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(HC.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),HC.prototype._write=function(e,t,r){r(new OC("_write()"))},HC.prototype._writev=null,HC.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,WC(e,t),r&&(t.finished?xc(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(HC.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(HC.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),HC.prototype.destroy=CC.destroy,HC.prototype._undestroy=CC.undestroy,HC.prototype._destroy=function(e,t){t(e)};var JC=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},XC=DE;XC.Duplex=eI,Rb.exports(eI,XC.Readable);for(var YC=JC(XC.Writable.prototype),$C=0;$C<YC.length;$C++){var ZC=YC[$C];eI.prototype[ZC]||(eI.prototype[ZC]=XC.Writable.prototype[ZC])}function eI(e){if(!(this instanceof eI))return new eI(e);XC.Readable.call(this,e),XC.Writable.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",tI)))}function tI(){this._writableState.ended||xc(rI,this)}function rI(e){e.end()}Object.defineProperty(eI.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(eI.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(eI.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(eI.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var nI=DE;nI.Transform=lI;var iI=ZE.codes,aI=iI.ERR_METHOD_NOT_IMPLEMENTED,oI=iI.ERR_MULTIPLE_CALLBACK,sI=iI.ERR_TRANSFORM_ALREADY_TRANSFORMING,uI=iI.ERR_TRANSFORM_WITH_LENGTH_0;function cI(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new oI);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function lI(e){if(!(this instanceof lI))return new lI(e);nI.Duplex.call(this,e),this._transformState={afterTransform:cI.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",fI)}function fI(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?hI(this,null,null):this._flush((function(t,r){hI(e,t,r)}))}function hI(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new uI;if(e._transformState.transforming)throw new sI;return e.push(null)}Rb.exports(lI,nI.Duplex),lI.prototype.push=function(e,t){return this._transformState.needTransform=!1,nI.Duplex.prototype.push.call(this,e,t)},lI.prototype._transform=function(e,t,r){r(new aI("_transform()"))},lI.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},lI.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},lI.prototype._destroy=function(e,t){nI.Duplex.prototype._destroy.call(this,e,(function(e){t(e)}))};var AI,dI=DE;function pI(e){if(!(this instanceof pI))return new pI(e);Transform.call(this,e)}dI.PassThrough=pI,Rb.exports(pI,dI.Transform),pI.prototype._transform=function(e,t,r){r(null,e)};var vI=ZE.codes,gI=vI.ERR_MISSING_ARGS,yI=vI.ERR_STREAM_DESTROYED;function mI(e){if(e)throw e}function bI(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var i=!1;e.on("close",(function(){i=!0})),void 0===AI&&(AI=bS),AI(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var a=!1;return function(t){if(!i&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new yI("pipe"))}}function wI(e){e()}function xI(e,t){return e.pipe(t)}function kI(e){return e.length?"function"!=typeof e[e.length-1]?mI:e.pop():mI}var _I=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=kI(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new gI("streams");var a=t.map((function(e,r){var o=r<t.length-1;return bI(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(wI),o||(a.forEach(wI),i(n))}))}));return t.reduce(xI)};!function(e,t){var r=DE;(t=RE.exports=r.Readable).Stream=r.Readable,t.Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.finished=bS,t.pipeline=_I}(0,RE.exports);var BI=oE.exports.Buffer,EI=RE.exports.Transform;function SI(e){EI.call(this),this._block=BI.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}(0,Rb.exports)(SI,EI),SI.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},SI.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},SI.prototype.update=function(e,t){if(function(e,t){if(!BI.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");BI.isBuffer(e)||(e=BI.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var a=0,o=8*e.length;o>0;++a)this._length[a]+=o,(o=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*o);return this},SI.prototype._update=function(){throw new Error("_update is not implemented")},SI.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},SI.prototype._digest=function(){throw new Error("_digest is not implemented")};var CI=SI,II=Rb.exports,PI=CI,TI=oE.exports.Buffer,OI=new Array(16);function LI(){PI.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function NI(e,t){return e<<t|e>>>32-t}function MI(e,t,r,n,i,a,o){return NI(e+(t&r|~t&n)+i+a|0,o)+t|0}function UI(e,t,r,n,i,a,o){return NI(e+(t&n|r&~n)+i+a|0,o)+t|0}function FI(e,t,r,n,i,a,o){return NI(e+(t^r^n)+i+a|0,o)+t|0}function RI(e,t,r,n,i,a,o){return NI(e+(r^(t|~n))+i+a|0,o)+t|0}II(LI,PI),LI.prototype._update=function(){for(var e=OI,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,a=this._d;r=MI(r,n,i,a,e[0],3614090360,7),a=MI(a,r,n,i,e[1],3905402710,12),i=MI(i,a,r,n,e[2],606105819,17),n=MI(n,i,a,r,e[3],3250441966,22),r=MI(r,n,i,a,e[4],4118548399,7),a=MI(a,r,n,i,e[5],1200080426,12),i=MI(i,a,r,n,e[6],2821735955,17),n=MI(n,i,a,r,e[7],4249261313,22),r=MI(r,n,i,a,e[8],1770035416,7),a=MI(a,r,n,i,e[9],2336552879,12),i=MI(i,a,r,n,e[10],4294925233,17),n=MI(n,i,a,r,e[11],2304563134,22),r=MI(r,n,i,a,e[12],1804603682,7),a=MI(a,r,n,i,e[13],4254626195,12),i=MI(i,a,r,n,e[14],2792965006,17),r=UI(r,n=MI(n,i,a,r,e[15],1236535329,22),i,a,e[1],4129170786,5),a=UI(a,r,n,i,e[6],3225465664,9),i=UI(i,a,r,n,e[11],643717713,14),n=UI(n,i,a,r,e[0],3921069994,20),r=UI(r,n,i,a,e[5],3593408605,5),a=UI(a,r,n,i,e[10],38016083,9),i=UI(i,a,r,n,e[15],3634488961,14),n=UI(n,i,a,r,e[4],3889429448,20),r=UI(r,n,i,a,e[9],568446438,5),a=UI(a,r,n,i,e[14],3275163606,9),i=UI(i,a,r,n,e[3],4107603335,14),n=UI(n,i,a,r,e[8],1163531501,20),r=UI(r,n,i,a,e[13],2850285829,5),a=UI(a,r,n,i,e[2],4243563512,9),i=UI(i,a,r,n,e[7],1735328473,14),r=FI(r,n=UI(n,i,a,r,e[12],2368359562,20),i,a,e[5],4294588738,4),a=FI(a,r,n,i,e[8],2272392833,11),i=FI(i,a,r,n,e[11],1839030562,16),n=FI(n,i,a,r,e[14],4259657740,23),r=FI(r,n,i,a,e[1],2763975236,4),a=FI(a,r,n,i,e[4],1272893353,11),i=FI(i,a,r,n,e[7],4139469664,16),n=FI(n,i,a,r,e[10],3200236656,23),r=FI(r,n,i,a,e[13],681279174,4),a=FI(a,r,n,i,e[0],3936430074,11),i=FI(i,a,r,n,e[3],3572445317,16),n=FI(n,i,a,r,e[6],76029189,23),r=FI(r,n,i,a,e[9],3654602809,4),a=FI(a,r,n,i,e[12],3873151461,11),i=FI(i,a,r,n,e[15],530742520,16),r=RI(r,n=FI(n,i,a,r,e[2],3299628645,23),i,a,e[0],4096336452,6),a=RI(a,r,n,i,e[7],1126891415,10),i=RI(i,a,r,n,e[14],2878612391,15),n=RI(n,i,a,r,e[5],4237533241,21),r=RI(r,n,i,a,e[12],1700485571,6),a=RI(a,r,n,i,e[3],2399980690,10),i=RI(i,a,r,n,e[10],4293915773,15),n=RI(n,i,a,r,e[1],2240044497,21),r=RI(r,n,i,a,e[8],1873313359,6),a=RI(a,r,n,i,e[15],4264355552,10),i=RI(i,a,r,n,e[6],2734768916,15),n=RI(n,i,a,r,e[13],1309151649,21),r=RI(r,n,i,a,e[4],4149444226,6),a=RI(a,r,n,i,e[11],3174756917,10),i=RI(i,a,r,n,e[2],718787259,15),n=RI(n,i,a,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0},LI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=TI.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var DI=LI,jI=Co.Buffer,QI=Rb.exports,HI=CI,KI=new Array(16),VI=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zI=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],qI=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],GI=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],WI=[0,1518500249,1859775393,2400959708,2840853838],JI=[1352829926,1548603684,1836072691,2053994217,0];function XI(){HI.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function YI(e,t){return e<<t|e>>>32-t}function $I(e,t,r,n,i,a,o,s){return YI(e+(t^r^n)+a+o|0,s)+i|0}function ZI(e,t,r,n,i,a,o,s){return YI(e+(t&r|~t&n)+a+o|0,s)+i|0}function eP(e,t,r,n,i,a,o,s){return YI(e+((t|~r)^n)+a+o|0,s)+i|0}function tP(e,t,r,n,i,a,o,s){return YI(e+(t&n|r&~n)+a+o|0,s)+i|0}function rP(e,t,r,n,i,a,o,s){return YI(e+(t^(r|~n))+a+o|0,s)+i|0}QI(XI,HI),XI.prototype._update=function(){for(var e=KI,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,o=0|this._e,s=0|this._a,u=0|this._b,c=0|this._c,l=0|this._d,f=0|this._e,h=0;h<80;h+=1){var A,d;h<16?(A=$I(r,n,i,a,o,e[VI[h]],WI[0],qI[h]),d=rP(s,u,c,l,f,e[zI[h]],JI[0],GI[h])):h<32?(A=ZI(r,n,i,a,o,e[VI[h]],WI[1],qI[h]),d=tP(s,u,c,l,f,e[zI[h]],JI[1],GI[h])):h<48?(A=eP(r,n,i,a,o,e[VI[h]],WI[2],qI[h]),d=eP(s,u,c,l,f,e[zI[h]],JI[2],GI[h])):h<64?(A=tP(r,n,i,a,o,e[VI[h]],WI[3],qI[h]),d=ZI(s,u,c,l,f,e[zI[h]],JI[3],GI[h])):(A=rP(r,n,i,a,o,e[VI[h]],WI[4],qI[h]),d=$I(s,u,c,l,f,e[zI[h]],JI[4],GI[h])),r=o,o=a,a=YI(i,10),i=n,n=A,s=f,f=l,l=YI(c,10),c=u,u=d}var p=this._b+i+l|0;this._b=this._c+a+f|0,this._c=this._d+o+s|0,this._d=this._e+r+u|0,this._e=this._a+n+c|0,this._a=p},XI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=jI.alloc?jI.alloc(20):new jI(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var nP=XI,iP={exports:{}},aP=oE.exports.Buffer;function oP(e,t){this._block=aP.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}oP.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=aP.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,a=this._len,o=0;o<i;){for(var s=a%n,u=Math.min(i-o,n-s),c=0;c<u;c++)r[s+c]=e[o+c];o+=u,(a+=u)%n==0&&this._update(r)}return this._len+=i,this},oP.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},oP.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var sP=oP,uP=Rb.exports,cP=sP,lP=oE.exports.Buffer,fP=[1518500249,1859775393,-1894007588,-899497514],hP=new Array(80);function AP(){this.init(),this._w=hP,cP.call(this,64,56)}function dP(e){return e<<30|e>>>2}function pP(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}uP(AP,cP),AP.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},AP.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)r[u]=e.readInt32BE(4*u);for(;u<80;++u)r[u]=r[u-3]^r[u-8]^r[u-14]^r[u-16];for(var c=0;c<80;++c){var l=~~(c/20),f=0|((t=n)<<5|t>>>27)+pP(l,i,a,o)+s+r[c]+fP[l];s=o,o=a,a=dP(i),i=n,n=f}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},AP.prototype._hash=function(){var e=lP.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var vP=AP,gP=Rb.exports,yP=sP,mP=oE.exports.Buffer,bP=[1518500249,1859775393,-1894007588,-899497514],wP=new Array(80);function xP(){this.init(),this._w=wP,yP.call(this,64,56)}function kP(e){return e<<5|e>>>27}function _P(e){return e<<30|e>>>2}function BP(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}gP(xP,yP),xP.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},xP.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)r[u]=e.readInt32BE(4*u);for(;u<80;++u)r[u]=(t=r[u-3]^r[u-8]^r[u-14]^r[u-16])<<1|t>>>31;for(var c=0;c<80;++c){var l=~~(c/20),f=kP(n)+BP(l,i,a,o)+s+r[c]+bP[l]|0;s=o,o=a,a=_P(i),i=n,n=f}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},xP.prototype._hash=function(){var e=mP.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var EP=xP,SP=Rb.exports,CP=sP,IP=oE.exports.Buffer,PP=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],TP=new Array(64);function OP(){this.init(),this._w=TP,CP.call(this,64,56)}function LP(e,t,r){return r^e&(t^r)}function NP(e,t,r){return e&t|r&(e|t)}function MP(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function UP(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function FP(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function RP(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}SP(OP,CP),OP.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},OP.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,o=0|this._e,s=0|this._f,u=0|this._g,c=0|this._h,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<64;++l)t[l]=RP(t[l-2])+t[l-7]+FP(t[l-15])+t[l-16]|0;for(var f=0;f<64;++f){var h=c+UP(o)+LP(o,s,u)+PP[f]+t[f]|0,A=MP(r)+NP(r,n,i)|0;c=u,u=s,s=o,o=a+h|0,a=i,i=n,n=r,r=h+A|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0,this._f=s+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0},OP.prototype._hash=function(){var e=IP.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var DP=OP,jP=Rb.exports,QP=DP,HP=sP,KP=oE.exports.Buffer,VP=new Array(64);function zP(){this.init(),this._w=VP,HP.call(this,64,56)}jP(zP,QP),zP.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},zP.prototype._hash=function(){var e=KP.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var qP=zP,GP=Rb.exports,WP=sP,JP=oE.exports.Buffer,XP=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],YP=new Array(160);function $P(){this.init(),this._w=YP,WP.call(this,128,112)}function ZP(e,t,r){return r^e&(t^r)}function eT(e,t,r){return e&t|r&(e|t)}function tT(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function rT(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function nT(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function iT(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function aT(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function oT(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function sT(e,t){return e>>>0<t>>>0?1:0}GP($P,WP),$P.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},$P.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,a=0|this._dh,o=0|this._eh,s=0|this._fh,u=0|this._gh,c=0|this._hh,l=0|this._al,f=0|this._bl,h=0|this._cl,A=0|this._dl,d=0|this._el,p=0|this._fl,v=0|this._gl,g=0|this._hl,y=0;y<32;y+=2)t[y]=e.readInt32BE(4*y),t[y+1]=e.readInt32BE(4*y+4);for(;y<160;y+=2){var m=t[y-30],b=t[y-30+1],w=nT(m,b),x=iT(b,m),k=aT(m=t[y-4],b=t[y-4+1]),_=oT(b,m),B=t[y-14],E=t[y-14+1],S=t[y-32],C=t[y-32+1],I=x+E|0,P=w+B+sT(I,x)|0;P=(P=P+k+sT(I=I+_|0,_)|0)+S+sT(I=I+C|0,C)|0,t[y]=P,t[y+1]=I}for(var T=0;T<160;T+=2){P=t[T],I=t[T+1];var O=eT(r,n,i),L=eT(l,f,h),N=tT(r,l),M=tT(l,r),U=rT(o,d),F=rT(d,o),R=XP[T],D=XP[T+1],j=ZP(o,s,u),Q=ZP(d,p,v),H=g+F|0,K=c+U+sT(H,g)|0;K=(K=(K=K+j+sT(H=H+Q|0,Q)|0)+R+sT(H=H+D|0,D)|0)+P+sT(H=H+I|0,I)|0;var V=M+L|0,z=N+O+sT(V,M)|0;c=u,g=v,u=s,v=p,s=o,p=d,o=a+K+sT(d=A+H|0,A)|0,a=i,A=h,i=n,h=f,n=r,f=l,r=K+z+sT(l=H+V|0,H)|0}this._al=this._al+l|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+A|0,this._el=this._el+d|0,this._fl=this._fl+p|0,this._gl=this._gl+v|0,this._hl=this._hl+g|0,this._ah=this._ah+r+sT(this._al,l)|0,this._bh=this._bh+n+sT(this._bl,f)|0,this._ch=this._ch+i+sT(this._cl,h)|0,this._dh=this._dh+a+sT(this._dl,A)|0,this._eh=this._eh+o+sT(this._el,d)|0,this._fh=this._fh+s+sT(this._fl,p)|0,this._gh=this._gh+u+sT(this._gl,v)|0,this._hh=this._hh+c+sT(this._hl,g)|0},$P.prototype._hash=function(){var e=JP.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var uT=$P,cT=Rb.exports,lT=uT,fT=sP,hT=oE.exports.Buffer,AT=new Array(160);function dT(){this.init(),this._w=AT,fT.call(this,128,112)}cT(dT,lT),dT.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},dT.prototype._hash=function(){var e=hT.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var pT=dT,vT=iP.exports=function(e){e=e.toLowerCase();var t=vT[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};vT.sha=vP,vT.sha1=EP,vT.sha224=qP,vT.sha256=DP,vT.sha384=pT,vT.sha512=uT;var gT=Ea(mh),yT=Ea(Mf),mT=oE.exports.Buffer,bT=gT.Transform,wT=yT.StringDecoder;function xT(e){bT.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}(0,Rb.exports)(xT,bT),xT.prototype.update=function(e,t,r){"string"==typeof e&&(e=mT.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},xT.prototype.setAutoPadding=function(){},xT.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},xT.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},xT.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},xT.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},xT.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},xT.prototype._finalOrDigest=function(e){var t=this.__final()||mT.alloc(0);return e&&(t=this._toString(t,e,!0)),t},xT.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new wT(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var kT=xT,_T=Rb.exports,BT=DI,ET=nP,ST=iP.exports,CT=kT;function IT(e){CT.call(this,"digest"),this._hash=e}_T(IT,CT),IT.prototype._update=function(e){this._hash.update(e)},IT.prototype._final=function(){return this._hash.digest()};var PT=function(e){return"md5"===(e=e.toLowerCase())?new BT:"rmd160"===e||"ripemd160"===e?new ET:new IT(ST(e))},TT=Rb.exports,OT=oE.exports.Buffer,LT=kT,NT=OT.alloc(128);function MT(e,t){LT.call(this,"digest"),"string"==typeof t&&(t=OT.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=OT.concat([t,NT],64));for(var r=this._ipad=OT.allocUnsafe(64),n=this._opad=OT.allocUnsafe(64),i=0;i<64;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}TT(MT,LT),MT.prototype._update=function(e){this._hash.push(e)},MT.prototype._final=function(){var e=this._alg(OT.concat(this._hash));return this._alg(OT.concat([this._opad,e]))};var UT=MT,FT=DI,RT=Rb.exports,DT=UT,jT=kT,QT=oE.exports.Buffer,HT=function(e){return(new FT).update(e).digest()},KT=nP,VT=iP.exports,zT=QT.alloc(128);function qT(e,t){jT.call(this,"digest"),"string"==typeof t&&(t=QT.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new KT:VT(e)).update(t).digest():t.length<r&&(t=QT.concat([t,zT],r));for(var n=this._ipad=QT.allocUnsafe(r),i=this._opad=QT.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new KT:VT(e),this._hash.update(n)}RT(qT,jT),qT.prototype._update=function(e){this._hash.update(e)},qT.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new KT:VT(this._alg)).update(this._opad).update(e).digest()};var GT=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new qT("rmd160",t):"md5"===e?new DT(HT,t):new qT(e,t)};Object.defineProperty(FE,"__esModule",{value:!0});var WT=PT,JT=GT;FE.hash160=function(e){var t=WT("sha256").update(e).digest();try{return WT("rmd160").update(t).digest()}catch(e){return WT("ripemd160").update(t).digest()}},FE.hmacSHA512=function(e,t){return JT("sha512",e).update(t).digest()};var XT=cE,YT=oE.exports.Buffer,$T=PT,ZT=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return XT.encode(YT.concat([t,r],t.length+4))},decode:function(e){var r=t(XT.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=XT.decodeUnsafe(e);if(r)return t(r)}}}((function(e){var t=$T("sha256").update(e).digest();return $T("sha256").update(t).digest()})),eO=GT,tO=Ka.alloc(1,1),rO=Ka.alloc(1,0),nO=Mb.exports,iO=new ux.ec("secp256k1"),aO=function(e,t,r,n,i){var a=Ka.alloc(32,0),o=Ka.alloc(32,1);a=eO("sha256",a).update(o).update(rO).update(t).update(e).update(i||"").digest(),o=eO("sha256",a).update(o).digest(),a=eO("sha256",a).update(o).update(tO).update(t).update(e).update(i||"").digest(),o=eO("sha256",a).update(o).digest();for(var s=o=eO("sha256",a).update(o).digest();!n(s)||!r(s);)a=eO("sha256",a).update(o).update(rO).digest(),o=eO("sha256",a).update(o).digest(),s=o=eO("sha256",a).update(o).digest();return s},oO=Ka.alloc(32,0),sO=Ka.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),uO=Ka.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex"),cO=iO.curve.n,lO=cO.shrn(1),fO=iO.curve.g;function hO(e){return Eo(e)&&32===e.length}function AO(e){return!!hO(e)&&e.compare(sO)<0}function dO(e){if(!Eo(e))return!1;if(e.length<33)return!1;var t=e[0],r=e.slice(1,33);if(0===r.compare(oO))return!1;if(r.compare(uO)>=0)return!1;if((2===t||3===t)&&33===e.length){try{bO(e)}catch(e){return!1}return!0}var n=e.slice(33);return 0!==n.compare(oO)&&!(n.compare(uO)>=0)&&4===t&&65===e.length}function pO(e){return 4!==e[0]}function vO(e){return!!hO(e)&&e.compare(oO)>0&&e.compare(sO)<0}function gO(e,t){return void 0===e&&void 0!==t?pO(t):void 0===e||e}function yO(e){return new nO(e)}function mO(e){return e.toArrayLike(Ka,"be",32)}function bO(e){return iO.curve.decodePoint(e)}function wO(e,t){return Ka.from(e._encode(t))}function xO(e,t,r){if(!hO(e))throw new TypeError("Expected Hash");if(!vO(t))throw new TypeError("Expected Private");if(void 0!==r&&!hO(r))throw new TypeError("Expected Extra Data (32 bytes)");var n,i,a=yO(t),o=yO(e);aO(e,t,(function(e){var t=yO(e),r=fO.mul(t);return!r.isInfinity()&&(0!==(n=r.x.umod(cO)).isZero()&&0!==(i=t.invm(cO).mul(o.add(a.mul(n))).umod(cO)).isZero())}),vO,r),i.cmp(lO)>0&&(i=cO.sub(i));var s=Ka.allocUnsafe(64);return mO(n).copy(s,0),mO(i).copy(s,32),s}var kO={isPoint:dO,isPointCompressed:function(e){return!!dO(e)&&pO(e)},isPrivate:vO,pointAdd:function(e,t,r){if(!dO(e))throw new TypeError("Expected Point");if(!dO(t))throw new TypeError("Expected Point");var n=bO(e),i=bO(t),a=n.add(i);return a.isInfinity()?null:wO(a,gO(r,e))},pointAddScalar:function(e,t,r){if(!dO(e))throw new TypeError("Expected Point");if(!AO(t))throw new TypeError("Expected Tweak");var n=gO(r,e),i=bO(e);if(0===t.compare(oO))return wO(i,n);var a=yO(t),o=fO.mul(a),s=i.add(o);return s.isInfinity()?null:wO(s,n)},pointCompress:function(e,t){if(!dO(e))throw new TypeError("Expected Point");var r=bO(e);if(r.isInfinity())throw new TypeError("Expected Point");return wO(r,gO(t,e))},pointFromScalar:function(e,t){if(!vO(e))throw new TypeError("Expected Private");var r=yO(e),n=fO.mul(r);return n.isInfinity()?null:wO(n,gO(t))},pointMultiply:function(e,t,r){if(!dO(e))throw new TypeError("Expected Point");if(!AO(t))throw new TypeError("Expected Tweak");var n=gO(r,e),i=bO(e),a=yO(t),o=i.mul(a);return o.isInfinity()?null:wO(o,n)},privateAdd:function(e,t){if(!vO(e))throw new TypeError("Expected Private");if(!AO(t))throw new TypeError("Expected Tweak");var r=yO(e),n=yO(t),i=mO(r.add(n).umod(cO));return vO(i)?i:null},privateSub:function(e,t){if(!vO(e))throw new TypeError("Expected Private");if(!AO(t))throw new TypeError("Expected Tweak");var r=yO(e),n=yO(t),i=mO(r.sub(n).umod(cO));return vO(i)?i:null},sign:function(e,t){return xO(e,t)},signWithEntropy:function(e,t,r){return xO(e,t,r)},verify:function(e,t,r,n){if(!hO(e))throw new TypeError("Expected Hash");if(!dO(t))throw new TypeError("Expected Point");if(!function(e){var t=e.slice(0,32),r=e.slice(32,64);return Eo(e)&&64===e.length&&t.compare(sO)<0&&r.compare(sO)<0}(r))throw new TypeError("Expected Signature");var i=bO(t),a=yO(r.slice(0,32)),o=yO(r.slice(32,64));if(n&&o.cmp(lO)>0)return!1;if(a.gtn(0)<=0)return!1;if(o.gtn(0)<=0)return!1;var s=yO(e),u=o.invm(cO),c=s.mul(u).umod(cO),l=a.mul(u).umod(cO),f=fO.mulAdd(c,i,l);return!f.isInfinity()&&f.x.umod(cO).eq(a)}},_O={Array:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return null!=e&&e.constructor===Array})),Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==i(e)},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var BO in _O.Null=_O.Nil,_O)_O[BO].toJSON=function(e){return e}.bind(null,BO);var EO=_O,SO=EO;function CO(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function IO(e){return SO.Nil(e)?"":CO(e.constructor)}function PO(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function TO(e){return SO.Function(e)?e.toJSON?e.toJSON():CO(e):SO.Array(e)?"Array":e&&SO.Object(e)?"Object":void 0!==e?e:""}function OO(e,t,r){var n=function(e){return SO.Function(e)?"":SO.String(e)?JSON.stringify(e):e&&SO.Object(e)?"":e}(t);return"Expected "+TO(e)+", got"+(""!==r?" "+r:"")+(""!==n?" "+n:"")}function LO(e,t,r){r=r||IO(t),this.message=OO(e,t,r),PO(this,LO),this.__type=e,this.__value=t,this.__valueTypeName=r}function NO(e,t,r,n,i){e?(i=i||IO(n),this.message=function(e,t,r,n,i){var a='" of type ';return"key"===t&&(a='" with key type '),OO('property "'+TO(r)+a+TO(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',PO(this,LO),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}LO.prototype=Object.create(Error.prototype),LO.prototype.constructor=LO,NO.prototype=Object.create(Error.prototype),NO.prototype.constructor=LO;var MO={TfTypeError:LO,TfPropertyTypeError:NO,tfCustomError:function(e,t){return new LO(e,{},t)},tfSubError:function(e,t,r){return e instanceof NO?(t=t+"."+e.__property,e=new NO(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof LO&&(e=new NO(e.__type,t,r,e.__value,e.__valueTypeName)),PO(e),e},tfJSON:TO,getValueTypeName:IO},UO=EO,FO=MO;function RO(e){return Eo(e)}function DO(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function jO(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw FO.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var QO=jO.bind(null,UO.Array),HO=jO.bind(null,RO),KO=jO.bind(null,DO),VO=jO.bind(null,UO.String),zO=Math.pow(2,53)-1,qO={ArrayN:QO,Buffer:RO,BufferN:HO,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:DO,HexN:KO,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-zO&&e<=zO&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||UO.Number,n.toJSON=function(){return"".concat(r.toJSON()," between [").concat(e,", ").concat(t,"]")},n},StringN:VO,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=zO&&Math.floor(e)===e}};for(var GO in qO)qO[GO].toJSON=function(e){return e}.bind(null,GO);var WO=qO,JO=EO,XO=MO.tfJSON,YO=MO.TfTypeError,$O=MO.TfPropertyTypeError,ZO=MO.tfSubError,eL=MO.getValueTypeName,tL={arrayOf:function(e,t){function r(r,n){return!!JO.Array(r)&&!JO.Nil(r)&&!(void 0!==t.minLength&&r.length<t.minLength)&&!(void 0!==t.maxLength&&r.length>t.maxLength)&&(void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return nL(e,t,n)}catch(e){throw ZO(e,r)}}))}return e=rL(e),t=t||{},r.toJSON=function(){var r="["+XO(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return JO.Nil(r)||t(r,n,e)}return t=rL(t),r.toJSON=function(){return"?"+XO(t)},r},map:function(e,t){function r(r,n){if(!JO.Object(r))return!1;if(JO.Nil(r))return!1;for(var i in r){try{t&&nL(t,i,n)}catch(e){throw ZO(e,i,"key")}try{var a=r[i];nL(e,a,n)}catch(e){throw ZO(e,i)}}return!0}return e=rL(e),t&&(t=rL(t)),r.toJSON=t?function(){return"{"+XO(t)+": "+XO(e)+"}"}:function(){return"{"+XO(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=rL(e[r]);function n(e,r){if(!JO.Object(e))return!1;if(JO.Nil(e))return!1;var n;try{for(n in t)nL(t[n],e[n],r)}catch(e){throw ZO(e,n)}if(r)for(n in e)if(!t[n])throw new $O(void 0,n);return!0}return n.toJSON=function(){return XO(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(rL);function t(t,r){return e.some((function(e){try{return nL(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(XO).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(rL);function t(t,r){return e.every((function(e){try{return nL(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(XO).join(" & ")},t},quacksLike:function(e){function t(t){return e===eL(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(rL);function t(t,r){return!JO.Nil(t)&&!JO.Nil(t.length)&&(!r||t.length===e.length)&&e.every((function(e,n){try{return nL(e,t[n],r)}catch(e){throw ZO(e,n)}}))}return t.toJSON=function(){return"("+e.map(XO).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function rL(e){if(JO.String(e))return"?"===e[0]?tL.maybe(e.slice(1)):JO[e]||tL.quacksLike(e);if(e&&JO.Object(e)){if(JO.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return tL.arrayOf(e[0])}return tL.object(e)}return JO.Function(e)?e:tL.value(e)}function nL(e,t,r,n){if(JO.Function(e)){if(e(t,r))return!0;throw new YO(n||e,t)}return nL(rL(e),t,r)}for(var iL in tL.oneOf=tL.anyOf,JO)nL[iL]=JO[iL];for(iL in tL)nL[iL]=tL[iL];var aL=WO;for(iL in aL)nL[iL]=aL[iL];nL.compile=rL,nL.TfTypeError=YO,nL.TfPropertyTypeError=$O;var oL=nL,sL=ZT;function uL(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function cL(e,t,r){var n=new Ka(r?34:33);return n.writeUInt8(e,0),t.copy(n,1),r&&(n[33]=1),n}var lL={decode:function(e,t){return uL(sL.decode(e),t)},decodeRaw:uL,encode:function(e,t,r){return"number"==typeof e?sL.encode(cL(e,t,r)):sL.encode(cL(e.version,e.privateKey,e.compressed))},encodeRaw:cL};Object.defineProperty(UE,"__esModule",{value:!0});var fL=FE,hL=ZT,AL=kO,dL=oL,pL=lL,vL=dL.BufferN(32),gL=dL.compile({wif:dL.UInt8,bip32:{public:dL.UInt32,private:dL.UInt32}}),yL={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},mL=Math.pow(2,31)-1;function bL(e){return dL.String(e)&&null!==e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function wL(e){return dL.UInt32(e)&&e<=mL}var xL=function(){function e(t,r,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;s(this,e),this.__D=t,this.__Q=r,this.chainCode=n,this.network=i,this.__DEPTH=a,this.__INDEX=o,this.__PARENT_FINGERPRINT=u,dL(gL,i),this.lowR=!1}return c(e,[{key:"depth",get:function(){return this.__DEPTH}},{key:"index",get:function(){return this.__INDEX}},{key:"parentFingerprint",get:function(){return this.__PARENT_FINGERPRINT}},{key:"publicKey",get:function(){return void 0===this.__Q&&(this.__Q=AL.pointFromScalar(this.__D,!0)),this.__Q}},{key:"privateKey",get:function(){return this.__D}},{key:"identifier",get:function(){return fL.hash160(this.publicKey)}},{key:"fingerprint",get:function(){return this.identifier.slice(0,4)}},{key:"compressed",get:function(){return!0}},{key:"isNeutered",value:function(){return void 0===this.__D}},{key:"neutered",value:function(){return BL(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}},{key:"toBase58",value:function(){var e=this.network,t=this.isNeutered()?e.bip32.public:e.bip32.private,r=Ka.allocUnsafe(78);return r.writeUInt32BE(t,0),r.writeUInt8(this.depth,4),r.writeUInt32BE(this.parentFingerprint,5),r.writeUInt32BE(this.index,9),this.chainCode.copy(r,13),this.isNeutered()?this.publicKey.copy(r,45):(r.writeUInt8(0,45),this.privateKey.copy(r,46)),hL.encode(r)}},{key:"toWIF",value:function(){if(!this.privateKey)throw new TypeError("Missing private key");return pL.encode(this.network.wif,this.privateKey,!0)}},{key:"derive",value:function(e){dL(dL.UInt32,e);var t=e>=2147483648,r=Ka.allocUnsafe(37);if(t){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");r[0]=0,this.privateKey.copy(r,1),r.writeUInt32BE(e,33)}else this.publicKey.copy(r,0),r.writeUInt32BE(e,33);var n,i=fL.hmacSHA512(this.chainCode,r),a=i.slice(0,32),o=i.slice(32);if(!AL.isPrivate(a))return this.derive(e+1);if(this.isNeutered()){var s=AL.pointAddScalar(this.publicKey,a,!0);if(null===s)return this.derive(e+1);n=BL(s,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}else{var u=AL.privateAdd(this.privateKey,a);if(null==u)return this.derive(e+1);n=_L(u,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}return n}},{key:"deriveHardened",value:function(e){return dL(wL,e),this.derive(e+2147483648)}},{key:"derivePath",value:function(e){dL(bL,e);var t=e.split("/");if("m"===t[0]){if(this.parentFingerprint)throw new TypeError("Expected master, got child");t=t.slice(1)}return t.reduce((function(e,t){var r;return"'"===t.slice(-1)?(r=parseInt(t.slice(0,-1),10),e.deriveHardened(r)):(r=parseInt(t,10),e.derive(r))}),this)}},{key:"sign",value:function(e,t){if(!this.privateKey)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return AL.sign(e,this.privateKey);for(var r=AL.sign(e,this.privateKey),n=Ka.alloc(32,0),i=0;r[0]>127;)i++,n.writeUIntLE(i,0,6),r=AL.signWithEntropy(e,this.privateKey,n);return r}},{key:"verify",value:function(e,t){return AL.verify(e,this.publicKey,t)}}]),e}();function kL(e,t,r){return _L(e,t,r)}function _L(e,t,r,n,i,a){if(dL({privateKey:vL,chainCode:vL},{privateKey:e,chainCode:t}),r=r||yL,!AL.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return new xL(e,void 0,t,r,n,i,a)}function BL(e,t,r,n,i,a){if(dL({publicKey:dL.BufferN(33),chainCode:vL},{publicKey:e,chainCode:t}),r=r||yL,!AL.isPoint(e))throw new TypeError("Point is not on the curve");return new xL(void 0,e,t,r,n,i,a)}UE.fromBase58=function(e,t){var r=hL.decode(e);if(78!==r.length)throw new TypeError("Invalid buffer length");t=t||yL;var n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");var i=r[4],a=r.readUInt32BE(5);if(0===i&&0!==a)throw new TypeError("Invalid parent fingerprint");var o=r.readUInt32BE(9);if(0===i&&0!==o)throw new TypeError("Invalid index");var s,u=r.slice(13,45);if(n===t.bip32.private){if(0!==r.readUInt8(45))throw new TypeError("Invalid private key");s=_L(r.slice(46,78),u,t,i,o,a)}else s=BL(r.slice(45,78),u,t,i,o,a);return s},UE.fromPrivateKey=kL,UE.fromPublicKey=function(e,t,r){return BL(e,t,r)},UE.fromSeed=function(e,t){if(dL(dL.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||yL;var r=fL.hmacSHA512(Ka.from("Bitcoin seed","utf8"),e);return kL(r.slice(0,32),r.slice(32),t)},Object.defineProperty(ME,"__esModule",{value:!0});var EL=UE;ME.fromSeed=EL.fromSeed,ME.fromBase58=EL.fromBase58,ME.fromPublicKey=EL.fromPublicKey,ME.fromPrivateKey=EL.fromPrivateKey;var SL={},CL={};Object.defineProperty(CL,"__esModule",{value:!0}),CL.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},CL.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},CL.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var IL={},PL={},TL={},OL={};Object.defineProperty(OL,"__esModule",{value:!0}),OL.decode=function(e,t,r){t=t||4,r=void 0===r||r;var n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&0==(127&e[n-1])&&(n<=1||0==(128&e[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){var i=e.readUInt32LE(0),a=e.readUInt8(4);return 128&a?-(4294967296*(-129&a)+i):4294967296*a+i}for(var o=0,s=0;s<n;++s)o|=e[s]<<8*s;return 128&e[n-1]?-(o&~(128<<8*(n-1))):o},OL.encode=function(e){for(var t,r=Math.abs(e),n=(t=r)>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0,i=Ka.allocUnsafe(n),a=e<0,o=0;o<n;++o)i.writeUInt8(255&r,o),r>>=8;return 128&i[n-1]?i.writeUInt8(a?128:0,n-1):a&&(i[n-1]|=128),i};var LL={},NL={};Object.defineProperty(NL,"__esModule",{value:!0});var ML=oL,UL=Math.pow(2,31)-1;function FL(e){return ML.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}NL.UInt31=function(e){return ML.UInt32(e)&&e<=UL},NL.BIP32Path=FL,FL.toJSON=function(){return"BIP32 derivation path"},NL.Signer=function(e){return(ML.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign},NL.Satoshi=function(e){return ML.UInt53(e)&&e<=21e14},NL.ECPoint=ML.quacksLike("Point"),NL.Network=ML.compile({messagePrefix:ML.oneOf(ML.Buffer,ML.String),bip32:{public:ML.UInt32,private:ML.UInt32},pubKeyHash:ML.UInt8,scriptHash:ML.UInt8,wif:ML.UInt8}),NL.Buffer256bit=ML.BufferN(32),NL.Hash160bit=ML.BufferN(20),NL.Hash256bit=ML.BufferN(32),NL.Number=ML.Number,NL.Array=ML.Array,NL.Boolean=ML.Boolean,NL.String=ML.String,NL.Buffer=ML.Buffer,NL.Hex=ML.Hex,NL.maybe=ML.maybe,NL.tuple=ML.tuple,NL.UInt8=ML.UInt8,NL.UInt32=ML.UInt32,NL.Function=ML.Function,NL.BufferN=ML.BufferN,NL.Null=ML.Null,NL.oneOf=ML.oneOf;var RL=oE.exports.Buffer,DL={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,n=t.length;if(0===r)throw new Error("R length is zero");if(0===n)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var i=RL.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i}};Object.defineProperty(LL,"__esModule",{value:!0});var jL=NL,QL=DL,HL=oL,KL=Ka.alloc(1,0);function VL(e){for(var t=0;0===e[t];)++t;return t===e.length?KL:128&(e=e.slice(t))[0]?Ka.concat([KL,e],1+e.length):e}function zL(e){0===e[0]&&(e=e.slice(1));var t=Ka.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}LL.decode=function(e){var t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);var n=QL.decode(e.slice(0,-1)),i=zL(n.r),a=zL(n.s);return{signature:Ka.concat([i,a],64),hashType:t}},LL.encode=function(e,t){HL({signature:jL.BufferN(64),hashType:jL.UInt8},{signature:e,hashType:t});var r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);var n=Ka.allocUnsafe(1);n.writeUInt8(t,0);var i=VL(e.slice(0,32)),a=VL(e.slice(32,64));return Ka.concat([QL.encode(i,a),n])};var qL={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},GL=qL;function WL(e){return e<GL.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}var JL={encodingLength:WL,encode:function(e,t,r){var n=WL(t);return 1===n?e.writeUInt8(t,r):2===n?(e.writeUInt8(GL.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===n?(e.writeUInt8(GL.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(GL.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),n},decode:function(e,t){var r,n,i=e.readUInt8(t);if(i<GL.OP_PUSHDATA1)r=i,n=1;else if(i===GL.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(i===GL.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(i!==GL.OP_PUSHDATA4)throw new Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:i,number:r,size:n}}},XL=qL,YL={};for(var $L in XL)YL[XL[$L]]=$L;var ZL=YL;!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=OL,r=LL,n=NL,i=DL,a=kO,o=JL,s=oL;e.OPS=qL;var u=ZL,c=e.OPS.OP_RESERVED;function l(t){return n.Buffer(t)||function(t){return n.Number(t)&&(t===e.OPS.OP_0||t>=e.OPS.OP_1&&t<=e.OPS.OP_16||t===e.OPS.OP_1NEGATE)}(t)}function f(e){return n.Array(e)&&e.every(l)}function h(t){return 0===t.length?e.OPS.OP_0:1===t.length?t[0]>=1&&t[0]<=16?c+t[0]:129===t[0]?e.OPS.OP_1NEGATE:void 0:void 0}function A(e){return Eo(e)}function d(e){return Eo(e)}function p(e){if(A(e))return e;s(n.Array,e);var t=e.reduce((function(e,t){return d(t)?1===t.length&&void 0!==h(t)?e+1:e+o.encodingLength(t.length)+t.length:e+1}),0),r=Ka.allocUnsafe(t),i=0;if(e.forEach((function(e){if(d(e)){var t=h(e);if(void 0!==t)return r.writeUInt8(t,i),void(i+=1);i+=o.encode(r,e.length,i),e.copy(r,i),i+=e.length}else r.writeUInt8(e,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function v(t){if(r=t,n.Array(r))return t;var r;s(n.Buffer,t);for(var i=[],a=0;a<t.length;){var u=t[a];if(u>e.OPS.OP_0&&u<=e.OPS.OP_PUSHDATA4){var c=o.decode(t,a);if(null===c)return null;if((a+=c.size)+c.number>t.length)return null;var l=t.slice(a,a+c.number);a+=c.number;var f=h(l);void 0!==f?i.push(f):i.push(l)}else i.push(u),a+=1}return i}function g(e){var t=-129&e;return t>0&&t<4}e.isPushOnly=f,e.compile=p,e.decompile=v,e.toASM=function(e){return A(e)&&(e=v(e)),e.map((function(e){if(d(e)){var t=h(e);if(void 0===t)return e.toString("hex");e=t}return u[e]})).join(" ")},e.fromASM=function(t){return s(n.String,t),p(t.split(" ").map((function(t){return void 0!==e.OPS[t]?e.OPS[t]:(s(n.Hex,t),Ka.from(t,"hex"))})))},e.toStack=function(r){return r=v(r),s(f,r),r.map((function(r){return d(r)?r:r===e.OPS.OP_0?Ka.allocUnsafe(0):t.encode(r-c)}))},e.isCanonicalPubKey=function(e){return a.isPoint(e)},e.isDefinedHashType=g,e.isCanonicalScriptSignature=function(e){return!!Eo(e)&&!!g(e[e.length-1])&&i.check(e.slice(0,-1))},e.number=t,e.signature=r}(TL);var eN={};Object.defineProperty(eN,"__esModule",{value:!0}),eN.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=r.call(this);return this[t]=e,e},set:function(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},eN.value=function(e){var t;return function(){return void 0!==t||(t=e()),t}},Object.defineProperty(PL,"__esModule",{value:!0});var tN=CL,rN=TL,nN=eN,iN=oL,aN=rN.OPS;PL.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),iN({network:iN.maybe(iN.Object),output:iN.maybe(iN.Buffer),data:iN.maybe(iN.arrayOf(iN.Buffer))},e);var r={name:"embed",network:e.network||tN.bitcoin};if(nN.prop(r,"output",(function(){if(e.data)return rN.compile([aN.OP_RETURN].concat(e.data))})),nN.prop(r,"data",(function(){if(e.output)return rN.decompile(e.output).slice(1)})),t.validate&&e.output){var n=rN.decompile(e.output);if(n[0]!==aN.OP_RETURN)throw new TypeError("Output is invalid");if(!n.slice(1).every(iN.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)};var oN={};Object.defineProperty(oN,"__esModule",{value:!0});var sN=CL,uN=TL,cN=eN,lN=uN.OPS,fN=oL,hN=kO,AN=lN.OP_RESERVED;function dN(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}oN.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function r(e){return uN.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===lN.OP_0)}t=Object.assign({validate:!0},t||{}),fN({network:fN.maybe(fN.Object),m:fN.maybe(fN.Number),n:fN.maybe(fN.Number),output:fN.maybe(fN.Buffer),pubkeys:fN.maybe(fN.arrayOf(hN.isPoint)),signatures:fN.maybe(fN.arrayOf(r)),input:fN.maybe(fN.Buffer)},e);var n={network:e.network||sN.bitcoin},i=[],a=!1;function o(e){a||(a=!0,i=uN.decompile(e),n.m=i[0]-AN,n.n=i[i.length-2]-AN,n.pubkeys=i.slice(1,-2))}if(cN.prop(n,"output",(function(){if(e.m&&n.n&&e.pubkeys)return uN.compile([].concat(AN+e.m,e.pubkeys,AN+n.n,lN.OP_CHECKMULTISIG))})),cN.prop(n,"m",(function(){if(n.output)return o(n.output),n.m})),cN.prop(n,"n",(function(){if(n.pubkeys)return n.pubkeys.length})),cN.prop(n,"pubkeys",(function(){if(e.output)return o(e.output),n.pubkeys})),cN.prop(n,"signatures",(function(){if(e.input)return uN.decompile(e.input).slice(1)})),cN.prop(n,"input",(function(){if(e.signatures)return uN.compile([lN.OP_0].concat(e.signatures))})),cN.prop(n,"witness",(function(){if(n.input)return[]})),cN.prop(n,"name",(function(){if(n.m&&n.n)return"p2ms(".concat(n.m," of ").concat(n.n,")")})),t.validate){if(e.output){if(o(e.output),!fN.Number(i[0]))throw new TypeError("Output is invalid");if(!fN.Number(i[i.length-2]))throw new TypeError("Output is invalid");if(i[i.length-1]!==lN.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(n.m<=0||n.n>16||n.m>n.n||n.n!==i.length-3)throw new TypeError("Output is invalid");if(!n.pubkeys.every((function(e){return hN.isPoint(e)})))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==n.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==n.n)throw new TypeError("n mismatch");if(e.pubkeys&&!dN(e.pubkeys,n.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(n.n=e.pubkeys.length,n.n<n.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<n.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>n.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==lN.OP_0)throw new TypeError("Input is invalid");if(0===n.signatures.length||!n.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!dN(e.signatures,n.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(n,e)};var pN={};Object.defineProperty(pN,"__esModule",{value:!0});var vN=CL,gN=TL,yN=eN,mN=oL,bN=gN.OPS,wN=kO;pN.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),mN({network:mN.maybe(mN.Object),output:mN.maybe(mN.Buffer),pubkey:mN.maybe(wN.isPoint),signature:mN.maybe(gN.isCanonicalScriptSignature),input:mN.maybe(mN.Buffer)},e);var r=yN.value((function(){return gN.decompile(e.input)})),n={name:"p2pk",network:e.network||vN.bitcoin};if(yN.prop(n,"output",(function(){if(e.pubkey)return gN.compile([e.pubkey,bN.OP_CHECKSIG])})),yN.prop(n,"pubkey",(function(){if(e.output)return e.output.slice(1,-1)})),yN.prop(n,"signature",(function(){if(e.input)return r()[0]})),yN.prop(n,"input",(function(){if(e.signature)return gN.compile([e.signature])})),yN.prop(n,"witness",(function(){if(n.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==bN.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!wN.isPoint(n.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(n.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(n.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!gN.isCanonicalScriptSignature(n.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(n,e)};var xN={},kN={};Object.defineProperty(kN,"__esModule",{value:!0});var _N=PT;function BN(e){try{return _N("rmd160").update(e).digest()}catch(t){return _N("ripemd160").update(e).digest()}}function EN(e){return _N("sha256").update(e).digest()}kN.ripemd160=BN,kN.sha1=function(e){return _N("sha1").update(e).digest()},kN.sha256=EN,kN.hash160=function(e){return BN(EN(e))},kN.hash256=function(e){return EN(EN(e))},Object.defineProperty(xN,"__esModule",{value:!0});var SN=kN,CN=CL,IN=TL,PN=eN,TN=oL,ON=IN.OPS,LN=kO,NN=ZT;xN.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),TN({network:TN.maybe(TN.Object),address:TN.maybe(TN.String),hash:TN.maybe(TN.BufferN(20)),output:TN.maybe(TN.BufferN(25)),pubkey:TN.maybe(LN.isPoint),signature:TN.maybe(IN.isCanonicalScriptSignature),input:TN.maybe(TN.Buffer)},e);var r=PN.value((function(){var t=NN.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),n=PN.value((function(){return IN.decompile(e.input)})),i=e.network||CN.bitcoin,a={name:"p2pkh",network:i};if(PN.prop(a,"address",(function(){if(a.hash){var e=Ka.allocUnsafe(21);return e.writeUInt8(i.pubKeyHash,0),a.hash.copy(e,1),NN.encode(e)}})),PN.prop(a,"hash",(function(){return e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||a.pubkey?SN.hash160(e.pubkey||a.pubkey):void 0})),PN.prop(a,"output",(function(){if(a.hash)return IN.compile([ON.OP_DUP,ON.OP_HASH160,a.hash,ON.OP_EQUALVERIFY,ON.OP_CHECKSIG])})),PN.prop(a,"pubkey",(function(){if(e.input)return n()[1]})),PN.prop(a,"signature",(function(){if(e.input)return n()[0]})),PN.prop(a,"input",(function(){if(e.pubkey&&e.signature)return IN.compile([e.signature,e.pubkey])})),PN.prop(a,"witness",(function(){if(a.input)return[]})),t.validate){var o=Ka.from([]);if(e.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");o=r().hash}if(e.hash){if(o.length>0&&!o.equals(e.hash))throw new TypeError("Hash mismatch");o=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==ON.OP_DUP||e.output[1]!==ON.OP_HASH160||20!==e.output[2]||e.output[23]!==ON.OP_EQUALVERIFY||e.output[24]!==ON.OP_CHECKSIG)throw new TypeError("Output is invalid");var s=e.output.slice(3,23);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch");o=s}if(e.pubkey){var u=SN.hash160(e.pubkey);if(o.length>0&&!o.equals(u))throw new TypeError("Hash mismatch");o=u}if(e.input){var c=n();if(2!==c.length)throw new TypeError("Input is invalid");if(!IN.isCanonicalScriptSignature(c[0]))throw new TypeError("Input has invalid signature");if(!LN.isPoint(c[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(c[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(c[1]))throw new TypeError("Pubkey mismatch");var l=SN.hash160(c[1]);if(o.length>0&&!o.equals(l))throw new TypeError("Hash mismatch")}}return Object.assign(a,e)};var MN={};Object.defineProperty(MN,"__esModule",{value:!0});var UN=kN,FN=CL,RN=TL,DN=eN,jN=oL,QN=RN.OPS,HN=ZT;MN.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),jN({network:jN.maybe(jN.Object),address:jN.maybe(jN.String),hash:jN.maybe(jN.BufferN(20)),output:jN.maybe(jN.BufferN(23)),redeem:jN.maybe({network:jN.maybe(jN.Object),output:jN.maybe(jN.Buffer),input:jN.maybe(jN.Buffer),witness:jN.maybe(jN.arrayOf(jN.Buffer))}),input:jN.maybe(jN.Buffer),witness:jN.maybe(jN.arrayOf(jN.Buffer))},e);var r=e.network;r||(r=e.redeem&&e.redeem.network||FN.bitcoin);var n={network:r},i=DN.value((function(){var t=HN.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),a=DN.value((function(){return RN.decompile(e.input)})),o=DN.value((function(){var t=a();return{network:r,output:t[t.length-1],input:RN.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(DN.prop(n,"address",(function(){if(n.hash){var e=Ka.allocUnsafe(21);return e.writeUInt8(n.network.scriptHash,0),n.hash.copy(e,1),HN.encode(e)}})),DN.prop(n,"hash",(function(){return e.output?e.output.slice(2,22):e.address?i().hash:n.redeem&&n.redeem.output?UN.hash160(n.redeem.output):void 0})),DN.prop(n,"output",(function(){if(n.hash)return RN.compile([QN.OP_HASH160,n.hash,QN.OP_EQUAL])})),DN.prop(n,"redeem",(function(){if(e.input)return o()})),DN.prop(n,"input",(function(){if(e.redeem&&e.redeem.input&&e.redeem.output)return RN.compile([].concat(RN.decompile(e.redeem.input),e.redeem.output))})),DN.prop(n,"witness",(function(){return n.redeem&&n.redeem.witness?n.redeem.witness:n.input?[]:void 0})),DN.prop(n,"name",(function(){var e=["p2sh"];return void 0!==n.redeem&&e.push(n.redeem.name),e.join("-")})),t.validate){var s=Ka.from([]);if(e.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==i().hash.length)throw new TypeError("Invalid address");s=i().hash}if(e.hash){if(s.length>0&&!s.equals(e.hash))throw new TypeError("Hash mismatch");s=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==QN.OP_HASH160||20!==e.output[1]||e.output[22]!==QN.OP_EQUAL)throw new TypeError("Output is invalid");var u=e.output.slice(2,22);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch");s=u}var c=function(e){if(e.output){var t=RN.decompile(e.output);if(!t||t.length<1)throw new TypeError("Redeem.output too short");var r=UN.hash160(e.output);if(s.length>0&&!s.equals(r))throw new TypeError("Hash mismatch");s=r}if(e.input){var n=e.input.length>0,i=e.witness&&e.witness.length>0;if(!n&&!i)throw new TypeError("Empty input");if(n&&i)throw new TypeError("Input and witness provided");if(n){var a=RN.decompile(e.input);if(!RN.isPushOnly(a))throw new TypeError("Non push-only scriptSig")}}};if(e.input){var l=a();if(!l||l.length<1)throw new TypeError("Input too short");if(!Eo(o().output))throw new TypeError("Input is invalid");c(o())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){var f=o();if(e.redeem.output&&!e.redeem.output.equals(f.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(f.input))throw new TypeError("Redeem.input mismatch")}c(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,e)};for(var KN={},VN="qpzry9x8gf2tvdw0s3jn54khce6mua7l",zN={},qN=0;qN<VN.length;qN++){var GN=VN.charAt(qN);if(void 0!==zN[GN])throw new TypeError(GN+" is ambiguous");zN[GN]=qN}function WN(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function JN(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=WN(t)^n>>5}for(t=WN(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=WN(t)^31&i}return t}function XN(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var a=e.slice(0,i),o=e.slice(i+1);if(o.length<6)return"Data too short";var s=JN(a);if("string"==typeof s)return s;for(var u=[],c=0;c<o.length;++c){var l=o.charAt(c),f=zN[l];if(void 0===f)return"Unknown character "+l;s=WN(s)^f,c+6>=o.length||u.push(f)}return 1!==s?"Invalid checksum for "+e:{prefix:a,words:u}}function YN(e,t,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(i=i<<t|e[u],a+=t;a>=r;)a-=r,s.push(i>>a&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=t)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}var $N={decodeUnsafe:function(){var e=XN.apply(null,arguments);if("object"==i(e))return e},decode:function(e){var t=XN.apply(null,arguments);if("object"==i(t))return t;throw new Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var n=JN(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",a=0;a<t.length;++a){var o=t[a];if(o>>5!=0)throw new Error("Non 5-bit word");n=WN(n)^o,i+=VN.charAt(o)}for(a=0;a<6;++a)n=WN(n);for(n^=1,a=0;a<6;++a)i+=VN.charAt(n>>5*(5-a)&31);return i},toWordsUnsafe:function(e){var t=YN(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=YN(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=YN(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=YN(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}};Object.defineProperty(KN,"__esModule",{value:!0});var ZN=kN,eM=CL,tM=TL,rM=eN,nM=oL,iM=tM.OPS,aM=kO,oM=$N,sM=Ka.alloc(0);KN.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),nM({address:nM.maybe(nM.String),hash:nM.maybe(nM.BufferN(20)),input:nM.maybe(nM.BufferN(0)),network:nM.maybe(nM.Object),output:nM.maybe(nM.BufferN(22)),pubkey:nM.maybe(aM.isPoint),signature:nM.maybe(tM.isCanonicalScriptSignature),witness:nM.maybe(nM.arrayOf(nM.Buffer))},e);var r=rM.value((function(){var t=oM.decode(e.address),r=t.words.shift(),n=oM.fromWords(t.words);return{version:r,prefix:t.prefix,data:Ka.from(n)}})),n=e.network||eM.bitcoin,i={name:"p2wpkh",network:n};if(rM.prop(i,"address",(function(){if(i.hash){var e=oM.toWords(i.hash);return e.unshift(0),oM.encode(n.bech32,e)}})),rM.prop(i,"hash",(function(){return e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||i.pubkey?ZN.hash160(e.pubkey||i.pubkey):void 0})),rM.prop(i,"output",(function(){if(i.hash)return tM.compile([iM.OP_0,i.hash])})),rM.prop(i,"pubkey",(function(){return e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0})),rM.prop(i,"signature",(function(){if(e.witness)return e.witness[0]})),rM.prop(i,"input",(function(){if(i.witness)return sM})),rM.prop(i,"witness",(function(){if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){var a=Ka.from([]);if(e.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");a=r().data}if(e.hash){if(a.length>0&&!a.equals(e.hash))throw new TypeError("Hash mismatch");a=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==iM.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");a=e.output.slice(2)}if(e.pubkey){var o=ZN.hash160(e.pubkey);if(a.length>0&&!a.equals(o))throw new TypeError("Hash mismatch");if(a=o,!aM.isPoint(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!tM.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!aM.isPoint(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");var s=ZN.hash160(e.witness[1]);if(a.length>0&&!a.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(i,e)};var uM={};Object.defineProperty(uM,"__esModule",{value:!0});var cM=kN,lM=CL,fM=TL,hM=eN,AM=oL,dM=fM.OPS,pM=kO,vM=$N,gM=Ka.alloc(0);function yM(e){return!(!Eo(e)||65!==e.length||4!==e[0]||!pM.isPoint(e))}uM.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),AM({network:AM.maybe(AM.Object),address:AM.maybe(AM.String),hash:AM.maybe(AM.BufferN(32)),output:AM.maybe(AM.BufferN(34)),redeem:AM.maybe({input:AM.maybe(AM.Buffer),network:AM.maybe(AM.Object),output:AM.maybe(AM.Buffer),witness:AM.maybe(AM.arrayOf(AM.Buffer))}),input:AM.maybe(AM.BufferN(0)),witness:AM.maybe(AM.arrayOf(AM.Buffer))},e);var r=hM.value((function(){var t=vM.decode(e.address),r=t.words.shift(),n=vM.fromWords(t.words);return{version:r,prefix:t.prefix,data:Ka.from(n)}})),n=hM.value((function(){return fM.decompile(e.redeem.input)})),i=e.network;i||(i=e.redeem&&e.redeem.network||lM.bitcoin);var a={network:i};if(hM.prop(a,"address",(function(){if(a.hash){var e=vM.toWords(a.hash);return e.unshift(0),vM.encode(i.bech32,e)}})),hM.prop(a,"hash",(function(){return e.output?e.output.slice(2):e.address?r().data:a.redeem&&a.redeem.output?cM.sha256(a.redeem.output):void 0})),hM.prop(a,"output",(function(){if(a.hash)return fM.compile([dM.OP_0,a.hash])})),hM.prop(a,"redeem",(function(){if(e.witness)return{output:e.witness[e.witness.length-1],input:gM,witness:e.witness.slice(0,-1)}})),hM.prop(a,"input",(function(){if(a.witness)return gM})),hM.prop(a,"witness",(function(){if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){var t=fM.toStack(n());return a.redeem=Object.assign({witness:t},e.redeem),a.redeem.input=gM,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),hM.prop(a,"name",(function(){var e=["p2wsh"];return void 0!==a.redeem&&e.push(a.redeem.name),e.join("-")})),t.validate){var o=Ka.from([]);if(e.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");o=r().data}if(e.hash){if(o.length>0&&!o.equals(e.hash))throw new TypeError("Hash mismatch");o=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==dM.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");var s=e.output.slice(2);if(o.length>0&&!o.equals(s))throw new TypeError("Hash mismatch");o=s}if(e.redeem){if(e.redeem.network&&e.redeem.network!==i)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===fM.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");var u=cM.sha256(e.redeem.output);if(o.length>0&&!o.equals(u))throw new TypeError("Hash mismatch");o=u}if(e.redeem.input&&!fM.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&n().some(yM)||e.redeem.output&&(fM.decompile(e.redeem.output)||[]).some(yM))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){var c=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(c))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(yM)||(fM.decompile(c)||[]).some(yM))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(a,e)},Object.defineProperty(IL,"__esModule",{value:!0});var mM=PL;IL.embed=mM.p2data;var bM=oN;IL.p2ms=bM.p2ms;var wM=pN;IL.p2pk=wM.p2pk;var xM=xN;IL.p2pkh=xM.p2pkh;var kM=MN;IL.p2sh=kM.p2sh;var _M=KN;IL.p2wpkh=_M.p2wpkh;var BM=uM;IL.p2wsh=BM.p2wsh,Object.defineProperty(SL,"__esModule",{value:!0});var EM=CL,SM=IL,CM=TL,IM=NL,PM=$N,TM=ZT,OM=oL;function LM(e){var t=TM.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function NM(e){var t=PM.decode(e),r=PM.fromWords(t.words.slice(1));return{version:t.words[0],prefix:t.prefix,data:Ka.from(r)}}SL.fromBase58Check=LM,SL.fromBech32=NM,SL.toBase58Check=function(e,t){OM(IM.tuple(IM.Hash160bit,IM.UInt8),arguments);var r=Ka.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),TM.encode(r)},SL.toBech32=function(e,t,r){var n=PM.toWords(e);return n.unshift(t),PM.encode(r,n)},SL.fromOutputScript=function(e,t){t=t||EM.bitcoin;try{return SM.p2pkh({output:e,network:t}).address}catch(e){}try{return SM.p2sh({output:e,network:t}).address}catch(e){}try{return SM.p2wpkh({output:e,network:t}).address}catch(e){}try{return SM.p2wsh({output:e,network:t}).address}catch(e){}throw new Error(CM.toASM(e)+" has no matching Address")},SL.toOutputScript=function(e,t){var r,n;t=t||EM.bitcoin;try{r=LM(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return SM.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return SM.p2sh({hash:r.hash}).output}else{try{n=NM(e)}catch(e){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return SM.p2wpkh({hash:n.data}).output;if(32===n.data.length)return SM.p2wsh({hash:n.data}).output}}}throw new Error(e+" has no matching Script")};var MM={},UM={exports:{}},FM=oE.exports.Buffer,RM=Ba.crypto||Ba.msCrypto;RM&&RM.getRandomValues?UM.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=FM.allocUnsafe(e);if(e>0)if(e>65536)for(var n=0;n<e;n+=65536)RM.getRandomValues(r.slice(n,n+65536));else RM.getRandomValues(r);return"function"==typeof t?xc((function(){t(null,r)})):r}:UM.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")},Object.defineProperty(MM,"__esModule",{value:!0});var DM=CL,jM=NL,QM=kO,HM=UM.exports,KM=oL,VM=lL,zM=KM.maybe(KM.compile({compressed:jM.maybe(jM.Boolean),network:jM.maybe(jM.Network)})),qM=function(){function e(t,r,n){s(this,e),this.__D=t,this.__Q=r,this.lowR=!1,void 0===n&&(n={}),this.compressed=void 0===n.compressed||n.compressed,this.network=n.network||DM.bitcoin,void 0!==r&&(this.__Q=QM.pointCompress(r,this.compressed))}return c(e,[{key:"privateKey",get:function(){return this.__D}},{key:"publicKey",get:function(){return this.__Q||(this.__Q=QM.pointFromScalar(this.__D,this.compressed)),this.__Q}},{key:"toWIF",value:function(){if(!this.__D)throw new Error("Missing private key");return VM.encode(this.network.wif,this.__D,this.compressed)}},{key:"sign",value:function(e,t){if(!this.__D)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return QM.sign(e,this.__D);for(var r=QM.sign(e,this.__D),n=Ka.alloc(32,0),i=0;r[0]>127;)i++,n.writeUIntLE(i,0,6),r=QM.signWithEntropy(e,this.__D,n);return r}},{key:"verify",value:function(e,t){return QM.verify(e,this.publicKey,t)}}]),e}();function GM(e,t){if(KM(jM.Buffer256bit,e),!QM.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return KM(zM,t),new qM(e,void 0,t)}MM.fromPrivateKey=GM,MM.fromPublicKey=function(e,t){return KM(QM.isPoint,e),KM(zM,t),new qM(void 0,e,t)},MM.fromWIF=function(e,t){var r=VM.decode(e),n=r.version;if(jM.Array(t)){if(t=t.filter((function(e){return n===e.wif})).pop(),!t)throw new Error("Unknown network version")}else if(t=t||DM.bitcoin,n!==t.wif)throw new Error("Invalid network version");return GM(r.privateKey,{compressed:r.compressed,network:t})},MM.makeRandom=function(e){KM(zM,e),void 0===e&&(e={});var t,r=e.rng||HM;do{t=r(32),KM(jM.Buffer256bit,t)}while(!QM.isPrivate(t));return GM(t,e)};var WM={},JM={},XM=oE.exports.Buffer;function YM(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function $M(e){return YM(e),e<253?1:e<=65535?3:e<=4294967295?5:9}var ZM={encode:function e(t,r,n){if(YM(t),r||(r=XM.allocUnsafe($M(t))),!XM.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),e.bytes=1):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),e.bytes=5):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),e.bytes=9),r},decode:function e(t,r){if(!XM.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var n=t.readUInt8(r);if(n<253)return e.bytes=1,n;if(253===n)return e.bytes=3,t.readUInt16LE(r+1);if(254===n)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var i=t.readUInt32LE(r+1),a=4294967296*t.readUInt32LE(r+5)+i;return YM(a),a},encodingLength:$M};Object.defineProperty(JM,"__esModule",{value:!0});var eU=NL,tU=oL,rU=ZM;function nU(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function iU(e,t){var r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return nU((n*=4294967296)+r,9007199254740991),n+r}function aU(e,t,r){return nU(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}JM.readUInt64LE=iU,JM.writeUInt64LE=aU,JM.reverseBuffer=function(e){if(e.length<1)return e;for(var t=e.length-1,r=0,n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},JM.cloneBuffer=function(e){var t=Ka.allocUnsafe(e.length);return e.copy(t),t},JM.BufferWriter=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,e),this.buffer=t,this.offset=r,tU(eU.tuple(eU.Buffer,eU.UInt32),[t,r])}return c(e,[{key:"writeUInt8",value:function(e){this.offset=this.buffer.writeUInt8(e,this.offset)}},{key:"writeInt32",value:function(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}},{key:"writeUInt32",value:function(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}},{key:"writeUInt64",value:function(e){this.offset=aU(this.buffer,e,this.offset)}},{key:"writeVarInt",value:function(e){rU.encode(e,this.buffer,this.offset),this.offset+=rU.encode.bytes}},{key:"writeSlice",value:function(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}},{key:"writeVarSlice",value:function(e){this.writeVarInt(e.length),this.writeSlice(e)}},{key:"writeVector",value:function(e){var t=this;this.writeVarInt(e.length),e.forEach((function(e){return t.writeVarSlice(e)}))}}]),e}(),JM.BufferReader=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,e),this.buffer=t,this.offset=r,tU(eU.tuple(eU.Buffer,eU.UInt32),[t,r])}return c(e,[{key:"readUInt8",value:function(){var e=this.buffer.readUInt8(this.offset);return this.offset++,e}},{key:"readInt32",value:function(){var e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}},{key:"readUInt32",value:function(){var e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}},{key:"readUInt64",value:function(){var e=iU(this.buffer,this.offset);return this.offset+=8,e}},{key:"readVarInt",value:function(){var e=rU.decode(this.buffer,this.offset);return this.offset+=rU.decode.bytes,e}},{key:"readSlice",value:function(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"readVarSlice",value:function(){return this.readSlice(this.readVarInt())}},{key:"readVector",value:function(){for(var e=this.readVarInt(),t=[],r=0;r<e;r++)t.push(this.readVarSlice());return t}}]),e}();var oU={};Object.defineProperty(oU,"__esModule",{value:!0});var sU=JM,uU=kN,cU=TL,lU=TL,fU=NL,hU=oL,AU=ZM;function dU(e){var t=e.length;return AU.encodingLength(t)+t}var pU=Ka.allocUnsafe(0),vU=[],gU=Ka.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),yU=Ka.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),mU=Ka.from("ffffffffffffffff","hex"),bU={script:pU,valueBuffer:mU},wU=function(){function e(){s(this,e),this.version=1,this.locktime=0,this.ins=[],this.outs=[]}return c(e,[{key:"isCoinbase",value:function(){return 1===this.ins.length&&e.isCoinbaseHash(this.ins[0].hash)}},{key:"addInput",value:function(t,r,n,i){return hU(fU.tuple(fU.Hash256bit,fU.UInt32,fU.maybe(fU.UInt32),fU.maybe(fU.Buffer)),arguments),fU.Null(n)&&(n=e.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:r,script:i||pU,sequence:n,witness:vU})-1}},{key:"addOutput",value:function(e,t){return hU(fU.tuple(fU.Buffer,fU.Satoshi),arguments),this.outs.push({script:e,value:t})-1}},{key:"hasWitnesses",value:function(){return this.ins.some((function(e){return 0!==e.witness.length}))}},{key:"weight",value:function(){return 3*this.byteLength(!1)+this.byteLength(!0)}},{key:"virtualSize",value:function(){return Math.ceil(this.weight()/4)}},{key:"byteLength",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e&&this.hasWitnesses();return(t?10:8)+AU.encodingLength(this.ins.length)+AU.encodingLength(this.outs.length)+this.ins.reduce((function(e,t){return e+40+dU(t.script)}),0)+this.outs.reduce((function(e,t){return e+8+dU(t.script)}),0)+(t?this.ins.reduce((function(e,t){return e+function(e){var t=e.length;return AU.encodingLength(t)+e.reduce((function(e,t){return e+dU(t)}),0)}(t.witness)}),0):0)}},{key:"clone",value:function(){var t=new e;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map((function(e){return{hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}})),t.outs=this.outs.map((function(e){return{script:e.script,value:e.value}})),t}},{key:"hashForSignature",value:function(t,r,n){if(hU(fU.tuple(fU.UInt32,fU.Buffer,fU.Number),arguments),t>=this.ins.length)return yU;var i=cU.compile(cU.decompile(r).filter((function(e){return e!==lU.OPS.OP_CODESEPARATOR}))),a=this.clone();if((31&n)===e.SIGHASH_NONE)a.outs=[],a.ins.forEach((function(e,r){r!==t&&(e.sequence=0)}));else if((31&n)===e.SIGHASH_SINGLE){if(t>=this.outs.length)return yU;a.outs.length=t+1;for(var o=0;o<t;o++)a.outs[o]=bU;a.ins.forEach((function(e,r){r!==t&&(e.sequence=0)}))}n&e.SIGHASH_ANYONECANPAY?(a.ins=[a.ins[t]],a.ins[0].script=i):(a.ins.forEach((function(e){e.script=pU})),a.ins[t].script=i);var s=Ka.allocUnsafe(a.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),a.__toBuffer(s,0,!1),uU.hash256(s)}},{key:"hashForWitnessV0",value:function(t,r,n,i){hU(fU.tuple(fU.UInt32,fU.Buffer,fU.Satoshi,fU.UInt32),arguments);var a,o=Ka.from([]),s=gU,u=gU,c=gU;if(i&e.SIGHASH_ANYONECANPAY||(o=Ka.allocUnsafe(36*this.ins.length),a=new sU.BufferWriter(o,0),this.ins.forEach((function(e){a.writeSlice(e.hash),a.writeUInt32(e.index)})),u=uU.hash256(o)),i&e.SIGHASH_ANYONECANPAY||(31&i)===e.SIGHASH_SINGLE||(31&i)===e.SIGHASH_NONE||(o=Ka.allocUnsafe(4*this.ins.length),a=new sU.BufferWriter(o,0),this.ins.forEach((function(e){a.writeUInt32(e.sequence)})),c=uU.hash256(o)),(31&i)!==e.SIGHASH_SINGLE&&(31&i)!==e.SIGHASH_NONE){var l=this.outs.reduce((function(e,t){return e+8+dU(t.script)}),0);o=Ka.allocUnsafe(l),a=new sU.BufferWriter(o,0),this.outs.forEach((function(e){a.writeUInt64(e.value),a.writeVarSlice(e.script)})),s=uU.hash256(o)}else if((31&i)===e.SIGHASH_SINGLE&&t<this.outs.length){var f=this.outs[t];o=Ka.allocUnsafe(8+dU(f.script)),(a=new sU.BufferWriter(o,0)).writeUInt64(f.value),a.writeVarSlice(f.script),s=uU.hash256(o)}o=Ka.allocUnsafe(156+dU(r)),a=new sU.BufferWriter(o,0);var h=this.ins[t];return a.writeUInt32(this.version),a.writeSlice(u),a.writeSlice(c),a.writeSlice(h.hash),a.writeUInt32(h.index),a.writeVarSlice(r),a.writeUInt64(n),a.writeUInt32(h.sequence),a.writeSlice(s),a.writeUInt32(this.locktime),a.writeUInt32(i),uU.hash256(o)}},{key:"getHash",value:function(e){return e&&this.isCoinbase()?Ka.alloc(32,0):uU.hash256(this.__toBuffer(void 0,void 0,e))}},{key:"getId",value:function(){return sU.reverseBuffer(this.getHash(!1)).toString("hex")}},{key:"toBuffer",value:function(e,t){return this.__toBuffer(e,t,!0)}},{key:"toHex",value:function(){return this.toBuffer(void 0,void 0).toString("hex")}},{key:"setInputScript",value:function(e,t){hU(fU.tuple(fU.Number,fU.Buffer),arguments),this.ins[e].script=t}},{key:"setWitness",value:function(e,t){hU(fU.tuple(fU.Number,[fU.Buffer]),arguments),this.ins[e].witness=t}},{key:"__toBuffer",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=Ka.allocUnsafe(this.byteLength(n)));var i=new sU.BufferWriter(t,r||0);i.writeInt32(this.version);var a=n&&this.hasWitnesses();return a&&(i.writeUInt8(e.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(e.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach((function(e){i.writeSlice(e.hash),i.writeUInt32(e.index),i.writeVarSlice(e.script),i.writeUInt32(e.sequence)})),i.writeVarInt(this.outs.length),this.outs.forEach((function(e){void 0!==e.value?i.writeUInt64(e.value):i.writeSlice(e.valueBuffer),i.writeVarSlice(e.script)})),a&&this.ins.forEach((function(e){i.writeVector(e.witness)})),i.writeUInt32(this.locktime),void 0!==r?t.slice(r,i.offset):t}}],[{key:"fromBuffer",value:function(t,r){var n=new sU.BufferReader(t),i=new e;i.version=n.readInt32();var a=n.readUInt8(),o=n.readUInt8(),s=!1;a===e.ADVANCED_TRANSACTION_MARKER&&o===e.ADVANCED_TRANSACTION_FLAG?s=!0:n.offset-=2;for(var u=n.readVarInt(),c=0;c<u;++c)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:vU});for(var l=n.readVarInt(),f=0;f<l;++f)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(s){for(var h=0;h<u;++h)i.ins[h].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==t.length)throw new Error("Transaction has unexpected data");return i}},{key:"fromHex",value:function(t){return e.fromBuffer(Ka.from(t,"hex"),!1)}},{key:"isCoinbaseHash",value:function(e){hU(fU.Hash256bit,e);for(var t=0;t<32;++t)if(0!==e[t])return!1;return!0}}]),e}();wU.DEFAULT_SEQUENCE=4294967295,wU.SIGHASH_ALL=1,wU.SIGHASH_NONE=2,wU.SIGHASH_SINGLE=3,wU.SIGHASH_ANYONECANPAY=128,wU.ADVANCED_TRANSACTION_MARKER=0,wU.ADVANCED_TRANSACTION_FLAG=1,oU.Transaction=wU,Object.defineProperty(WM,"__esModule",{value:!0});var xU=JM,kU=kN,_U=oU,BU=NL,EU=oL,SU=ZM,CU=new TypeError("Cannot compute merkle root for zero transactions"),IU=new TypeError("Cannot compute witness commit for non-segwit block"),PU=function(){function e(){s(this,e),this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}return c(e,[{key:"getWitnessCommit",value:function(){if(!TU(this.transactions))return null;var e=this.transactions[0].outs.filter((function(e){return e.script.slice(0,6).equals(Ka.from("6a24aa21a9ed","hex"))})).map((function(e){return e.script.slice(6,38)}));if(0===e.length)return null;var t=e[e.length-1];return t instanceof Ka&&32===t.length?t:null}},{key:"hasWitnessCommit",value:function(){return this.witnessCommit instanceof Ka&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}},{key:"hasWitness",value:function(){return(e=this.transactions)instanceof Array&&e.some((function(e){return"object"==i(e)&&e.ins instanceof Array&&e.ins.some((function(e){return"object"==i(e)&&e.witness instanceof Array&&e.witness.length>0}))}));var e}},{key:"weight",value:function(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}},{key:"byteLength",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e||!this.transactions?80:80+SU.encodingLength(this.transactions.length)+this.transactions.reduce((function(e,r){return e+r.byteLength(t)}),0)}},{key:"getHash",value:function(){return kU.hash256(this.toBuffer(!0))}},{key:"getId",value:function(){return xU.reverseBuffer(this.getHash()).toString("hex")}},{key:"getUTCDate",value:function(){var e=new Date(0);return e.setUTCSeconds(this.timestamp),e}},{key:"toBuffer",value:function(e){var t=Ka.allocUnsafe(this.byteLength(e)),r=new xU.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(SU.encode(this.transactions.length,t,r.offset),r.offset+=SU.encode.bytes,this.transactions.forEach((function(e){var n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}},{key:"toHex",value:function(e){return this.toBuffer(e).toString("hex")}},{key:"checkTxRoots",value:function(){var e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit())}},{key:"checkProofOfWork",value:function(){var t=xU.reverseBuffer(this.getHash()),r=e.calculateTarget(this.bits);return t.compare(r)<=0}},{key:"__checkMerkleRoot",value:function(){if(!this.transactions)throw CU;var t=e.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)}},{key:"__checkWitnessCommit",value:function(){if(!this.transactions)throw CU;if(!this.hasWitnessCommit())throw IU;var t=e.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(t)}}],[{key:"fromBuffer",value:function(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");var r=new xU.BufferReader(t),n=new e;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),80===t.length)return n;var i=function(){var e=_U.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=e.byteLength(),e},a=r.readVarInt();n.transactions=[];for(var o=0;o<a;++o){var s=i();n.transactions.push(s)}var u=n.getWitnessCommit();return u&&(n.witnessCommit=u),n}},{key:"fromHex",value:function(t){return e.fromBuffer(Ka.from(t,"hex"))}},{key:"calculateTarget",value:function(e){var t=((4278190080&e)>>24)-3,r=8388607&e,n=Ka.alloc(32,0);return n.writeUIntBE(r,29-t,3),n}},{key:"calculateMerkleRoot",value:function(e,t){if(EU([{getHash:BU.Function}],e),0===e.length)throw CU;if(t&&!TU(e))throw IU;var r=e.map((function(e){return e.getHash(t)})),n=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");for(var r=e.length,n=e.concat();r>1;){for(var i=0,a=0;a<r;a+=2,++i){var o=n[a],s=a+1===r?o:n[a+1],u=Ka.concat([o,s]);n[i]=t(u)}r=i}return n[0]}(r,kU.hash256);return t?kU.hash256(Ka.concat([n,e[0].ins[0].witness[0]])):n}}]),e}();function TU(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}WM.Block=PU;var OU={},LU={},NU={},MU={},UU={},FU={},RU={};!function(e){var t,r,n;Object.defineProperty(e,"__esModule",{value:!0}),(t=e.GlobalTypes||(e.GlobalTypes={}))[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB",e.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(r=e.InputTypes||(e.InputTypes={}))[r.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",r[r.WITNESS_UTXO=1]="WITNESS_UTXO",r[r.PARTIAL_SIG=2]="PARTIAL_SIG",r[r.SIGHASH_TYPE=3]="SIGHASH_TYPE",r[r.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",r[r.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",r[r.BIP32_DERIVATION=6]="BIP32_DERIVATION",r[r.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",r[r.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",r[r.POR_COMMITMENT=9]="POR_COMMITMENT",r[r.TAP_KEY_SIG=19]="TAP_KEY_SIG",r[r.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",r[r.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",r[r.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",r[r.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",r[r.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",e.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],(n=e.OutputTypes||(e.OutputTypes={}))[n.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",n[n.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",n[n.BIP32_DERIVATION=2]="BIP32_DERIVATION",n[n.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",n[n.TAP_TREE=6]="TAP_TREE",n[n.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",e.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]}(RU);var DU={};Object.defineProperty(DU,"__esModule",{value:!0});var jU=RU;DU.decode=function(e){if(e.key[0]!==jU.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");var t,r=e.key.slice(1),n={masterFingerprint:e.value.slice(0,4),extendedPubkey:r,path:"m"},i=L(function(e){return S(Array(e).keys())}(e.value.length/4-1));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.value.readUInt32LE(4*a+4),s=!!(2147483648&o),u=2147483647&o;n.path+="/"+u.toString(10)+(s?"'":"")}}catch(e){i.e(e)}finally{i.f()}return n},DU.encode=function(e){var t=Ka.from([jU.GlobalTypes.GLOBAL_XPUB]),r=Ka.concat([t,e.extendedPubkey]),n=e.path.split("/"),i=Ka.allocUnsafe(4*n.length);e.masterFingerprint.copy(i,0);var a=4;return n.slice(1).forEach((function(e){var t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),i.writeUInt32LE(r,a),a+=4})),{key:r,value:i}},DU.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",DU.check=function(e){var t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return Eo(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&Eo(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)*$/)},DU.canAddToArray=function(e,t,r){var n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.extendedPubkey.equals(t.extendedPubkey)})).length)};var QU={};Object.defineProperty(QU,"__esModule",{value:!0});var HU=RU;QU.encode=function(e){return{key:Ka.from([HU.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}};var KU={};Object.defineProperty(KU,"__esModule",{value:!0});var VU=RU;KU.decode=function(e){if(e.key[0]!==VU.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},KU.encode=function(e){return{key:Ka.from([VU.InputTypes.FINAL_SCRIPTSIG]),value:e}},KU.expected="Buffer",KU.check=function(e){return Eo(e)},KU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig};var zU={};Object.defineProperty(zU,"__esModule",{value:!0});var qU=RU;zU.decode=function(e){if(e.key[0]!==qU.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},zU.encode=function(e){return{key:Ka.from([qU.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},zU.expected="Buffer",zU.check=function(e){return Eo(e)},zU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness};var GU={};Object.defineProperty(GU,"__esModule",{value:!0});var WU=RU;GU.decode=function(e){if(e.key[0]!==WU.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},GU.encode=function(e){return{key:Ka.from([WU.InputTypes.NON_WITNESS_UTXO]),value:e}},GU.expected="Buffer",GU.check=function(e){return Eo(e)},GU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo};var JU={};Object.defineProperty(JU,"__esModule",{value:!0});var XU=RU;JU.decode=function(e){if(e.key[0]!==XU.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},JU.encode=function(e){var t=Ka.from([XU.InputTypes.PARTIAL_SIG]);return{key:Ka.concat([t,e.pubkey]),value:e.signature}},JU.expected="{ pubkey: Buffer; signature: Buffer; }",JU.check=function(e){return Eo(e.pubkey)&&Eo(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!Eo(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;var t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;var r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},JU.canAddToArray=function(e,t,r){var n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.pubkey.equals(t.pubkey)})).length)};var YU={};Object.defineProperty(YU,"__esModule",{value:!0});var $U=RU;YU.decode=function(e){if(e.key[0]!==$U.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},YU.encode=function(e){return{key:Ka.from([$U.InputTypes.POR_COMMITMENT]),value:Ka.from(e,"utf8")}},YU.expected="string",YU.check=function(e){return"string"==typeof e},YU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment};var ZU={};Object.defineProperty(ZU,"__esModule",{value:!0});var eF=RU;ZU.decode=function(e){if(e.key[0]!==eF.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},ZU.encode=function(e){var t=Ka.from([eF.InputTypes.SIGHASH_TYPE]),r=Ka.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},ZU.expected="number",ZU.check=function(e){return"number"==typeof e},ZU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType};var tF={};Object.defineProperty(tF,"__esModule",{value:!0});var rF=RU;function nF(e){return Eo(e)&&(64===e.length||65===e.length)}tF.decode=function(e){if(e.key[0]!==rF.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!nF(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},tF.encode=function(e){return{key:Ka.from([rF.InputTypes.TAP_KEY_SIG]),value:e}},tF.expected="Buffer",tF.check=nF,tF.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig};var iF={};Object.defineProperty(iF,"__esModule",{value:!0});var aF=RU;iF.decode=function(e){if(e.key[0]!==aF.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));var t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));var r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}},iF.encode=function(e){var t=Ka.from([aF.InputTypes.TAP_LEAF_SCRIPT]),r=Ka.from([e.leafVersion]);return{key:Ka.concat([t,e.controlBlock]),value:Ka.concat([e.script,r])}},iF.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",iF.check=function(e){return Eo(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&Eo(e.script)},iF.canAddToArray=function(e,t,r){var n=t.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.controlBlock.equals(t.controlBlock)})).length)};var oF={};Object.defineProperty(oF,"__esModule",{value:!0});var sF=RU;function uF(e){return Eo(e)&&32===e.length}oF.decode=function(e){if(e.key[0]!==sF.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!uF(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},oF.encode=function(e){return{key:Ka.from([sF.InputTypes.TAP_MERKLE_ROOT]),value:e}},oF.expected="Buffer",oF.check=uF,oF.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot};var cF={};Object.defineProperty(cF,"__esModule",{value:!0});var lF=RU;cF.decode=function(e){if(e.key[0]!==lF.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},cF.encode=function(e){var t=Ka.from([lF.InputTypes.TAP_SCRIPT_SIG]);return{key:Ka.concat([t,e.pubkey,e.leafHash]),value:e.signature}},cF.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",cF.check=function(e){return Eo(e.pubkey)&&Eo(e.leafHash)&&Eo(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},cF.canAddToArray=function(e,t,r){var n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash)})).length)};var fF={},hF={},AF={};function dF(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function pF(e){return dF(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Object.defineProperty(AF,"__esModule",{value:!0}),AF.encode=function e(t,r,n){if(dF(t),r||(r=Ka.allocUnsafe(pF(t))),!Eo(r))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),Object.assign(e,{bytes:9})),r},AF.decode=function e(t,r){if(!Eo(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var n=t.readUInt8(r);if(n<253)return Object.assign(e,{bytes:1}),n;if(253===n)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===n)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);Object.assign(e,{bytes:9});var i=t.readUInt32LE(r+1),a=4294967296*t.readUInt32LE(r+5)+i;return dF(a),a},AF.encodingLength=pF,Object.defineProperty(hF,"__esModule",{value:!0});var vF=AF;function gF(e){var t=e.key.length,r=e.value.length,n=vF.encodingLength(t),i=vF.encodingLength(r),a=Ka.allocUnsafe(n+t+i+r);return vF.encode(t,a,0),e.key.copy(a,n),vF.encode(r,a,n+t),e.value.copy(a,n+t+i),a}function yF(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}hF.range=function(e){return S(Array(e).keys())},hF.reverseBuffer=function(e){if(e.length<1)return e;for(var t=e.length-1,r=0,n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},hF.keyValsToBuffer=function(e){var t=e.map(gF);return t.push(Ka.from([0])),Ka.concat(t)},hF.keyValToBuffer=gF,hF.readUInt64LE=function(e,t){var r=e.readUInt32LE(t),n=e.readUInt32LE(t+4);return yF((n*=4294967296)+r,9007199254740991),n+r},hF.writeUInt64LE=function(e,t,r){return yF(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8},Object.defineProperty(fF,"__esModule",{value:!0});var mF=RU,bF=hF,wF=AF;fF.decode=function(e){if(e.key[0]!==mF.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));var t=bF.readUInt64LE(e.value,0),r=8,n=wF.decode(e.value,r);r+=wF.encodingLength(n);var i=e.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:t}},fF.encode=function(e){var t=e.script,r=e.value,n=wF.encodingLength(t.length),i=Ka.allocUnsafe(8+n+t.length);return bF.writeUInt64LE(i,r,0),wF.encode(t.length,i,8),t.copy(i,8+n),{key:Ka.from([mF.InputTypes.WITNESS_UTXO]),value:i}},fF.expected="{ script: Buffer; value: number; }",fF.check=function(e){return Eo(e.script)&&"number"==typeof e.value},fF.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo};var xF={};Object.defineProperty(xF,"__esModule",{value:!0});var kF=RU,_F=AF;xF.decode=function(e){if(e.key[0]!==kF.OutputTypes.TAP_TREE||1!==e.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));for(var t=0,r=[];t<e.value.length;){var n=e.value[t++],i=e.value[t++],a=_F.decode(e.value,t);t+=_F.encodingLength(a),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+a)}),t+=a}return{leaves:r}},xF.encode=function(e){var t,r=Ka.from([kF.OutputTypes.TAP_TREE]),n=(t=[]).concat.apply(t,S(e.leaves.map((function(e){return[Ka.of(e.depth,e.leafVersion),_F.encode(e.script.length),e.script]}))));return{key:r,value:Ka.concat(n)}},xF.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",xF.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every((function(e){return e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&Eo(e.script)}))},xF.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree};var BF={};Object.defineProperty(BF,"__esModule",{value:!0});var EF=function(e){return 33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0]};BF.makeConverter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EF;return{decode:function(r){if(r.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));var n=r.key.slice(1);if(!t(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");var i,a={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"},o=L(function(e){return S(Array(e).keys())}(r.value.length/4-1));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=r.value.readUInt32LE(4*s+4),c=!!(2147483648&u),l=2147483647&u;a.path+="/"+l.toString(10)+(c?"'":"")}}catch(e){o.e(e)}finally{o.f()}return a},encode:function(t){var r=Ka.from([e]),n=Ka.concat([r,t.pubkey]),i=t.path.split("/"),a=Ka.allocUnsafe(4*i.length);t.masterFingerprint.copy(a,0);var o=4;return i.slice(1).forEach((function(e){var t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,o),o+=4})),{key:n,value:a}},check:function(e){return Eo(e.pubkey)&&Eo(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){var n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.pubkey.equals(t.pubkey)})).length)}}};var SF={};Object.defineProperty(SF,"__esModule",{value:!0}),SF.makeChecker=function(e){return function(t){var r;if(e.includes(t.key[0])&&(33!==(r=t.key.slice(1)).length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}};var CF={};Object.defineProperty(CF,"__esModule",{value:!0}),CF.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:Ka.from([e]),value:t}},check:function(e){return Eo(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}};var IF={};Object.defineProperty(IF,"__esModule",{value:!0});var PF=AF,TF=BF,OF=function(e){return 32===e.length};IF.makeConverter=function(e){var t=TF.makeConverter(e,OF);return{decode:function(e){for(var r=PF.decode(e.value),n=PF.encodingLength(r),i=t.decode({key:e.key,value:e.value.slice(n+32*r)}),a=new Array(r),o=0,s=n;o<r;o++,s+=32)a[o]=e.value.slice(s,s+32);return Object.assign({},i,{leafHashes:a})},encode:function(e){var r=t.encode(e),n=PF.encodingLength(e.leafHashes.length),i=Ka.allocUnsafe(n);PF.encode(e.leafHashes.length,i);var a=Ka.concat([i].concat(S(e.leafHashes),[r.value]));return Object.assign({},r,{value:a})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every((function(e){return Eo(e)&&32===e.length}))&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}};var LF={};Object.defineProperty(LF,"__esModule",{value:!0}),LF.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:Ka.from([e]),value:t}},check:function(e){return Eo(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}};var NF={};Object.defineProperty(NF,"__esModule",{value:!0}),NF.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:Ka.from([e]),value:t}},check:function(e){return Eo(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}},Object.defineProperty(FU,"__esModule",{value:!0});var MF=RU,UF=KU,FF=zU,RF=GU,DF=JU,jF=YU,QF=ZU,HF=tF,KF=iF,VF=oF,zF=cF,qF=fF,GF=xF,WF=BF,JF=SF,XF=CF,YF=IF,$F=LF,ZF=NF,eR={unsignedTx:QU,globalXpub:DU,checkPubkey:JF.makeChecker([])};FU.globals=eR;var tR={nonWitnessUtxo:RF,partialSig:DF,sighashType:QF,finalScriptSig:UF,finalScriptWitness:FF,porCommitment:jF,witnessUtxo:qF,bip32Derivation:WF.makeConverter(MF.InputTypes.BIP32_DERIVATION),redeemScript:XF.makeConverter(MF.InputTypes.REDEEM_SCRIPT),witnessScript:ZF.makeConverter(MF.InputTypes.WITNESS_SCRIPT),checkPubkey:JF.makeChecker([MF.InputTypes.PARTIAL_SIG,MF.InputTypes.BIP32_DERIVATION]),tapKeySig:HF,tapScriptSig:zF,tapLeafScript:KF,tapBip32Derivation:YF.makeConverter(MF.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:$F.makeConverter(MF.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:VF};FU.inputs=tR;var rR={bip32Derivation:WF.makeConverter(MF.OutputTypes.BIP32_DERIVATION),redeemScript:XF.makeConverter(MF.OutputTypes.REDEEM_SCRIPT),witnessScript:ZF.makeConverter(MF.OutputTypes.WITNESS_SCRIPT),checkPubkey:JF.makeChecker([MF.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:YF.makeConverter(MF.OutputTypes.TAP_BIP32_DERIVATION),tapTree:GF,tapInternalKey:$F.makeConverter(MF.OutputTypes.TAP_INTERNAL_KEY)};FU.outputs=rR,Object.defineProperty(UU,"__esModule",{value:!0});var nR=FU,iR=hF,aR=AF,oR=RU;function sR(e,t,r){if(!t.equals(Ka.from([r])))throw new Error("Format Error: Invalid ".concat(e," key: ").concat(t.toString("hex")))}function uR(e,t){var r,n=t.globalMapKeyVals,i=t.inputKeyVals,a=t.outputKeyVals,o={unsignedTx:e},s=0,u=L(n);try{for(u.s();!(r=u.n()).done;){var c=r.value;switch(c.key[0]){case oR.GlobalTypes.UNSIGNED_TX:if(sR("global",c.key,oR.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case oR.GlobalTypes.GLOBAL_XPUB:void 0===o.globalXpub&&(o.globalXpub=[]),o.globalXpub.push(nR.globals.globalXpub.decode(c));break;default:o.unknownKeyVals||(o.unknownKeyVals=[]),o.unknownKeyVals.push(c)}}}catch(e){u.e(e)}finally{u.f()}var l,f=i.length,h=a.length,A=[],d=[],p=L(iR.range(f));try{for(p.s();!(l=p.n()).done;){var v,g=l.value,y={},m=L(i[g]);try{for(m.s();!(v=m.n()).done;){var b=v.value;switch(nR.inputs.checkPubkey(b),b.key[0]){case oR.InputTypes.NON_WITNESS_UTXO:if(sR("input",b.key,oR.InputTypes.NON_WITNESS_UTXO),void 0!==y.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");y.nonWitnessUtxo=nR.inputs.nonWitnessUtxo.decode(b);break;case oR.InputTypes.WITNESS_UTXO:if(sR("input",b.key,oR.InputTypes.WITNESS_UTXO),void 0!==y.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");y.witnessUtxo=nR.inputs.witnessUtxo.decode(b);break;case oR.InputTypes.PARTIAL_SIG:void 0===y.partialSig&&(y.partialSig=[]),y.partialSig.push(nR.inputs.partialSig.decode(b));break;case oR.InputTypes.SIGHASH_TYPE:if(sR("input",b.key,oR.InputTypes.SIGHASH_TYPE),void 0!==y.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");y.sighashType=nR.inputs.sighashType.decode(b);break;case oR.InputTypes.REDEEM_SCRIPT:if(sR("input",b.key,oR.InputTypes.REDEEM_SCRIPT),void 0!==y.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");y.redeemScript=nR.inputs.redeemScript.decode(b);break;case oR.InputTypes.WITNESS_SCRIPT:if(sR("input",b.key,oR.InputTypes.WITNESS_SCRIPT),void 0!==y.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");y.witnessScript=nR.inputs.witnessScript.decode(b);break;case oR.InputTypes.BIP32_DERIVATION:void 0===y.bip32Derivation&&(y.bip32Derivation=[]),y.bip32Derivation.push(nR.inputs.bip32Derivation.decode(b));break;case oR.InputTypes.FINAL_SCRIPTSIG:sR("input",b.key,oR.InputTypes.FINAL_SCRIPTSIG),y.finalScriptSig=nR.inputs.finalScriptSig.decode(b);break;case oR.InputTypes.FINAL_SCRIPTWITNESS:sR("input",b.key,oR.InputTypes.FINAL_SCRIPTWITNESS),y.finalScriptWitness=nR.inputs.finalScriptWitness.decode(b);break;case oR.InputTypes.POR_COMMITMENT:sR("input",b.key,oR.InputTypes.POR_COMMITMENT),y.porCommitment=nR.inputs.porCommitment.decode(b);break;case oR.InputTypes.TAP_KEY_SIG:sR("input",b.key,oR.InputTypes.TAP_KEY_SIG),y.tapKeySig=nR.inputs.tapKeySig.decode(b);break;case oR.InputTypes.TAP_SCRIPT_SIG:void 0===y.tapScriptSig&&(y.tapScriptSig=[]),y.tapScriptSig.push(nR.inputs.tapScriptSig.decode(b));break;case oR.InputTypes.TAP_LEAF_SCRIPT:void 0===y.tapLeafScript&&(y.tapLeafScript=[]),y.tapLeafScript.push(nR.inputs.tapLeafScript.decode(b));break;case oR.InputTypes.TAP_BIP32_DERIVATION:void 0===y.tapBip32Derivation&&(y.tapBip32Derivation=[]),y.tapBip32Derivation.push(nR.inputs.tapBip32Derivation.decode(b));break;case oR.InputTypes.TAP_INTERNAL_KEY:sR("input",b.key,oR.InputTypes.TAP_INTERNAL_KEY),y.tapInternalKey=nR.inputs.tapInternalKey.decode(b);break;case oR.InputTypes.TAP_MERKLE_ROOT:sR("input",b.key,oR.InputTypes.TAP_MERKLE_ROOT),y.tapMerkleRoot=nR.inputs.tapMerkleRoot.decode(b);break;default:y.unknownKeyVals||(y.unknownKeyVals=[]),y.unknownKeyVals.push(b)}}}catch(e){m.e(e)}finally{m.f()}A.push(y)}}catch(e){p.e(e)}finally{p.f()}var w,x=L(iR.range(h));try{for(x.s();!(w=x.n()).done;){var k,_=w.value,B={},E=L(a[_]);try{for(E.s();!(k=E.n()).done;){var S=k.value;switch(nR.outputs.checkPubkey(S),S.key[0]){case oR.OutputTypes.REDEEM_SCRIPT:if(sR("output",S.key,oR.OutputTypes.REDEEM_SCRIPT),void 0!==B.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");B.redeemScript=nR.outputs.redeemScript.decode(S);break;case oR.OutputTypes.WITNESS_SCRIPT:if(sR("output",S.key,oR.OutputTypes.WITNESS_SCRIPT),void 0!==B.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");B.witnessScript=nR.outputs.witnessScript.decode(S);break;case oR.OutputTypes.BIP32_DERIVATION:void 0===B.bip32Derivation&&(B.bip32Derivation=[]),B.bip32Derivation.push(nR.outputs.bip32Derivation.decode(S));break;case oR.OutputTypes.TAP_INTERNAL_KEY:sR("output",S.key,oR.OutputTypes.TAP_INTERNAL_KEY),B.tapInternalKey=nR.outputs.tapInternalKey.decode(S);break;case oR.OutputTypes.TAP_TREE:sR("output",S.key,oR.OutputTypes.TAP_TREE),B.tapTree=nR.outputs.tapTree.decode(S);break;case oR.OutputTypes.TAP_BIP32_DERIVATION:void 0===B.tapBip32Derivation&&(B.tapBip32Derivation=[]),B.tapBip32Derivation.push(nR.outputs.tapBip32Derivation.decode(S));break;default:B.unknownKeyVals||(B.unknownKeyVals=[]),B.unknownKeyVals.push(S)}}}catch(e){E.e(e)}finally{E.f()}d.push(B)}}catch(e){x.e(e)}finally{x.f()}return{globalMap:o,inputs:A,outputs:d}}UU.psbtFromBuffer=function(e,t){var r=0;function n(){var t=aR.decode(e,r);r+=aR.encodingLength(t);var n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function a(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");var t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){var t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){var t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");for(var o=[],s={};!a();){var u=i(),c=u.key.toString("hex");if(s[c])throw new Error("Format Error: Keys must be unique for global keymap: key "+c);s[c]=1,o.push(u)}var l=o.filter((function(e){return e.key[0]===oR.GlobalTypes.UNSIGNED_TX}));if(1!==l.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");var f,h=t(l[0].value),A=h.getInputOutputCounts(),d=A.inputCount,p=A.outputCount,v=[],g=[],y=L(iR.range(d));try{for(y.s();!(f=y.n()).done;){for(var m=f.value,b={},w=[];!a();){var x=i(),k=x.key.toString("hex");if(b[k])throw new Error("Format Error: Keys must be unique for each input: input index "+m+" key "+k);b[k]=1,w.push(x)}v.push(w)}}catch(e){y.e(e)}finally{y.f()}var _,B=L(iR.range(p));try{for(B.s();!(_=B.n()).done;){for(var E=_.value,S={},C=[];!a();){var I=i(),P=I.key.toString("hex");if(S[P])throw new Error("Format Error: Keys must be unique for each output: output index "+E+" key "+P);S[P]=1,C.push(I)}g.push(C)}}catch(e){B.e(e)}finally{B.f()}return uR(h,{globalMapKeyVals:o,inputKeyVals:v,outputKeyVals:g})},UU.checkKeyBuffer=sR,UU.psbtFromKeyVals=uR;var cR={};Object.defineProperty(cR,"__esModule",{value:!0});var lR=FU,fR=hF;cR.psbtToBuffer=function(e){var t=dR({globalMap:e.globalMap,inputs:e.inputs,outputs:e.outputs}),r=t.globalKeyVals,n=t.inputKeyVals,i=t.outputKeyVals,a=fR.keyValsToBuffer(r),o=function(e){return 0===e.length?[Ka.from([0])]:e.map(fR.keyValsToBuffer)},s=o(n),u=o(i),c=Ka.allocUnsafe(5);return c.writeUIntBE(482972169471,0,5),Ka.concat([c,a].concat(s,u))};var hR=function(e,t){return e.key.compare(t.key)};function AR(e,t){var r=new Set,n=Object.entries(e).reduce((function(e,n){var i=B(n,2),a=i[0],o=i[1];if("unknownKeyVals"===a)return e;var s=t[a];if(void 0===s)return e;var u=(Array.isArray(o)?o:[o]).map(s.encode);return u.map((function(e){return e.key.toString("hex")})).forEach((function(e){if(r.has(e))throw new Error("Serialize Error: Duplicate key: "+e);r.add(e)})),e.concat(u)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((function(e){return!r.has(e.key.toString("hex"))})):[];return n.concat(i).sort(hR)}function dR(e){var t=e.globalMap,r=e.inputs,n=e.outputs;return{globalKeyVals:AR(t,lR.globals),inputKeyVals:r.map((function(e){return AR(e,lR.inputs)})),outputKeyVals:n.map((function(e){return AR(e,lR.outputs)}))}}cR.psbtToKeyVals=dR,function(e){function t(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),t(UU),t(cR)}(MU),Object.defineProperty(NU,"__esModule",{value:!0});var pR=MU;function vR(e,t,r){return function(n){if(!e.has(n)){var i=r.filter((function(e){return e.key.toString("hex")===n}))[0];t.push(i),e.add(n)}}}function gR(e){return e.globalMap.unsignedTx}function yR(e){var t=new Set;return e.forEach((function(e){var r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}NU.combine=function(e){var t=e[0],r=pR.psbtToKeyVals(t),n=e.slice(1);if(0===n.length)throw new Error("Combine: Nothing to combine");var i=gR(t);if(void 0===i)throw new Error("Combine: Self missing transaction");var a,o=yR(r.globalKeyVals),s=r.inputKeyVals.map(yR),u=r.outputKeyVals.map(yR),c=L(n);try{var l=function(){var e=a.value,t=gR(e);if(void 0===t||!t.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");var n=pR.psbtToKeyVals(e);yR(n.globalKeyVals).forEach(vR(o,r.globalKeyVals,n.globalKeyVals)),n.inputKeyVals.map(yR).forEach((function(e,t){return e.forEach(vR(s[t],r.inputKeyVals[t],n.inputKeyVals[t]))})),n.outputKeyVals.map(yR).forEach((function(e,t){return e.forEach(vR(u[t],r.outputKeyVals[t],n.outputKeyVals[t]))}))};for(c.s();!(a=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}return pR.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})};var mR={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=FU;function r(e,t){var r=e[t];if(void 0===r)throw new Error("No input #".concat(t));return r}function n(e,t){var r=e[t];if(void 0===r)throw new Error("No output #".concat(t));return r}function i(e,t,r,n){throw new Error("Data for ".concat(e," key ").concat(t," is incorrect: Expected ").concat(r," and got ").concat(JSON.stringify(n)))}function a(e){return function(r,n){for(var a=function(){var a=s[o],u=r[a],c=t[e+"s"][a]||{},l=c.canAdd,f=c.canAddToArray,h=c.check,A=c.expected;if(h)if(!!f){if(!Array.isArray(u)||n[a]&&!Array.isArray(n[a]))throw new Error("Key type ".concat(a," must be an array"));u.every(h)||i(e,a,A,u);var d=n[a]||[],p=new Set;if(!u.every((function(e){return f(d,e,p)})))throw new Error("Can not add duplicate data to array");n[a]=d.concat(u)}else{if(h(u)||i(e,a,A,u),!l(n,u))throw new Error("Can not add duplicate data to ".concat(e));n[a]=u}},o=0,s=Object.keys(r);o<s.length;o++)a()}}e.checkForInput=r,e.checkForOutput=n,e.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((function(t){return t.key.equals(e.key)})).length)throw new Error("Duplicate Key: ".concat(e.key.toString("hex")))},e.getEnumLength=function(e){var t=0;return Object.keys(e).forEach((function(e){Number(isNaN(Number(e)))&&t++})),t},e.inputCheckUncleanFinalized=function(e,t){var r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){var n=!!t.redeemScript,i=!!t.witnessScript,a=!n||!!t.finalScriptSig,o=!i||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=a&&o&&s}if(!1===r)throw new Error("Input #".concat(e," has too much or too little data to clean"))},e.updateGlobal=a("global"),e.updateInput=a("input"),e.updateOutput=a("output"),e.addInputAttributes=function(t,n){var i=r(t,t.length-1);e.updateInput(n,i)},e.addOutputAttributes=function(t,r){var i=n(t,t.length-1);e.updateOutput(r,i)},e.defaultVersionSetter=function(e,t){if(!Eo(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},e.defaultLocktimeSetter=function(e,t){if(!Eo(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}}(mR),Object.defineProperty(LU,"__esModule",{value:!0});var bR=NU,wR=MU,xR=RU,kR=mR;LU.Psbt=function(){function e(t){s(this,e),this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}return c(e,[{key:"toBase64",value:function(){return this.toBuffer().toString("base64")}},{key:"toHex",value:function(){return this.toBuffer().toString("hex")}},{key:"toBuffer",value:function(){return wR.psbtToBuffer(this)}},{key:"updateGlobal",value:function(e){return kR.updateGlobal(e,this.globalMap),this}},{key:"updateInput",value:function(e,t){var r=kR.checkForInput(this.inputs,e);return kR.updateInput(t,r),this}},{key:"updateOutput",value:function(e,t){var r=kR.checkForOutput(this.outputs,e);return kR.updateOutput(t,r),this}},{key:"addUnknownKeyValToGlobal",value:function(e){return kR.checkHasKey(e,this.globalMap.unknownKeyVals,kR.getEnumLength(xR.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}},{key:"addUnknownKeyValToInput",value:function(e,t){var r=kR.checkForInput(this.inputs,e);return kR.checkHasKey(t,r.unknownKeyVals,kR.getEnumLength(xR.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}},{key:"addUnknownKeyValToOutput",value:function(e,t){var r=kR.checkForOutput(this.outputs,e);return kR.checkHasKey(t,r.unknownKeyVals,kR.getEnumLength(xR.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}},{key:"addInput",value:function(e){var t=this;this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});var r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach((function(e){return t.addUnknownKeyValToInput(n,e)})),kR.addInputAttributes(this.inputs,e),this}},{key:"addOutput",value:function(e){var t=this;this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});var r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach((function(e){return t.addUnknownKeyValToInput(n,e)})),kR.addOutputAttributes(this.outputs,e),this}},{key:"clearFinalizedInput",value:function(e){var t=kR.checkForInput(this.inputs,e);kR.inputCheckUncleanFinalized(e,t);for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(i)||delete t[i]}return this}},{key:"combine",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=bR.combine([this].concat(t));return Object.assign(this,n),this}},{key:"getTransaction",value:function(){return this.globalMap.unsignedTx.toBuffer()}}],[{key:"fromBase64",value:function(e,t){var r=Ka.from(e,"base64");return this.fromBuffer(r,t)}},{key:"fromHex",value:function(e,t){var r=Ka.from(e,"hex");return this.fromBuffer(r,t)}},{key:"fromBuffer",value:function(e,t){var r=wR.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}}]),e}(),Object.defineProperty(OU,"__esModule",{value:!0});var _R=LU,BR=AF,ER=mR,SR=SL,CR=JM,IR=kN,PR=MM,TR=IL,OR=TL,LR=oU,NR={network:CL.bitcoin,maximumFeeRate:5e3},MR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new _R.Psbt(new FR);s(this,e),this.data=r,this.opts=Object.assign({},NR,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);var n=function(e,t,r,n){return Object.defineProperty(e,t,{enumerable:r,writable:n})};n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}return c(e,[{key:"inputCount",get:function(){return this.data.inputs.length}},{key:"version",get:function(){return this.__CACHE.__TX.version},set:function(e){this.setVersion(e)}},{key:"locktime",get:function(){return this.__CACHE.__TX.locktime},set:function(e){this.setLocktime(e)}},{key:"txInputs",get:function(){return this.__CACHE.__TX.ins.map((function(e){return{hash:CR.cloneBuffer(e.hash),index:e.index,sequence:e.sequence}}))}},{key:"txOutputs",get:function(){var e=this;return this.__CACHE.__TX.outs.map((function(t){var r;try{r=SR.fromOutputScript(t.script,e.opts.network)}catch(t){}return{script:CR.cloneBuffer(t.script),value:t.value,address:r}}))}},{key:"combine",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.data).combine.apply(e,S(r.map((function(e){return e.data})))),this}},{key:"clone",value:function(){var t=e.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}},{key:"setMaximumFeeRate",value:function(e){JR(e),this.opts.maximumFeeRate=e}},{key:"setVersion",value:function(e){JR(e),XR(this.data.inputs,"setVersion");var t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}},{key:"setLocktime",value:function(e){JR(e),XR(this.data.inputs,"setLocktime");var t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}},{key:"setInputSequence",value:function(e,t){JR(t),XR(this.data.inputs,"setInputSequence");var r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}},{key:"addInputs",value:function(e){var t=this;return e.forEach((function(e){return t.addInput(e)})),this}},{key:"addInput",value:function(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");XR(this.data.inputs,"addInput"),e.witnessScript&&dD(e.witnessScript);var t=this.__CACHE;this.data.addInput(e),$R(t,t.__TX.ins[t.__TX.ins.length-1]);var r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&uD(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}},{key:"addOutputs",value:function(e){var t=this;return e.forEach((function(e){return t.addOutput(e)})),this}},{key:"addOutput",value:function(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");XR(this.data.inputs,"addOutput");var t=e,r=t.address;if("string"==typeof r){var n=this.opts.network,i=SR.toOutputScript(r,n);e=Object.assign(e,{script:i})}var a=this.__CACHE;return this.data.addOutput(e),a.__FEE=void 0,a.__FEE_RATE=void 0,a.__EXTRACTED_TX=void 0,this}},{key:"extractTransaction",value:function(e){if(!this.data.inputs.every(jR))throw new Error("Not finalized");var t=this.__CACHE;if(e||function(e,t,r){var n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),a=n*i;if(n>=r.maximumFeeRate)throw new Error("Warning: You are paying around ".concat((a/1e8).toFixed(8)," in fees, which is ").concat(n," satoshi per byte for a transaction with a VSize of ").concat(i," bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction."))}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;var r=t.__TX.clone();return cD(this.data.inputs,r,t,!0),r}},{key:"getFeeRate",value:function(){return rD("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}},{key:"getFee",value:function(){return rD("__FEE","fee",this.data.inputs,this.__CACHE)}},{key:"finalizeAllInputs",value:function(){var e=this;return ER.checkForInput(this.data.inputs,0),gD(this.data.inputs.length).forEach((function(t){return e.finalizeInput(t)})),this}},{key:"finalizeInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nD,r=ER.checkForInput(this.data.inputs,e),n=function(e,t,r){var n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){var a=lD(r,t,e),o=n.ins[e].index;i.script=a.outs[o].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||zR(i.script))&&(i.isSegwit=!0),i}(e,r,this.__CACHE),i=n.script,a=n.isP2SH,o=n.isP2WSH,s=n.isSegwit;if(!i)throw new Error("No script found for input #".concat(e));!function(e){if(e.sighashType&&e.partialSig){var t=e.partialSig,r=e.sighashType;t.forEach((function(e){var t=OR.signature.decode(e.signature).hashType;if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}}(r);var u=t(e,r,i,s,a,o),c=u.finalScriptSig,l=u.finalScriptWitness;if(c&&this.data.updateInput(e,{finalScriptSig:c}),l&&this.data.updateInput(e,{finalScriptWitness:l}),!c&&!l)throw new Error("Unknown error finalizing input #".concat(e));return this.data.clearFinalizedInput(e),this}},{key:"getInputType",value:function(e){var t=ER.checkForInput(this.data.inputs,e),r=AD(fD(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(e){var t=OR.decompile(e);if(t){var r,n=t[t.length-1];if(Eo(n)&&!hD(n)&&(r=n,!OR.isCanonicalScriptSignature(r)))if(OR.decompile(n))return n}}}(t.finalScriptSig),t.witnessScript||function(e){if(e){var t=sD(e),r=t[t.length-1];if(!hD(r)&&OR.decompile(r))return r}}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+vD(r.meaningfulScript)}},{key:"inputHasPubkey",value:function(e,t){return function(e,t,r,n){return pD(e,AD(fD(r,t,n),r,"input",t.redeemScript,t.witnessScript).meaningfulScript)}(t,ER.checkForInput(this.data.inputs,e),e,this.__CACHE)}},{key:"inputHasHDKey",value:function(e,t){var r=ER.checkForInput(this.data.inputs,e),n=WR(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}},{key:"outputHasPubkey",value:function(e,t){return function(e,t,r,n){return pD(e,AD(n.__TX.outs[r].script,r,"output",t.redeemScript,t.witnessScript).meaningfulScript)}(t,ER.checkForOutput(this.data.outputs,e),e,this.__CACHE)}},{key:"outputHasHDKey",value:function(e,t){var r=ER.checkForOutput(this.data.outputs,e),n=WR(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}},{key:"validateSignaturesOfAllInputs",value:function(){var e=this;return ER.checkForInput(this.data.inputs,0),gD(this.data.inputs.length).map((function(t){return e.validateSignaturesOfInput(t)})).reduce((function(e,t){return!0===t&&e}),!0)}},{key:"validateSignaturesOfInput",value:function(e,t){var r=this.data.inputs[e],n=(r||{}).partialSig;if(!r||!n||n.length<1)throw new Error("No signatures to validate");var i=t?n.filter((function(e){return e.pubkey.equals(t)})):n;if(i.length<1)throw new Error("No signatures for this pubkey");var a,o,s,u,c=[],l=L(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=OR.signature.decode(f.signature),A=s!==h.hashType?aD(e,Object.assign({},r,{sighashType:h.hashType}),this.__CACHE,!0):{hash:a,script:o},d=A.hash,p=A.script;s=h.hashType,a=d,o=p,YR(f.pubkey,p,"verify");var v=PR.fromPublicKey(f.pubkey);c.push(v.verify(d,h.signature))}}catch(e){l.e(e)}finally{l.f()}return c.every((function(e){return!0===e}))}},{key:"signAllInputsHD",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[LR.Transaction.SIGHASH_ALL];if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");var r,n=[],i=L(gD(this.data.inputs.length));try{for(i.s();!(r=i.n()).done;){var a=r.value;try{this.signInputHD(a,e,t),n.push(!0)}catch(e){n.push(!1)}}}catch(e){i.e(e)}finally{i.f()}if(n.every((function(e){return!1===e})))throw new Error("No inputs were signed");return this}},{key:"signAllInputsHDAsync",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[LR.Transaction.SIGHASH_ALL];return new Promise((function(n,i){if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));var a,o=[],s=[],u=L(gD(t.data.inputs.length));try{for(u.s();!(a=u.n()).done;){var c=a.value;s.push(t.signInputHDAsync(c,e,r).then((function(){o.push(!0)}),(function(){o.push(!1)})))}}catch(e){u.e(e)}finally{u.f()}return Promise.all(s).then((function(){if(o.every((function(e){return!1===e})))return i(new Error("No inputs were signed"));n()}))}))}},{key:"signInputHD",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[LR.Transaction.SIGHASH_ALL];if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return oD(e,this.data.inputs,t).forEach((function(t){return r.signInput(e,t,n)})),this}},{key:"signInputHDAsync",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[LR.Transaction.SIGHASH_ALL];return new Promise((function(i,a){if(!t||!t.publicKey||!t.fingerprint)return a(new Error("Need HDSigner to sign input"));var o=oD(e,r.data.inputs,t).map((function(t){return r.signInputAsync(e,t,n)}));return Promise.all(o).then((function(){i()})).catch(a)}))}},{key:"signAllInputs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[LR.Transaction.SIGHASH_ALL];if(!e||!e.publicKey)throw new Error("Need Signer to sign input");var r,n=[],i=L(gD(this.data.inputs.length));try{for(i.s();!(r=i.n()).done;){var a=r.value;try{this.signInput(a,e,t),n.push(!0)}catch(e){n.push(!1)}}}catch(e){i.e(e)}finally{i.f()}if(n.every((function(e){return!1===e})))throw new Error("No inputs were signed");return this}},{key:"signAllInputsAsync",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[LR.Transaction.SIGHASH_ALL];return new Promise((function(n,i){if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));var a,o=[],s=[],u=L(t.data.inputs.entries());try{for(u.s();!(a=u.n()).done;){var c=B(a.value,1)[0];s.push(t.signInputAsync(c,e,r).then((function(){o.push(!0)}),(function(){o.push(!1)})))}}catch(e){u.e(e)}finally{u.f()}return Promise.all(s).then((function(){if(o.every((function(e){return!1===e})))return i(new Error("No inputs were signed"));n()}))}))}},{key:"signInput",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[LR.Transaction.SIGHASH_ALL];if(!t||!t.publicKey)throw new Error("Need Signer to sign input");var n=iD(this.data.inputs,e,t.publicKey,this.__CACHE,r),i=n.hash,a=n.sighashType,o=[{pubkey:t.publicKey,signature:OR.signature.encode(t.sign(i),a)}];return this.data.updateInput(e,{partialSig:o}),this}},{key:"signInputAsync",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[LR.Transaction.SIGHASH_ALL];return Promise.resolve().then((function(){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");var i=iD(r.data.inputs,e,t.publicKey,r.__CACHE,n),a=i.hash,o=i.sighashType;return Promise.resolve(t.sign(a)).then((function(n){var i=[{pubkey:t.publicKey,signature:OR.signature.encode(n,o)}];r.data.updateInput(e,{partialSig:i})}))}))}},{key:"toBuffer",value:function(){return RR(this.__CACHE),this.data.toBuffer()}},{key:"toHex",value:function(){return RR(this.__CACHE),this.data.toHex()}},{key:"toBase64",value:function(){return RR(this.__CACHE),this.data.toBase64()}},{key:"updateGlobal",value:function(e){return this.data.updateGlobal(e),this}},{key:"updateInput",value:function(e,t){return t.witnessScript&&dD(t.witnessScript),this.data.updateInput(e,t),t.nonWitnessUtxo&&uD(this.__CACHE,this.data.inputs[e],e),this}},{key:"updateOutput",value:function(e,t){return this.data.updateOutput(e,t),this}},{key:"addUnknownKeyValToGlobal",value:function(e){return this.data.addUnknownKeyValToGlobal(e),this}},{key:"addUnknownKeyValToInput",value:function(e,t){return this.data.addUnknownKeyValToInput(e,t),this}},{key:"addUnknownKeyValToOutput",value:function(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}},{key:"clearFinalizedInput",value:function(e){return this.data.clearFinalizedInput(e),this}}],[{key:"fromBase64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ka.from(e,"base64");return this.fromBuffer(r,t)}},{key:"fromHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ka.from(e,"hex");return this.fromBuffer(r,t)}},{key:"fromBuffer",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_R.Psbt.fromBuffer(t,UR),i=new e(r,n);return function(e,t){e.ins.forEach((function(e){$R(t,e)}))}(i.__CACHE.__TX,i.__CACHE),i}}]),e}();OU.Psbt=MR;var UR=function(e){return new FR(e)},FR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka.from([2,0,0,0,0,0,0,0,0,0]);s(this,e),this.tx=LR.Transaction.fromBuffer(t),function(e){if(!e.ins.every((function(e){return e.script&&0===e.script.length&&e.witness&&0===e.witness.length})))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}return c(e,[{key:"getInputOutputCounts",value:function(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}},{key:"addInput",value:function(e){if(void 0===e.hash||void 0===e.index||!Eo(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");var t="string"==typeof e.hash?CR.reverseBuffer(Ka.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}},{key:"addOutput",value:function(e){if(void 0===e.script||void 0===e.value||!Eo(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}},{key:"toBuffer",value:function(){return this.tx.toBuffer()}}]),e}();function RR(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function DR(e,t,r){if(!t)return!1;var n;if(n=r?r.map((function(e){var r=PR.fromPublicKey(e,{compressed:!0}).publicKey;return t.find((function(e){return e.pubkey.equals(r)}))})).filter((function(e){return!!e})):t,n.length>e)throw new Error("Too many signatures");return n.length===e}function jR(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function QR(e){return function(t){try{return e({output:t}),!0}catch(e){return!1}}}var HR=QR(TR.p2ms),KR=QR(TR.p2pk),VR=QR(TR.p2pkh),zR=QR(TR.p2wpkh),qR=QR(TR.p2wsh),GR=QR(TR.p2sh);function WR(e){return function(t){return!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}}function JR(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function XR(e,t){e.forEach((function(e){var r=!1,n=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;n=function(e){var t=e.finalScriptSig&&OR.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&OR.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((function(e){return Eo(e)&&OR.isCanonicalScriptSignature(e)})).map((function(e){return{signature:e}}))}(e)}else n=e.partialSig;if(n.forEach((function(e){var n=OR.signature.decode(e.signature).hashType,i=[];switch(n&LR.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&n){case LR.Transaction.SIGHASH_ALL:break;case LR.Transaction.SIGHASH_SINGLE:case LR.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}-1===i.indexOf(t)&&(r=!0)})),r)throw new Error("Can not modify transaction, signatures exist.")}))}function YR(e,t,r){if(!pD(e,t))throw new Error("Can not ".concat(r," for this input with the key ").concat(e.toString("hex")))}function $R(e,t){var r=CR.reverseBuffer(Ka.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function ZR(e,t){return function(r,n,i,a){var o=e({redeem:{output:i}}).output;if(!n.equals(o))throw new Error("".concat(t," for ").concat(a," #").concat(r," doesn't match the scriptPubKey in the prevout"))}}var eD=ZR(TR.p2sh,"Redeem script"),tD=ZR(TR.p2wsh,"Witness script");function rD(e,t,r,n){if(!r.every(jR))throw new Error("PSBT must be finalized to calculate ".concat(t));if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;var i,a=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,a=!1):i=n.__TX.clone(),cD(r,i,n,a),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function nD(e,t,r,n,i,a){var o=vD(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return DR(1,e.partialSig);case"multisig":var n=TR.p2ms({output:t});return DR(n.m,e.partialSig,n.pubkeys);default:return!1}}(t,r,o))throw new Error("Can not finalize input #".concat(e));return function(e,t,r,n,i,a){var o,s,u=function(e,t,r){var n;switch(t){case"multisig":var i=function(e,t){return TR.p2ms({output:e}).pubkeys.map((function(e){return(t.filter((function(t){return t.pubkey.equals(e)}))[0]||{}).signature})).filter((function(e){return!!e}))}(e,r);n=TR.p2ms({output:e,signatures:i});break;case"pubkey":n=TR.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=TR.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=TR.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r),c=a?TR.p2wsh({redeem:u}):null,l=i?TR.p2sh({redeem:c||u}):null;return n?(s=function(e){var t,r=Ka.allocUnsafe(0);function n(e){var t=r.length,n=BR.encodingLength(e);r=Ka.concat([r,Ka.allocUnsafe(n)]),BR.encode(e,r,t)}function i(e){n(e.length),function(e){r=Ka.concat([r,Ka.from(e)])}(e)}return n((t=e).length),t.forEach(i),r}(c?c.witness:u.witness),l&&(o=l.input)):o=l?l.input:u.input,{finalScriptSig:o,finalScriptWitness:s}}(r,o,t.partialSig,n,i,a)}function iD(e,t,r,n,i){var a=aD(t,ER.checkForInput(e,t),n,!1,i),o=a.hash,s=a.sighashType;return YR(r,a.script,"sign"),{hash:o,sighashType:s}}function aD(e,t,r,n,i){var a,o,s=r.__TX,u=t.sighashType||LR.Transaction.SIGHASH_ALL;if(i&&i.indexOf(u)<0){var c=function(e){var t=e&LR.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case LR.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case LR.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case LR.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(u);throw new Error("Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ".concat(c))}if(t.nonWitnessUtxo){var l=lD(r,t,e),f=s.ins[e].hash,h=l.getHash();if(!f.equals(h))throw new Error("Non-witness UTXO hash for input #".concat(e," doesn't match the hash specified in the prevout"));var A=s.ins[e].index;o=l.outs[A]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");o=t.witnessUtxo}var d=AD(o.script,e,"input",t.redeemScript,t.witnessScript),p=d.meaningfulScript,v=d.type;if(["p2sh-p2wsh","p2wsh"].indexOf(v)>=0)a=s.hashForWitnessV0(e,p,o.value,u);else if(zR(p)){var g=TR.p2pkh({hash:p.slice(2)}).output;a=s.hashForWitnessV0(e,g,o.value,u)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Input #".concat(e," has witnessUtxo but non-segwit script: ").concat(p.toString("hex")));n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as the old TransactionBuilder class when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=s.hashForSignature(e,p,u)}return{script:p,sighashType:u,hash:a}}function oD(e,t,r){var n=ER.checkForInput(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");var i=n.bip32Derivation.map((function(e){return e.masterFingerprint.equals(r.fingerprint)?e:void 0})).filter((function(e){return!!e}));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");var a=i.map((function(e){var t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}));return a}function sD(e){var t=0;function r(){var r=BR.decode(e,t);return t+=BR.decode.bytes,r}function n(){return function(r){return t+=r,e.slice(t-r,t)}(r())}return function(){for(var e=r(),t=[],i=0;i<e;i++)t.push(n());return t}()}function uD(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;var n=LR.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;var i=e,a=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get:function(){var e=i.__NON_WITNESS_UTXO_BUF_CACHE[a],t=i.__NON_WITNESS_UTXO_TX_CACHE[a];if(void 0!==e)return e;var r=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[a]=r,r},set:function(e){i.__NON_WITNESS_UTXO_BUF_CACHE[a]=e}})}function cD(e,t,r,n){var i=0;e.forEach((function(e,a){if(n&&e.finalScriptSig&&(t.ins[a].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[a].witness=sD(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){var o=lD(r,e,a),s=t.ins[a].index,u=o.outs[s];i+=u.value}}));var a=t.outs.reduce((function(e,t){return e+t.value}),0),o=i-a;if(o<0)throw new Error("Outputs are spending more than Inputs");var s=t.virtualSize();r.__FEE=o,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(o/s)}function lD(e,t,r){var n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||uD(e,t,r),n[r]}function fD(e,t,r){if(void 0!==t.witnessUtxo)return t.witnessUtxo.script;if(void 0!==t.nonWitnessUtxo)return lD(r,t,e).outs[r.__TX.ins[e].index].script;throw new Error("Can't find pubkey in input without Utxo data")}function hD(e){return 33===e.length&&OR.isCanonicalPubKey(e)}function AD(e,t,r,n,i){var a,o=GR(e),s=o&&n&&qR(n),u=qR(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((u||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");return s?(a=i,eD(t,e,n,r),tD(t,n,i,r),dD(a)):u?(a=i,tD(t,e,i,r),dD(a)):o?(a=n,eD(t,e,n,r)):a=e,{meaningfulScript:a,type:s?"p2sh-p2wsh":o?"p2sh":u?"p2wsh":"raw"}}function dD(e){if(zR(e)||GR(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function pD(e,t){var r=IR.hash160(e),n=OR.decompile(t);if(null===n)throw new Error("Unknown script error");return n.some((function(t){return"number"!=typeof t&&(t.equals(e)||t.equals(r))}))}function vD(e){return zR(e)?"witnesspubkeyhash":VR(e)?"pubkeyhash":HR(e)?"multisig":KR(e)?"pubkey":"nonstandard"}function gD(e){return S(Array(e).keys())}var yD={},mD={},bD={},wD={};Object.defineProperty(wD,"__esModule",{value:!0});var xD=TL,kD=TL;function _D(e){return e===kD.OPS.OP_0||xD.isCanonicalScriptSignature(e)}function BD(e,t){var r=xD.decompile(e);return!(r.length<2)&&r[0]===kD.OPS.OP_0&&(t?r.slice(1).every(_D):r.slice(1).every(xD.isCanonicalScriptSignature))}wD.check=BD,BD.toJSON=function(){return"multisig input"};var ED={};Object.defineProperty(ED,"__esModule",{value:!0});var SD=TL,CD=TL,ID=NL,PD=CD.OPS.OP_RESERVED;function TD(e,t){var r=SD.decompile(e);if(r.length<4)return!1;if(r[r.length-1]!==CD.OPS.OP_CHECKMULTISIG)return!1;if(!ID.Number(r[0]))return!1;if(!ID.Number(r[r.length-2]))return!1;var n=r[0]-PD,i=r[r.length-2]-PD;return!(n<=0)&&(!(i>16)&&(!(n>i)&&(i===r.length-3&&(!!t||r.slice(1,-2).every(SD.isCanonicalPubKey)))))}ED.check=TD,TD.toJSON=function(){return"multi-sig output"},Object.defineProperty(bD,"__esModule",{value:!0});var OD=wD;bD.input=OD;var LD=ED;bD.output=LD;var ND={};Object.defineProperty(ND,"__esModule",{value:!0});var MD=TL,UD=MD.OPS;function FD(e){var t=MD.compile(e);return t.length>1&&t[0]===UD.OP_RETURN}ND.check=FD,FD.toJSON=function(){return"null data output"};var RD={check:FD};ND.output=RD;var DD={},jD={};Object.defineProperty(jD,"__esModule",{value:!0});var QD=TL;function HD(e){var t=QD.decompile(e);return 1===t.length&&QD.isCanonicalScriptSignature(t[0])}jD.check=HD,HD.toJSON=function(){return"pubKey input"};var KD={};Object.defineProperty(KD,"__esModule",{value:!0});var VD=TL,zD=TL;function qD(e){var t=VD.decompile(e);return 2===t.length&&VD.isCanonicalPubKey(t[0])&&t[1]===zD.OPS.OP_CHECKSIG}KD.check=qD,qD.toJSON=function(){return"pubKey output"},Object.defineProperty(DD,"__esModule",{value:!0});var GD=jD;DD.input=GD;var WD=KD;DD.output=WD;var JD={},XD={};Object.defineProperty(XD,"__esModule",{value:!0});var YD=TL;function $D(e){var t=YD.decompile(e);return 2===t.length&&YD.isCanonicalScriptSignature(t[0])&&YD.isCanonicalPubKey(t[1])}XD.check=$D,$D.toJSON=function(){return"pubKeyHash input"};var ZD={};Object.defineProperty(ZD,"__esModule",{value:!0});var ej=TL,tj=TL;function rj(e){var t=ej.compile(e);return 25===t.length&&t[0]===tj.OPS.OP_DUP&&t[1]===tj.OPS.OP_HASH160&&20===t[2]&&t[23]===tj.OPS.OP_EQUALVERIFY&&t[24]===tj.OPS.OP_CHECKSIG}ZD.check=rj,rj.toJSON=function(){return"pubKeyHash output"},Object.defineProperty(JD,"__esModule",{value:!0});var nj=XD;JD.input=nj;var ij=ZD;JD.output=ij;var aj={},oj={},sj={};Object.defineProperty(sj,"__esModule",{value:!0});var uj=TL,cj=TL;function lj(e){var t=uj.compile(e);return 22===t.length&&t[0]===cj.OPS.OP_0&&20===t[1]}sj.check=lj,lj.toJSON=function(){return"Witness pubKeyHash output"};var fj={};Object.defineProperty(fj,"__esModule",{value:!0});var hj=TL,Aj=TL;function dj(e){var t=hj.compile(e);return 34===t.length&&t[0]===Aj.OPS.OP_0&&32===t[1]}fj.check=dj,dj.toJSON=function(){return"Witness scriptHash output"},Object.defineProperty(oj,"__esModule",{value:!0});var pj=TL,vj=bD,gj=DD,yj=JD,mj=sj,bj=fj;function wj(e,t){var r=pj.decompile(e);if(r.length<1)return!1;var n=r[r.length-1];if(!Eo(n))return!1;var i=pj.decompile(pj.compile(r.slice(0,-1))),a=pj.decompile(n);return!!a&&!!pj.isPushOnly(i)&&(1===r.length?bj.check(a)||mj.check(a):!(!yj.input.check(i)||!yj.output.check(a))||!(!vj.input.check(i,t)||!vj.output.check(a))||!(!gj.input.check(i)||!gj.output.check(a)))}oj.check=wj,wj.toJSON=function(){return"scriptHash input"};var xj={};Object.defineProperty(xj,"__esModule",{value:!0});var kj=TL,_j=TL;function Bj(e){var t=kj.compile(e);return 23===t.length&&t[0]===_j.OPS.OP_HASH160&&20===t[1]&&t[22]===_j.OPS.OP_EQUAL}xj.check=Bj,Bj.toJSON=function(){return"scriptHash output"},Object.defineProperty(aj,"__esModule",{value:!0});var Ej=oj;aj.input=Ej;var Sj=xj;aj.output=Sj;var Cj={},Ij={};Object.defineProperty(Ij,"__esModule",{value:!0});var Pj=TL,Tj=TL,Oj=NL,Lj=oL,Nj=Ka.from("aa21a9ed","hex");function Mj(e){var t=Pj.compile(e);return t.length>37&&t[0]===Tj.OPS.OP_RETURN&&36===t[1]&&t.slice(2,6).equals(Nj)}Ij.check=Mj,Mj.toJSON=function(){return"Witness commitment output"},Ij.encode=function(e){Lj(Oj.Hash256bit,e);var t=Ka.allocUnsafe(36);return Nj.copy(t,0),e.copy(t,4),Pj.compile([Tj.OPS.OP_RETURN,t])},Ij.decode=function(e){return Lj(Mj,e),Pj.decompile(e)[1].slice(4,36)},Object.defineProperty(Cj,"__esModule",{value:!0});var Uj=Ij;Cj.output=Uj;var Fj={},Rj={};Object.defineProperty(Rj,"__esModule",{value:!0});var Dj=TL;function jj(e){var t=Dj.decompile(e);return 2===t.length&&Dj.isCanonicalScriptSignature(t[0])&&function(e){return Dj.isCanonicalPubKey(e)&&33===e.length}(t[1])}Rj.check=jj,jj.toJSON=function(){return"witnessPubKeyHash input"},Object.defineProperty(Fj,"__esModule",{value:!0});var Qj=Rj;Fj.input=Qj;var Hj=sj;Fj.output=Hj;var Kj={},Vj={};Object.defineProperty(Vj,"__esModule",{value:!0});var zj=TL,qj=oL,Gj=bD,Wj=DD,Jj=JD;function Xj(e,t){if(qj(qj.Array,e),e.length<1)return!1;var r=e[e.length-1];if(!Eo(r))return!1;var n=zj.decompile(r);if(!n||0===n.length)return!1;var i=zj.compile(e.slice(0,-1));return!(!Jj.input.check(i)||!Jj.output.check(n))||!(!Gj.input.check(i,t)||!Gj.output.check(n))||!(!Wj.input.check(i)||!Wj.output.check(n))}Vj.check=Xj,Xj.toJSON=function(){return"witnessScriptHash input"},Object.defineProperty(Kj,"__esModule",{value:!0});var Yj=Vj;Kj.input=Yj;var $j=fj;Kj.output=$j,Object.defineProperty(mD,"__esModule",{value:!0});var Zj=TL,eQ=bD,tQ=ND,rQ=DD,nQ=JD,iQ=aj,aQ=Cj,oQ=Fj,sQ=Kj,uQ={P2MS:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};mD.types=uQ,mD.output=function(e){if(oQ.output.check(e))return uQ.P2WPKH;if(sQ.output.check(e))return uQ.P2WSH;if(nQ.output.check(e))return uQ.P2PKH;if(iQ.output.check(e))return uQ.P2SH;var t=Zj.decompile(e);if(!t)throw new TypeError("Invalid script");return eQ.output.check(t)?uQ.P2MS:rQ.output.check(t)?uQ.P2PK:aQ.output.check(t)?uQ.WITNESS_COMMITMENT:tQ.output.check(t)?uQ.NULLDATA:uQ.NONSTANDARD},mD.input=function(e,t){var r=Zj.decompile(e);if(!r)throw new TypeError("Invalid script");return nQ.input.check(r)?uQ.P2PKH:iQ.input.check(r,t)?uQ.P2SH:eQ.input.check(r,t)?uQ.P2MS:rQ.input.check(r)?uQ.P2PK:uQ.NONSTANDARD},mD.witness=function(e,t){var r=Zj.decompile(e);if(!r)throw new TypeError("Invalid script");return oQ.input.check(r)?uQ.P2WPKH:sQ.input.check(r,t)?uQ.P2WSH:uQ.NONSTANDARD},Object.defineProperty(yD,"__esModule",{value:!0});var cQ=SL,lQ=JM,fQ=mD,hQ=kN,AQ=MM,dQ=CL,pQ=IL,vQ=TL,gQ=TL,yQ=oU,mQ=NL,bQ=oL,wQ=fQ.types,xQ=new Set(["p2pkh","p2pk","p2wpkh","p2ms","p2sh-p2pkh","p2sh-p2pk","p2sh-p2wpkh","p2sh-p2ms","p2wsh-p2pkh","p2wsh-p2pk","p2wsh-p2ms","p2sh-p2wsh-p2pkh","p2sh-p2wsh-p2pk","p2sh-p2wsh-p2ms"]);function kQ(e,t,r){try{bQ(e,t)}catch(e){throw new Error(r)}}var _Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dQ.bitcoin,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;s(this,e),this.network=t,this.maximumFeeRate=r,this.__PREV_TX_SET={},this.__INPUTS=[],this.__TX=new yQ.Transaction,this.__TX.version=2,this.__USE_LOW_R=!1,console.warn("Deprecation Warning: TransactionBuilder will be removed in the future. (v6.x.x or later) Please use the Psbt class instead. Examples of usage are available in the transactions-psbt.js integration test file on our Github. A high level explanation is available in the psbt.ts and psbt.js files as well.")}return c(e,[{key:"setLowR",value:function(e){return bQ(bQ.maybe(bQ.Boolean),e),void 0===e&&(e=!0),this.__USE_LOW_R=e,e}},{key:"setLockTime",value:function(e){if(bQ(mQ.UInt32,e),this.__INPUTS.some((function(e){return!!e.signatures&&e.signatures.some((function(e){return void 0!==e}))})))throw new Error("No, this would invalidate signatures");this.__TX.locktime=e}},{key:"setVersion",value:function(e){bQ(mQ.UInt32,e),this.__TX.version=e}},{key:"addInput",value:function(e,t,r,n){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");var i,a;if("string"==typeof(a=e)||a instanceof String)e=lQ.reverseBuffer(Ka.from(e,"hex"));else if(function(e){return e instanceof yQ.Transaction}(e)){var o=e.outs[t];n=o.script,i=o.value,e=e.getHash(!1)}return this.__addInputUnsafe(e,t,{sequence:r,prevOutScript:n,value:i})}},{key:"addOutput",value:function(e,t){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return"string"==typeof e&&(e=cQ.toOutputScript(e,this.network)),this.__TX.addOutput(e,t)}},{key:"build",value:function(){return this.__build(!1)}},{key:"buildIncomplete",value:function(){return this.__build(!0)}},{key:"sign",value:function(e,t,r,n,a,o){!function(e){var t,r=e.input,n=e.ourPubKey,i=e.keyPair,a=e.signatureHash,o=e.hashType,s=e.useLowR,u=!1,c=L(r.pubkeys.entries());try{for(c.s();!(t=c.n()).done;){var l=B(t.value,2),f=l[0],h=l[1];if(n.equals(h)){if(r.signatures[f])throw new Error("Signature already exists");if(33!==n.length&&r.hasWitness)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");var A=i.sign(a,s);r.signatures[f]=vQ.signature.encode(A,o),u=!0}}}catch(e){c.e(e)}finally{c.f()}if(!u)throw new Error("Key pair cannot sign for this input")}(function(e,t,r,n,a,o,s,u,c,l,f){var h;if("number"==typeof a)console.warn("DEPRECATED: TransactionBuilder sign method arguments will change in v6, please use the TxbSignArg interface"),h=a;else{if("object"!=i(a))throw new TypeError("TransactionBuilder sign first arg must be TxbSignArg or number");!function(e,t){if(!xQ.has(t.prevOutScriptType))throw new TypeError('Unknown prevOutScriptType "'.concat(t.prevOutScriptType,'"'));kQ(bQ.Number,t.vin,"sign must include vin parameter as Number (input index)"),kQ(mQ.Signer,t.keyPair,"sign must include keyPair parameter as Signer interface"),kQ(bQ.maybe(bQ.Number),t.hashType,"sign hashType parameter must be a number");var r=(e[t.vin]||[]).prevOutType,n=t.prevOutScriptType;switch(n){case"p2pkh":if(r&&"pubkeyhash"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2pkh: ").concat(r));kQ(bQ.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),kQ(bQ.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),kQ(bQ.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2pk":if(r&&"pubkey"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2pk: ").concat(r));kQ(bQ.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),kQ(bQ.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),kQ(bQ.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2wpkh":if(r&&"witnesspubkeyhash"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2wpkh: ").concat(r));kQ(bQ.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),kQ(bQ.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),kQ(mQ.Satoshi,t.witnessValue,"".concat(n," requires witnessValue"));break;case"p2ms":if(r&&"multisig"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2ms: ").concat(r));kQ(bQ.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),kQ(bQ.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),kQ(bQ.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2sh-p2wpkh":if(r&&"scripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2sh-p2wpkh: ").concat(r));kQ(bQ.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),kQ(bQ.Buffer,t.redeemScript,"".concat(n," requires redeemScript")),kQ(mQ.Satoshi,t.witnessValue,"".concat(n," requires witnessValue"));break;case"p2sh-p2ms":case"p2sh-p2pk":case"p2sh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type ").concat(n,": ").concat(r));kQ(bQ.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),kQ(bQ.Buffer,t.redeemScript,"".concat(n," requires redeemScript")),kQ(bQ.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2wsh-p2ms":case"p2wsh-p2pk":case"p2wsh-p2pkh":if(r&&"witnessscripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type ").concat(n,": ").concat(r));kQ(bQ.Buffer,t.witnessScript,"".concat(n," requires witnessScript")),kQ(bQ.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),kQ(mQ.Satoshi,t.witnessValue,"".concat(n," requires witnessValue"));break;case"p2sh-p2wsh-p2ms":case"p2sh-p2wsh-p2pk":case"p2sh-p2wsh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type ").concat(n,": ").concat(r));kQ(bQ.Buffer,t.witnessScript,"".concat(n," requires witnessScript")),kQ(bQ.Buffer,t.redeemScript,"".concat(n," requires witnessScript")),kQ(mQ.Satoshi,t.witnessValue,"".concat(n," requires witnessScript"))}}(t,a),h=a.vin,o=a.keyPair,s=a.redeemScript,u=a.hashType,c=a.witnessValue,l=a.witnessScript}if(void 0===o)throw new Error("sign requires keypair");if(o.network&&o.network!==e)throw new TypeError("Inconsistent network");if(!t[h])throw new Error("No input at index: "+h);if(r(u=u||yQ.Transaction.SIGHASH_ALL))throw new Error("Transaction needs outputs");var A=t[h];if(void 0!==A.redeemScript&&s&&!A.redeemScript.equals(s))throw new Error("Inconsistent redeemScript");var d=o.publicKey||o.getPublicKey&&o.getPublicKey();if(!CQ(A)){if(void 0!==c){if(void 0!==A.value&&A.value!==c)throw new Error("Input did not match witnessValue");bQ(mQ.Satoshi,c),A.value=c}if(!CQ(A)){var p=function(e,t,r,n){if(r&&n){var i=pQ.p2wsh({redeem:{output:n}}),a=pQ.p2wsh({output:r}),o=pQ.p2sh({redeem:{output:r}}),s=pQ.p2sh({redeem:i});if(!i.hash.equals(a.hash))throw new Error("Witness script inconsistent with prevOutScript");if(!o.hash.equals(s.hash))throw new Error("Redeem script inconsistent with prevOutScript");var u=EQ(i.redeem.output,t);if(!u.pubkeys)throw new Error(u.type+" not supported as witnessScript ("+vQ.toASM(n)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(u.signatures=e.signatures);var c=n;if(u.type===wQ.P2WPKH)throw new Error("P2SH(P2WSH(P2WPKH)) is a consensus failure");return{redeemScript:r,redeemScriptType:wQ.P2WSH,witnessScript:n,witnessScriptType:u.type,prevOutType:wQ.P2SH,prevOutScript:o.output,hasWitness:!0,signScript:c,signType:u.type,pubkeys:u.pubkeys,signatures:u.signatures,maxSignatures:u.maxSignatures}}if(r){var l=pQ.p2sh({redeem:{output:r}});if(e.prevOutScript){var f;try{f=pQ.p2sh({output:e.prevOutScript})}catch(e){throw new Error("PrevOutScript must be P2SH")}if(!l.hash.equals(f.hash))throw new Error("Redeem script inconsistent with prevOutScript")}var h=EQ(l.redeem.output,t);if(!h.pubkeys)throw new Error(h.type+" not supported as redeemScript ("+vQ.toASM(r)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(h.signatures=e.signatures);var A=r;return h.type===wQ.P2WPKH&&(A=pQ.p2pkh({pubkey:h.pubkeys[0]}).output),{redeemScript:r,redeemScriptType:h.type,prevOutType:wQ.P2SH,prevOutScript:l.output,hasWitness:h.type===wQ.P2WPKH,signScript:A,signType:h.type,pubkeys:h.pubkeys,signatures:h.signatures,maxSignatures:h.maxSignatures}}if(n){var d=pQ.p2wsh({redeem:{output:n}});if(e.prevOutScript){var p=pQ.p2wsh({output:e.prevOutScript});if(!d.hash.equals(p.hash))throw new Error("Witness script inconsistent with prevOutScript")}var v=EQ(d.redeem.output,t);if(!v.pubkeys)throw new Error(v.type+" not supported as witnessScript ("+vQ.toASM(n)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(v.signatures=e.signatures);var g=n;if(v.type===wQ.P2WPKH)throw new Error("P2WSH(P2WPKH) is a consensus failure");return{witnessScript:n,witnessScriptType:v.type,prevOutType:wQ.P2WSH,prevOutScript:d.output,hasWitness:!0,signScript:g,signType:v.type,pubkeys:v.pubkeys,signatures:v.signatures,maxSignatures:v.maxSignatures}}if(e.prevOutType&&e.prevOutScript){if(e.prevOutType===wQ.P2SH)throw new Error("PrevOutScript is "+e.prevOutType+", requires redeemScript");if(e.prevOutType===wQ.P2WSH)throw new Error("PrevOutScript is "+e.prevOutType+", requires witnessScript");if(!e.prevOutScript)throw new Error("PrevOutScript is missing");var y=EQ(e.prevOutScript,t);if(!y.pubkeys)throw new Error(y.type+" not supported ("+vQ.toASM(e.prevOutScript)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(y.signatures=e.signatures);var m=e.prevOutScript;return y.type===wQ.P2WPKH&&(m=pQ.p2pkh({pubkey:y.pubkeys[0]}).output),{prevOutType:y.type,prevOutScript:e.prevOutScript,hasWitness:y.type===wQ.P2WPKH,signScript:m,signType:y.type,pubkeys:y.pubkeys,signatures:y.signatures,maxSignatures:y.maxSignatures}}var b=pQ.p2pkh({pubkey:t}).output;return{prevOutType:wQ.P2PKH,prevOutScript:b,hasWitness:!1,signScript:b,signType:wQ.P2PKH,pubkeys:[t],signatures:[void 0]}}(A,d,s,l);Object.assign(A,p)}if(!CQ(A))throw Error(A.prevOutType+" not supported")}return{input:A,ourPubKey:d,keyPair:o,signatureHash:A.hasWitness?n.hashForWitnessV0(h,A.signScript,A.value,u):n.hashForSignature(h,A.signScript,u),hashType:u,useLowR:!!f}}(this.network,this.__INPUTS,this.__needsOutputs.bind(this),this.__TX,e,t,r,n,a,o,this.__USE_LOW_R))}},{key:"__addInputUnsafe",value:function(e,t,r){if(yQ.Transaction.isCoinbaseHash(e))throw new Error("coinbase inputs not supported");var n=e.toString("hex")+":"+t;if(void 0!==this.__PREV_TX_SET[n])throw new Error("Duplicate TxOut: "+n);var i={};if(void 0!==r.script&&(i=BQ(r.script,r.witness||[])),void 0!==r.value&&(i.value=r.value),!i.prevOutScript&&r.prevOutScript){var a;if(!i.pubkeys&&!i.signatures){var o=EQ(r.prevOutScript);o.pubkeys&&(i.pubkeys=o.pubkeys,i.signatures=o.signatures),a=o.type}i.prevOutScript=r.prevOutScript,i.prevOutType=a||fQ.output(r.prevOutScript)}var s=this.__TX.addInput(e,t,r.sequence,r.scriptSig);return this.__INPUTS[s]=i,this.__PREV_TX_SET[n]=!0,s}},{key:"__build",value:function(e){if(!e){if(!this.__TX.ins.length)throw new Error("Transaction has no inputs");if(!this.__TX.outs.length)throw new Error("Transaction has no outputs")}var t=this.__TX.clone();if(this.__INPUTS.forEach((function(r,n){if(!r.prevOutType&&!e)throw new Error("Transaction is not complete");var i=SQ(r.prevOutType,r,e);if(i)t.setInputScript(n,i.input),t.setWitness(n,i.witness);else{if(!e&&r.prevOutType===wQ.NONSTANDARD)throw new Error("Unknown input type");if(!e)throw new Error("Not enough information")}})),!e&&this.__overMaximumFees(t.virtualSize()))throw new Error("Transaction has absurd fees");return t}},{key:"__canModifyInputs",value:function(){return this.__INPUTS.every((function(e){return!e.signatures||e.signatures.every((function(e){return!e||0!=(IQ(e)&yQ.Transaction.SIGHASH_ANYONECANPAY)}))}))}},{key:"__needsOutputs",value:function(e){return e===yQ.Transaction.SIGHASH_ALL?0===this.__TX.outs.length:0===this.__TX.outs.length&&this.__INPUTS.some((function(e){return!!e.signatures&&e.signatures.some((function(e){return!!e&&!(IQ(e)&yQ.Transaction.SIGHASH_NONE)}))}))}},{key:"__canModifyOutputs",value:function(){var e=this.__TX.ins.length,t=this.__TX.outs.length;return this.__INPUTS.every((function(r){return void 0===r.signatures||r.signatures.every((function(r){if(!r)return!0;var n=31&IQ(r);return n===yQ.Transaction.SIGHASH_NONE||n===yQ.Transaction.SIGHASH_SINGLE&&e<=t}))}))}},{key:"__overMaximumFees",value:function(e){var t=this.__INPUTS.reduce((function(e,t){return e+(t.value>>>0)}),0),r=this.__TX.outs.reduce((function(e,t){return e+t.value}),0);return(t-r)/e>this.maximumFeeRate}}],[{key:"fromTransaction",value:function(t,r){var n=new e(r);return n.setVersion(t.version),n.setLockTime(t.locktime),t.outs.forEach((function(e){n.addOutput(e.script,e.value)})),t.ins.forEach((function(e){n.__addInputUnsafe(e.hash,e.index,{sequence:e.sequence,script:e.script,witness:e.witness})})),n.__INPUTS.forEach((function(e,r){!function(e,t,r){if(e.redeemScriptType===wQ.P2MS&&e.redeemScript&&e.pubkeys.length!==e.signatures.length){var n=e.signatures.concat();e.signatures=e.pubkeys.map((function(i){var a,o=AQ.fromPublicKey(i);return n.some((function(i,s){if(!i)return!1;var u=vQ.signature.decode(i),c=t.hashForSignature(r,e.redeemScript,u.hashType);return!!o.verify(c,u.signature)&&(n[s]=void 0,a=i,!0)})),a}))}}(e,t,r)})),n}}]),e}();function BQ(e,t,r,n){if(0===e.length&&0===t.length)return{};if(!r){var i=fQ.input(e,!0),a=fQ.witness(t,!0);i===wQ.NONSTANDARD&&(i=void 0),a===wQ.NONSTANDARD&&(a=void 0),r=i||a}switch(r){case wQ.P2WPKH:var o=pQ.p2wpkh({witness:t}),s=o.output,u=o.pubkey,c=o.signature;return{prevOutScript:s,prevOutType:wQ.P2WPKH,pubkeys:[u],signatures:[c]};case wQ.P2PKH:var l=pQ.p2pkh({input:e}),f=l.output,h=l.pubkey,A=l.signature;return{prevOutScript:f,prevOutType:wQ.P2PKH,pubkeys:[h],signatures:[A]};case wQ.P2PK:var d=pQ.p2pk({input:e}).signature;return{prevOutType:wQ.P2PK,pubkeys:[void 0],signatures:[d]};case wQ.P2MS:var p=pQ.p2ms({input:e,output:n},{allowIncomplete:!0}),v=p.m,g=p.pubkeys,y=p.signatures;return{prevOutType:wQ.P2MS,pubkeys:g,signatures:y,maxSignatures:v}}if(r===wQ.P2SH){var m=pQ.p2sh({input:e,witness:t}),b=m.output,w=m.redeem,x=fQ.output(w.output),k=BQ(w.input,w.witness,x,w.output);return k.prevOutType?{prevOutScript:b,prevOutType:wQ.P2SH,redeemScript:w.output,redeemScriptType:k.prevOutType,witnessScript:k.witnessScript,witnessScriptType:k.witnessScriptType,pubkeys:k.pubkeys,signatures:k.signatures}:{}}if(r===wQ.P2WSH){var _,B=pQ.p2wsh({input:e,witness:t}),E=B.output,S=B.redeem,C=fQ.output(S.output);return(_=C===wQ.P2WPKH?BQ(S.input,S.witness,C):BQ(vQ.compile(S.witness),[],C,S.output)).prevOutType?{prevOutScript:E,prevOutType:wQ.P2WSH,witnessScript:S.output,witnessScriptType:_.prevOutType,pubkeys:_.pubkeys,signatures:_.signatures}:{}}return{prevOutType:wQ.NONSTANDARD,prevOutScript:e}}function EQ(e,t){bQ(mQ.Buffer,e);var r=fQ.output(e);switch(r){case wQ.P2PKH:if(!t)return{type:r};var n=pQ.p2pkh({output:e}).hash,i=hQ.hash160(t);return n.equals(i)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r};case wQ.P2WPKH:if(!t)return{type:r};var a=pQ.p2wpkh({output:e}).hash,o=hQ.hash160(t);return a.equals(o)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r};case wQ.P2PK:return{type:r,pubkeys:[pQ.p2pk({output:e}).pubkey],signatures:[void 0]};case wQ.P2MS:var s=pQ.p2ms({output:e});return{type:r,pubkeys:s.pubkeys,signatures:s.pubkeys.map((function(){})),maxSignatures:s.m}}return{type:r}}function SQ(e,t,r){var n=t.pubkeys||[],i=t.signatures||[];switch(e){case wQ.P2PKH:if(0===n.length)break;if(0===i.length)break;return pQ.p2pkh({pubkey:n[0],signature:i[0]});case wQ.P2WPKH:if(0===n.length)break;if(0===i.length)break;return pQ.p2wpkh({pubkey:n[0],signature:i[0]});case wQ.P2PK:if(0===n.length)break;if(0===i.length)break;return pQ.p2pk({signature:i[0]});case wQ.P2MS:var a=t.maxSignatures;i=r?i.map((function(e){return e||gQ.OPS.OP_0})):i.filter((function(e){return e}));var o=!r||a===i.length;return pQ.p2ms({m:a,pubkeys:n,signatures:i},{allowIncomplete:r,validate:o});case wQ.P2SH:var s=SQ(t.redeemScriptType,t,r);if(!s)return;return pQ.p2sh({redeem:{output:s.output||t.redeemScript,input:s.input,witness:s.witness}});case wQ.P2WSH:var u=SQ(t.witnessScriptType,t,r);if(!u)return;return pQ.p2wsh({redeem:{output:t.witnessScript,input:u.input,witness:u.witness}})}}function CQ(e){return void 0!==e.signScript&&void 0!==e.signType&&void 0!==e.pubkeys&&void 0!==e.signatures&&e.signatures.length===e.pubkeys.length&&e.pubkeys.length>0&&(!1===e.hasWitness||void 0!==e.value)}function IQ(e){return e.readUInt8(e.length-1)}yD.TransactionBuilder=_Q,Object.defineProperty(NE,"__esModule",{value:!0});var PQ=ME;NE.bip32=PQ;var TQ=SL;NE.address=TQ;var OQ=kN;NE.crypto=OQ;var LQ=MM;NE.ECPair=LQ;var NQ=CL,MQ=NE.networks=NQ,UQ=IL,FQ=NE.payments=UQ,RQ=TL;NE.script=RQ;var DQ=WM;NE.Block=DQ.Block;var jQ=OU;NE.Psbt=jQ.Psbt;var QQ=TL;NE.opcodes=QQ.OPS;var HQ=oU;NE.Transaction=HQ.Transaction;var KQ=yD;NE.TransactionBuilder=KQ.TransactionBuilder;var VQ={exports:{}};function zQ(e,t){var n=function(e){for(var t=function(e){var t=aE.from(r(r({},e),{},{crv:"K-256"}),"jwk").toString("blk","public"),n=OE.publicKeyConvert(LE.from(t,"hex"),!0);return LE.from(n).toString("hex")}(e),n=LE.from(t,"hex"),i=32-n.length;i>0;)n=LE.concat([LE.from("00","hex"),n]),i--;return n}(e.publicKeyJwk),i="";switch(t.code){case Bu.Bitcoin:case Bu.Mocknet:case Bu.Testnet:i=function(e,t){return FQ.p2pkh({pubkey:e,network:MQ[t.code]}).address}(n,t);break;case Bu.Ethmain:case Bu.Ethropst:case Bu.Ethrinkeby:i=function(e,t){var r=e.toString("hex"),n=new ux.ec("secp256k1").keyFromPublic(r,"hex").getPublic().encode("hex").slice(2),i="undefined"==typeof Buffer?Ka:Buffer;return"0x".concat(VQ.exports.keccak256(i.from(n,"hex")).slice(24).toString())}(n);break;default:throw new Ju("deriveIssuingAddressFromPublicKey","".concat(Eb," - ").concat(kp.i18n.getText("errors","deriveIssuingAddressFromPublicKey")))}return i}function qQ(e,t){if(e!==t)throw new Ju("compareHashes",Qu("errors","ensureHashesEqual"));return!0}function GQ(e,t){if(e!==t)throw new Ju("checkMerkleRoot",Qu("errors","ensureMerkleRootEqual"));return!0}function WQ(e,t,r){var n="",i=function(e,t){var r=null;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&n.toLowerCase()===t.toLowerCase()&&(r=n);return e[r]}(e,t),a=mp(r);if(i?(i.created&&a<=i.created&&(n="invalidIssuingAddressCreationTime"),i.revoked&&a>=i.revoked&&(n="invalidIssuingAddressRevoked"),i.expires&&a>=i.expires&&(n="invalidIssuingAddressExpired")):n="invalidIssuingAddressUnknown",n)throw new Ju("checkAuthenticity",Qu("errors",n))}function JQ(e){var t=e.targetHash,r=e.merkleRoot;try{var n=e.proof||e.path;if(n)for(var i in n){var a=n[i],o=void 0;if(void 0!==a.left)o=mb("".concat(a.left).concat(t)),t=yb(o);else{if(void 0===a.right)throw new Ju("checkReceipt","Trigger catch error.");o=mb("".concat(t).concat(a.right)),t=yb(o)}}}catch(e){throw new Ju("checkReceipt",Qu("errors","ensureValidReceipt"))}if(t!==r)throw new Ju("checkReceipt",Qu("errors","invalidMerkleReceipt"))}function XQ(e){if("string"==typeof e&&e.length>0)return e;throw new Ju("getTransactionId",Qu("errors","isTransactionIdValid"))}!function(e){!function(){var t="input is invalid type",r="object"==("undefined"==typeof window?"undefined":i(window)),n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var a=!r&&"object"==("undefined"==typeof self?"undefined":i(self));!n.JS_SHA3_NO_NODE_JS&&"object"==i(Mc)&&Mc.versions&&Mc.versions.node?n=Ba:a&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&e.exports,s=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,u="0123456789abcdef".split(""),c=[4,1024,262144,67108864],l=[0,8,16,24],f=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],A=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!s||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==i(e)&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,r){return function(n){return new T(e,t,e).update(n)[r]()}},g=function(e,t,r){return function(n,i){return new T(e,t,i).update(n)[r]()}},y=function(e,t,r){return function(t,n,i,a){return k["cshake"+e].update(t,n,i,a)[r]()}},m=function(e,t,r){return function(t,n,i,a){return k["kmac"+e].update(t,n,i,a)[r]()}},b=function(e,t,r,n){for(var i=0;i<d.length;++i){var a=d[i];e[a]=t(r,n,a)}return e},w=function(e,t){var r=v(e,t,"hex");return r.create=function(){return new T(e,t,e)},r.update=function(e){return r.create().update(e)},b(r,v,e,t)},x=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:A,createMethod:function(e,t){var r=g(e,t,"hex");return r.create=function(r){return new T(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},b(r,g,e,t)}},{name:"cshake",padding:c,bits:A,createMethod:function(e,t){var r=p[e],n=y(e,0,"hex");return n.create=function(n,i,a){return i||a?new T(e,t,n).bytepad([i,a],r):k["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},b(n,y,e,t)}},{name:"kmac",padding:c,bits:A,createMethod:function(e,t){var r=p[e],n=m(e,0,"hex");return n.create=function(n,i,a){return new O(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},b(n,m,e,t)}}],k={},_=[],B=0;B<x.length;++B)for(var E=x[B],S=E.bits,C=0;C<S.length;++C){var I=E.name+"_"+S[C];if(_.push(I),k[I]=E.createMethod(S[C],E.padding),"sha3"!==E.name){var P=E.name+S[C];_.push(P),k[P]=k[I]}}function T(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function O(e,t,r){T.call(this,e,t,r)}T.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=i(e);if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var a,o,u=this.blocks,c=this.byteCount,f=e.length,h=this.blockCount,A=0,d=this.s;A<f;){if(this.reset)for(this.reset=!1,u[0]=this.block,a=1;a<h+1;++a)u[a]=0;if(r)for(a=this.start;A<f&&a<c;++A)u[a>>2]|=e[A]<<l[3&a++];else for(a=this.start;A<f&&a<c;++A)(o=e.charCodeAt(A))<128?u[a>>2]|=o<<l[3&a++]:o<2048?(u[a>>2]|=(192|o>>6)<<l[3&a++],u[a>>2]|=(128|63&o)<<l[3&a++]):o<55296||o>=57344?(u[a>>2]|=(224|o>>12)<<l[3&a++],u[a>>2]|=(128|o>>6&63)<<l[3&a++],u[a>>2]|=(128|63&o)<<l[3&a++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++A)),u[a>>2]|=(240|o>>18)<<l[3&a++],u[a>>2]|=(128|o>>12&63)<<l[3&a++],u[a>>2]|=(128|o>>6&63)<<l[3&a++],u[a>>2]|=(128|63&o)<<l[3&a++]);if(this.lastByteIndex=a,a>=c){for(this.start=a-c,this.block=u[h],a=0;a<h;++a)d[a]^=u[a];L(d),this.reset=!0}else this.start=a}return this},T.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},T.prototype.encodeString=function(e){var r,n=i(e);if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var a=0,o=e.length;if(r)a=o;else for(var u=0;u<e.length;++u){var c=e.charCodeAt(u);c<128?a+=1:c<2048?a+=2:c<55296||c>=57344?a+=3:(c=65536+((1023&c)<<10|1023&e.charCodeAt(++u)),a+=4)}return a+=this.encode(8*a),this.update(e),a},T.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,a=[];return a.length=i,this.update(a),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];L(n)}},T.prototype.toString=T.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s="";o<n;){for(a=0;a<t&&o<n;++a,++o)e=r[a],s+=u[e>>4&15]+u[15&e]+u[e>>12&15]+u[e>>8&15]+u[e>>20&15]+u[e>>16&15]+u[e>>28&15]+u[e>>24&15];o%t==0&&(L(r),a=0)}return i&&(e=r[a],s+=u[e>>4&15]+u[15&e],i>1&&(s+=u[e>>12&15]+u[e>>8&15]),i>2&&(s+=u[e>>20&15]+u[e>>16&15])),s},T.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);o<n;){for(a=0;a<t&&o<n;++a,++o)u[o]=r[a];o%t==0&&L(r)}return i&&(u[a]=r[a],e=e.slice(0,s)),e},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.digest=T.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<i;){for(o=0;o<r&&s<i;++o,++s)e=s<<2,t=n[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r==0&&L(n)}return a&&(e=s<<2,t=n[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},O.prototype=new T,O.prototype.finalize=function(){return this.encode(this.outputBits,!0),T.prototype.finalize.call(this)};var L=function(e){var t,r,n,i,a,o,s,u,c,l,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,L,N,M,U,F,R,D,j,Q,H,K,V,z,q,G,W,J,X,Y,$,Z,ee,te,re,ne,ie,ae,oe,se,ue,ce,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(A=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|s>>>31),r=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|c>>>31),r=a^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(l<<1|h>>>31),r=s^(h<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(A<<1|d>>>31),r=c^(d<<1|A>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(i<<1|a>>>31),r=h^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],v=e[1],G=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,I=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,M=e[2]<<1|e[3]>>>31,U=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,X=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,R=e[15]<<6|e[14]>>>26,m=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,L=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,B=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,q=e[9]<<27|e[8]>>>5,S=e[18]<<20|e[19]>>>12,C=e[19]<<20|e[18]>>>12,ae=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,Q=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,_=e[49]<<14|e[48]>>>18,e[0]=p^~g&m,e[1]=v^~y&b,e[10]=B^~S&I,e[11]=E^~C&P,e[20]=M^~F&D,e[21]=U^~R&j,e[30]=z^~G&J,e[31]=q^~W&X,e[40]=te^~ne&ae,e[41]=re^~ie&oe,e[2]=g^~m&w,e[3]=y^~b&x,e[12]=S^~I&T,e[13]=C^~P&O,e[22]=F^~D&Q,e[23]=R^~j&H,e[32]=G^~J&Y,e[33]=W^~X&$,e[42]=ne^~ae&se,e[43]=ie^~oe&ue,e[4]=m^~w&k,e[5]=b^~x&_,e[14]=I^~T&L,e[15]=P^~O&N,e[24]=D^~Q&K,e[25]=j^~H&V,e[34]=J^~Y&Z,e[35]=X^~$&ee,e[44]=ae^~se&ce,e[45]=oe^~ue&le,e[6]=w^~k&p,e[7]=x^~_&v,e[16]=T^~L&B,e[17]=O^~N&E,e[26]=Q^~K&M,e[27]=H^~V&U,e[36]=Y^~Z&z,e[37]=$^~ee&q,e[46]=se^~ce&te,e[47]=ue^~le&re,e[8]=k^~p&g,e[9]=_^~v&y,e[18]=L^~B&S,e[19]=N^~E&C,e[28]=K^~M&F,e[29]=V^~U&R,e[38]=Z^~z&G,e[39]=ee^~q&W,e[48]=ce^~te&ne,e[49]=le^~re&ie,e[0]^=f[n],e[1]^=f[n+1]};if(o)e.exports=k;else for(B=0;B<_.length;++B)n[_[B]]=k[_[B]]}()}(VQ);var YQ={};!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function a(e){var n="[A-Za-z]",i="[0-9]",a=t(i,"[A-Fa-f]"),o=r(r("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+r("%[89A-Fa-f]"+a+"%"+a+a)+"|"+r("%"+a+a)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=t("[\\:\\/\\?\\#\\[\\]\\@]",s),c=e?"[\\uE000-\\uF8FF]":"[]",l=t(n,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");r(n+t(n,i,"[\\+\\-\\.]")+"*"),r(r(o+"|"+t(l,s,"[\\:]"))+"*");var f=r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("0?[1-9]"+i)+"|0?0?"+i),h=r(f+"\\."+f+"\\."+f+"\\."+f),A=r(a+"{1,4}"),d=r(r(A+"\\:"+A)+"|"+h),p=r(r(A+"\\:")+"{6}"+d),v=r("\\:\\:"+r(A+"\\:")+"{5}"+d),g=r(r(A)+"?\\:\\:"+r(A+"\\:")+"{4}"+d),y=r(r(r(A+"\\:")+"{0,1}"+A)+"?\\:\\:"+r(A+"\\:")+"{3}"+d),m=r(r(r(A+"\\:")+"{0,2}"+A)+"?\\:\\:"+r(A+"\\:")+"{2}"+d),b=r(r(r(A+"\\:")+"{0,3}"+A)+"?\\:\\:"+A+"\\:"+d),w=r(r(r(A+"\\:")+"{0,4}"+A)+"?\\:\\:"+d),x=r(r(r(A+"\\:")+"{0,5}"+A)+"?\\:\\:"+A),k=r(r(r(A+"\\:")+"{0,6}"+A)+"?\\:\\:"),_=r([p,v,g,y,m,b,w,x,k].join("|")),B=r(r(l+"|"+o)+"+");r("[vV]"+a+"+\\."+t(l,s,"[\\:]")+"+"),r(r(o+"|"+t(l,s))+"*");var E=r(o+"|"+t(l,s,"[\\:\\@]"));return r(r(o+"|"+t(l,s,"[\\@]"))+"+"),r(r(E+"|"+t("[\\/\\?]",c))+"*"),{NOT_SCHEME:new RegExp(t("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,s,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,s),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+_+")"+r(r("\\%25|\\%(?!"+a+"{2})")+"("+B+")")+"?\\]?$")}}var o=a(!1),s=a(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=36,f=/^xn--/,h=/[^\0-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(d[e])}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(A,".")).split("."),t).join(".")}function m(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l},w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},x=function(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=l)e=p(e/35);return p(n+36*e/(e+38))},k=function(e){var t=[],r=e.length,n=0,i=128,a=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var s=0;s<o;++s)e.charCodeAt(s)>=128&&g("not-basic"),t.push(e.charCodeAt(s));for(var u=o>0?o+1:0;u<r;){for(var f=n,h=1,A=l;;A+=l){u>=r&&g("invalid-input");var d=b(e.charCodeAt(u++));(d>=l||d>p((c-n)/h))&&g("overflow"),n+=d*h;var v=A<=a?1:A>=a+26?26:A-a;if(d<v)break;var y=l-v;h>p(c/y)&&g("overflow"),h*=y}var m=t.length+1;a=x(n-f,m,0==f),p(n/m)>c-i&&g("overflow"),i+=p(n/m),n%=m,t.splice(n++,0,i)}return String.fromCodePoint.apply(String,t)},_=function(e){var t=[],r=(e=m(e)).length,n=128,i=0,a=72,o=!0,s=!1,u=void 0;try{for(var f,h=e[Symbol.iterator]();!(o=(f=h.next()).done);o=!0){var A=f.value;A<128&&t.push(v(A))}}catch(e){s=!0,u=e}finally{try{!o&&h.return&&h.return()}finally{if(s)throw u}}var d=t.length,y=d;for(d&&t.push("-");y<r;){var b=c,k=!0,_=!1,B=void 0;try{for(var E,S=e[Symbol.iterator]();!(k=(E=S.next()).done);k=!0){var C=E.value;C>=n&&C<b&&(b=C)}}catch(e){_=!0,B=e}finally{try{!k&&S.return&&S.return()}finally{if(_)throw B}}var I=y+1;b-n>p((c-i)/I)&&g("overflow"),i+=(b-n)*I,n=b;var P=!0,T=!1,O=void 0;try{for(var L,N=e[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){var M=L.value;if(M<n&&++i>c&&g("overflow"),M==n){for(var U=i,F=l;;F+=l){var R=F<=a?1:F>=a+26?26:F-a;if(U<R)break;var D=U-R,j=l-R;t.push(v(w(R+D%j,0))),U=p(D/j)}t.push(v(w(U,0))),a=x(i,I,y==d),i=0,++y}}}catch(e){T=!0,O=e}finally{try{!P&&N.return&&N.return()}finally{if(T)throw O}}++i,++n}return t.join("")},B=function(e){return y(e,(function(e){return h.test(e)?"xn--"+_(e):e}))},E=function(e){return y(e,(function(e){return f.test(e)?k(e.slice(4).toLowerCase()):e}))},S={};function C(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function I(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var a=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&a)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var o=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function P(e,t){function r(e){var r=I(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,C).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,C).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,C).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,C).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,C).replace(t.PCT_ENCODED,i)),e}function T(e){return e.replace(/^0*(.*)/,"$1")||"0"}function O(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=u(r,2)[1];return n?n.split(".").map(T).join("."):e}function L(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=u(r,3),i=n[1],a=n[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=u(o,2),c=s[0],l=s[1],f=l?l.split(":").map(T):[],h=c.split(":").map(T),A=t.IPV4ADDRESS.test(h[h.length-1]),d=A?7:8,p=h.length-d,v=Array(d),g=0;g<d;++g)v[g]=f[g]||h[p+g]||"";A&&(v[d-1]=O(v[d-1],t));var y=v.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],m=void 0;if(y&&y.length>1){var b=v.slice(0,y.index),w=v.slice(y.index+y.length);m=b.join(":")+"::"+w.join(":")}else m=v.join(":");return a&&(m+="%"+a),m}return e}var N=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,M=void 0==="".match(/(){0}/)[1];function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(N);if(i){M?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=L(O(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var a=S[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)P(r,n);else{if(r.host&&(t.domainHost||a&&a.domainHost))try{r.host=B(r.host.replace(n.PCT_ENCODED,I).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}P(r,o)}a&&a.parse&&a.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function F(e,t){var r=!1!==t.iri?s:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(L(O(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var R=/^\.\.?\//,D=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,Q=/^\/?(?:.|\n)*?(?=\/|$)/;function H(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(j))e=e.replace(j,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(Q);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?s:o,n=[],i=S[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?E(e.host):B(e.host.replace(r.PCT_ENCODED,I).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}P(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var a=F(e,t);if(void 0!==a&&("suffix"!==t.reference&&n.push("//"),n.push(a),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=H(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function V(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=U(K(e,r),r),t=U(K(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=H(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=H(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=H(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=H(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function z(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,I)}var q={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},G={scheme:"https",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize};function W(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var J={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=W(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(W(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=u(r,2),i=n[0],a=n[1];e.path=i&&"/"!==i?i:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},X={scheme:"wss",domainHost:J.domainHost,parse:J.parse,serialize:J.serialize},Y={},$="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",ee=r(r("%[EFef]"+Z+"%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f]"+Z+"%"+Z+Z)+"|"+r("%"+Z+Z)),te=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),re=new RegExp($,"g"),ne=new RegExp(ee,"g"),ie=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',te),"g"),ae=new RegExp(t("[^]",$,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=ae;function se(e){var t=I(e);return t.match(re)?t:e}var ue={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,a={},o=r.query.split("&"),s=0,u=o.length;s<u;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),f=0,h=l.length;f<h;++f)n.push(l[f]);break;case"subject":r.subject=z(c[1],t);break;case"body":r.body=z(c[1],t);break;default:i=!0,a[z(c[0],t)]=z(c[1],t)}}i&&(r.headers=a)}r.query=void 0;for(var A=0,d=n.length;A<d;++A){var p=n[A].split("@");if(p[0]=z(p[0]),t.unicodeSupport)p[1]=z(p[1],t).toLowerCase();else try{p[1]=B(z(p[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[A]=p.join("@")}return r},serialize:function(e,t){var r=e,n=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(n){for(var a=0,o=n.length;a<o;++a){var s=String(n[a]),u=s.lastIndexOf("@"),c=s.slice(0,u).replace(ne,se).replace(ne,i).replace(ie,C),l=s.slice(u+1);try{l=t.iri?E(l):B(z(l,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}n[a]=c+"@"+l}r.path=n.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var h=[];for(var A in f)f[A]!==Y[A]&&h.push(A.replace(ne,se).replace(ne,i).replace(ae,C)+"="+f[A].replace(ne,se).replace(ne,i).replace(oe,C));return h.length&&(r.query=h.join("&")),r}},ce=/^([^\:]+)\:(.*)/,le={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ce),n=e;if(r){var i=t.scheme||n.scheme||"urn",a=r[1].toLowerCase(),o=r[2],s=i+":"+(t.nid||a),u=S[s];n.nid=a,n.nss=o,n.path=void 0,u&&(n=u.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),a=S[i];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(n||t.nid)+":"+s,o}},fe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,he={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(fe)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};S[q.scheme]=q,S[G.scheme]=G,S[J.scheme]=J,S[X.scheme]=X,S[ue.scheme]=ue,S[le.scheme]=le,S[he.scheme]=he,e.SCHEMES=S,e.pctEncChar=C,e.pctDecChars=I,e.parse=U,e.removeDotSegments=H,e.serialize=K,e.resolveComponents=V,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return K(V(U(e,n),U(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=K(U(e,t),t):"object"===n(e)&&(e=U(K(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=K(U(e,r),r):"object"===n(e)&&(e=K(e,r)),"string"==typeof t?t=K(U(t,r),r):"object"===n(t)&&(t=K(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,C)},e.unescapeComponent=z,Object.defineProperty(e,"__esModule",{value:!0})}(YQ);var $Q=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==i(t)&&"object"==i(r)){if(t.constructor!==r.constructor)return!1;var n,a,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,o[a]))return!1;for(a=n;0!=a--;){var s=o[a];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r},ZQ={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:eH,checkDataTypes:function(e,t,r){if(1===e.length)return eH(e[0],t,r,!0);var n="",i=rH(e);for(var a in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+eH(a,t,r,!0);return n},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var i=t[n];(tH[i]||"array"===e&&"array"===i)&&(r[r.length]=i)}if(r.length)return r}else{if(tH[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:rH,getProperty:aH,escapeQuotes:oH,equal:$Q,ucs2length:function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r},varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r},toQuotedString:sH,getPathExpr:function(e,t,r,n){return lH(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return lH(e,sH(r?"/"+fH(t):aH(t)))},getData:function(e,t,r){var n,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!uH.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(!(o=e.match(cH)))throw new Error("Invalid JSON-pointer: "+e);if(n=+o[1],"#"==(i=o[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(a="data"+(t-n||""),!i)return a}for(var s=a,u=i.split("/"),c=0;c<u.length;c++){var l=u[c];l&&(s+=" && "+(a+=aH(hH(l))))}return s},unescapeFragment:function(e){return hH(decodeURIComponent(e))},unescapeJsonPointer:hH,escapeFragment:function(e){return encodeURIComponent(fH(e))},escapeJsonPointer:fH};function eH(e,t,r,n){var i=n?" !== ":" === ",a=n?" || ":" && ",o=n?"!":"",s=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+a+"typeof "+t+i+'"object"'+a+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+a+s+"("+t+" % 1)"+a+t+i+t+(r?a+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?a+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}var tH=rH(["string","number","integer","boolean","null"]);function rH(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var nH=/^[a-z$_][a-z$_0-9]*$/i,iH=/'|\\/g;function aH(e){return"number"==typeof e?"["+e+"]":nH.test(e)?"."+e:"['"+oH(e)+"']"}function oH(e){return e.replace(iH,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function sH(e){return"'"+oH(e)+"'"}var uH=/^\/(?:[^~]|~0|~1)*$/,cH=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function lH(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function fH(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function hH(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var AH=ZQ,dH=function(e){AH.copy(e,this)},pH={exports:{}},vH=pH.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),gH(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function gH(e,t,r,n,a,o,s,u,c,l){if(n&&"object"==i(n)&&!Array.isArray(n)){for(var f in t(n,a,o,s,u,c,l),n){var h=n[f];if(Array.isArray(h)){if(f in vH.arrayKeywords)for(var A=0;A<h.length;A++)gH(e,t,r,h[A],a+"/"+f+"/"+A,o,a,f,n,A)}else if(f in vH.propsKeywords){if(h&&"object"==i(h))for(var d in h)gH(e,t,r,h[d],a+"/"+f+"/"+d.replace(/~/g,"~0").replace(/\//g,"~1"),o,a,f,n,d)}else(f in vH.keywords||e.allKeys&&!(f in vH.skipKeywords))&&gH(e,t,r,h,a+"/"+f,o,a,f,n)}r(n,a,o,s,u,c,l)}}vH.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},vH.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},vH.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},vH.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var yH=YQ,mH=$Q,bH=ZQ,wH=dH,xH=pH.exports,kH=_H;function _H(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return _H.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof wH)return PH(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,a,o,s=BH.call(this,t,r);return s&&(i=s.schema,t=s.root,o=s.baseId),i instanceof wH?a=i.validate||e.call(this,i.schema,t,void 0,o):void 0!==i&&(a=PH(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,o)),a}function BH(e,t){var r=yH.parse(t),n=NH(r),i=LH(this._getId(e.schema));if(0===Object.keys(e.schema).length||n!==i){var a=UH(n),o=this._refs[a];if("string"==typeof o)return EH.call(this,e,o,r);if(o instanceof wH)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[a])instanceof wH))return;if(o.validate||this._compile(o),a==UH(t))return{schema:o,root:e,baseId:i};e=o}if(!e.schema)return;i=LH(this._getId(e.schema))}return CH.call(this,r,i,e.schema,e)}function EH(e,t,r){var n=BH.call(this,e,t);if(n){var i=n.schema,a=n.baseId;e=n.root;var o=this._getId(i);return o&&(a=FH(a,o)),CH.call(this,r,a,i,e)}}_H.normalizeId=UH,_H.fullPath=LH,_H.url=FH,_H.ids=function(e){var t=UH(this._getId(e)),r={"":t},n={"":LH(t,!1)},i={},a=this;return xH(e,{allKeys:!0},(function(e,t,o,s,u,c,l){if(""!==t){var f=a._getId(e),h=r[s],A=n[s]+"/"+u;if(void 0!==l&&(A+="/"+("number"==typeof l?l:bH.escapeFragment(l))),"string"==typeof f){f=h=UH(h?yH.resolve(h,f):f);var d=a._refs[f];if("string"==typeof d&&(d=a._refs[d]),d&&d.schema){if(!mH(e,d.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=UH(A))if("#"==f[0]){if(i[f]&&!mH(e,i[f]))throw new Error('id "'+f+'" resolves to more than one schema');i[f]=e}else a._refs[f]=A}r[t]=h,n[t]=A}})),i},_H.inlineRef=PH,_H.schema=BH;var SH=bH.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function CH(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),a=1;a<i.length;a++){var o=i[a];if(o){if(void 0===(r=r[o=bH.unescapeFragment(o)]))break;var s;if(!SH[o]&&((s=this._getId(r))&&(t=FH(t,s)),r.$ref)){var u=FH(t,r.$ref),c=BH.call(this,n,u);c&&(r=c.schema,n=c.root,t=c.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var IH=bH.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function PH(e,t){return!1!==t&&(void 0===t||!0===t?TH(e):t?OH(e)<=t:void 0)}function TH(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==i(t=e[r])&&!TH(t))return!1}else for(var n in e){if("$ref"==n)return!1;if("object"==i(t=e[n])&&!TH(t))return!1}return!0}function OH(e){var t,r=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==i(t=e[n])&&(r+=OH(t)),r==1/0)return 1/0}else for(var a in e){if("$ref"==a)return 1/0;if(IH[a])r++;else if("object"==i(t=e[a])&&(r+=OH(t)+1),r==1/0)return 1/0}return r}function LH(e,t){return!1!==t&&(e=UH(e)),NH(yH.parse(e))}function NH(e){return yH.serialize(e).split("#")[0]+"#"}var MH=/#\/?$/;function UH(e){return e?e.replace(MH,""):""}function FH(e,t){return t=UH(t),yH.resolve(e,t)}var RH=kH,DH={Validation:QH((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:QH(jH)};function jH(e,t,r){this.message=r||jH.message(e,t),this.missingRef=RH.url(e,t),this.missingSchema=RH.normalizeId(RH.fullPath(this.missingRef))}function QH(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}jH.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var HH=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r="boolean"==typeof t.cycles&&t.cycles,n=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]},a={key:n,value:t[n]};return e(i,a)}}}(t.cmp),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=i(t))return JSON.stringify(t);var o,s;if(Array.isArray(t)){for(s="[",o=0;o<t.length;o++)o&&(s+=","),s+=e(t[o])||"null";return s+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=a.push(t)-1,c=Object.keys(t).sort(n&&n(t));for(s="",o=0;o<c.length;o++){var l=c[o],f=e(t[l]);f&&(s&&(s+=","),s+=JSON.stringify(l)+":"+f)}return a.splice(u,1),"{"+s+"}"}}(e)},KH=function(e,t,r){var n="",i=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){t="false schema";var c=e.level,l=e.dataLevel,f=e.schema[t],h=e.schemaPath+e.util.getProperty(t),A=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,p="data"+(l||""),v="valid"+c;if(!1===e.schema){e.isTop?d=!0:n+=" var "+v+" = false; ",(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(A)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var g=n;n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+v+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var y=e.isTop;if(c=e.level=0,l=e.dataLevel=0,p="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var m="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(m);e.logger.warn(m)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,p="data"+((l=e.dataLevel)||""),o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+c+" = errors;"}v="valid"+c,d=!e.opts.allErrors;var b="",w="",x=e.schema.type,k=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(k?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],k=!0)),k&&1==x.length&&(x=x[0],k=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var _=e.util.coerceToTypes(e.opts.coerceTypes,x);var B=e.RULES.types[x];if(_||k||!0===B||B&&!Y(B)){h=e.schemaPath+".type",A=e.errSchemaPath+"/type",h=e.schemaPath+".type",A=e.errSchemaPath+"/type";var E=k?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[E](x,p,e.opts.strictNumbers,!0)+") { ",_){var S="dataType"+c,C="coerced"+c;n+=" var "+S+" = typeof "+p+"; var "+C+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+S+" == 'object' && Array.isArray("+p+") && "+p+".length == 1) { "+p+" = "+p+"[0]; "+S+" = typeof "+p+"; if ("+e.util.checkDataType(e.schema.type,p,e.opts.strictNumbers)+") "+C+" = "+p+"; } "),n+=" if ("+C+" !== undefined) ; ";var I=_;if(I)for(var P,T=-1,O=I.length-1;T<O;)"string"==(P=I[T+=1])?n+=" else if ("+S+" == 'number' || "+S+" == 'boolean') "+C+" = '' + "+p+"; else if ("+p+" === null) "+C+" = ''; ":"number"==P||"integer"==P?(n+=" else if ("+S+" == 'boolean' || "+p+" === null || ("+S+" == 'string' && "+p+" && "+p+" == +"+p+" ","integer"==P&&(n+=" && !("+p+" % 1)"),n+=")) "+C+" = +"+p+"; "):"boolean"==P?n+=" else if ("+p+" === 'false' || "+p+" === 0 || "+p+" === null) "+C+" = false; else if ("+p+" === 'true' || "+p+" === 1) "+C+" = true; ":"null"==P?n+=" else if ("+p+" === '' || "+p+" === 0 || "+p+" === false) "+C+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(n+=" else if ("+S+" == 'string' || "+S+" == 'number' || "+S+" == 'boolean' || "+p+" == null) "+C+" = ["+p+"]; ");n+=" else {   ",(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(A)+" , params: { type: '",n+=k?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=k?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",g=n,n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+C+" !== undefined) {  ";var L=l?"data"+(l-1||""):"parentData";n+=" "+p+" = "+C+"; ",l||(n+="if ("+L+" !== undefined)"),n+=" "+L+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+C+"; } "}else(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(A)+" , params: { type: '",n+=k?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=k?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",g=n,n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";n+=" } "}}if(e.schema.$ref&&!a)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(n+=" } if (errors === ",n+=y?"0":"errs_"+c,n+=") { ",w+="}");else{var N=e.RULES;if(N)for(var M=-1,U=N.length-1;M<U;)if(Y(B=N[M+=1])){if(B.type&&(n+=" if ("+e.util.checkDataType(B.type,p,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==B.type&&e.schema.properties){f=e.schema.properties;var F=Object.keys(f);if(F)for(var R,D=-1,j=F.length-1;D<j;)if(void 0!==(K=f[R=F[D+=1]]).default){var Q=p+e.util.getProperty(R);if(e.compositeRule){if(e.opts.strictDefaults){if(m="default is ignored for: "+Q,"log"!==e.opts.strictDefaults)throw new Error(m);e.logger.warn(m)}}else n+=" if ("+Q+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+Q+" === null || "+Q+" === '' "),n+=" ) "+Q+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(K.default)+" ":n+=" "+JSON.stringify(K.default)+" ",n+="; "}}else if("array"==B.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){T=-1;for(var K,V=H.length-1;T<V;)if(void 0!==(K=H[T+=1]).default)if(Q=p+"["+T+"]",e.compositeRule){if(e.opts.strictDefaults){if(m="default is ignored for: "+Q,"log"!==e.opts.strictDefaults)throw new Error(m);e.logger.warn(m)}}else n+=" if ("+Q+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+Q+" === null || "+Q+" === '' "),n+=" ) "+Q+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(K.default)+" ":n+=" "+JSON.stringify(K.default)+" ",n+="; "}}var z,q=B.rules;if(q)for(var G,W=-1,J=q.length-1;W<J;)if($(G=q[W+=1])){var X=G.code(e,G.keyword,B.type);X&&(n+=" "+X+" ",d&&(b+="}"))}if(d&&(n+=" "+b+" ",b=""),B.type&&(n+=" } ",x&&x===B.type&&!_))n+=" else { ",h=e.schemaPath+".type",A=e.errSchemaPath+"/type",(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(A)+" , params: { type: '",n+=k?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=k?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",g=n,n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ";d&&(n+=" if (errors === ",n+=y?"0":"errs_"+c,n+=") { ",w+="}")}}function Y(e){for(var t=e.rules,r=0;r<t.length;r++)if($(t[r]))return!0}function $(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return d&&(n+=" "+w+" "),y?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+v+" = errors === errs_"+c+";",n},VH=kH,zH=ZQ,qH=DH,GH=HH,WH=KH,JH=zH.ucs2length,XH=$Q,YH=qH.Validation;function $H(e,t,r){var n=eK.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function ZH(e,t,r){var n=eK.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function eK(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function tK(e,t){return"var pattern"+e+" = new RegExp("+zH.toQuotedString(t[e])+");"}function rK(e){return"var default"+e+" = defaults["+e+"];"}function nK(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function iK(e){return"var customRule"+e+" = customRules["+e+"];"}function aK(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}var oK={exports:{}},sK=oK.exports=function(){this._cache={}};sK.prototype.put=function(e,t){this._cache[e]=t},sK.prototype.get=function(e){return this._cache[e]},sK.prototype.del=function(e){delete this._cache[e]},sK.prototype.clear=function(){this._cache={}};var uK=ZQ,cK=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,lK=[0,31,28,31,30,31,30,31,31,30,31,30,31],fK=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,hK=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,AK=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,dK=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,pK=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,vK=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,gK=/^(?:\/(?:[^~/]|~0|~1)*)*$/,yK=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,mK=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,bK=wK;function wK(e){return e="full"==e?"full":"fast",uK.copy(wK[e])}function xK(e){var t=e.match(cK);if(!t)return!1;var r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:lK[n])}function kK(e,t){var r=e.match(fK);if(!r)return!1;var n=r[1],i=r[2],a=r[3],o=r[5];return(n<=23&&i<=59&&a<=59||23==n&&59==i&&60==a)&&(!t||o)}wK.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":dK,url:pK,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:hK,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:SK,uuid:vK,"json-pointer":gK,"json-pointer-uri-fragment":yK,"relative-json-pointer":mK},wK.full={date:xK,time:kK,"date-time":function(e){var t=e.split(_K);return 2==t.length&&xK(t[0])&&kK(t[1],!0)},uri:function(e){return BK.test(e)&&AK.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":dK,url:pK,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:hK,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:SK,uuid:vK,"json-pointer":gK,"json-pointer-uri-fragment":yK,"relative-json-pointer":mK};var _K=/t|\s/i,BK=/\/|:/,EK=/[^\\]\\Z/;function SK(e){if(EK.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var CK=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s;var A="maximum"==t,d=A?"exclusiveMaximum":"exclusiveMinimum",p=e.schema[d],v=e.opts.$data&&p&&p.$data,g=A?"<":">",y=A?">":"<",m=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!v&&void 0!==p&&"number"!=typeof p&&"boolean"!=typeof p)throw new Error(d+" must be number or boolean");if(v){var b,w=e.util.getData(p.$data,o,e.dataPathArr),x="exclusive"+a,k="exclType"+a,_="exclIsNumber"+a,B="' + "+(S="op"+a)+" + '";i+=" var schemaExcl"+a+" = "+w+"; ",i+=" var "+x+"; var "+k+" = typeof "+(w="schemaExcl"+a)+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ",m=d,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(m||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var E=i;i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+k+" == 'number' ? ( ("+x+" = "+n+" === undefined || "+w+" "+g+"= "+n+") ? "+f+" "+y+"= "+w+" : "+f+" "+y+" "+n+" ) : ( ("+x+" = "+w+" === true) ? "+f+" "+y+"= "+n+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { var op"+a+" = "+x+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(m=d,c=e.errSchemaPath+"/"+d,n=w,h=v)}else if(B=g,(_="number"==typeof p)&&h){var S="'"+B+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+p+" "+g+"= "+n+" ? "+f+" "+y+"= "+p+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { "}else _&&void 0===s?(x=!0,m=d,c=e.errSchemaPath+"/"+d,n=p,y+="="):(_&&(n=Math[A?"min":"max"](p,s)),p===(!_||n)?(x=!0,m=d,c=e.errSchemaPath+"/"+d,y+="="):(x=!1,B+="=")),S="'"+B+"'",i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+" "+y+" "+n+" || "+f+" !== "+f+") { ";return m=m||t,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(m||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+S+", limit: "+n+", exclusive: "+x+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+B+" ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",E=i,i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i},IK=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+f+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var A=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(A||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},PK=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var A="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+A+" "+n+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+n+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},TK=function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var A=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(A||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},OK={$ref:function(e,t,r){var n,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(s||""),h="valid"+o;if("#"==u||"#/"==u)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var A=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===A){var d=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(d),(y=y||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var p=a;a=y.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+p+"]); ":a+=" validate.errors = ["+p+"]; return false; ":a+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,d);e.logger.warn(d),l&&(a+=" if (true) { ")}}else if(A.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=A.schema,v.schemaPath="",v.errSchemaPath=u,a+=" "+e.validate(v).replace(/validate\.schema/g,A.code)+" ",l&&(a+=" if ("+g+") { ")}else n=!0===A.$async||e.async&&!1!==A.$async,i=A.code}if(i){var y;(y=y||[]).push(a),a="",e.opts.passContext?a+=" "+i+".call(this, ":a+=" "+i+"( ",a+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var m=a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(a=y.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(a+=" var "+h+"; "),a+=" try { await "+m+"; ",l&&(a+=" "+h+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(a+=" "+h+" = false; "),a+=" } ",l&&(a+=" if ("+h+") { ")}else a+=" if (!"+m+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(a+=" else { ")}return a},allOf:function(e,t,r){var n=" ",a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c=e.util.copy(e),l="";c.level++;var f="valid"+c.level,h=c.baseId,A=!0,d=a;if(d)for(var p,v=-1,g=d.length-1;v<g;)p=d[v+=1],(e.opts.strictKeywords?"object"==i(p)&&Object.keys(p).length>0||!1===p:e.util.schemaHasRules(p,e.RULES.all))&&(A=!1,c.schema=p,c.schemaPath=o+"["+v+"]",c.errSchemaPath=s+"/"+v,n+="  "+e.validate(c)+" ",c.baseId=h,u&&(n+=" if ("+f+") { ",l+="}"));return u&&(n+=A?" if (true) { ":" "+l.slice(0,-1)+" "),n},anyOf:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="valid"+a,A="errs__"+a,d=e.util.copy(e),p="";d.level++;var v="valid"+d.level,g=s.every((function(t){return e.opts.strictKeywords?"object"==i(t)&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(g){var y=d.baseId;n+=" var "+A+" = errors; var "+h+" = false;  ";var m=e.compositeRule;e.compositeRule=d.compositeRule=!0;var b=s;if(b)for(var w,x=-1,k=b.length-1;x<k;)w=b[x+=1],d.schema=w,d.schemaPath=u+"["+x+"]",d.errSchemaPath=c+"/"+x,n+="  "+e.validate(d)+" ",d.baseId=y,n+=" "+h+" = "+h+" || "+v+"; if (!"+h+") { ",p+="}";e.compositeRule=d.compositeRule=m,n+=" "+p+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else l&&(n+=" if (true) { ");return n},$comment:function(e,t,r){var n=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t;e.opts.allErrors;var o=e.util.toQuotedString(i);return!0===e.opts.$comment?n+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),n},const:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),h||(n+=" var schema"+i+" = validate.schema"+s+";"),n+="var "+f+" = equal("+l+", schema"+i+"); if (!"+f+") {   ";var A=A||[];A.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var d=n;return n=A.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+d+"]); ":n+=" validate.errors = ["+d+"]; return false; ":n+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},contains:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="valid"+a,A="errs__"+a,d=e.util.copy(e);d.level++;var p="valid"+d.level,v="i"+a,g=d.dataLevel=e.dataLevel+1,y="data"+g,m=e.baseId,b=e.opts.strictKeywords?"object"==i(s)&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all);if(n+="var "+A+" = errors;var "+h+";",b){var w=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=s,d.schemaPath=u,d.errSchemaPath=c,n+=" var "+p+" = false; for (var "+v+" = 0; "+v+" < "+f+".length; "+v+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var x=f+"["+v+"]";d.dataPathArr[g]=v;var k=e.validate(d);d.baseId=m,e.util.varOccurences(k,y)<2?n+=" "+e.util.varReplace(k,y,x)+" ":n+=" var "+y+" = "+x+"; "+k+" ",n+=" if ("+p+") break; }  ",e.compositeRule=d.compositeRule=w,n+="  if (!"+p+") {"}else n+=" if ("+f+".length == 0) {";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var B=n;return n=_.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n},dependencies:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="errs__"+a,A=e.util.copy(e),d="";A.level++;var p="valid"+A.level,v={},g={},y=e.opts.ownProperties;for(x in s)if("__proto__"!=x){var m=s[x],b=Array.isArray(m)?g:v;b[x]=m}n+="var "+h+" = errors;";var w=e.errorPath;for(var x in n+="var missing"+a+";",g)if((b=g[x]).length){if(n+=" if ( "+f+e.util.getProperty(x)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(x)+"') "),l){n+=" && ( ";var k=b;if(k)for(var _=-1,B=k.length-1;_<B;)T=k[_+=1],_&&(n+=" || "),n+=" ( ( "+(M=f+(N=e.util.getProperty(T)))+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:N)+") ) ";n+=")) {  ";var E="missing"+a,S="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,E,!0):w+" + "+E);var C=C||[];C.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+S+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var I=n;n=C.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var P=b;if(P)for(var T,O=-1,L=P.length-1;O<L;){T=P[O+=1];var N=e.util.getProperty(T),M=(S=e.util.escapeQuotes(T),f+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,T,e.opts.jsonPointers)),n+=" if ( "+M+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+S+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",l&&(d+="}",n+=" else { ")}e.errorPath=w;var U=A.baseId;for(var x in v)m=v[x],(e.opts.strictKeywords?"object"==i(m)&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all))&&(n+=" "+p+" = true; if ( "+f+e.util.getProperty(x)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(x)+"') "),n+=") { ",A.schema=m,A.schemaPath=u+e.util.getProperty(x),A.errSchemaPath=c+"/"+e.util.escapeFragment(x),n+="  "+e.validate(A)+" ",A.baseId=U,n+=" }  ",l&&(n+=" if ("+p+") { ",d+="}"));return l&&(n+="   "+d+" if ("+h+" == errors) {"),n},enum:function(e,t,r){var n=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),f="valid"+i,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var A="i"+i,d="schema"+i;h||(n+=" var "+d+" = validate.schema"+s+";"),n+="var "+f+";",h&&(n+=" if (schema"+i+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+i+")) "+f+" = false; else {"),n+=f+" = false;for (var "+A+"=0; "+A+"<"+d+".length; "+A+"++) if (equal("+l+", "+d+"["+A+"])) { "+f+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+f+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var v=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",c&&(n+=" else { "),n},format:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||"");if(!1===e.opts.format)return l&&(n+=" if (true) { "),n;var h,A=e.opts.$data&&s&&s.$data;A?(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",h="schema"+a):h=s;var d=e.opts.unknownFormats,p=Array.isArray(d);if(A)n+=" var "+(v="format"+a)+" = formats["+h+"]; var "+(g="isObject"+a)+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+(y="formatType"+a)+" = "+g+" && "+v+".type || 'string'; if ("+g+") { ",e.async&&(n+=" var async"+a+" = "+v+".async; "),n+=" "+v+" = "+v+".validate; } if (  ",A&&(n+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),n+=" (","ignore"!=d&&(n+=" ("+h+" && !"+v+" ",p&&(n+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),n+=") || "),n+=" ("+v+" && "+y+" == '"+r+"' && !(typeof "+v+" == 'function' ? ",e.async?n+=" (async"+a+" ? await "+v+"("+f+") : "+v+"("+f+")) ":n+=" "+v+"("+f+") ",n+=" : "+v+".test("+f+"))))) {";else{var v;if(!(v=e.formats[s])){if("ignore"==d)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(n+=" if (true) { "),n;if(p&&d.indexOf(s)>=0)return l&&(n+=" if (true) { "),n;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,y=(g="object"==i(v)&&!(v instanceof RegExp)&&v.validate)&&v.type||"string";if(g){var m=!0===v.async;v=v.validate}if(y!=r)return l&&(n+=" if (true) { "),n;if(m){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+e.util.getProperty(s)+".validate")+"("+f+"))) { "}else{n+=" if (! ";var b="formats"+e.util.getProperty(s);g&&(b+=".validate"),n+="function"==typeof v?" "+b+"("+f+") ":" "+b+".test("+f+") ",n+=") { "}}var w=w||[];w.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",n+=A?""+h:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=A?"' + "+h+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=A?"validate.schema"+u:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var x=n;return n=w.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l&&(n+=" else { "),n},if:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="valid"+a,A="errs__"+a,d=e.util.copy(e);d.level++;var p="valid"+d.level,v=e.schema.then,g=e.schema.else,y=void 0!==v&&(e.opts.strictKeywords?"object"==i(v)&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),m=void 0!==g&&(e.opts.strictKeywords?"object"==i(g)&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),b=d.baseId;if(y||m){var w;d.createErrors=!1,d.schema=s,d.schemaPath=u,d.errSchemaPath=c,n+=" var "+A+" = errors; var "+h+" = true;  ";var x=e.compositeRule;e.compositeRule=d.compositeRule=!0,n+="  "+e.validate(d)+" ",d.baseId=b,d.createErrors=!0,n+="  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=x,y?(n+=" if ("+p+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(d)+" ",d.baseId=b,n+=" "+h+" = "+p+"; ",y&&m?n+=" var "+(w="ifClause"+a)+" = 'then'; ":w="'then'",n+=" } ",m&&(n+=" else { ")):n+=" if (!"+p+") { ",m&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(d)+" ",d.baseId=b,n+=" "+h+" = "+p+"; ",y&&m?n+=" var "+(w="ifClause"+a)+" = 'else'; ":w="'else'",n+=" } "),n+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",l&&(n+=" else { ")}else l&&(n+=" if (true) { ");return n},items:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="valid"+a,A="errs__"+a,d=e.util.copy(e),p="";d.level++;var v="valid"+d.level,g="i"+a,y=d.dataLevel=e.dataLevel+1,m="data"+y,b=e.baseId;if(n+="var "+A+" = errors;var "+h+";",Array.isArray(s)){var w=e.schema.additionalItems;if(!1===w){n+=" "+h+" = "+f+".length <= "+s.length+"; ";var x=c;c=e.errSchemaPath+"/additionalItems",n+="  if (!"+h+") {   ";var k=k||[];k.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var _=n;n=k.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c=x,l&&(p+="}",n+=" else { ")}var B=s;if(B)for(var E,S=-1,C=B.length-1;S<C;)if(E=B[S+=1],e.opts.strictKeywords?"object"==i(E)&&Object.keys(E).length>0||!1===E:e.util.schemaHasRules(E,e.RULES.all)){n+=" "+v+" = true; if ("+f+".length > "+S+") { ";var I=f+"["+S+"]";d.schema=E,d.schemaPath=u+"["+S+"]",d.errSchemaPath=c+"/"+S,d.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),d.dataPathArr[y]=S;var P=e.validate(d);d.baseId=b,e.util.varOccurences(P,m)<2?n+=" "+e.util.varReplace(P,m,I)+" ":n+=" var "+m+" = "+I+"; "+P+" ",n+=" }  ",l&&(n+=" if ("+v+") { ",p+="}")}"object"==i(w)&&(e.opts.strictKeywords?"object"==i(w)&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))&&(d.schema=w,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+v+" = true; if ("+f+".length > "+s.length+") {  for (var "+g+" = "+s.length+"; "+g+" < "+f+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),I=f+"["+g+"]",d.dataPathArr[y]=g,P=e.validate(d),d.baseId=b,e.util.varOccurences(P,m)<2?n+=" "+e.util.varReplace(P,m,I)+" ":n+=" var "+m+" = "+I+"; "+P+" ",l&&(n+=" if (!"+v+") break; "),n+=" } }  ",l&&(n+=" if ("+v+") { ",p+="}"))}else(e.opts.strictKeywords?"object"==i(s)&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all))&&(d.schema=s,d.schemaPath=u,d.errSchemaPath=c,n+="  for (var "+g+" = 0; "+g+" < "+f+".length; "+g+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),I=f+"["+g+"]",d.dataPathArr[y]=g,P=e.validate(d),d.baseId=b,e.util.varOccurences(P,m)<2?n+=" "+e.util.varReplace(P,m,I)+" ":n+=" var "+m+" = "+I+"; "+P+" ",l&&(n+=" if (!"+v+") break; "),n+=" }");return l&&(n+=" "+p+" if ("+A+" == errors) {"),n},maximum:CK,minimum:CK,maxItems:IK,minItems:IK,maxLength:PK,minLength:PK,maxProperties:TK,minProperties:TK,multipleOf:function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+a+";if (",h&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+a+" = "+f+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var A=A||[];A.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var d=i;return i=A.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},not:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="errs__"+a,A=e.util.copy(e);A.level++;var d="valid"+A.level;if(e.opts.strictKeywords?"object"==i(s)&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){A.schema=s,A.schemaPath=u,A.errSchemaPath=c,n+=" var "+h+" = errors;  ";var p,v=e.compositeRule;e.compositeRule=A.compositeRule=!0,A.createErrors=!1,A.opts.allErrors&&(p=A.opts.allErrors,A.opts.allErrors=!1),n+=" "+e.validate(A)+" ",A.createErrors=!0,p&&(A.opts.allErrors=p),e.compositeRule=A.compositeRule=v,n+=" if ("+d+") {   ";var g=g||[];g.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var y=n;n=g.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(n+=" if (false) { ");return n},oneOf:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="valid"+a,A="errs__"+a,d=e.util.copy(e),p="";d.level++;var v="valid"+d.level,g=d.baseId,y="prevValid"+a,m="passingSchemas"+a;n+="var "+A+" = errors , "+y+" = false , "+h+" = false , "+m+" = null; ";var b=e.compositeRule;e.compositeRule=d.compositeRule=!0;var w=s;if(w)for(var x,k=-1,_=w.length-1;k<_;)x=w[k+=1],(e.opts.strictKeywords?"object"==i(x)&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all))?(d.schema=x,d.schemaPath=u+"["+k+"]",d.errSchemaPath=c+"/"+k,n+="  "+e.validate(d)+" ",d.baseId=g):n+=" var "+v+" = true; ",k&&(n+=" if ("+v+" && "+y+") { "+h+" = false; "+m+" = ["+m+", "+k+"]; } else { ",p+="}"),n+=" if ("+v+") { "+h+" = "+y+" = true; "+m+" = "+k+"; }";return e.compositeRule=d.compositeRule=b,n+=p+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+m+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},pattern:function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(s))+".test("+f+") ) {   ";var A=A||[];A.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=h?""+n:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+n+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var d=i;return i=A.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},properties:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="errs__"+a,A=e.util.copy(e),d="";A.level++;var p="valid"+A.level,v="key"+a,g="idx"+a,y=A.dataLevel=e.dataLevel+1,m="data"+y,b="dataProperties"+a,w=Object.keys(s||{}).filter(N),x=e.schema.patternProperties||{},k=Object.keys(x).filter(N),_=e.schema.additionalProperties,B=w.length||k.length,E=!1===_,S="object"==i(_)&&Object.keys(_).length,C=e.opts.removeAdditional,I=E||S||C,P=e.opts.ownProperties,T=e.baseId,O=e.schema.required;if(O&&(!e.opts.$data||!O.$data)&&O.length<e.opts.loopRequired)var L=e.util.toHash(O);function N(e){return"__proto__"!==e}if(n+="var "+h+" = errors;var "+p+" = true;",P&&(n+=" var "+b+" = undefined;"),I){if(n+=P?" "+b+" = "+b+" || Object.keys("+f+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+v+" = "+b+"["+g+"]; ":" for (var "+v+" in "+f+") { ",B){if(n+=" var isAdditional"+a+" = !(false ",w.length)if(w.length>8)n+=" || validate.schema"+u+".hasOwnProperty("+v+") ";else{var M=w;if(M)for(var U=-1,F=M.length-1;U<F;)X=M[U+=1],n+=" || "+v+" == "+e.util.toQuotedString(X)+" "}if(k.length){var R=k;if(R)for(var D=-1,j=R.length-1;D<j;)oe=R[D+=1],n+=" || "+e.usePattern(oe)+".test("+v+") "}n+=" ); if (isAdditional"+a+") { "}if("all"==C)n+=" delete "+f+"["+v+"]; ";else{var Q=e.errorPath,H="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),E)if(C)n+=" delete "+f+"["+v+"]; ";else{n+=" "+p+" = false; ";var K=c;c=e.errSchemaPath+"/additionalProperties",(ne=ne||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+H+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var V=n;n=ne.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=K,l&&(n+=" break; ")}else if(S)if("failing"==C){n+=" var "+h+" = errors;  ";var z=e.compositeRule;e.compositeRule=A.compositeRule=!0,A.schema=_,A.schemaPath=e.schemaPath+".additionalProperties",A.errSchemaPath=e.errSchemaPath+"/additionalProperties",A.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var q=f+"["+v+"]";A.dataPathArr[y]=v;var G=e.validate(A);A.baseId=T,e.util.varOccurences(G,m)<2?n+=" "+e.util.varReplace(G,m,q)+" ":n+=" var "+m+" = "+q+"; "+G+" ",n+=" if (!"+p+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+f+"["+v+"]; }  ",e.compositeRule=A.compositeRule=z}else A.schema=_,A.schemaPath=e.schemaPath+".additionalProperties",A.errSchemaPath=e.errSchemaPath+"/additionalProperties",A.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers),q=f+"["+v+"]",A.dataPathArr[y]=v,G=e.validate(A),A.baseId=T,e.util.varOccurences(G,m)<2?n+=" "+e.util.varReplace(G,m,q)+" ":n+=" var "+m+" = "+q+"; "+G+" ",l&&(n+=" if (!"+p+") break; ");e.errorPath=Q}B&&(n+=" } "),n+=" }  ",l&&(n+=" if ("+p+") { ",d+="}")}var W=e.opts.useDefaults&&!e.compositeRule;if(w.length){var J=w;if(J)for(var X,Y=-1,$=J.length-1;Y<$;){var Z=s[X=J[Y+=1]];if(e.opts.strictKeywords?"object"==i(Z)&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){var ee=e.util.getProperty(X),te=(q=f+ee,W&&void 0!==Z.default);if(A.schema=Z,A.schemaPath=u+ee,A.errSchemaPath=c+"/"+e.util.escapeFragment(X),A.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),A.dataPathArr[y]=e.util.toQuotedString(X),G=e.validate(A),A.baseId=T,e.util.varOccurences(G,m)<2){G=e.util.varReplace(G,m,q);var re=q}else re=m,n+=" var "+m+" = "+q+"; ";if(te)n+=" "+G+" ";else{if(L&&L[X]){n+=" if ( "+re+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(X)+"') "),n+=") { "+p+" = false; ",Q=e.errorPath,K=c;var ne,ie=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Q,X,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(ne=ne||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ie+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ie+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",V=n,n=ne.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+V+"]); ":n+=" validate.errors = ["+V+"]; return false; ":n+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=K,e.errorPath=Q,n+=" } else { "}else l?(n+=" if ( "+re+" === undefined ",P&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(X)+"') "),n+=") { "+p+" = true; } else { "):(n+=" if ("+re+" !== undefined ",P&&(n+=" &&   Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(X)+"') "),n+=" ) { ");n+=" "+G+" } "}}l&&(n+=" if ("+p+") { ",d+="}")}}if(k.length){var ae=k;if(ae)for(var oe,se=-1,ue=ae.length-1;se<ue;)Z=x[oe=ae[se+=1]],(e.opts.strictKeywords?"object"==i(Z)&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all))&&(A.schema=Z,A.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),A.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),n+=P?" "+b+" = "+b+" || Object.keys("+f+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+v+" = "+b+"["+g+"]; ":" for (var "+v+" in "+f+") { ",n+=" if ("+e.usePattern(oe)+".test("+v+")) { ",A.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers),q=f+"["+v+"]",A.dataPathArr[y]=v,G=e.validate(A),A.baseId=T,e.util.varOccurences(G,m)<2?n+=" "+e.util.varReplace(G,m,q)+" ":n+=" var "+m+" = "+q+"; "+G+" ",l&&(n+=" if (!"+p+") break; "),n+=" } ",l&&(n+=" else "+p+" = true; "),n+=" }  ",l&&(n+=" if ("+p+") { ",d+="}"))}return l&&(n+=" "+d+" if ("+h+" == errors) {"),n},propertyNames:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="errs__"+a,A=e.util.copy(e);A.level++;var d="valid"+A.level;if(n+="var "+h+" = errors;",e.opts.strictKeywords?"object"==i(s)&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){A.schema=s,A.schemaPath=u,A.errSchemaPath=c;var p="key"+a,v="idx"+a,g="i"+a,y="' + "+p+" + '",m="data"+(A.dataLevel=e.dataLevel+1),b="dataProperties"+a,w=e.opts.ownProperties,x=e.baseId;w&&(n+=" var "+b+" = undefined; "),n+=w?" "+b+" = "+b+" || Object.keys("+f+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+p+" = "+b+"["+v+"]; ":" for (var "+p+" in "+f+") { ",n+=" var startErrs"+a+" = errors; ";var k=p,_=e.compositeRule;e.compositeRule=A.compositeRule=!0;var B=e.validate(A);A.baseId=x,e.util.varOccurences(B,m)<2?n+=" "+e.util.varReplace(B,m,k)+" ":n+=" var "+m+" = "+k+"; "+B+" ",e.compositeRule=A.compositeRule=_,n+=" if (!"+d+") { for (var "+g+"=startErrs"+a+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+y+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),l&&(n+=" break; "),n+=" } }"}return l&&(n+="  if ("+h+" == errors) {"),n},required:function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="valid"+a,A=e.opts.$data&&s&&s.$data;A&&(n+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var d="schema"+a;if(!A)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],v=s;if(v)for(var g,y=-1,m=v.length-1;y<m;){g=v[y+=1];var b=e.schema.properties[g];b&&(e.opts.strictKeywords?"object"==i(b)&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(p[p.length]=g)}}else p=s;if(A||p.length){var w=e.errorPath,x=A||p.length>=e.opts.loopRequired,k=e.opts.ownProperties;if(l)if(n+=" var missing"+a+"; ",x){A||(n+=" var "+d+" = validate.schema"+u+"; ");var _="' + "+(P="schema"+a+"["+(C="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,P,e.opts.jsonPointers)),n+=" var "+h+" = true; ",A&&(n+=" if (schema"+a+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+a+")) "+h+" = false; else {"),n+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { "+h+" = "+f+"["+d+"["+C+"]] !== undefined ",k&&(n+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+d+"["+C+"]) "),n+="; if (!"+h+") break; } ",A&&(n+="  }  "),n+="  if (!"+h+") {   ",(E=E||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var B=n;n=E.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var E,S=p;if(S)for(var C=-1,I=S.length-1;C<I;)O=S[C+=1],C&&(n+=" || "),n+=" ( ( "+(U=f+(M=e.util.getProperty(O)))+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(O)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:M)+") ) ";n+=") {  ",_="' + "+(P="missing"+a)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,P,!0):w+" + "+P),(E=E||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",B=n,n=E.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(x){var P;A||(n+=" var "+d+" = validate.schema"+u+"; "),_="' + "+(P="schema"+a+"["+(C="i"+a)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,P,e.opts.jsonPointers)),A&&(n+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),n+=" for (var "+C+" = 0; "+C+" < "+d+".length; "+C+"++) { if ("+f+"["+d+"["+C+"]] === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+d+"["+C+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",A&&(n+="  }  ")}else{var T=p;if(T)for(var O,L=-1,N=T.length-1;L<N;){O=T[L+=1];var M=e.util.getProperty(O),U=(_=e.util.escapeQuotes(O),f+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,O,e.opts.jsonPointers)),n+=" if ( "+U+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(O)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else l&&(n+=" if (true) {");return n},uniqueItems:function(e,t,r){var n,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(o||""),h="valid"+a,A=e.opts.$data&&s&&s.$data;if(A?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,(s||A)&&!1!==e.opts.uniqueItems){A&&(i+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+f+".length , "+h+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,p=Array.isArray(d);if(!d||"object"==d||"array"==d||p&&(d.indexOf("object")>=0||d.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var v="checkDataType"+(p?"s":"");i+=" if ("+e.util[v](d,"item",e.opts.strictNumbers,!0)+") continue; ",p&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",A&&(i+="  }  "),i+=" if (!"+h+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=A?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i},validate:KH},LK=OK,NK=ZQ.toHash,MK=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],UK=DH.MissingRef,FK={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},RK=FK,DK={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:RK.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:RK.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},jK=/^[a-z_$][a-z0-9_$-]*$/i,QK=function(e,t,r){var n,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,h="data"+(s||""),A="valid"+o,d="errs__"+o,p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var v,g,y,m,b,w=this,x="definition"+o,k=w.definition,_="";if(p&&k.$data){b="keywordValidate"+o;var B=k.validateSchema;a+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+b+" = "+x+".validate;"}else{if(!(m=e.useCustomRule(w,u,e.schema,e)))return;i="validate.schema"+c,b=m.code,v=k.compile,g=k.inline,y=k.macro}var E=b+".errors",S="i"+o,C="ruleErr"+o,I=k.async;if(I&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(a+=E+" = null;"),a+="var "+d+" = errors;var "+A+";",p&&k.$data&&(_+="}",a+=" if ("+i+" === undefined) { "+A+" = true; } else { ",B&&(_+="}",a+=" "+A+" = "+x+".validateSchema("+i+"); if ("+A+") { ")),g)k.statements?a+=" "+m.validate+" ":a+=" "+A+" = "+m.validate+"; ";else if(y){var P=e.util.copy(e);_="",P.level++;var T="valid"+P.level;P.schema=m.validate,P.schemaPath="";var O=e.compositeRule;e.compositeRule=P.compositeRule=!0;var L=e.validate(P).replace(/validate\.schema/g,b);e.compositeRule=P.compositeRule=O,a+=" "+L}else{(F=F||[]).push(a),a="",a+="  "+b+".call( ",e.opts.passContext?a+="this":a+="self",v||!1===k.schema?a+=" , "+h+" ":a+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var N=s?"data"+(s-1||""):"parentData",M=s?e.dataPathArr[s]:"parentDataProperty",U=a+=" , "+N+" , "+M+" , rootData )  ";a=F.pop(),!1===k.errors?(a+=" "+A+" = ",I&&(a+="await "),a+=U+"; "):a+=I?" var "+(E="customErrors"+o)+" = null; try { "+A+" = await "+U+"; } catch (e) { "+A+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } ":" "+E+" = null; "+A+" = "+U+"; "}if(k.modifying&&(a+=" if ("+N+") "+h+" = "+N+"["+M+"];"),a+=""+_,k.valid)f&&(a+=" if (true) { ");else{var F;a+=" if ( ",void 0===k.valid?(a+=" !",a+=y?""+T:""+A):a+=" "+!k.valid+" ",a+=") { ",n=w.keyword,(F=F||[]).push(a),a="",(F=F||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var R=a;a=F.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+R+"]); ":a+=" validate.errors = ["+R+"]; return false; ":a+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var D=a;a=F.pop(),g?k.errors?"full"!=k.errors&&(a+="  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+C+" = vErrors["+S+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+C+".schema = "+i+"; "+C+".data = "+h+"; "),a+=" } "):!1===k.errors?a+=" "+D+" ":(a+=" if ("+d+" == errors) { "+D+" } else {  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+C+" = vErrors["+S+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+C+".schema = "+i+"; "+C+".data = "+h+"; "),a+=" } } "):y?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===k.errors?a+=" "+D+" ":(a+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+S+"="+d+"; "+S+"<errors; "+S+"++) { var "+C+" = vErrors["+S+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+";  "+C+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(a+=" "+C+".schema = "+i+"; "+C+".data = "+h+"; "),a+=" } } else { "+D+" } "),a+=" } ",f&&(a+=" else { ")}return a},HK=DK,KK={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!jK.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var i=0;i<n.length;i++)o(e,n[i],t);else o(e,n,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function o(e,t,n){for(var i,a=0;a<r.length;a++){var o=r[a];if(o.type==t){i=o;break}}i||(i={type:t,rules:[]},r.push(i));var s={keyword:e,definition:n,custom:!0,code:QK,implements:n.implements};i.rules.push(s),r.custom[e]=s}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(HK,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}},VK={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},zK=function e(t,r,n,a){var o=this,s=this._opts,u=[void 0],c={},l=[],f={},h=[],A={},d=[];r=r||{schema:t,refVal:u,refs:c};var p=$H.call(this,t,r,a),v=this._compilations[p.index];if(p.compiling)return v.callValidate=function e(){var t=v.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var g=this._formats,y=this.RULES;try{var m=w(t,r,n,a);v.validate=m;var b=v.callValidate;return b&&(b.schema=m.schema,b.errors=null,b.refs=m.refs,b.refVal=m.refVal,b.root=m.root,b.$async=m.$async,s.sourceCode&&(b.source=m.source)),m}finally{ZH.call(this,t,r,a)}function w(t,n,i,a){var f=!n||n&&n.schema==t;if(n.schema!=r.schema)return e.call(o,t,n,i,a);var A,p=!0===t.$async,v=WH({isTop:!0,schema:t,isRoot:f,baseId:a,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:qH.MissingRef,RULES:y,validate:WH,util:zH,resolve:VH,resolveRef:x,usePattern:B,useDefault:E,useCustomRule:S,opts:s,formats:g,logger:o.logger,self:o});v=aK(u,nK)+aK(l,tK)+aK(h,rK)+aK(d,iK)+v,s.processCode&&(v=s.processCode(v,t));try{A=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",v)(o,y,g,r,u,h,d,XH,JH,YH),u[0]=A}catch(e){throw o.logger.error("Error compiling schema, function code:",v),e}return A.schema=t,A.errors=null,A.refs=c,A.refVal=u,A.root=f?A:n,p&&(A.$async=!0),!0===s.sourceCode&&(A.source={code:v,patterns:l,defaults:h}),A}function x(t,i,a){i=VH.url(t,i);var l,f,h=c[i];if(void 0!==h)return _(l=u[h],f="refVal["+h+"]");if(!a&&r.refs){var A=r.refs[i];if(void 0!==A)return _(l=r.refVal[A],f=k(i,l))}f=k(i);var d=VH.call(o,w,r,i);if(void 0===d){var p=n&&n[i];p&&(d=VH.inlineRef(p,s.inlineRefs)?p:e.call(o,p,r,n,t))}if(void 0!==d)return function(e,t){var r=c[e];u[r]=t}(i,d),_(d,f);!function(e){delete c[e]}(i)}function k(e,t){var r=u.length;return u[r]=t,c[e]=r,"refVal"+r}function _(e,t){return"object"==i(e)||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=f[e];return void 0===t&&(t=f[e]=l.length,l[t]=e),"pattern"+t}function E(e){switch(i(e)){case"boolean":case"number":return""+e;case"string":return zH.toQuotedString(e);case"object":if(null===e)return"null";var t=GH(e),r=A[t];return void 0===r&&(r=A[t]=h.length,h[r]=e),"default"+r}}function S(e,t,r,n){if(!1!==o._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var a=e.definition.validateSchema;if(a&&!a(t)){var u="keyword schema is invalid: "+o.errorsText(a.errors);if("log"!=o._opts.validateSchema)throw new Error(u);o.logger.error(u)}}var c,l=e.definition.compile,f=e.definition.inline,h=e.definition.macro;if(l)c=l.call(o,t,r,n);else if(h)c=h.call(o,t,r,n),!1!==s.validateSchema&&o.validateSchema(c,!0);else if(f)c=f.call(o,n,e.keyword,t,r);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var A=d.length;return d[A]=c,{code:"customRule"+A,validate:c}}},qK=kH,GK=oK.exports,WK=dH,JK=HH,XK=bK,YK=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n,i=t[r].split("/"),a=e;for(n=1;n<i.length;n++)a=a[i[n]];for(n=0;n<MK.length;n++){var o=MK[n],s=a[o];s&&(a[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},$K=ZQ,ZK=aV;aV.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);return!0!==r.$async&&(this.errors=r.errors),i},aV.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},aV.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,r,n);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return fV(this,t=qK.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,r,n,!0),this},aV.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},aV.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==i(t)?e._getId(t)||t:e.getSchema(rV)?rV:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return n},aV.prototype.getSchema=function(e){var t=oV(this,e);switch(i(t)){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=qK.schema.call(e,{schema:{}},t);if(r){var n=r.schema,i=r.root,a=r.baseId,o=zK.call(e,n,i,void 0,a);return e._fragments[t]=new WK({ref:t,fragment:!0,schema:n,root:i,baseId:a,validate:o}),o}}(this,e)}},aV.prototype.removeSchema=function(e){if(e instanceof RegExp)return sV(this,this._schemas,e),sV(this,this._refs,e),this;switch(i(e)){case"undefined":return sV(this,this._schemas),sV(this,this._refs),this._cache.clear(),this;case"string":var t=oV(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var a=this._getId(e);a&&(a=qK.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this},aV.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},aV.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=n+o.dataPath+" "+o.message+r)}return i.slice(0,-r.length)},aV.prototype._addSchema=function(e,t,r,n){if("object"!=i(e)&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var a=this._opts.serialize,o=a?a(e):e,s=this._cache.get(o);if(s)return s;n=n||!1!==this._opts.addUsedSchema;var u=qK.normalizeId(this._getId(e));u&&n&&fV(this,u);var c,l=!1!==this._opts.validateSchema&&!t;l&&!(c=u&&u==qK.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=qK.ids.call(this,e),h=new WK({id:u,schema:e,localRefs:f,cacheKey:o,meta:r});return"#"!=u[0]&&n&&(this._refs[u]=h),this._cache.put(o,h),l&&c&&this.validateSchema(e,!0),h},aV.prototype._compile=function(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var r,n;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{n=zK.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function i(){var t=e.validate,r=t.apply(this,arguments);return i.errors=t.errors,r}},aV.prototype.compileAsync=function e(t,r,n){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(n=r,r=void 0);var a=o(t).then((function(){var e=i._addSchema(t,void 0,r);return e.validate||s(e)}));return n&&a.then((function(e){n(null,e)}),n),a;function o(t){var r=t.$schema;return r&&!i.getSchema(r)?e.call(i,{$ref:r},!0):Promise.resolve()}function s(e){try{return i._compile(e)}catch(t){if(t instanceof UK)return function(t){var n=t.missingSchema;if(c(n))throw new Error("Schema "+n+" is loaded but "+t.missingRef+" cannot be resolved");var a=i._loadingSchemas[n];return a||(a=i._loadingSchemas[n]=i._opts.loadSchema(n)).then(u,u),a.then((function(e){if(!c(n))return o(e).then((function(){c(n)||i.addSchema(e,n,void 0,r)}))})).then((function(){return s(e)}));function u(){delete i._loadingSchemas[n]}function c(e){return i._refs[e]||i._schemas[e]}}(t);throw t}}};var eV=KK;aV.prototype.addKeyword=eV.add,aV.prototype.getKeyword=eV.get,aV.prototype.removeKeyword=eV.remove,aV.prototype.validateKeyword=eV.validate;var tV=DH;aV.ValidationError=tV.Validation,aV.MissingRefError=tV.MissingRef,aV.$dataMetaSchema=YK;var rV="http://json-schema.org/draft-07/schema",nV=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],iV=["/properties"];function aV(e){if(!(this instanceof aV))return new aV(e);e=this._opts=$K.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:hV,warn:hV,error:hV};else{if(void 0===t&&(t=console),!("object"==i(t)&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=XK(e.format),this._cache=e.cache||new GK,this._loadingSchemas={},this._compilations=[],this.RULES=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=NK(t),e.types=NK(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var n;if("object"==i(r)){var a=Object.keys(r)[0];n=r[a],r=a,n.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:LK[r],implements:n}})),e.all.$comment={keyword:"$comment",code:LK.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=NK(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}(),this._getId=function(e){switch(e.schemaId){case"auto":return lV;case"id":return uV;default:return cV}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=JK),this._metaOpts=function(e){for(var t=$K.copy(e._opts),r=0;r<nV.length;r++)delete t[nV[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;if(e._opts.$data&&(t=VK,e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=FK;e._opts.$data&&(r=YK(r,iV)),e.addMetaSchema(r,rV,!0),e._refs["http://json-schema.org/schema"]=rV}}(this),"object"==i(e.meta)&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function oV(e,t){return t=qK.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function sV(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function uV(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function cV(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function lV(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function fV(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function hV(){}var AV={type:"object",required:["merkleRoot","targetHash","anchors"],properties:{merkleRoot:{type:"string",minLength:64,maxLength:64},targetHash:{type:"string",minLength:64,maxLength:64},anchors:{type:"array",minLength:1,items:{type:"string"}}}},dV={validate:(new ZK).compile(AV)},pV={root:{merkleRoot:0,targetHash:1,anchors:2,path:3},path:{left:0,right:1},chain:{btc:{id:0,networks:{mainnet:1,testnet:3}},eth:{id:1,networks:{mainnet:1,ropsten:3,rinkeby:4}},mtc:{id:2,networks:{mainnet:137,mumbai:80001}}}},vV={},gV=Ea(Sl),yV={},mV={};!function(e){var t=Po.exports.BigNumber;e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:-1,MAXINT32:4294967295,MAXINT64:"0xffffffffffffffff",SHIFT32:e.SHIFT32};var r=new t(-1);e.BN={MINUS_ONE:r,NEG_MAX:r.minus(new t(Number.MAX_SAFE_INTEGER.toString(16),16)),MAXINT:new t("0x20000000000000"),MAXINT32:new t(4294967295),MAXINT64:new t("0xffffffffffffffff"),SHIFT32:new t(e.SHIFT32)}}(mV),function(e){var t=gV,r=Po.exports.BigNumber,n=mV.NUMBYTES,i=mV.SHIFT32;e.hasBigInt="function"==typeof BigInt;var a="function"==typeof TextDecoder?TextDecoder:t.TextDecoder;if(a){var o=new a("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=function(e){return o.decode(e)},e.utf8.checksUTF8=!0}else e.utf8=function(e){return e.toString("utf8")},e.utf8.checksUTF8=!1;e.parseCBORint=function(e,t){switch(e){case n.ONE:return t.readUInt8(0);case n.TWO:return t.readUInt16BE(0);case n.FOUR:return t.readUInt32BE(0);case n.EIGHT:var a=t.readUInt32BE(0),o=t.readUInt32BE(4);return a>2097151?new r(a).times(i).plus(o):a*i+o;default:throw new Error("Invalid additional info for int: "+e)}},e.writeHalf=function(e,t){var r=Ka.allocUnsafe(4);r.writeFloatBE(t,0);var n=r.readUInt32BE(0);if(0!=(8191&n))return!1;var i=n>>16&32768,a=n>>23&255,o=8388607&n;if(a>=113&&a<=142)i+=(a-112<<10)+(o>>13);else{if(!(a>=103&&a<113))return!1;if(o&(1<<126-a)-1)return!1;i+=o+8388608>>126-a}return e.writeUInt16BE(i),!0},e.parseHalf=function(e){var t=128&e[0]?-1:1,r=(124&e[0])>>2,n=(3&e[0])<<8|e[1];return r?31===r?t*(n?NaN:1/0):t*Math.pow(2,r-25)*(1024+n):5.960464477539063e-8*t*n},e.parseCBORfloat=function(t){switch(t.length){case 2:return e.parseHalf(t);case 4:return t.readFloatBE(0);case 8:return t.readDoubleBE(0);default:throw new Error("Invalid float size: "+t.length)}},e.hex=function(e){return Ka.from(e.replace(/^0x/,""),"hex")},e.bin=function(e){for(var t=0,r=(e=e.replace(/\s/g,"")).length%8||8,n=[];r<=e.length;)n.push(parseInt(e.slice(t,r),2)),t=r,r+=8;return Ka.from(n)},e.extend=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length<=1?0:arguments.length-1,r=0;r<t;r++){var n=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];for(var i in n){var a=n[i];e[i]=a}}return e},e.arrayEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((function(e,r){return e===t[r]}))},e.bufferEqual=function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(!Eo(e)||!Eo(t)||e.length!==t.length)return!1;var r,n,i=e.length,a=!0;for(r=n=0;n<i;r=++n){var o=e[r];a=a&&t[r]===o}return!!a},e.bufferToBignumber=function(e){return new r(e.toString("hex"),16)},e.toBigInt=function(t){return e.hasBigInt?BigInt(t):Number(t)},e.bigIntize=function(t){var r={};for(var n in t)r[n]=e.toBigInt(t[n]);return r},e.bufferToBigInt=function(t){return e.toBigInt("0x"+t.toString("hex"))},e.guessEncoding=function(e){if("string"==typeof e)return"hex";if(!Eo(e))throw new Error("Unknown input type")}}(yV);var bV=mV.MT,wV=mV.SIMPLE,xV=mV.SYMS,kV=function(e){function t(e){if(s(this,t),"number"!=typeof e)throw new Error("Invalid Simple type: "+i(e));if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}return c(t,[{key:"toString",value:function(){return"simple("+this.value+")"}},{key:e,value:function(e,t){return"simple("+this.value+")"}},{key:"inspect",value:function(e,t){return"simple("+this.value+")"}},{key:"encodeCBOR",value:function(e){return e._pushInt(this.value,bV.SIMPLE_FLOAT)}}],[{key:"isSimple",value:function(e){return e instanceof t}},{key:"decode",value:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case wV.FALSE:return!1;case wV.TRUE:return!0;case wV.NULL:return r?null:xV.NULL;case wV.UNDEFINED:return r?void 0:xV.UNDEFINED;case-1:if(!r||!n)throw new Error("Invalid BREAK");return xV.BREAK;default:return new t(e)}}}]),t}(gV.inspect.custom),_V=kV,BV=gV,EV=function(e,t){f(n,e);var r=w(n);function n(e,t,a){var o,u,c;switch(s(this,n),null==a&&(a={}),i(e)){case"object":Eo(e)?(u=e,null!=t&&"object"==i(t)&&(a=t)):a=e;break;case"string":u=e,null!=t&&"object"==i(t)?a=t:c=t}null==a&&(a={}),null==u&&(u=a.input),null==c&&(c=a.inputEncoding),delete a.input,delete a.inputEncoding;var l=null==a.watchPipe||a.watchPipe;delete a.watchPipe;var f=!!a.readError;return delete a.readError,(o=r.call(this,a)).readError=f,l&&o.on("pipe",(function(e){var t=e._readableState.objectMode;if(o.length>0&&t!==o._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");return o._readableState.objectMode=t,o._writableState.objectMode=t})),null!=u&&o.end(u,c),o}return c(n,[{key:"_transform",value:function(e,t,r){this._readableState.objectMode||Eo(e)||(e=Ka.from(e,t)),this.push(e),r()}},{key:"_bufArray",value:function(){var e=this._readableState.buffer;if(!Array.isArray(e)){var t=e.head;for(e=[];null!=t;)e.push(t.data),t=t.next}return e}},{key:"read",value:function(e){var t=k(h(n.prototype),"read",this).call(this,e);if(null!=t){if(this.emit("read",t),this.readError&&t.length<e)throw new Error("Read ".concat(t.length,", wanted ").concat(e))}else if(this.readError)throw new Error("No data available, wanted ".concat(e));return t}},{key:"promise",value:function(e){var t=this,r=!1;return new Promise((function(n,i){t.on("finish",(function(){var i=t.read();null==e||r||(r=!0,e(null,i)),n(i)})),t.on("error",(function(t){null==e||r||(r=!0,e(t)),i(t)}))}))}},{key:"compare",value:function(e){if(!(e instanceof n))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;var t=this.slice(),r=e.slice();if(Eo(t)&&Eo(r))return t.compare(r);throw new Error("Cannot compare streams in object mode")}},{key:"equals",value:function(e){return 0===this.compare(e)}},{key:"slice",value:function(e,t){if(this._readableState.objectMode)return this._bufArray().slice(e,t);var r=this._bufArray();switch(r.length){case 0:return Ka.alloc(0);case 1:return r[0].slice(e,t);default:return Ka.concat(r).slice(e,t)}}},{key:"get",value:function(e){return this.slice()[e]}},{key:"toJSON",value:function(){var e=this.slice();return Eo(e)?e.toJSON():e}},{key:"toString",value:function(e,t,r){var n=this.slice(t,r);return Eo(n)?e&&"utf8"!==e||!BV.TextDecoder?n.toString(e,t,r):new BV.TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}).decode(n):JSON.stringify(n)}},{key:"inspect",value:function(e,t){return this[BV.inspect.custom](e,t)}},{key:t,value:function(e,t){var r=this._bufArray().map((function(e){return Eo(e)?(null!=t?t.stylize:void 0)?t.stylize(e.toString("hex"),"string"):e.toString("hex"):BV.inspect(e,t)})).join(", ");return"".concat(this.constructor.name," [").concat(r,"]")}},{key:"length",get:function(){return this._readableState.length}},{key:"writeBigInt",value:function(e){var t=e.toString(16);if(e<0){var r=BigInt(Math.floor(t.length/2));t=(e=(BigInt(1)<<r*BigInt(8))+e).toString(16)}return t.length%2&&(t="0"+t),this.push(Ka.from(t,"hex"))}},{key:"readUBigInt",value:function(e){var t=this.read(e);return Eo(t)?BigInt("0x"+t.toString("hex")):null}},{key:"readBigInt",value:function(e){var t=this.read(e);if(!Eo(t))return null;var r=BigInt("0x"+t.toString("hex"));return 128&t[0]&&(r-=BigInt(1)<<BigInt(t.length)*BigInt(8)),r}}],[{key:"isNoFilter",value:function(e){return e instanceof this}},{key:"compare",value:function(e,t){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===t?0:e.compare(t)}},{key:"concat",value:function(e,t){var r;if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(0===e.length||0===t)return Ka.alloc(0);null==t&&(t=e.reduce((function(e,t){if(!(t instanceof n))throw new TypeError("list argument must be an Array of NoFilters");return e+t.length}),0));var i=!0,a=!0,o=e.map((function(e){if(!(e instanceof n))throw new TypeError("list argument must be an Array of NoFilters");var t=e.slice();return Eo(t)?a=!1:i=!1,t}));if(i)return Ka.concat(o,t);if(a)return(r=[]).concat.apply(r,S(o)).slice(0,t);throw new Error("Concatenating mixed object and byte streams not supported")}}]),n}(gT.Transform,BV.inspect.custom);function SV(e,t){return function(r){var n=this.read(t);return Eo(n)?n[e].call(n,0,!0):null}}function CV(e,t){return function(r){var n=Ka.alloc(t);return n[e].call(n,r,0,!0),this.push(n)}}Object.assign(EV.prototype,{writeUInt8:CV("writeUInt8",1),writeUInt16LE:CV("writeUInt16LE",2),writeUInt16BE:CV("writeUInt16BE",2),writeUInt32LE:CV("writeUInt32LE",4),writeUInt32BE:CV("writeUInt32BE",4),writeInt8:CV("writeInt8",1),writeInt16LE:CV("writeInt16LE",2),writeInt16BE:CV("writeInt16BE",2),writeInt32LE:CV("writeInt32LE",4),writeInt32BE:CV("writeInt32BE",4),writeFloatLE:CV("writeFloatLE",4),writeFloatBE:CV("writeFloatBE",4),writeDoubleLE:CV("writeDoubleLE",8),writeDoubleBE:CV("writeDoubleBE",8),readUInt8:SV("readUInt8",1),readUInt16LE:SV("readUInt16LE",2),readUInt16BE:SV("readUInt16BE",2),readUInt32LE:SV("readUInt32LE",4),readUInt32BE:SV("readUInt32BE",4),readInt8:SV("readInt8",1),readInt16LE:SV("readInt16LE",2),readInt16BE:SV("readInt16BE",2),readInt32LE:SV("readInt32LE",4),readInt32BE:SV("readInt32BE",4),readFloatLE:SV("readFloatLE",4),readFloatBE:SV("readFloatBE",4),readDoubleLE:SV("readDoubleLE",8),readDoubleBE:SV("readDoubleBE",8)});var IV=EV,PV=IV,TV=function(e){f(r,e);var t=w(r);function r(e){var n;return s(this,r),(n=t.call(this,e))._writableState.objectMode=!1,n._readableState.objectMode=!0,n.bs=new PV,n.__restart(),n}return c(r,[{key:"_transform",value:function(e,t,r){for(this.bs.write(e);this.bs.length>=this.__needed;){var n=void 0,i=null===this.__needed?void 0:this.bs.read(this.__needed);try{n=this.__parser.next(i)}catch(e){return r(e)}this.__needed&&(this.__fresh=!1),n.done?(this.push(n.value),this.__restart()):this.__needed=n.value||0}return r()}},{key:"_parse",value:n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Must be implemented in subclass");case 1:case"end":return e.stop()}}),e)}))},{key:"__restart",value:function(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}},{key:"_flush",value:function(e){e(this.__fresh?null:new Error("unexpected end of input"))}}]),r}(gT.Transform),OV=Po.exports.BigNumber,LV=yV,NV=nf,MV=new OV(-1),UV=new OV(2),FV=function(){function e(t,r,n){if(s(this,e),this.tag=t,this.value=r,this.err=n,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+i(this.tag)+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}return c(e,[{key:"toString",value:function(){return"".concat(this.tag,"(").concat(JSON.stringify(this.value),")")}},{key:"encodeCBOR",value:function(e){return e._pushTag(this.tag),e.pushAny(this.value)}},{key:"convert",value:function(t){var r=null!=t?t[this.tag]:void 0;if("function"!=typeof r&&"function"!=typeof(r=e["_tag_"+this.tag]))return this;try{return r.call(e,this.value)}catch(t){return this.err=t,this}}}],[{key:"_tag_0",value:function(e){return new Date(e)}},{key:"_tag_1",value:function(e){return new Date(1e3*e)}},{key:"_tag_2",value:function(e){return LV.bufferToBignumber(e)}},{key:"_tag_3",value:function(e){return MV.minus(LV.bufferToBignumber(e))}},{key:"_tag_4",value:function(e){return OV(e[1]).shiftedBy(e[0])}},{key:"_tag_5",value:function(e){return UV.pow(e[0]).times(e[1])}},{key:"_tag_32",value:function(e){return NV.parse(e)}},{key:"_tag_35",value:function(e){return new RegExp(e)}}]),e}(),RV=FV,DV=gT,jV=TV,QV=RV,HV=_V,KV=yV,VV=Po.exports.BigNumber,zV=IV,qV=mV,GV=qV.MT,WV=qV.NUMBYTES,JV=qV.SYMS,XV=KV.bigIntize(qV.BI),YV=qV.BN,$V=Symbol("count"),ZV=Symbol("major type"),ez=Symbol("error"),tz=Symbol("not found");function rz(e,t,r){var n=[];return n[$V]=r,n[JV.PARENT]=e,n[ZV]=t,n}function nz(e,t){var r=new zV;return r[$V]=-1,r[JV.PARENT]=e,r[ZV]=t,r}function iz(e){return KV.bufferToBigInt(e)}function az(e){return XV.MINUS_ONE-KV.bufferToBigInt(e)}var oz=function(e){f(r,e);var t=w(r);function r(e){var n;s(this,r);var i=(e=e||{}).tags;delete e.tags;var a=null!=e.max_depth?e.max_depth:-1;delete e.max_depth;var o=!!KV.hasBigInt&&!!e.bigint;return delete e.bigint,(n=t.call(this,e)).running=!0,n.max_depth=a,n.tags=i,o&&(null==n.tags&&(n.tags={}),null==n.tags[2]&&(n.tags[2]=iz),null==n.tags[3]&&(n.tags[3]=az)),n}return c(r,[{key:"close",value:function(){this.running=!1,this.__fresh=!0}},{key:"_parse",value:n().mark((function e(){var t,r,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null,r=0,i=null;case 1:if(!(this.max_depth>=0&&r>this.max_depth)){e.next=3;break}throw new Error("Maximum depth "+this.max_depth+" exceeded");case 3:return e.next=5,1;case 5:if(a=e.sent[0],this.running){e.next=8;break}throw new Error("Unexpected data: 0x"+a.toString(16));case 8:o=a>>5,s=31&a,u=null!=t?t[ZV]:void 0,c=null!=t?t.length:void 0,e.t0=s,e.next=e.t0===WV.ONE?12:e.t0===WV.TWO||e.t0===WV.FOUR||e.t0===WV.EIGHT?17:28===e.t0||29===e.t0||30===e.t0?24:e.t0===WV.INDEFINITE?25:31;break;case 12:return this.emit("more-bytes",o,1,u,c),e.next=15,1;case 15:return i=e.sent[0],e.abrupt("break",32);case 17:return l=1<<s-24,this.emit("more-bytes",o,l,u,c),e.next=21,l;case 21:return f=e.sent,i=o===GV.SIMPLE_FLOAT?f:KV.parseCBORint(s,f),e.abrupt("break",32);case 24:throw this.running=!1,new Error("Additional info not implemented: "+s);case 25:e.t1=o,e.next=e.t1===GV.POS_INT||e.t1===GV.NEG_INT||e.t1===GV.TAG?28:29;break;case 28:throw new Error("Invalid indefinite encoding for MT ".concat(o));case 29:return i=-1,e.abrupt("break",32);case 31:i=s;case 32:e.t2=o,e.next=e.t2===GV.POS_INT?35:e.t2===GV.NEG_INT?36:e.t2===GV.BYTE_STRING||e.t2===GV.UTF8_STRING?38:e.t2===GV.ARRAY||e.t2===GV.MAP?51:e.t2===GV.TAG?61:e.t2===GV.SIMPLE_FLOAT?63:71;break;case 35:return e.abrupt("break",71);case 36:return i=i===Number.MAX_SAFE_INTEGER?YV.NEG_MAX:i instanceof VV?YV.MINUS_ONE.minus(i):-1-i,e.abrupt("break",71);case 38:e.t3=i,e.next=0===e.t3?41:-1===e.t3?43:45;break;case 41:return this.emit("start-string",o,i,u,c),i=o===GV.BYTE_STRING?Ka.allocUnsafe(0):"",e.abrupt("break",50);case 43:return this.emit("start",o,JV.STREAM,u,c),t=nz(t,o),r++,e.abrupt("continue",124);case 45:return this.emit("start-string",o,i,u,c),e.next=48,i;case 48:i=e.sent,o===GV.UTF8_STRING&&(i=KV.utf8(i));case 50:return e.abrupt("break",71);case 51:e.t4=i,e.next=0===e.t4?54:-1===e.t4?56:58;break;case 54:return i=o===GV.MAP?{}:[],e.abrupt("break",60);case 56:return this.emit("start",o,JV.STREAM,u,c),t=rz(t,o,-1),r++,e.abrupt("continue",124);case 58:return this.emit("start",o,i,u,c),t=rz(t,o,i*(o-3)),r++,e.abrupt("continue",124);case 60:return e.abrupt("break",71);case 61:return this.emit("start",o,i,u,c),(t=rz(t,o,1)).push(i),r++,e.abrupt("continue",124);case 63:if("number"!=typeof i){e.next=70;break}if(!(s===WV.ONE&&i<32)){e.next=66;break}throw new Error("Invalid two-byte encoding of simple value ".concat(i));case 66:h=null!=t,i=HV.decode(i,h,h&&t[$V]<0),e.next=71;break;case 70:i=KV.parseCBORfloat(i);case 71:this.emit("value",i,u,c,s),A=!1;case 73:if(null==t){e.next=122;break}e.t5=!1,e.next=e.t5===(i!==JV.BREAK)?77:e.t5===!Array.isArray(t)?79:e.t5===!(t instanceof zV)?81:85;break;case 77:return t[$V]=1,e.abrupt("break",85);case 79:return t.push(i),e.abrupt("break",85);case 81:if(null==(d=t[ZV])||d===o){e.next=84;break}throw this.running=!1,new Error("Invalid major type in indefinite encoding");case 84:t.write(i);case 85:if(0==--t[$V]){e.next=88;break}return A=!0,e.abrupt("break",122);case 88:if(--r,delete t[$V],!Array.isArray(t)){e.next=110;break}e.t6=t[ZV],e.next=e.t6===GV.ARRAY?92:e.t6===GV.MAP?94:e.t6===GV.TAG?107:108;break;case 92:return i=t,e.abrupt("break",108);case 94:if(p=!0,t.length%2==0){e.next=97;break}throw new Error("Invalid map length: "+t.length);case 97:v=0,g=t.length;case 98:if(!(v<g)){e.next=105;break}if("string"==typeof t[v]){e.next=102;break}return p=!1,e.abrupt("break",105);case 102:v+=2,e.next=98;break;case 105:if(p)for(i={},y=0,m=t.length;y<m;y+=2)i[t[y]]=t[y+1];else for(i=new Map,b=0,w=t.length;b<w;b+=2)i.set(t[b],t[b+1]);return e.abrupt("break",108);case 107:i=new QV(t[0],t[1]).convert(this.tags);case 108:e.next=117;break;case 110:if(!(t instanceof zV)){e.next=117;break}e.t7=t[ZV],e.next=e.t7===GV.BYTE_STRING?114:e.t7===GV.UTF8_STRING?116:117;break;case 114:return i=t.slice(),e.abrupt("break",117);case 116:i=t.toString("utf-8");case 117:this.emit("stop",t[ZV]),x=t,t=t[JV.PARENT],delete x[JV.PARENT],delete x[ZV];case 120:e.next=73;break;case 122:if(A){e.next=124;break}return e.abrupt("return",i);case 124:e.next=1;break;case 126:case"end":return e.stop()}}),e,this)}))}],[{key:"nullcheck",value:function(e){switch(e){case JV.NULL:return null;case JV.UNDEFINED:return;case tz:throw new Error("Value not found");default:return e}}},{key:"decodeFirstSync",value:function(e,t){var n,a={};switch(i(t=t||{encoding:"hex"})){case"string":n=t;break;case"object":n=(a=KV.extend({},t)).encoding,delete a.encoding}for(var o=new r(a),s=e instanceof DV.Readable?e:new zV(e,null!=n?n:KV.guessEncoding(e)),u=o._parse(),c=u.next();!c.done;){var l=s.read(c.value);if(null==l||l.length!==c.value)throw new Error("Insufficient data");c=u.next(l)}var f=r.nullcheck(c.value);if(s.length>0){var h=s.read(1);s.unshift(h);var A=new Error("Unexpected data: 0x"+h[0].toString(16));throw A.value=f,A}return f}},{key:"decodeAllSync",value:function(e,t){var n,a={};switch(i(t=t||{encoding:"hex"})){case"string":n=t;break;case"object":n=(a=KV.extend({},t)).encoding,delete a.encoding}for(var o=new r(a),s=e instanceof DV.Readable?e:new zV(e,null!=n?n:KV.guessEncoding(e)),u=[];s.length>0;){for(var c=o._parse(),l=c.next();!l.done;){var f=s.read(l.value);if(null==f||f.length!==l.value)throw new Error("Insufficient data");l=c.next(f)}u.push(r.nullcheck(l.value))}return u}},{key:"decodeFirst",value:function(e,t,n){var a={},o=!1,s="hex";switch(i(t)){case"function":n=t,s=KV.guessEncoding(e);break;case"string":s=t;break;case"object":s=null!=(a=KV.extend({},t)).encoding?a.encoding:KV.guessEncoding(e),delete a.encoding,o=null!=a.required&&a.required,delete a.required}var u=new r(a),c=tz,l=new Promise((function(e,t){u.on("data",(function(e){c=r.nullcheck(e),u.close()})),u.once("error",(function(e){return c!==tz&&(e.value=c),c=ez,u.close(),t(e)})),u.once("end",(function(){switch(c){case tz:return o?t(new Error("No CBOR found")):e(c);case ez:return;default:return e(c)}}))}));return"function"==typeof n&&l.then((function(e){return n(null,e)}),n),u.end(e,s),l}},{key:"decodeAll",value:function(e,t,n){var a={},o="hex";switch(i(t)){case"function":n=t,o=KV.guessEncoding(e);break;case"string":o=t;break;case"object":o=null!=(a=KV.extend({},t)).encoding?a.encoding:KV.guessEncoding(e),delete a.encoding}var s=new r(a),u=[];s.on("data",(function(e){return u.push(r.nullcheck(e))}));var c=new Promise((function(e,t){s.on("error",t),s.on("end",(function(){return e(u)}))}));return"function"==typeof n&&c.then((function(e){return n(null,e)}),n),s.end(e,o),c}}]),r}(jV);oz.NOT_FOUND=tz;var sz=oz,uz=gT,cz=gV,lz=sz,fz=mV,hz=Po.exports.BigNumber,Az=IV,dz=fz.MT,pz=fz.NUMBYTES,vz=fz.SYMS;function gz(e){return e>1?"s":""}var yz=function(e){f(r,e);var t=w(r);function r(e){var n;s(this,r);var i=Object.assign({depth:1,max_depth:10,no_summary:!1},e,{readableObjectMode:!1,writableObjectMode:!1}),a=i.max_depth;delete i.max_depth;var o=i.depth;return delete i.depth,(n=t.call(this,i)).depth=o,n.max_depth=a,n.all=new Az,i.tags={24:n._tag_24.bind(m(n))},n.parser=new lz(i),n.parser.on("value",n._on_value.bind(m(n))),n.parser.on("start",n._on_start.bind(m(n))),n.parser.on("start-string",n._on_start_string.bind(m(n))),n.parser.on("stop",n._on_stop.bind(m(n))),n.parser.on("more-bytes",n._on_more.bind(m(n))),n.parser.on("error",n._on_error.bind(m(n))),i.no_summary||n.parser.on("data",n._on_data.bind(m(n))),n.parser.bs.on("read",n._on_read.bind(m(n))),n}return c(r,[{key:"_tag_24",value:function(e){var t=this,n=new r({depth:this.depth+1,no_summary:!0});n.on("data",(function(e){return t.push(e)})),n.on("error",(function(e){return t.emit("error",e)})),n.end(e)}},{key:"_transform",value:function(e,t,r){this.parser.write(e,t,r)}},{key:"_flush",value:function(e){return this.parser._flush(e)}},{key:"_on_error",value:function(e){this.push("ERROR: "),this.push(e.toString()),this.push("\n")}},{key:"_on_read",value:function(e){this.all.write(e);var t=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(t);var r=2*(this.max_depth-this.depth);return(r-=t.length)<1&&(r=1),this.push(new Array(r+1).join(" ")),this.push("-- ")}},{key:"_on_more",value:function(e,t,r,n){this.depth++;var i="";switch(e){case dz.POS_INT:i="Positive number,";break;case dz.NEG_INT:i="Negative number,";break;case dz.ARRAY:i="Array, length";break;case dz.MAP:i="Map, count";break;case dz.BYTE_STRING:i="Bytes, length";break;case dz.UTF8_STRING:i="String, length";break;case dz.SIMPLE_FLOAT:i=1===t?"Simple value,":"Float,"}return this.push(i+" next "+t+" byte"+gz(t)+"\n")}},{key:"_on_start_string",value:function(e,t,r,n){this.depth++;var i="";switch(e){case dz.BYTE_STRING:i="Bytes, length: "+t;break;case dz.UTF8_STRING:i="String, length: "+t.toString()}return this.push(i+"\n")}},{key:"_on_start",value:function(e,t,r,n){if(this.depth++,t!==vz.BREAK)switch(r){case dz.ARRAY:this.push("[".concat(n,"], "));break;case dz.MAP:n%2?this.push("{Val:".concat(Math.floor(n/2),"}, ")):this.push("{Key:".concat(Math.floor(n/2),"}, "))}switch(e){case dz.TAG:this.push("Tag #".concat(t)),24==t&&this.push(" Encoded CBOR data item");break;case dz.ARRAY:t===vz.STREAM?this.push("Array (streaming)"):this.push("Array, ".concat(t," item").concat(gz(t)));break;case dz.MAP:t===vz.STREAM?this.push("Map (streaming)"):this.push("Map, ".concat(t," pair").concat(gz(t)));break;case dz.BYTE_STRING:this.push("Bytes (streaming)");break;case dz.UTF8_STRING:this.push("String (streaming)")}return this.push("\n")}},{key:"_on_stop",value:function(e){return this.depth--}},{key:"_on_value",value:function(e,t,r,n){if(e!==vz.BREAK)switch(t){case dz.ARRAY:this.push("[".concat(r,"], "));break;case dz.MAP:r%2?this.push("{Val:".concat(Math.floor(r/2),"}, ")):this.push("{Key:".concat(Math.floor(r/2),"}, "))}switch(e===vz.BREAK?this.push("BREAK\n"):e===vz.NULL?this.push("null\n"):e===vz.UNDEFINED?this.push("undefined\n"):"string"==typeof e?(this.depth--,e.length>0&&(this.push(JSON.stringify(e)),this.push("\n"))):Eo(e)?(this.depth--,e.length>0&&(this.push(e.toString("hex")),this.push("\n"))):e instanceof hz?(this.push(e.toString()),this.push("\n")):(this.push(cz.inspect(e)),this.push("\n")),n){case pz.ONE:case pz.TWO:case pz.FOUR:case pz.EIGHT:this.depth--}}},{key:"_on_data",value:function(){return this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}],[{key:"comment",value:function(e,t,n){if(null==e)throw new Error("input required");var a="string"==typeof e?"hex":void 0,o=10;switch(i(t)){case"function":n=t;break;case"string":a=t;break;case"number":o=t;break;case"object":var s=t.encoding,u=t.max_depth;a=null!=s?s:a,o=null!=u?u:o;break;case"undefined":break;default:throw new Error("Unknown option type")}var c=new Az,l=new r({max_depth:o}),f=null;return"function"==typeof n?(l.on("end",(function(){n(null,c.toString("utf8"))})),l.on("error",n)):f=new Promise((function(e,t){return l.on("end",(function(){e(c.toString("utf8"))})),l.on("error",t)})),l.pipe(c),l.end(e,a),f}}]),r}(uz.Transform),mz=yz,bz=gT,wz=gV,xz=sz,kz=yV,_z=mV,Bz=Po.exports.BigNumber,Ez=IV,Sz=_z.MT,Cz=_z.SYMS,Iz=function(e){f(r,e);var t=w(r);function r(e){var n;s(this,r);var i=Object.assign({separator:"\n",stream_errors:!1},e,{readableObjectMode:!1,writableObjectMode:!1}),a=i.separator;delete i.separator;var o=i.stream_errors;return delete i.stream_errors,(n=t.call(this,i)).float_bytes=-1,n.separator=a,n.stream_errors=o,n.parser=new xz(i),n.parser.on("more-bytes",n._on_more.bind(m(n))),n.parser.on("value",n._on_value.bind(m(n))),n.parser.on("start",n._on_start.bind(m(n))),n.parser.on("stop",n._on_stop.bind(m(n))),n.parser.on("data",n._on_data.bind(m(n))),n.parser.on("error",n._on_error.bind(m(n))),n}return c(r,[{key:"_transform",value:function(e,t,r){return this.parser.write(e,t,r)}},{key:"_flush",value:function(e){var t=this;return this.parser._flush((function(r){return t.stream_errors?(r&&t._on_error(r),e()):e(r)}))}},{key:"_on_error",value:function(e){return this.stream_errors?this.push(e.toString()):this.emit("error",e)}},{key:"_on_more",value:function(e,t,r,n){if(e===Sz.SIMPLE_FLOAT)return this.float_bytes={2:1,4:2,8:3}[t]}},{key:"_fore",value:function(e,t){switch(e){case Sz.BYTE_STRING:case Sz.UTF8_STRING:case Sz.ARRAY:if(t>0)return this.push(", ");break;case Sz.MAP:if(t>0)return t%2?this.push(": "):this.push(", ")}}},{key:"_on_value",value:function(e,t,r){var n=this;if(e!==Cz.BREAK)return this._fore(t,r),this.push(function(){switch(!1){case e!==Cz.NULL:return"null";case e!==Cz.UNDEFINED:return"undefined";case"string"!=typeof e:return JSON.stringify(e);case!(n.float_bytes>0):var t=n.float_bytes;return n.float_bytes=-1,wz.inspect(e)+"_"+t;case!Eo(e):return"h'"+e.toString("hex")+"'";case!(e instanceof Bz):return e.toString();default:return wz.inspect(e)}}())}},{key:"_on_start",value:function(e,t,r,n){switch(this._fore(r,n),e){case Sz.TAG:this.push("".concat(t,"("));break;case Sz.ARRAY:this.push("[");break;case Sz.MAP:this.push("{");break;case Sz.BYTE_STRING:case Sz.UTF8_STRING:this.push("(")}if(t===Cz.STREAM)return this.push("_ ")}},{key:"_on_stop",value:function(e){switch(e){case Sz.TAG:return this.push(")");case Sz.ARRAY:return this.push("]");case Sz.MAP:return this.push("}");case Sz.BYTE_STRING:case Sz.UTF8_STRING:return this.push(")")}}},{key:"_on_data",value:function(){return this.push(this.separator)}}],[{key:"diagnose",value:function(e,t,n){if(null==e)throw new Error("input required");var a={},o="hex";switch(i(t)){case"function":n=t,o=kz.guessEncoding(e);break;case"object":o=null!=(a=kz.extend({},t)).encoding?a.encoding:kz.guessEncoding(e),delete a.encoding;break;default:o=null!=t?t:"hex"}var s=new Ez,u=new r(a),c=null;return"function"==typeof n?(u.on("end",(function(){return n(null,s.toString("utf8"))})),u.on("error",n)):c=new Promise((function(e,t){return u.on("end",(function(){return e(s.toString("utf8"))})),u.on("error",t)})),u.pipe(s),u.end(e,o),c}}]),r}(bz.Transform),Pz=Iz,Tz=gT,Oz=nf;Po.exports.BigNumber;var Lz=IV,Nz=yV,Mz=mV,Uz=Mz.MT,Fz=Mz.NUMBYTES,Rz=Mz.SHIFT32,Dz=Mz.SYMS,jz=Mz.TAG,Qz=Mz.MT.SIMPLE_FLOAT<<5|Mz.NUMBYTES.TWO,Hz=Mz.MT.SIMPLE_FLOAT<<5|Mz.NUMBYTES.FOUR,Kz=Mz.MT.SIMPLE_FLOAT<<5|Mz.NUMBYTES.EIGHT,Vz=Mz.MT.SIMPLE_FLOAT<<5|Mz.SIMPLE.TRUE,zz=Mz.MT.SIMPLE_FLOAT<<5|Mz.SIMPLE.FALSE,qz=Mz.MT.SIMPLE_FLOAT<<5|Mz.SIMPLE.UNDEFINED,Gz=Mz.MT.SIMPLE_FLOAT<<5|Mz.SIMPLE.NULL,Wz=Ka.from([255]),Jz=Nz.bigIntize(Mz.BI),Xz=Mz.BN,Yz=Ka.from("f97e00","hex"),$z=Ka.from("f9fc00","hex"),Zz=Ka.from("f97c00","hex"),eq=Ka.from("f98000","hex"),tq=Symbol("CBOR_LOOP_DETECT"),rq=function(e){f(r,e);var t=w(r);function r(e){var n;s(this,r);var a=Object.assign({},e,{readableObjectMode:!1,writableObjectMode:!0});(n=t.call(this,a)).canonical=a.canonical,n.encodeUndefined=a.encodeUndefined,n.disallowUndefinedKeys=!!a.disallowUndefinedKeys,n.dateType=null!=a.dateType?a.dateType.toLowerCase():"number",n.collapseBigIntegers=!!a.collapseBigIntegers,"symbol"==i(a.detectLoops)?n.detectLoops=a.detectLoops:n.detectLoops=a.detectLoops?Symbol("CBOR_DETECT"):null,n.semanticTypes={Array:n._pushArray,Date:n._pushDate,Buffer:n._pushBuffer,Map:n._pushMap,NoFilter:n._pushNoFilter,RegExp:n._pushRegexp,Set:n._pushSet,BigNumber:n._pushBigNumber,ArrayBuffer:n._pushUint8Array,Uint8ClampedArray:n._pushUint8Array,Uint8Array:n._pushUint8Array,Uint16Array:n._pushArray,Uint32Array:n._pushArray,Int8Array:n._pushArray,Int16Array:n._pushArray,Int32Array:n._pushArray,Float32Array:n._pushFloat32Array,Float64Array:n._pushFloat64Array},Oz.Url&&n.addSemanticType("Url",n._pushUrl),Oz.URL&&n.addSemanticType("URL",n._pushURL);for(var o=a.genTypes||[],u=0,c=o.length;u<c;u+=2)n.addSemanticType(o[u],o[u+1]);return n}return c(r,[{key:"_transform",value:function(e,t,r){return r(!1===this.pushAny(e)?new Error("Push Error"):void 0)}},{key:"_flush",value:function(e){return e()}},{key:"addSemanticType",value:function(e,t){if("function"!=typeof t)throw new TypeError("fun must be of type function");var r="string"==typeof e?e:e.name,n=this.semanticTypes[r];return this.semanticTypes[r]=t,n}},{key:"_pushUInt8",value:function(e){var t=Ka.allocUnsafe(1);return t.writeUInt8(e,0),this.push(t)}},{key:"_pushUInt16BE",value:function(e){var t=Ka.allocUnsafe(2);return t.writeUInt16BE(e,0),this.push(t)}},{key:"_pushUInt32BE",value:function(e){var t=Ka.allocUnsafe(4);return t.writeUInt32BE(e,0),this.push(t)}},{key:"_pushFloatBE",value:function(e){var t=Ka.allocUnsafe(4);return t.writeFloatBE(e,0),this.push(t)}},{key:"_pushDoubleBE",value:function(e){var t=Ka.allocUnsafe(8);return t.writeDoubleBE(e,0),this.push(t)}},{key:"_pushNaN",value:function(){return this.push(Yz)}},{key:"_pushInfinity",value:function(e){var t=e<0?$z:Zz;return this.push(t)}},{key:"_pushFloat",value:function(e){if(this.canonical){var t=Ka.allocUnsafe(2);if(Nz.writeHalf(t,e))return this._pushUInt8(Qz)&&this.push(t)}return Math.fround(e)===e?this._pushUInt8(Hz)&&this._pushFloatBE(e):this._pushUInt8(Kz)&&this._pushDoubleBE(e)}},{key:"_pushInt",value:function(e,t,r){var n=t<<5;switch(!1){case!(e<24):return this._pushUInt8(n|e);case!(e<=255):return this._pushUInt8(n|Fz.ONE)&&this._pushUInt8(e);case!(e<=65535):return this._pushUInt8(n|Fz.TWO)&&this._pushUInt16BE(e);case!(e<=4294967295):return this._pushUInt8(n|Fz.FOUR)&&this._pushUInt32BE(e);case!(e<=Number.MAX_SAFE_INTEGER):return this._pushUInt8(n|Fz.EIGHT)&&this._pushUInt32BE(Math.floor(e/Rz))&&this._pushUInt32BE(e%Rz);default:return t===Uz.NEG_INT?this._pushFloat(r):this._pushFloat(e)}}},{key:"_pushIntNum",value:function(e){return Object.is(e,-0)?this.push(eq):e<0?this._pushInt(-e-1,Uz.NEG_INT,e):this._pushInt(e,Uz.POS_INT)}},{key:"_pushNumber",value:function(e){switch(!1){case!isNaN(e):return this._pushNaN();case isFinite(e):return this._pushInfinity(e);case Math.round(e)!==e:return this._pushIntNum(e);default:return this._pushFloat(e)}}},{key:"_pushString",value:function(e){var t=Ka.byteLength(e,"utf8");return this._pushInt(t,Uz.UTF8_STRING)&&this.push(e,"utf8")}},{key:"_pushBoolean",value:function(e){return this._pushUInt8(e?Vz:zz)}},{key:"_pushUndefined",value:function(e){switch(i(this.encodeUndefined)){case"undefined":return this._pushUInt8(qz);case"function":return this.pushAny(this.encodeUndefined.call(this,e));case"object":if(Eo(this.encodeUndefined))return this.push(this.encodeUndefined)}return this.pushAny(this.encodeUndefined)}},{key:"_pushNull",value:function(e){return this._pushUInt8(Gz)}},{key:"_pushArray",value:function(e,t,r){r=Object.assign({indefinite:!1},r);var n=t.length;if(r.indefinite){if(!e._pushUInt8(Uz.ARRAY<<5|Fz.INDEFINITE))return!1}else if(!e._pushInt(n,Uz.ARRAY))return!1;for(var i=0;i<n;i++)if(!e.pushAny(t[i]))return!1;return!(r.indefinite&&!e.push(Wz))}},{key:"_pushTag",value:function(e){return this._pushInt(e,Uz.TAG)}},{key:"_pushDate",value:function(e,t){switch(e.dateType){case"string":return e._pushTag(jz.DATE_STRING)&&e._pushString(t.toISOString());case"int":case"integer":return e._pushTag(jz.DATE_EPOCH)&&e._pushIntNum(Math.round(t/1e3));case"float":return e._pushTag(jz.DATE_EPOCH)&&e._pushFloat(t/1e3);default:return e._pushTag(jz.DATE_EPOCH)&&e.pushAny(t/1e3)}}},{key:"_pushBuffer",value:function(e,t){return e._pushInt(t.length,Uz.BYTE_STRING)&&e.push(t)}},{key:"_pushNoFilter",value:function(e,t){return e._pushBuffer(e,t.slice())}},{key:"_pushRegexp",value:function(e,t){return e._pushTag(jz.REGEXP)&&e.pushAny(t.source)}},{key:"_pushSet",value:function(e,t){if(!e._pushInt(t.size,Uz.ARRAY))return!1;var r,n=L(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(!e.pushAny(i))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"_pushUrl",value:function(e,t){return e._pushTag(jz.URI)&&e.pushAny(t.format())}},{key:"_pushURL",value:function(e,t){return e._pushTag(jz.URI)&&e.pushAny(t.toString())}},{key:"_pushBigint",value:function(e){var t=Uz.POS_INT,r=jz.POS_BIGINT;if(e.isNegative()&&(e=e.negated().minus(1),t=Uz.NEG_INT,r=jz.NEG_BIGINT),this.collapseBigIntegers&&e.lte(Xz.MAXINT64))return e.lte(Xz.MAXINT32)?this._pushInt(e.toNumber(),t):this._pushUInt8(t<<5|Fz.EIGHT)&&this._pushUInt32BE(e.dividedToIntegerBy(Xz.SHIFT32).toNumber())&&this._pushUInt32BE(e.mod(Xz.SHIFT32).toNumber());var n=e.toString(16);n.length%2&&(n="0"+n);var i=Ka.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}},{key:"_pushJSBigint",value:function(e){var t=Uz.POS_INT,r=jz.POS_BIGINT;if(e<0&&(e=-e+Jz.MINUS_ONE,t=Uz.NEG_INT,r=jz.NEG_BIGINT),this.collapseBigIntegers&&e<=Jz.MAXINT64)return e<=4294967295?this._pushInt(Number(e),t):this._pushUInt8(t<<5|Fz.EIGHT)&&this._pushUInt32BE(Number(e/Jz.SHIFT32))&&this._pushUInt32BE(Number(e%Jz.SHIFT32));var n=e.toString(16);n.length%2&&(n="0"+n);var i=Ka.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}},{key:"_pushBigNumber",value:function(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(jz.DECIMAL_FRAC)||!e._pushInt(2,Uz.ARRAY))return!1;var r=t.decimalPlaces(),n=t.shiftedBy(r);return!!e._pushIntNum(-r)&&(n.abs().isLessThan(Xz.MAXINT)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}},{key:"_pushMap",value:function(e,t,n){if((n=Object.assign({indefinite:!1},n)).indefinite){if(!e._pushUInt8(Uz.MAP<<5|Fz.INDEFINITE))return!1}else if(!e._pushInt(t.size,Uz.MAP))return!1;if(e.canonical){var i=S(t.entries()),a=new r(this),o=new Lz({highWaterMark:this.readableHighWaterMark});a.pipe(o),i.sort((function(e,t){var r=B(e,1)[0],n=B(t,1)[0];a.pushAny(r);var i=o.read();a.pushAny(n);var s=o.read();return i.compare(s)}));var s,u=L(i);try{for(u.s();!(s=u.n()).done;){var c=B(s.value,2),l=c[0],f=c[1];if(e.disallowUndefinedKeys&&void 0===l)throw new Error("Invalid Map key: undefined");if(!e.pushAny(l)||!e.pushAny(f))return!1}}catch(e){u.e(e)}finally{u.f()}}else{var h,A=L(t);try{for(A.s();!(h=A.n()).done;){var d=B(h.value,2),p=d[0],v=d[1];if(e.disallowUndefinedKeys&&void 0===p)throw new Error("Invalid Map key: undefined");if(!e.pushAny(p)||!e.pushAny(v))return!1}}catch(e){A.e(e)}finally{A.f()}}return!(n.indefinite&&!e.push(Wz))}},{key:"_pushUint8Array",value:function(e,t){return e._pushBuffer(e,Ka.from(t))}},{key:"_pushFloat32Array",value:function(e,t){var r=t.length;if(!e._pushInt(r,Uz.ARRAY))return!1;for(var n=0;n<r;n++)if(!e._pushUInt8(Hz)||!e._pushFloatBE(t[n]))return!1;return!0}},{key:"_pushFloat64Array",value:function(e,t){var r=t.length;if(!e._pushInt(r,Uz.ARRAY))return!1;for(var n=0;n<r;n++)if(!e._pushUInt8(Kz)||!e._pushDoubleBE(t[n]))return!1;return!0}},{key:"removeLoopDetectors",value:function(e){return!!this.detectLoops&&r.removeLoopDetectors(e,this.detectLoops)}},{key:"_pushObject",value:function(e,t){if(!e)return this._pushNull(e);if(!(t=Object.assign({indefinite:!1,skipTypes:!1},t)).indefinite&&this.detectLoops){if(e[tq]===this.detectLoops)throw new Error("Loop detected while CBOR encoding");e[tq]=this.detectLoops}if(!t.skipTypes){var n=e.encodeCBOR;if("function"==typeof n)return n.call(e,this);var i=this.semanticTypes[e.constructor.name];if(i)return i.call(e,this,e)}var a,o=Object.keys(e).filter((function(t){return"function"!=typeof e[t]})),s={};if(this.canonical&&o.sort((function(e,t){var n=s[e]||(s[e]=r.encode(e)),i=s[t]||(s[t]=r.encode(t));return n.compare(i)})),t.indefinite){if(!this._pushUInt8(Uz.MAP<<5|Fz.INDEFINITE))return!1}else if(!this._pushInt(o.length,Uz.MAP))return!1;for(var u=0,c=o.length;u<c;u++){var l=o[u];if(this.canonical&&(a=s[l])){if(!this.push(a))return!1}else if(!this._pushString(l))return!1;if(!this.pushAny(e[l]))return!1}return!(t.indefinite&&!this.push(Wz))}},{key:"pushAny",value:function(e){switch(i(e)){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case Dz.NULL:return this._pushNull(null);case Dz.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+i(e)+", "+(e.toString?e.toString():""))}}},{key:"_pushAny",value:function(e){return this.pushAny(e)}},{key:"_encodeAll",value:function(e){var t=new Lz({highWaterMark:this.readableHighWaterMark});this.pipe(t);var r,n=L(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;this.pushAny(i)}}catch(e){n.e(e)}finally{n.f()}return this.end(),t.read()}}],[{key:"removeLoopDetectors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("object"!=i(e)||!e)return!1;var r=e[tq];if(!r)return!1;if(null==t)t=r;else if(t!==r)return!1;if(delete e[tq],Array.isArray(e)){var n,a=L(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;this.removeLoopDetectors(o,t)}}catch(e){a.e(e)}finally{a.f()}}else for(var s in e)this.removeLoopDetectors(e[s],t);return!0}},{key:"encodeIndefinite",value:function(e,t,r){if(null==t){if(null==this)throw new Error("No object to encode");t=this}r=Object.assign({chunkSize:4096},r);var n=!0,a=i(t);if("string"===a){n=n&&e._pushUInt8(Uz.UTF8_STRING<<5|Fz.INDEFINITE);for(var o=0;o<t.length;){var s=o+r.chunkSize;n=n&&e._pushString(t.slice(o,s)),o=s}n=n&&e.push(Wz)}else if(Eo(t)){n=n&&e._pushUInt8(Uz.BYTE_STRING<<5|Fz.INDEFINITE);for(var u=0;u<t.length;){var c=u+r.chunkSize;n=n&&e._pushBuffer(e,t.slice(u,c)),u=c}n=n&&e.push(Wz)}else if(Array.isArray(t))n=n&&e._pushArray(e,t,{indefinite:!0});else if(t instanceof Map)n=n&&e._pushMap(e,t,{indefinite:!0});else{if("object"!==a)throw new Error("Invalid indefinite encoding");n=n&&e._pushObject(t,{indefinite:!0,skipTypes:!0})}return n}},{key:"encode",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(new r)._encodeAll(t)}},{key:"encodeCanonical",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new r({canonical:!0})._encodeAll(t)}},{key:"encodeOne",value:function(e,t){return new r(t)._encodeAll([e])}},{key:"encodeAsync",value:function(e,t){return new Promise((function(n,i){var a=[],o=new r(t);o.on("data",(function(e){return a.push(e)})),o.on("error",i),o.on("finish",(function(){return n(Ka.concat(a))})),o.pushAny(e),o.end()}))}}]),r}(Tz.Transform),nq=rq,iq=nq,aq=sz,oq=mV.MT,sq=function(e,t){f(i,e);var r=w(i);function i(e){return s(this,i),r.call(this,e)}return c(i,[{key:"get",value:function(e){return k(h(i.prototype),"get",this).call(this,i._encode(e))}},{key:"set",value:function(e,t){return k(h(i.prototype),"set",this).call(this,i._encode(e),t)}},{key:"delete",value:function(e){return k(h(i.prototype),"delete",this).call(this,i._encode(e))}},{key:"has",value:function(e){return k(h(i.prototype),"has",this).call(this,i._encode(e))}},{key:"keys",value:n().mark((function e(){var t,r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=L(k(h(i.prototype),"keys",this).call(this)),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return a=r.value,e.next=7,i._decode(a);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"entries",value:n().mark((function e(){var t,r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=L(k(h(i.prototype),"entries",this).call(this)),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return a=r.value,e.next=7,[i._decode(a[0]),a[1]];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:t,value:function(){return this.entries()}},{key:"forEach",value:function(e,t){if("function"!=typeof e)throw new TypeError("Must be function");var r,n=L(k(h(i.prototype),"entries",this).call(this));try{for(n.s();!(r=n.n()).done;){var a=r.value;e.call(this,a[1],i._decode(a[0]),this)}}catch(e){n.e(e)}finally{n.f()}}},{key:"encodeCBOR",value:function(e){if(!e._pushInt(this.size,oq.MAP))return!1;if(e.canonical){var t=Array.from(k(h(i.prototype),"entries",this).call(this)).map((function(e){return[Ka.from(e[0],"base64"),e[1]]}));t.sort((function(e,t){return e[0].compare(t[0])}));var r,n=L(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(!e.push(a[0])||!e.pushAny(a[1]))return!1}}catch(e){n.e(e)}finally{n.f()}}else{var o,s=L(k(h(i.prototype),"entries",this).call(this));try{for(s.s();!(o=s.n()).done;){var u=o.value;if(!e.push(Ka.from(u[0],"base64"))||!e.pushAny(u[1]))return!1}}catch(e){s.e(e)}finally{s.f()}}return!0}}],[{key:"_encode",value:function(e){return iq.encodeCanonical(e).toString("base64")}},{key:"_decode",value:function(e){return aq.decodeFirstSync(e,"base64")}}]),i}(v(Map),Symbol.iterator),uq=sq;!function(e){e.BigNumber=Po.exports.BigNumber,e.Commented=mz,e.Diagnose=Pz,e.Decoder=sz,e.Encoder=nq,e.Simple=_V,e.Tagged=RV,e.Map=uq,e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeAllSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.hasBigInt=yV.hasBigInt}(vV);var cq={exports:{}},lq=function(){function e(t,r,n,i){s(this,e),this.name=t,this.code=r,this.alphabet=i,n&&i&&(this.engine=n(i))}return c(e,[{key:"encode",value:function(e){return this.engine.encode(e)}},{key:"decode",value:function(e){return this.engine.decode(e)}},{key:"isImplemented",value:function(){return this.engine}}]),e}(),fq=Co.Buffer;var hq=Co.Buffer,Aq=lq,dq=function(e){return{encode:function(t){return function(e,t){var r=e.byteLength,n=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-1));for(var a=0,o=0,s="",u=0;u<r;u++)for(o=o<<8|n[u],a+=8;a>=5;)s+=t[o>>>a-5&31],a-=5;if(a>0&&(s+=t[o<<5-a&31]),i)for(;s.length%8!=0;)s+="=";return s}("string"==typeof t?Uint8Array.from(t):t,e)},decode:function(t){var r,n=L(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(e.indexOf(i)<0)throw new Error("invalid base32 character")}}catch(e){n.e(e)}finally{n.f()}return function(e,t){for(var r=(e=e.replace(new RegExp("=","g"),"")).length,n=0,i=0,a=0,o=new Uint8Array(5*r/8|0),s=0;s<r;s++)i=i<<5|t.indexOf(e[s]),(n+=5)>=8&&(o[a++]=i>>>n-8&255,n-=8);return o.buffer}(t,e)}}},pq=function(e){var t=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode:function(e){var n="";n="string"==typeof e?hq.from(e).toString("base64"):e.toString("base64"),r&&(n=n.replace(/\+/g,"-").replace(/\//g,"_"));var i=n.indexOf("=");return i>0&&!t&&(n=n.substring(0,i)),n},decode:function(t){var r,n=L(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(e.indexOf(i)<0)throw new Error("invalid base64 character")}}catch(e){n.e(e)}finally{n.f()}return hq.from(t,"base64")}}},vq=[["base1","1","","1"],["base2","0",uE,"01"],["base8","7",uE,"01234567"],["base10","9",uE,"0123456789"],["base16","f",function(e){return{encode:function(e){return"string"==typeof e?fq.from(e).toString("hex"):e.toString("hex")},decode:function(t){var r,n=L(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(e.indexOf(i)<0)throw new Error("invalid base16 character")}}catch(e){n.e(e)}finally{n.f()}return fq.from(t,"hex")}}},"0123456789abcdef"],["base32","b",dq,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",dq,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",dq,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",dq,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",dq,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",uE,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",uE,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",pq,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",pq,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",pq,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",pq,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],gq=vq.reduce((function(e,t){return e[t[0]]=new Aq(t[0],t[1],t[2],t[3]),e}),{}),yq=vq.reduce((function(e,t){return e[t[1]]=gq[t[0]],e}),{}),mq={names:gq,codes:yq};!function(e,t){var r=Co.Buffer,n=mq;(t=e.exports=a).encode=function(e,t){var n=o(e);return a(n.name,r.from(n.encode(t)))},t.decode=function(e){r.isBuffer(e)&&(e=e.toString());var t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=r.from(e));var n=o(t);return r.from(n.decode(e.toString()))},t.isEncoded=function(e){if(r.isBuffer(e)&&(e=e.toString()),"[object String]"!==Object.prototype.toString.call(e))return!1;var t=e.substring(0,1);try{return o(t).name}catch(e){return!1}},t.names=Object.freeze(Object.keys(n.names)),t.codes=Object.freeze(Object.keys(n.codes));var i=new Error("Unsupported encoding");function a(e,t){if(!t)throw new Error("requires an encoded buffer");var n=o(e),i=r.from(n.code);return function(e,t){o(e).decode(t.toString())}(n.name,t),r.concat([i,t])}function o(e){var t;if(n.names[e])t=n.names[e];else{if(!n.codes[e])throw i;t=n.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}}(cq,cq.exports);var bq={exports:{}};
/**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   */!function(e,t){(function(){var r,n="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",s=32,u=128,c=1/0,l=9007199254740991,f=NaN,h=4294967295,A=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],d="[object Arguments]",p="[object Array]",v="[object Boolean]",g="[object Date]",y="[object Error]",m="[object Function]",b="[object GeneratorFunction]",w="[object Map]",x="[object Number]",k="[object Object]",_="[object Promise]",B="[object RegExp]",E="[object Set]",S="[object String]",C="[object Symbol]",I="[object WeakMap]",P="[object ArrayBuffer]",T="[object DataView]",O="[object Float32Array]",L="[object Float64Array]",N="[object Int8Array]",M="[object Int16Array]",U="[object Int32Array]",F="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",j="[object Uint32Array]",Q=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,q=RegExp(V.source),G=RegExp(z.source),W=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/[\\^$.*+?()[\]{}|]/g,te=RegExp(ee.source),re=/^\s+/,ne=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,le=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,de=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,me=/['\n\r\u2028\u2029\\]/g,be="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",we="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_e="["+ke+"]",Be="["+be+"]",Ee="\\d+",Se="["+we+"]",Ce="[^\\ud800-\\udfff"+ke+Ee+"\\u2700-\\u27bf"+we+xe+"]",Ie="\\ud83c[\\udffb-\\udfff]",Pe="[^\\ud800-\\udfff]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",Oe="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="["+xe+"]",Ne="(?:"+Se+"|"+Ce+")",Me="(?:"+Le+"|"+Ce+")",Ue="(?:['](?:d|ll|m|re|s|t|ve))?",Fe="(?:['](?:D|LL|M|RE|S|T|VE))?",Re="(?:"+Be+"|"+Ie+")?",De="[\\ufe0e\\ufe0f]?",je=De+Re+"(?:\\u200d(?:"+[Pe,Te,Oe].join("|")+")"+De+Re+")*",Qe="(?:"+["[\\u2700-\\u27bf]",Te,Oe].join("|")+")"+je,He="(?:"+[Pe+Be+"?",Be,Te,Oe,"[\\ud800-\\udfff]"].join("|")+")",Ke=RegExp("[']","g"),Ve=RegExp(Be,"g"),ze=RegExp(Ie+"(?="+Ie+")|"+He+je,"g"),qe=RegExp([Le+"?"+Se+"+"+Ue+"(?="+[_e,Le,"$"].join("|")+")",Me+"+"+Fe+"(?="+[_e,Le+Ne,"$"].join("|")+")",Le+"?"+Ne+"+"+Ue,Le+"+"+Fe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ee,Qe].join("|"),"g"),Ge=RegExp("[\\u200d\\ud800-\\udfff"+be+"\\ufe0e\\ufe0f]"),We=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Je=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xe=-1,Ye={};Ye[O]=Ye[L]=Ye[N]=Ye[M]=Ye[U]=Ye[F]=Ye[R]=Ye[D]=Ye[j]=!0,Ye[d]=Ye[p]=Ye[P]=Ye[v]=Ye[T]=Ye[g]=Ye[y]=Ye[m]=Ye[w]=Ye[x]=Ye[k]=Ye[B]=Ye[E]=Ye[S]=Ye[I]=!1;var $e={};$e[d]=$e[p]=$e[P]=$e[T]=$e[v]=$e[g]=$e[O]=$e[L]=$e[N]=$e[M]=$e[U]=$e[w]=$e[x]=$e[k]=$e[B]=$e[E]=$e[S]=$e[C]=$e[F]=$e[R]=$e[D]=$e[j]=!0,$e[y]=$e[m]=$e[I]=!1;var Ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},et=parseFloat,tt=parseInt,rt="object"==i(Ba)&&Ba&&Ba.Object===Object&&Ba,nt="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,it=rt||nt||Function("return this")(),at=t&&!t.nodeType&&t,ot=at&&e&&!e.nodeType&&e,st=ot&&ot.exports===at,ut=st&&rt.process,ct=function(){try{return ot&&ot.require&&ot.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),lt=ct&&ct.isArrayBuffer,ft=ct&&ct.isDate,ht=ct&&ct.isMap,At=ct&&ct.isRegExp,dt=ct&&ct.isSet,pt=ct&&ct.isTypedArray;function vt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function gt(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function yt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function mt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function wt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function xt(e,t){return!(null==e||!e.length)&&Ot(e,t,0)>-1}function kt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function _t(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Bt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Et(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function St(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var It=Ut("length");function Pt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Tt(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ot(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Tt(e,Nt,r)}function Lt(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function Nt(e){return e!=e}function Mt(e,t){var r=null==e?0:e.length;return r?Dt(e,t)/r:f}function Ut(e){return function(t){return null==t?r:t[e]}}function Ft(e){return function(t){return null==e?r:e[t]}}function Rt(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Dt(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function jt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Qt(e){return e?e.slice(0,ir(e)+1).replace(re,""):e}function Ht(e){return function(t){return e(t)}}function Kt(e,t){return _t(t,(function(t){return e[t]}))}function Vt(e,t){return e.has(t)}function zt(e,t){for(var r=-1,n=e.length;++r<n&&Ot(t,e[r],0)>-1;);return r}function qt(e,t){for(var r=e.length;r--&&Ot(t,e[r],0)>-1;);return r}function Gt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Wt=Ft({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Jt=Ft({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xt(e){return"\\"+Ze[e]}function Yt(e){return Ge.test(e)}function $t(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Zt(e,t){return function(r){return e(t(r))}}function er(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var s=e[r];s!==t&&s!==o||(e[r]=o,a[i++]=r)}return a}function tr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function rr(e){return Yt(e)?function(e){for(var t=ze.lastIndex=0;ze.test(e);)++t;return t}(e):It(e)}function nr(e){return Yt(e)?function(e){return e.match(ze)||[]}(e):function(e){return e.split("")}(e)}function ir(e){for(var t=e.length;t--&&ne.test(e.charAt(t)););return t}var ar=Ft({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),or=function e(t){var ne,be=(t=null==t?it:or.defaults(it.Object(),t,or.pick(it,Je))).Array,we=t.Date,xe=t.Error,ke=t.Function,_e=t.Math,Be=t.Object,Ee=t.RegExp,Se=t.String,Ce=t.TypeError,Ie=be.prototype,Pe=ke.prototype,Te=Be.prototype,Oe=t["__core-js_shared__"],Le=Pe.toString,Ne=Te.hasOwnProperty,Me=0,Ue=(ne=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+ne:"",Fe=Te.toString,Re=Le.call(Be),De=it._,je=Ee("^"+Le.call(Ne).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=st?t.Buffer:r,He=t.Symbol,ze=t.Uint8Array,Ge=Qe?Qe.allocUnsafe:r,Ze=Zt(Be.getPrototypeOf,Be),rt=Be.create,nt=Te.propertyIsEnumerable,at=Ie.splice,ot=He?He.isConcatSpreadable:r,ut=He?He.iterator:r,ct=He?He.toStringTag:r,It=function(){try{var e=ca(Be,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ft=t.clearTimeout!==it.clearTimeout&&t.clearTimeout,sr=we&&we.now!==it.Date.now&&we.now,ur=t.setTimeout!==it.setTimeout&&t.setTimeout,cr=_e.ceil,lr=_e.floor,fr=Be.getOwnPropertySymbols,hr=Qe?Qe.isBuffer:r,Ar=t.isFinite,dr=Ie.join,pr=Zt(Be.keys,Be),vr=_e.max,gr=_e.min,yr=we.now,mr=t.parseInt,br=_e.random,wr=Ie.reverse,xr=ca(t,"DataView"),kr=ca(t,"Map"),_r=ca(t,"Promise"),Br=ca(t,"Set"),Er=ca(t,"WeakMap"),Sr=ca(Be,"create"),Cr=Er&&new Er,Ir={},Pr=Ua(xr),Tr=Ua(kr),Or=Ua(_r),Lr=Ua(Br),Nr=Ua(Er),Mr=He?He.prototype:r,Ur=Mr?Mr.valueOf:r,Fr=Mr?Mr.toString:r;function Rr(e){if(es(e)&&!Ko(e)&&!(e instanceof Hr)){if(e instanceof Qr)return e;if(Ne.call(e,"__wrapped__"))return Fa(e)}return new Qr(e)}var Dr=function(){function e(){}return function(t){if(!Zo(t))return{};if(rt)return rt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function jr(){}function Qr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new zr;++t<r;)this.add(e[t])}function Gr(e){var t=this.__data__=new Vr(e);this.size=t.size}function Wr(e,t){var r=Ko(e),n=!r&&Ho(e),i=!r&&!n&&Go(e),a=!r&&!n&&!i&&us(e),o=r||n||i||a,s=o?jt(e.length,Se):[],u=s.length;for(var c in e)!t&&!Ne.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||va(c,u))||s.push(c);return s}function Jr(e){var t=e.length;return t?e[qn(0,t-1)]:r}function Xr(e,t){return La(Si(e),on(t,0,e.length))}function Yr(e){return La(Si(e))}function $r(e,t,n){(n!==r&&!Do(e[t],n)||n===r&&!(t in e))&&nn(e,t,n)}function Zr(e,t,n){var i=e[t];Ne.call(e,t)&&Do(i,n)&&(n!==r||t in e)||nn(e,t,n)}function en(e,t){for(var r=e.length;r--;)if(Do(e[r][0],t))return r;return-1}function tn(e,t,r,n){return fn(e,(function(e,i,a){t(n,e,r(e),a)})),n}function rn(e,t){return e&&Ci(t,Ps(t),e)}function nn(e,t,r){"__proto__"==t&&It?It(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function an(e,t){for(var n=-1,i=t.length,a=be(i),o=null==e;++n<i;)a[n]=o?r:Bs(e,t[n]);return a}function on(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function sn(e,t,n,i,a,o){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!Zo(e))return e;var f=Ko(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!u)return Si(e,s)}else{var h=ha(e),A=h==m||h==b;if(Go(e))return wi(e,u);if(h==k||h==d||A&&!a){if(s=c||A?{}:da(e),!u)return c?function(e,t){return Ci(e,fa(e),t)}(e,function(e,t){return e&&Ci(t,Ts(t),e)}(s,e)):function(e,t){return Ci(e,la(e),t)}(e,rn(s,e))}else{if(!$e[h])return a?e:{};s=function(e,t,r){var n,i=e.constructor;switch(t){case P:return xi(e);case v:case g:return new i(+e);case T:return function(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case O:case L:case N:case M:case U:case F:case R:case D:case j:return ki(e,r);case w:return new i;case x:case S:return new i(e);case B:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new i;case C:return n=e,Ur?Be(Ur.call(n)):{}}}(e,h,u)}}o||(o=new Gr);var p=o.get(e);if(p)return p;o.set(e,s),as(e)?e.forEach((function(r){s.add(sn(r,t,n,r,e,o))})):ts(e)&&e.forEach((function(r,i){s.set(i,sn(r,t,n,i,e,o))}));var y=f?r:(l?c?ra:ta:c?Ts:Ps)(e);return yt(y||e,(function(r,i){y&&(r=e[i=r]),Zr(s,i,sn(r,t,n,i,e,o))})),s}function un(e,t,n){var i=n.length;if(null==e)return!i;for(e=Be(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function cn(e,t,i){if("function"!=typeof e)throw new Ce(n);return Ia((function(){e.apply(r,i)}),t)}function ln(e,t,r,n){var i=-1,a=xt,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=_t(t,Ht(r))),n?(a=kt,o=!1):t.length>=200&&(a=Vt,o=!1,t=new qr(t));e:for(;++i<s;){var l=e[i],f=null==r?l:r(l);if(l=n||0!==l?l:0,o&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else a(t,f,n)||u.push(l)}return u}Rr.templateSettings={escape:W,evaluate:J,interpolate:X,variable:"",imports:{_:Rr}},Rr.prototype=jr.prototype,Rr.prototype.constructor=Rr,Qr.prototype=Dr(jr.prototype),Qr.prototype.constructor=Qr,Hr.prototype=Dr(jr.prototype),Hr.prototype.constructor=Hr,Kr.prototype.clear=function(){this.__data__=Sr?Sr(null):{},this.size=0},Kr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kr.prototype.get=function(e){var t=this.__data__;if(Sr){var n=t[e];return n===a?r:n}return Ne.call(t,e)?t[e]:r},Kr.prototype.has=function(e){var t=this.__data__;return Sr?t[e]!==r:Ne.call(t,e)},Kr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sr&&t===r?a:t,this},Vr.prototype.clear=function(){this.__data__=[],this.size=0},Vr.prototype.delete=function(e){var t=this.__data__,r=en(t,e);return!(r<0||(r==t.length-1?t.pop():at.call(t,r,1),--this.size,0))},Vr.prototype.get=function(e){var t=this.__data__,n=en(t,e);return n<0?r:t[n][1]},Vr.prototype.has=function(e){return en(this.__data__,e)>-1},Vr.prototype.set=function(e,t){var r=this.__data__,n=en(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},zr.prototype.clear=function(){this.size=0,this.__data__={hash:new Kr,map:new(kr||Vr),string:new Kr}},zr.prototype.delete=function(e){var t=sa(this,e).delete(e);return this.size-=t?1:0,t},zr.prototype.get=function(e){return sa(this,e).get(e)},zr.prototype.has=function(e){return sa(this,e).has(e)},zr.prototype.set=function(e,t){var r=sa(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},qr.prototype.add=qr.prototype.push=function(e){return this.__data__.set(e,a),this},qr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.clear=function(){this.__data__=new Vr,this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Gr.prototype.get=function(e){return this.__data__.get(e)},Gr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Vr){var n=r.__data__;if(!kr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zr(n)}return r.set(e,t),this.size=r.size,this};var fn=Ti(mn),hn=Ti(bn,!0);function An(e,t){var r=!0;return fn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function dn(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(u===r?s==s&&!ss(s):n(s,u)))var u=s,c=o}return c}function pn(e,t){var r=[];return fn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function vn(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=pa),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?vn(s,t-1,r,n,i):Bt(i,s):n||(i[i.length]=s)}return i}var gn=Oi(),yn=Oi(!0);function mn(e,t){return e&&gn(e,t,Ps)}function bn(e,t){return e&&yn(e,t,Ps)}function wn(e,t){return wt(t,(function(t){return Xo(e[t])}))}function xn(e,t){for(var n=0,i=(t=gi(t,e)).length;null!=e&&n<i;)e=e[Ma(t[n++])];return n&&n==i?e:r}function kn(e,t,r){var n=t(e);return Ko(e)?n:Bt(n,r(e))}function _n(e){return null==e?e===r?"[object Undefined]":"[object Null]":ct&&ct in Be(e)?function(e){var t=Ne.call(e,ct),n=e[ct];try{e[ct]=r;var i=!0}catch(e){}var a=Fe.call(e);return i&&(t?e[ct]=n:delete e[ct]),a}(e):function(e){return Fe.call(e)}(e)}function Bn(e,t){return e>t}function En(e,t){return null!=e&&Ne.call(e,t)}function Sn(e,t){return null!=e&&t in Be(e)}function Cn(e,t,n){for(var i=n?kt:xt,a=e[0].length,o=e.length,s=o,u=be(o),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=_t(f,Ht(t))),c=gr(f.length,c),u[s]=!n&&(t||a>=120&&f.length>=120)?new qr(s&&f):r}f=e[0];var h=-1,A=u[0];e:for(;++h<a&&l.length<c;){var d=f[h],p=t?t(d):d;if(d=n||0!==d?d:0,!(A?Vt(A,p):i(l,p,n))){for(s=o;--s;){var v=u[s];if(!(v?Vt(v,p):i(e[s],p,n)))continue e}A&&A.push(p),l.push(d)}}return l}function In(e,t,n){var i=null==(e=Ba(e,t=gi(t,e)))?e:e[Ma(Wa(t))];return null==i?r:vt(i,e,n)}function Pn(e){return es(e)&&_n(e)==d}function Tn(e,t,n,i,a){return e===t||(null==e||null==t||!es(e)&&!es(t)?e!=e&&t!=t:function(e,t,n,i,a,o){var s=Ko(e),u=Ko(t),c=s?p:ha(e),l=u?p:ha(t),f=(c=c==d?k:c)==k,h=(l=l==d?k:l)==k,A=c==l;if(A&&Go(e)){if(!Go(t))return!1;s=!0,f=!1}if(A&&!f)return o||(o=new Gr),s||us(e)?Zi(e,t,n,i,a,o):function(e,t,r,n,i,a,o){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new ze(e),new ze(t)));case v:case g:case x:return Do(+e,+t);case y:return e.name==t.name&&e.message==t.message;case B:case S:return e==t+"";case w:var s=$t;case E:var u=1&n;if(s||(s=tr),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var l=Zi(s(e),s(t),n,i,a,o);return o.delete(e),l;case C:if(Ur)return Ur.call(e)==Ur.call(t)}return!1}(e,t,c,n,i,a,o);if(!(1&n)){var m=f&&Ne.call(e,"__wrapped__"),b=h&&Ne.call(t,"__wrapped__");if(m||b){var _=m?e.value():e,I=b?t.value():t;return o||(o=new Gr),a(_,I,n,i,o)}}return!!A&&(o||(o=new Gr),function(e,t,n,i,a,o){var s=1&n,u=ta(e),c=u.length;if(c!=ta(t).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in t:Ne.call(t,f)))return!1}var h=o.get(e),A=o.get(t);if(h&&A)return h==t&&A==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var v=e[f=u[l]],g=t[f];if(i)var y=s?i(g,v,f,t,e,o):i(v,g,f,e,t,o);if(!(y===r?v===g||a(v,g,n,i,o):y)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,i,a,o))}(e,t,n,i,Tn,a))}function On(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=Be(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var c=(u=n[a])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===r&&!(c in e))return!1}else{var h=new Gr;if(i)var A=i(l,f,c,e,t,h);if(!(A===r?Tn(f,l,3,i,h):A))return!1}}return!0}function Ln(e){return!(!Zo(e)||(t=e,Ue&&Ue in t))&&(Xo(e)?je:de).test(Ua(e));var t}function Nn(e){return"function"==typeof e?e:null==e?ru:"object"==i(e)?Ko(e)?Dn(e[0],e[1]):Rn(e):fu(e)}function Mn(e){if(!wa(e))return pr(e);var t=[];for(var r in Be(e))Ne.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Un(e,t){return e<t}function Fn(e,t){var r=-1,n=zo(e)?be(e.length):[];return fn(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function Rn(e){var t=ua(e);return 1==t.length&&t[0][2]?ka(t[0][0],t[0][1]):function(r){return r===e||On(r,e,t)}}function Dn(e,t){return ya(e)&&xa(t)?ka(Ma(e),t):function(n){var i=Bs(n,e);return i===r&&i===t?Es(n,e):Tn(t,i,3)}}function jn(e,t,n,i,a){e!==t&&gn(t,(function(o,s){if(a||(a=new Gr),Zo(o))!function(e,t,n,i,a,o,s){var u=Sa(e,n),c=Sa(t,n),l=s.get(c);if(l)$r(e,n,l);else{var f=o?o(u,c,n+"",e,t,s):r,h=f===r;if(h){var A=Ko(c),d=!A&&Go(c),p=!A&&!d&&us(c);f=c,A||d||p?Ko(u)?f=u:qo(u)?f=Si(u):d?(h=!1,f=wi(c,!0)):p?(h=!1,f=ki(c,!0)):f=[]:ns(c)||Ho(c)?(f=u,Ho(u)?f=vs(u):Zo(u)&&!Xo(u)||(f=da(c))):h=!1}h&&(s.set(c,f),a(f,c,i,o,s),s.delete(c)),$r(e,n,f)}}(e,t,s,n,jn,i,a);else{var u=i?i(Sa(e,s),o,s+"",e,t,a):r;u===r&&(u=o),$r(e,s,u)}}),Ts)}function Qn(e,t){var n=e.length;if(n)return va(t+=t<0?n:0,n)?e[t]:r}function Hn(e,t,r){t=t.length?_t(t,(function(e){return Ko(e)?function(t){return xn(t,1===e.length?e[0]:e)}:e})):[ru];var n=-1;t=_t(t,Ht(oa()));var i=Fn(e,(function(e,r,i){var a=_t(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var u=_i(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Kn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=xn(e,o);r(s,o)&&Yn(a,gi(o,e),s)}return a}function Vn(e,t,r,n){var i=n?Lt:Ot,a=-1,o=t.length,s=e;for(e===t&&(t=Si(t)),r&&(s=_t(e,Ht(r)));++a<o;)for(var u=0,c=t[a],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&at.call(s,u,1),at.call(e,u,1);return e}function zn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;va(i)?at.call(e,i,1):ci(e,i)}}return e}function qn(e,t){return e+lr(br()*(t-e+1))}function Gn(e,t){var r="";if(!e||t<1||t>l)return r;do{t%2&&(r+=e),(t=lr(t/2))&&(e+=e)}while(t);return r}function Wn(e,t){return Pa(_a(e,t,ru),e+"")}function Jn(e){return Jr(Ds(e))}function Xn(e,t){var r=Ds(e);return La(r,on(t,0,r.length))}function Yn(e,t,n,i){if(!Zo(e))return e;for(var a=-1,o=(t=gi(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var c=Ma(t[a]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=s){var f=u[c];(l=i?i(f,c,u):r)===r&&(l=Zo(f)?f:va(t[a+1])?[]:{})}Zr(u,c,l),u=u[c]}return e}var $n=Cr?function(e,t){return Cr.set(e,t),e}:ru,Zn=It?function(e,t){return It(e,"toString",{configurable:!0,enumerable:!1,value:Zs(t),writable:!0})}:ru;function ei(e){return La(Ds(e))}function ti(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=be(i);++n<i;)a[n]=e[n+t];return a}function ri(e,t){var r;return fn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ni(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!ss(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return ii(e,t,ru,r)}function ii(e,t,n,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,u=null===t,c=ss(t),l=t===r;a<o;){var f=lr((a+o)/2),h=n(e[f]),A=h!==r,d=null===h,p=h==h,v=ss(h);if(s)var g=i||p;else g=l?p&&(i||A):u?p&&A&&(i||!d):c?p&&A&&!d&&(i||!v):!d&&!v&&(i?h<=t:h<t);g?a=f+1:o=f}return gr(o,4294967294)}function ai(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!Do(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function oi(e){return"number"==typeof e?e:ss(e)?f:+e}function si(e){if("string"==typeof e)return e;if(Ko(e))return _t(e,si)+"";if(ss(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,r){var n=-1,i=xt,a=e.length,o=!0,s=[],u=s;if(r)o=!1,i=kt;else if(a>=200){var c=t?null:Gi(e);if(c)return tr(c);o=!1,i=Vt,u=new qr}else u=t?[]:s;e:for(;++n<a;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,o&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}function ci(e,t){return null==(e=Ba(e,t=gi(t,e)))||delete e[Ma(Wa(t))]}function li(e,t,r,n){return Yn(e,t,r(xn(e,t)),n)}function fi(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?ti(e,n?0:a,n?a+1:i):ti(e,n?a+1:0,n?i:a)}function hi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Et(t,(function(e,t){return t.func.apply(t.thisArg,Bt([e],t.args))}),r)}function Ai(e,t,r){var n=e.length;if(n<2)return n?ui(e[0]):[];for(var i=-1,a=be(n);++i<n;)for(var o=e[i],s=-1;++s<n;)s!=i&&(a[i]=ln(a[i]||o,e[s],t,r));return ui(vn(a,1),t,r)}function di(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var u=i<o?t[i]:r;n(s,e[i],u)}return s}function pi(e){return qo(e)?e:[]}function vi(e){return"function"==typeof e?e:ru}function gi(e,t){return Ko(e)?e:ya(e,t)?[e]:Na(gs(e))}var yi=Wn;function mi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ti(e,t,n)}var bi=Ft||function(e){return it.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var r=e.length,n=Ge?Ge(r):new e.constructor(r);return e.copy(n),n}function xi(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function ki(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function _i(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=ss(e),s=t!==r,u=null===t,c=t==t,l=ss(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!l&&e<t||l&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!c)return-1}return 0}function Bi(e,t,r,n){for(var i=-1,a=e.length,o=r.length,s=-1,u=t.length,c=vr(a-o,0),l=be(u+c),f=!n;++s<u;)l[s]=t[s];for(;++i<o;)(f||i<a)&&(l[r[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Ei(e,t,r,n){for(var i=-1,a=e.length,o=-1,s=r.length,u=-1,c=t.length,l=vr(a-s,0),f=be(l+c),h=!n;++i<l;)f[i]=e[i];for(var A=i;++u<c;)f[A+u]=t[u];for(;++o<s;)(h||i<a)&&(f[A+r[o]]=e[i++]);return f}function Si(e,t){var r=-1,n=e.length;for(t||(t=be(n));++r<n;)t[r]=e[r];return t}function Ci(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],c=i?i(n[u],e[u],u,n,e):r;c===r&&(c=e[u]),a?nn(n,u,c):Zr(n,u,c)}return n}function Ii(e,t){return function(r,n){var i=Ko(r)?gt:tn,a=t?t():{};return i(r,e,oa(n,2),a)}}function Pi(e){return Wn((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&ga(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=Be(t);++i<a;){var u=n[i];u&&e(t,u,i,o)}return t}))}function Ti(e,t){return function(r,n){if(null==r)return r;if(!zo(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Be(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function Oi(e){return function(t,r,n){for(var i=-1,a=Be(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function Li(e){return function(t){var n=Yt(t=gs(t))?nr(t):r,i=n?n[0]:t.charAt(0),a=n?mi(n,1).join(""):t.slice(1);return i[e]()+a}}function Ni(e){return function(t){return Et(Xs(Hs(t).replace(Ke,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Dr(e.prototype),n=e.apply(r,t);return Zo(n)?n:r}}function Ui(e){return function(t,n,i){var a=Be(t);if(!zo(t)){var o=oa(n,3);t=Ps(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function Fi(e){return ea((function(t){var i=t.length,a=i,o=Qr.prototype.thru;for(e&&t.reverse();a--;){var s=t[a];if("function"!=typeof s)throw new Ce(n);if(o&&!u&&"wrapper"==ia(s))var u=new Qr([],!0)}for(a=u?a:i;++a<i;){var c=ia(s=t[a]),l="wrapper"==c?na(s):r;u=l&&ma(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ia(l[0])].apply(u,l[3]):1==s.length&&ma(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ko(r))return u.plant(r).value();for(var n=0,a=i?t[n].apply(this,e):r;++n<i;)a=t[n].call(this,a);return a}}))}function Ri(e,t,n,i,a,o,s,c,l,f){var h=t&u,A=1&t,d=2&t,p=24&t,v=512&t,g=d?r:Mi(e);return function r(){for(var u=arguments.length,y=be(u),m=u;m--;)y[m]=arguments[m];if(p)var b=aa(r),w=Gt(y,b);if(i&&(y=Bi(y,i,a,p)),o&&(y=Ei(y,o,s,p)),u-=w,p&&u<f){var x=er(y,b);return zi(e,t,Ri,r.placeholder,n,y,x,c,l,f-u)}var k=A?n:this,_=d?k[e]:e;return u=y.length,c?y=Ea(y,c):v&&u>1&&y.reverse(),h&&l<u&&(y.length=l),this&&this!==it&&this instanceof r&&(_=g||Mi(_)),_.apply(k,y)}}function Di(e,t){return function(r,n){return function(e,t,r,n){return mn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function ji(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=si(n),i=si(i)):(n=oi(n),i=oi(i)),a=e(n,i)}return a}}function Qi(e){return ea((function(t){return t=_t(t,Ht(oa())),Wn((function(r){var n=this;return e(t,(function(e){return vt(e,n,r)}))}))}))}function Hi(e,t){var n=(t=t===r?" ":si(t)).length;if(n<2)return n?Gn(t,e):t;var i=Gn(t,cr(e/rr(t)));return Yt(t)?mi(nr(i),0,e).join(""):i.slice(0,e)}function Ki(e){return function(t,n,i){return i&&"number"!=typeof i&&ga(t,n,i)&&(n=i=r),t=hs(t),n===r?(n=t,t=0):n=hs(n),function(e,t,r,n){for(var i=-1,a=vr(cr((t-e)/(r||1)),0),o=be(a);a--;)o[n?a:++i]=e,e+=r;return o}(t,n,i=i===r?t<n?1:-1:hs(i),e)}}function Vi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ps(t),r=ps(r)),e(t,r)}}function zi(e,t,n,i,a,o,u,c,l,f){var h=8&t;t|=h?s:64,4&(t&=~(h?64:s))||(t&=-4);var A=[e,t,a,h?o:r,h?u:r,h?r:o,h?r:u,c,l,f],d=n.apply(r,A);return ma(e)&&Ca(d,A),d.placeholder=i,Ta(d,e,t)}function qi(e){var t=_e[e];return function(e,r){if(e=ps(e),(r=null==r?0:gr(As(r),292))&&Ar(e)){var n=(gs(e)+"e").split("e");return+((n=(gs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Gi=Br&&1/tr(new Br([,-0]))[1]==c?function(e){return new Br(e)}:su;function Wi(e){return function(t){var r=ha(t);return r==w?$t(t):r==E?function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}(t):function(e,t){return _t(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,i,a,c,l,f,h){var A=2&t;if(!A&&"function"!=typeof e)throw new Ce(n);var d=a?a.length:0;if(d||(t&=-97,a=c=r),f=f===r?f:vr(As(f),0),h=h===r?h:As(h),d-=c?c.length:0,64&t){var p=a,v=c;a=c=r}var g=A?r:na(e),y=[e,t,i,a,c,p,v,l,f,h];if(g&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,s=n==u&&8==r||n==u&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Bi(l,c,t[4]):c,e[4]=l?er(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Ei(l,c,t[6]):c,e[6]=l?er(e[5],o):t[6]),(c=t[7])&&(e[7]=c),n&u&&(e[8]=null==e[8]?t[8]:gr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(y,g),e=y[0],t=y[1],i=y[2],a=y[3],c=y[4],!(h=y[9]=y[9]===r?A?0:e.length:vr(y[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,n){var i=Mi(e);return function a(){for(var o=arguments.length,s=be(o),u=o,c=aa(a);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:er(s,c);return(o-=l.length)<n?zi(e,t,Ri,a.placeholder,r,s,l,r,r,n-o):vt(this&&this!==it&&this instanceof a?i:e,this,s)}}(e,t,h):t!=s&&33!=t||c.length?Ri.apply(r,y):function(e,t,r,n){var i=1&t,a=Mi(e);return function t(){for(var o=-1,s=arguments.length,u=-1,c=n.length,l=be(c+s),f=this&&this!==it&&this instanceof t?a:e;++u<c;)l[u]=n[u];for(;s--;)l[u++]=arguments[++o];return vt(f,i?r:this,l)}}(e,t,i,a);else var m=function(e,t,r){var n=1&t,i=Mi(e);return function t(){return(this&&this!==it&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,i);return Ta((g?$n:Ca)(m,y),e,t)}function Xi(e,t,n,i){return e===r||Do(e,Te[n])&&!Ne.call(i,n)?t:e}function Yi(e,t,n,i,a,o){return Zo(e)&&Zo(t)&&(o.set(t,e),jn(e,t,r,Yi,o),o.delete(t)),e}function $i(e){return ns(e)?r:e}function Zi(e,t,n,i,a,o){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=o.get(e),f=o.get(t);if(l&&f)return l==t&&f==e;var h=-1,A=!0,d=2&n?new qr:r;for(o.set(e,t),o.set(t,e);++h<u;){var p=e[h],v=t[h];if(i)var g=s?i(v,p,h,t,e,o):i(p,v,h,e,t,o);if(g!==r){if(g)continue;A=!1;break}if(d){if(!Ct(t,(function(e,t){if(!Vt(d,t)&&(p===e||a(p,e,n,i,o)))return d.push(t)}))){A=!1;break}}else if(p!==v&&!a(p,v,n,i,o)){A=!1;break}}return o.delete(e),o.delete(t),A}function ea(e){return Pa(_a(e,r,Ka),e+"")}function ta(e){return kn(e,Ps,la)}function ra(e){return kn(e,Ts,fa)}var na=Cr?function(e){return Cr.get(e)}:su;function ia(e){for(var t=e.name+"",r=Ir[t],n=Ne.call(Ir,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function aa(e){return(Ne.call(Rr,"placeholder")?Rr:e).placeholder}function oa(){var e=Rr.iteratee||nu;return e=e===nu?Nn:e,arguments.length?e(arguments[0],arguments[1]):e}function sa(e,t){var r=e.__data__;return function(e){var t=i(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ua(e){for(var t=Ps(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xa(i)]}return t}function ca(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Ln(n)?n:r}var la=fr?function(e){return null==e?[]:(e=Be(e),wt(fr(e),(function(t){return nt.call(e,t)})))}:du,fa=fr?function(e){for(var t=[];e;)Bt(t,la(e)),e=Ze(e);return t}:du,ha=_n;function Aa(e,t,r){for(var n=-1,i=(t=gi(t,e)).length,a=!1;++n<i;){var o=Ma(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&$o(i)&&va(o,i)&&(Ko(e)||Ho(e))}function da(e){return"function"!=typeof e.constructor||wa(e)?{}:Dr(Ze(e))}function pa(e){return Ko(e)||Ho(e)||!!(ot&&e&&e[ot])}function va(e,t){var r=i(e);return!!(t=null==t?l:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function ga(e,t,r){if(!Zo(r))return!1;var n=i(t);return!!("number"==n?zo(r)&&va(t,r.length):"string"==n&&t in r)&&Do(r[t],e)}function ya(e,t){if(Ko(e))return!1;var r=i(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ss(e))||$.test(e)||!Y.test(e)||null!=t&&e in Be(t)}function ma(e){var t=ia(e),r=Rr[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=na(r);return!!n&&e===n[0]}(xr&&ha(new xr(new ArrayBuffer(1)))!=T||kr&&ha(new kr)!=w||_r&&ha(_r.resolve())!=_||Br&&ha(new Br)!=E||Er&&ha(new Er)!=I)&&(ha=function(e){var t=_n(e),n=t==k?e.constructor:r,i=n?Ua(n):"";if(i)switch(i){case Pr:return T;case Tr:return w;case Or:return _;case Lr:return E;case Nr:return I}return t});var ba=Oe?Xo:pu;function wa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function xa(e){return e==e&&!Zo(e)}function ka(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in Be(n))}}function _a(e,t,n){return t=vr(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=vr(r.length-t,0),o=be(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=be(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),vt(e,this,s)}}function Ba(e,t){return t.length<2?e:xn(e,ti(t,0,-1))}function Ea(e,t){for(var n=e.length,i=gr(t.length,n),a=Si(e);i--;){var o=t[i];e[i]=va(o,n)?a[o]:r}return e}function Sa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ca=Oa($n),Ia=ur||function(e,t){return it.setTimeout(e,t)},Pa=Oa(Zn);function Ta(e,t,r){var n=t+"";return Pa(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return yt(A,(function(r){var n="_."+r[0];t&r[1]&&!xt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(oe):[]}(n),r)))}function Oa(e){var t=0,n=0;return function(){var i=yr(),a=16-(i-n);if(n=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function La(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=qn(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Na=function(e){var t=Lo((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Z,(function(e,r,n,i){t.push(n?i.replace(ce,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}();function Ma(e){if("string"==typeof e||ss(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ua(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fa(e){if(e instanceof Hr)return e.clone();var t=new Qr(e.__wrapped__,e.__chain__);return t.__actions__=Si(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ra=Wn((function(e,t){return qo(e)?ln(e,vn(t,1,qo,!0)):[]})),Da=Wn((function(e,t){var n=Wa(t);return qo(n)&&(n=r),qo(e)?ln(e,vn(t,1,qo,!0),oa(n,2)):[]})),ja=Wn((function(e,t){var n=Wa(t);return qo(n)&&(n=r),qo(e)?ln(e,vn(t,1,qo,!0),r,n):[]}));function Qa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:As(r);return i<0&&(i=vr(n+i,0)),Tt(e,oa(t,3),i)}function Ha(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=As(n),a=n<0?vr(i+a,0):gr(a,i-1)),Tt(e,oa(t,3),a,!0)}function Ka(e){return null!=e&&e.length?vn(e,1):[]}function Va(e){return e&&e.length?e[0]:r}var za=Wn((function(e){var t=_t(e,pi);return t.length&&t[0]===e[0]?Cn(t):[]})),qa=Wn((function(e){var t=Wa(e),n=_t(e,pi);return t===Wa(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Cn(n,oa(t,2)):[]})),Ga=Wn((function(e){var t=Wa(e),n=_t(e,pi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Cn(n,r,t):[]}));function Wa(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Ja=Wn(Xa);function Xa(e,t){return e&&e.length&&t&&t.length?Vn(e,t):e}var Ya=ea((function(e,t){var r=null==e?0:e.length,n=an(e,t);return zn(e,_t(t,(function(e){return va(e,r)?+e:e})).sort(_i)),n}));function $a(e){return null==e?e:wr.call(e)}var Za=Wn((function(e){return ui(vn(e,1,qo,!0))})),eo=Wn((function(e){var t=Wa(e);return qo(t)&&(t=r),ui(vn(e,1,qo,!0),oa(t,2))})),to=Wn((function(e){var t=Wa(e);return t="function"==typeof t?t:r,ui(vn(e,1,qo,!0),r,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=wt(e,(function(e){if(qo(e))return t=vr(e.length,t),!0})),jt(t,(function(t){return _t(e,Ut(t))}))}function no(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:_t(n,(function(e){return vt(t,r,e)}))}var io=Wn((function(e,t){return qo(e)?ln(e,t):[]})),ao=Wn((function(e){return Ai(wt(e,qo))})),oo=Wn((function(e){var t=Wa(e);return qo(t)&&(t=r),Ai(wt(e,qo),oa(t,2))})),so=Wn((function(e){var t=Wa(e);return t="function"==typeof t?t:r,Ai(wt(e,qo),r,t)})),uo=Wn(ro),co=Wn((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,no(e,n)}));function lo(e){var t=Rr(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var ho=ea((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return an(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Hr&&va(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[a],thisArg:r}),new Qr(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)})),Ao=Ii((function(e,t,r){Ne.call(e,r)?++e[r]:nn(e,r,1)})),po=Ui(Qa),vo=Ui(Ha);function go(e,t){return(Ko(e)?yt:fn)(e,oa(t,3))}function yo(e,t){return(Ko(e)?mt:hn)(e,oa(t,3))}var mo=Ii((function(e,t,r){Ne.call(e,r)?e[r].push(t):nn(e,r,[t])})),bo=Wn((function(e,t,r){var n=-1,i="function"==typeof t,a=zo(e)?be(e.length):[];return fn(e,(function(e){a[++n]=i?vt(t,e,r):In(e,t,r)})),a})),wo=Ii((function(e,t,r){nn(e,r,t)}));function xo(e,t){return(Ko(e)?_t:Fn)(e,oa(t,3))}var ko=Ii((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),_o=Wn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ga(e,t[0],t[1])?t=[]:r>2&&ga(t[0],t[1],t[2])&&(t=[t[0]]),Hn(e,vn(t,1),[])})),Bo=sr||function(){return it.Date.now()};function Eo(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Ji(e,u,r,r,r,r,t)}function So(e,t){var i;if("function"!=typeof t)throw new Ce(n);return e=As(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var Co=Wn((function(e,t,r){var n=1;if(r.length){var i=er(r,aa(Co));n|=s}return Ji(e,n,t,r,i)})),Io=Wn((function(e,t,r){var n=3;if(r.length){var i=er(r,aa(Io));n|=s}return Ji(t,n,e,r,i)}));function Po(e,t,i){var a,o,s,u,c,l,f=0,h=!1,A=!1,d=!0;if("function"!=typeof e)throw new Ce(n);function p(t){var n=a,i=o;return a=o=r,f=t,u=e.apply(i,n)}function v(e){return f=e,c=Ia(y,t),h?p(e):u}function g(e){var n=e-l;return l===r||n>=t||n<0||A&&e-f>=s}function y(){var e=Bo();if(g(e))return m(e);c=Ia(y,function(e){var r=t-(e-l);return A?gr(r,s-(e-f)):r}(e))}function m(e){return c=r,d&&a?p(e):(a=o=r,u)}function b(){var e=Bo(),n=g(e);if(a=arguments,o=this,l=e,n){if(c===r)return v(l);if(A)return bi(c),c=Ia(y,t),p(l)}return c===r&&(c=Ia(y,t)),u}return t=ps(t)||0,Zo(i)&&(h=!!i.leading,s=(A="maxWait"in i)?vr(ps(i.maxWait)||0,t):s,d="trailing"in i?!!i.trailing:d),b.cancel=function(){c!==r&&bi(c),f=0,a=l=o=c=r},b.flush=function(){return c===r?u:m(Bo())},b}var To=Wn((function(e,t){return cn(e,1,t)})),Oo=Wn((function(e,t,r){return cn(e,ps(t)||0,r)}));function Lo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(n);var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Lo.Cache||zr),r}function No(e){if("function"!=typeof e)throw new Ce(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Lo.Cache=zr;var Mo=yi((function(e,t){var r=(t=1==t.length&&Ko(t[0])?_t(t[0],Ht(oa())):_t(vn(t,1),Ht(oa()))).length;return Wn((function(n){for(var i=-1,a=gr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return vt(e,this,n)}))})),Uo=Wn((function(e,t){var n=er(t,aa(Uo));return Ji(e,s,r,t,n)})),Fo=Wn((function(e,t){var n=er(t,aa(Fo));return Ji(e,64,r,t,n)})),Ro=ea((function(e,t){return Ji(e,256,r,r,r,t)}));function Do(e,t){return e===t||e!=e&&t!=t}var jo=Vi(Bn),Qo=Vi((function(e,t){return e>=t})),Ho=Pn(function(){return arguments}())?Pn:function(e){return es(e)&&Ne.call(e,"callee")&&!nt.call(e,"callee")},Ko=be.isArray,Vo=lt?Ht(lt):function(e){return es(e)&&_n(e)==P};function zo(e){return null!=e&&$o(e.length)&&!Xo(e)}function qo(e){return es(e)&&zo(e)}var Go=hr||pu,Wo=ft?Ht(ft):function(e){return es(e)&&_n(e)==g};function Jo(e){if(!es(e))return!1;var t=_n(e);return t==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ns(e)}function Xo(e){if(!Zo(e))return!1;var t=_n(e);return t==m||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Yo(e){return"number"==typeof e&&e==As(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=l}function Zo(e){var t=i(e);return null!=e&&("object"==t||"function"==t)}function es(e){return null!=e&&"object"==i(e)}var ts=ht?Ht(ht):function(e){return es(e)&&ha(e)==w};function rs(e){return"number"==typeof e||es(e)&&_n(e)==x}function ns(e){if(!es(e)||_n(e)!=k)return!1;var t=Ze(e);if(null===t)return!0;var r=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Le.call(r)==Re}var is=At?Ht(At):function(e){return es(e)&&_n(e)==B},as=dt?Ht(dt):function(e){return es(e)&&ha(e)==E};function os(e){return"string"==typeof e||!Ko(e)&&es(e)&&_n(e)==S}function ss(e){return"symbol"==i(e)||es(e)&&_n(e)==C}var us=pt?Ht(pt):function(e){return es(e)&&$o(e.length)&&!!Ye[_n(e)]},cs=Vi(Un),ls=Vi((function(e,t){return e<=t}));function fs(e){if(!e)return[];if(zo(e))return os(e)?nr(e):Si(e);if(ut&&e[ut])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[ut]());var t=ha(e);return(t==w?$t:t==E?tr:Ds)(e)}function hs(e){return e?(e=ps(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function As(e){var t=hs(e),r=t%1;return t==t?r?t-r:t:0}function ds(e){return e?on(As(e),0,h):0}function ps(e){if("number"==typeof e)return e;if(ss(e))return f;if(Zo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var r=Ae.test(e);return r||pe.test(e)?tt(e.slice(2),r?2:8):he.test(e)?f:+e}function vs(e){return Ci(e,Ts(e))}function gs(e){return null==e?"":si(e)}var ys=Pi((function(e,t){if(wa(t)||zo(t))Ci(t,Ps(t),e);else for(var r in t)Ne.call(t,r)&&Zr(e,r,t[r])})),ms=Pi((function(e,t){Ci(t,Ts(t),e)})),bs=Pi((function(e,t,r,n){Ci(t,Ts(t),e,n)})),ws=Pi((function(e,t,r,n){Ci(t,Ps(t),e,n)})),xs=ea(an),ks=Wn((function(e,t){e=Be(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ga(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Ts(o),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===r||Do(f,Te[l])&&!Ne.call(e,l))&&(e[l]=o[l])}return e})),_s=Wn((function(e){return e.push(r,Yi),vt(Ls,r,e)}));function Bs(e,t,n){var i=null==e?r:xn(e,t);return i===r?n:i}function Es(e,t){return null!=e&&Aa(e,t,Sn)}var Ss=Di((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),Zs(ru)),Cs=Di((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ne.call(e,t)?e[t].push(r):e[t]=[r]}),oa),Is=Wn(In);function Ps(e){return zo(e)?Wr(e):Mn(e)}function Ts(e){return zo(e)?Wr(e,!0):function(e){if(!Zo(e))return function(e){var t=[];if(null!=e)for(var r in Be(e))t.push(r);return t}(e);var t=wa(e),r=[];for(var n in e)("constructor"!=n||!t&&Ne.call(e,n))&&r.push(n);return r}(e)}var Os=Pi((function(e,t,r){jn(e,t,r)})),Ls=Pi((function(e,t,r,n){jn(e,t,r,n)})),Ns=ea((function(e,t){var r={};if(null==e)return r;var n=!1;t=_t(t,(function(t){return t=gi(t,e),n||(n=t.length>1),t})),Ci(e,ra(e),r),n&&(r=sn(r,7,$i));for(var i=t.length;i--;)ci(r,t[i]);return r})),Ms=ea((function(e,t){return null==e?{}:function(e,t){return Kn(e,t,(function(t,r){return Es(e,r)}))}(e,t)}));function Us(e,t){if(null==e)return{};var r=_t(ra(e),(function(e){return[e]}));return t=oa(t),Kn(e,r,(function(e,r){return t(e,r[0])}))}var Fs=Wi(Ps),Rs=Wi(Ts);function Ds(e){return null==e?[]:Kt(e,Ps(e))}var js=Ni((function(e,t,r){return t=t.toLowerCase(),e+(r?Qs(t):t)}));function Qs(e){return Js(gs(e).toLowerCase())}function Hs(e){return(e=gs(e))&&e.replace(ge,Wt).replace(Ve,"")}var Ks=Ni((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Vs=Ni((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),zs=Li("toLowerCase"),qs=Ni((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Gs=Ni((function(e,t,r){return e+(r?" ":"")+Js(t)})),Ws=Ni((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Js=Li("toUpperCase");function Xs(e,t,n){return e=gs(e),(t=n?r:t)===r?function(e){return We.test(e)}(e)?function(e){return e.match(qe)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var Ys=Wn((function(e,t){try{return vt(e,r,t)}catch(e){return Jo(e)?e:new xe(e)}})),$s=ea((function(e,t){return yt(t,(function(t){t=Ma(t),nn(e,t,Co(e[t],e))})),e}));function Zs(e){return function(){return e}}var eu=Fi(),tu=Fi(!0);function ru(e){return e}function nu(e){return Nn("function"==typeof e?e:sn(e,1))}var iu=Wn((function(e,t){return function(r){return In(r,e,t)}})),au=Wn((function(e,t){return function(r){return In(e,r,t)}}));function ou(e,t,r){var n=Ps(t),i=wn(t,n);null!=r||Zo(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=wn(t,Ps(t)));var a=!(Zo(r)&&"chain"in r&&!r.chain),o=Xo(e);return yt(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=Si(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Bt([this.value()],arguments))})})),e}function su(){}var uu=Qi(_t),cu=Qi(bt),lu=Qi(Ct);function fu(e){return ya(e)?Ut(Ma(e)):function(e){return function(t){return xn(t,e)}}(e)}var hu=Ki(),Au=Ki(!0);function du(){return[]}function pu(){return!1}var vu,gu=ji((function(e,t){return e+t}),0),yu=qi("ceil"),mu=ji((function(e,t){return e/t}),1),bu=qi("floor"),wu=ji((function(e,t){return e*t}),1),xu=qi("round"),ku=ji((function(e,t){return e-t}),0);return Rr.after=function(e,t){if("function"!=typeof t)throw new Ce(n);return e=As(e),function(){if(--e<1)return t.apply(this,arguments)}},Rr.ary=Eo,Rr.assign=ys,Rr.assignIn=ms,Rr.assignInWith=bs,Rr.assignWith=ws,Rr.at=xs,Rr.before=So,Rr.bind=Co,Rr.bindAll=$s,Rr.bindKey=Io,Rr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ko(e)?e:[e]},Rr.chain=lo,Rr.chunk=function(e,t,n){t=(n?ga(e,t,n):t===r)?1:vr(As(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=be(cr(i/t));a<i;)s[o++]=ti(e,a,a+=t);return s},Rr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},Rr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=be(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Bt(Ko(r)?Si(r):[r],vn(t,1))},Rr.cond=function(e){var t=null==e?0:e.length,r=oa();return e=t?_t(e,(function(e){if("function"!=typeof e[1])throw new Ce(n);return[r(e[0]),e[1]]})):[],Wn((function(r){for(var n=-1;++n<t;){var i=e[n];if(vt(i[0],this,r))return vt(i[1],this,r)}}))},Rr.conforms=function(e){return function(e){var t=Ps(e);return function(r){return un(r,e,t)}}(sn(e,1))},Rr.constant=Zs,Rr.countBy=Ao,Rr.create=function(e,t){var r=Dr(e);return null==t?r:rn(r,t)},Rr.curry=function e(t,n,i){var a=Ji(t,8,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Rr.curryRight=function e(t,n,i){var a=Ji(t,16,r,r,r,r,r,n=i?r:n);return a.placeholder=e.placeholder,a},Rr.debounce=Po,Rr.defaults=ks,Rr.defaultsDeep=_s,Rr.defer=To,Rr.delay=Oo,Rr.difference=Ra,Rr.differenceBy=Da,Rr.differenceWith=ja,Rr.drop=function(e,t,n){var i=null==e?0:e.length;return i?ti(e,(t=n||t===r?1:As(t))<0?0:t,i):[]},Rr.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ti(e,0,(t=i-(t=n||t===r?1:As(t)))<0?0:t):[]},Rr.dropRightWhile=function(e,t){return e&&e.length?fi(e,oa(t,3),!0,!0):[]},Rr.dropWhile=function(e,t){return e&&e.length?fi(e,oa(t,3),!0):[]},Rr.fill=function(e,t,n,i){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ga(e,t,n)&&(n=0,i=a),function(e,t,n,i){var a=e.length;for((n=As(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:As(i))<0&&(i+=a),i=n>i?0:ds(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Rr.filter=function(e,t){return(Ko(e)?wt:pn)(e,oa(t,3))},Rr.flatMap=function(e,t){return vn(xo(e,t),1)},Rr.flatMapDeep=function(e,t){return vn(xo(e,t),c)},Rr.flatMapDepth=function(e,t,n){return n=n===r?1:As(n),vn(xo(e,t),n)},Rr.flatten=Ka,Rr.flattenDeep=function(e){return null!=e&&e.length?vn(e,c):[]},Rr.flattenDepth=function(e,t){return null!=e&&e.length?vn(e,t=t===r?1:As(t)):[]},Rr.flip=function(e){return Ji(e,512)},Rr.flow=eu,Rr.flowRight=tu,Rr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Rr.functions=function(e){return null==e?[]:wn(e,Ps(e))},Rr.functionsIn=function(e){return null==e?[]:wn(e,Ts(e))},Rr.groupBy=mo,Rr.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},Rr.intersection=za,Rr.intersectionBy=qa,Rr.intersectionWith=Ga,Rr.invert=Ss,Rr.invertBy=Cs,Rr.invokeMap=bo,Rr.iteratee=nu,Rr.keyBy=wo,Rr.keys=Ps,Rr.keysIn=Ts,Rr.map=xo,Rr.mapKeys=function(e,t){var r={};return t=oa(t,3),mn(e,(function(e,n,i){nn(r,t(e,n,i),e)})),r},Rr.mapValues=function(e,t){var r={};return t=oa(t,3),mn(e,(function(e,n,i){nn(r,n,t(e,n,i))})),r},Rr.matches=function(e){return Rn(sn(e,1))},Rr.matchesProperty=function(e,t){return Dn(e,sn(t,1))},Rr.memoize=Lo,Rr.merge=Os,Rr.mergeWith=Ls,Rr.method=iu,Rr.methodOf=au,Rr.mixin=ou,Rr.negate=No,Rr.nthArg=function(e){return e=As(e),Wn((function(t){return Qn(t,e)}))},Rr.omit=Ns,Rr.omitBy=function(e,t){return Us(e,No(oa(t)))},Rr.once=function(e){return So(2,e)},Rr.orderBy=function(e,t,n,i){return null==e?[]:(Ko(t)||(t=null==t?[]:[t]),Ko(n=i?r:n)||(n=null==n?[]:[n]),Hn(e,t,n))},Rr.over=uu,Rr.overArgs=Mo,Rr.overEvery=cu,Rr.overSome=lu,Rr.partial=Uo,Rr.partialRight=Fo,Rr.partition=ko,Rr.pick=Ms,Rr.pickBy=Us,Rr.property=fu,Rr.propertyOf=function(e){return function(t){return null==e?r:xn(e,t)}},Rr.pull=Ja,Rr.pullAll=Xa,Rr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Vn(e,t,oa(r,2)):e},Rr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vn(e,t,r,n):e},Rr.pullAt=Ya,Rr.range=hu,Rr.rangeRight=Au,Rr.rearg=Ro,Rr.reject=function(e,t){return(Ko(e)?wt:pn)(e,No(oa(t,3)))},Rr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=oa(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return zn(e,i),r},Rr.rest=function(e,t){if("function"!=typeof e)throw new Ce(n);return Wn(e,t=t===r?t:As(t))},Rr.reverse=$a,Rr.sampleSize=function(e,t,n){return t=(n?ga(e,t,n):t===r)?1:As(t),(Ko(e)?Xr:Xn)(e,t)},Rr.set=function(e,t,r){return null==e?e:Yn(e,t,r)},Rr.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Yn(e,t,n,i)},Rr.shuffle=function(e){return(Ko(e)?Yr:ei)(e)},Rr.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ga(e,t,n)?(t=0,n=i):(t=null==t?0:As(t),n=n===r?i:As(n)),ti(e,t,n)):[]},Rr.sortBy=_o,Rr.sortedUniq=function(e){return e&&e.length?ai(e):[]},Rr.sortedUniqBy=function(e,t){return e&&e.length?ai(e,oa(t,2)):[]},Rr.split=function(e,t,n){return n&&"number"!=typeof n&&ga(e,t,n)&&(t=n=r),(n=n===r?h:n>>>0)?(e=gs(e))&&("string"==typeof t||null!=t&&!is(t))&&!(t=si(t))&&Yt(e)?mi(nr(e),0,n):e.split(t,n):[]},Rr.spread=function(e,t){if("function"!=typeof e)throw new Ce(n);return t=null==t?0:vr(As(t),0),Wn((function(r){var n=r[t],i=mi(r,0,t);return n&&Bt(i,n),vt(e,this,i)}))},Rr.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},Rr.take=function(e,t,n){return e&&e.length?ti(e,0,(t=n||t===r?1:As(t))<0?0:t):[]},Rr.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ti(e,(t=i-(t=n||t===r?1:As(t)))<0?0:t,i):[]},Rr.takeRightWhile=function(e,t){return e&&e.length?fi(e,oa(t,3),!1,!0):[]},Rr.takeWhile=function(e,t){return e&&e.length?fi(e,oa(t,3)):[]},Rr.tap=function(e,t){return t(e),e},Rr.throttle=function(e,t,r){var i=!0,a=!0;if("function"!=typeof e)throw new Ce(n);return Zo(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),Po(e,t,{leading:i,maxWait:t,trailing:a})},Rr.thru=fo,Rr.toArray=fs,Rr.toPairs=Fs,Rr.toPairsIn=Rs,Rr.toPath=function(e){return Ko(e)?_t(e,Ma):ss(e)?[e]:Si(Na(gs(e)))},Rr.toPlainObject=vs,Rr.transform=function(e,t,r){var n=Ko(e),i=n||Go(e)||us(e);if(t=oa(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:Zo(e)&&Xo(a)?Dr(Ze(e)):{}}return(i?yt:mn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Rr.unary=function(e){return Eo(e,1)},Rr.union=Za,Rr.unionBy=eo,Rr.unionWith=to,Rr.uniq=function(e){return e&&e.length?ui(e):[]},Rr.uniqBy=function(e,t){return e&&e.length?ui(e,oa(t,2)):[]},Rr.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ui(e,r,t):[]},Rr.unset=function(e,t){return null==e||ci(e,t)},Rr.unzip=ro,Rr.unzipWith=no,Rr.update=function(e,t,r){return null==e?e:li(e,t,vi(r))},Rr.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:li(e,t,vi(n),i)},Rr.values=Ds,Rr.valuesIn=function(e){return null==e?[]:Kt(e,Ts(e))},Rr.without=io,Rr.words=Xs,Rr.wrap=function(e,t){return Uo(vi(t),e)},Rr.xor=ao,Rr.xorBy=oo,Rr.xorWith=so,Rr.zip=uo,Rr.zipObject=function(e,t){return di(e||[],t||[],Zr)},Rr.zipObjectDeep=function(e,t){return di(e||[],t||[],Yn)},Rr.zipWith=co,Rr.entries=Fs,Rr.entriesIn=Rs,Rr.extend=ms,Rr.extendWith=bs,ou(Rr,Rr),Rr.add=gu,Rr.attempt=Ys,Rr.camelCase=js,Rr.capitalize=Qs,Rr.ceil=yu,Rr.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=ps(n))==n?n:0),t!==r&&(t=(t=ps(t))==t?t:0),on(ps(e),t,n)},Rr.clone=function(e){return sn(e,4)},Rr.cloneDeep=function(e){return sn(e,5)},Rr.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:r)},Rr.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:r)},Rr.conformsTo=function(e,t){return null==t||un(e,t,Ps(t))},Rr.deburr=Hs,Rr.defaultTo=function(e,t){return null==e||e!=e?t:e},Rr.divide=mu,Rr.endsWith=function(e,t,n){e=gs(e),t=si(t);var i=e.length,a=n=n===r?i:on(As(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t},Rr.eq=Do,Rr.escape=function(e){return(e=gs(e))&&G.test(e)?e.replace(z,Jt):e},Rr.escapeRegExp=function(e){return(e=gs(e))&&te.test(e)?e.replace(ee,"\\$&"):e},Rr.every=function(e,t,n){var i=Ko(e)?bt:An;return n&&ga(e,t,n)&&(t=r),i(e,oa(t,3))},Rr.find=po,Rr.findIndex=Qa,Rr.findKey=function(e,t){return Pt(e,oa(t,3),mn)},Rr.findLast=vo,Rr.findLastIndex=Ha,Rr.findLastKey=function(e,t){return Pt(e,oa(t,3),bn)},Rr.floor=bu,Rr.forEach=go,Rr.forEachRight=yo,Rr.forIn=function(e,t){return null==e?e:gn(e,oa(t,3),Ts)},Rr.forInRight=function(e,t){return null==e?e:yn(e,oa(t,3),Ts)},Rr.forOwn=function(e,t){return e&&mn(e,oa(t,3))},Rr.forOwnRight=function(e,t){return e&&bn(e,oa(t,3))},Rr.get=Bs,Rr.gt=jo,Rr.gte=Qo,Rr.has=function(e,t){return null!=e&&Aa(e,t,En)},Rr.hasIn=Es,Rr.head=Va,Rr.identity=ru,Rr.includes=function(e,t,r,n){e=zo(e)?e:Ds(e),r=r&&!n?As(r):0;var i=e.length;return r<0&&(r=vr(i+r,0)),os(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ot(e,t,r)>-1},Rr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:As(r);return i<0&&(i=vr(n+i,0)),Ot(e,t,i)},Rr.inRange=function(e,t,n){return t=hs(t),n===r?(n=t,t=0):n=hs(n),function(e,t,r){return e>=gr(t,r)&&e<vr(t,r)}(e=ps(e),t,n)},Rr.invoke=Is,Rr.isArguments=Ho,Rr.isArray=Ko,Rr.isArrayBuffer=Vo,Rr.isArrayLike=zo,Rr.isArrayLikeObject=qo,Rr.isBoolean=function(e){return!0===e||!1===e||es(e)&&_n(e)==v},Rr.isBuffer=Go,Rr.isDate=Wo,Rr.isElement=function(e){return es(e)&&1===e.nodeType&&!ns(e)},Rr.isEmpty=function(e){if(null==e)return!0;if(zo(e)&&(Ko(e)||"string"==typeof e||"function"==typeof e.splice||Go(e)||us(e)||Ho(e)))return!e.length;var t=ha(e);if(t==w||t==E)return!e.size;if(wa(e))return!Mn(e).length;for(var r in e)if(Ne.call(e,r))return!1;return!0},Rr.isEqual=function(e,t){return Tn(e,t)},Rr.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Tn(e,t,r,n):!!i},Rr.isError=Jo,Rr.isFinite=function(e){return"number"==typeof e&&Ar(e)},Rr.isFunction=Xo,Rr.isInteger=Yo,Rr.isLength=$o,Rr.isMap=ts,Rr.isMatch=function(e,t){return e===t||On(e,t,ua(t))},Rr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,On(e,t,ua(t),n)},Rr.isNaN=function(e){return rs(e)&&e!=+e},Rr.isNative=function(e){if(ba(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},Rr.isNil=function(e){return null==e},Rr.isNull=function(e){return null===e},Rr.isNumber=rs,Rr.isObject=Zo,Rr.isObjectLike=es,Rr.isPlainObject=ns,Rr.isRegExp=is,Rr.isSafeInteger=function(e){return Yo(e)&&e>=-9007199254740991&&e<=l},Rr.isSet=as,Rr.isString=os,Rr.isSymbol=ss,Rr.isTypedArray=us,Rr.isUndefined=function(e){return e===r},Rr.isWeakMap=function(e){return es(e)&&ha(e)==I},Rr.isWeakSet=function(e){return es(e)&&"[object WeakSet]"==_n(e)},Rr.join=function(e,t){return null==e?"":dr.call(e,t)},Rr.kebabCase=Ks,Rr.last=Wa,Rr.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=As(n))<0?vr(i+a,0):gr(a,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Tt(e,Nt,a,!0)},Rr.lowerCase=Vs,Rr.lowerFirst=zs,Rr.lt=cs,Rr.lte=ls,Rr.max=function(e){return e&&e.length?dn(e,ru,Bn):r},Rr.maxBy=function(e,t){return e&&e.length?dn(e,oa(t,2),Bn):r},Rr.mean=function(e){return Mt(e,ru)},Rr.meanBy=function(e,t){return Mt(e,oa(t,2))},Rr.min=function(e){return e&&e.length?dn(e,ru,Un):r},Rr.minBy=function(e,t){return e&&e.length?dn(e,oa(t,2),Un):r},Rr.stubArray=du,Rr.stubFalse=pu,Rr.stubObject=function(){return{}},Rr.stubString=function(){return""},Rr.stubTrue=function(){return!0},Rr.multiply=wu,Rr.nth=function(e,t){return e&&e.length?Qn(e,As(t)):r},Rr.noConflict=function(){return it._===this&&(it._=De),this},Rr.noop=su,Rr.now=Bo,Rr.pad=function(e,t,r){e=gs(e);var n=(t=As(t))?rr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Hi(lr(i),r)+e+Hi(cr(i),r)},Rr.padEnd=function(e,t,r){e=gs(e);var n=(t=As(t))?rr(e):0;return t&&n<t?e+Hi(t-n,r):e},Rr.padStart=function(e,t,r){e=gs(e);var n=(t=As(t))?rr(e):0;return t&&n<t?Hi(t-n,r)+e:e},Rr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),mr(gs(e).replace(re,""),t||0)},Rr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ga(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=hs(e),t===r?(t=e,e=0):t=hs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=br();return gr(e+a*(t-e+et("1e-"+((a+"").length-1))),t)}return qn(e,t)},Rr.reduce=function(e,t,r){var n=Ko(e)?Et:Rt,i=arguments.length<3;return n(e,oa(t,4),r,i,fn)},Rr.reduceRight=function(e,t,r){var n=Ko(e)?St:Rt,i=arguments.length<3;return n(e,oa(t,4),r,i,hn)},Rr.repeat=function(e,t,n){return t=(n?ga(e,t,n):t===r)?1:As(t),Gn(gs(e),t)},Rr.replace=function(){var e=arguments,t=gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Rr.result=function(e,t,n){var i=-1,a=(t=gi(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[Ma(t[i])];o===r&&(i=a,o=n),e=Xo(o)?o.call(e):o}return e},Rr.round=xu,Rr.runInContext=e,Rr.sample=function(e){return(Ko(e)?Jr:Jn)(e)},Rr.size=function(e){if(null==e)return 0;if(zo(e))return os(e)?rr(e):e.length;var t=ha(e);return t==w||t==E?e.size:Mn(e).length},Rr.snakeCase=qs,Rr.some=function(e,t,n){var i=Ko(e)?Ct:ri;return n&&ga(e,t,n)&&(t=r),i(e,oa(t,3))},Rr.sortedIndex=function(e,t){return ni(e,t)},Rr.sortedIndexBy=function(e,t,r){return ii(e,t,oa(r,2))},Rr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ni(e,t);if(n<r&&Do(e[n],t))return n}return-1},Rr.sortedLastIndex=function(e,t){return ni(e,t,!0)},Rr.sortedLastIndexBy=function(e,t,r){return ii(e,t,oa(r,2),!0)},Rr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ni(e,t,!0)-1;if(Do(e[r],t))return r}return-1},Rr.startCase=Gs,Rr.startsWith=function(e,t,r){return e=gs(e),r=null==r?0:on(As(r),0,e.length),t=si(t),e.slice(r,r+t.length)==t},Rr.subtract=ku,Rr.sum=function(e){return e&&e.length?Dt(e,ru):0},Rr.sumBy=function(e,t){return e&&e.length?Dt(e,oa(t,2)):0},Rr.template=function(e,t,n){var i=Rr.templateSettings;n&&ga(e,t,n)&&(t=r),e=gs(e),t=bs({},t,i,Xi);var a,o,s=bs({},t.imports,i.imports,Xi),u=Ps(s),c=Kt(s,u),l=0,f=t.interpolate||ye,h="__p += '",A=Ee((t.escape||ye).source+"|"+f.source+"|"+(f===X?le:ye).source+"|"+(t.evaluate||ye).source+"|$","g"),d="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xe+"]")+"\n";e.replace(A,(function(t,r,n,i,s,u){return n||(n=i),h+=e.slice(l,u).replace(me,Xt),r&&(a=!0,h+="' +\n__e("+r+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var p=Ne.call(t,"variable")&&t.variable;if(p){if(ue.test(p))throw new xe("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(Q,""):h).replace(H,"$1").replace(K,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Ys((function(){return ke(u,d+"return "+h).apply(r,c)}));if(v.source=h,Jo(v))throw v;return v},Rr.times=function(e,t){if((e=As(e))<1||e>l)return[];var r=h,n=gr(e,h);t=oa(t),e-=h;for(var i=jt(n,t);++r<e;)t(r);return i},Rr.toFinite=hs,Rr.toInteger=As,Rr.toLength=ds,Rr.toLower=function(e){return gs(e).toLowerCase()},Rr.toNumber=ps,Rr.toSafeInteger=function(e){return e?on(As(e),-9007199254740991,l):0===e?e:0},Rr.toString=gs,Rr.toUpper=function(e){return gs(e).toUpperCase()},Rr.trim=function(e,t,n){if((e=gs(e))&&(n||t===r))return Qt(e);if(!e||!(t=si(t)))return e;var i=nr(e),a=nr(t);return mi(i,zt(i,a),qt(i,a)+1).join("")},Rr.trimEnd=function(e,t,n){if((e=gs(e))&&(n||t===r))return e.slice(0,ir(e)+1);if(!e||!(t=si(t)))return e;var i=nr(e);return mi(i,0,qt(i,nr(t))+1).join("")},Rr.trimStart=function(e,t,n){if((e=gs(e))&&(n||t===r))return e.replace(re,"");if(!e||!(t=si(t)))return e;var i=nr(e);return mi(i,zt(i,nr(t))).join("")},Rr.truncate=function(e,t){var n=30,i="...";if(Zo(t)){var a="separator"in t?t.separator:a;n="length"in t?As(t.length):n,i="omission"in t?si(t.omission):i}var o=(e=gs(e)).length;if(Yt(e)){var s=nr(e);o=s.length}if(n>=o)return e;var u=n-rr(i);if(u<1)return i;var c=s?mi(s,0,u).join(""):e.slice(0,u);if(a===r)return c+i;if(s&&(u+=c.length-u),is(a)){if(e.slice(u).search(a)){var l,f=c;for(a.global||(a=Ee(a.source,gs(fe.exec(a))+"g")),a.lastIndex=0;l=a.exec(f);)var h=l.index;c=c.slice(0,h===r?u:h)}}else if(e.indexOf(si(a),u)!=u){var A=c.lastIndexOf(a);A>-1&&(c=c.slice(0,A))}return c+i},Rr.unescape=function(e){return(e=gs(e))&&q.test(e)?e.replace(V,ar):e},Rr.uniqueId=function(e){var t=++Me;return gs(e)+t},Rr.upperCase=Ws,Rr.upperFirst=Js,Rr.each=go,Rr.eachRight=yo,Rr.first=Va,ou(Rr,(vu={},mn(Rr,(function(e,t){Ne.call(Rr.prototype,t)||(vu[t]=e)})),vu),{chain:!1}),Rr.VERSION="4.17.21",yt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Rr[e].placeholder=Rr})),yt(["drop","take"],(function(e,t){Hr.prototype[e]=function(n){n=n===r?1:vr(As(n),0);var i=this.__filtered__&&!t?new Hr(this):this.clone();return i.__filtered__?i.__takeCount__=gr(n,i.__takeCount__):i.__views__.push({size:gr(n,h),type:e+(i.__dir__<0?"Right":"")}),i},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),yt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oa(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),yt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),yt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(ru)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Wn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return In(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(No(oa(e)))},Hr.prototype.slice=function(e,t){e=As(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=As(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(h)},mn(Hr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Rr[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Rr.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof Hr,c=s[0],l=u||Ko(t),f=function(e){var t=a.apply(Rr,Bt([e],s));return i&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,A=!!this.__actions__.length,d=o&&!h,p=u&&!A;if(!o&&l){t=p?t:new Hr(this);var v=e.apply(t,s);return v.__actions__.push({func:fo,args:[f],thisArg:r}),new Qr(v,h)}return d&&p?e.apply(this,s):(v=this.thru(f),d?i?v.value()[0]:v.value():v)})})),yt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Rr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Ko(i)?i:[],e)}return this[r]((function(r){return t.apply(Ko(r)?r:[],e)}))}})),mn(Hr.prototype,(function(e,t){var r=Rr[t];if(r){var n=r.name+"";Ne.call(Ir,n)||(Ir[n]=[]),Ir[n].push({name:t,func:r})}})),Ir[Ri(r,2).name]=[{name:"wrapper",func:r}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Si(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Si(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Si(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ko(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=gr(t,e+o);break;case"takeRight":e=vr(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=n?s:o-1,l=this.__iteratees__,f=l.length,h=0,A=gr(u,this.__takeCount__);if(!r||!n&&i==u&&A==u)return hi(e,this.__actions__);var d=[];e:for(;u--&&h<A;){for(var p=-1,v=e[c+=t];++p<f;){var g=l[p],y=g.iteratee,m=g.type,b=y(v);if(2==m)v=b;else if(!b){if(1==m)continue e;break e}}d[h++]=v}return d},Rr.prototype.at=ho,Rr.prototype.chain=function(){return lo(this)},Rr.prototype.commit=function(){return new Qr(this.value(),this.__chain__)},Rr.prototype.next=function(){this.__values__===r&&(this.__values__=fs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Rr.prototype.plant=function(e){for(var t,n=this;n instanceof jr;){var i=Fa(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t},Rr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:fo,args:[$a],thisArg:r}),new Qr(t,this.__chain__)}return this.thru($a)},Rr.prototype.toJSON=Rr.prototype.valueOf=Rr.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Rr.prototype.first=Rr.prototype.head,ut&&(Rr.prototype[ut]=function(){return this}),Rr}();ot?((ot.exports=or)._=or,at._=or):it._=or}).call(Ba)}(bq,bq.exports);var wq,xq,kq=dV.validate,_q=pV,Bq=vV,Eq=cq.exports,Sq=bq.exports,Cq=function(){function e(t){if(s(this,e),!kq(t))throw new Error("JSON is invalid. Cannot construct Encoder.");this.json=t}return c(e,[{key:"constructRootMap",value:function(){var e=this;return Object.keys(this.json).map((function(t){var r=e.json[t];return"string"==typeof r&&(r=Bq.encode(Ka.from(r,"hex"))),r instanceof Array&&("anchors"===t&&(r=e.constructAnchorsMap(r)),"path"===t&&(r=e.constructPathMap(r))),[_q.root[t],r]}))}},{key:"constructAnchorsMap",value:function(e){return e.map((function(e){var t=e.split(":");return t.shift(),t.map((function(e,r){return 0===r?[r,_q.chain[e].id]:1===r?[r,_q.chain[t[r-1]].networks[e]]:[r,Bq.encode(Ka.from(e,"hex"))]}))}))}},{key:"constructPathMap",value:function(e){return Sq.flatten(e.map((function(e){return Object.keys(e).map((function(t){return[_q.path[t],Bq.encode(Ka.from(e[t],"hex"))]}))})))}},{key:"encode",value:function(){var e=this.constructRootMap(),t=Bq.encode(e);return Eq.encode("base58btc",t)}}]),e}(),Iq=pV,Pq=vV,Tq=cq.exports,Oq=bq.exports,Lq=function(){function e(t){if(s(this,e),!Tq.isEncoded(t))throw new Error("Base58 string is invalid. Cannot construct Decoder.");this.base58=t}return c(e,[{key:"constructRootJSON",value:function(e){var t=this,r=Oq.invert(Iq.root);return e.reduce((function(e,n){var i=r[n[0]],a=n[1];return a instanceof Array&&("anchors"===i&&(a=t.constructAnchorsJSON(a)),"path"===i&&(a=t.constructPathJSON(a))),a instanceof Ka&&(a=Pq.decode(a).toString("hex")),e[i]=a,e}),{})}},{key:"constructAnchorsJSON",value:function(e){var t=Oq.invertBy(Iq.chain,(function(e){return e.id}));return e.map((function(e){return e.reduce((function(e,r){if(0===r[0])return"".concat(e,":").concat(t[r[1]]);if(1===r[0]){var n=e.split(":").pop();return"".concat(e,":").concat(Oq.invert(Iq.chain[n].networks)[r[1]])}return"".concat(e,":").concat(Pq.decode(r[1]).toString("hex"))}),"blink")}))}},{key:"constructPathJSON",value:function(e){var t=Oq.invert(Iq.path);return e.map((function(e){return l({},t[e[0]],Pq.decode(e[1]).toString("hex"))}))}},{key:"decode",value:function(){var e=Tq.decode(this.base58),t=Pq.decode(e);return this.constructRootJSON(t)}}]),e}(),Nq={Encoder:Cq,Decoder:Lq,Keymap:pV},Mq=c((function e(t){s(this,e)}));function Uq(e){return Array.isArray(e)?e.find((function(e){return"ChainedProof2021"!==e.type})).verificationMethod:e.verificationMethod}!function(e){e.getTransactionId="getTransactionId",e.computeLocalHash="computeLocalHash",e.fetchRemoteHash="fetchRemoteHash",e.parseIssuerKeys="parseIssuerKeys",e.compareHashes="compareHashes",e.checkImagesIntegrity="checkImagesIntegrity",e.checkMerkleRoot="checkMerkleRoot",e.checkReceipt="checkReceipt",e.retrieveVerificationMethodPublicKey="retrieveVerificationMethodPublicKey",e.deriveIssuingAddressFromPublicKey="deriveIssuingAddressFromPublicKey",e.compareIssuingAddress="compareIssuingAddress",e.checkAuthenticity="checkAuthenticity"}(wq||(wq={}));var Fq=function(e){f(E,e);var t,r,i,a,u,h,A,d,p,v,g,y,b,x,k,_,B=w(E);function E(e){var t,r;return s(this,E),l(m(t=B.call(this,e)),"proofVerificationProcess",[wq.getTransactionId,wq.computeLocalHash,wq.fetchRemoteHash,wq.compareHashes,wq.checkMerkleRoot,wq.checkReceipt,wq.parseIssuerKeys,wq.checkAuthenticity]),l(m(t),"identityVerificationProcess",[wq.retrieveVerificationMethodPublicKey,wq.deriveIssuingAddressFromPublicKey,wq.compareIssuingAddress]),l(m(t),"transactionId",void 0),l(m(t),"localHash",void 0),l(m(t),"documentToVerify",void 0),l(m(t),"txData",void 0),l(m(t),"chain",void 0),l(m(t),"explorerAPIs",void 0),l(m(t),"receipt",void 0),l(m(t),"issuerPublicKeyList",void 0),l(m(t),"issuer",void 0),l(m(t),"verificationMethodPublicKey",void 0),l(m(t),"derivedIssuingAddress",void 0),l(m(t),"hasDid",void 0),l(m(t),"proof",void 0),l(m(t),"type","MerkleProof2019"),t._doAction=e.actionMethod,t.documentToVerify=e.document,t.explorerAPIs=e.explorerAPIs,t.proof=e.proof,t.issuer=e.issuer,t.validateProofType(),t.receipt=(r=t.proof,new Nq.Decoder(r.proofValue).decode()),t.chain=kp.certificates.getChain("",t.receipt),t.transactionId=kp.certificates.getTransactionId(t.receipt),t.setHasDid(),t}return c(E,[{key:"verifyProof",value:(_=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setIssuerFromProofVerificationMethod();case 2:return e.next=4,this.verifyProcess(this.proofVerificationProcess);case 4:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"verifyIdentity",value:(k=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hasDid,!e.t0){e.next=4;break}return e.next=4,this.verifyProcess(this.identityVerificationProcess);case 4:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getProofVerificationSteps",value:function(e){return this.proofVerificationProcess.map((function(t){return kp.verifier.convertToVerificationSubsteps(e,t)}))}},{key:"getIdentityVerificationSteps",value:function(e){return this.hasDid?this.identityVerificationProcess.map((function(t){return kp.verifier.convertToVerificationSubsteps(e,t)})):[]}},{key:"getIssuerPublicKey",value:function(){return this.txData?this.txData.issuingAddress:(console.error("Trying to access issuing address when txData not available yet. Did you run the `verify` method yet?"),"")}},{key:"getIssuerName",value:function(){return this.issuer.name}},{key:"getIssuerProfileDomain",value:function(){var e;return null===(e=new URL(this.getIssuerProfileUrl()))||void 0===e?void 0:e.hostname}},{key:"getIssuerProfileUrl",value:function(){return this.issuer.id}},{key:"getSigningDate",value:function(){return this.proof.created}},{key:"getChain",value:function(){return this.chain}},{key:"getReceipt",value:function(){return this.receipt}},{key:"getTransactionIdString",value:function(){return kp.certificates.getTransactionId(this.getReceipt())}},{key:"getTransactionLink",value:function(){return kp.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).transactionLink}},{key:"getRawTransactionLink",value:function(){return kp.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).rawTransactionLink}},{key:"isProofChain",value:function(){return"ChainedProof2021"===this.proof.type}},{key:"setIssuerFromProofVerificationMethod",value:(x=o(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isProofChain()){e.next=5;break}return t=this.proof.verificationMethod.split("#")[0],e.next=4,kp.verifier.getIssuerProfile(t);case 4:this.issuer=e.sent;case 5:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"setHasDid",value:function(){if(this.isProofChain()){var e=this.proof.verificationMethod.split("#")[0];this.hasDid=sA(e)}else this.hasDid=!!this.issuer.didDocument}},{key:"validateProofType",value:function(){var e=this.isProofChain()?this.proof.chainedProofType:this.proof.type;if(e!==this.type)throw new Error("Incompatible proof type passed. Expected: ".concat(this.type,", Got: ").concat(e))}},{key:"verifyProcess",value:(b=o(n().mark((function e(t){var r,i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=L(t),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=11;break}if(this[a=i.value]){e.next=7;break}return e.abrupt("return",void console.error("verification logic for",a,"not implemented"));case 7:return e.next=9,this[a]();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))),function(e){return b.apply(this,arguments)})},{key:"_doAction",value:(y=o(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("doAction method needs to be overwritten by injecting from CVJS");case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return y.apply(this,arguments)})},{key:"getTransactionId",value:(g=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.getTransactionId,(function(){return XQ(t.transactionId)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"computeLocalHash",value:(v=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.computeLocalHash,o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_b(t.documentToVerify);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.type);case 2:this.localHash=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"fetchRemoteHash",value:(p=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.fetchRemoteHash,o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kp.verifier.lookForTx({transactionId:t.transactionId,chain:t.chain.code,explorerAPIs:t.explorerAPIs});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.type);case 2:this.txData=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"compareHashes",value:(d=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.compareHashes,(function(){return qQ(t.localHash,t.receipt.targetHash)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"checkMerkleRoot",value:(A=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.checkMerkleRoot,(function(){return GQ(t.receipt.merkleRoot,t.txData.remoteHash)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"checkReceipt",value:(h=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.checkReceipt,(function(){return JQ(t.receipt)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"parseIssuerKeys",value:(u=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.parseIssuerKeys,(function(){return kp.verifier.parseIssuerKeys(t.issuer)}),this.type);case 2:this.issuerPublicKeyList=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"checkAuthenticity",value:(a=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.checkAuthenticity,(function(){return WQ(t.issuerPublicKeyList,t.txData.issuingAddress,t.txData.time)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"retrieveVerificationMethodPublicKey",value:(i=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.retrieveVerificationMethodPublicKey,(function(){return function(e,t){var r=t.split("#")[1],n=e.verificationMethod.filter((function(e){return e.id==="#".concat(r)}))[0];if(!n)throw new Ju("retrieveVerificationMethodPublicKey","".concat(Eb," - ").concat(kp.i18n.getText("errors","retrieveVerificationMethodPublicKey")));return n}(t.issuer.didDocument,Uq(t.proof))}),this.type);case 2:this.verificationMethodPublicKey=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"deriveIssuingAddressFromPublicKey",value:(r=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.deriveIssuingAddressFromPublicKey,(function(){return zQ(t.verificationMethodPublicKey,t.chain)}),this.type);case 2:this.derivedIssuingAddress=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"compareIssuingAddress",value:(t=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(wq.compareIssuingAddress,(function(){return function(e,t){if(e!==t)throw new Ju("compareIssuingAddress","".concat(Eb," - ").concat(kp.i18n.getText("errors","compareIssuingAddress")))}(t.txData.issuingAddress,t.derivedIssuingAddress)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),E}(Mq);!function(e){e.getTransactionId="getTransactionId",e.computeLocalHash="computeLocalHash",e.fetchRemoteHash="fetchRemoteHash",e.parseIssuerKeys="parseIssuerKeys",e.compareHashes="compareHashes",e.checkMerkleRoot="checkMerkleRoot",e.checkReceipt="checkReceipt",e.checkAuthenticity="checkAuthenticity"}(xq||(xq={}));var Rq=function(e){f(b,e);var t,r,i,a,u,h,A,d,p,v,g,y=w(b);function b(e){var t;return s(this,b),l(m(t=y.call(this,e)),"verificationProcess",[xq.getTransactionId,xq.computeLocalHash,xq.fetchRemoteHash,xq.compareHashes,xq.checkMerkleRoot,xq.checkReceipt,xq.parseIssuerKeys,xq.checkAuthenticity]),l(m(t),"transactionId",void 0),l(m(t),"localHash",void 0),l(m(t),"documentToVerify",void 0),l(m(t),"txData",void 0),l(m(t),"chain",void 0),l(m(t),"explorerAPIs",void 0),l(m(t),"receipt",void 0),l(m(t),"issuerPublicKeyList",void 0),l(m(t),"issuer",void 0),l(m(t),"proof",void 0),l(m(t),"type","MerkleProof2017"),e.actionMethod&&(t._doAction=e.actionMethod),t.documentToVerify=e.document,t.explorerAPIs=e.explorerAPIs,t.issuer=e.issuer,t.proof=e.proof,t.validateProofType(),t.receipt=t.documentToVerify.signature,t.chain=kp.certificates.getChain("",t.receipt),t.transactionId=kp.certificates.getTransactionId(t.receipt),t.adaptVerificationProcessToChain(),t}return c(b,[{key:"verifyProof",value:(g=o(n().mark((function e(){var t,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=L(this.verificationProcess),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=11;break}if(this[i=r.value]){e.next=7;break}return e.abrupt("return",void console.error("verification logic for",i,"not implemented"));case 7:return e.next=9,this[i]();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))),function(){return g.apply(this,arguments)})},{key:"verifyIdentity",value:(v=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)})},{key:"getProofVerificationSteps",value:function(e){return this.verificationProcess.map((function(t){return kp.verifier.convertToVerificationSubsteps(e,t)}))}},{key:"getIdentityVerificationSteps",value:function(){return[]}},{key:"getIssuerPublicKey",value:function(){return kp.chains.isMockChain(this.chain)?"This mock chain does not support issuing addresses":this.txData?this.txData.issuingAddress:void console.error("Trying to access issuing address when txData not available yet. Did you run the `verify` method yet?")}},{key:"getIssuerName",value:function(){return this.issuer.name}},{key:"getIssuerProfileDomain",value:function(){var e;return null===(e=new URL(this.getIssuerProfileUrl()))||void 0===e?void 0:e.hostname}},{key:"getIssuerProfileUrl",value:function(){return this.issuer.id}},{key:"getSigningDate",value:function(){return this.documentToVerify.issuedOn}},{key:"getChain",value:function(){return this.chain}},{key:"getReceipt",value:function(){return this.receipt}},{key:"getTransactionIdString",value:function(){return kp.certificates.getTransactionId(this.getReceipt())}},{key:"getTransactionLink",value:function(){return kp.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).transactionLink}},{key:"getRawTransactionLink",value:function(){return kp.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).rawTransactionLink}},{key:"validateProofType",value:function(){if(this.proof.type[0]!==this.type)throw new Error("Incompatible proof type passed. Expected: ".concat(this.type,", Got: ").concat(this.proof.type[0]))}},{key:"adaptVerificationProcessToChain",value:function(){kp.chains.isMockChain(this.chain)&&($u(this.verificationProcess,xq.getTransactionId),$u(this.verificationProcess,xq.fetchRemoteHash),$u(this.verificationProcess,xq.parseIssuerKeys),$u(this.verificationProcess,xq.checkMerkleRoot),$u(this.verificationProcess,xq.checkAuthenticity))}},{key:"_doAction",value:(p=o(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("doAction method needs to be overwritten by injecting from CVJS");case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return p.apply(this,arguments)})},{key:"getTransactionId",value:(d=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.getTransactionId,(function(){return XQ(t.transactionId)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"computeLocalHash",value:(A=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.computeLocalHash,o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_b(t.documentToVerify);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.type);case 2:this.localHash=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"fetchRemoteHash",value:(h=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.fetchRemoteHash,o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kp.verifier.lookForTx({transactionId:t.transactionId,chain:t.chain.code,explorerAPIs:t.explorerAPIs});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),this.type);case 2:this.txData=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"compareHashes",value:(u=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.compareHashes,(function(){return qQ(t.localHash,t.receipt.targetHash)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"checkMerkleRoot",value:(a=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.checkMerkleRoot,(function(){return GQ(t.receipt.merkleRoot,t.txData.remoteHash)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"checkReceipt",value:(i=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.checkReceipt,(function(){return JQ(t.receipt)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"parseIssuerKeys",value:(r=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.parseIssuerKeys,(function(){return kp.verifier.parseIssuerKeys(t.issuer)}),this.type);case 2:this.issuerPublicKeyList=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"checkAuthenticity",value:(t=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(xq.checkAuthenticity,(function(){return WQ(t.issuerPublicKeyList,t.txData.issuingAddress,t.txData.time)}),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),b}(Mq),Dq=function(e,t){return function(e,t){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==i(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){var n=t.contexts=new Map,i=t.constants=r(1);n.set(i.SECURITY_CONTEXT_V1_URL,r(2)),n.set(i.SECURITY_CONTEXT_V2_URL,r(3))},function(e,t,r){t.SECURITY_CONTEXT_V1_URL="https://w3id.org/security/v1",t.SECURITY_CONTEXT_V2_URL="https://w3id.org/security/v2"},function(e,t){e.exports={"@context":{id:"@id",type:"@type",dc:"http://purl.org/dc/terms/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",EcdsaKoblitzSignature2016:"sec:EcdsaKoblitzSignature2016",Ed25519Signature2018:"sec:Ed25519Signature2018",EncryptedMessage:"sec:EncryptedMessage",GraphSignature2012:"sec:GraphSignature2012",LinkedDataSignature2015:"sec:LinkedDataSignature2015",LinkedDataSignature2016:"sec:LinkedDataSignature2016",CryptographicKey:"sec:Key",authenticationTag:"sec:authenticationTag",canonicalizationAlgorithm:"sec:canonicalizationAlgorithm",cipherAlgorithm:"sec:cipherAlgorithm",cipherData:"sec:cipherData",cipherKey:"sec:cipherKey",created:{"@id":"dc:created","@type":"xsd:dateTime"},creator:{"@id":"dc:creator","@type":"@id"},digestAlgorithm:"sec:digestAlgorithm",digestValue:"sec:digestValue",domain:"sec:domain",encryptionKey:"sec:encryptionKey",expiration:{"@id":"sec:expiration","@type":"xsd:dateTime"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},initializationVector:"sec:initializationVector",iterationCount:"sec:iterationCount",nonce:"sec:nonce",normalizationAlgorithm:"sec:normalizationAlgorithm",owner:{"@id":"sec:owner","@type":"@id"},password:"sec:password",privateKey:{"@id":"sec:privateKey","@type":"@id"},privateKeyPem:"sec:privateKeyPem",publicKey:{"@id":"sec:publicKey","@type":"@id"},publicKeyBase58:"sec:publicKeyBase58",publicKeyPem:"sec:publicKeyPem",publicKeyWif:"sec:publicKeyWif",publicKeyService:{"@id":"sec:publicKeyService","@type":"@id"},revoked:{"@id":"sec:revoked","@type":"xsd:dateTime"},salt:"sec:salt",signature:"sec:signature",signatureAlgorithm:"sec:signingAlgorithm",signatureValue:"sec:signatureValue"}}},function(e,t){e.exports={"@context":[{"@version":1.1},"https://w3id.org/security/v1",{AesKeyWrappingKey2019:"sec:AesKeyWrappingKey2019",DeleteKeyOperation:"sec:DeleteKeyOperation",DeriveSecretOperation:"sec:DeriveSecretOperation",EcdsaSecp256k1Signature2019:"sec:EcdsaSecp256k1Signature2019",EcdsaSecp256r1Signature2019:"sec:EcdsaSecp256r1Signature2019",EcdsaSecp256k1VerificationKey2019:"sec:EcdsaSecp256k1VerificationKey2019",EcdsaSecp256r1VerificationKey2019:"sec:EcdsaSecp256r1VerificationKey2019",Ed25519Signature2018:"sec:Ed25519Signature2018",Ed25519VerificationKey2018:"sec:Ed25519VerificationKey2018",EquihashProof2018:"sec:EquihashProof2018",ExportKeyOperation:"sec:ExportKeyOperation",GenerateKeyOperation:"sec:GenerateKeyOperation",KmsOperation:"sec:KmsOperation",RevokeKeyOperation:"sec:RevokeKeyOperation",RsaSignature2018:"sec:RsaSignature2018",RsaVerificationKey2018:"sec:RsaVerificationKey2018",Sha256HmacKey2019:"sec:Sha256HmacKey2019",SignOperation:"sec:SignOperation",UnwrapKeyOperation:"sec:UnwrapKeyOperation",VerifyOperation:"sec:VerifyOperation",WrapKeyOperation:"sec:WrapKeyOperation",X25519KeyAgreementKey2019:"sec:X25519KeyAgreementKey2019",allowedAction:"sec:allowedAction",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"},capability:{"@id":"sec:capability","@type":"@id"},capabilityAction:"sec:capabilityAction",capabilityChain:{"@id":"sec:capabilityChain","@type":"@id","@container":"@list"},capabilityDelegation:{"@id":"sec:capabilityDelegationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"sec:capabilityInvocationMethod","@type":"@id","@container":"@set"},caveat:{"@id":"sec:caveat","@type":"@id","@container":"@set"},challenge:"sec:challenge",ciphertext:"sec:ciphertext",controller:{"@id":"sec:controller","@type":"@id"},delegator:{"@id":"sec:delegator","@type":"@id"},equihashParameterK:{"@id":"sec:equihashParameterK","@type":"xsd:integer"},equihashParameterN:{"@id":"sec:equihashParameterN","@type":"xsd:integer"},invocationTarget:{"@id":"sec:invocationTarget","@type":"@id"},invoker:{"@id":"sec:invoker","@type":"@id"},jws:"sec:jws",keyAgreement:{"@id":"sec:keyAgreementMethod","@type":"@id","@container":"@set"},kmsModule:{"@id":"sec:kmsModule"},parentCapability:{"@id":"sec:parentCapability","@type":"@id"},plaintext:"sec:plaintext",proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},proofValue:"sec:proofValue",referenceId:"sec:referenceId",unwrappedKey:"sec:unwrappedKey",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},verifyData:"sec:verifyData",wrappedKey:"sec:wrappedKey"}]}}]))}(t={exports:{}},t.exports),t.exports}(),jq=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Dq),Qq=Dq.contexts,Hq=Dq.constants,Kq=Ea(Object.freeze({__proto__:null,default:jq,constants:Hq,contexts:Qq})),Vq=Kq.constants,zq={SECURITY_CONTEXT_URL:Vq.SECURITY_CONTEXT_V2_URL,SECURITY_CONTEXT_V1_URL:Vq.SECURITY_CONTEXT_V1_URL,SECURITY_CONTEXT_V2_URL:Vq.SECURITY_CONTEXT_V2_URL,SECURITY_PROOF_URL:"https://w3id.org/security#proof",SECURITY_SIGNATURE_URL:"https://w3id.org/security#signature"},qq=zq,Gq=Kq.contexts,Wq=new Map([[qq.SECURITY_CONTEXT_V1_URL,Gq.get(qq.SECURITY_CONTEXT_V1_URL)],[qq.SECURITY_CONTEXT_V2_URL,Gq.get(qq.SECURITY_CONTEXT_V2_URL)]]),Jq={},Xq=Jq;Jq.extendContextLoader=function(e){return function(){var t=o(n().mark((function t(r){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Wq.get(r),t.abrupt("return",void 0!==i?{contextUrl:null,documentUrl:r,document:i,tag:"static"}:e(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Jq.strictDocumentLoader=Jq.extendContextLoader((function(e){throw new Error("".concat(e," not found."))}));Error;var Yq=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],$q=Symbol(".toJSON called"),Zq=function e(t){var r=t.from,n=t.seen,a=t.to_,o=t.forceEnumerable,s=t.maxDepth,u=t.depth,c=a||(Array.isArray(r)?[]:{});if(n.push(r),u>=s)return c;if("function"==typeof r.toJSON&&!0!==r[$q])return function(e){e[$q]=!0;var t=e.toJSON();return delete e[$q],t}(r);for(var l=0,f=Object.entries(r);l<f.length;l++){var h=B(f[l],2),A=h[0],d=h[1];Eo(d)?c[A]="[object Buffer]":"function"!=typeof d&&(d&&"object"==i(d)?n.includes(r[A])?c[A]="[Circular]":(u++,c[A]=e({from:r[A],seen:n.slice(),forceEnumerable:o,maxDepth:s,depth:u})):c[A]=d)}var p,v=L(Yq);try{for(v.s();!(p=v.n()).done;){var g=p.value,y=g.property,m=g.enumerable;"string"==typeof r[y]&&Object.defineProperty(c,y,{value:r[y],enumerable:!!o||m,configurable:!0,writable:!0})}}catch(e){v.e(e)}finally{v.f()}return c},eG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxDepth,n=void 0===r?Number.POSITIVE_INFINITY:r;return"object"==i(e)&&null!==e?Zq({from:e,seen:[],forceEnumerable:!0,maxDepth:n,depth:0}):"function"==typeof e?"[Function: ".concat(e.name||"anonymous","]"):e},tG=zq,rG=db,nG=Xq.extendContextLoader,iG=Xq.strictDocumentLoader,aG=eG,oG=function(e){if(e.unmappedProperty)throw new Error('The property "'+e.unmappedProperty+'" in the input was not defined in the context.')};function sG(e){Object.defineProperty(e,"toJSON",{value:function(){return aG(this)},configurable:!0,writable:!0})}
/*!
   * Copyright (c) 2020 Digital Bazaar, Inc. All rights reserved.
   */var uG=function(e){f(r,e);var t=w(r);function r(e){var n;return s(this,r),(n=t.call(this,"Verification error(s).")).name="VerificationError",n.errors=[].concat(e),n}return c(r)}(v(Error)),cG=uG,lG=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.type;if(s(this,e),"string"!=typeof r)throw new TypeError('A LinkedDataProof must have a "type".');this.type=r}var t,r,i;return c(e,[{key:"createProof",value:(i=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw g(t),new Error('"createProof" must be implemented in a derived class.');case 2:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"verifyProof",value:(r=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw g(t),new Error('"verifyProof" must be implemented in a derived class.');case 2:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"matchProof",value:(t=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proof,e.abrupt("return",r.type===this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),fG={},hG=fG;fG.w3cDate=function(e){null==e?e=new Date:"number"!=typeof e&&"string"!=typeof e||(e=new Date(e));var t=e.toISOString();return t.substr(0,t.length-5)+"Z"},fG.concat=function(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r};var AG=self&&(self.crypto||self.msCrypto),dG=function(e){return o(n().mark((function t(){var r,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.string,i=(new TextEncoder).encode(r),t.t0=Uint8Array,t.next=5,AG.subtle.digest("SHA-256",i);case 5:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 7:case"end":return t.stop()}}),t)})))()},pG=zq,vG=db,gG=hG,yG=dG,mG=lG,bG={},wG=bG;bG.suites={LinkedDataProof:lG,LinkedDataSignature:function(e){f(y,e);var t,a,u,l,h,A,d,p,v,g=w(y);function y(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.type,n=t.proof,i=t.LDKeyClass,a=t.date,o=t.key,u=t.signer,c=t.verifier,l=t.useNativeCanonize,f=t.contextUrl;s(this,y),(e=g.call(this,{type:r})).LDKeyClass=i,e.contextUrl=f,e.proof=n;var h=function(e){var t=e.key,r=e.signer,n=e.verifier,i={};if(t){if(i.key=t,i.verificationMethod=t.id,"function"==typeof t.signer&&(i.signer=t.signer()),"function"==typeof t.verifier&&(i.verifier=t.verifier()),!i.signer&&!i.verifier)throw new TypeError('The "key" parameter must contain a "signer" or "verifier" method.')}else i.verificationMethod=r&&r.id||n&&n.id,i.signer=r,i.verifier=n;if(i.signer&&"function"!=typeof i.signer.sign)throw new TypeError("A signer API has not been specified.");if(i.verifier&&"function"!=typeof i.verifier.verify)throw new TypeError("A verifier API has not been specified.");return i}({key:o,signer:u,verifier:c});if(e.verificationMethod=h.verificationMethod,e.key=h.key,e.signer=h.signer,e.verifier=h.verifier,a&&(e.date=new Date(a),isNaN(e.date)))throw TypeError('"date" "'.concat(a,'" is not a valid date.'));return e.useNativeCanonize=l,e._hashCache=null,e}return c(y,[{key:"createProof",value:(v=o(n().mark((function e(t){var i,a,o,s,u,c,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.document,a=t.purpose,o=t.documentLoader,s=t.expansionMap,(u=this.proof?r({},this.proof):{}).type=this.type,c=this.date,void 0===u.created&&void 0===c&&(c=new Date),c&&"string"!=typeof c&&(c=gG.w3cDate(c)),c&&(u.created=c),u.verificationMethod=this.verificationMethod,e.next=9,this.updateProof({document:i,proof:u,purpose:a,documentLoader:o,expansionMap:s});case 9:return u=e.sent,e.next=12,a.update(u,{document:i,suite:this,documentLoader:o,expansionMap:s});case 12:return u=e.sent,e.next=15,this.createVerifyData({document:i,proof:u,documentLoader:o,expansionMap:s});case 15:return l=e.sent,e.next=18,this.sign({verifyData:l,document:i,proof:u,documentLoader:o,expansionMap:s});case 18:return u=e.sent,e.abrupt("return",u);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"updateProof",value:(p=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proof,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"verifyProof",value:(d=o(n().mark((function e(t){var r,i,a,o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proof,i=t.document,a=t.documentLoader,o=t.expansionMap,e.prev=1,e.next=4,this.createVerifyData({document:i,proof:r,documentLoader:a,expansionMap:o});case 4:return s=e.sent,e.next=7,this.getVerificationMethod({proof:r,document:i,documentLoader:a,expansionMap:o});case 7:return u=e.sent,e.next=10,this.verifySignature({verifyData:s,verificationMethod:u,document:i,proof:r,documentLoader:a,expansionMap:o});case 10:if(e.sent){e.next=12;break}throw new Error("Invalid signature.");case 12:return e.abrupt("return",{verified:!0,verificationMethod:u});case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",{verified:!1,error:e.t0});case 18:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(e){return d.apply(this,arguments)})},{key:"canonize",value:(A=o(n().mark((function e(t,r){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.documentLoader,a=r.expansionMap,o=r.skipExpansion,e.abrupt("return",vG.canonize(t,{algorithm:"URDNA2015",format:"application/n-quads",documentLoader:i,expansionMap:a,skipExpansion:o,useNative:this.useNativeCanonize}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)})},{key:"canonizeProof",value:(h=o(n().mark((function e(t,i){var a,o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.document,o=i.documentLoader,s=i.expansionMap,e.abrupt("return",(delete(t=r({"@context":a["@context"]||pG.SECURITY_CONTEXT_URL},t)).jws,delete t.signatureValue,delete t.proofValue,this.canonize(t,{documentLoader:o,expansionMap:s,skipExpansion:!1})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"createVerifyData",value:(l=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.document,i=t.proof,a=t.documentLoader,o=t.expansionMap,(u=this._hashCache)&&u.document===r?s=u.hash:this._hashCache={document:r,hash:s=this.canonize(r,{documentLoader:a,expansionMap:o}).then((function(e){return yG({string:e})}))},e.next=5,Promise.all([this.canonizeProof(i,{document:r,documentLoader:a,expansionMap:o}).then((function(e){return yG({string:e})})),s]);case 5:return c=e.sent,l=B(c,2),f=l[0],h=l[1],e.abrupt("return",gG.concat(f,h));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"getVerificationMethod",value:(u=o(n().mark((function e(t){var r,a,o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.proof,a=t.documentLoader,"object"==i(o=r.verificationMethod)&&(o=o.id),o){e.next=4;break}throw new Error('No "verificationMethod" found in proof.');case 4:return e.next=6,vG.frame(o,{"@context":pG.SECURITY_CONTEXT_URL,"@embed":"@always",id:o},{documentLoader:a,compactToRelative:!1});case 6:if(s=e.sent){e.next=9;break}throw new Error("Verification method ".concat(o," not found."));case 9:if(void 0===s.revoked){e.next=11;break}throw new Error("The verification method has been revoked.");case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"sign",value:(a=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Must be implemented by a derived class.");case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"verifySignature",value:(t=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Must be implemented by a derived class.");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"ensureSuiteContext",value:function(e){var t=e.document,r=e.addSuiteContext,n=this.contextUrl;if(!function(e){var t=e.contextUrl,r=e.document["@context"];return r===t||Array.isArray(r)&&r.includes(t)}({document:t,contextUrl:n})){if(!r)throw new TypeError("The document to be signed must contain this suite's @context, \"".concat(n,'".'));var i=t["@context"]||[];t["@context"]=Array.isArray(i)?[].concat(S(i),[n]):[i,n]}}}]),y}(mG)};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */
var xG=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.term,n=t.date,i=t.maxTimestampDelta,a=void 0===i?1/0:i;if(s(this,e),void 0===r)throw new Error('"term" is required.');if(void 0!==a&&"number"!=typeof a)throw new TypeError('"maxTimestampDelta" must be a number.');if(this.term=r,void 0!==n&&(this.date=new Date(n),isNaN(this.date)))throw TypeError('"date" "'.concat(n,'" is not a valid date.'));this.maxTimestampDelta=a}var t,r,i;return c(e,[{key:"validate",value:(i=o(n().mark((function e(t,r){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(r),e.prev=1,this.maxTimestampDelta===1/0){e.next=6;break}if(i=(this.date||new Date).getTime(),a=1e3*this.maxTimestampDelta,(o=new Date(t.created).getTime())>=i-a&&o<=i+a){e.next=6;break}throw new Error("The proof's created timestamp is out of range.");case 6:return e.abrupt("return",{valid:!0});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{valid:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e,t){return i.apply(this,arguments)})},{key:"update",value:(r=o(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(r),e.abrupt("return",(t.proofPurpose=this.term,t));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"match",value:(t=o(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(r),e.abrupt("return",t.proofPurpose===this.term);case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),kG=zq,_G=db,BG=["assertionMethod","authentication","capabilityInvocation","capabilityDelegation","keyAgreement","verificationMethod"],EG=function(e){f(a,e);var t,r=w(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.term,o=t.controller,u=t.date,c=t.maxTimestampDelta,l=void 0===c?1/0:c;if(s(this,a),e=r.call(this,{term:n,date:u,maxTimestampDelta:l}),void 0!==o){if("object"!=i(o))throw new TypeError('"controller" must be an object.');e.controller=o}return e._termDefinedByDIDContext=BG.includes(n),b(e)}return c(a,[{key:"validate",value:(t=o(n().mark((function e(t,r){var o,s,u,c,f,A,d,p,v,g,y,m;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.verificationMethod,s=r.documentLoader,u=r.expansionMap,e.prev=1,e.next=4,k(h(a.prototype),"validate",this).call(this,t,{verificationMethod:o,documentLoader:s,expansionMap:u});case 4:if((c=e.sent).valid){e.next=7;break}throw c.error;case 7:if(f=o.id,A=this.term,d=this._termDefinedByDIDContext,!this.controller){e.next=12;break}c.controller=this.controller,e.next=31;break;case 12:if(!(p=o.controller)){e.next=21;break}if("object"!=i(p)){e.next=18;break}v=p.id,e.next=21;break;case 18:if("string"==typeof p){e.next=20;break}throw new TypeError('"controller" must be a string representing a URL.');case 20:v=p;case 21:return e.next=23,s(v);case 23:if(g=e.sent,y=g.document,e.t0=!(d&&"https://www.w3.org/ns/did/v1"===y["@context"]||Array.isArray(y["@context"])&&"https://www.w3.org/ns/did/v1"===y["@context"][0]),!e.t0){e.next=30;break}return e.next=29,_G.frame(y,l({"@context":kG.SECURITY_CONTEXT_URL,id:v},A,{"@embed":"@never",id:f}),{documentLoader:s,compactToRelative:!1});case 29:y=e.sent;case 30:c.controller=y;case 31:if(m=_G.getValues(c.controller,A),c.valid=m.some((function(e){return e===f||"object"==i(e)&&e.id===f})),c.valid){e.next=34;break}throw new Error('Verification method "'.concat(o.id,'" not authorized by controller for proof purpose "').concat(this.term,'".'));case 34:return e.abrupt("return",c);case 37:return e.prev=37,e.t1=e.catch(1),e.abrupt("return",{valid:!1,error:e.t1});case 40:case"end":return e.stop()}}),e,this,[[1,37]])}))),function(e,r){return t.apply(this,arguments)})}]),a}(xG),SG=EG,CG=EG,IG={},PG=IG;
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */IG.purposes={AssertionProofPurpose:function(e){f(r,e);var t=w(r);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.term,i=void 0===n?"assertionMethod":n,a=e.controller,o=e.date,u=e.maxTimestampDelta,c=void 0===u?1/0:u;return s(this,r),t.call(this,{term:i,controller:a,date:o,maxTimestampDelta:c})}return c(r)}(SG),AuthenticationProofPurpose:function(e){f(a,e);var t,r,i=w(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.term,n=void 0===r?"authentication":r,o=t.controller,u=t.challenge,c=t.date,l=t.domain,f=t.maxTimestampDelta,h=void 0===f?1/0:f;if(s(this,a),e=i.call(this,{term:n,controller:o,date:c,maxTimestampDelta:h}),"string"!=typeof u)throw new TypeError('"challenge" must be a string.');if(void 0!==l&&"string"!=typeof l)throw new TypeError('"domain" must be a string.');return e.challenge=u,e.domain=l,b(e)}return c(a,[{key:"validate",value:(r=o(n().mark((function e(t,r){var i,o,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.verificationMethod,o=r.documentLoader,s=r.expansionMap,e.prev=1,t.challenge===this.challenge){e.next=4;break}throw new Error('The challenge is not as expected; challenge="'.concat(t.challenge,'", expected="').concat(this.challenge,'"'));case 4:if(void 0===this.domain||t.domain===this.domain){e.next=6;break}throw new Error('The domain is not as expected; domain="'.concat(t.domain,'", expected="').concat(this.domain,'"'));case 6:return e.abrupt("return",k(h(a.prototype),"validate",this).call(this,t,{verificationMethod:i,documentLoader:o,expansionMap:s}));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{valid:!1,error:e.t0});case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e,t){return r.apply(this,arguments)})},{key:"update",value:(t=o(n().mark((function e(t,r){var i,o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.document,o=r.suite,s=r.documentLoader,u=r.expansionMap,e.next=3,k(h(a.prototype),"update",this).call(this,t,{document:i,suite:o,documentLoader:s,expansionMap:u});case 3:return(t=e.sent).challenge=this.challenge,void 0!==this.domain&&(t.domain=this.domain),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(CG),ControllerProofPurpose:EG,ProofPurpose:xG};
/*!
   * Copyright (c) 2010-2018 Digital Bazaar, Inc. All rights reserved.
   */
var TG={},OG=TG,LG=zq;Object.assign(TG,LG);var NG=function(){function e(){s(this,e)}var t,i;return c(e,[{key:"add",value:(i=o(n().mark((function e(t){var i,a,o,s,u,c,l,f=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=f.length>1&&void 0!==f[1]?f[1]:{},a=i.suite,o=i.purpose,s=i.documentLoader,u=i.expansionMap,a){e.next=3;break}throw new TypeError('"options.suite" is required.');case 3:if(o){e.next=5;break}throw new TypeError('"options.purpose" is required.');case 5:return s=s?nG(s):iG,void 0===u?u=oG:!1===u&&(u=void 0),delete(c=r({},t)).proof,e.next=10,a.createProof({document:c,purpose:o,documentLoader:s,expansionMap:u});case 10:return l=e.sent,e.abrupt("return",(rG.addValue(t,"proof",l),t));case 12:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"verify",value:(t=o(n().mark((function e(t){var i,a,s,u,c,l,f,h,A,d,p,v,g,y,m,b=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.length>1&&void 0!==b[1]?b[1]:{},a=i.suite,s=i.purpose,u=i.documentLoader,c=i.expansionMap,a){e.next=3;break}throw new TypeError('"options.suite" is required.');case 3:if(s){e.next=5;break}throw new TypeError('"options.purpose" is required.');case 5:if(0!==(l=Array.isArray(a)?a:[a]).length){e.next=8;break}throw new TypeError("At least one suite is required.");case 8:return u=u?nG(u):iG,void 0===c?c=oG:!1===c&&(c=void 0),e.prev=9,t=r({},t),e.next=13,function(){var e=o(n().mark((function e(t){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.document,a=rG.getValues(i,"proof"),delete i.proof,0!==a.length){e.next=3;break}throw new Error("No matching proofs found in the given document.");case 3:return o=i["@context"]||tG.SECURITY_CONTEXT_URL,e.abrupt("return",(a=a.map((function(e){return r({"@context":o},e)})),{proofSet:a,document:i}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()({document:t,documentLoader:u,expansionMap:c});case 13:return f=e.sent,h=f.proofSet,A=f.document,t=A,e.next=19,function(){var e=o(n().mark((function e(t){var r,i,a,s,u,c,l,f,h,A,d;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.document,i=t.suites,a=t.proofSet,s=t.purpose,u=t.documentLoader,c=t.expansionMap,l=Array.isArray(s)?s:[s],f=new Map,h=new Map,A=new Map,e.next=4,Promise.all(l.map((function(e){return(t=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.purposeToProofs,i=t.proofToSuite,a=t.purpose,o=t.proofSet,s=t.suites,u=t.suiteMatchQueue,c=t.document,l=t.documentLoader,f=t.expansionMap,h=L(o),e.prev=2,h.s();case 4:if((A=h.n()).done){e.next=38;break}return d=A.value,e.next=8,a.match(d,{document:c,documentLoader:l,expansionMap:f});case 8:if(e.sent){e.next=10;break}return e.abrupt("continue",36);case 10:p=!1,v=L(s),e.prev=12,v.s();case 14:if((g=v.n()).done){e.next=27;break}return y=g.value,(m=u.get(y))||u.set(y,m=new Map),(b=m.get(d))||(b=y.matchProof({proof:d,document:c,documentLoader:l,expansionMap:f}),m.set(d,b)),e.next=22,b;case 22:if(!e.sent){e.next=25;break}return p=!0,i.set(d,y),e.abrupt("break",27);case 25:e.next=14;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(12),v.e(e.t0);case 32:return e.prev=32,v.f(),e.finish(32);case 35:p&&((w=r.get(a))?w.push(d):r.set(a,[d]));case 36:e.next=4;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(2),h.e(e.t1);case 43:return e.prev=43,h.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,null,[[2,40,43,46],[12,29,32,35]])}))),function(e){return t.apply(this,arguments)})({purposeToProofs:f,proofToSuite:h,purpose:e,proofSet:a,suites:i,suiteMatchQueue:A,document:r,documentLoader:u,expansionMap:c});var t})));case 4:if(!(f.size<l.length)){e.next=6;break}return e.abrupt("return",[]);case 6:return d=new Map,e.next=9,Promise.all(S(h.entries()).map(function(){var e=o(n().mark((function e(t){var i,a,s,l,f,h,A,p,v,g;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=B(t,2),a=i[0],s=i[1],e.prev=1,h={validate:function(){var e=o(n().mark((function e(t,r){var i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.verificationMethod,e.abrupt("return",(f=i,{valid:!0}));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},e.next=5,s.verifyProof({proof:a,document:r,purpose:h,documentLoader:u,expansionMap:c});case 5:A=e.sent,p=A.verified,v=A.verificationMethod,g=A.error,f||(f=v),l={proof:a,verified:p,verificationMethod:f,error:g},e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),l={proof:a,verified:!1,error:e.t0};case 15:l.error&&sG(l.error),d.set(a,l);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()));case 9:return e.next=11,Promise.all(S(f.entries()).map(function(){var e=o(n().mark((function e(t){var i,a,o,s,l,f,A,p,v,g;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=B(t,2),a=i[0],o=i[1],s=L(o),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=23;break}if(f=l.value,(A=d.get(f)).verified){e.next=9;break}return e.abrupt("continue",21);case 9:return p=A.verificationMethod,v=h.get(f),g=void 0,e.prev=11,e.next=14,a.validate(f,{document:r,suite:v,verificationMethod:p,documentLoader:u,expansionMap:c});case 14:g=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),g={valid:!1,error:e.t0};case 20:A.purposeResult?Array.isArray(A.purposeResult)?A.purposeResult.push(g):A.purposeResult=[A.purposeResult,g]:A.purposeResult=g,g.valid||(sG(g.error),A.error||(A.verified=!1,A.error=g.error));case 21:e.next=4;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(2),s.e(e.t1);case 28:return e.prev=28,s.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[2,25,28,31],[11,17]])})));return function(t){return e.apply(this,arguments)}}()));case 11:return e.abrupt("return",S(d.values()));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()({document:t,suites:l,proofSet:h,purpose:s,documentLoader:u,expansionMap:c});case 19:if(0!==(d=e.sent).length){e.next=23;break}throw(p=new Error("Did not verify any proofs; insufficient proofs matched the acceptable suite(s) and required purpose(s).")).name="NotFoundError",p;case 23:if(v=d.some((function(e){return e.verified})),v){e.next=27;break}return y=(g=[]).concat.apply(g,S(d.filter((function(e){return e.error})).map((function(e){return e.error})))),m={verified:v,results:d},e.abrupt("return",(y.length>0&&(m.error=y),m));case 27:return e.abrupt("return",{verified:v,results:d});case 30:return e.prev=30,e.t0=e.catch(9),e.abrupt("return",(sG(e.t0),{verified:!1,error:e.t0}));case 33:case"end":return e.stop()}}),e,null,[[9,30]])}))),function(e){return t.apply(this,arguments)})}]),e}(),MG=cG;TG.sign=function(){var e=o(n().mark((function e(t){var r,a,o,s,u,c,l,f,h,A=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A.length>1&&void 0!==A[1]?A[1]:{},a=r.suite,o=r.purpose,s=r.documentLoader,u=r.expansionMap,c=r.addSuiteContext,l=void 0===c||c,"object"==i(t)){e.next=3;break}throw new TypeError('The "document" parameter must be an object.');case 3:return a.ensureSuiteContext({document:t,addSuiteContext:l}),e.prev=4,e.next=7,(new NG).add(t,{suite:a,purpose:o,documentLoader:s,expansionMap:u});case 7:return e.abrupt("return",e.sent);case 10:if(e.prev=10,e.t0=e.catch(4),s||"jsonld.InvalidUrl"!==e.t0.name){e.next=15;break}throw f=e.t0.details.url,(h=new Error('A URL "'.concat(f,'" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "sign".'))).cause=e.t0,h;case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),TG.verify=function(){var e=o(n().mark((function e(t){var r,a,o,s,u,c,l,f,h,A=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=A.length>1&&void 0!==A[1]?A[1]:{},a=r.suite,o=r.purpose,s=r.documentLoader,u=r.expansionMap,"object"==i(t)){e.next=3;break}throw new TypeError('The "document" parameter must be an object.');case 3:return e.next=5,(new NG).verify(t,{suite:a,purpose:o,documentLoader:s,expansionMap:u});case 5:return c=e.sent,(l=c.error)&&(s||"jsonld.InvalidUrl"!==l.name?c.error=new MG(l):(f=l.details.url,h=new Error('A URL "'.concat(f,'" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "verify".')),c.error=new MG(h))),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),TG.suites=wG.suites,TG.purposes=PG.purposes,Object.assign(TG,Xq);var UG=function(e,t){return function(e,t){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==i(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2020:{"@id":"https://w3id.org/security#Ed25519VerificationKey2020","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyMultibase:{"@id":"https://w3id.org/security#publicKeyMultibase","@type":"https://w3id.org/security#multibase"}}},Ed25519Signature2020:{"@id":"https://w3id.org/security#Ed25519Signature2020","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},proofValue:{"@id":"https://w3id.org/security#proofValue","@type":"https://w3id.org/security#multibase"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={CONTEXT_FILENAME:"ed25519-signature-2020-v1.jsonld",CONTEXT_URL:"https://w3id.org/security/suites/ed25519-2020/v1",CBORLD_CODEC_VALUE:20}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
var n=r(0),i=r(1),a=r(3).documentLoader,o=i.CONTEXT_URL,s=i.CBORLD_CODEC_VALUE,u=new Map;u.set(i.CONTEXT_URL,n);var c=new Map;c.set(o,s),e.exports={constants:i,contexts:u,appContextMap:c,documentLoader:a,CONTEXT_URL:o,CONTEXT:n}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
var n=r(1).CONTEXT_URL,i=r(0);e.exports={documentLoader:function(e){if(e!==n)throw new Error('Loading document "'.concat(e,'" is not allowed.'));return{contextUrl:null,document:i,documentUrl:e}}}}]))}(t={exports:{}},t.exports),t.exports}(),FG=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(UG);UG.contexts,UG.constants,UG.CONTEXT,UG.CONTEXT_URL,UG.appContextMap,UG.documentLoader;var RG=function(e,t){return function(e,t){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==i(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2018:{"@id":"https://w3id.org/security#Ed25519VerificationKey2018","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyBase58:{"@id":"https://w3id.org/security#publicKeyBase58"}}},Ed25519Signature2018:{"@id":"https://w3id.org/security#Ed25519Signature2018","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},jws:{"@id":"https://w3id.org/security#jws"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={CONTEXT_FILENAME:"ed25519-signature-2018-v1.jsonld",CONTEXT_URL:"https://w3id.org/security/suites/ed25519-2018/v1",CBORLD_CODEC_VALUE:19}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
var n=r(0),i=r(1),a=r(3).documentLoader,o=i.CONTEXT_URL,s=i.CBORLD_CODEC_VALUE,u=new Map;u.set(o,n);var c=new Map;c.set(o,s),e.exports={constants:i,contexts:u,appContextMap:c,documentLoader:a,CONTEXT_URL:o,CONTEXT:n}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
var n=r(1).CONTEXT_URL,i=r(0);e.exports={documentLoader:function(e){if(e!==n)throw new Error('Loading document "'.concat(e,'" is not allowed.'));return{contextUrl:null,document:i,documentUrl:e}}}}]))}(t={exports:{}},t.exports),t.exports}(),DG=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(RG);RG.contexts,RG.constants,RG.CONTEXT,RG.CONTEXT_URL,RG.appContextMap,RG.documentLoader;
/*!
   * Copyright (c) 2020-2021 Digital Bazaar, Inc. All rights reserved.
   */
var jG=OG.suites.LinkedDataSignature,QG=FG.constants.CONTEXT_URL,HG=DG.constants.CONTEXT_URL,KG=function(e){f(d,e);var t,r,a,u,l,A=w(d);function d(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.key,n=t.signer,i=t.verifier,a=t.proof,o=t.date,u=t.useNativeCanonize;return s(this,d),(e=A.call(this,{type:"Ed25519Signature2020",LDKeyClass:vd,contextUrl:QG,key:r,signer:n,verifier:i,proof:a,date:o,useNativeCanonize:u})).requiredKeyType="Ed25519VerificationKey2020",e}return c(d,[{key:"sign",value:(l=o(n().mark((function e(t){var r,i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.verifyData,i=t.proof,this.signer&&"function"==typeof this.signer.sign){e.next=3;break}throw new Error("A signer API has not been specified.");case 3:return e.next=5,this.signer.sign({data:r});case 5:return a=e.sent,e.abrupt("return",(i.proofValue="z"+fA(a),i));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"verifySignature",value:(u=o(n().mark((function e(t){var r,i,a,o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.verifyData,i=t.verificationMethod,a=t.proof,(o=a.proofValue)&&"string"==typeof o){e.next=4;break}throw new TypeError('The proof does not include a valid "proofValue" property.');case 4:if("z"===o[0]){e.next=6;break}throw new Error("Only base58btc multibase encoding is supported.");case 6:if(s=hA(o.substr(1)),u=this.verifier){e.next=12;break}return e.next=11,this.LDKeyClass.from(i);case 11:u=e.sent.verifier();case 12:return e.abrupt("return",u.verify({data:r,signature:s}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"assertVerificationMethod",value:(a=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Ed25519VerificationKey2020"!==(r=t.verificationMethod).type){e.next=5;break}i=QG,e.next=8;break;case 5:if("Ed25519VerificationKey2018"===r.type){e.next=7;break}throw new Error('Unsupported key type "'.concat(r.type,'".'));case 7:i=HG;case 8:if(VG({document:r,contextUrl:i})){e.next=10;break}throw new TypeError('The verification method (key) must contain "'.concat(i,'" context.'));case 10:if(void 0===r.revoked){e.next=12;break}throw new Error("The verification method has been revoked.");case 12:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"getVerificationMethod",value:(r=o(n().mark((function e(t){var r,a,o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.proof,a=t.documentLoader,!this.key){e.next=3;break}return e.abrupt("return",this.key.export({publicKey:!0}));case 3:if("object"==i(o=r.verificationMethod)&&(o=o.id),o){e.next=6;break}throw new Error('No "verificationMethod" found in proof.');case 6:return e.next=8,a(o);case 8:return s=e.sent,u=s.document,o="string"==typeof u?JSON.parse(u):u,e.next=13,this.assertVerificationMethod({verificationMethod:o});case 13:if(e.t0="Ed25519VerificationKey2018"===o.type,!e.t0){e.next=18;break}return e.next=17,vd.fromEd25519VerificationKey2018({keyPair:o});case 17:o=e.sent.export({publicKey:!0,includeContext:!0});case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"matchProof",value:(t=o(n().mark((function e(t){var r,a,o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.proof,a=t.document,o=t.purpose,s=t.documentLoader,u=t.expansionMap,VG({document:a,contextUrl:QG})){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,k(h(d.prototype),"matchProof",this).call(this,{proof:r,document:a,purpose:o,documentLoader:s,expansionMap:u});case 5:if(e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:if(this.key){e.next=9;break}return e.abrupt("return",!0);case 9:return c=r.verificationMethod,e.abrupt("return","object"==i(c)?c.id===this.key.id:c===this.key.id);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),d}(jG);function VG(e){var t=e.document,r=e.contextUrl,n=t["@context"];return n===r||Array.isArray(n)&&n.includes(r)}KG.CONTEXT_URL=QG,KG.CONTEXT=FG.contexts.get(QG);var zG,qG=OG.purposes.AssertionProofPurpose;!function(e){e.retrieveVerificationMethodPublicKey="retrieveVerificationMethodPublicKey",e.checkDocumentSignature="checkDocumentSignature"}(zG||(zG={}));var GG=function(e){f(d,e);var t,i,a,u,h,A=w(d);function d(e){var t;return s(this,d),l(m(t=A.call(this,e)),"verificationProcess",[zG.retrieveVerificationMethodPublicKey,zG.checkDocumentSignature]),l(m(t),"documentToVerify",void 0),l(m(t),"issuer",void 0),l(m(t),"proof",void 0),l(m(t),"type","Ed25519Signature2020"),l(m(t),"verificationKey",void 0),e.actionMethod&&(t._doAction=e.actionMethod),t.documentToVerify=e.document,t.issuer=e.issuer,t.proof=e.proof,t.validateProofType(),t}return c(d,[{key:"verifyProof",value:(h=o(n().mark((function e(){var t,r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=L(this.verificationProcess),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=11;break}if(this[i=r.value]){e.next=7;break}return e.abrupt("return",void console.error("verification logic for",i,"not implemented"));case 7:return e.next=9,this[i]();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])}))),function(){return h.apply(this,arguments)})},{key:"verifyIdentity",value:(u=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"getProofVerificationSteps",value:function(e){return this.verificationProcess.map((function(t){return kp.verifier.convertToVerificationSubsteps(e,t)}))}},{key:"getIdentityVerificationSteps",value:function(){return[]}},{key:"getIssuerPublicKey",value:function(){var e=this.proof.verificationMethod;return this.issuer.didDocument.verificationMethod.find((function(t){return t.id===e})).publicKeyMultibase}},{key:"getIssuerName",value:function(){var e;return null!==(e=this.issuer.name)&&void 0!==e?e:""}},{key:"getIssuerProfileDomain",value:function(){try{var e;return null!==(e=new URL(this.getIssuerProfileUrl()).hostname)&&void 0!==e?e:""}catch(e){return""}}},{key:"getIssuerProfileUrl",value:function(){var e;return null!==(e=this.issuer.id)&&void 0!==e?e:""}},{key:"getSigningDate",value:function(){return this.proof.created}},{key:"_doAction",value:(a=o(n().mark((function e(t,r,i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("doAction method needs to be overwritten by injecting from CVJS");case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return a.apply(this,arguments)})},{key:"validateProofType",value:function(){var e=this.isProofChain()?this.proof.chainedProofType:this.proof.type;if(e!==this.type)throw new Error("Incompatible proof type passed. Expected: ".concat(this.type,", Got: ").concat(e))}},{key:"isProofChain",value:function(){return"ChainedProof2021"===this.proof.type}},{key:"generateDocumentLoader",value:function(){return Lu[this.documentToVerify.issuer]=this.issuer.didDocument,function(e){return e in Lu?{contextUrl:null,document:Lu[e],documentUrl:e}:db.documentLoader(e)}}},{key:"retrieveInitialDocument",value:function(){var e=this,t=xb(this.documentToVerify);if(Array.isArray(t.proof)){var r=t.proof.find((function(t){return t.type===e.type}));delete t.proof,t.proof=r}return t}},{key:"retrieveVerificationMethodPublicKey",value:(i=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(zG.retrieveVerificationMethodPublicKey,o(n().mark((function e(){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.issuer.didDocument.verificationMethod.find((function(e){return e.id===t.proof.verificationMethod}))){e.next=3;break}throw new Ju(zG.retrieveVerificationMethodPublicKey,"The verification method of the document does not match the provided issuer.");case 3:return e.next=5,vd.from(r({},i));case 5:if(a=e.sent){e.next=8;break}throw new Ju(zG.retrieveVerificationMethodPublicKey,"Could not derive the verification key");case 8:if(!a.revoked){e.next=10;break}throw new Ju(zG.retrieveVerificationMethodPublicKey,"The verification key has been revoked");case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),this.type);case 2:this.verificationKey=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"checkDocumentSignature",value:(t=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(zG.checkDocumentSignature,o(n().mark((function e(){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new KG({key:t.verificationKey})).date=new Date(Date.now()).toISOString(),e.next=4,OG.verify(t.retrieveInitialDocument(),{suite:r,purpose:new qG,documentLoader:t.generateDocumentLoader()});case 4:if((i=e.sent).verified){e.next=7;break}throw console.error(JSON.stringify(i,null,2)),new Ju(zG.checkDocumentSignature,"The document's ".concat(t.type," signature could not be confirmed"));case 7:console.log("Credential Ed25519 signature successfully verified");case 8:case"end":return e.stop()}}),e)}))),this.type);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),d}(Mq),WG=Mp("Verifier"),JG=function(){function e(t){var r=t.certificateJson,n=t.expires,i=t.hashlinkVerifier,a=t.id,o=t.issuer,u=t.revocationKey,c=t.explorerAPIs;s(this,e),l(this,"expires",void 0),l(this,"id",void 0),l(this,"issuer",void 0),l(this,"revocationKey",void 0),l(this,"documentToVerify",void 0),l(this,"explorerAPIs",void 0),l(this,"txData",void 0),l(this,"_stepsStatuses",[]),l(this,"hashlinkVerifier",void 0),l(this,"verificationSteps",void 0),l(this,"supportedVerificationSuites",void 0),l(this,"proofVerifiers",[]),l(this,"verificationProcess",void 0),l(this,"proofMap",void 0),this.expires=n,this.id=a,this.issuer=o,this.hashlinkVerifier=i,this.revocationKey=u,this.explorerAPIs=c,this.documentToVerify=Object.assign({},r),this.instantiateProofVerifiers(),this.prepareVerificationProcess()}var t,r,i,a,u,f;return c(e,[{key:"getVerificationSteps",value:function(){return this.verificationSteps}},{key:"getSignersData",value:function(){return this.proofVerifiers.map((function(e){var t,r,n,i;return{signingDate:e.getSigningDate(),signatureSuiteType:e.type,issuerPublicKey:e.getIssuerPublicKey(),issuerName:e.getIssuerName(),issuerProfileDomain:e.getIssuerProfileDomain(),issuerProfileUrl:e.getIssuerProfileUrl(),chain:null===(t=e.getChain)||void 0===t?void 0:t.call(e),transactionId:null===(r=e.getTransactionIdString)||void 0===r?void 0:r.call(e),transactionLink:null===(n=e.getTransactionLink)||void 0===n?void 0:n.call(e),rawTransactionLink:null===(i=e.getRawTransactionLink)||void 0===i?void 0:i.call(e)}}))}},{key:"verify",value:(f=o(n().mark((function e(){var t,r,i,a,o,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:function(){},this._stepCallback=t,this._stepsStatuses=[],r=0;case 3:if(!(r<this.proofVerifiers.length)){e.next=9;break}return e.next=6,this.proofVerifiers[r].verifyProof();case 6:r++,e.next=3;break;case 9:i=L(this.verificationProcess),e.prev=10,i.s();case 12:if((a=i.n()).done){e.next=20;break}if(this[o=a.value]){e.next=16;break}return e.abrupt("return",void console.error("verification logic for",o,"not implemented"));case 16:return e.next=18,this[o]();case 18:e.next=12;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),i.e(e.t0);case 25:return e.prev=25,i.f(),e.finish(25);case 28:s=0;case 29:if(!(s<this.proofVerifiers.length)){e.next=35;break}return e.next=32,this.proofVerifiers[s].verifyIdentity();case 32:s++,e.next=29;break;case 35:return u=this._stepsStatuses.find((function(e){return e.status===pp.FAILURE})),e.abrupt("return",u?this._failed(u):this._succeed());case 37:case"end":return e.stop()}}),e,this,[[10,22,25,28]])}))),function(){return f.apply(this,arguments)})},{key:"getRevocationListUrl",value:function(){return this.issuer.revocationList}},{key:"getProofTypes",value:function(){var e=[];return this.proofMap.forEach((function(t){var r=t.type;"ChainedProof2021"===r&&(r=t.chainedProofType),Array.isArray(r)&&(r=r[0]),e.push(r)})),e}},{key:"getProofMap",value:function(e){var t=new Map;return"proof"in e?Array.isArray(e.proof)?e.proof.forEach((function(e,r){return t.set(r,e)})):t.set(0,e.proof):"signature"in e&&t.set(0,e.signature),t}},{key:"instantiateProofVerifiers",value:function(){var e=this;this.supportedVerificationSuites={MerkleProof2017:Rq,MerkleProof2019:Fq,Ed25519Signature2020:GG},this.proofMap=this.getProofMap(this.documentToVerify);var t=this.getProofTypes(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((function(t){return!e.includes(t)}))}(Object.keys(this.supportedVerificationSuites),t);if(r.length)throw new Error("No support for proof verification of type: ".concat(r.join(", ")));this.proofMap.forEach((function(r,n){e.proofVerifiers.push(new e.supportedVerificationSuites[t[n]]({actionMethod:e._doAction.bind(e),document:e.documentToVerify,proof:r,explorerAPIs:e.explorerAPIs,issuer:e.issuer}))}))}},{key:"prepareVerificationProcess",value:function(){var e=kp.certificates.getVerificationMap(!!this.issuer.didDocument);this.verificationSteps=e.verificationMap,this.verificationProcess=e.verificationProcess,this.registerSignatureVerificationSteps(),this.registerIdentityVerificationSteps(),this.verificationSteps=this.verificationSteps.filter((function(e){var t,r;return(null===(t=e.subSteps)||void 0===t?void 0:t.length)>0||(null===(r=e.suites)||void 0===r?void 0:r.some((function(e){return e.subSteps.length>0})))}))}},{key:"registerSignatureVerificationSteps",value:function(){var e=zu.proofVerification;this.verificationSteps.find((function(t){return t.code===e})).suites=this.getSuiteSubsteps(e)}},{key:"getSuiteSubsteps",value:function(e){var t,r=(l(t={},zu.proofVerification,"getProofVerificationSteps"),l(t,zu.identityVerification,"getIdentityVerificationSteps"),t);return this.proofVerifiers.map((function(t){return{proofType:t.type,subSteps:t[r[e]](e)}}))}},{key:"registerIdentityVerificationSteps",value:function(){var e=zu.identityVerification;this.verificationSteps.find((function(t){return t.code===e})).suites=this.getSuiteSubsteps(e)}},{key:"_doAction",value:(u=o(n().mark((function e(t,r,i){var a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isFailing()){e.next=2;break}return e.abrupt("return");case 2:return t&&(a=kp.i18n.getText("subSteps","".concat(t,"LabelPending")),WG(a),this._updateStatusCallback(t,pp.STARTING,i)),e.prev=3,e.next=6,r();case 6:return o=e.sent,e.abrupt("return",(t&&(this._updateStatusCallback(t,pp.SUCCESS,i),this._stepsStatuses.push({code:t,status:pp.SUCCESS})),o));case 10:e.prev=10,e.t0=e.catch(3),t&&(this._updateStatusCallback(t,pp.FAILURE,i,e.t0.message),this._stepsStatuses.push({code:t,message:e.t0.message,status:pp.FAILURE}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(e,t,r){return u.apply(this,arguments)})},{key:"_stepCallback",value:function(e){}},{key:"checkImagesIntegrity",value:(a=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(qu.checkImagesIntegrity,o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.hashlinkVerifier.verifyHashlinkTable().catch((function(e){throw console.error("hashlink verification error",e),new Ju(qu.checkImagesIntegrity,Qu("errors","checkImagesIntegrity"))}));case 2:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"checkRevokedStatus",value:(i=o(n().mark((function e(){var t,r,i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getRevocationListUrl()){e.next=6;break}return console.warn("No revocation list url was set on the issuer."),e.next=5,this._doAction(qu.checkRevokedStatus,(function(){return!0}));case 5:return e.abrupt("return",void e.sent);case 6:return e.next=8,this._doAction(null,o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kp.verifier.getRevokedAssertions(t,i.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))));case 8:return r=e.sent,e.next=11,this._doAction(qu.checkRevokedStatus,(function(){return function(e,t){if(e&&t){Array.isArray(t)||(t=[t]),t=t.filter((function(e){return null!=e}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return t.includes(e)})).filter((function(e,t,r){return r.indexOf(e)===t}))}(t,e.map((function(e){return e.id})));if(r.length>0){var n=e.findIndex((function(e){return e.id===r[0]}));if(n>-1)throw new Ju(qu.checkRevokedStatus,kp.certificates.generateRevocationReason(e[n].revocationReason))}}}(r,i.id)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"checkExpiresDate",value:(r=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(qu.checkExpiresDate,(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=mp(e);if((new Date).getTime()>=t)throw new Ju(qu.checkExpiresDate,Qu("errors","ensureNotExpired"))}}(t.expires)}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"controlVerificationMethod",value:(t=o(n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction(qu.controlVerificationMethod,(function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=function(e){return e.id}(e);if(r!==t.split("#")[0])throw new Ju(qu.controlVerificationMethod,"".concat(Eb," - ").concat(kp.i18n.getText("errors","controlVerificationMethod")))}(t.issuer.didDocument,Uq(t.documentToVerify.proof))}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"findStepFromVerificationProcess",value:function(e,t){return kp.verifier.findVerificationSubstep(e,this.verificationSteps,t)}},{key:"_failed",value:function(e){var t=e.message;return WG("failure:".concat(t)),this._setFinalStep({status:pp.FAILURE,message:t})}},{key:"_isFailing",value:function(){return this._stepsStatuses.some((function(e){return e.status===pp.FAILURE}))}},{key:"_succeed",value:function(){var e;return 1===this.proofVerifiers.length&&(e=kp.chains.isMockChain(this.proofVerifiers[0].getChain())?kp.i18n.getText("success","mocknet"):kp.i18n.getText("success","blockchain"),WG(e)),this.proofVerifiers.length>1&&(e=kp.i18n.getText("success","multisign")),this._setFinalStep({status:pp.SUCCESS,message:e})}},{key:"_setFinalStep",value:function(e){var t=e.status,r=e.message;return{code:zu.final,status:t,message:r}}},{key:"_updateStatusCallback",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(null!=e){var i=this.findStepFromVerificationProcess(e,r),a={code:e,status:t,parentStep:i.parentStep,label:i.labelPending};n&&(a.errorMessage=n),this._stepCallback(a)}}}]),e}();function XG(e,t){return YG.apply(this,arguments)}function YG(){return YG=o(n().mark((function e(t,r){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=S(t.matchAll(/hl:{1}[a-zA-Z0-9]+:{1}[a-zA-Z0-9]+/gm)).map((function(e){return e[0]})).filter((function(e){return!!e}))).length){e.next=6;break}return e.next=4,function(){var e=o(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.decode(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent.reduce((function(e,t){return e.push(t.meta.url[0]),e}),[]));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()(i,r);case 4:a=e.sent,t=function(e,t,r){return t.forEach((function(t,n){e=e.replace(r[n],t)})),e}(t,a,i);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)}))),YG.apply(this,arguments)}var $G=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,e),l(this,"certificateImage",void 0),l(this,"certificateJson",void 0),l(this,"description",void 0),l(this,"display",void 0),l(this,"expires",void 0),l(this,"explorerAPIs",[]),l(this,"id",void 0),l(this,"isFormatValid",void 0),l(this,"issuedOn",void 0),l(this,"issuer",void 0),l(this,"locale",void 0),l(this,"metadataJson",void 0),l(this,"name",void 0),l(this,"options",void 0),l(this,"recipientFullName",void 0),l(this,"recordLink",void 0),l(this,"revocationKey",void 0),l(this,"sealImage",void 0),l(this,"signature",void 0),l(this,"signatureImage",void 0),l(this,"signers",[]),l(this,"subtitle",void 0),l(this,"hashlinkVerifier",void 0),l(this,"verificationSteps",void 0),l(this,"verifier",void 0),this._setOptions(r),"object"!=i(t))try{t=JSON.parse(t)}catch(t){throw new Error(kp.i18n.getText("errors","certificateNotValid"))}this.certificateJson=xb(t),this.hashlinkVerifier=new xu}var t,r,a,u,f;return c(e,[{key:"init",value:(f=o(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.parseJson(this.certificateJson);case 2:this.verifier=new JG({certificateJson:this.certificateJson,expires:this.expires,id:this.id,issuer:this.issuer,hashlinkVerifier:this.hashlinkVerifier,revocationKey:this.revocationKey,explorerAPIs:xb(this.explorerAPIs)}),this.verificationSteps=this.verifier.getVerificationSteps();case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"verify",value:(u=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.verifier.verify(t);case 2:return r=e.sent,e.abrupt("return",(this.setSigners(),r));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"parseJson",value:(a=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Bp(t["@context"]),e.next=4,Cp[r.versionNumber](t);case 4:return i=e.sent,e.abrupt("return",(i.isFormatValid=!0,i));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{isFormatValid:!1,error:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()(t);case 2:if((r=e.sent).isFormatValid){e.next=5;break}throw new Error(r.error);case 5:return e.next=7,this._setProperties(r);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"setSigners",value:function(){this.signers=this.verifier.getSignersData()}},{key:"_setOptions",value:function(e){this.options=Object.assign({},Fu,e),this.locale=kp.i18n.ensureIsSupported("auto"===this.options.locale?kp.i18n.detectLocale():this.options.locale),this.explorerAPIs=this.options.explorerAPIs||[],e.didResolverUrl&&(kp.did.didResolver.url=e.didResolverUrl),Du.locale=this.locale}},{key:"_setProperties",value:(r=o(n().mark((function e(t){var r,i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.certificateImage,i=t.description,a=t.display,o=t.expires,s=t.id,u=t.isFormatValid,c=t.issuedOn,l=t.issuer,f=t.metadataJson,h=t.name,A=t.recipientFullName,d=t.recordLink,p=t.revocationKey,v=t.sealImage,g=t.signature,y=t.signatureImage,m=t.subtitle,this.isFormatValid=u,this.certificateImage=r,this.description=i,this.expires=o,this.id=s,this.issuedOn=c,this.issuer=l,this.metadataJson=f,this.name=h,this.recipientFullName=A,this.recordLink=d,this.revocationKey=p,this.sealImage=v,this.signature=g,this.signatureImage=y,this.subtitle=m,e.next=19,this.parseHashlinksInDisplay(a);case 19:this.display=e.sent;case 20:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"parseHashlinksInDisplay",value:(t=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=xb(t))){e.next=8;break}if(e.t0="text/html"!==r.contentMediaType,e.t0){e.next=7;break}return e.next=6,XG(r.content,this.hashlinkVerifier);case 6:r.content=e.sent;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function ZG(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}function eW(e){return/^(\.\/|\.\.\/|[A-Z]:\/\/|\/)[^ "]+$/.test(e)}function tW(){return{certificateDefinition:null,errorMessage:"errors.invalidBlockcertsUrl"}}function rW(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=n.onabort=r,n.readAsText(e)}))}function nW(){return(nW=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rW(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iW,aW,oW,sW,uW,cW=["documentLoader"];
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function lW(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}function fW(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(sW||(sW={})),function(e){e.V1_1="1.1",e.V1_2="1.2"}(uW||(uW={}));var hW=uW,AW={formatValidation:{label:"Format validation",labelPending:"Validating format",subSteps:[]},hashComparison:{label:"Hash comparison",labelPending:"Comparing hash",subSteps:[]},statusCheck:{label:"Status check",labelPending:"Checking record status",subSteps:[]}};Object.freeze({__proto__:null,final:"final",formatValidation:"formatValidation",hashComparison:"hashComparison",statusCheck:"statusCheck",language:AW});var dW={"en-US":{steps:{formatValidationLabel:"Format validation",formatValidationLabelPending:"Validating format",hashComparisonLabel:"Hash comparison",hashComparisonLabelPending:"Comparing hash",statusCheckLabel:"Status check",statusCheckLabelPending:"Checking record status"},subSteps:{getTransactionIdLabel:"Get transaction ID",getTransactionIdLabelPending:"Getting transaction ID",computeLocalHashLabel:"Compute local hash",computeLocalHashLabelPending:"Computing local hash",fetchRemoteHashLabel:"Fetch remote hash",fetchRemoteHashLabelPending:"Fetching remote hash",getIssuerProfileLabel:"Get issuer profile",getIssuerProfileLabelPending:"Getting issuer profile",parseIssuerKeysLabel:"Parse issuer keys",parseIssuerKeysLabelPending:"Parsing issuer keys",compareHashesLabel:"Compare hashes",compareHashesLabelPending:"Comparing hashes",checkMerkleRootLabel:"Check Merkle Root",checkMerkleRootLabelPending:"Checking Merkle Root",checkReceiptLabel:"Check Receipt",checkReceiptLabelPending:"Checking Receipt",checkIssuerSignatureLabel:"Check Issuer Signature",checkIssuerSignatureLabelPending:"Checking Issuer Signature",checkAuthenticityLabel:"Check Authenticity",checkAuthenticityLabelPending:"Checking Authenticity",checkRevokedStatusLabel:"Check Revoked Status",checkRevokedStatusLabelPending:"Checking Revoked Status",checkExpiresDateLabel:"Check Expiration Date",checkExpiresDateLabelPending:"Checking Expiration Date"},revocation:{preReason:"Reason given:",reason:"This certificate has been revoked by the issuer."},success:{mocknet:{label:"This Mocknet credential passed all checks",description:"Mocknet credentials are used for test purposes only. They are not recorded on a blockchain, and they should not be considered verified Blockcerts."},blockchain:{label:"Verified",description:"This is a valid ${chain} certificate.",linkText:"View transaction link"}},errors:{certificateNotValid:"This is not a valid certificate",checkEtherScanConfirmations:"Number of transaction confirmations were less than the minimum required, according to EtherScan API",couldNotConfirmTx:"Could not confirm the transaction",ensureHashesEqual:"Computed hash does not match remote hash",ensureIssuerSignature:"Issuer key does not match derived address.",ensureMerkleRootEqual:"Merkle root does not match remote hash.",ensureNotExpired:"This certificate has expired.",ensureValidReceipt:"The receipt is malformed. There was a problem navigating the merkle tree in the receipt.",failedJsonLdNormalization:"Failed JSON-LD normalization",foundUnmappedFields:"Found unmapped fields during JSON-LD normalization",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Didn't recognize chain value",getIssuerProfile:"Unable to get issuer profile",getRevokedAssertions:"Unable to get revocation assertions",getTransactionId:"Cannot verify this certificate without a transaction ID to compare against.",invalidMerkleReceipt:"Invalid Merkle Receipt. Proof hash did not match Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Cannot verify this certificate without a transaction ID to compare against.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"Could not confirm the transaction. No blockchain apis returned a response. This could be because of rate limiting.",lookForTxDifferentAddresses:"Issuing addresses returned by the blockchain APIs were different",lookForTxDifferentRemoteHashes:"Remote hashes returned by the blockchain APIs were different",lookForTxInvalidAppConfig:"Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value",lookForTxInvalidChain:"Invalid chain; does not map to known BlockchainExplorers.",parseBlockCypherResponse:"Number of transaction confirmations were less than the minimum required, according to Blockcypher API",parseBlockstreamResponse:"Number of transaction confirmations were less than the minimum required, according to Blockstream API",parseIssuerKeys:"Unable to parse JSON out of issuer identification data.",unableToGetRemoteHash:"Unable to get remote hash"}},fr:{steps:{formatValidationLabel:"Validation du format",formatValidationLabelPending:"Validation du format",hashComparisonLabel:"Comparaison du hash",hashComparisonLabelPending:"Comparaison du hash",statusCheckLabel:"Vrification du status",statusCheckLabelPending:"Vrification du status"},subSteps:{getTransactionIdLabel:"Obtention de l'identifiant de transaction",getTransactionIdLabelPending:"Obtention de l'identifiant de transaction",computeLocalHashLabel:"Calcul du hash local",computeLocalHashLabelPending:"Calcul du hash local",fetchRemoteHashLabel:"Rcupration du hash distant",fetchRemoteHashLabelPending:"Rcupration du hash distant",getIssuerProfileLabel:"Obtention du profil de l'metteur",getIssuerProfileLabelPending:"Obtention du profil de l'metteur",parseIssuerKeysLabel:"Traitement des cls de l'metteur",parseIssuerKeysLabelPending:"Traitement des cls de l'metteur",compareHashesLabel:"Comparaison des hash",compareHashesLabelPending:"Comparaison des hashs",checkMerkleRootLabel:"Vrification du Merkle Root",checkMerkleRootLabelPending:"Vrification du  Merkle Root",checkReceiptLabel:"Vrification du reu",checkReceiptLabelPending:"Vrification du reu",checkIssuerSignatureLabel:"Vrification de la signature de l'metteur",checkIssuerSignatureLabelPending:"Vrification de la signature de l'metteur",checkAuthenticityLabel:"Vrification de l'authenticit",checkAuthenticityLabelPending:"Vrification de l'authenticit",checkRevokedStatusLabel:"Vrification du status de rvocation",checkRevokedStatusLabelPending:"Vrification du status de rvocation",checkExpiresDateLabel:"Vrification de la date d'expiration",checkExpiresDateLabelPending:"Vrification de la date d'expiration"},revocation:{preReason:"Raison :",reason:"Ce certificat a t rvoqu par l'metteur."},success:{mocknet:{label:"Cet enregistrement Mocknet a t vrifi",description:"Le mode Mocknet est utilis  des fins de tests uniquement. Ce Blockcert n'a pas t enregistr sur une blockchain, et en tant que tel ne peut pas tre considr un Blockcert valide."},blockchain:{label:"Vrifi",description:"Ceci est un certificat ${chain} valide.",linkText:"Voir la transaction"}},errors:{certificateNotValid:"Certificat invalide",checkEtherScanConfirmations:"Le nombre de confirmations de transaction n'atteint pas le minimum requis, d'aprs l'API EtherScan",couldNotConfirmTx:"Impossible de confirmer la transaction",ensureHashesEqual:"Calcul du hash local diffrent du hash distant",ensureIssuerSignature:"La cl de l'metteur ne correspond pas  l'adresse drive",ensureMerkleRootEqual:"Le Merkle root ne correspond pas au hash distant",ensureNotExpired:"Certificat expir",ensureValidReceipt:"Erreur d'criture du reu. Un problme est survenu lors de la navigation de l'arbre Merkle du reu.",failedJsonLdNormalization:"Erreur de normalisation JSON-LD",foundUnmappedFields:"Champs non lis dcouverts durant la normalisation JSON-LD",invalidIssuingAddressCreationTime:"L'adresse d'mission utilise a t cre aprs la transaction d'enregistrement.",invalidIssuingAddressRevoked:"L'adresse d'mission utilise a t dcommissionne par l'metteur avant la transaction d'enregistrement.",invalidIssuingAddressExpired:"L'adresse d'mission utilise a expir avant la transaction.",invalidIssuingAddressUnknown:"L'adresse utilise pour mettre ce Blockcerts n'appartient  l'metteur dclar.",getChain:"Valeur de chaine non reconnue",getIssuerProfile:"Profil de l'metteur indisponible",getRevokedAssertions:"Impossible d'obtenir les raisons de revocation",getTransactionId:"Impossible de vrifier ce certificat sans un identifiant de transaction valide",invalidMerkleReceipt:"Reu Merkle invalide. Hash de preuve diffrent du Merkle root",invalidMerkleVersion:"La version du Merkle utilis est incompatible avec la version Blockcerts.",isTransactionIdValid:"Impossible de vrifier ce certificat sans un identifiant de transaction valide",issuerProfileNotSet:"l'URL de l'metteur n'est pas dfinie",issuerProfileInvalid:"le document distant ne semble pas tre un profil d'metteur valide",lookForTxCouldNotConfirm:"Impossible de confirmer la transaction. Aucune API blockchain n'a rpondu. Potentiellement d  une limite de dbit rseau.",lookForTxDifferentAddresses:"Les adresses d'mission reues de l'API blockchain ne concordent pas",lookForTxDifferentRemoteHashes:"Les hashs distants reus de l'API blockchain ne concordent pas",lookForTxInvalidAppConfig:"Configuration de l'application invalide : vrifiez la valeur de configuration de CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Chaine invalide : non lie  un BlockchainExplorers connu",parseBlockCypherResponse:"Le nombre de confirmations de transaction n'atteint pas le minimum requis, d'aprs l'API Blockcypher",parseBlockstreamResponse:"Le nombre de confirmations de transaction n'atteint pas le minimum requis, d'aprs l'API Blockstream",parseIssuerKeys:"Impossible de lire le JSON d'identification de l'metteur",unableToGetRemoteHash:"Impossible d'obtenir le hash distant"}},es:{steps:{formatValidationLabel:"Validacin de formato",formatValidationLabelPending:"Validando el formato",hashComparisonLabel:"Comparacin de cadena binaria",hashComparisonLabelPending:"Comparando cadena binaria",statusCheckLabel:"Estado de Verificacin",statusCheckLabelPending:"Verificando Estado de Grabacin"},subSteps:{getTransactionIdLabel:"Obtener Identificacin de Transaccin",getTransactionIdLabelPending:"Obteniendo Identificacin de Transaccin",computeLocalHashLabel:"Calcular cadena binaria local",computeLocalHashLabelPending:"Calculando cadena binaria local",fetchRemoteHashLabel:"Obtener cadena binaria remota",fetchRemoteHashLabelPending:"Obeniendo cadena binaria remota",getIssuerProfileLabel:"Obtener perfil de emisor",getIssuerProfileLabelPending:"Obteniendo perfil de emisor",parseIssuerKeysLabel:"Analizar claves del emisor",parseIssuerKeysLabelPending:"Analizando claves del emisor",compareHashesLabel:"Comparar cadenas binarias",compareHashesLabelPending:"Comparando cadenas binarias",checkMerkleRootLabel:"Verificar Merkle Root",checkMerkleRootLabelPending:"Verificando Merkle Root",checkReceiptLabel:"Verificar Recibo",checkReceiptLabelPending:"Verificando Recibo",checkIssuerSignatureLabel:"Verificar Firma del Emisor",checkIssuerSignatureLabelPending:"Verificando Firma del Emisor",checkAuthenticityLabel:"Verificar Autenticidad",checkAuthenticityLabelPending:"Verificando Autenticidad",checkRevokedStatusLabel:"Verificar Estado de Revocacin",checkRevokedStatusLabelPending:"Verificando Estado de Revocacin",checkExpiresDateLabel:"Verificar Fechas de Expiracin",checkExpiresDateLabelPending:"Verificando Fechas de Expiracin"},revocation:{preReason:"Razn dada:",reason:"Este certificado ha sido revocado por el emisor"},success:{mocknet:{label:"Esta credencial de Mocknet pas todas las comprobaciones",description:"Las credenciales de Mocknet se usan solo con fines de prueba. No se graban en una cadena de bloques, y no se deben considerar Blockcerts Verificados."},blockchain:{label:"Verificado",description:"Este es un certificado vlido de ${chain}.",linkText:"Ver enlace de transaccin"}},errors:{certificateNotValid:"Este no es un certificado vlido",checkEtherScanConfirmations:"El nmero de transacciones confirmadas son menores que el mnimo requerido, de acuerdo al API EtherScan",couldNotConfirmTx:"No se ha podido confirmar la transaccin",ensureHashesEqual:"La cadena binaria calculada no corresponde con la cadena binaria remota",ensureIssuerSignature:"La llave del emisor no corresponde con la direccin obtenida",ensureMerkleRootEqual:"La raz Merkle no corresponde con la cadena binaria remota",ensureNotExpired:"Este certificado ha expirado",ensureValidReceipt:"El recibo est malformado. Hubo un problema navegando el rbol Merkle en el recibo",failedJsonLdNormalization:"La normalizacin del JSON-LD ha fallado",foundUnmappedFields:"Se han encontrado campos no mapeados durante la normalizacin de JSON-LD",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Valor de cadena no reconocido",getIssuerProfile:"No se ha podido obtener el perfil del emisor",getRevokedAssertions:"No se ha podido obtener aseveraciones de revocacin",getTransactionId:"No se puede verificar este certificado sin una identificacin de transaccin que sirva como comparacin",invalidMerkleReceipt:"Recibo Merkle invlido. La cadena binaria de prueba no corresponde con la raz Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"No se puede verificar este certificado sin una identificacin de transaccin que sirva como comparacin",issuerProfileNotSet:"URL del emisor no definido",issuerProfileInvalid:"el documento recogido no parece ser un perfil de emisor valido",lookForTxCouldNotConfirm:"No se ha podido confirmar la transaccin. Ninguna del las APIs de blockchain gener una respuesta. Esto puede ser causado por limitaciones de tasa.",lookForTxDifferentAddresses:"Las direcciones emisoras generadas por las APIs del blockchain son distintas",lookForTxDifferentRemoteHashes:"Las cadenas binarias remotas generadas por las APIs del blockchain son distintas",lookForTxInvalidAppConfig:"Configuracin de aplicacin invlida; cheque el valor de configuracin CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Cadena invlida; no corresponde a BlockchainExplorers reconocidos",parseBlockCypherResponse:"El nmero de transacciones confirmadas son menores que el mnimo requerido, de acuerdo al API Blockcypher",parseBlockstreamResponse:"El nmero de transacciones confirmadas son menores que el mnimo requerido, de acuerdo al API Blockstream",parseIssuerKeys:"No se ha podido analizar el JSON de la informacin de identificacin del emisor",unableToGetRemoteHash:"No se ha podido obtener la cadena binaria remota"}},mt:{steps:{formatValidationLabel:"Validazzjoni tal-format",formatValidationLabelPending:"Il-format qed jii vvalidat",hashComparisonLabel:"Paragun tal-Hash",hashComparisonLabelPending:"Il-hash qed jii pparagunat",statusCheckLabel:"Status check",statusCheckLabelPending:"Ir-record status qed jii ekkjat"},subSteps:{getTransactionIdLabel:"Ikseb l-ID ta' tranazzjoni",getTransactionIdLabelPending:"L-ID ta' tranazzjoni qed tii mnila",computeLocalHashLabel:"Ikkalkula l-hash lokali",computeLocalHashLabelPending:"Il-hash lokali qed jii kkalkulat",fetchRemoteHashLabel:"Fittex ir-remote hash",fetchRemoteHashLabelPending:"Ir-remote hash qed jii mfittex",getIssuerProfileLabel:"Ikseb il-profil tal-emittent",getIssuerProfileLabelPending:"Il-profil tal-emittent qed jii mniel",parseIssuerKeysLabel:"Estratta -wievet tal-emittent",parseIssuerKeysLabelPending:"I-wievet tal-emittent qed jiu estratti",compareHashesLabel:"Ikkumpara l-hashes",compareHashesLabelPending:"Il-hashes qed jiu kkomparati",checkMerkleRootLabel:"Iekkja l-Merkle Root",checkMerkleRootLabelPending:"Il-Merkle Root Qed Tii ekkjata",checkReceiptLabel:"Iekkja l-Irevuta",checkReceiptLabelPending:"L-Irevuta Qed Tii ekkjata",checkIssuerSignatureLabel:"Iekkja l-Firma tal-Emittent",checkIssuerSignatureLabelPending:"Il-Firma tal-Emittent Qed Tii ekkjata",checkAuthenticityLabel:"Iekkja l-Awtentiit",checkAuthenticityLabelPending:"L-Awtentiit Qed Tii ekkjata",checkRevokedStatusLabel:"Iekkja l-Istatus Revokat",checkRevokedStatusLabelPending:"L-Istatus Revokat Qed Jii ekkjat",checkExpiresDateLabel:"Iekkja d-Data ta' Skadenza",checkExpiresDateLabelPending:"Id-Data ta' Skadenza Qed Tii ekkjata"},revocation:{preReason:"Rauni mogtija:",reason:"Dan i-ertifikat ie revokat mill-emittent."},success:{mocknet:{label:"Din il-kredenzjali tal-Mocknet gaddiet il-kontrolli kollha",description:"Il-kredenzjali tal-Mocknet jintuaw biss gal skopijiet ta 'ttestjar. Dawn mhumiex irreistrati fuq blockchain, u ma gandhomx jiu kkunsidrati bala blockcerts verifikati."},blockchain:{label:"Ivverifikat",description:"Dan huwa ertifikat ${chain} huwa validu.",linkText:"Ara l-link tat-transazzjoni"}},errors:{certificateNotValid:"Dan mhux ertifikat validu",checkEtherScanConfirmations:"In-numru ta' konfermi tat-tranazzjonijiet kienu inqas mill-minimu metie, skont EtherScan API",couldNotConfirmTx:"Ma setgetx tii kkonfermata t-tranazzjoni",ensureHashesEqual:"Il-hash ikkalkulat ma jikkorrispondix mar-remote hash",ensureIssuerSignature:"I-avetta tal-emittent ma taqbilx mal-indirizz derivat",ensureMerkleRootEqual:"Merkle root ma taqbilx mar-remote hash",ensureNotExpired:"Dan i-ertifikat skada",ensureValidReceipt:"L-irevuta hija malformata. Kien hemm problema fin-navigazzjoni tal-merkle tree fl-irevuta",failedJsonLdNormalization:"In-normalizzazzjoni ta' JSON-LD ma rnexxietx",foundUnmappedFields:"Instabu unmapped fields matul in-normalizzazzjoni JSON-LD",invalidIssuingAddressCreationTime:"L-indirizz elettroniku tal-ru speifikat inoloq wara li seet it-tranazzjoni.",invalidIssuingAddressRevoked:"L-indirizz elettroniku tal-ru speifikat ie revokat mill-emittent qabel ma seet it-tranazzjoni.",invalidIssuingAddressExpired:"L-indirizz elettroniku tal-ru speifikat skada qabel ma seet it-tranazzjoni.",invalidIssuingAddressUnknown:"L-indirizz elettroniku uat biex jinaru dawn il-Blockcerts ma jappartjenix gall-emittent mitlub.",getChain:"I-chain value ma ntgarafx",getIssuerProfile:"Mhux possibbli jinkiseb il-profil tal-emittent",getRevokedAssertions:"Mhux possibbli jinkisbu dikjarazzjonijiet revokati",getTransactionId:"Dan i-ertifikat ma jistax jii vverifikat mingajr ID ta' tranazzjoni mqabbla miegu",invalidMerkleReceipt:"Irevuta Merkle invalida. Il-proof hash ma kienx jaqbel mal-Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Dan i-ertifikat ma jistax jii vverifikat mingajr ID ta' tranazzjoni mqabbla miegu",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"It-tranazzjoni ma setgetx tii kkonferma. L-ebda blockchain apis ma rritorna rispons. Dan jista' jkun minabba limitazzjoni tar-rata",lookForTxDifferentAddresses:"L-indirizzi tal-ru mibguta lura mill-blockchain APIs kienu differenti",lookForTxDifferentRemoteHashes:"Ir-remote hashes mibguta lura mill-blockchain APIs kienu differenti",lookForTxInvalidAppConfig:"Konfigurazzjoni tal-applikazzjoni invalida; Iekkja l-valur konfigurattiv f' CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Chain invalidu; BlockchainExplorers mhux qed isib chain magrufa",parseBlockCypherResponse:"In-numru ta' konfermi tat-tranazzjonijiet kienu inqas mill-minimu metie, skont Blockcypher API",parseBlockstreamResponse:"In-numru ta' konfermi tat-tranazzjonijiet kienu inqas mill-minimu metie, skont Blockstream API",parseIssuerKeys:"Ma jistax jii estratt JSON mid-data tal-identifikazzjoni tal-emittent",unableToGetRemoteHash:"Mhux possibbli jinkiseb ir-remote hash"}},"it-IT":{steps:{formatValidationLabel:"Convalidare formato",formatValidationLabelPending:"Convalida formato",hashComparisonLabel:"Confrontare hash",hashComparisonLabelPending:"Confronta hash",statusCheckLabel:"Verificare stato",statusCheckLabelPending:"Verifica stato del record"},subSteps:{getTransactionIdLabel:"Ottenere ID transazione",getTransactionIdLabelPending:"Ottieni ID transazione",computeLocalHashLabel:"Calcolare hash locale",computeLocalHashLabelPending:"Calcola hash locale",fetchRemoteHashLabel:"Recuperare hash remoto",fetchRemoteHashLabelPending:"Recupera hash remoto",getIssuerProfileLabel:"Ottenere profilo issuer",getIssuerProfileLabelPending:"Ottieni profilo issuer",parseIssuerKeysLabel:"Analizzare chiavi issuer",parseIssuerKeysLabelPending:"Analizza chiavi issuer",compareHashesLabel:"Confrontare gli hash",compareHashesLabelPending:"Confronto hash",checkMerkleRootLabel:"Controllare radice di Merkle",checkMerkleRootLabelPending:"Controllo radice di Merkle",checkReceiptLabel:"Verificare ricevuta",checkReceiptLabelPending:"Verifica ricevuta",checkIssuerSignatureLabel:"Verificare firma Issuer",checkIssuerSignatureLabelPending:"Verifica firma Issuer",checkAuthenticityLabel:"Verificare autenticit",checkAuthenticityLabelPending:"Verifica autenticit",checkRevokedStatusLabel:"Verificare stato revocato",checkRevokedStatusLabelPending:"Verifica stato revocato",checkExpiresDateLabel:"Verificare data di scadenza",checkExpiresDateLabelPending:"Verifica data di scadenza"},revocation:{preReason:"Motivo indicato:",reason:"Questo certificato  stato revocato dall'emittente."},success:{mocknet:{label:"Questo Blockcert simulato ha superato tutti i controlli.",description:"La modalit Mocknet  utilizzata solo dagli emittenti per testare il loro flusso di lavoro localmente. Questo Blockcert non  stato registrato su una blockchain e non dovrebbe essere considerato un Blockcert verificato."},blockchain:{label:"Verificato",description:"Questo  un certificato ${chain} valido.",linkText:"Vedi la transazione"}},errors:{certificateNotValid:"Questo non  un certificato valido",checkEtherScanConfirmations:"Il numero di conferme delle transazioni era inferiore al minimo richiesto, secondo l'API EtherScan",couldNotConfirmTx:"Impossibile confermare la transazione",ensureHashesEqual:"L'hash calcolato non corrisponde all'hash remoto",ensureIssuerSignature:"La chiave dell'issuer non corrisponde all'indirizzo derivato.",ensureMerkleRootEqual:"La radice di Merkle non corrisponde all'hash remoto.",ensureNotExpired:"Questo certificato  scaduto.",ensureValidReceipt:"La ricevuta  malformata. C' stato un problema nella navigazione dell'albero di Merkle nella ricevuta.",failedJsonLdNormalization:"Normalizzazione JSON-LD fallita",foundUnmappedFields:"Campi non mappati trovati durante la normalizzazione JSON-LD",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Il valore della catena non  stato riconosciuto",getIssuerProfile:"Impossibile ottenere il profilo dell'emittente",getRevokedAssertions:"Impossibile ottenere le asserzioni di revoca",getTransactionId:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",invalidMerkleReceipt:"Ricevuta Merkle non valida. L'hash di prova non corrisponde alla radice di Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"Impossibile confermare la transazione. Nessuna API blockchain ha risposto. Potrebbe essere a causa della limitazione della velocit.",lookForTxDifferentAddresses:"Gli indirizzi di emissione restituiti dalle API blockchain erano diversi",lookForTxDifferentRemoteHashes:"Gli hash remoti restituiti dalle API blockchain erano diversi",lookForTxInvalidAppConfig:"Configurazione dell'applicazione non valida, verificare il valore di configurazione di CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Catena non valida; non mappa BlockchainExplorers noti.",parseBlockCypherResponse:"Il numero di conferme delle transazioni era inferiore al minimo richiesto, secondo l'API Blockcypher",parseBlockstreamResponse:"Il numero di conferme delle transazioni era inferiore al minimo richiesto, secondo l'API Blockstream",parseIssuerKeys:"Impossibile analizzare JSON dai dati di identificazione dell'emittente.",unableToGetRemoteHash:"Impossibile ottenere l'hash remoto"}},ja:{steps:{formatValidationLabel:"",formatValidationLabelPending:"",hashComparisonLabel:"",hashComparisonLabelPending:"",statusCheckLabel:"",statusCheckLabelPending:""},subSteps:{getTransactionIdLabel:"ID",getTransactionIdLabelPending:"ID",computeLocalHashLabel:"",computeLocalHashLabelPending:"",fetchRemoteHashLabel:"",fetchRemoteHashLabelPending:"",getIssuerProfileLabel:"",getIssuerProfileLabelPending:"",parseIssuerKeysLabel:"",parseIssuerKeysLabelPending:"",compareHashesLabel:"",compareHashesLabelPending:"",checkMerkleRootLabel:"Merkle Root",checkMerkleRootLabelPending:"Merkle Root",checkReceiptLabel:"",checkReceiptLabelPending:"",checkIssuerSignatureLabel:"",checkIssuerSignatureLabelPending:"",checkAuthenticityLabel:"",checkAuthenticityLabelPending:"",checkRevokedStatusLabel:"",checkRevokedStatusLabelPending:"",checkExpiresDateLabel:"",checkExpiresDateLabelPending:""},revocation:{preReason:"",reason:""},success:{mocknet:{label:"Mocknet",description:"MocknetBlockcert"},blockchain:{label:"",description:"${chain}",linkText:""}},errors:{certificateNotValid:"",checkEtherScanConfirmations:"EtherScan API",couldNotConfirmTx:"",ensureHashesEqual:"",ensureIssuerSignature:"",ensureMerkleRootEqual:"Merkle root",ensureNotExpired:"",ensureValidReceipt:"Merkle tree",failedJsonLdNormalization:"JSON-LD",foundUnmappedFields:"JSON-LD",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"",getIssuerProfile:"",getRevokedAssertions:"assertions",getTransactionId:"ID",invalidMerkleReceipt:"MerkleMerkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"ID",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"API ",lookForTxDifferentAddresses:"API",lookForTxDifferentRemoteHashes:"API",lookForTxInvalidAppConfig:"CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"BlockchainExplorers",parseBlockCypherResponse:"Blockcypher API",parseBlockstreamResponse:"Blockstream API",parseIssuerKeys:"JSON",unableToGetRemoteHash:""}}};function pW(e,t){return dW["en-US"].subSteps["".concat(e).concat(t)]}var vW,gW={formatValidation:["getTransactionId","computeLocalHash","fetchRemoteHash","getIssuerProfile","parseIssuerKeys"],hashComparison:["compareHashes","checkMerkleRoot","checkReceipt"],statusCheck:["checkIssuerSignature","checkAuthenticity","checkRevokedStatus","checkExpiresDate"]},yW=Object.keys(gW).reduce((function(e,t){return Object.assign(e,gW[r=t].reduce((function(e,t){return e[t]={code:t,label:pW(t,"Label"),labelPending:pW(t,"LabelPending"),parentStep:r},e}),{}));var r}),{});Object.freeze({__proto__:null,getTransactionId:"getTransactionId",computeLocalHash:"computeLocalHash",fetchRemoteHash:"fetchRemoteHash",getIssuerProfile:"getIssuerProfile",parseIssuerKeys:"parseIssuerKeys",compareHashes:"compareHashes",checkMerkleRoot:"checkMerkleRoot",checkReceipt:"checkReceipt",checkIssuerSignature:"checkIssuerSignature",checkAuthenticity:"checkAuthenticity",checkRevokedStatus:"checkRevokedStatus",checkExpiresDate:"checkExpiresDate",language:yW}),Object.freeze({__proto__:null,FAILURE:"failure",STARTING:"starting",SUCCESS:"success"}),function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(vW||(vW={}));var mW=(l(iW={},vW.Bitcoin,{code:vW.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}}),l(iW,vW.Ethmain,{code:vW.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}}),l(iW,vW.Ethropst,{code:vW.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}}),l(iW,vW.Ethrinkeby,{code:vW.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}}),l(iW,vW.Mocknet,{code:vW.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}}),l(iW,vW.Regtest,{code:vW.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}}),l(iW,vW.Testnet,{code:vW.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}),iW),bW="mainnet",wW="testnet",xW={"@context":[{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",extensions:"https://w3id.org/openbadges/extensions#",validation:"obi:validation",xsd:"http://www.w3.org/2001/XMLSchema#",schema:"http://schema.org/",sec:"https://w3id.org/security#",Assertion:"bc:Assertion",Certificate:"bc:Certificate",Issuer:"bc:Issuer",BlockchainCertificate:"bc:BlockchainCertificate",CertificateDocument:"bc:CertificateDocument",issuer:{"@id":"bc:issuer","@type":"@id"},blockchaincertificate:{"@id":"bc:blockchaincertificate","@type":"@id"},certificate:{"@id":"bc:certificate","@type":"@id"},document:{"@id":"bc:document","@type":"@id"},assertion:{"@id":"bc:assertion","@type":"@id"},verify:{"@id":"bc:verify","@type":"@id"},recipient:{"@id":"bc:recipient","@type":"@id"},receipt:{"@id":"bc:receipt","@type":"@id"},publicKey:{"@id":"bc:publicKey"},revocationKey:{"@id":"bc:revocationKey"},"image:signature":{"@id":"bc:image:signature"},signature:{"@id":"bc:signature"},familyName:{"@id":"schema:familyName"},givenName:{"@id":"schema:givenName"},jobTitle:{"@id":"schema:jobTitle"},signer:{"@id":"bc:signer","@type":"@id"},"attribute-signed":{"@id":"bc:attribute-signed"},"ECDSA(secp256k1)":"bc:SignedBadge",subtitle:{"@id":"bc:subtitle"},email:"schema:email",hashed:{"@id":"obi:hashed","@type":"xsd:boolean"},image:{"@id":"schema:image","@type":"@id"},salt:{"@id":"obi:salt"},identity:{"@id":"obi:identityHash"},issuedOn:{"@id":"obi:issueDate","@type":"xsd:dateTime"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},evidence:{"@id":"obi:evidence","@type":"@id"},criteria:{"@id":"obi:criteria","@type":"@id"},tags:{"@id":"schema:keywords"},alignment:{"@id":"obi:alignment","@type":"@id"},revocationList:{"@id":"obi:revocationList","@type":"@id"},name:{"@id":"schema:name"},description:{"@id":"schema:description"},url:{"@id":"schema:url","@type":"@id"},uid:{"@id":"obi:uid"},TypeValidation:"obi:TypeValidation",FrameValidation:"obi:FrameValidation",validatesType:"obi:validatesType",validationSchema:"obi:validationSchema",validationFrame:"obi:validationFrame",ChainpointSHA224v2:"cp:ChainpointSHA224v2",ChainpointSHA256v2:"cp:ChainpointSHA256v2",ChainpointSHA384v2:"cp:ChainpointSHA384v2",ChainpointSHA512v2:"cp:ChainpointSHA512v2","ChainpointSHA3-224v2":"cp:ChainpointSHA3-224v2","ChainpointSHA3-256v2":"cp:ChainpointSHA3-256v2","ChainpointSHA3-384v2":"cp:ChainpointSHA3-384v2","ChainpointSHA3-512v2":"cp:ChainpointSHA3-512v2",BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"}],validation:[{type:"TypeValidation",validatesType:"Assertion",validationSchema:"https://w3id.org/blockcerts/schema/1.2/assertion-1.2.json"},{type:"TypeValidation",validatesType:"Certificate",validationSchema:"https://w3id.org/blockcerts/schema/1.2/certificate-1.2.json"},{type:"TypeValidation",validatesType:"Issuer",validationSchema:"https://w3id.org/blockcerts/schema/1.2/issuer-1.2.json"},{type:"TypeValidation",validatesType:"CertificateDocument",validationSchema:"https://w3id.org/blockcerts/schema/1.2/certificate-document-1.2.json"},{type:"TypeValidation",validatesType:"BlockchainCertificate",validationSchema:"https://w3id.org/blockcerts/schema/1.2/blockchain-certificate-1.2.json"},{type:"TypeValidation",validatesType:"BlockchainReceipt",validationSchema:"https://w3id.org/blockcerts/schema/1.2/blockchain-receipt-1.2.json"}]},kW={"@context":{id:"@id",type:"@type",extensions:"https://w3id.org/openbadges/extensions#",obi:"https://w3id.org/openbadges#",validation:"obi:validation",cred:"https://w3id.org/credentials#",dc:"http://purl.org/dc/terms/",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",AlignmentObject:"schema:AlignmentObject",CryptographicKey:"sec:Key",Endorsement:"cred:Credential",Assertion:"obi:Assertion",BadgeClass:"obi:BadgeClass",Criteria:"obi:Criteria",Evidence:"obi:Evidence",Extension:"obi:Extension",FrameValidation:"obi:FrameValidation",IdentityObject:"obi:IdentityObject",Image:"obi:Image",HostedBadge:"obi:HostedBadge",hosted:"obi:HostedBadge",Issuer:"obi:Issuer",Profile:"obi:Profile",RevocationList:"obi:RevocationList",SignedBadge:"obi:SignedBadge",signed:"obi:SignedBadge",TypeValidation:"obi:TypeValidation",VerificationObject:"obi:VerificationObject",author:{"@id":"schema:author","@type":"@id"},caption:{"@id":"schema:caption"},claim:{"@id":"cred:claim","@type":"@id"},created:{"@id":"dc:created","@type":"xsd:dateTime"},creator:{"@id":"dc:creator","@type":"@id"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},endorsement:{"@id":"cred:credential","@type":"@id"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},genre:{"@id":"schema:genre"},image:{"@id":"schema:image","@type":"@id"},name:{"@id":"schema:name"},owner:{"@id":"sec:owner","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},publicKeyPem:{"@id":"sec:publicKeyPem"},related:{"@id":"dc:relation","@type":"@id"},startsWith:{"@id":"http://purl.org/dqm-vocabulary/v1/dqm#startsWith"},tags:{"@id":"schema:keywords"},targetDescription:{"@id":"schema:targetDescription"},targetFramework:{"@id":"schema:targetFramework"},targetName:{"@id":"schema:targetName"},targetUrl:{"@id":"schema:targetUrl"},telephone:{"@id":"schema:telephone"},url:{"@id":"schema:url","@type":"@id"},version:{"@id":"schema:version"},alignment:{"@id":"obi:alignment","@type":"@id"},allowedOrigins:{"@id":"obi:allowedOrigins"},audience:{"@id":"obi:audience"},badge:{"@id":"obi:badge","@type":"@id"},criteria:{"@id":"obi:criteria","@type":"@id"},endorsementComment:{"@id":"obi:endorsementComment"},evidence:{"@id":"obi:evidence","@type":"@id"},hashed:{"@id":"obi:hashed","@type":"xsd:boolean"},identity:{"@id":"obi:identityHash"},issuedOn:{"@id":"obi:issueDate","@type":"xsd:dateTime"},issuer:{"@id":"obi:issuer","@type":"@id"},narrative:{"@id":"obi:narrative"},recipient:{"@id":"obi:recipient","@type":"@id"},revocationList:{"@id":"obi:revocationList","@type":"@id"},revocationReason:{"@id":"obi:revocationReason"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},revokedAssertions:{"@id":"obi:revoked"},salt:{"@id":"obi:salt"},targetCode:{"@id":"obi:targetCode"},uid:{"@id":"obi:uid"},validatesType:"obi:validatesType",validationFrame:"obi:validationFrame",validationSchema:"obi:validationSchema",verification:{"@id":"obi:verify","@type":"@id"},verificationProperty:{"@id":"obi:verificationProperty"},verify:"verification"}},_W={};_W["https://w3id.org/blockcerts/v1"]=xW,_W["https://w3id.org/openbadges/v2"]=kW,_W["https://openbadgespec.org/v2/context.json"]=kW;var BW={locale:"en-US"},EW=Object.freeze({__proto__:null,isMainnet:function(e){return fW(e,"1")||fW(e,"ecdsa-koblitz-pubkey:1")}}),SW={locale:"en-US"};function CW(e,t){return e&&t?dW[SW.locale]?dW[SW.locale][e]?dW[SW.locale][e][t]?dW[SW.locale][e][t]||"":"[missing locale item data]":"[missing locale group data]":"[missing locale data]":""}var IW=Object.freeze({__proto__:null,detectLocale:function(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||BW.locale},ensureIsSupported:function(e){var t,r=PZ.i18n.getSupportedLanguages().map((function(e){return e.toLowerCase()}));if(!(t=r.indexOf(e.toLowerCase())>-1)){var n=e.substr(0,2).toLowerCase(),i=r.map((function(e){return e.split("-")[0]})).indexOf(n);(t=i>-1)&&(e=r[i])}return t||(e=BW.locale),function(e){var t=e.split("-");return t.length>1?"".concat(t[0].toLowerCase(),"-").concat(t[1].toUpperCase()):t[0].toLowerCase()}(e)},getText:CW,getSupportedLanguages:function(){return Object.keys(dW)}});function PW(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return EW.isMainnet(e)?mW.bitcoin:mW.testnet}function TW(e){var t=Object.keys(mW).map((function(e){return mW[e]})).find((function(t){return t.signatureValue===e}));if(void 0===t)throw new Error(CW("errors","getChain"));return t}var OW=c((function e(t,r,n,i){s(this,e),this.publicKey=t,this.created=r,this.revoked=n,this.expires=i})),LW=c((function e(t,r,n){s(this,e),this.image=t,this.jobTitle=r,this.name=n})),NW=function(e){f(r,e);var t=w(r);function r(e,n){var i;return s(this,r),(i=t.call(this,n)).stepCode=e,i}return c(r)}(v(Error)),MW=Object.freeze({__proto__:null,isMockChain:function(e){if(e){var t="string"==typeof e?e:e.code;return!!Object.keys(mW).some((function(e){return e===t}))&&!!mW[t].test}return!1}}),UW="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function FW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RW(e,t){return e(t={exports:{}},t.exports),t.exports}function DW(e){return e&&e.default||e}var jW=RW((function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,a="[object Arguments]",o="[object Boolean]",s="[object Date]",u="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",h="[object Object]",A="[object Promise]",d="[object RegExp]",p="[object Set]",v="[object String]",g="[object Symbol]",y="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",_="[object Int16Array]",B="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",I="[object Uint32Array]",P=/\w*$/,T=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,L={};L[a]=L["[object Array]"]=L[m]=L[b]=L[o]=L[s]=L[w]=L[x]=L[k]=L[_]=L[B]=L[l]=L[f]=L[h]=L[d]=L[p]=L[v]=L[g]=L[E]=L[S]=L[C]=L[I]=!0,L["[object Error]"]=L[u]=L[y]=!1;var N="object"==i(UW)&&UW&&UW.Object===Object&&UW,M="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,U=N||M||Function("return this")(),F=t&&!t.nodeType&&t,R=F&&e&&!e.nodeType&&e,D=R&&R.exports===F;function j(e,t){return e.set(t[0],t[1]),e}function Q(e,t){return e.add(t),e}function H(e,t,r,n){var i=-1,a=e?e.length:0;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function z(e,t){return function(r){return e(t(r))}}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var G,W=Array.prototype,J=Function.prototype,X=Object.prototype,Y=U["__core-js_shared__"],$=(G=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=J.toString,ee=X.hasOwnProperty,te=X.toString,re=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=D?U.Buffer:void 0,ie=U.Symbol,ae=U.Uint8Array,oe=z(Object.getPrototypeOf,Object),se=Object.create,ue=X.propertyIsEnumerable,ce=W.splice,le=Object.getOwnPropertySymbols,fe=ne?ne.isBuffer:void 0,he=z(Object.keys,Object),Ae=Ue(U,"DataView"),de=Ue(U,"Map"),pe=Ue(U,"Promise"),ve=Ue(U,"Set"),ge=Ue(U,"WeakMap"),ye=Ue(Object,"create"),me=Qe(Ae),be=Qe(de),we=Qe(pe),xe=Qe(ve),ke=Qe(ge),_e=ie?ie.prototype:void 0,Be=_e?_e.valueOf:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){this.__data__=new Se(e)}function Pe(e,t,r){var n=e[t];ee.call(e,t)&&He(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Te(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1}function Oe(e,t,r,n,i,A,y){var T;if(n&&(T=A?n(e,i,A,y):n(e)),void 0!==T)return T;if(!Ge(e))return e;var O=Ke(e);if(O){if(T=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,T)}else{var N=Re(e),M=N==u||N==c;if(ze(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(N==h||N==a||M&&!A){if(K(e))return A?e:{};if(T=function(e){return"function"!=typeof e.constructor||je(e)?{}:Ge(t=oe(e))?se(t):{};var t}(M?{}:e),!t)return function(e,t){return Ne(e,Fe(e),t)}(e,function(e,t){return e&&Ne(t,We(t),e)}(T,e))}else{if(!L[N])return A?e:{};T=function(e,t,r,n){var i,a=e.constructor;switch(t){case m:return Le(e);case o:case s:return new a(+e);case b:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case w:case x:case k:case _:case B:case E:case S:case C:case I:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case l:return function(e,t,r){return H(t?r(V(e),!0):V(e),j,new e.constructor)}(e,n,r);case f:case v:return new a(e);case d:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,r){return H(t?r(q(e),!0):q(e),Q,new e.constructor)}(e,n,r);case g:return i=e,Be?Object(Be.call(i)):{}}}(e,N,Oe,t)}}y||(y=new Ie);var U=y.get(e);if(U)return U;if(y.set(e,T),!O)var F=r?function(e){return function(e,t,r){var n=t(e);return Ke(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,We,Fe)}(e):We(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(F||e,(function(i,a){F&&(i=e[a=i]),Pe(T,a,Oe(i,t,r,n,a,e,y))})),T}function Le(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Ne(e,t,r,n){r||(r={});for(var i=-1,a=t.length;++i<a;){var o=t[i],s=n?n(r[o],e[o],o,r,e):void 0;Pe(r,o,void 0===s?e[o]:s)}return r}function Me(e,t){var r,n,a=e.__data__;return("string"==(n=i(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ge(e)||(t=e,$&&$ in t))&&(qe(e)||K(e)?re:T).test(Qe(e));var t}(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=ye?ye(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(ye){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:ee.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Te(t,e);return!(r<0||(r==t.length-1?t.pop():ce.call(t,r,1),0))},Se.prototype.get=function(e){var t=this.__data__,r=Te(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Te(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Te(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ee,map:new(de||Se),string:new Ee}},Ce.prototype.delete=function(e){return Me(this,e).delete(e)},Ce.prototype.get=function(e){return Me(this,e).get(e)},Ce.prototype.has=function(e){return Me(this,e).has(e)},Ce.prototype.set=function(e,t){return Me(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new Se},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ce(n)}return r.set(e,t),this};var Fe=le?z(le,Object):function(){return[]},Re=function(e){return te.call(e)};function De(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function je(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function Qe(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(Ae&&Re(new Ae(new ArrayBuffer(1)))!=b||de&&Re(new de)!=l||pe&&Re(pe.resolve())!=A||ve&&Re(new ve)!=p||ge&&Re(new ge)!=y)&&(Re=function(e){var t=te.call(e),r=t==h?e.constructor:void 0,n=r?Qe(r):void 0;if(n)switch(n){case me:return b;case be:return l;case we:return A;case xe:return p;case ke:return y}return t});var Ke=Array.isArray;function Ve(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!qe(e)}var ze=fe||function(){return!1};function qe(e){var t=Ge(e)?te.call(e):"";return t==u||t==c}function Ge(e){var t=i(e);return!!e&&("object"==t||"function"==t)}function We(e){return Ve(e)?function(e,t){var r=Ke(e)||function(e){return function(e){return function(e){return!!e&&"object"==i(e)}(e)&&Ve(e)}(e)&&ee.call(e,"callee")&&(!ue.call(e,"callee")||te.call(e)==a)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||De(s,n))||r.push(s);return r}(e):function(e){if(!je(e))return he(e);var t=[];for(var r in Object(e))ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Oe(e,!0,!0)}}));function QW(e){return jW(e)}var HW=(l(aW={},bW,["getTransactionId","computeLocalHash","fetchRemoteHash","getIssuerProfile","parseIssuerKeys","compareHashes","checkMerkleRoot","checkReceipt","checkRevokedStatus","checkAuthenticity","checkExpiresDate"]),l(aW,wW,["computeLocalHash","compareHashes","checkReceipt","checkExpiresDate"]),aW);var KW=Object.freeze({__proto__:null,getChain:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t||{};if(r.anchors){var n=r.anchors[0];if(n.chain)return TW(n.chain);if("string"==typeof n)return function(e){var t={btc:{chainName:mW.bitcoin.name},eth:{chainName:mW.ethmain.name}},r=e.split(":"),n=r.findIndex((function(e){return Object.keys(t).includes(e)}));if(n>-1){var i=r[n],a=r[n+1];return TW(t[i].chainName.toLowerCase()+function(e){var t=e.substr(0,1),r=e.substr(1,e.length-1);return t.toUpperCase()+r.toLowerCase()}(a))}return PW()}(n)}return PW(e)},generateRevocationReason:function(e){return e=(e=e.trim()).length>0?" ".concat(CW("revocation","preReason")," ").concat(e).concat("."!==e.slice(-1)?".":""):"","".concat(CW("revocation","reason")).concat(e)},getTransactionId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=e.anchors,r=t[0];if(r.sourceId)return r.sourceId;if("string"==typeof r)return r.split(":").pop()}catch(e){throw new NW("",CW("errors","getTransactionId"))}},getTransactionLink:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&t?t.transactionTemplates[r?"raw":"full"].replace("{transaction_id}",e):""},getVerificationMap:function(e){if(!e)return[];var t=MW.isMockChain(e)?wW:bW;return function(e){var t,n=function(e){var t=QW(AW);return e.forEach((function(e){return t[e.parentStep].subSteps.push(e)})),t}(e.map((function(e){return r(r({},Object.assign({},yW[e])),{},{label:CW("subSteps","".concat(e,"Label")),labelPending:CW("subSteps","".concat(e,"LabelPending"))})})));return t=n,Object.keys(t).map((function(e){return r(r({},t[e]),{},{code:e,label:CW("steps","".concat(e,"Label")),labelPending:CW("steps","".concat(e,"LabelPending"))})}))}(Object.assign(HW)[t])}}),VW="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},zW=[],qW=[],GW="undefined"!=typeof Uint8Array?Uint8Array:Array,WW=!1;function JW(){WW=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)zW[t]=e[t],qW[e.charCodeAt(t)]=t;qW["-".charCodeAt(0)]=62,qW["_".charCodeAt(0)]=63}function XW(e,t,r){for(var n,i,a=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],a.push(zW[(i=n)>>18&63]+zW[i>>12&63]+zW[i>>6&63]+zW[63&i]);return a.join("")}function YW(e){var t;WW||JW();for(var r=e.length,n=r%3,i="",a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(XW(e,s,s+o>u?u:s+o));return 1===n?(t=e[r-1],i+=zW[t>>2],i+=zW[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=zW[t>>10],i+=zW[t>>4&63],i+=zW[t<<2&63],i+="="),a.push(i),a.join("")}function $W(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,h=r?-1:1,A=e[t+f];for(f+=h,a=A&(1<<-l)-1,A>>=-l,l+=s;l>0;a=256*a+e[t+f],f+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+f],f+=h,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(A?-1:1);o+=Math.pow(2,n),a-=c}return(A?-1:1)*o*Math.pow(2,a-n)}function ZW(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:a-1,d=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=l?(s=0,o=l):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[r+A]=255&s,A+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+A]=255&o,A+=d,o/=256,c-=8);e[r+A-d]|=128*p}var eJ={}.toString,tJ=Array.isArray||function(e){return"[object Array]"==eJ.call(e)};aJ.TYPED_ARRAY_SUPPORT=void 0===VW.TYPED_ARRAY_SUPPORT||VW.TYPED_ARRAY_SUPPORT;var rJ=nJ();function nJ(){return aJ.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function iJ(e,t){if(nJ()<t)throw new RangeError("Invalid typed array length");return aJ.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=aJ.prototype:(null===e&&(e=new aJ(t)),e.length=t),e}function aJ(e,t,r){if(!(aJ.TYPED_ARRAY_SUPPORT||this instanceof aJ))return new aJ(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return uJ(this,e)}return oJ(this,e,t,r)}function oJ(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),aJ.TYPED_ARRAY_SUPPORT?(e=t).__proto__=aJ.prototype:e=cJ(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!aJ.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|hJ(t,r),i=(e=iJ(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(fJ(t)){var r=0|lJ(t.length);return 0===(e=iJ(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?iJ(e,0):cJ(e,t);if("Buffer"===t.type&&tJ(t.data))return cJ(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function sJ(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function uJ(e,t){if(sJ(t),e=iJ(e,t<0?0:0|lJ(t)),!aJ.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function cJ(e,t){var r=t.length<0?0:0|lJ(t.length);e=iJ(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function lJ(e){if(e>=nJ())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nJ().toString(16)+" bytes");return 0|e}function fJ(e){return!(null==e||!e._isBuffer)}function hJ(e,t){if(fJ(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return RJ(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return DJ(e).length;default:if(n)return RJ(e).length;t=(""+t).toLowerCase(),n=!0}}function AJ(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return SJ(this,t,r);case"utf8":case"utf-8":return _J(this,t,r);case"ascii":return BJ(this,t,r);case"latin1":case"binary":return EJ(this,t,r);case"base64":return kJ(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return CJ(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function dJ(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function pJ(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=aJ.from(t,n)),fJ(t))return 0===t.length?-1:vJ(e,t,r,n,i);if("number"==typeof t)return t&=255,aJ.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):vJ(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function vJ(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var f=!0,h=0;h<u;h++)if(c(e,a+h)!==c(t,h)){f=!1;break}if(f)return a}return-1}function gJ(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function yJ(e,t,r,n){return jJ(RJ(t,e.length-r),e,r,n)}function mJ(e,t,r,n){return jJ(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function bJ(e,t,r,n){return mJ(e,t,r,n)}function wJ(e,t,r,n){return jJ(DJ(t),e,r,n)}function xJ(e,t,r,n){return jJ(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function kJ(e,t,r){return 0===t&&r===e.length?YW(e):YW(e.slice(t,r))}function _J(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function BJ(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function EJ(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function SJ(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=FJ(e[a]);return i}function CJ(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function IJ(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function PJ(e,t,r,n,i,a){if(!fJ(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function TJ(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function OJ(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function LJ(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function NJ(e,t,r,n,i){return i||LJ(e,0,r,4),ZW(e,t,r,n,23,4),r+4}function MJ(e,t,r,n,i){return i||LJ(e,0,r,8),ZW(e,t,r,n,52,8),r+8}aJ.poolSize=8192,aJ._augment=function(e){return e.__proto__=aJ.prototype,e},aJ.from=function(e,t,r){return oJ(null,e,t,r)},aJ.TYPED_ARRAY_SUPPORT&&(aJ.prototype.__proto__=Uint8Array.prototype,aJ.__proto__=Uint8Array),aJ.alloc=function(e,t,r){return function(e,t,r,n){return sJ(t),t<=0?iJ(e,t):void 0!==r?"string"==typeof n?iJ(e,t).fill(r,n):iJ(e,t).fill(r):iJ(e,t)}(null,e,t,r)},aJ.allocUnsafe=function(e){return uJ(null,e)},aJ.allocUnsafeSlow=function(e){return uJ(null,e)},aJ.isBuffer=QJ,aJ.compare=function(e,t){if(!fJ(e)||!fJ(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},aJ.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},aJ.concat=function(e,t){if(!tJ(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return aJ.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=aJ.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!fJ(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},aJ.byteLength=hJ,aJ.prototype._isBuffer=!0,aJ.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)dJ(this,t,t+1);return this},aJ.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)dJ(this,t,t+3),dJ(this,t+1,t+2);return this},aJ.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)dJ(this,t,t+7),dJ(this,t+1,t+6),dJ(this,t+2,t+5),dJ(this,t+3,t+4);return this},aJ.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_J(this,0,e):AJ.apply(this,arguments)},aJ.prototype.equals=function(e){if(!fJ(e))throw new TypeError("Argument must be a Buffer");return this===e||0===aJ.compare(this,e)},aJ.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},aJ.prototype.compare=function(e,t,r,n,i){if(!fJ(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0},aJ.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},aJ.prototype.indexOf=function(e,t,r){return pJ(this,e,t,r,!0)},aJ.prototype.lastIndexOf=function(e,t,r){return pJ(this,e,t,r,!1)},aJ.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return gJ(this,e,t,r);case"utf8":case"utf-8":return yJ(this,e,t,r);case"ascii":return mJ(this,e,t,r);case"latin1":case"binary":return bJ(this,e,t,r);case"base64":return wJ(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xJ(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},aJ.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},aJ.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),aJ.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=aJ.prototype;else{var i=t-e;r=new aJ(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},aJ.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||IJ(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},aJ.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||IJ(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},aJ.prototype.readUInt8=function(e,t){return t||IJ(e,1,this.length),this[e]},aJ.prototype.readUInt16LE=function(e,t){return t||IJ(e,2,this.length),this[e]|this[e+1]<<8},aJ.prototype.readUInt16BE=function(e,t){return t||IJ(e,2,this.length),this[e]<<8|this[e+1]},aJ.prototype.readUInt32LE=function(e,t){return t||IJ(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},aJ.prototype.readUInt32BE=function(e,t){return t||IJ(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},aJ.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||IJ(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},aJ.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||IJ(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},aJ.prototype.readInt8=function(e,t){return t||IJ(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},aJ.prototype.readInt16LE=function(e,t){t||IJ(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},aJ.prototype.readInt16BE=function(e,t){t||IJ(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},aJ.prototype.readInt32LE=function(e,t){return t||IJ(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},aJ.prototype.readInt32BE=function(e,t){return t||IJ(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},aJ.prototype.readFloatLE=function(e,t){return t||IJ(e,4,this.length),$W(this,e,!0,23,4)},aJ.prototype.readFloatBE=function(e,t){return t||IJ(e,4,this.length),$W(this,e,!1,23,4)},aJ.prototype.readDoubleLE=function(e,t){return t||IJ(e,8,this.length),$W(this,e,!0,52,8)},aJ.prototype.readDoubleBE=function(e,t){return t||IJ(e,8,this.length),$W(this,e,!1,52,8)},aJ.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||PJ(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},aJ.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||PJ(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},aJ.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,1,255,0),aJ.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},aJ.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,2,65535,0),aJ.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):TJ(this,e,t,!0),t+2},aJ.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,2,65535,0),aJ.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):TJ(this,e,t,!1),t+2},aJ.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,4,4294967295,0),aJ.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):OJ(this,e,t,!0),t+4},aJ.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,4,4294967295,0),aJ.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):OJ(this,e,t,!1),t+4},aJ.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);PJ(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},aJ.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);PJ(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},aJ.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,1,127,-128),aJ.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},aJ.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,2,32767,-32768),aJ.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):TJ(this,e,t,!0),t+2},aJ.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,2,32767,-32768),aJ.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):TJ(this,e,t,!1),t+2},aJ.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,4,2147483647,-2147483648),aJ.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):OJ(this,e,t,!0),t+4},aJ.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||PJ(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),aJ.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):OJ(this,e,t,!1),t+4},aJ.prototype.writeFloatLE=function(e,t,r){return NJ(this,e,t,!0,r)},aJ.prototype.writeFloatBE=function(e,t,r){return NJ(this,e,t,!1,r)},aJ.prototype.writeDoubleLE=function(e,t,r){return MJ(this,e,t,!0,r)},aJ.prototype.writeDoubleBE=function(e,t,r){return MJ(this,e,t,!1,r)},aJ.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!aJ.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},aJ.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!aJ.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=fJ(e)?e:RJ(new aJ(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var UJ=/[^+\/0-9A-Za-z-_]/g;function FJ(e){return e<16?"0"+e.toString(16):e.toString(16)}function RJ(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function DJ(e){return function(e){var t,r,n,i,a,o;WW||JW();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===e[s-2]?2:"="===e[s-1]?1:0,o=new GW(3*s/4-a),n=a>0?s-4:s;var u=0;for(t=0,r=0;t<n;t+=4,r+=3)i=qW[e.charCodeAt(t)]<<18|qW[e.charCodeAt(t+1)]<<12|qW[e.charCodeAt(t+2)]<<6|qW[e.charCodeAt(t+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=255&i;return 2===a?(i=qW[e.charCodeAt(t)]<<2|qW[e.charCodeAt(t+1)]>>4,o[u++]=255&i):1===a&&(i=qW[e.charCodeAt(t)]<<10|qW[e.charCodeAt(t+1)]<<4|qW[e.charCodeAt(t+2)]>>2,o[u++]=i>>8&255,o[u++]=255&i),o}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(UJ,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function jJ(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function QJ(e){return null!=e&&(!!e._isBuffer||HJ(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&HJ(e.slice(0,0))}(e))}function HJ(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var KJ=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:rJ,Buffer:aJ,SlowBuffer:function(e){return+e!=e&&(e=0),aJ.alloc(+e)},isBuffer:QJ});function VJ(){throw new Error("setTimeout has not been defined")}function zJ(){throw new Error("clearTimeout has not been defined")}var qJ=VJ,GJ=zJ;function WJ(e){if(qJ===setTimeout)return setTimeout(e,0);if((qJ===VJ||!qJ)&&setTimeout)return qJ=setTimeout,setTimeout(e,0);try{return qJ(e,0)}catch(t){try{return qJ.call(null,e,0)}catch(t){return qJ.call(this,e,0)}}}"function"==typeof VW.setTimeout&&(qJ=setTimeout),"function"==typeof VW.clearTimeout&&(GJ=clearTimeout);var JJ,XJ=[],YJ=!1,$J=-1;function ZJ(){YJ&&JJ&&(YJ=!1,JJ.length?XJ=JJ.concat(XJ):$J=-1,XJ.length&&eX())}function eX(){if(!YJ){var e=WJ(ZJ);YJ=!0;for(var t=XJ.length;t;){for(JJ=XJ,XJ=[];++$J<t;)JJ&&JJ[$J].run();$J=-1,t=XJ.length}JJ=null,YJ=!1,function(e){if(GJ===clearTimeout)return clearTimeout(e);if((GJ===zJ||!GJ)&&clearTimeout)return GJ=clearTimeout,clearTimeout(e);try{GJ(e)}catch(t){try{return GJ.call(null,e)}catch(t){return GJ.call(this,e)}}}(e)}}function tX(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];XJ.push(new rX(e,t)),1!==XJ.length||YJ||WJ(eX)}function rX(e,t){this.fun=e,this.array=t}function nX(){}rX.prototype.run=function(){this.fun.apply(null,this.array)};var iX=nX,aX=nX,oX=nX,sX=nX,uX=nX,cX=nX,lX=nX,fX=VW.performance||{},hX=fX.now||fX.mozNow||fX.msNow||fX.oNow||fX.webkitNow||function(){return(new Date).getTime()},AX=new Date,dX={nextTick:tX,title:"browser",browser:!0,env:{},argv:[],version:"11.0.0",versions:{},on:iX,addListener:aX,once:oX,off:sX,removeListener:uX,removeAllListeners:cX,emit:lX,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*hX.call(fX),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-AX)/1e3}},pX=/[^\x20-\x7E]/,vX=/[\x2E\u3002\uFF0E\uFF61]/g,gX={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},yX=Math.floor,mX=String.fromCharCode;/*! https://mths.be/punycode v1.4.1 by @mathias */function bX(e){throw new RangeError(gX[e])}function wX(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function xX(e,t,r){var n=0;for(e=r?yX(e/700):e>>1,e+=yX(e/t);e>455;n+=36)e=yX(e/35);return yX(n+36*e/(e+38))}function kX(e){return function(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}((e=e.replace(vX,".")).split("."),(function(e){return pX.test(e)?"xn--"+function(e){var t,r,n,i,a,o,s,u,c,l,f,h,A,d,p,v=[];for(h=(e=function(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}(e)).length,t=128,r=0,a=72,o=0;o<h;++o)(f=e[o])<128&&v.push(mX(f));for(n=i=v.length,i&&v.push("-");n<h;){for(s=2147483647,o=0;o<h;++o)(f=e[o])>=t&&f<s&&(s=f);for(s-t>yX((2147483647-r)/(A=n+1))&&bX("overflow"),r+=(s-t)*A,t=s,o=0;o<h;++o)if((f=e[o])<t&&++r>2147483647&&bX("overflow"),f==t){for(u=r,c=36;!(u<(l=c<=a?1:c>=a+26?26:c-a));c+=36)p=u-l,d=36-l,v.push(mX(wX(l+p%d,0))),u=yX(p/d);v.push(mX(wX(u,0))),a=xX(r,A,n==i),r=0,++n}++r,++t}return v.join("")}(e):e})).join(".");return n+i}(e)}var _X="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},BX=/%[sdj%]/g;function EX(e){if(!RX(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(PX(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(BX,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<i;o=n[++r])FX(o)||!QX(o)?a+=" "+o:a+=" "+PX(o);return a}function SX(e,t){if(DX(VW.process))return function(){return SX(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}}var CX,IX={};function PX(e,t){var r={seen:[],stylize:OX};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),UX(t)?r.showHidden=t:t&&qX(r,t),DX(r.showHidden)&&(r.showHidden=!1),DX(r.depth)&&(r.depth=2),DX(r.colors)&&(r.colors=!1),DX(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=TX),LX(r,e,r.depth)}function TX(e,t){var r=PX.styles[t];return r?"["+PX.colors[r][0]+"m"+e+"["+PX.colors[r][1]+"m":e}function OX(e,t){return e}function LX(e,t,r){if(e.customInspect&&t&&VX(t.inspect)&&t.inspect!==PX&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return RX(n)||(n=LX(e,n,r)),n}var i=function(e,t){if(DX(t))return e.stylize("undefined","undefined");if(RX(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return"number"==typeof t?e.stylize(""+t,"number"):UX(t)?e.stylize(""+t,"boolean"):FX(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var a=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),KX(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return NX(t);if(0===a.length){if(VX(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(jX(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(HX(t))return e.stylize(Date.prototype.toString.call(t),"date");if(KX(t))return NX(t)}var u,c,l="",f=!1,h=["{","}"];return u=t,Array.isArray(u)&&(f=!0,h=["[","]"]),VX(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),jX(t)&&(l=" "+RegExp.prototype.toString.call(t)),HX(t)&&(l=" "+Date.prototype.toUTCString.call(t)),KX(t)&&(l=" "+NX(t)),0!==a.length||f&&0!=t.length?r<0?jX(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=f?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)GX(t,String(o))?a.push(MX(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(MX(e,t,r,n,i,!0))})),a}(e,t,r,o,a):a.map((function(n){return MX(e,t,r,o,n,f)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,h)):h[0]+l+h[1]}function NX(e){return"["+Error.prototype.toString.call(e)+"]"}function MX(e,t,r,n,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),GX(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=FX(r)?LX(e,u.value,null):LX(e,u.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),DX(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function UX(e){return"boolean"==typeof e}function FX(e){return null===e}function RX(e){return"string"==typeof e}function DX(e){return void 0===e}function jX(e){return QX(e)&&"[object RegExp]"===zX(e)}function QX(e){return"object"==i(e)&&null!==e}function HX(e){return QX(e)&&"[object Date]"===zX(e)}function KX(e){return QX(e)&&("[object Error]"===zX(e)||e instanceof Error)}function VX(e){return"function"==typeof e}function zX(e){return Object.prototype.toString.call(e)}function qX(e,t){if(!t||!QX(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function GX(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function WX(e,t){return Object.prototype.hasOwnProperty.call(e,t)}PX.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},PX.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var JX=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function XX(e){switch(i(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function YX(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var $X=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function ZX(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var u=0;u<s;++u){var c,l,f,h,A=e[u].replace(a,"%20"),d=A.indexOf(r);d>=0?(c=A.substr(0,d),l=A.substr(d+1)):(c=A,l=""),f=decodeURIComponent(c),h=decodeURIComponent(l),WX(i,f)?JX(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i}var eY={parse:dY,resolve:function(e,t){return dY(e,!1,!0).resolve(t)},resolveObject:function(e,t){return e?dY(e,!1,!0).resolveObject(t):t},format:function(e){return RX(e)&&(e=pY({},e)),vY(e)},Url:tY};function tY(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var rY=/^([a-z0-9.+-]+:)/i,nY=/:[0-9]*$/,iY=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,aY=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),oY=["'"].concat(aY),sY=["%","/","?",";","#"].concat(oY),uY=["/","?","#"],cY=/^[+a-z0-9A-Z_-]{0,63}$/,lY=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,fY={javascript:!0,"javascript:":!0},hY={javascript:!0,"javascript:":!0},AY={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function dY(e,t,r){if(e&&QX(e)&&e instanceof tY)return e;var n=new tY;return n.parse(e,t,r),n}function pY(e,t,r,n){if(!RX(t))throw new TypeError("Parameter 'url' must be a string, not "+i(t));var a=t.indexOf("?"),o=-1!==a&&a<t.indexOf("#")?"?":"#",s=t.split(o);s[0]=s[0].replace(/\\/g,"/");var u=t=s.join(o);if(u=u.trim(),!n&&1===t.split("#").length){var c=iY.exec(u);if(c)return e.path=u,e.href=u,e.pathname=c[1],c[2]?(e.search=c[2],e.query=r?ZX(e.search.substr(1)):e.search.substr(1)):r&&(e.search="",e.query={}),e}var l,f,h,A,d=rY.exec(u);if(d){var p=(d=d[0]).toLowerCase();e.protocol=p,u=u.substr(d.length)}if(n||d||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===u.substr(0,2);!v||d&&hY[d]||(u=u.substr(2),e.slashes=!0)}if(!hY[d]&&(v||d&&!AY[d])){var g,y,m=-1;for(l=0;l<uY.length;l++)-1!==(f=u.indexOf(uY[l]))&&(-1===m||f<m)&&(m=f);for(-1!==(y=-1===m?u.lastIndexOf("@"):u.lastIndexOf("@",m))&&(g=u.slice(0,y),u=u.slice(y+1),e.auth=decodeURIComponent(g)),m=-1,l=0;l<sY.length;l++)-1!==(f=u.indexOf(sY[l]))&&(-1===m||f<m)&&(m=f);-1===m&&(m=u.length),e.host=u.slice(0,m),u=u.slice(m),gY(e),e.hostname=e.hostname||"";var b="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!b){var w=e.hostname.split(/\./);for(l=0,h=w.length;l<h;l++){var x=w[l];if(x&&!x.match(cY)){for(var k="",_=0,B=x.length;_<B;_++)x.charCodeAt(_)>127?k+="x":k+=x[_];if(!k.match(cY)){var E=w.slice(0,l),S=w.slice(l+1),C=x.match(lY);C&&(E.push(C[1]),S.unshift(C[2])),S.length&&(u="/"+S.join(".")+u),e.hostname=E.join(".");break}}}}e.hostname.length>255?e.hostname="":e.hostname=e.hostname.toLowerCase(),b||(e.hostname=kX(e.hostname)),A=e.port?":"+e.port:"";var I=e.hostname||"";e.host=I+A,e.href+=e.host,b&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!fY[p])for(l=0,h=oY.length;l<h;l++){var P=oY[l];if(-1!==u.indexOf(P)){var T=encodeURIComponent(P);T===P&&(T=escape(P)),u=u.split(P).join(T)}}var O=u.indexOf("#");-1!==O&&(e.hash=u.substr(O),u=u.slice(0,O));var L=u.indexOf("?");if(-1!==L?(e.search=u.substr(L),e.query=u.substr(L+1),r&&(e.query=ZX(e.query)),u=u.slice(0,L)):r&&(e.search="",e.query={}),u&&(e.pathname=u),AY[p]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){A=e.pathname||"";var N=e.search||"";e.path=A+N}return e.href=vY(e),e}function vY(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",a=e.hash||"",o=!1,s="";e.host?o=t+e.host:e.hostname&&(o=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(o+=":"+e.port)),e.query&&QX(e.query)&&Object.keys(e.query).length&&(s=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==i(e)?YX($X(e),(function(n){var i=encodeURIComponent(XX(n))+r;return JX(e[n])?YX(e[n],(function(e){return i+encodeURIComponent(XX(e))})).join(t):i+encodeURIComponent(XX(e[n]))})).join(t):""}(e.query));var u=e.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||AY[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),a&&"#"!==a.charAt(0)&&(a="#"+a),u&&"?"!==u.charAt(0)&&(u="?"+u),r+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(u=u.replace("#","%23"))+a}function gY(e){var t=e.host,r=nY.exec(t);r&&(":"!==(r=r[0])&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}tY.prototype.parse=function(e,t,r){return pY(this,e,t,r)},tY.prototype.format=function(){return vY(this)},tY.prototype.resolve=function(e){return this.resolveObject(dY(e,!1,!0)).format()},tY.prototype.resolveObject=function(e){if(RX(e)){var t=new tY;t.parse(e,!1,!0),e=t}for(var r,n=new tY,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=e[c])}return AY[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!AY[e.protocol]){for(var l=Object.keys(e),f=0;f<l.length;f++){var h=l[f];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||hY[e.protocol])n.pathname=e.pathname;else{for(r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var A=n.pathname||"",d=n.search||"";n.path=A+d}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var p,v=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=g||v||n.host&&e.pathname,m=y,b=n.pathname&&n.pathname.split("/")||[],w=n.protocol&&!AY[n.protocol];if(r=e.pathname&&e.pathname.split("/")||[],w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),y=y&&(""===r[0]||""===b[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=r;else if(r.length)b||(b=[]),b.pop(),b=b.concat(r),n.search=e.search,n.query=e.query;else if(null!=e.search)return w&&(n.hostname=n.host=b.shift(),(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),n.search=e.search,n.query=e.query,FX(n.pathname)&&FX(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=b.slice(-1)[0],k=(n.host||e.host||b.length>1)&&("."===x||".."===x)||""===x,_=0,B=b.length;B>=0;B--)"."===(x=b[B])?b.splice(B,1):".."===x?(b.splice(B,1),_++):_&&(b.splice(B,1),_--);if(!y&&!m)for(;_--;_)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),k&&"/"!==b.join("/").substr(-1)&&b.push("");var E=""===b[0]||b[0]&&"/"===b[0].charAt(0);return w&&(n.hostname=n.host=E?"":b.length?b.shift():"",(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),(y=y||n.host&&b.length)&&!E&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),FX(n.pathname)&&FX(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},tY.prototype.parseHost=function(){return gY(this)};var yY,mY,bY={},wY=PY(VW.fetch)&&PY(VW.ReadableStream);function xY(e){mY||(mY=new VW.XMLHttpRequest).open("GET",VW.location.host?"/":"https://example.com");try{return mY.responseType=e,mY.responseType===e}catch(e){return!1}}var kY=void 0!==VW.ArrayBuffer,_Y=kY&&PY(VW.ArrayBuffer.prototype.slice),BY=kY&&xY("arraybuffer"),EY=!wY&&_Y&&xY("ms-stream"),SY=!wY&&kY&&xY("moz-chunked-arraybuffer"),CY=PY(mY.overrideMimeType),IY=PY(VW.VBArray);function PY(e){return"function"==typeof e}function TY(){}function OY(){OY.init.call(this)}function LY(e){return void 0===e._maxListeners?OY.defaultMaxListeners:e._maxListeners}function NY(e,t,r){if(t)e.call(r);else for(var n=e.length,i=HY(e,n),a=0;a<n;++a)i[a].call(r)}function MY(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,a=HY(e,i),o=0;o<i;++o)a[o].call(r,n)}function UY(e,t,r,n,i){if(t)e.call(r,n,i);else for(var a=e.length,o=HY(e,a),s=0;s<a;++s)o[s].call(r,n,i)}function FY(e,t,r,n,i,a){if(t)e.call(r,n,i,a);else for(var o=e.length,s=HY(e,o),u=0;u<o;++u)s[u].call(r,n,i,a)}function RY(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,a=HY(e,i),o=0;o<i;++o)a[o].apply(r,n)}function DY(e,t,r,n){var i,a,o,s;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]):(a=e._events=new TY,e._eventsCount=0),o){if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),!o.warned&&(i=LY(e))&&i>0&&o.length>i){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,"function"==typeof console.warn?console.warn(s):console.log(s)}}else o=a[t]=r,++e._eventsCount;return e}function jY(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function QY(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function HY(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function KY(){this.head=null,this.tail=null,this.length=0}mY=null,TY.prototype=Object.create(null),OY.EventEmitter=OY,OY.usingDomains=!1,OY.prototype.domain=void 0,OY.prototype._events=void 0,OY.prototype._maxListeners=void 0,OY.defaultMaxListeners=10,OY.init=function(){this.domain=null,OY.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new TY,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},OY.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},OY.prototype.getMaxListeners=function(){return LY(this)},OY.prototype.emit=function(e){var t,r,n,i,a,o,s,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(s=this.domain,u){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(r=o[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:NY(r,l,this);break;case 2:MY(r,l,this,arguments[1]);break;case 3:UY(r,l,this,arguments[1],arguments[2]);break;case 4:FY(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),a=1;a<n;a++)i[a-1]=arguments[a];RY(r,l,this,i)}return!0},OY.prototype.addListener=function(e,t){return DY(this,e,t,!1)},OY.prototype.on=OY.prototype.addListener,OY.prototype.prependListener=function(e,t){return DY(this,e,t,!0)},OY.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,jY(this,e,t)),this},OY.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,jY(this,e,t)),this},OY.prototype.removeListener=function(e,t){var r,n,i,a,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new TY:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new TY,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,o||t)}return this},OY.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new TY,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new TY:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),a=0;a<i.length;++a)"removeListener"!==(n=i[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new TY,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},OY.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},OY.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):QY.call(e,t)},OY.prototype.listenerCount=QY,OY.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},KY.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},KY.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},KY.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},KY.prototype.clear=function(){this.head=this.tail=null,this.length=0},KY.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},KY.prototype.concat=function(e){if(0===this.length)return aJ.alloc(0);if(1===this.length)return this.head.data;for(var t=aJ.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var VY=aJ.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function zY(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!VY(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=GY;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=WY;break;default:return void(this.write=qY)}this.charBuffer=new aJ(6),this.charReceived=0,this.charLength=0}function qY(e){return e.toString(this.encoding)}function GY(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function WY(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}zY.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(n=t.charCodeAt(i))>=55296&&n<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,i)}return t},zY.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},zY.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var JY=Object.freeze({__proto__:null,StringDecoder:zY});$Y.ReadableState=YY;var XY=function(e){return DX(CX)&&(CX=""),e=e.toUpperCase(),IX[e]||(new RegExp("\\b"+e+"\\b","i").test(CX)?IX[e]=function(){var t=EX.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:IX[e]=function(){}),IX[e]}("stream");function YY(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof B$&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new KY,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new zY(e.encoding),this.encoding=e.encoding)}function $Y(e){if(!(this instanceof $Y))return new $Y(e);this._readableState=new YY(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),OY.call(this)}function ZY(e,t,r,n,i){var a=function(e,t){var r=null;return QJ(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(t,r);if(a)e.emit("error",a);else if(null===r)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t$(e)}}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var u;!t.decoder||i||n||(r=t.decoder.write(r),u=!t.objectMode&&0===r.length),i||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&t$(e))),function(e,t){t.readingMore||(t.readingMore=!0,tX(n$,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}function e$(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function t$(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(XY("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?tX(r$,e):r$(e))}function r$(e){XY("emit readable"),e.emit("readable"),o$(e)}function n$(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(XY("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function i$(e){XY("readable nexttick read 0"),e.read(0)}function a$(e,t){t.reading||(XY("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),o$(e),t.flowing&&!t.reading&&e.read(0)}function o$(e){var t=e._readableState;for(XY("flow",t.flowing);t.flowing&&null!==e.read(););}function s$(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0==(e-=o)){o===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=aJ.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0==(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function u$(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,tX(c$,t,e))}function c$(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function l$(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function f$(){}function h$(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function A$(e,t){Object.defineProperty(this,"buffer",{get:SX((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof B$&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?tX(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var a=y$(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||g$(e,r),n?tX(v$,e,r,a,i):v$(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w$(this)}function d$(e){if(!(this instanceof d$||this instanceof B$))return new d$(e);this._writableState=new A$(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),OY.call(this)}function p$(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function v$(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),b$(e,t)}function g$(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0;r;)i[o]=r,r=r.next,o+=1;p$(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new w$(t)}else{for(;r;){var s=r.chunk,u=r.encoding,c=r.callback;if(p$(e,t,!1,t.objectMode?1:s.length,s,u,c),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function y$(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function m$(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function b$(e,t){var r=y$(t);return r&&(0===t.pendingcb?(m$(e,t),t.finished=!0,e.emit("finish")):m$(e,t)),r}function w$(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}_X($Y,OY),$Y.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=aJ.from(e,t),t=""),ZY(this,r,e,t,!1)},$Y.prototype.unshift=function(e){return ZY(this,this._readableState,e,"",!0)},$Y.prototype.isPaused=function(){return!1===this._readableState.flowing},$Y.prototype.setEncoding=function(e){return this._readableState.decoder=new zY(e),this._readableState.encoding=e,this},$Y.prototype.read=function(e){XY("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return XY("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?u$(this):t$(this),null;if(0===(e=e$(e,t))&&t.ended)return 0===t.length&&u$(this),null;var n,i=t.needReadable;return XY("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&XY("length less than watermark",i=!0),t.ended||t.reading?XY("reading or ended",i=!1):i&&(XY("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=e$(r,t))),null===(n=e>0?s$(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&u$(this)),null!==n&&this.emit("data",n),n},$Y.prototype._read=function(e){this.emit("error",new Error("not implemented"))},$Y.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,XY("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end?c:o;function a(e){XY("onunpipe"),e===r&&c()}function o(){XY("onend"),e.end()}n.endEmitted?tX(i):r.once("end",i),e.on("unpipe",a);var s=function(e){return function(){var t=e._readableState;XY("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,o$(e))}}(r);e.on("drain",s);var u=!1;function c(){XY("cleanup"),e.removeListener("close",A),e.removeListener("finish",d),e.removeListener("drain",s),e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",c),r.removeListener("data",f),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s()}var l=!1;function f(t){XY("ondata"),l=!1,!1!==e.write(t)||l||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==l$(n.pipes,e))&&!u&&(XY("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function h(t){XY("onerror",t),p(),e.removeListener("error",h),0===("error",e.listeners("error").length)&&e.emit("error",t)}function A(){e.removeListener("finish",d),p()}function d(){XY("onfinish"),e.removeListener("close",A),p()}function p(){XY("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",A),e.once("finish",d),e.emit("pipe",r),n.flowing||(XY("pipe resume"),r.resume()),e},$Y.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var a=l$(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},$Y.prototype.on=function(e,t){var r=OY.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&t$(this):tX(i$,this))}return r},$Y.prototype.addListener=$Y.prototype.on,$Y.prototype.resume=function(){var e=this._readableState;return e.flowing||(XY("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,tX(a$,e,t))}(this,e)),this},$Y.prototype.pause=function(){return XY("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(XY("pause"),this._readableState.flowing=!1,this.emit("pause")),this},$Y.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(XY("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){XY("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r])}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){XY("wrapped _read",t),r&&(r=!1,e.resume())},n},$Y._fromList=s$,d$.WritableState=A$,_X(d$,OY),A$.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},d$.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},d$.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),aJ.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=f$),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),tX(t,r)}(this,r):function(e,t,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):aJ.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),tX(n,a),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=aJ.from(t,r)),t}(t,r,n),aJ.isBuffer(r)&&(n="buffer");var a=t.objectMode?1:r.length;t.length+=a;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest=new h$(r,n,i),s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else p$(e,t,!1,a,r,n,i);return o}(this,n,e,t,r)),i},d$.prototype.cork=function(){this._writableState.corked++},d$.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||g$(this,e))},d$.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},d$.prototype._write=function(e,t,r){r(new Error("not implemented"))},d$.prototype._writev=null,d$.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,b$(e,t),r&&(t.finished?tX(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},_X(B$,$Y);for(var x$=Object.keys(d$.prototype),k$=0;k$<x$.length;k$++){var _$=x$[k$];B$.prototype[_$]||(B$.prototype[_$]=d$.prototype[_$])}function B$(e){if(!(this instanceof B$))return new B$(e);$Y.call(this,e),d$.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",E$)}function E$(){this.allowHalfOpen||this._writableState.ended||tX(S$,this)}function S$(e){e.end()}function C$(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var a=e._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&e._read(a.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function I$(e){if(!(this instanceof I$))return new I$(e);B$.call(this,e),this._transformState=new C$(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){P$(t,e)})):P$(t)}))}function P$(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function T$(e){if(!(this instanceof T$))return new T$(e);I$.call(this,e)}function O$(){OY.call(this)}_X(I$,B$),I$.prototype.push=function(e,t){return this._transformState.needTransform=!1,B$.prototype.push.call(this,e,t)},I$.prototype._transform=function(e,t,r){throw new Error("Not implemented")},I$.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},I$.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},_X(T$,I$),T$.prototype._transform=function(e,t,r){r(null,e)},_X(O$,OY),O$.Readable=$Y,O$.Writable=d$,O$.Duplex=B$,O$.Transform=I$,O$.PassThrough=T$,O$.Stream=O$,O$.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",s));var a=!1;function o(){a||(a=!0,e.end())}function s(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(c(),0===OY.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",s),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",u),e.on("error",u),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e};function L$(e,t,r){var n,i=this;if($Y.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",(function(){tX((function(){i.emit("close")}))})),"fetch"===r){i._fetchResponse=t,i.url=t.url,i.statusCode=t.status,i.statusMessage=t.statusText;for(var a,o,s=t.headers[Symbol.iterator]();a=(o=s.next()).value,!o.done;)i.headers[a[0].toLowerCase()]=a[1],i.rawHeaders.push(a[0],a[1]);var u=t.body.getReader();(n=function(){u.read().then((function(e){i._destroyed||(e.done?i.push(null):(i.push(new aJ(e.value)),n()))}))})()}else if(i._xhr=e,i._pos=0,i.url=e.responseURL,i.statusCode=e.status,i.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===i.headers[r]&&(i.headers[r]=[]),i.headers[r].push(t[2])):void 0!==i.headers[r]?i.headers[r]+=", "+t[2]:i.headers[r]=t[2],i.rawHeaders.push(t[1],t[2])}})),i._charset="x-user-defined",!CY){var c=i.rawHeaders["mime-type"];if(c){var l=c.match(/;\s*charset=([^;])(;|$)/);l&&(i._charset=l[1].toLowerCase())}i._charset||(i._charset="utf-8")}}function N$(e){var t,r=this;d$.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new aJ(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!CY;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return wY&&t?"fetch":SY?"moz-chunked-arraybuffer":EY?"ms-stream":BY&&e?"arraybuffer":IY&&e?"text:vbarray":"text"}(t,n),r.on("finish",(function(){r._onFinish()}))}_X(L$,$Y),L$.prototype._read=function(){},L$.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(4!==t.readyState)break;try{r=new VW.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new aJ(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if("x-user-defined"===e._charset){for(var i=new aJ(n.length),a=0;a<n.length;a++)i[a]=255&n.charCodeAt(a);e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(4!==t.readyState||!t.response)break;r=t.response,e.push(new aJ(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,3!==t.readyState||!r)break;e.push(new aJ(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,3!==t.readyState)break;var o=new VW.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new aJ(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(r)}4===e._xhr.readyState&&"ms-stream"!==e._mode&&e.push(null)},_X(N$,d$);var M$=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];function U$(e,t){"string"==typeof e&&(e=dY(e));var r=-1===VW.location.protocol.search(/^https?:$/)?"http:":"",n=e.protocol||r,i=e.hostname||e.host,a=e.port,o=e.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(a?":"+a:"")+o,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var s=new N$(e);return t&&s.on("response",t),s}function F$(){}N$.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===M$.indexOf(r)&&(this._headers[r]={name:e,value:t})},N$.prototype.getHeader=function(e){return this._headers[e.toLowerCase()].value},N$.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},N$.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,n=e._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(t=function(){if(void 0!==yY)return yY;try{new VW.Blob([new ArrayBuffer(1)]),yY=!0}catch(e){yY=!1}return yY}()?new VW.Blob(e._body.map((function(e){return function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(QJ(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}(e)})),{type:(n["content-type"]||{}).value||""}):aJ.concat(e._body).toString()),"fetch"===e._mode){var i=Object.keys(n).map((function(e){return[n[e].name,n[e].value]}));VW.fetch(e._opts.url,{method:e._opts.method,headers:i,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){e.emit("error",t)}))}else{var a=e._xhr=new VW.XMLHttpRequest;try{a.open(e._opts.method,e._opts.url,!0)}catch(t){return void tX((function(){e.emit("error",t)}))}"responseType"in a&&(a.responseType=e._mode.split(":")[0]),"withCredentials"in a&&(a.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(n).forEach((function(e){a.setRequestHeader(n[e].name,n[e].value)})),e._response=null,a.onreadystatechange=function(){switch(a.readyState){case 3:case 4:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(a.onprogress=function(){e._onXHRProgress()}),a.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{a.send(t)}catch(t){return void tX((function(){e.emit("error",t)}))}}}},N$.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},N$.prototype._connect=function(){var e=this;e._destroyed||(e._response=new L$(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},N$.prototype._write=function(e,t,r){this._body.push(e),r()},N$.prototype.abort=N$.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},N$.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),d$.prototype.end.call(this,e,t,r)},N$.prototype.flushHeaders=function(){},N$.prototype.setTimeout=function(){},N$.prototype.setNoDelay=function(){},N$.prototype.setSocketKeepAlive=function(){},F$.defaultMaxSockets=4;var R$={request:U$,get:function(e,t){var r=U$(e,t);return r.end(),r},Agent:F$,METHODS:["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],STATUS_CODES:{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},D$=bY.spawn,j$=function(){var e,t,r=this,n=R$,i=R$,a={},o=!1,s={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},u={},c={},l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],f=["TRACE","TRACK","CONNECT"],h=!1,A=!1,d={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1,this.open=function(e,t,r,n,i){if(this.abort(),A=!1,!function(e){return e&&-1===f.indexOf(e)}(e))throw new Error("SecurityError: Request method not allowed");a={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},p(this.OPENED)},this.setDisableHeaderCheck=function(e){o=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(function(e){return o||e&&-1===l.indexOf(e.toLowerCase())}(e)){if(h)throw new Error("INVALID_STATE_ERR: send flag is true");e=c[e.toLowerCase()]||e,c[e.toLowerCase()]=e,u[e]=u[e]?u[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&t&&t.headers&&t.headers[e.toLowerCase()]&&!A?t.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||A)return"";var e="";for(var r in t.headers)"set-cookie"!==r&&"set-cookie2"!==r&&(e+=r+": "+t.headers[r]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&c[e.toLowerCase()]?u[c[e.toLowerCase()]]:""},this.send=function(o){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(h)throw new Error("INVALID_STATE_ERR: send has already been called");var l,f=!1,d=!1,v=eY.parse(a.url);switch(v.protocol){case"https:":f=!0;case"http:":l=v.hostname;break;case"file:":d=!0;break;case void 0:case null:case"":l="localhost";break;default:throw new Error("Protocol not supported.")}if(d){if("GET"!==a.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(a.async)bY.readFile(v.pathname,"utf8",(function(e,t){e?r.handleError(e):(r.status=200,r.responseText=t,p(r.DONE))}));else try{this.responseText=bY.readFileSync(v.pathname,"utf8"),this.status=200,p(r.DONE)}catch(e){this.handleError(e)}}else{var g=v.port||(f?443:80),y=v.pathname+(v.search?v.search:"");for(var m in s)c[m.toLowerCase()]||(u[m]=s[m]);if(u.Host=l,f&&443===g||80===g||(u.Host+=":"+v.port),a.user){void 0===a.password&&(a.password="");var b=new aJ(a.user+":"+a.password);u.Authorization="Basic "+b.toString("base64")}"GET"===a.method||"HEAD"===a.method?o=null:o?(u["Content-Length"]=QJ(o)?o.length:aJ.byteLength(o),u["Content-Type"]||(u["Content-Type"]="text/plain;charset=UTF-8")):"POST"===a.method&&(u["Content-Length"]=0);var w={host:l,port:g,path:y,method:a.method,headers:u,agent:!1,withCredentials:r.withCredentials};if(A=!1,a.async){var x=f?i.request:n.request;h=!0,r.dispatchEvent("readystatechange");var k=function(e){r.handleError(e)};e=x(w,(function n(i){if(301!==(t=i).statusCode&&302!==t.statusCode&&303!==t.statusCode&&307!==t.statusCode)t.setEncoding("utf8"),p(r.HEADERS_RECEIVED),r.status=t.statusCode,t.on("data",(function(e){e&&(r.responseText+=e),h&&p(r.LOADING)})),t.on("end",(function(){h&&(p(r.DONE),h=!1)})),t.on("error",(function(e){r.handleError(e)}));else{a.url=t.headers.location;var o=eY.parse(a.url);l=o.hostname;var s={hostname:o.hostname,port:o.port,path:o.path,method:303===t.statusCode?"GET":a.method,headers:u,withCredentials:r.withCredentials};(e=x(s,n).on("error",k)).end()}})).on("error",k),o&&e.write(o),e.end(),r.dispatchEvent("loadstart")}else{var _=".node-xmlhttprequest-content-"+dX.pid,B=".node-xmlhttprequest-sync-"+dX.pid;bY.writeFileSync(B,"","utf8");for(var E="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(f?"s":"")+".request;var options = "+JSON.stringify(w)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+_+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+B+"');});response.on('error', function(error) {fs.writeFileSync('"+_+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+B+"');});}).on('error', function(error) {fs.writeFileSync('"+_+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+B+"');});"+(o?"req.write('"+JSON.stringify(o).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",S=D$(dX.argv[0],["-e",E]);bY.existsSync(B););var C=JSON.parse(bY.readFileSync(_,"utf8"));S.stdin.end(),bY.unlinkSync(_),C.err?r.handleError(C.err):(t=C.data,r.status=C.data.statusCode,r.responseText=C.data.text,p(r.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,A=!0,p(this.DONE),this.dispatchEvent("error")},this.abort=function(){e&&(e.abort(),e=null),u=s,this.status=0,this.responseText="",this.responseXML="",A=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!h||this.readyState===this.DONE||(h=!1,p(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in d||(d[e]=[]),d[e].push(t)},this.removeEventListener=function(e,t){e in d&&(d[e]=d[e].filter((function(e){return e!==t})))},this.dispatchEvent=function(e){if("function"==typeof r["on"+e]&&r["on"+e](),e in d)for(var t=0,n=d[e].length;t<n;t++)d[e][t].call(r)};var p=function(e){e!=r.LOADING&&r.readyState===e||(r.readyState=e,(a.async||r.readyState<r.OPENED||r.readyState===r.DONE)&&r.dispatchEvent("readystatechange"),r.readyState!==r.DONE||A||(r.dispatchEvent("load"),r.dispatchEvent("loadend")))}},Q$=6e4,H$=60*Q$,K$=24*H$,V$=function(e,t){t=t||{};var r=i(e);if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*K$;case"hours":case"hour":case"hrs":case"hr":case"h":return r*H$;case"minutes":case"minute":case"mins":case"min":case"m":return r*Q$;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=K$?z$(e,t,K$,"day"):t>=H$?z$(e,t,H$,"hour"):t>=Q$?z$(e,t,Q$,"minute"):t>=1e3?z$(e,t,1e3,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=K$?Math.round(e/K$)+"d":t>=H$?Math.round(e/H$)+"h":t>=Q$?Math.round(e/Q$)+"m":t>=1e3?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function z$(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}var q$=RW((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==dX&&"env"in dX&&(e=dX.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=function(e){function t(e){var n,i=null;function a(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(a.enabled){var o=a,s=Number(new Date),u=s-(n||s);o.diff=u,o.prev=n,o.curr=s,n=s,r[0]=t.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var c=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";c++;var i=t.formatters[n];if("function"==typeof i){var a=r[c];e=i.call(o,a),r.splice(c,1),c--}return e})),t.formatArgs.call(o,r),(o.log||t.log).apply(o,r)}}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===i?t.enabled(e):i},set:function(e){i=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(S(t.names.map(n)),S(t.skips.map(n).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=V$,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}));q$.formatArgs,q$.save,q$.load,q$.useColors,q$.storage,q$.destroy,q$.colors,q$.log;var G$,W$,J$=q$("request");function X$(e){return new Promise((function(t,r){var n=e.url;n||r(new Error("URL is missing")),"http://"===n.substr(0,7)&&(console.warn("Upgrading requested url ".concat(n," to https protocol.")),n=n.replace("http://","https://"));var i=new("undefined"==typeof XMLHttpRequest?j$:XMLHttpRequest);i.onload=function(){if(i.status>=200&&i.status<300)t(i.responseText);else{var e="Error fetching url:".concat(n,"; status code:").concat(i.status);r(new Error(e))}},i.ontimeout=function(e){console.log("ontimeout",e)},i.onreadystatechange=function(){404===i.status&&r(new Error("Error fetching url:".concat(n,"; status code:").concat(i.status)))},i.onerror=function(){J$("Request failed with error ".concat(i.responseText)),r(new Error(i.responseText))},i.open(e.method||"GET",n),e.body?i.send(JSON.stringify(e.body)):i.send()}))}!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(G$||(G$={})),function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(W$||(W$={}));var Y$=(l(oW={},W$.Bitcoin,{code:W$.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}}),l(oW,W$.Ethmain,{code:W$.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}}),l(oW,W$.Ethropst,{code:W$.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}}),l(oW,W$.Ethrinkeby,{code:W$.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}}),l(oW,W$.Mocknet,{code:W$.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}}),l(oW,W$.Regtest,{code:W$.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}}),l(oW,W$.Testnet,{code:W$.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}),oW);function $$(e){return e!==Y$.bitcoin.code&&e!==Y$.ethmain.code}var Z$=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function eZ(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Z$(this,void 0,void 0,n().mark((function i(){var a;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((e=Array.from(e)).length<t)){n.next=2;break}throw new Error("Could not retrieve tx data");case 2:return a=e.map((function(e,t){return e.then((function(){return t})).catch((function(e){throw t}))})),n.abrupt("return",Promise.race(a).then((function(n){return e.splice(n,1)[0].then((function(e){return r.push(e)})),1===t?r:eZ(e,t-1,r)})).catch((function(n){return e.splice(n,1),eZ(e,t,r)})));case 4:case"end":return n.stop()}}),i)})))}function tZ(e){var t=e.explorerAPI,r=e.transactionIdPlaceholder,n=void 0===r?"{transaction_id}":r,i=e.transactionId,a=void 0===i?"":i,o=e.isTestApi,s=void 0!==o&&o,u=t.serviceURL,c="string"==typeof u?u:s?u.test:u.main;return c=function(e,t){if(!t.key)return e;if(t.key&&!t.keyPropertyName)throw new Error("No keyPropertyName defined for explorerAPI ".concat(t.serviceName));return function(e,t,r){var n=e.includes("?")?"&":"?";return"".concat(e).concat(n).concat(t,"=").concat(r)}(e,t.keyPropertyName,t.key)}(c=c.replace(n,a),t),c}function rZ(e){return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,r){var n=e.url;n||r(new Error("URL is missing"));var i=new("undefined"==typeof XMLHttpRequest?j$:XMLHttpRequest);i.onload=function(){if(i.status>=200&&i.status<300)t(i.responseText);else{console.log(i.responseText);var e="Error fetching url:".concat(n,"; status code:").concat(i.status);r(new Error(e))}},i.ontimeout=function(e){console.log("ontimeout",e)},i.onreadystatechange=function(){404===i.status&&r(new Error("Error fetching url:".concat(n,"; status code:").concat(i.status)))},i.onerror=function(){console.error("Request failed with error ".concat(i.responseText)),r(new Error(i.responseText))},i.open(e.method||"GET",n),e.body?i.send(JSON.stringify(e.body)):i.send()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}function nZ(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}function iZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(nZ(e,n))return e.slice(n.length)}return e}var aZ=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},oZ="https://api.etherscan.io/api?module=proxy",sZ="https://api-ropsten.etherscan.io/api?module=proxy",uZ={serviceURL:{main:"".concat(oZ,"&action=eth_getTransactionByHash&txhash={transaction_id}"),test:"".concat(sZ,"&action=eth_getTransactionByHash&txhash={transaction_id}")},serviceName:G$.etherscan,parsingFunction:function(e){var t=e.jsonResponse,r=e.chain,i=e.key,a=e.keyPropertyName;return aZ(this,void 0,void 0,n().mark((function e(){var o,s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={serviceURL:{main:"".concat(oZ,"&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}"),test:"".concat(sZ,"&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}")}},s={serviceURL:{main:"".concat(oZ,"&action=eth_blockNumber"),test:"".concat(sZ,"&action=eth_blockNumber")}},e.next=3,function(e,t){return aZ(this,void 0,void 0,n().mark((function r(){var u,c,l,f;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=e.result.blockNumber,c=tZ({explorerAPI:Object.assign(Object.assign({},o),{key:i,keyPropertyName:a}),transactionId:u,isTestApi:$$(t)}),r.prev=1,r.next=4,rZ({url:c});case 4:return l=r.sent,f=JSON.parse(l).result,r.next=8,function(e,t){return aZ(this,void 0,void 0,n().mark((function r(){var o,u,c;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=tZ({explorerAPI:Object.assign(Object.assign({},s),{key:i,keyPropertyName:a}),isTestApi:$$(e)}),r.prev=1,r.next=4,rZ({url:o});case 4:u=r.sent,r.next=10;break;case 7:throw r.prev=7,r.t0=r.catch(1),new Error("Unable to get remote hash");case 10:if(!((c=JSON.parse(u).result)-t<1)){r.next=13;break}throw new Error("Not enough");case 13:return r.abrupt("return",c);case 14:case"end":return r.stop()}}),r,null,[[1,7]])})))}(t,u);case 8:return r.abrupt("return",f);case 11:throw r.prev=11,r.t0=r.catch(1),new Error("Unable to get remote hash");case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))}(t,r);case 3:return u=e.sent,e.abrupt("return",function(e,t){var r=e.result,n=new Date(1e3*parseInt(t.timestamp,16)),i=r.from;return{remoteHash:iZ(r.input,Y$.ethmain.prefixes),issuingAddress:i,time:n,revokedAddresses:[]}}(t,u));case 5:case"end":return e.stop()}}),e)})))},priority:-1};function cZ(e){return""===e?"":function(e){var t=Date.parse(e);if(t)return new Date(t);var r=function(e){var t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));var r=e.slice(-5),n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t.getTime()}(e);return r||function(e){var t,r,n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,(t=new Date(Date.UTC.apply(Date,t))).getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}("".concat(e))}function lZ(e){return new Date(1e3*e)}var fZ={serviceURL:{main:"https://api.blockcypher.com/v1/eth/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/beth/test/txs/{transaction_id}?limit=500"},serviceName:G$.blockcypher,parsingFunction:function(e){var t=e.jsonResponse;if(t.confirmations<1)throw new Error("Not enough");var r=cZ(t.received),n=t.outputs,i=n[n.length-1],a=t.inputs[0].addresses[0],o=iZ(i.script,Y$.ethmain.prefixes);return a=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(!nZ(e,n))return"".concat(n).concat(e)}return e}(a,Y$.ethmain.prefixes),{remoteHash:o,issuingAddress:a,time:r,revokedAddresses:n.filter((function(e){return!!e.spent_by})).map((function(e){return e.addresses[0]}))}},priority:-1},hZ={serviceURL:{main:"https://blockstream.info/api/tx/{transaction_id}",test:"https://blockstream.info/testnet/api/tx/{transaction_id}"},serviceName:G$.blockstream,parsingFunction:function(e){var t=e.jsonResponse;if(!t.status.confirmed)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockstream API");var r=lZ(t.status.block_time),n=t.vout,i=n[n.length-1],a=t.vout[0].scriptpubkey_address;return{remoteHash:iZ(i.scriptpubkey,Y$.bitcoin.prefixes),issuingAddress:a,time:r,revokedAddresses:n.filter((function(e){return!!e.scriptpubkey_address})).map((function(e){return e.scriptpubkey_address}))}},priority:-1},AZ={serviceURL:{main:"https://api.blockcypher.com/v1/btc/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/btc/test3/txs/{transaction_id}?limit=500"},serviceName:G$.blockcypher,parsingFunction:function(e){var t=e.jsonResponse;if(t.confirmations<1)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockcypher API");var r=cZ(t.received),n=t.outputs,i=n[n.length-1],a=t.inputs[0].addresses[0];return{remoteHash:iZ(i.script,Y$.bitcoin.prefixes),issuingAddress:a,time:r,revokedAddresses:n.filter((function(e){return!!e.spent_by})).map((function(e){return e.addresses[0]}))}},priority:-1},dZ=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function pZ(e){var t=this;return e.map((function(e){return{getTxData:function(r,i){return dZ(t,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t,r){return dZ(this,void 0,void 0,n().mark((function i(){var a,o;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=tZ({explorerAPI:e,transactionId:t,isTestApi:$$(r)}),n.prev=1,n.next=4,rZ({url:a});case 4:return o=n.sent,n.next=7,e.parsingFunction(Object.assign({jsonResponse:JSON.parse(o),chain:r},e));case 7:return n.abrupt("return",n.sent);case 10:throw n.prev=10,n.t0=n.catch(1),new Error("Unable to get remote hash");case 13:case"end":return n.stop()}}),i,null,[[1,10]])})))}(e,r,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},priority:e.priority}}))}var vZ=[AZ,hZ],gZ=[uZ,fZ];function yZ(e){var t=e.serviceUrl,r=e.transactionId;return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,n().mark((function e(){var i,a,o,s,u,c,l,f,h,A;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"eth_getTransactionByHash",jsonrpc:"2.0",id:"getbyhash",params:["0x"+r]},e.next=3,rZ({url:t,body:i,method:"POST"});case 3:return a=e.sent,o=JSON.parse(a),s={method:"eth_getBlockByNumber",jsonrpc:"2.0",id:"blockbynumber",params:[o.result.blockNumber,!0]},e.next=8,rZ({url:t,body:s,method:"POST"});case 8:return u=e.sent,c=JSON.parse(u),l=o.result,f=c.result,h=new Date(1e3*parseInt(f.timestamp,16)),A=l.from,e.abrupt("return",{remoteHash:iZ(l.input,["0x"]),issuingAddress:A,time:h,revokedAddresses:[]});case 15:case"end":return e.stop()}}),e)})))}function mZ(e){var t=e.serviceUrl,r=e.transactionId;return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,n().mark((function e(){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"getrawtransaction",jsonrpc:"2.0",id:"rpctest",params:[r,!0]},e.next=3,rZ({url:t,body:i,method:"POST"});case 3:return a=e.sent,o=JSON.parse(a).result,e.abrupt("return",{issuingAddress:o.vout[0].scriptPubKey.addresses[0],remoteHash:iZ(o.vout[1].scriptPubKey.asm,["6a20","OP_RETURN "]),time:lZ(o.blocktime),revokedAddresses:o.vout.filter((function(e){return!!e.scriptPubKey.addresses})).map((function(e){return e.scriptPubKey.addresses})).flat()});case 6:case"end":return e.stop()}}),e)})))}var bZ=[];function wZ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.map((function(e){return e.serviceName})).filter((function(e){return!!e})).filter((function(e){return!!G$[e]}));return n.length?t.reduce((function(t,i){if(n.includes(i.serviceName)){var a=Object.assign({},i),o=e.find((function(e){return e.serviceName===i.serviceName}));if(function(e){if(e.key&&!e.keyPropertyName)throw new Error("Property keyPropertyName is not set for ".concat(e.serviceName,". Cannot pass the key property to the service."));return!0}(o)){var s=Object.assign(a,o);t.push(s);var u=e.findIndex((function(e){return e.serviceName===s.serviceName}));bZ.includes(u)||bZ.push(u)}}else t.push(i);return r&&function(e,t){t.forEach((function(t){return e.splice(t,1)}))}(e,bZ),t}),[]):t}function xZ(e){var t=this;return e.map((function(e){return e.parsingFunction||(e.parsingFunction="btc"===e.chainType?mZ:yZ),e})).map((function(e){return{getTxData:function(r){return function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))}(t,void 0,void 0,n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.parsingFunction(Object.assign(Object.assign({},e),{transactionId:r}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))},priority:e.priority}}))}function kZ(e){var t,r={bitcoin:pZ(wZ(t=e,vZ)),ethereum:pZ(wZ(t,gZ))},n=r.bitcoin,i=r.ethereum,a=function(e){return{custom:xZ(e)}}(e.filter((function(e){return"rpc"===e.apiType}))).custom;return{bitcoin:n,ethereum:i,custom:[].concat(S(a),S(pZ(e.filter((function(e){return"rpc"!==e.apiType})))))}}var _Z=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))};function BZ(e,t){var r;switch(e){case Y$[W$.Bitcoin].code:case Y$[W$.Regtest].code:case Y$[W$.Testnet].code:case Y$[W$.Mocknet].code:return t.bitcoin;case Y$[W$.Ethmain].code:case Y$[W$.Ethropst].code:case Y$[W$.Ethrinkeby].code:return t.ethereum;default:if(!(null===(r=t.custom)||void 0===r?void 0:r.length))throw new Error("Chain is not natively supported. Use custom explorers to retrieve tx data.");return t.custom}}function EZ(e){return _Z(this,void 0,void 0,n().mark((function t(){var r,i,a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,eZ(e,1);case 3:r=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Error("Transaction lookup error: ".concat(t.t0.message));case 9:if(r&&0!==r.length){t.next=11;break}throw new Error("Could not confirm transaction data.");case 11:i=r[0],a=1;case 13:if(!(a<r.length)){t.next=22;break}if(o=r[a],i.issuingAddress===o.issuingAddress){t.next=17;break}throw new Error("Issuing addresses do not match consistently");case 17:if(i.remoteHash===o.remoteHash){t.next=19;break}throw new Error("Remote hashes do not match consistently");case 19:a++,t.next=13;break;case 22:return t.abrupt("return",i);case 23:case"end":return t.stop()}}),t,null,[[0,6]])})))}function SZ(e,t,r,i){return _Z(this,void 0,void 0,n().mark((function a(){var o;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=function(e,t,r){if(1>e.length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");for(var n=[],i=e.length,a=0;a<i;a++)n.push(e[a].getTxData(t,r));return n}(e[t],r,i),n.next=4,EZ(o);case 4:case 13:return n.abrupt("return",n.sent);case 7:if(n.prev=7,n.t0=n.catch(0),!(t<e.length-1)){n.next=14;break}return t++,n.next=13,SZ(e,t,r,i);case 14:throw n.t0;case 15:case"end":return n.stop()}}),a,null,[[0,7]])})))}function CZ(e){return""===e?0:function(e){var t=Date.parse(e);if(t)return new Date(t);var r=function(e){var t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));var r=e.slice(-5),n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t}(e);return r||function(e){var t,r,n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,(t=new Date(Date.UTC.apply(Date,t))).getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}("".concat(e)).getTime()}function IZ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.created?CZ(e.created):null,n=e.revoked?CZ(e.revoked):null,i=e.expires?CZ(e.expires):null,a=t;return t||(a=(e.id||e.publicKey).replace("ecdsa-koblitz-pubkey:","")),new OW(a,r,n,i)}var PZ={addresses:EW,certificates:KW,chains:MW,i18n:IW,verifier:Object.freeze({__proto__:null,getIssuerProfile:function(e){return lW(this,void 0,void 0,n().mark((function t(){var r,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=CW("errors","getIssuerProfile"),e){t.next=3;break}throw new NW("getIssuerProfile","".concat(r," - ").concat(CW("errors","issuerProfileNotSet")));case 3:if("object"==i(e)&&(e=e.id),function(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}(e)){t.next=5;break}throw new NW("getIssuerProfile","".concat(r," - ").concat(CW("errors","issuerProfileNotSet")));case 5:return t.next=7,X$({url:e}).catch((function(){throw new NW("getIssuerProfile",r)}));case 7:if(a=t.sent,function(e){var t=e.issuer_key,r=e.revocation_key,n=e.issuerKeys,i=e.revocationKeys;return!(!t||!r)||!(!n||!i)}(a=JSON.parse(a))){t.next=10;break}throw new NW("getIssuerProfile","".concat(r," - ").concat(CW("errors","issuerProfileInvalid")));case 10:return t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})))},getRevokedAssertions:function(e,t){var r;return lW(this,void 0,void 0,n().mark((function i(){var a,o,s;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",[]);case 2:return a=CW("errors","getRevokedAssertions"),t&&(e=function(e,t,r){var n=e.includes("?")?"&":"?";return"".concat(e).concat(n).concat("assertionId","=").concat(r)}(e,0,encodeURIComponent(t))),n.next=6,X$({url:e}).catch((function(){throw new NW("parseIssuerKeys",a)}));case 6:return o=n.sent,s=JSON.parse(o),n.abrupt("return",null!==(r=s.revokedAssertions)&&void 0!==r?r:[]);case 9:case"end":return n.stop()}}),i)})))},lookForTx:function(e){var t=e.transactionId,r=e.chain,i=e.explorerAPIs,a=void 0===i?[]:i;return _Z(this,void 0,void 0,n().mark((function e(){var i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kZ(a),o=function(e){var t=e.defaultAPIs,r=e.customAPIs,n=[t];if(null==r?void 0:r.length){var i=r[0].priority;n.splice(i,0,r)}if(1>t.concat(r).length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");return n}({defaultAPIs:BZ(r,i),customAPIs:i.custom}),e.next=3,SZ(o,0,t,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))},parseIssuerKeys:function(e){try{var t={};if("@context"in e)for(var r=e.publicKey||e.publicKeys,n=0;n<r.length;n++){var i=IZ(r[n]);t[i.publicKey]=i}else{var a=IZ({},(e.issuerKeys||[])[0].key);t[a.publicKey]=a}return t}catch(e){throw new NW("parseIssuerKeys",CW("errors","parseIssuerKeys"))}},parseRevocationKey:function(e){return e&&Object.prototype.hasOwnProperty.call(e,"revocationKeys")&&e.revocationKeys.length>0?e.revocationKeys[0].key:null}})},TZ={1:function(e){var t,r,n=e.certificate||e.document.certificate,a=e.recipient||e.document.recipient,o=e.document.assertion,s=e.receipt,u=void 0===s?hW.V1_1:hW.V1_2,c=n.image,l=n.description,f=n.issuer,h=n.subtitle,A=a.publicKey,d=PZ.certificates.getChain(A),p=o.expires,v=o.uid,g=o.issuedOn,y=o.metadataJson,m="".concat(a.givenName," ").concat(a.familyName),b=o.id,w=a.revocationKey||null,x=f.image,k=e.document.signature,_=function(e,t){var r=[];switch(t){case hW.V1_1:case hW.V1_2:if(e.constructor===Array)for(var n in e){var i=e[n],a="jobTitle"in i?i.jobTitle:null,o="name"in i?i.name:null,s=new LW(i.image,a,o);r.push(s)}else{var u=new LW(e,null,null);r.push(u)}break;case hW.V2_0:for(var c in e){var l=e[c],f=new LW(l.image,l.jobTitle,l.name);r.push(f)}}return r}(null===(r=null===(t=e.document)||void 0===t?void 0:t.assertion)||void 0===r?void 0:r["image:signature"],u);return"object"==i(h)&&(h=h.display?h.content:""),{certificateImage:c,chain:d,description:l,expires:p,id:v,issuedOn:g,issuer:f,metadataJson:y,name:n.title||n.name,publicKey:A,receipt:s,recipientFullName:m,recordLink:b,revocationKey:w,sealImage:x,signature:k,signatureImage:_,subtitle:h,version:u}}};function OZ(e){return lW(this,void 0,void 0,n().mark((function t(){var r,i,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=function(e){"string"==typeof e&&(e=[e]);var t=e.filter((function(e){return"string"==typeof e})).find((function(e){return e.toLowerCase().indexOf("blockcerts")>0})).split("/").filter((function(e){return""!==e})),r=Object.keys(TZ);return parseInt(r.filter((function(e){return function(e,t){return e.some((function(e){return e.includes("v".concat(t))||e.includes("".concat(t,"."))}))}(t,e.toString())}))[0],10)}(e["@context"]),1===r){t.next=5;break}return i="The document you are trying to parse is not Blockcerts V1. Please refer to cert-verifier-js to parse and verify newer versions: https://github.com/blockchain-certificates/cert-verifier-js",t.abrupt("return",(console.warn(i),{isFormatValid:!1,error:i}));case 5:return t.next=7,TZ[r](e);case 7:return a=t.sent,t.abrupt("return",(a.isFormatValid=!0,a));case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{isFormatValid:!1,error:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))}var LZ=RW((function(e,t){var r;t=e.exports=G,r="object"==i(dX)&&dX.env&&dX.env.NODE_DEBUG&&/\bsemver\b/i.test(dX.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],o=t.src=[],s=0,u=s++;o[u]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var l=s++;o[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=s++;o[f]="("+o[u]+")\\.("+o[u]+")\\.("+o[u]+")";var h=s++;o[h]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var A=s++;o[A]="(?:"+o[u]+"|"+o[l]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[l]+")";var p=s++;o[p]="(?:-("+o[A]+"(?:\\."+o[A]+")*))";var v=s++;o[v]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var m=s++,b="v?"+o[f]+o[p]+"?"+o[y]+"?";o[m]="^"+b+"$";var w="[v=\\s]*"+o[h]+o[v]+"?"+o[y]+"?",x=s++;o[x]="^"+w+"$";var k=s++;o[k]="((?:<|>)?=?)";var _=s++;o[_]=o[c]+"|x|X|\\*";var B=s++;o[B]=o[u]+"|x|X|\\*";var E=s++;o[E]="[v=\\s]*("+o[B]+")(?:\\.("+o[B]+")(?:\\.("+o[B]+")(?:"+o[p]+")?"+o[y]+"?)?)?";var S=s++;o[S]="[v=\\s]*("+o[_]+")(?:\\.("+o[_]+")(?:\\.("+o[_]+")(?:"+o[v]+")?"+o[y]+"?)?)?";var C=s++;o[C]="^"+o[k]+"\\s*"+o[E]+"$";var I=s++;o[I]="^"+o[k]+"\\s*"+o[S]+"$";var P=s++;o[P]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var T=s++;o[T]="(?:~>?)";var O=s++;o[O]="(\\s*)"+o[T]+"\\s+",a[O]=new RegExp(o[O],"g");var L=s++;o[L]="^"+o[T]+o[E]+"$";var N=s++;o[N]="^"+o[T]+o[S]+"$";var M=s++;o[M]="(?:\\^)";var U=s++;o[U]="(\\s*)"+o[M]+"\\s+",a[U]=new RegExp(o[U],"g");var F=s++;o[F]="^"+o[M]+o[E]+"$";var R=s++;o[R]="^"+o[M]+o[S]+"$";var D=s++;o[D]="^"+o[k]+"\\s*("+w+")$|^$";var j=s++;o[j]="^"+o[k]+"\\s*("+b+")$|^$";var Q=s++;o[Q]="(\\s*)"+o[k]+"\\s*("+w+"|"+o[E]+")",a[Q]=new RegExp(o[Q],"g");var H=s++;o[H]="^\\s*("+o[E]+")\\s+-\\s+("+o[E]+")\\s*$";var K=s++;o[K]="^\\s*("+o[S]+")\\s+-\\s+("+o[S]+")\\s*$";var V=s++;o[V]="(<|>)?=?\\s*\\*";for(var z=0;z<35;z++)r(z,o[z]),a[z]||(a[z]=new RegExp(o[z]));function q(e,t){if(t&&"object"==i(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?a[x]:a[m]).test(e))return null;try{return new G(e,t)}catch(e){return null}}function G(e,t){if(t&&"object"==i(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?a[x]:a[m]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=q,t.valid=function(e,t){var r=q(e,t);return r?r.version:null},t.clean=function(e,t){var r=q(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),J(this.major,e.major)||J(this.minor,e.minor)||J(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return J(n,i)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new G(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=q(e),n=q(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var a="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==n[o])return i+o;return a},t.compareIdentifiers=J;var W=/^[0-9]+$/;function J(e,t){var r=W.test(e),n=W.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function X(e,t,r){return new G(e,r).compare(new G(t,r))}function Y(e,t,r){return X(e,t,r)>0}function $(e,t,r){return X(e,t,r)<0}function Z(e,t,r){return 0===X(e,t,r)}function ee(e,t,r){return 0!==X(e,t,r)}function te(e,t,r){return X(e,t,r)>=0}function re(e,t,r){return X(e,t,r)<=0}function ne(e,t,r,n){switch(t){case"===":return"object"==i(e)&&(e=e.version),"object"==i(r)&&(r=r.version),e===r;case"!==":return"object"==i(e)&&(e=e.version),"object"==i(r)&&(r=r.version),e!==r;case"":case"=":case"==":return Z(e,r,n);case"!=":return ee(e,r,n);case">":return Y(e,r,n);case">=":return te(e,r,n);case"<":return $(e,r,n);case"<=":return re(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ie(e,t){if(t&&"object"==i(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof ie){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ie))return new ie(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ae?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return J(t,e)},t.major=function(e,t){return new G(e,t).major},t.minor=function(e,t){return new G(e,t).minor},t.patch=function(e,t){return new G(e,t).patch},t.compare=X,t.compareLoose=function(e,t){return X(e,t,!0)},t.rcompare=function(e,t,r){return X(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=Y,t.lt=$,t.eq=Z,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=ie;var ae={};function oe(e,t){if(t&&"object"==i(t)||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ie)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ue(e,t,r,n,i,a,o,s,u,c,l,f,h){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(s=se(u)?"":se(c)?"<"+(+u+1)+".0.0":se(l)?"<"+u+"."+(+c+1)+".0":f?"<="+u+"."+c+"."+l+"-"+f:"<="+s)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ae&&e[i].semver.prerelease.length>0){var a=e[i].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function fe(e,t,r,n){var i,a,o,s,u;switch(e=new G(e,n),t=new oe(t,n),r){case">":i=Y,a=re,o=$,s=">",u=">=";break;case"<":i=$,a=te,o=Y,s="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],f=null,h=null;if(l.forEach((function(e){e.semver===ae&&(e=new ie(">=0.0.0")),f=f||e,h=h||e,i(e.semver,f.semver,n)?f=e:o(e.semver,h.semver,n)&&(h=e)})),f.operator===s||f.operator===u)return!1;if((!h.operator||h.operator===s)&&a(e,h.semver))return!1;if(h.operator===u&&o(e,h.semver))return!1}return!0}ie.prototype.parse=function(e){var t=this.options.loose?a[D]:a[j],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new G(r[2],this.options.loose):this.semver=ae},ie.prototype.toString=function(){return this.value},ie.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ae||("string"==typeof e&&(e=new G(e,this.options)),ne(e,this.operator,this.semver,this.options))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Comparator is required");var r;if(t&&"object"==i(t)||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),a=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),u=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||a||o&&s||u||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?a[K]:a[H];e=e.replace(n,ue),r("hyphen replace",e),e=e.replace(a[Q],"$1$2$3"),r("comparator trim",e,a[Q]),e=(e=(e=e.replace(a[O],"$1~")).replace(a[U],"$1^")).split(/\s+/).join(" ");var i=t?a[D]:a[j],o=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?a[R]:a[F];return e.replace(n,(function(t,n,i,a,o){var s;return r("caret",e,t,n,i,a,o),se(n)?s="":se(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":se(a)?s="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":o?(r("replaceCaret pr",o),s="0"===n?"0"===i?">="+n+"."+i+"."+a+"-"+o+" <"+n+"."+i+"."+(+a+1):">="+n+"."+i+"."+a+"-"+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+a+"-"+o+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===i?">="+n+"."+i+"."+a+" <"+n+"."+i+"."+(+a+1):">="+n+"."+i+"."+a+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+a+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?a[N]:a[L];return e.replace(n,(function(t,n,i,a,o){var s;return r("tilde",e,t,n,i,a,o),se(n)?s="":se(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":se(a)?s=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":o?(r("replaceTilde pr",o),s=">="+n+"."+i+"."+a+"-"+o+" <"+n+"."+(+i+1)+".0"):s=">="+n+"."+i+"."+a+" <"+n+"."+(+i+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?a[I]:a[C];return e.replace(n,(function(t,n,i,a,o,s){r("xRange",e,t,n,i,a,o,s);var u=se(i),c=u||se(a),l=c||se(o);return"="===n&&l&&(n=""),u?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(c&&(a=0),o=0,">"===n?(n=">=",c?(i=+i+1,a=0,o=0):(a=+a+1,o=0)):"<="===n&&(n="<",c?i=+i+1:a=+a+1),t=n+i+"."+a+"."+o):c?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+a+".0 <"+i+"."+(+a+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(a[V],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o.map((function(e){return new ie(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var a=new oe(t,r)}catch(e){return null}return e.forEach((function(e){a.test(e)&&(n&&-1!==i.compare(e)||(i=new G(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var a=new oe(t,r)}catch(e){return null}return e.forEach((function(e){a.test(e)&&(n&&1!==i.compare(e)||(i=new G(n=e,r)))})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new G("0.0.0");if(e.test(r))return r;if(r=new G("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!Y(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return fe(e,t,"<",r)},t.gtr=function(e,t,r){return fe(e,t,">",r)},t.outside=fe,t.prerelease=function(e,t){var r=q(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(a[P]);return null==t?null:q(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}}));LZ.SEMVER_SPEC_VERSION,LZ.re,LZ.src,LZ.parse,LZ.valid,LZ.clean,LZ.SemVer,LZ.inc,LZ.diff,LZ.compareIdentifiers,LZ.rcompareIdentifiers,LZ.major,LZ.minor,LZ.patch,LZ.compare,LZ.compareLoose,LZ.rcompare,LZ.sort,LZ.rsort,LZ.gt,LZ.lt,LZ.eq,LZ.neq,LZ.gte,LZ.lte,LZ.cmp,LZ.Comparator,LZ.Range,LZ.toComparators,LZ.satisfies,LZ.maxSatisfying,LZ.minSatisfying,LZ.minVersion,LZ.validRange,LZ.ltr,LZ.gtr,LZ.outside,LZ.prerelease,LZ.intersects,LZ.coerce;var NZ={},MZ=NZ,UZ="function"==typeof setImmediate&&setImmediate,FZ=UZ?function(e){return UZ(e)}:function(e){return setTimeout(e,0)};function RZ(e,t,r){try{return e(t,r)}catch(e){tX((function(){throw e}))}}NZ.nextTick="object"==i(dX)?tX:FZ,NZ.setImmediate=UZ?FZ:NZ.nextTick,NZ.clone=function(e){if(e&&"object"==i(e)){var t;if(Array.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=NZ.clone(e[r])}else if(NZ.isObject(e))for(var n in t={},e)t[n]=NZ.clone(e[n]);else t=e.toString();return t}return e},NZ.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},NZ.isUndefined=function(e){return void 0===e},NZ.callbackify=function(e){return o(n().mark((function t(){var r,i,a,o,s,u=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=u.length,i=new Array(r),a=0;a<r;a++)i[a]=u[a];return"function"==typeof(o=i[i.length-1])&&i.pop(),t.prev=3,t.next=6,e.apply(null,i);case 6:s=t.sent,t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(3),"function"!=typeof o){t.next=13;break}return t.abrupt("return",RZ(o,t.t0));case 13:throw t.t0;case 14:return t.abrupt("return","function"==typeof o?RZ(o,null,s):s);case 15:case"end":return t.stop()}}),t,null,[[3,9]])})))};var DZ=function(){function e(t){s(this,e),this.prefix=t,this.counter=0,this.existing={}}return c(e,[{key:"clone",value:function(){var t=new e(this.prefix);return t.counter=this.counter,t.existing=MZ.clone(this.existing),t}},{key:"getId",value:function(e){if(e&&e in this.existing)return this.existing[e];var t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}},{key:"hasId",value:function(e){return e in this.existing}}]),e}(),jZ={options:{usePureJavaScript:!1}};jZ.md=jZ.md||{},jZ.md.algorithms=jZ.md.algorithms||{};var QZ={},HZ=QZ,KZ={};QZ.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,a=t.length,o=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<s.length;++u)c+=s[u]<<8,s[u]=c%a,c=c/a|0;for(;c>0;)s.push(c%a),c=c/a|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var o=0,s=e.at(r);o<a.length;++o)s+=a[o]<<8,a[o]=s%n,s=s/n|0;for(;s>0;)a.push(s%n),s=s/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=a.length-1;r>=0;--r)u+=t[a[r]];return u}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},QZ.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var r=KZ[t];if(!r){r=KZ[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");var i=t.length,a=t.charAt(0),o=[0];for(n=0;n<e.length;n++){var s=r[e.charCodeAt(n)];if(void 0===s)return;for(var u=0,c=s;u<o.length;++u)c+=o[u]*i,o[u]=255&c,c>>=8;for(;c>0;)o.push(255&c),c>>=8}for(var l=0;e[l]===a&&l<e.length-1;++l)o.push(0);return aJ.from(o.reverse())},RW((function(e){var t=e.exports=jZ.util=jZ.util||{};function r(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function n(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(t.isArrayBuffer(e)||t.isArrayBufferView(e))if(e instanceof aJ)this.data=e.toString("binary");else{var r=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,r)}catch(e){for(var a=0;a<r.length;++a)this.putByte(r[a])}}else(e instanceof n||"object"==i(e)&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("function"==typeof setImmediate)return t.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(t.nextTick=function(e){return setImmediate(e)});if(t.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];t.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,a=document.createElement("div");r=[],new MutationObserver((function(){var e=r.slice();r.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var o=t.setImmediate;t.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),o(e)):(r.push(e),1===r.length&&a.setAttribute("a",i=!i))}}t.nextTick=t.setImmediate}(),t.isNodejs=void 0!==dX&&dX.versions&&dX.versions.node,t.globalScope=t.isNodejs?UW:"undefined"==typeof self?window:self,t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},t.isArrayBufferView=function(e){return e&&t.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},t.ByteBuffer=n,t.ByteStringBuffer=n,t.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},t.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},t.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},t.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},t.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(t.encodeUtf8(e))},t.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},t.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},t.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},t.ByteStringBuffer.prototype.putInt=function(e,t){r(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},t.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},t.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},t.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},t.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},t.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},t.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},t.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},t.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},t.ByteStringBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},t.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},t.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},t.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},t.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},t.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},t.ByteStringBuffer.prototype.copy=function(){var e=t.createBuffer(this.data);return e.read=this.read,e},t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},t.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},t.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())},t.DataBuffer=function(e,r){r=r||{},this.read=r.readOffset||0,this.growSize=r.growSize||1024;var n=t.isArrayBuffer(e),i=t.isArrayBufferView(e);if(n||i)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in r?r.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in r&&(this.write=r.writeOffset)},t.DataBuffer.prototype.length=function(){return this.write-this.read},t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},t.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},t.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},t.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},t.DataBuffer.prototype.putBytes=function(e,r){if(t.isArrayBufferView(e)){var n=(a=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-a.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(a),this.write+=n,this}if(t.isArrayBuffer(e)){var a=new Uint8Array(e);return this.accommodate(a.byteLength),new Uint8Array(this.data.buffer).set(a,this.write),this.write+=a.byteLength,this}if(e instanceof t.DataBuffer||"object"==i(e)&&"number"==typeof e.read&&"number"==typeof e.write&&t.isArrayBufferView(e.data))return a=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(a.byteLength),new Uint8Array(e.data.byteLength,this.write).set(a),this.write+=a.byteLength,this;if(e instanceof t.ByteStringBuffer&&(e=e.data,r="binary"),r=r||"binary","string"==typeof e){var o;if("hex"===r)return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(e,o,this.write),this;if("base64"===r)return this.accommodate(3*Math.ceil(e.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(e,o,this.write),this;if("utf8"===r&&(e=t.encodeUtf8(e),r="binary"),"binary"===r||"raw"===r)return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(o),this;if("utf16"===r)return this.accommodate(2*e.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+r)}throw Error("Invalid parameter: "+e)},t.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},t.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},t.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},t.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},t.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},t.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},t.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},t.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},t.DataBuffer.prototype.putInt=function(e,t){r(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},t.DataBuffer.prototype.putSignedInt=function(e,t){return r(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},t.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},t.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},t.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},t.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},t.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},t.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},t.DataBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},t.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},t.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},t.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},t.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},t.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)},t.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},t.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},t.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},t.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},t.DataBuffer.prototype.toString=function(e){var r=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return t.binary.raw.encode(r);if("hex"===e)return t.binary.hex.encode(r);if("base64"===e)return t.binary.base64.encode(r);if("utf8"===e)return t.text.utf8.decode(r);if("utf16"===e)return t.text.utf16.decode(r);throw new Error("Invalid encoding: "+e)},t.createBuffer=function(e,r){return r=r||"raw",void 0!==e&&"utf8"===r&&(e=t.encodeUtf8(e)),new t.ByteBuffer(e)},t.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},t.xorBytes=function(e,t,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=e.charCodeAt(o)^t.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+a},t.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},t.bytesToHex=function(e){return t.createBuffer(e).toHex()},t.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode64=function(e,t){for(var r,n,i,o="",s="",u=0;u<e.length;)r=e.charCodeAt(u++),n=e.charCodeAt(u++),i=e.charCodeAt(u++),o+=a.charAt(r>>2),o+=a.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=a.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":a.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+o},t.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,a="",s=0;s<e.length;)t=o[e.charCodeAt(s++)-43],r=o[e.charCodeAt(s++)-43],n=o[e.charCodeAt(s++)-43],i=o[e.charCodeAt(s++)-43],a+=String.fromCharCode(t<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},t.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},t.decodeUtf8=function(e){return decodeURIComponent(escape(e))},t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:HZ.encode,decode:HZ.decode}},t.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},t.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,a=0;a<e.length;++a)n[i++]=e.charCodeAt(a);return t?i-r:n},t.binary.hex.encode=t.bytesToHex,t.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,a=r=r||0;for(1&e.length&&(i=1,n[a++]=parseInt(e[0],16));i<e.length;i+=2)n[a++]=parseInt(e.substr(i,2),16);return t?a-r:n},t.binary.base64.encode=function(e,t){for(var r,n,i,o="",s="",u=0;u<e.byteLength;)r=e[u++],n=e[u++],i=e[u++],o+=a.charAt(r>>2),o+=a.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=a.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":a.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+o},t.binary.base64.decode=function(e,t,r){var n,i,a,s,u=t;u||(u=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var c=0,l=r=r||0;c<e.length;)n=o[e.charCodeAt(c++)-43],i=o[e.charCodeAt(c++)-43],a=o[e.charCodeAt(c++)-43],s=o[e.charCodeAt(c++)-43],u[l++]=n<<2|i>>4,64!==a&&(u[l++]=(15&i)<<4|a>>2,64!==s&&(u[l++]=(3&a)<<6|s));return t?l-r:u.subarray(0,l)},t.binary.base58.encode=function(e,r){return t.binary.baseN.encode(e,s,r)},t.binary.base58.decode=function(e,r){return t.binary.baseN.decode(e,s,r)},t.text={utf8:{},utf16:{}},t.text.utf8.encode=function(e,r,n){e=t.encodeUtf8(e);var i=r;i||(i=new Uint8Array(e.length));for(var a=n=n||0,o=0;o<e.length;++o)i[a++]=e.charCodeAt(o);return r?a-n:i},t.text.utf8.decode=function(e){return t.decodeUtf8(String.fromCharCode.apply(null,e))},t.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),a=r=r||0,o=r,s=0;s<e.length;++s)i[o++]=e.charCodeAt(s),a+=2;return t?a-r:n},t.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},t.deflate=function(e,r,n){if(r=t.decode64(e.deflate(t.encode64(r)).rval),n){var i=2;32&r.charCodeAt(1)&&(i=6),r=r.substring(i,r.length-4)}return r},t.inflate=function(e,r,n){var i=e.inflate(t.encode64(r)).rval;return null===i?null:t.decode64(i)};var u=function(e,r,n){if(!e)throw new Error("WebStorage not available.");var i;if(null===n?i=e.removeItem(r):(n=t.encode64(JSON.stringify(n)),i=e.setItem(r,n)),void 0!==i&&!0!==i.rval){var a=new Error(i.error.message);throw a.id=i.error.id,a.name=i.error.name,a}},c=function(e,r){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(r);if(e.init)if(null===n.rval){if(n.error){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(t.decode64(n))),n},l=function(e,t,r,n){var i=c(e,t);null===i&&(i={}),i[r]=n,u(e,t,i)},f=function(e,t,r){var n=c(e,t);return null!==n&&(n=r in n?n[r]:null),n},h=function(e,t,r){var n=c(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),u(e,t,n)}},A=function(e,t){u(e,t,null)},d=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var a=!1,o=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),a="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),a=!0)}catch(e){o=e}if(a)break}if(!a)throw o;return i};t.setItem=function(e,t,r,n,i){d(l,arguments,i)},t.getItem=function(e,t,r,n){return d(f,arguments,n)},t.removeItem=function(e,t,r,n){d(h,arguments,n)},t.clearItems=function(e,t,r){d(A,arguments,r)},t.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var p=null;t.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,a,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),a=r[n].substring(o+1)):(i=r[n],a=null),i in t||(t[i]=[]),i in Object.prototype||null===a||t[i].push(unescape(a))}return t};return void 0===e?(null===p&&(p="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=p):t=r(e),t},t.parseFragment=function(e){var r=e,n="",i=e.indexOf("?");i>0&&(r=e.substring(0,i),n=e.substring(i+1));var a=r.split("/");return a.length>0&&""===a[0]&&a.shift(),{pathString:r,queryString:n,path:a,query:""===n?{}:t.getQueryVariables(n)}},t.makeRequest=function(e){var r=t.parseFragment(e),n={path:r.pathString,query:r.queryString,getPath:function(e){return void 0===e?r.path:r.path[e]},getQuery:function(e,t){var n;return void 0===e?n=r.query:(n=r.query[e])&&void 0!==t&&(n=n[t]),n},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},t.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},t.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.format=function(e){for(var t,r,n=/%./g,i=0,a=[],o=0;t=n.exec(e);){(r=e.substring(o,n.lastIndex-2)).length>0&&a.push(r),o=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[1+i++]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(e.substring(o)),a.join("")},t.formatNumber=function(e,t,r,n){var i=e,a=isNaN(t=Math.abs(t))?2:t,o=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+s:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-c).toFixed(a).slice(2):"")},t.formatSize=function(e){return e>=1073741824?t.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?t.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?t.formatNumber(e/1024,0)+" KiB":t.formatNumber(e,0)+" bytes"},t.bytesFromIP=function(e){return-1!==e.indexOf(".")?t.bytesFromIPv4(e):-1!==e.indexOf(":")?t.bytesFromIPv6(e):null},t.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var r=t.createBuffer(),n=0;n<e.length;++n){var i=parseInt(e[n],10);if(isNaN(i))return null;r.putByte(i)}return r.getBytes()},t.bytesFromIPv6=function(e){for(var r=0,n=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++r,!0}))).length+r),i=t.createBuffer(),a=0;a<8;++a)if(e[a]&&0!==e[a].length){var o=t.hexToBytes(e[a]);o.length<2&&i.putByte(0),i.putBytes(o)}else i.fillWithByte(0,n),n=0;return i.getBytes()},t.bytesToIP=function(e){return 4===e.length?t.bytesToIPv4(e):16===e.length?t.bytesToIPv6(e):null},t.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},t.bytesToIPv6=function(e){if(16!==e.length)return null;for(var r=[],n=[],i=0,a=0;a<e.length;a+=2){for(var o=t.bytesToHex(e[a]+e[a+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=n[n.length-1],u=r.length;s&&u===s.end+1?(s.end=u,s.end-s.start>n[i].end-n[i].start&&(i=n.length-1)):n.push({start:u,end:u})}r.push(o)}if(n.length>0){var c=n[i];c.end-c.start>0&&(r.splice(c.start,c.end-c.start+1,""),0===c.start&&r.unshift(""),7===c.end&&r.push(""))}return r.join(":")},t.estimateCores=function(e,r){if("function"==typeof e&&(r=e,e={}),e=e||{},"cores"in t&&!e.update)return r(null,t.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return t.cores=navigator.hardwareConcurrency,r(null,t.cores);if("undefined"==typeof Worker)return t.cores=1,r(null,t.cores);if("undefined"==typeof Blob)return t.cores=2,r(null,t.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){var t=Date.now(),r=t+4;self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(i,a,o){if(0===a){var s=Math.floor(i.reduce((function(e,t){return e+t}),0)/i.length);return t.cores=Math.max(1,s),URL.revokeObjectURL(n),r(null,t.cores)}!function(e,t){for(var r=[],i=[],a=0;a<e;++a){var o=new Worker(n);o.addEventListener("message",(function(n){if(i.push(n.data),i.length===e){for(var a=0;a<e;++a)r[a].terminate();t(null,i)}})),r.push(o)}for(a=0;a<e;++a)r[a].postMessage(a)}(o,(function(t,r){i.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],a=r[n]=[],o=0;o<e;++o)if(n!==o){var s=t[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(o,r)),e(i,a-1,o)}))}([],5,16)}})),RW((function(e){var t=e.exports=jZ.sha1=jZ.sha1||{};jZ.md.sha1=jZ.md.algorithms.sha1=t,t.create=function(){n||(r=String.fromCharCode(128),r+=jZ.util.fillString(String.fromCharCode(0),64),n=!0);var e=null,t=jZ.util.createBuffer(),a=new Array(80),o={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){o.messageLength=0,o.fullMessageLength=o.messageLength64=[];for(var r=o.messageLengthSize/4,n=0;n<r;++n)o.fullMessageLength.push(0);return t=jZ.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},o}};return o.start(),o.update=function(r,n){"utf8"===n&&(r=jZ.util.encodeUtf8(r));var s=r.length;o.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=o.fullMessageLength.length-1;u>=0;--u)o.fullMessageLength[u]+=s[1],s[1]=s[0]+(o.fullMessageLength[u]/4294967296>>>0),o.fullMessageLength[u]=o.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(r),i(e,a,t),(t.read>2048||0===t.length())&&t.compact(),o},o.digest=function(){var n=jZ.util.createBuffer();n.putBytes(t.bytes());var s,u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize&o.blockLength-1;n.putBytes(r.substr(0,o.blockLength-u));for(var c=8*o.fullMessageLength[0],l=0;l<o.fullMessageLength.length-1;++l)c+=(s=8*o.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(c>>>0),c=s>>>0;n.putInt32(c);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};i(f,a,n);var h=jZ.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h},o};var r=null,n=!1;function i(e,t,r){for(var n,i,a,o,s,u,c,l=r.length();l>=64;){for(i=e.h0,a=e.h1,o=e.h2,s=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(s^a&(o^s))+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(i<<5|i>>>27)+(a^o^s)+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(a^o^s)+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(a&o|s&(a^o))+u+2400959708+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(i<<5|i>>>27)+(a^o^s)+u+3395469782+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+a|0,e.h2=e.h2+o|0,e.h3=e.h3+s|0,e.h4=e.h4+u|0,l-=64}}})),RW((function(e){var t=e.exports=jZ.sha256=jZ.sha256||{};jZ.md.sha256=jZ.md.algorithms.sha256=t,t.create=function(){n||(r=String.fromCharCode(128),r+=jZ.util.fillString(String.fromCharCode(0),64),i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0);var e=null,t=jZ.util.createBuffer(),o=new Array(64),s={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var r=s.messageLengthSize/4,n=0;n<r;++n)s.fullMessageLength.push(0);return t=jZ.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},s}};return s.start(),s.update=function(r,n){"utf8"===n&&(r=jZ.util.encodeUtf8(r));var i=r.length;s.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var u=s.fullMessageLength.length-1;u>=0;--u)s.fullMessageLength[u]+=i[1],i[1]=i[0]+(s.fullMessageLength[u]/4294967296>>>0),s.fullMessageLength[u]=s.fullMessageLength[u]>>>0,i[0]=i[1]/4294967296>>>0;return t.putBytes(r),a(e,o,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var n=jZ.util.createBuffer();n.putBytes(t.bytes());var i,u=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize&s.blockLength-1;n.putBytes(r.substr(0,s.blockLength-u));for(var c=8*s.fullMessageLength[0],l=0;l<s.fullMessageLength.length-1;++l)c+=(i=8*s.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(c>>>0),c=i>>>0;n.putInt32(c);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};a(f,o,n);var h=jZ.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h.putInt32(f.h5),h.putInt32(f.h6),h.putInt32(f.h7),h},s};var r=null,n=!1,i=null;function a(e,t,r){for(var n,a,o,s,u,c,l,f,h,A,d,p,v,g=r.length();g>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,a=((a=t[u-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[u]=n+t[u-7]+a+t[u-16]|0;for(c=e.h0,l=e.h1,f=e.h2,h=e.h3,A=e.h4,d=e.h5,p=e.h6,v=e.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&l|f&(c^l),n=v+((A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+(p^A&(d^p))+i[u]+t[u],v=p,p=d,d=A,A=h+n>>>0,h=f,f=l,l=c,c=n+(a=o+s)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+h|0,e.h4=e.h4+A|0,e.h5=e.h5+d|0,e.h6=e.h6+p|0,e.h7=e.h7+v|0,g-=64}}}));var VZ=function(){function e(t){s(this,e),this.md=jZ.md[t].create()}return c(e,[{key:"update",value:function(e){this.md.update(e,"utf8")}},{key:"digest",value:function(){return this.md.digest().toHex()}}]),e}(),zZ=function(){function e(t){s(this,e),this.list=t.sort(),this.done=!1,this.left={};for(var r=0;r<t.length;++r)this.left[t[r]]=!0}return c(e,[{key:"hasNext",value:function(){return!this.done}},{key:"next",value:function(){for(var e=this.list.slice(),t=null,r=0,n=this.list.length,i=0;i<n;++i){var a=this.list[i],o=this.left[a];(null===t||a>t)&&(o&&i>0&&a>this.list[i-1]||!o&&i<n-1&&a>this.list[i+1])&&(t=a,r=i)}if(null===t)this.done=!0;else{var s=this.left[t]?r-1:r+1;this.list[r]=this.list[s],this.list[s]=t;for(var u=0;u<n;++u)this.list[u]>t&&(this.left[this.list[u]]=!this.left[this.list[u]])}return e}}]),e}(),qZ="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",GZ="http://www.w3.org/2001/XMLSchema#string",WZ={eoln:/(?:\r\n)|(?:\n)|(?:\r)/g};WZ.empty=new RegExp("^[ \\t]*$"),WZ.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z-----------_0-9])(?:(?:[A-Za-z-----------_0-9---.])*(?:[A-Za-z-----------_0-9---]))?))[ \\t]*\\.))[ \\t]*$');var JZ=function(){function e(){s(this,e)}return c(e,null,[{key:"parse",value:function(e){var t,r=[],n={},i=0,a=L(e.split(WZ.eoln));try{for(a.s();!(t=a.n()).done;){var o=t.value;if(i++,!WZ.empty.test(o)){var s=o.match(WZ.quad);if(null===s)throw new Error("N-Quads parse error on line "+i+".");var u={};if(void 0!==s[1]?u.subject={termType:"NamedNode",value:s[1]}:u.subject={termType:"BlankNode",value:s[2]},u.predicate={termType:"NamedNode",value:s[3]},void 0!==s[4]?u.object={termType:"NamedNode",value:s[4]}:void 0!==s[5]?u.object={termType:"BlankNode",value:s[5]}:(u.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==s[7]?u.object.datatype.value=s[7]:void 0!==s[8]?(u.object.datatype.value=qZ,u.object.language=s[8]):u.object.datatype.value=GZ,u.object.value=ZZ(s[6])),void 0!==s[9]?u.graph={termType:"NamedNode",value:s[9]}:void 0!==s[10]?u.graph={termType:"BlankNode",value:s[10]}:u.graph={termType:"DefaultGraph",value:""},u.graph.value in n){var c,l=!0,f=n[u.graph.value],h=L(f);try{for(h.s();!(c=h.n()).done;){if(XZ(c.value,u)){l=!1;break}}}catch(e){h.e(e)}finally{h.f()}l&&(f.push(u),r.push(u))}else n[u.graph.value]=[u],r.push(u)}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"serialize",value:function(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));var r,n=[],i=L(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push(e.serializeQuad(a))}}catch(e){i.e(e)}finally{i.f()}return n.sort().join("")}},{key:"serializeQuad",value:function(e){var t=e.subject,r=e.predicate,n=e.object,i=e.graph,a="";return[t,r].forEach((function(e){"NamedNode"===e.termType?a+="<"+e.value+">":a+=e.value,a+=" "})),"NamedNode"===n.termType?a+="<"+n.value+">":"BlankNode"===n.termType?a+=n.value:(a+='"'+function(e){return e.replace(YZ,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(n.value)+'"',n.datatype.value===qZ?n.language&&(a+="@"+n.language):n.datatype.value!==GZ&&(a+="^^<"+n.datatype.value+">")),"NamedNode"===i.termType?a+=" <"+i.value+">":"BlankNode"===i.termType&&(a+=" "+i.value),a+=" .\n"}},{key:"legacyDatasetToQuads",value:function(e){var t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"},n=function(n){e[n].forEach((function(e){var i={};for(var a in e){var o=e[a],s={termType:r[o.type],value:o.value};"Literal"===s.termType&&(s.datatype={termType:"NamedNode"},"datatype"in o&&(s.datatype.value=o.datatype),"language"in o?("datatype"in o||(s.datatype.value=qZ),s.language=o.language):"datatype"in o||(s.datatype.value=GZ)),i[a]=s}i.graph="@default"===n?{termType:"DefaultGraph",value:""}:{termType:n.startsWith("_:")?"BlankNode":"NamedNode",value:n},t.push(i)}))};for(var i in e)n(i);return t}}]),e}();function XZ(e,t){for(var r in e)if(e[r].termType!==t[r].termType||e[r].value!==t[r].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}var YZ=/["\\\n\r]/g,$Z=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function ZZ(e){return e.replace($Z,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))}var e0,t0={subject:"s",object:"o",graph:"g"},r0=function(e){f(r,e);var t=w(r);function r(e){var n;return s(this,r),(n=t.call(this,e=e||{})).name="URDNA2015",n.options=Object.assign({},e),n.blankNodeInfo={},n.hashToBlankNodes={},n.canonicalIssuer=new DZ("_:c14n"),n.hashAlgorithm="sha256",n.quads,n}return c(r,[{key:"main",value:function(e,t){var r,n=this;n.schedule.start=Date.now(),n.quads=e;var i={};n.waterfall([function(t){n.forEach(e,(function(e,t,r){n.forEachComponent(e,(function(t){if("BlankNode"===t.termType){var r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(i[r]=!0,n.blankNodeInfo[r]={quads:[e]})}})),r()}),t)},function(e){var t=!0;n.whilst((function(){return t}),(function(e){t=!1,n.hashToBlankNodes={},n.waterfall([function(e){n.forEach(i,(function(e,t,r){n.hashFirstDegreeQuads(t,(function(e,i){if(e)return r(e);i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],r()}))}),e)},function(e){var r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,(function(e,r,a){var o=n.hashToBlankNodes[e];if(o.length>1)return a();var s=o[0];n.canonicalIssuer.getId(s),delete i[s],delete n.hashToBlankNodes[e],t=!0,a()}),e)}],e)}),e)},function(e){var t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,(function(e,t,r){var i=[],a=n.hashToBlankNodes[e];n.waterfall([function(e){n.forEach(a,(function(e,t,r){if(n.canonicalIssuer.hasId(e))return r();var a=new DZ("_:b");a.getId(e),n.hashNDegreeQuads(e,a,(function(e,t){if(e)return r(e);i.push(t),r()}))}),e)},function(e){i.sort((function(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0})),n.forEach(i,(function(e,t,r){for(var i in e.issuer.existing)n.canonicalIssuer.getId(i);r()}),e)}],r)}),e)},function(e){var t=[];n.waterfall([function(e){n.forEach(n.quads,(function(e,r,i){n.forEachComponent(e,(function(e){"BlankNode"!==e.termType||e.value.startsWith(n.canonicalIssuer.prefix)||(e.value=n.canonicalIssuer.getId(e.value))})),t.push(JZ.serializeQuad(e)),i()}),e)},function(e){return t.sort(),r=t.join(""),e()}],e)}],(function(e){return t(e,r)}))}},{key:"hashFirstDegreeQuads",value:function(e,t){var r=this,n=r.blankNodeInfo[e];if("hash"in n)return t(null,n.hash);var i=[],a=n.quads;r.forEach(a,(function(t,n,a){var o={predicate:t.predicate};r.forEachComponent(t,(function(t,n){o[n]=r.modifyFirstDegreeComponent(e,t,n)})),i.push(JZ.serializeQuad(o)),a()}),(function(e){if(e)return t(e);i.sort();for(var a=new VZ(r.hashAlgorithm),o=0;o<i.length;++o)a.update(i[o]);n.hash=a.digest(),t(null,n.hash)}))}},{key:"hashRelatedBlankNode",value:function(e,t,r,n,i){var a,o=this;o.waterfall([function(t){return o.canonicalIssuer.hasId(e)?(a=o.canonicalIssuer.getId(e),t()):r.hasId(e)?(a=r.getId(e),t()):void o.hashFirstDegreeQuads(e,(function(e,r){if(e)return t(e);a=r,t()}))}],(function(e){if(e)return i(e);var r=new VZ(o.hashAlgorithm);return r.update(n),"g"!==n&&r.update(o.getRelatedPredicate(t)),r.update(a),i(null,r.digest())}))}},{key:"hashNDegreeQuads",value:function(e,t,r){var n,i=this,a=new VZ(i.hashAlgorithm);i.waterfall([function(r){return i.createHashToRelated(e,t,(function(e,t){if(e)return r(e);n=t,r()}))},function(e){var r=Object.keys(n).sort();i.forEach(r,(function(e,r,o){a.update(e);var s,u="",c=new zZ(n[e]);i.whilst((function(){return c.hasNext()}),(function(e){var r=c.next(),n=t.clone(),a="",o=[];i.waterfall([function(t){i.forEach(r,(function(t,r,s){if(i.canonicalIssuer.hasId(t)?a+=i.canonicalIssuer.getId(t):(n.hasId(t)||o.push(t),a+=n.getId(t)),0!==u.length&&a>u)return e();s()}),t)},function(t){i.forEach(o,(function(t,r,o){i.hashNDegreeQuads(t,n,(function(r,i){return r?o(r):(a+=n.getId(t),a+="<"+i.hash+">",n=i.issuer,0!==u.length&&a>u?e():void o())}))}),t)},function(e){(0===u.length||a<u)&&(u=a,s=n),e()}],e)}),(function(e){if(e)return o(e);a.update(u),t=s,o()}))}),e)}],(function(e){r(e,{hash:a.digest(),issuer:t})}))}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType||((t=MZ.clone(t)).value=t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return"<"+e.predicate.value+">"}},{key:"createHashToRelated",value:function(e,t,r){var n=this,i={},a=n.blankNodeInfo[e].quads;n.forEach(a,(function(r,a,o){n.forEach(r,(function(a,o,s){if("predicate"===o||"BlankNode"!==a.termType||a.value===e)return s();var u=a.value,c=t0[o];n.hashRelatedBlankNode(u,r,t,c,(function(e,t){if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()}))}),o)}),(function(e){return r(e,i)}))}},{key:"forEachComponent",value:function(e,t){for(var r in e)"predicate"!==r&&t(e[r],r,e)}}]),r}(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.maxCallStackDepth,n=void 0===r?500:r,i=t.maxTotalCallStackDepth,a=void 0===i?4294967295:i,o=t.timeSlice,u=void 0===o?10:o;s(this,e),this.schedule={},this.schedule.MAX_DEPTH=n,this.schedule.MAX_TOTAL_DEPTH=a,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=u}return c(e,[{key:"doWork",value:function(e,t){var r=this.schedule;if(r.totalDepth>=r.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function n(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,MZ.nextTick(n);var i=Date.now();if(r.running||(r.start=Date.now(),r.deadline=r.start+r.timeSlice),i<r.deadline)return r.running=!0,r.depth++,r.totalDepth++,e((function(e,n){r.depth--,r.totalDepth--,t(e,n)}));r.depth=0,r.running=!1,MZ.setImmediate(n)}()}},{key:"forEach",value:function(e,t,r){var n,i,a=this,o=0;if(Array.isArray(e))i=e.length,n=function(){return o!==i&&(n.value=e[o++],n.key=o,!0)};else{var s=Object.keys(e);i=s.length,n=function(){return o!==i&&(n.key=s[o++],n.value=e[n.key],!0)}}!function e(i){return i?r(i):n()?a.doWork((function(){return t(n.value,n.key,e)})):void r()}()}},{key:"waterfall",value:function(e,t){var r=this;r.forEach(e,(function(e,t,n){return r.doWork(e,n)}),t)}},{key:"whilst",value:function(e,t,r){var n=this;!function i(a){return a?r(a):e()?void n.doWork(t,i):r()}()}}]),e}()),n0=function(e){f(r,e);var t=w(r);function r(e){var n;return s(this,r),(n=t.call(this,e)).name="URGNA2012",n.hashAlgorithm="sha1",n}return c(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType||((t=MZ.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t,r){var n=this,i={},a=n.blankNodeInfo[e].quads;n.forEach(a,(function(r,a,o){var s,u;if("BlankNode"===r.subject.termType&&r.subject.value!==e)u=r.subject.value,s="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)return o();u=r.object.value,s="r"}n.hashRelatedBlankNode(u,r,t,s,(function(e,t){if(e)return o(e);t in i?i[t].push(u):i[t]=[u],o()}))}),(function(e){return r(e,i)}))}}]),r}(r0),i0={subject:"s",object:"o",graph:"g"},a0=function(){function e(){s(this,e),this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new DZ("_:c14n"),this.hashAlgorithm="sha256",this.quads}return c(e,[{key:"main",value:function(e){var t=this;t.quads=e;var r,n={},i=L(e);try{var a=function(){var e=r.value;t.forEachComponent(e,(function(r){if("BlankNode"===r.termType){var i=r.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(e):(n[i]=!0,t.blankNodeInfo[i]={quads:[e]})}}))};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}for(var o=!0;o;){for(var s in o=!1,t.hashToBlankNodes={},n){var u=t.hashFirstDegreeQuads(s);u in t.hashToBlankNodes?t.hashToBlankNodes[u].push(s):t.hashToBlankNodes[u]=[s]}for(var c=Object.keys(t.hashToBlankNodes).sort(),l=0;l<c.length;++l){var f=c[l],h=t.hashToBlankNodes[f];if(!(h.length>1)){var A=h[0];t.canonicalIssuer.getId(A),delete n[A],delete t.hashToBlankNodes[f],o=!0}}}for(var d=Object.keys(t.hashToBlankNodes).sort(),p=0;p<d.length;++p){for(var v=[],g=d[p],y=t.hashToBlankNodes[g],m=0;m<y.length;++m){var b=y[m];if(!t.canonicalIssuer.hasId(b)){var w=new DZ("_:b");w.getId(b);var x=t.hashNDegreeQuads(b,w);v.push(x)}}v.sort((function(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}));for(var k=0;k<v.length;++k){var _=v[k];for(var B in _.issuer.existing)t.canonicalIssuer.getId(B)}}for(var E=[],S=0;S<t.quads.length;++S){var C=t.quads[S];t.forEachComponent(C,(function(e){"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))})),E.push(JZ.serializeQuad(C))}return E.sort(),E.join("")}},{key:"hashFirstDegreeQuads",value:function(e){var t=this,r=t.blankNodeInfo[e];if("hash"in r)return r.hash;for(var n=[],i=r.quads,a=function(r){var a=i[r],o={predicate:a.predicate};t.forEachComponent(a,(function(r,n){o[n]=t.modifyFirstDegreeComponent(e,r,n)})),n.push(JZ.serializeQuad(o))},o=0;o<i.length;++o)a(o);n.sort();for(var s=new VZ(t.hashAlgorithm),u=0;u<n.length;++u)s.update(n[u]);return r.hash=s.digest(),r.hash}},{key:"hashRelatedBlankNode",value:function(e,t,r,n){var i,a=this;i=a.canonicalIssuer.hasId(e)?a.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):a.hashFirstDegreeQuads(e);var o=new VZ(a.hashAlgorithm);return o.update(n),"g"!==n&&o.update(a.getRelatedPredicate(t)),o.update(i),o.digest()}},{key:"hashNDegreeQuads",value:function(e,t){for(var r=this,n=new VZ(r.hashAlgorithm),i=r.createHashToRelated(e,t),a=Object.keys(i).sort(),o=0;o<a.length;++o){var s=a[o];n.update(s);for(var u=void 0,c="",l=new zZ(i[s]);l.hasNext();){for(var f=l.next(),h=t.clone(),A="",d=[],p=!1,v=0;v<f.length;++v){var g=f[v];if(r.canonicalIssuer.hasId(g)?A+=r.canonicalIssuer.getId(g):(h.hasId(g)||d.push(g),A+=h.getId(g)),0!==c.length&&A>c){p=!0;break}}if(!p){for(var y=0;y<d.length;++y){var m=d[y],b=r.hashNDegreeQuads(m,h);if(A+=h.getId(m),A+="<"+b.hash+">",h=b.issuer,0!==c.length&&A>c){p=!0;break}}p||(0===c.length||A<c)&&(c=A,u=h)}}n.update(c),t=u}return{hash:n.digest(),issuer:t}}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType||((t=MZ.clone(t)).value=t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return"<"+e.predicate.value+">"}},{key:"createHashToRelated",value:function(e,t){for(var r={},n=this.blankNodeInfo[e].quads,i=0;i<n.length;++i){var a=n[i];for(var o in a){var s=a[o];if("predicate"!==o&&"BlankNode"===s.termType&&s.value!==e){var u=s.value,c=i0[o],l=this.hashRelatedBlankNode(u,a,t,c);l in r?r[l].push(u):r[l]=[u]}}}return r}},{key:"forEachComponent",value:function(e,t){for(var r in e)"predicate"!==r&&t(e[r],r,e)}}]),e}(),o0=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return c(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType||((t=MZ.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z"),t}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t){for(var r={},n=this.blankNodeInfo[e].quads,i=0;i<n.length;++i){var a=n[i],o=void 0,s=void 0;if("BlankNode"===a.subject.termType&&a.subject.value!==e)s=a.subject.value,o="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;s=a.object.value,o="r"}var u=this.hashRelatedBlankNode(s,a,t,o);u in r?r[u].push(s):r[u]=[s]}return r}}]),r}(a0),s0=DW(Object.freeze({__proto__:null,default:{}}));try{e0=s0}catch(e){}var u0={},c0=u0;u0.NQuads=JZ,u0.IdentifierIssuer=DZ,u0._rdfCanonizeNative=function(e){return e&&(e0=e),e0},u0.canonize=MZ.callbackify(function(){var e=o(n().mark((function e(t,r){var i,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Promise((function(e,t){i=function(r,n){if(r)return t(r);e(n)}})),Array.isArray(t)||(t=u0.NQuads.legacyDatasetToQuads(t)),!r.useNative){e.next=7;break}if(e0){e.next=4;break}throw new Error("rdf-canonize-native not available");case 4:e0.canonize(t,r,i),e.next=14;break;case 7:if("URDNA2015"!==r.algorithm){e.next=11;break}new r0(r).main(t,i),e.next=14;break;case 11:if("URGNA2012"===r.algorithm){e.next=13;break}throw"algorithm"in r?new Error("Invalid RDF Dataset Canonicalization algorithm: "+r.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");case 13:new n0(r).main(t,i);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),u0.canonizeSync=function(e,t){if(Array.isArray(e)||(e=u0.NQuads.legacyDatasetToQuads(e)),t.useNative){if(e0)return e0.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a0(t).main(e);if("URGNA2012"===t.algorithm)return new o0(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)};var l0={},f0=l0;l0.isArray=Array.isArray,l0.isBoolean=function(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},l0.isDouble=function(e){return l0.isNumber(e)&&-1!==String(e).indexOf(".")},l0.isEmptyObject=function(e){return l0.isObject(e)&&0===Object.keys(e).length},l0.isNumber=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},l0.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},l0.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},l0.isString=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},l0.isUndefined=function(e){return void 0===e};var h0={},A0=h0;h0.isSubject=function(e){return!(!f0.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},h0.isSubjectReference=function(e){return f0.isObject(e)&&1===Object.keys(e).length&&"@id"in e},h0.isValue=function(e){return f0.isObject(e)&&"@value"in e},h0.isList=function(e){return f0.isObject(e)&&"@list"in e},h0.isGraph=function(e){return f0.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((function(e){return"@id"!==e&&"@index"!==e})).length},h0.isSimpleGraph=function(e){return h0.isGraph(e)&&!("@id"in e)},h0.isBlankNode=function(e){return!!f0.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))};var d0=function(e){f(r,e);var t=w(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,r),(e=t.call(this,n)).name=i,e.message=n,e.details=a,e}return c(r)}(v(Error)),p0=c0.IdentifierIssuer,v0=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,g0=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,y0=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,m0="application/ld+json, application/json",b0={},w0=b0;b0.IdentifierIssuer=p0;var x0="function"==typeof setImmediate&&setImmediate,k0=x0?function(e){return x0(e)}:function(e){return setTimeout(e,0)};function _0(e,t,r){b0.nextTick((function(){return e(t,r)}))}function B0(e,t){if(f0.isArray(t))for(var r=0;r<t.length;++r)t[r]=B0(e,t[r]);else if(A0.isList(t))t["@list"]=B0(e,t["@list"]);else if(f0.isObject(t)){A0.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];"@id"!==a&&(t[a]=B0(e,t[a]))}}return t}b0.nextTick="object"==i(dX)?tX:k0,b0.setImmediate=x0?k0:b0.nextTick,b0.clone=function(e){if(e&&"object"==i(e)){var t;if(f0.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=b0.clone(e[r])}else if(e instanceof Map){t=new Map;var n,a=L(e);try{for(a.s();!(n=a.n()).done;){var o=B(n.value,2),s=o[0],u=o[1];t.set(s,b0.clone(u))}}catch(e){a.e(e)}finally{a.f()}}else if(e instanceof Set){t=new Set;var c,l=L(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;t.add(b0.clone(f))}}catch(e){l.e(e)}finally{l.f()}}else if(f0.isObject(e))for(var h in t={},e)t[h]=b0.clone(e[h]);else t=e.toString();return t}return e},b0.asArray=function(e){return Array.isArray(e)?e:[e]},b0.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).some((function(e){return"accept"===e.toLowerCase()})))throw new RangeError('Accept header may not be specified; only "'+m0+'" is supported.');return Object.assign({Accept:m0},e)},b0.parseLinkHeader=function(e){for(var t={},r=e.match(v0),n=0;n<r.length;++n){var i=r[n].match(g0);if(i){for(var a={target:i[1]},o=i[2];i=y0.exec(o);)a[i[1]]=void 0===i[2]?i[3]:i[2];var s=a.rel||"";Array.isArray(t[s])?t[s].push(a):t.hasOwnProperty(s)?t[s]=[t[s],a]:t[s]=a}}return t},b0.validateTypeValue=function(e){if(!f0.isString(e)&&!f0.isEmptyObject(e)){var t=!1;if(f0.isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!f0.isString(e[r])){t=!1;break}}if(!t)throw new d0('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},b0.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var r=e[t];return!f0.isArray(r)||r.length>0}return!1},b0.hasValue=function(e,t,r){if(b0.hasProperty(e,t)){var n=e[t],i=A0.isList(n);if(f0.isArray(n)||i){i&&(n=n["@list"]);for(var a=0;a<n.length;++a)if(b0.compareValues(r,n[a]))return!0}else if(!f0.isArray(r))return b0.compareValues(r,n)}return!1},b0.addValue=function(e,t,r,n){if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),n.valueIsArray)e[t]=r;else if(f0.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]);for(var i=0;i<r.length;++i)b0.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){var a=!n.allowDuplicate&&b0.hasValue(e,t,r);f0.isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},b0.getValues=function(e,t){return[].concat(e[t]||[])},b0.removeProperty=function(e,t){delete e[t]},b0.removeValue=function(e,t,r,n){"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);var i=b0.getValues(e,t).filter((function(e){return!b0.compareValues(e,r)}));0===i.length?b0.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},b0.relabelBlankNodes=function(e,t){return B0((t=t||{}).issuer||new p0("_:b"),e)},b0.compareValues=function(e,t){return e===t||!(!A0.isValue(e)||!A0.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(f0.isObject(e)&&"@id"in e&&f0.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]},b0.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},b0.normalizeDocumentLoader=function(e){return e.length<2?b0.callbackify(e):function(){var t=o(n().mark((function t(r){var i,a=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a[1],t.abrupt("return",new Promise((function(t,n){try{e(r,(function(e,r){if("function"==typeof i)return _0(i,e,r);e?n(e):t(r)}))}catch(e){if("function"==typeof i)return _0(i,e);n(e)}})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b0.callbackify=function(e){return o(n().mark((function t(){var r,i,a,o,s,u=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=u.length,i=new Array(r),a=0;a<r;a++)i[a]=u[a];return"function"==typeof(o=i[i.length-1])&&i.pop(),t.prev=3,t.next=6,e.apply(null,i);case 6:s=t.sent,t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(3),"function"!=typeof o){t.next=13;break}return t.abrupt("return",_0(o,t.t0));case 13:throw t.t0;case 14:return t.abrupt("return","function"==typeof o?_0(o,null,s):s);case 15:case"end":return t.stop()}}),t,null,[[3,9]])})))};var E0,S0=c0.NQuads,C0="http://www.w3.org/1999/02/22-rdf-syntax-ns#",I0="http://www.w3.org/2001/XMLSchema#",P0={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:C0,RDF_LIST:C0+"List",RDF_FIRST:C0+"first",RDF_REST:C0+"rest",RDF_NIL:C0+"nil",RDF_TYPE:C0+"type",RDF_PLAIN_LITERAL:C0+"PlainLiteral",RDF_XML_LITERAL:C0+"XMLLiteral",RDF_JSON_LITERAL:C0+"JSON",RDF_OBJECT:C0+"object",RDF_LANGSTRING:C0+"langString",XSD:I0,XSD_BOOLEAN:I0+"boolean",XSD_DOUBLE:I0+"double",XSD_INTEGER:I0+"integer",XSD_STRING:I0+"string"},T0=P0.RDF_LANGSTRING,O0=P0.RDF_PLAIN_LITERAL,L0=P0.RDF_OBJECT,N0=P0.RDF_XML_LITERAL,M0=P0.XSD_STRING;E0="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var U0=w0.clone,F0={},R0=F0;F0.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},F0.parse=function(e,t){for(var r={},n=F0.parsers[t||"full"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=F0.removeDotSegments(r.path),r},F0.prependBase=function(e,t){if(null===e)return t;if(-1!==t.indexOf(":"))return t;f0.isString(e)&&(e=F0.parse(e||""));var r=F0.parse(t),n={protocol:e.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,""===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{var i=e.path;(i=i.substr(0,i.lastIndexOf("/")+1)).length>0&&"/"!==i.substr(-1)&&(i+="/"),i+=r.path,n.path=i}n.query=r.query}""!==r.path&&(n.path=F0.removeDotSegments(n.path));var a=n.protocol;return null!==n.authority&&(a+="//"+n.authority),a+=n.path,null!==n.query&&(a+="?"+n.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},F0.removeBase=function(e,t){if(null===e)return t;f0.isString(e)&&(e=F0.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;for(var n=F0.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),a=n.normalizedPath.split("/"),o=n.fragment||n.query?0:1;i.length>0&&a.length>o&&i[0]===a[0];)i.shift(),a.shift();var s="";if(i.length>0){i.pop();for(var u=0;u<i.length;++u)s+="../"}return s+=a.join("/"),null!==n.query&&(s+="?"+n.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s},F0.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),r=[];t.length>0;){var n=t.shift(),i=0===t.length;"."!==n?".."!==n?r.push(n):(r.pop(),i&&r.push("")):i&&r.push("")}return r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};var D0=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;F0.isAbsolute=function(e){return f0.isString(e)&&D0.test(e)},F0.isRelative=function(e){return f0.isString(e)};var j0=f0.isArray,Q0=f0.isObject,H0=f0.isString,K0=f0.isUndefined,V0=R0.isAbsolute,z0=R0.isRelative,q0=R0.prependBase,G0=R0.parse,W0=w0.asArray,J0=w0.compareShortestLeast,X0=new Map,Y0={},$0=Y0;function Z0(e,t,r,n,i,a){if(null===t||!H0(t)||Y0.isKeyword(t))return t;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&Y0.createTermDefinition(e,n,t,i,a),e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext),(r=r||{}).vocab){var o=e.mappings.get(t);if(null===o)return null;if(o)return o["@id"]}var s=t.indexOf(":");if(-1!==s){var u=t.substr(0,s),c=t.substr(s+1);return"_"===u||0===c.indexOf("//")?t:(n&&n.hasOwnProperty(u)&&Y0.createTermDefinition(e,n,u,i,a),e.mappings.has(u)?e.mappings.get(u)["@id"]+c:t)}return r.vocab&&"@vocab"in e?e["@vocab"]+t:r.base?q0(e["@base"],t):t}function e1(e,t,r,n){if(j0(e)){var i,a=L(e);try{for(a.s();!(i=a.n()).done;){e1(i.value,t,r,n)}}catch(e){a.e(e)}finally{a.f()}}else if(Q0(e))for(var o in e)if("@context"===o){var s=e[o];if(j0(s))for(var u=s.length,c=0;c<u;++c){var l=s[c];if(H0(l)){var f=q0(n,l),h=t.get(f);r?j0(h)?(Array.prototype.splice.apply(s,[c,1].concat(h)),c+=h.length-1,u=s.length):!1!==h&&(s[c]=h):void 0===h&&t.set(f,!1)}else for(var A in l)Q0(l[A])&&e1(l[A],t,r,n)}else if(H0(s)){var d=q0(n,s),p=t.get(d);r?!1!==p&&(e[o]=p):void 0===p&&t.set(d,!1)}else for(var v in s)Q0(s[v])&&e1(s[v],t,r,n)}else e1(e[o],t,r,n)}function t1(e,t){if(!e||"object"!=i(e)||!t||"object"!=i(t))return e===t;var r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!t1(e[n],t[n]))return!1;return!0}var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s in e){var u=e[s],c=t[s];if("@container"===s&&Array.isArray(u)&&Array.isArray(c)&&(u=u.slice().sort(),c=c.slice().sort()),!t1(u,c))return!1}return!0}Y0.cache=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;s(this,e),this.order=[],this.cache=new Map,this.size=t}return c(e,[{key:"get",value:function(e,t){var r=this.cache.get(e);if(r){var n=JSON.stringify(t);return r.get(n)||null}return null}},{key:"set",value:function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();this.cache.get(n.activeCtx).delete(n.localCtx)}var i=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:i});var a=this.cache.get(e);a||(a=new Map,this.cache.set(e,a)),a.set(i,U0(r))}}]),e}()),Y0.process=function(e){var t=e.activeCtx,r=e.localCtx,n=e.options,i=e.isPropertyTermScopedContext,a=void 0!==i&&i,o=e.isTypeScopedContext,s=void 0!==o&&o;Q0(r)&&"@context"in r&&j0(r["@context"])&&(r=r["@context"]);var u=W0(r);if(0===u.length)return t;var c=t.previousContext||t;if(a&&t.previousContext)return(t=t.clone()).isPropertyTermScoped=!0,t.previousContext=Y0.process({activeCtx:t.previousContext,localCtx:u,options:n,isPropertyTermScopedContext:a}),t;for(var l=t,f=0;f<u.length;++f){var h=u[f];if(t=l,null!==h){if(Y0.cache){var A=Y0.cache.get(t,h);if(A){l=t=A;continue}}if(Q0(h)&&"@context"in h&&(h=h["@context"]),!Q0(h))throw new d0("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:h});l=l.clone();var d=new Map;if("@version"in h){if(1.1!==h["@version"])throw new d0("Unsupported JSON-LD version: "+h["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:h});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new d0("@version: "+h["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:h});l.processingMode="json-ld-1.1",l["@version"]=h["@version"],d.set("@version",!0)}if(l.processingMode=l.processingMode||t.processingMode||"json-ld-1.0","@base"in h){var p=h["@base"];if(null===p);else if(V0(p))p=G0(p);else{if(!z0(p))throw new d0('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:h});p=G0(q0(t["@base"].href,p))}l["@base"]=p,d.set("@base",!0)}if("@vocab"in h){var v=h["@vocab"];if(null===v)delete l["@vocab"];else{if(!H0(v))throw new d0('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:h});if(!V0(v))throw new d0('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:h});l["@vocab"]=v}d.set("@vocab",!0)}if("@language"in h){var g=h["@language"];if(null===g)delete l["@language"];else{if(!H0(g))throw new d0('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:h});l["@language"]=g.toLowerCase()}d.set("@language",!0)}for(var y in d.set("@protected",h["@protected"]||!1),h)Y0.createTermDefinition(l,h,y,d,n,a);s&&!l.previousContext&&(l.previousContext=c.clone()),Y0.cache&&Y0.cache.set(t,h,l)}else{if(!a&&0!==Object.keys(t.protected).length){var m=n&&n.protectedMode||"error";if("error"===m)throw new d0("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===m){console.warn("WARNING: invalid context nullification");var b=t;l=t=Y0.getInitialContext(n).clone();for(var w=0,x=Object.entries(b.protected);w<x.length;w++){var k=B(x[w],2),_=k[0];k[1]&&(t.mappings[_]=w0.clone(b.mappings[_]))}t.protected=w0.clone(b.protected),Y0.cache&&Y0.cache.set(b,h,l);continue}throw new d0("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:r,protectedMode:m})}l=t=Y0.getInitialContext(n).clone(),s&&(l.previousContext=c.clone())}}return l},Y0.createTermDefinition=function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n.has(r)){if(n.get(r))return;throw new d0("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n.set(r,!1),Y0.isKeyword(r))throw new d0("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new d0("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var o,s=e.mappings.get(r);if(e.mappings.has(r)&&e.mappings.delete(r),t.hasOwnProperty(r)&&(o=t[r]),null===o||Q0(o)&&null===o["@id"])return e.mappings.set(r,null),void n.set(r,!0);var u=!1;if(H0(o)&&(u=!0,o={"@id":o}),!Q0(o))throw new d0("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var c={};e.mappings.set(r,c),c.reverse=!1;var l=["@container","@id","@language","@reverse","@type"];for(var f in Y0.processingMode(e,1.1)&&l.push("@context","@nest","@prefix","@protected"),o)if(!l.includes(f))throw new d0("Invalid JSON-LD syntax; a term definition must not contain "+f,"jsonld.SyntaxError",{code:"invalid term definition",context:t});var h=r.indexOf(":");if(c._termHasColon=-1!==h,"@reverse"in o){if("@id"in o)throw new d0("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in o)throw new d0("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});var A=o["@reverse"];if(!H0(A))throw new d0("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});var d=Z0(e,A,{vocab:!0,base:!1},t,n,i);if(!V0(d))throw new d0("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=d,c.reverse=!0}else if("@id"in o){var p=o["@id"];if(!H0(p))throw new d0("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(p!==r){if(p=Z0(e,p,{vocab:!0,base:!1},t,n,i),!V0(p)&&!Y0.isKeyword(p))throw new d0("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=p,c._prefix=!c._termHasColon&&p.match(/[:\/\?#\[\]@]$/)&&(u||Y0.processingMode(e,1))}}if(!("@id"in c))if(c._termHasColon){var v=r.substr(0,h);if(t.hasOwnProperty(v)&&Y0.createTermDefinition(e,t,v,n,i),e.mappings.has(v)){var g=r.substr(h+1);c["@id"]=e.mappings.get(v)["@id"]+g}else c["@id"]=r}else{if(!("@vocab"in e))throw new d0("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});c["@id"]=e["@vocab"]+r}if((!0===o["@protected"]||!0===n.get("@protected")&&!1!==o["@protected"])&&(e.protected[r]=!0,c.protected=!0),n.set(r,!0),"@type"in o){var y=o["@type"];if(!H0(y))throw new d0("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==y&&"@vocab"!==y&&"@json"!==y){if(y=Z0(e,y,{vocab:!0,base:!1},t,n,i),!V0(y))throw new d0("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===y.indexOf("_:"))throw new d0("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}c["@type"]=y}if("@container"in o){var m=H0(o["@container"])?[o["@container"]]:o["@container"]||[],b=["@list","@set","@index","@language"],w=!0,x=m.includes("@set");if(Y0.processingMode(e,1.1))if(b.push("@graph","@id","@type"),m.includes("@list")){if(1!==m.length)throw new d0("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(m.includes("@graph")){if(m.some((function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e})))throw new d0("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else w&=m.length<=(x?2:1);else w&=!j0(o["@container"]),w&=m.length<=1;if(w&=m.every((function(e){return b.includes(e)})),!(w&=!(x&&m.includes("@list"))))throw new d0("Invalid JSON-LD syntax; @context @container value must be one of the following: "+b.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(c.reverse&&!m.every((function(e){return["@index","@set"].includes(e)})))throw new d0("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});c["@container"]=m}if("@context"in o&&(c["@context"]=o["@context"]),"@language"in o&&!("@type"in o)){var k=o["@language"];if(null!==k&&!H0(k))throw new d0("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==k&&(k=k.toLowerCase()),c["@language"]=k}if("@prefix"in o){if(c._termHasColon)throw new d0("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof o["@prefix"])throw new d0("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});c._prefix=!0===o["@prefix"]}if("@nest"in o){var _=o["@nest"];if(!H0(_)||"@nest"!==_&&0===_.indexOf("@"))throw new d0("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});c["@nest"]=_}// disallow aliasing @context and @preserve
var B=c["@id"];if("@context"===B||"@preserve"===B)throw new d0("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!a&&(e.protected[r]=!0,c.protected=!0,!t1(s,c))){var E=i&&i.protectedMode||"error";if("error"===E)throw new d0("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===E)return void console.warn("WARNING: protected term redefinition",{term:r});throw new d0("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:E})}},Y0.expandIri=function(e,t,r,n){return Z0(e,t,r,void 0,void 0,n)},Y0.getInitialContext=function(e){var t=G0(e.base||""),r=JSON.stringify({base:t,processingMode:e.processingMode}),n=X0.get(r);if(n)return n;var i={"@base":t,processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){var e=this;if(e.inverse)return e.inverse;var t,r=e.inverse={},n=e.fastCurieMap={},i={},s=e["@language"]||"@none",u=e.mappings,c=L(S(u.keys()).sort(J0));try{for(c.s();!(t=c.n()).done;){var l=t.value,f=u.get(l);if(null!==f){var h=f["@container"]||"@none";h=[].concat(h).sort().join("");var A,d=L(W0(f["@id"]));try{for(d.s();!(A=d.n()).done;){var p=A.value,v=r[p],g=Y0.isKeyword(p);if(v)g||f._termHasColon||i[p].push(l);else if(r[p]=v={},!g&&!f._termHasColon){i[p]=[l];var y={iri:p,terms:i[p]};p[0]in n?n[p[0]].push(y):n[p[0]]=[y]}if(v[h]||(v[h]={"@language":{},"@type":{},"@any":{}}),o(l,(v=v[h])["@any"],"@none"),f.reverse)o(l,v["@type"],"@reverse");else if("@type"in f)o(l,v["@type"],f["@type"]);else if("@language"in f){var m=f["@language"]||"@null";o(l,v["@language"],m)}else o(l,v["@language"],s),o(l,v["@type"],"@none"),o(l,v["@language"],"@none")}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){c.e(e)}finally{c.f()}for(var b in n)a(n,b,1);return r},clone:function(){var e={};return e["@base"]=this["@base"],e.mappings=w0.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=w0.clone(this.protected),this.previousContext&&(e.isPropertyTermScoped=this.previousContext.isPropertyTermScoped,e.previousContext=this.previousContext.clone()),e.revertTypeScopedContext=this.revertTypeScopedContext,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertTypeScopedContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===X0.size&&X0.clear(),X0.set(r,i),i;function a(e,t,r){var n,i,o,s=e[t],u=e[t]={},c=L(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;(i=r>=(n=l.iri).length?"":n[r])in u?u[i].push(l):u[i]=[l]}}catch(e){c.e(e)}finally{c.f()}for(var f in u)""!==f&&a(u,f,r+1)}function o(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},Y0.getContextValue=function(e,t,r){if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){var n=e.mappings.get(t);if(K0(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&e.hasOwnProperty(r)?e[r]:"@context"!==r?null:void 0},Y0.getAllContexts=function(){var e=o(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=o(n().mark((function e(t,r){var i,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){return s=o(n().mark((function e(t,i,s){var u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.size>10)){e.next=2;break}throw new d0("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:10});case 2:if(u=new Map,e1(t,u,!1,r.base),0!==u.size){e.next=5;break}return e.abrupt("return");case 5:return c=S(u.keys()).filter((function(e){return!1===u.get(e)})),e.abrupt("return",Promise.all(c.map(function(){var e=o(n().mark((function e(o){var c,l,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.has(o)){e.next=2;break}throw new d0("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:o});case 2:return(c=new Set(i)).add(o),e.prev=4,e.next=7,s(o);case 7:l=e.sent,f=l.document||null,H0(f)&&(f=JSON.parse(f)),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(4),new d0("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:o,cause:e.t0});case 15:if(Q0(f)){e.next=17;break}throw new d0("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:o});case 17:return f="@context"in f?{"@context":f["@context"]}:{"@context":{}},l.contextUrl&&(j0(f["@context"])||(f["@context"]=[f["@context"]]),f["@context"].push(l.contextUrl)),e.next=21,a(f,c,s);case 21:u.set(o,f["@context"]),e1(t,u,!0,r.base);case 23:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}())));case 7:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)},a=function(e,t,r){return s.apply(this,arguments)},i=w0.normalizeDocumentLoader(r.documentLoader),e.next=5,a(t,new Set,i);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Y0.processingMode=function(e,t){return t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode},Y0.isKeyword=function(e){if(!H0(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};var r1=f0.isArray,n1=f0.isObject,i1=f0.isEmptyObject,a1=f0.isString,o1=f0.isUndefined,s1=A0.isList,u1=A0.isValue,c1=A0.isGraph,l1=$0.expandIri,f1=$0.getContextValue,h1=$0.isKeyword,A1=$0.process,d1=$0.processingMode,p1=R0.isAbsolute,v1=w0.addValue,g1=w0.asArray,y1=w0.getValues,m1=w0.validateTypeValue,b1={},w1=b1;function x1(e){var t,r=e.activeCtx,n=e.activeProperty,i=e.expandedActiveProperty,a=e.element,o=e.expandedParent,s=e.options,u=void 0===s?{}:s,c=e.insideList,l=e.expansionMap,f=[],h=L(Object.keys(a).sort());try{for(h.s();!(t=h.n()).done;){var A=t.value,d=void 0,p=a[A];if("@context"!==A){var v=l1(r,A,{vocab:!0},u);if(null!==v&&(p1(v)||h1(v))||void 0!==(v=l({unmappedProperty:A,activeCtx:r,activeProperty:n,parent:a,options:u,insideList:c,value:p,expandedParent:o}))){if(h1(v)){if("@reverse"===i)throw new d0("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:p});if(v in o)throw new d0("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if("@id"!==v)if("@type"!==v){if("@graph"===v&&!n1(p)&&!r1(p))throw new d0('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:p});if("@value"!==v)if("@language"!==v)if("@index"!==v)if("@reverse"!==v)if("@nest"!==v){var g=r,y=f1(r,A,"@context");o1(y)||(g=A1({activeCtx:r,localCtx:y,isPropertyTermScopedContext:!0,options:u}));var m=f1(g,A,"@container")||[];if(m.includes("@language")&&n1(p))d=k1(g,p,u);else if(m.includes("@index")&&n1(p)){var b=m.includes("@graph");d=_1({activeCtx:g,options:u,activeProperty:A,value:p,expansionMap:l,asGraph:b,indexKey:"@index"})}else if(m.includes("@id")&&n1(p)){var w=m.includes("@graph");d=_1({activeCtx:g,options:u,activeProperty:A,value:p,expansionMap:l,asGraph:w,indexKey:"@id"})}else if(m.includes("@type")&&n1(p))d=_1({activeCtx:g.revertTypeScopedContext(),options:u,activeProperty:A,value:p,expansionMap:l,asGraph:!1,indexKey:"@type"});else{var x="@list"===v;if(x||"@set"===v){var k=n;x&&"@graph"===i&&(k=null),d=b1.expand({activeCtx:g,activeProperty:k,element:p,options:u,insideList:x,expansionMap:l})}else d="@json"===f1(r,A,"@type")?{"@type":"@json","@value":p}:b1.expand({activeCtx:g,activeProperty:A,element:p,options:u,insideList:!1,expansionMap:l})}if(null!==d||"@value"===v||void 0!==(d=l({unmappedValue:p,expandedProperty:v,activeCtx:g,activeProperty:n,parent:a,options:u,insideList:c,key:A,expandedParent:o})))if("@list"!==v&&!s1(d)&&m.includes("@list")&&(d={"@list":g1(d)}),m.includes("@graph")&&!m.some((function(e){return"@id"===e||"@index"===e}))&&(d=g1(d).map((function(e){return c1(e)?e:{"@graph":g1(e)}}))),g.mappings.has(A)&&g.mappings.get(A).reverse){var _=o["@reverse"]=o["@reverse"]||{};d=g1(d);for(var B=0;B<d.length;++B){var E=d[B];if(u1(E)||s1(E))throw new d0('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:d});v1(_,v,E,{propertyIsArray:!0})}}else{var S=!["@index","@id","@type","@value","@language"].includes(v);v1(o,v,d,{propertyIsArray:S})}}else f.push(A);else{if(!n1(p))throw new d0('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:p});if("@reverse"in(d=b1.expand({activeCtx:r,activeProperty:"@reverse",element:p,options:u,expansionMap:l})))for(var C in d["@reverse"])v1(o,C,d["@reverse"][C],{propertyIsArray:!0});var I=o["@reverse"]||null;for(var P in d)if("@reverse"!==P){null===I&&(I=o["@reverse"]={}),v1(I,P,[],{propertyIsArray:!0});for(var T=d[P],O=0;O<T.length;++O){var N=T[O];if(u1(N)||s1(N))throw new d0('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:d});v1(I,P,N,{propertyIsArray:!0})}}}else{if(!a1(p))throw new d0('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:p});v1(o,"@index",p)}else{if(null===p)continue;if(!a1(p)&&!u.isFrame)throw new d0('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:p});p=g1(p).map((function(e){return a1(e)?e.toLowerCase():e})),v1(o,"@language",p,{propertyIsArray:u.isFrame})}else v1(o,"@value",p,{propertyIsArray:u.isFrame})}else m1(p),v1(o,"@type",g1(p).map((function(e){return a1(e)?l1(r.previousContext||r,e,{base:!0,vocab:!0},u):e})),{propertyIsArray:u.isFrame});else{if(!a1(p)){if(!u.isFrame)throw new d0('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:p});if(n1(p)){if(!i1(p))throw new d0('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else{if(!r1(p))throw new d0('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p});if(!p.every((function(e){return a1(e)})))throw new d0('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}}v1(o,"@id",g1(p).map((function(e){return a1(e)?l1(r,e,{base:!0},u):e})),{propertyIsArray:u.isFrame})}}}}}catch(e){h.e(e)}finally{h.f()}if("@value"in a){var M=a["@value"];if("@json"===a["@type"]&&d1(r,1.1));else if((n1(M)||r1(M))&&!u.isFrame)throw new d0('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:M})}for(var U=0,F=f;U<F.length;U++){var R,D=F[U],j=L(r1(a[D])?a[D]:[a[D]]);try{for(j.s();!(R=j.n()).done;){var Q=R.value;if(!n1(Q)||Object.keys(Q).some((function(e){return"@value"===l1(r,e,{vocab:!0},u)})))throw new d0("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Q});x1({activeCtx:r,activeProperty:n,expandedActiveProperty:i,element:Q,expandedParent:o,options:u,insideList:c,expansionMap:l})}}catch(e){j.e(e)}finally{j.f()}}}function k1(e,t,r){var n,i=[],a=L(Object.keys(t).sort());try{for(a.s();!(n=a.n()).done;){var o=n.value,s=l1(e,o,{vocab:!0},r),u=t[o];r1(u)||(u=[u]);var c,l=L(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(null!==f){if(!a1(f))throw new d0("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var h={"@value":f};"@none"!==s&&(h["@language"]=o.toLowerCase()),i.push(h)}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}return i}function _1(e){var t,r=e.activeCtx,n=e.options,i=e.activeProperty,a=e.value,o=e.expansionMap,s=e.asGraph,u=e.indexKey,c=[],l="@type"===u,f=L(Object.keys(a).sort());try{for(f.s();!(t=f.n()).done;){var h=t.value;if(l){var A=f1(r,h,"@context");o1(A)||(r=A1({activeCtx:r,localCtx:A,isTypeScopedContext:!0,options:n}))}var d=a[h];r1(d)||(d=[d]);var p=l1(r,h,{vocab:!0},n);"@id"===u?h=l1(r,h,{base:!0},n):l&&(h=p);var v,g=L(d=b1.expand({activeCtx:r,activeProperty:i,element:d,options:n,insideList:!1,insideIndex:!0,expansionMap:o}));try{for(g.s();!(v=g.n()).done;){var y=v.value;s&&!c1(y)&&(y={"@graph":[y]}),"@type"===u?"@none"===p||(y["@type"]?y["@type"]=[h].concat(y["@type"]):y["@type"]=[h]):"@none"===p||u in y||(y[u]=h),c.push(y)}}catch(e){g.e(e)}finally{g.f()}}}catch(e){f.e(e)}finally{f.f()}return c}b1.expand=function(e){var t=e.activeCtx,r=e.activeProperty,n=void 0===r?null:r,a=e.element,o=e.options,s=void 0===o?{}:o,u=e.insideList,c=void 0!==u&&u,l=e.insideIndex,f=void 0!==l&&l,h=e.typeScopedContext,A=void 0===h?null:h,d=e.expansionMap,p=void 0===d?function(){}:d;if(null==a)return null;if("@default"===n&&(s=Object.assign({},s,{isFrame:!1})),!r1(a)&&!n1(a)){if(!c&&(null===n||"@graph"===l1(t,n,{vocab:!0},s))){var v=p({unmappedValue:a,activeCtx:t,activeProperty:n,options:s,insideList:c});return void 0===v?null:v}return function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,a=e.options;if(null==n)return null;var o=l1(t,r,{vocab:!0},a);if("@id"===o)return l1(t,n,{base:!0},a);if("@type"===o)return l1(t,n,{vocab:!0,base:!0},a);var s=f1(t,r,"@type");if(("@id"===s||"@graph"===o)&&a1(n))return{"@id":l1(t,n,{base:!0},a)};if("@vocab"===s&&a1(n))return{"@id":l1(t,n,{vocab:!0,base:!0},a)};if(h1(o))return n;var u={};if(s&&!["@id","@vocab"].includes(s))u["@type"]=s;else if(a1(n)){var c=f1(t,r,"@language");null!==c&&(u["@language"]=c)}return["boolean","number","string"].includes(i(n))||(n=n.toString()),u["@value"]=n,u}({activeCtx:t,activeProperty:n,value:a,options:s})}if(r1(a)){var g=[],y=f1(t,n,"@container")||[];c=c||y.includes("@list");for(var m=0;m<a.length;++m){var b=b1.expand({activeCtx:t,activeProperty:n,element:a[m],options:s,expansionMap:p,insideIndex:f,typeScopedContext:A});c&&r1(b)&&(b={"@list":b}),null===b&&void 0===(b=p({unmappedValue:a[m],activeCtx:t,activeProperty:n,parent:a,index:m,options:s,expandedParent:g,insideList:c}))||(r1(b)?g=g.concat(b):g.push(b))}return g}var w=l1(t,n,{vocab:!0},s);A=A||(t.previousContext?t:null);var x=Object.keys(a).sort(),k=!f;if(k&&A&&x.length<=2&&!x.includes("@context")){var _,B=L(x);try{for(B.s();!(_=B.n()).done;){var E=_.value,S=l1(A,E,{vocab:!0},s);if("@value"===S){k=!1,t=A;break}if("@id"===S&&1===x.length){k=!1;break}}}catch(e){B.e(e)}finally{B.f()}}k&&(t=t.revertTypeScopedContext()),"@context"in a&&(t=A1({activeCtx:t,localCtx:a["@context"],options:s}));var C,I=L(x);try{for(I.s();!(C=I.n()).done;){var P=C.value;if("@type"===l1(t,P,{vocab:!0},s)){var T,O=a[P],N=L(Array.isArray(O)?O.length>1?O.slice().sort():O:[O]);try{for(N.s();!(T=N.n()).done;){var M=T.value,U=f1(t.previousContext||t,M,"@context");o1(U)||(t=A1({activeCtx:t,localCtx:U,options:s,isTypeScopedContext:!0}))}}catch(e){N.e(e)}finally{N.f()}}}}catch(e){I.e(e)}finally{I.f()}var F={};x1({activeCtx:t,activeProperty:n,expandedActiveProperty:w,element:a,expandedParent:F,options:s,insideList:c,typeScopedContext:A,expansionMap:p});var R=(x=Object.keys(F)).length;if("@value"in F){if("@type"in F&&"@language"in F)throw new d0('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:F});var D=R-1;if("@type"in F&&(D-=1),"@index"in F&&(D-=1),"@language"in F&&(D-=1),0!==D)throw new d0('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:F});var j=null===F["@value"]?[]:g1(F["@value"]),Q=y1(F,"@type");if(0===j.length){var H=p({unmappedValue:F,activeCtx:t,activeProperty:n,element:a,options:s,insideList:c});F=void 0!==H?H:null}else{if(!j.every((function(e){return a1(e)||i1(e)}))&&"@language"in F)throw new d0("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:F});if(d1(t,1.1)&&Q.includes("@json")&&1===Q.length);else if(!Q.every((function(e){return p1(e)&&!(a1(e)&&0===e.indexOf("_:"))||i1(e)})))throw new d0('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:F})}}else if("@type"in F&&!r1(F["@type"]))F["@type"]=[F["@type"]];else if("@set"in F||"@list"in F){if(R>1&&(2!==R||!("@index"in F)))throw new d0('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:F});"@set"in F&&(F=F["@set"],R=(x=Object.keys(F)).length)}else if(1===R&&"@language"in F){var K=p(F,{unmappedValue:F,activeCtx:t,activeProperty:n,element:a,options:s,insideList:c});F=void 0!==K?K:null}if(n1(F)&&!s.keepFreeFloatingNodes&&!c&&(null===n||"@graph"===w)&&(0===R||"@value"in F||"@list"in F||1===R&&"@id"in F)){var V=p({unmappedValue:F,activeCtx:t,activeProperty:n,element:a,options:s,insideList:c});F=void 0!==V?V:null}return F};var B1=$0.isKeyword,E1={},S1=E1;E1.createMergedNodeMap=function(e,t){var r=(t=t||{}).issuer||new w0.IdentifierIssuer("_:b"),n={"@default":{}};return E1.createNodeMap(e,n,"@default",r),E1.mergeNodeMaps(n)},E1.createNodeMap=function(e,t,r,n,i,a){if(f0.isArray(e)){var o,s=L(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;E1.createNodeMap(u,t,r,n,void 0,a)}}catch(e){s.e(e)}finally{s.f()}}else if(f0.isObject(e))if(A0.isValue(e)){if("@type"in e){var c=e["@type"];0===c.indexOf("_:")&&(e["@type"]=c=n.getId(c))}a&&a.push(e)}else{if(a&&A0.isList(e)){var l=[];return E1.createNodeMap(e["@list"],t,r,n,i,l),void a.push({"@list":l})}if("@type"in e){var f,h=L(e["@type"]);try{for(h.s();!(f=h.n()).done;){var A=f.value;0===A.indexOf("_:")&&n.getId(A)}}catch(e){h.e(e)}finally{h.f()}}f0.isUndefined(i)&&(i=A0.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),a&&a.push({"@id":i});var d=t[r],p=d[i]=d[i]||{};p["@id"]=i;var v,g=L(Object.keys(e).sort());try{for(g.s();!(v=g.n()).done;){var y=v.value;if("@id"!==y)if("@reverse"!==y)if("@graph"!==y)if("@type"!==y&&B1(y)){if("@index"===y&&y in p&&(e[y]!==p[y]||e[y]["@id"]!==p[y]["@id"]))throw new d0("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[y]=e[y]}else{var m=e[y];if(0===y.indexOf("_:")&&(y=n.getId(y)),0!==m.length){var b,w=L(m);try{for(w.s();!(b=w.n()).done;){var x=b.value;if("@type"===y&&(x=0===x.indexOf("_:")?n.getId(x):x),A0.isSubject(x)||A0.isSubjectReference(x)){var k=A0.isBlankNode(x)?n.getId(x["@id"]):x["@id"];w0.addValue(p,y,{"@id":k},{propertyIsArray:!0,allowDuplicate:!1}),E1.createNodeMap(x,t,r,n,k)}else if(A0.isValue(x))w0.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1});else if(A0.isList(x)){var _=[];E1.createNodeMap(x["@list"],t,r,n,i,_),x={"@list":_},w0.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1})}else E1.createNodeMap(x,t,r,n,i),w0.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){w.e(e)}finally{w.f()}}else w0.addValue(p,y,[],{propertyIsArray:!0})}else i in t||(t[i]={}),E1.createNodeMap(e[y],t,i,n);else{var B={"@id":i},E=e["@reverse"];for(var S in E){var C,I=L(E[S]);try{for(I.s();!(C=I.n()).done;){var P=C.value,T=P["@id"];A0.isBlankNode(P)&&(T=n.getId(T)),E1.createNodeMap(P,t,r,n,T),w0.addValue(d[T],S,B,{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){I.e(e)}finally{I.f()}}}}}catch(e){g.e(e)}finally{g.f()}}else a&&a.push(e)},E1.mergeNodeMapGraphs=function(e){var t,r={},n=L(Object.keys(e).sort());try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=L(Object.keys(e[a]).sort());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e[a][s];s in r||(r[s]={"@id":s});var c,l=r[s],f=L(Object.keys(u).sort());try{for(f.s();!(c=f.n()).done;){var h=c.value;if(B1(h))l[h]=w0.clone(u[h]);else{var A,d=L(u[h]);try{for(d.s();!(A=d.n()).done;){var p=A.value;w0.addValue(l,h,w0.clone(p),{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){f.e(e)}finally{f.f()}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return r},E1.mergeNodeMaps=function(e){var t,r=e["@default"],n=L(Object.keys(e).sort());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("@default"!==i){var a=e[i],o=r[i];o?"@graph"in o||(o["@graph"]=[]):r[i]=o={"@id":i,"@graph":[]};var s,u=o["@graph"],c=L(Object.keys(a).sort());try{for(c.s();!(s=c.n()).done;){var l=a[s.value];A0.isSubjectReference(l)||u.push(l)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){n.e(e)}finally{n.f()}return r};var C1=A0.isSubjectReference,I1=S1.createMergedNodeMap,P1={},T1=P1;P1.flatten=function(e){for(var t=I1(e),r=[],n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=t[n[i]];C1(a)||r.push(a)}return r};var O1=P0.RDF_LIST,L1=P0.RDF_FIRST,N1=P0.RDF_REST,M1=P0.RDF_NIL,U1=P0.RDF_TYPE,F1=P0.RDF_JSON_LITERAL,R1=P0.XSD_BOOLEAN,D1=P0.XSD_DOUBLE,j1=P0.XSD_INTEGER,Q1=P0.XSD_STRING,H1={},K1=H1;function V1(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};var r={"@value":e.value};if(e.language)r["@language"]=e.language;else{var n=e.datatype.value;if(n||(n=Q1),n===F1){n="@json";try{r["@value"]=JSON.parse(r["@value"])}catch(e){throw new d0("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:r["@value"],cause:e})}}if(t){if(n===R1)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(f0.isNumeric(r["@value"]))if(n===j1){var i=parseInt(r["@value"],10);i.toFixed(0)===r["@value"]&&(r["@value"]=i)}else n===D1&&(r["@value"]=parseFloat(r["@value"]));[R1,j1,D1,Q1].includes(n)||(r["@type"]=n)}else n!==Q1&&(r["@type"]=n)}return r}H1.fromRDF=function(){var e=o(n().mark((function e(t,r){var i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,N,M,U,F,R,D,j,Q,H,K,V,z,q,G,W,J,X,Y;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.useRdfType,a=void 0!==i&&i,o=r.useNativeTypes,s=void 0!==o&&o,c={"@default":u={}},l={},f=L(t),e.prev=3,f.s();case 5:if((h=f.n()).done){e.next=19;break}if(A=h.value,(d="DefaultGraph"===A.graph.termType?"@default":A.graph.value)in c||(c[d]={}),"@default"===d||d in u||(u[d]={"@id":d}),p=c[d],v=A.subject.value,g=A.predicate.value,y=A.object,v in p||(p[v]={"@id":v}),m=p[v],(b=y.termType.endsWith("Node"))&&!(y.value in p)&&(p[y.value]={"@id":y.value}),g!==U1||a||!b){e.next=15;break}return w0.addValue(m,"@type",y.value,{propertyIsArray:!0}),e.abrupt("continue",17);case 15:w=V1(y,s),w0.addValue(m,g,w,{propertyIsArray:!0}),b&&(y.value===M1?("usages"in(x=p[y.value])||(x.usages=[]),x.usages.push({node:m,property:g,value:w})):y.value in l?l[y.value]=!1:l[y.value]={node:m,property:g,value:w});case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:e.t1=n().keys(c);case 28:if((e.t2=e.t1()).done){e.next=37;break}if(k=e.t2.value,_=c[k],M1 in _){e.next=33;break}return e.abrupt("continue",28);case 33:if((B=_[M1]).usages){E=L(B.usages);try{for(E.s();!(S=E.n()).done;){for(C=S.value,I=C.node,P=C.property,T=C.value,O=[],N=[],M=Object.keys(I).length;P===N1&&f0.isObject(l[I["@id"]])&&f0.isArray(I[L1])&&1===I[L1].length&&f0.isArray(I[N1])&&1===I[N1].length&&(3===M||4===M&&f0.isArray(I["@type"])&&1===I["@type"].length&&I["@type"][0]===O1)&&(O.push(I[L1][0]),N.push(I["@id"]),C=l[I["@id"]],I=C.node,P=C.property,T=C.value,M=Object.keys(I).length,A0.isBlankNode(I)););for(delete T["@id"],T["@list"]=O.reverse(),U=0,F=N;U<F.length;U++)R=F[U],delete _[R]}}catch(e){E.e(e)}finally{E.f()}delete B.usages}e.next=28;break;case 37:D=[],j=Object.keys(u).sort(),Q=L(j);try{for(Q.s();!(H=Q.n()).done;){if(K=H.value,V=u[K],K in c){z=V["@graph"]=[],q=c[K],G=Object.keys(q).sort(),W=L(G);try{for(W.s();!(J=W.n()).done;)X=J.value,Y=q[X],A0.isSubjectReference(Y)||z.push(Y)}catch(e){W.e(e)}finally{W.f()}}A0.isSubjectReference(V)||D.push(V)}}catch(e){Q.e(e)}finally{Q.f()}return e.abrupt("return",D);case 41:case"end":return e.stop()}}),e,null,[[3,21,24,27]])})));return function(t,r){return e.apply(this,arguments)}}();var z1=function e(t){return null===t||"object"!=i(t)||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((function(t,r,n){return t+(0===n?"":",")+e(void 0===r||"symbol"==i(r)?null:r)}),"")+"]":"{"+Object.keys(t).sort().reduce((function(r,n,a){return void 0===t[n]||"symbol"==i(t[n])?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])}),"")+"}"},q1=S1.createNodeMap,G1=$0.isKeyword,W1=P0.RDF_FIRST,J1=P0.RDF_REST,X1=P0.RDF_NIL,Y1=P0.RDF_TYPE,$1=P0.RDF_JSON_LITERAL,Z1=P0.RDF_LANGSTRING,e2=P0.XSD_BOOLEAN,t2=P0.XSD_DOUBLE,r2=P0.XSD_INTEGER,n2=P0.XSD_STRING,i2=R0.isAbsolute,a2={},o2=a2;function s2(e,t,r,n,i){var a,o=L(Object.keys(t).sort());try{for(o.s();!(a=o.n()).done;){var s,u=a.value,c=t[u],l=L(Object.keys(c).sort());try{for(l.s();!(s=l.n()).done;){var f=s.value,h=c[f];if("@type"===f)f=Y1;else if(G1(f))continue;var A,d=L(h);try{for(d.s();!(A=d.n()).done;){var p=A.value,v={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(i2(u)){var g={termType:f.startsWith("_:")?"BlankNode":"NamedNode",value:f};if(i2(f)&&("BlankNode"!==g.termType||i.produceGeneralizedRdf)){var y=u2(p,n,e,r);y&&e.push({subject:v,predicate:g,object:y,graph:r})}}}}catch(e){d.e(e)}finally{d.f()}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}}function u2(e,t,r,n){var i={};if(A0.isValue(e)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};var a=e["@value"],o=e["@type"]||null;"@json"===o?(i.value=z1(a),i.datatype.value=$1):f0.isBoolean(a)?(i.value=a.toString(),i.datatype.value=o||e2):f0.isDouble(a)||o===t2?(f0.isDouble(a)||(a=parseFloat(a)),i.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=o||t2):f0.isNumber(a)?(i.value=a.toFixed(0),i.datatype.value=o||r2):"@language"in e?(i.value=a,i.datatype.value=o||Z1,i.language=e["@language"]):(i.value=a,i.datatype.value=o||n2)}else if(A0.isList(e)){var s=function(e,t,r,n){var i,a={termType:"NamedNode",value:W1},o={termType:"NamedNode",value:J1},s={termType:"NamedNode",value:X1},u=e.pop(),c=u?{termType:"BlankNode",value:t.getId()}:s,l=c,f=L(e);try{for(f.s();!(i=f.n()).done;){var h=u2(i.value,t,r,n),A={termType:"BlankNode",value:t.getId()};r.push({subject:l,predicate:a,object:h,graph:n}),r.push({subject:l,predicate:o,object:A,graph:n}),l=A}}catch(e){f.e(e)}finally{f.f()}if(u){var d=u2(u,t,r,n);r.push({subject:l,predicate:a,object:d,graph:n}),r.push({subject:l,predicate:o,object:s,graph:n})}return c}(e["@list"],t,r,n);i.termType=s.termType,i.value=s.value}else{var u=f0.isObject(e)?e["@id"]:e;i.termType=u.startsWith("_:")?"BlankNode":"NamedNode",i.value=u}return"NamedNode"!==i.termType||i2(i.value)?i:null}a2.toRDF=function(e,t){var r=new w0.IdentifierIssuer("_:b"),n={"@default":{}};q1(e,n,"@default",r);var i,a=[],o=L(Object.keys(n).sort());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0;if("@default"===s)u={termType:"DefaultGraph",value:""};else{if(!i2(s))continue;(u=s.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=s}s2(a,n[s],u,r,t)}}catch(e){o.e(e)}finally{o.f()}return a};var c2=$0.isKeyword,l2=S1.createNodeMap,f2=S1.mergeNodeMapGraphs,h2={},A2=h2;function d2(e){var t={};for(var r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function p2(e,t,r){for(var n=r.length-1;n>=0;--n){var i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function v2(e,t,r){var n="@"+r,i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function g2(e){if(!f0.isArray(e)||1!==e.length||!f0.isObject(e[0]))throw new d0("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function y2(e,t,r,n){var a=!0,o=!1,s=function(s){var u=!1,c=w0.getValues(t,s),l=0===w0.getValues(r,s).length;if(c2(s)){if("@id"!==s&&"@type"!==s)return"continue";if(a=!1,"@id"===s)return r["@id"].length>=0&&!f0.isEmptyObject(r["@id"][0])?{v:r["@id"].includes(c[0])}:(u=!0,"continue");if("@type"in r)if(l){if(c.length>0)return{v:!1};u=!0}else{if(1!==r["@type"].length||!f0.isEmptyObject(r["@type"][0])){var f,h=L(r["@type"]);try{var A=function(){var e=f.value;if(c.some((function(t){return t===e})))return{v:{v:!0}}};for(h.s();!(f=h.n()).done;){var d=A();if("object"===i(d))return d.v}}catch(e){h.e(e)}finally{h.f()}return{v:!1}}u=c.length>0}}var p=w0.getValues(r,s)[0],v=!1;if(p&&(g2([p]),v="@default"in p),a=!1,0!==c.length||!v){if(c.length>0&&l)return{v:!1};if(void 0===p){if(c.length>0)return{v:!1};u=!0}else if(f0.isObject(p))u=c.length>0;else if(A0.isValue(p))u=c.some((function(e){return x2(p,e)}));else if(A0.isSubject(p)||A0.isSubjectReference(p))u=c.some((function(t){return w2(e,p,t,n)}));else if(A0.isList(p)){var g=p["@list"][0];if(A0.isList(c[0])){var y=c[0]["@list"];A0.isValue(g)?u=y.some((function(e){return x2(g,e)})):(A0.isSubject(g)||A0.isSubjectReference(g))&&(u=y.some((function(t){return w2(e,g,t,n)})))}else u=!1}if(!u&&n.requireAll)return{v:!1};o=o||u}};for(var u in r){var c=s(u);if("continue"!==c&&"object"===i(c))return c.v}return a||o}function m2(e,t){var r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,a=n.property,o={"@id":t};if(f0.isArray(i)){for(var s=0;s<i.length;++s)if(w0.compareValues(i[s],o)){i[s]=o;break}}else{var u=f0.isArray(i[a]);w0.removeValue(i,a,o,{propertyIsArray:u}),w0.addValue(i,a,o,{propertyIsArray:u})}!function e(t){for(var n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a in r&&f0.isObject(r[a].parent)&&r[a].parent["@id"]===t&&(delete r[a],e(a))}}(t)}function b2(e,t,r){f0.isObject(e)?w0.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function w2(e,t,r,n){if(!("@id"in r))return!1;var i=e.subjects[r["@id"]];return i&&y2(e,i,t,n)}function x2(e,t){var r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?f0.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],o=e["@type"]?f0.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?f0.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===o.length&&0===s.length||!(!a.includes(r)&&!f0.isEmptyObject(a[0]))&&!!(!n&&0===o.length||o.includes(n)||n&&f0.isEmptyObject(o[0]))&&!!(!i&&0===s.length||s.includes(i)||i&&f0.isEmptyObject(s[0]))}h2.frameMergedOrDefault=function(e,t,r){var n={options:r,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new w0.IdentifierIssuer("_:b");l2(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=f2(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];var a=[];return h2.frame(n,Object.keys(n.subjects).sort(),t,a),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((function(e){return 1===n.bnodeMap[e].length}))),a},h2.frame=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;g2(r),r=r[0];var a,o=e.options,s={embed:v2(r,o,"embed"),explicit:v2(r,o,"explicit"),requireAll:v2(r,o,"requireAll")},u=function(e,t,r,n){var i,a={},o=L(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e.graphMap[e.graph][s];y2(e,u,r,n)&&(a[s]=u)}}catch(e){o.e(e)}finally{o.f()}return a}(e,t,r,s),c=Object.keys(u).sort(),f=L(c);try{var h=function(){var t=a.value,c=u[t];if("@link"===s.embed&&t in e.link)return b2(n,i,e.link[t]),"continue";null===i?e.uniqueEmbeds=l({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};var f={};if(f["@id"]=t,0===t.indexOf("_:")&&w0.addValue(e.bnodeMap,t,f,{propertyIsArray:!0}),e.link[t]=f,"@never"===s.embed||p2(c,e.graph,e.subjectStack))b2(n,i,f);else{if("@last"===s.embed&&(t in e.uniqueEmbeds[e.graph]&&m2(e,t),e.uniqueEmbeds[e.graph][t]={parent:n,property:i}),e.subjectStack.push({subject:c,graph:e.graph}),t in e.graphMap){var h=!1,A=null;"@graph"in r?(A=r["@graph"][0],f0.isObject(A)||(A={}),h=!("@merged"===t||"@default"===t)):(h="@merged"!==e.graph,A={}),h&&(e.graphStack.push(e.graph),e.graph=t,h2.frame(e,Object.keys(e.graphMap[t]).sort(),[A],f,"@graph"),e.graph=e.graphStack.pop)}var d,p=L(Object.keys(c).sort());try{for(p.s();!(d=p.n()).done;){var v=d.value;if(c2(v)){if(f[v]=w0.clone(c[v]),"@type"===v){var g,y=L(c["@type"]);try{for(y.s();!(g=y.n()).done;){var m=g.value;0===m.indexOf("_:")&&w0.addValue(e.bnodeMap,m,f,{propertyIsArray:!0})}}catch(e){y.e(e)}finally{y.f()}}}else if(!s.explicit||v in r){var b,w=L(c[v]);try{for(w.s();!(b=w.n()).done;){var x=b.value,k=v in r?r[v]:d2(s);if(A0.isList(x)){var _={"@list":[]};b2(f,v,_);var B=x["@list"];for(var E in B)if(x=B[E],A0.isSubjectReference(x)){var S=v in r?r[v][0]["@list"]:d2(s);h2.frame(e,[x["@id"]],S,_,"@list")}else b2(_,"@list",w0.clone(x))}else A0.isSubjectReference(x)?h2.frame(e,[x["@id"]],k,f,v):x2(k[0],x)&&b2(f,v,w0.clone(x))}}catch(e){w.e(e)}finally{w.f()}}}}catch(e){p.e(e)}finally{p.f()}var C,I=L(Object.keys(r).sort());try{for(I.s();!(C=I.n()).done;){var P=C.value;if(!c2(P)){var T=r[P][0]||{};if(!v2(T,o,"omitDefault")&&!(P in f)){var O="@null";"@default"in T&&(O=w0.clone(T["@default"])),f0.isArray(O)||(O=[O]),f[P]=[{"@preserve":O}]}}}}catch(e){I.e(e)}finally{I.f()}if("@reverse"in r){var N,M=L(Object.keys(r["@reverse"]).sort());try{for(M.s();!(N=M.n()).done;)for(var U=N.value,F=r["@reverse"][U],R=0,D=Object.keys(e.subjects);R<D.length;R++){var j=D[R];w0.getValues(e.subjects[j],U).some((function(e){return e["@id"]===t}))&&(f["@reverse"]=f["@reverse"]||{},w0.addValue(f["@reverse"],U,[],{propertyIsArray:!0}),h2.frame(e,[j],F,f["@reverse"][U],i))}}catch(e){M.e(e)}finally{M.f()}}b2(n,i,f),e.subjectStack.pop()}};for(f.s();!(a=f.n()).done;)h()}catch(e){f.e(e)}finally{f.f()}};var k2=f0.isArray,_2=f0.isObject,B2=f0.isString,E2=f0.isUndefined,S2=A0.isList,C2=A0.isValue,I2=A0.isGraph,P2=A0.isSimpleGraph,T2=A0.isSubjectReference,O2=$0.expandIri,L2=$0.getContextValue,N2=$0.isKeyword,M2=$0.process,U2=R0.removeBase,F2=w0.addValue,R2=w0.asArray,D2=w0.compareShortestLeast,j2={},Q2=j2;function H2(e,t,r){if("@nest"!==O2(e,t,{vocab:!0},r))throw new d0("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}j2.compact=function(e){var t,r=e.activeCtx,n=e.activeProperty,i=void 0===n?null:n,a=e.element,o=e.options,s=void 0===o?{}:o,u=e.compactionMap,c=void 0===u?function(){}:u;if(k2(a)){for(var f=[],h=0;h<a.length;++h){var A=j2.compact({activeCtx:r,activeProperty:i,element:a[h],options:s,compactionMap:c});null===A&&void 0===(A=c({unmappedValue:a[h],activeCtx:r,activeProperty:i,parent:a,index:h,options:s}))||f.push(A)}return s.compactArrays&&1===f.length&&0===(L2(r,i,"@container")||[]).length&&(f=f[0]),f}var d=L2(r,i,"@context");if(E2(d)||(r=M2({activeCtx:r,localCtx:d,isPropertyTermScopedContext:!0,options:s})),_2(a)){if(s.link&&"@id"in a&&s.link.hasOwnProperty(a["@id"]))for(var p=s.link[a["@id"]],v=0;v<p.length;++v)if(p[v].expanded===a)return p[v].compacted;if(C2(a)||T2(a)){var g=j2.compactValue({activeCtx:r,activeProperty:i,value:a,options:s});return s.link&&T2(a)&&(s.link.hasOwnProperty(a["@id"])||(s.link[a["@id"]]=[]),s.link[a["@id"]].push({expanded:a,compacted:g})),g}if(S2(a)&&(L2(r,i,"@container")||[]).includes("@list"))return j2.compact({activeCtx:r,activeProperty:i,element:a["@list"],options:s,compactionMap:c});var y="@reverse"===i,m={};r=r.revertTypeScopedContext(),s.link&&"@id"in a&&(s.link.hasOwnProperty(a["@id"])||(s.link[a["@id"]]=[]),s.link[a["@id"]].push({expanded:a,compacted:m}));var b=a["@type"]||[];b.length>1&&(b=Array.from(b).sort());var w,x=r,k=L(b);try{for(k.s();!(w=k.n()).done;){var _=w.value,B=j2.compactIri({activeCtx:x,iri:_,relativeTo:{vocab:!0}}),S=L2(x,B,"@context");E2(S)||(r=M2({activeCtx:r,localCtx:S,options:s,isTypeScopedContext:!0}))}}catch(e){k.e(e)}finally{k.f()}var C,I=L(Object.keys(a).sort());try{for(I.s();!(C=I.n()).done;){var P=C.value,T=a[P];if("@id"!==P&&"@type"!==P)if("@reverse"!==P)if("@preserve"!==P)if("@index"!==P)if("@graph"!==P&&"@list"!==P&&N2(P)){var O=j2.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}});F2(m,O,T)}else{if(!k2(T))throw new d0("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===T.length){var N=j2.compactIri({activeCtx:r,iri:P,value:T,relativeTo:{vocab:!0},reverse:y}),M=r.mappings.has(N)?r.mappings.get(N)["@nest"]:null,U=m;M&&(H2(r,M,s),_2(m[M])||(m[M]={}),U=m[M]),F2(U,N,T,{propertyIsArray:!0})}var F,R=L(T);try{for(R.s();!(F=R.n()).done;){var D=F.value,j=j2.compactIri({activeCtx:r,iri:P,value:D,relativeTo:{vocab:!0},reverse:y}),Q=r.mappings.has(j)?r.mappings.get(j)["@nest"]:null,H=m;Q&&(H2(r,Q,s),_2(m[Q])||(m[Q]={}),H=m[Q]);var K=L2(r,j,"@container")||[],V=I2(D),z=S2(D),q=void 0;z?q=D["@list"]:V&&(q=D["@graph"]);var G=j2.compact({activeCtx:r,activeProperty:j,element:z||V?q:D,options:s,compactionMap:c});if(z){if(k2(G)||(G=[G]),K.includes("@list")){F2(H,j,G,{valueIsArray:!0,allowDuplicate:!0});continue}G=l({},j2.compactIri({activeCtx:r,iri:"@list",relativeTo:{vocab:!0}}),G),"@index"in D&&(G[j2.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=D["@index"])}if(V)if(K.includes("@graph")&&(K.includes("@id")||K.includes("@index")&&P2(D))){var W=void 0;H.hasOwnProperty(j)?W=H[j]:H[j]=W={};var J=(K.includes("@id")?D["@id"]:D["@index"])||j2.compactIri({activeCtx:r,iri:"@none",vocab:!0});F2(W,J,G,{propertyIsArray:!s.compactArrays||K.includes("@set")})}else K.includes("@graph")&&P2(D)||(k2(G)&&1===G.length&&s.compactArrays&&(G=G[0]),G=l({},j2.compactIri({activeCtx:r,iri:"@graph",relativeTo:{vocab:!0}}),G),"@id"in D&&(G[j2.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=D["@id"]),"@index"in D&&(G[j2.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=D["@index"])),F2(H,j,G,{propertyIsArray:!s.compactArrays||K.includes("@set")});else if(K.includes("@language")||K.includes("@index")||K.includes("@id")||K.includes("@type")){var X=void 0,Y=void 0;if(H.hasOwnProperty(j)?X=H[j]:H[j]=X={},K.includes("@language"))C2(G)&&(G=G["@value"]),Y=D["@language"];else if(K.includes("@index"))Y=D["@index"];else if(K.includes("@id")){var $=j2.compactIri({activeCtx:r,iri:"@id",vocab:!0});Y=G[$],delete G[$]}else if(K.includes("@type")){var Z,ee=j2.compactIri({activeCtx:r,iri:"@type",vocab:!0});switch(Y=(t=E(R2(G[ee]||[])))[0],(Z=t.slice(1)).length){case 0:delete G[ee];break;case 1:G[ee]=Z[0];break;default:G[ee]=Z}}Y||(Y=j2.compactIri({activeCtx:r,iri:"@none",vocab:!0})),F2(X,Y,G,{propertyIsArray:K.includes("@set")})}else{var te=!s.compactArrays||K.includes("@set")||K.includes("@list")||k2(G)&&0===G.length||"@list"===P||"@graph"===P;F2(H,j,G,{propertyIsArray:te})}}}catch(e){R.e(e)}finally{R.f()}}else{if((L2(r,i,"@container")||[]).includes("@index"))continue;var re=j2.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}});F2(m,re,T)}else{var ne=j2.compact({activeCtx:r,activeProperty:i,element:T,options:s,compactionMap:c});k2(ne)&&0===ne.length||F2(m,P,ne)}else{var ie=j2.compact({activeCtx:r,activeProperty:"@reverse",element:T,options:s,compactionMap:c});for(var ae in ie)if(r.mappings.has(ae)&&r.mappings.get(ae).reverse){var oe=ie[ae],se=(L2(r,ae,"@container")||[]).includes("@set")||!s.compactArrays;F2(m,ae,oe,{propertyIsArray:se}),delete ie[ae]}if(Object.keys(ie).length>0){var ue=j2.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}});F2(m,ue,ie)}}else!function(){var e="@type"===P,t=e&&r.previousContext||r,n=R2(T).map((function(r){return j2.compactIri({activeCtx:t,iri:r,relativeTo:{vocab:e}})}));1===n.length&&(n=n[0]);var i=j2.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}}),a=k2(n)&&0===T.length;F2(m,i,n,{propertyIsArray:a})}()}}catch(e){I.e(e)}finally{I.f()}return m}return a},j2.compactIri=function(e){var t=e.activeCtx,r=e.iri,n=e.value,i=void 0===n?null:n,a=e.relativeTo,o=void 0===a?{vocab:!1}:a,s=e.reverse,u=void 0!==s&&s;if(null===r)return r;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var c=t.getInverse();if(N2(r)&&r in c&&"@none"in c[r]&&"@type"in c[r]["@none"]&&"@none"in c[r]["@none"]["@type"])return c[r]["@none"]["@type"]["@none"];if(o.vocab&&r in c){var l=t["@language"]||"@none",f=[];_2(i)&&"@index"in i&&!("@graph"in i)&&f.push("@index","@index@set"),_2(i)&&"@preserve"in i&&(i=i["@preserve"][0]),I2(i)?("@index"in i&&f.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i&&f.push("@graph@id","@graph@id@set"),f.push("@graph","@graph@set","@set"),"@index"in i||f.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i||f.push("@graph@id","@graph@id@set")):_2(i)&&!C2(i)&&f.push("@id","@id@set","@type","@set@type");var h="@language",A="@null";if(u)h="@type",A="@reverse",f.push("@set");else if(S2(i)){"@index"in i||f.push("@list");var d=i["@list"];if(0===d.length)h="@any",A="@none";else{for(var p=0===d.length?l:null,v=null,g=0;g<d.length;++g){var y=d[g],m="@none",b="@none";if(C2(y)?"@language"in y?m=y["@language"]:"@type"in y?b=y["@type"]:m="@null":b="@id",null===p?p=m:m!==p&&C2(y)&&(p="@none"),null===v?v=b:b!==v&&(v="@none"),"@none"===p&&"@none"===v)break}p=p||"@none","@none"!==(v=v||"@none")?(h="@type",A=v):A=p}}else C2(i)?"@language"in i&&!("@index"in i)?(f.push("@language","@language@set"),A=i["@language"]):"@type"in i&&(h="@type",A=i["@type"]):(h="@type",A="@id"),f.push("@set");f.push("@none"),_2(i)&&!("@index"in i)&&f.push("@index","@index@set"),C2(i)&&1===Object.keys(i).length&&f.push("@language","@language@set");var w=function(e,t,r,n,i,a){null===a&&(a="@null");var o=[];if("@id"!==a&&"@reverse"!==a||!T2(r))o.push(a);else{"@reverse"===a&&o.push("@reverse");var s=j2.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(s)&&e.mappings.get(s)&&e.mappings.get(s)["@id"]===r["@id"]?o.push.apply(o,["@vocab","@id"]):o.push.apply(o,["@id","@vocab"])}o.push("@none");for(var u=e.inverse[t],c=0;c<n.length;++c){var l=n[c];if(l in u)for(var f=u[l][i],h=0;h<o.length;++h){var A=o[h];if(A in f)return f[A]}}return null}(t,r,i,f,h,A);if(null!==w)return w}if(o.vocab&&"@vocab"in t){var x=t["@vocab"];if(0===r.indexOf(x)&&r!==x){var k=r.substr(x.length);if(!t.mappings.has(k))return k}}for(var _=null,B=[],E=t.fastCurieMap,S=r.length-1,C=0;C<S&&r[C]in E;++C)""in(E=E[r[C]])&&B.push(E[""][0]);for(var I=B.length-1;I>=0;--I){var P,T=B[I],O=L(T.terms);try{for(O.s();!(P=O.n()).done;){var N=P.value,M=N+":"+r.substr(T.iri.length);t.mappings.get(N)._prefix&&(!t.mappings.has(M)||null===i&&t.mappings.get(M)["@id"]===r)&&(null===_||D2(M,_)<0)&&(_=M)}}catch(e){O.e(e)}finally{O.f()}}return null!==_?_:o.vocab?r:U2(t["@base"],r)},j2.compactValue=function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(C2(n)){var a=L2(t,r,"@type"),o=L2(t,r,"@language"),s=L2(t,r,"@container")||[],u="@index"in n&&!s.includes("@index");if(!u&&(n["@type"]===a||n["@language"]===o))return n["@value"];var c=Object.keys(n).length,f=1===c||2===c&&"@index"in n&&!u,h="@language"in t,A=B2(n["@value"]),d=t.mappings.has(r)&&null===t.mappings.get(r)["@language"];if(f&&(!h||!A||d))return n["@value"];var p={};return u&&(p[j2.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?p[j2.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=j2.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(p[j2.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),p[j2.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],p}var v=O2(t,r,{vocab:!0},i),g=L2(t,r,"@type"),y=j2.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:"@vocab"===g}});return"@id"===g||"@vocab"===g||"@graph"===v?y:l({},j2.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),y)},
/**
   * Removes the @preserve keywords as the last step of the compaction
   * algorithm when it is running on framed output.
   *
   * @param ctx the active context used to compact the input.
   * @param input the framed, compacted output.
   * @param options the compaction options used.
   *
   * @return the resulting output.
   */
j2.removePreserve=function(e,t,r){if(k2(t)){for(var n=[],i=0;i<t.length;++i){var a=j2.removePreserve(e,t[i],r);null!==a&&n.push(a)}t=n}else if(_2(t)){// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(C2(t))return t;if(S2(t))return t["@list"]=j2.removePreserve(e,t["@list"],r),t;var o=j2.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(t.hasOwnProperty(o)){var s=t[o];if(r.link.hasOwnProperty(s)){var u=r.link[s].indexOf(t);if(-1!==u)return r.link[s][u];r.link[s].push(t)}else r.link[s]=[t]}var c=j2.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(var l in t)if(l===o&&r.bnodesToClear.includes(t[l]))delete t[o];else{var f=j2.removePreserve(e,t[l],r),h=L2(e,l,"@container")||[];r.compactArrays&&k2(f)&&1===f.length&&0===h.length&&l!==c&&(f=f[0]),t[l]=f}}return t};var K2=w0.callbackify,V2=w0.normalizeDocumentLoader,z2=function(){function e(){s(this,e),this._requests={},this.add=K2(this.add.bind(this))}var t;return c(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=V2(e),function(){return t.add.apply(t,arguments)}}},{key:"add",value:(t=o(n().mark((function e(t){var r,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=(r=this)._requests[t])){e.next=4;break}return e.abrupt("return",Promise.resolve(i));case 4:return i=r._requests[t]=r._loader(t),e.prev=5,e.next=8,i;case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,delete r._requests[t],e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[5,,9,12]])}))),function(e){return t.apply(this,arguments)})}]),e}(),q2=w0.parseLinkHeader,G2=w0.buildHeaders,W2=P0.LINK_HEADER_REL,J2=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{strictSSL:!0,maxRedirects:-1,headers:{}},t=e.secure,r=e.strictSSL,i=void 0===r||r,a=e.maxRedirects,s=void 0===a?-1:a,u=e.request,c=e.headers,l=void 0===c?{}:c;l=G2(l),u=u||s0;var f=s0;return(new z2).wrapLoader((function(e){return h(e,[])}));function h(e,t){return A.apply(this,arguments)}function A(){return A=o(n().mark((function e(r,a){var o,c,A,d,p,v,g;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===r.indexOf("http:")||0===r.indexOf("https:")){e.next=2;break}throw new d0('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 2:if(!t||0===r.indexOf("https")){e.next=4;break}throw new d0('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 4:if(null===(c=null)){e.next=7;break}return e.abrupt("return",c);case 7:return e.prev=7,e.next=10,function(e,t){return new Promise((function(r,n){e(t,(function(e,t,i){e?n(e):r({res:t,body:i})}))}))}(u,{url:r,headers:l,strictSSL:i,followRedirect:!1});case 10:o=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(7),new d0("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:e.t0});case 16:if(d=(A=o).res,p=A.body,c={contextUrl:null,documentUrl:r,document:p||null},v=f.STATUS_CODES[d.statusCode],!(d.statusCode>=400)){e.next=21;break}throw new d0("URL could not be dereferenced: "+v,"jsonld.InvalidUrl",{code:"loading document failed",url:r,httpStatusCode:d.statusCode});case 21:if(!d.headers.link||"application/ld+json"===d.headers["content-type"]){e.next=26;break}if(g=q2(d.headers.link)[W2],!Array.isArray(g)){e.next=25;break}throw new d0("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});case 25:g&&(c.contextUrl=g.target);case 26:if(!(d.statusCode>=300&&d.statusCode<400&&d.headers.location)){e.next=32;break}if(a.length!==s){e.next=29;break}throw new d0("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:r,httpStatusCode:d.statusCode,redirects:a});case 29:if(-1===a.indexOf(r)){e.next=31;break}throw new d0("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:r,httpStatusCode:d.statusCode,redirects:a});case 31:return e.abrupt("return",(a.push(r),h(d.headers.location,a)));case 32:return e.abrupt("return",(a.push(r),c));case 33:case"end":return e.stop()}}),e,null,[[7,13]])}))),A.apply(this,arguments)}},X2=w0.parseLinkHeader,Y2=w0.buildHeaders,$2=P0.LINK_HEADER_REL,Z2=/(^|(\r\n))link:/i,e5=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,r=e.headers,i=void 0===r?{}:r,a=e.xhr;return i=Y2(i),(new z2).wrapLoader(function(){var e=o(n().mark((function e(r){var o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===r.indexOf("http:")||0===r.indexOf("https:")){e.next=2;break}throw new d0('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 2:if(!t||0===r.indexOf("https")){e.next=4;break}throw new d0('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 4:return e.prev=4,e.next=7,function(e,t,r){var n=new(e=e||XMLHttpRequest);return new Promise((function(e,i){for(var a in n.onload=function(){return e(n)},n.onerror=function(e){return i(e)},n.open("GET",t,!0),r)n.setRequestHeader(a,r[a]);n.send()}))}(a,r,i);case 7:o=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new d0("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:e.t0});case 13:if(!(o.status>=400)){e.next=15;break}throw new d0("URL could not be dereferenced: "+o.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:r,httpStatusCode:o.status});case 15:if(s={contextUrl:null,documentUrl:r,document:o.response},u=o.getResponseHeader("Content-Type"),Z2.test(o.getAllResponseHeaders())&&(c=o.getResponseHeader("Link")),!c||"application/ld+json"===u){e.next=21;break}if(c=X2(c)[$2],!Array.isArray(c)){e.next=20;break}throw new d0("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});case 20:c&&(s.contextUrl=c.target);case 21:return e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}())},t5=w0.IdentifierIssuer,r5=w1.expand,n5=T1.flatten,i5=K1.fromRDF,a5=o2.toRDF,o5=A2.frameMergedOrDefault,s5=f0.isArray,u5=f0.isObject,c5=f0.isString,l5=A0.isSubjectReference,f5=$0.getInitialContext,h5=$0.process,A5=$0.getAllContexts,d5=Q2.compact,p5=Q2.compactIri,v5=Q2.removePreserve,g5=S1.createNodeMap,y5=S1.createMergedNodeMap,m5=S1.mergeNodeMaps,b5=void 0!==dX&&dX.versions&&dX.versions.node,w5=!b5&&("undefined"!=typeof window||"undefined"!=typeof self),x5=function(e){var t={};function r(t,r){var n=r.documentLoader,i=void 0===n?e.documentLoader:n,a=y(r,cW);return Object.assign({},{documentLoader:i},a,t)}return e.compact=w0.callbackify(function(){var t=o(n().mark((function t(i,a,o){var s,u,c,l,f,h,A,d,p,v,g,y=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(y.length<2)){t.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==a){t.next=4;break}throw new d0("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==i){t.next=6;break}return t.abrupt("return",null);case 6:if((o=r(o,{base:c5(i)?i:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new t5("_:b")})).link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base,!o.skipExpansion){t.next=12;break}t.t0=i,t.next=15;break;case 12:return t.next=14,e.expand(i,o);case 14:t.t0=t.sent;case 15:return s=t.t0,t.next=18,e.processContext(f5(o),a,o);case 18:u=t.sent,c=d5({activeCtx:u,element:s,options:o,compactionMap:o.compactionMap}),o.compactArrays&&!o.graph&&s5(c)?1===c.length?c=c[0]:0===c.length&&(c={}):o.graph&&u5(c)&&(c=[c]),u5(a)&&"@context"in a&&(a=a["@context"]),a=w0.clone(a),s5(a)||(a=[a]),l=a,a=[];for(f=0;f<l.length;++f)(!u5(l[f])||Object.keys(l[f]).length>0)&&a.push(l[f]);if(h=a.length>0,1===a.length&&(a=a[0]),s5(c))A=p5({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),d=c,c={},h&&(c["@context"]=a),c[A]=d;else if(u5(c)&&h)for(v in p=c,c={"@context":a},p)c[v]=p[v];return o.framing&&(g=p5({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),// remove @preserve from results
o.link={},c[g]=v5(u,c[g],o)),t.abrupt("return",c);case 28:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.expand=w0.callbackify(function(){var t=o(n().mark((function t(i,a){var o,s,u,c,l,f,h,A=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(A.length<1)){t.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(a=r(a,{keepFreeFloatingNodes:!1})).expansionMap&&(a.expansionMap=void 0),o={},s=[],"expandContext"in a&&(u=w0.clone(a.expandContext),u5(u)&&"@context"in u?o.expandContext=u:o.expandContext={"@context":u},s.push(o.expandContext)),!c5(i)){t.next=12;break}return t.next=8,e.get(i,a);case 8:l=t.sent,c=l.documentUrl,o.input=l.document,l.contextUrl&&(o.remoteContext={"@context":l.contextUrl},s.push(o.remoteContext)),t.next=13;break;case 12:o.input=w0.clone(i);case 13:return"base"in a||(a.base=c||""),t.next=16,A5(o,a);case 16:return f=f5(a),s.forEach((function(e){f=h5({activeCtx:f,localCtx:e,options:a})})),h=r5({activeCtx:f,element:o.input,options:a,expansionMap:a.expansionMap}),t.abrupt("return",(u5(h)&&"@graph"in h&&1===Object.keys(h).length?h=h["@graph"]:null===h&&(h=[]),s5(h)||(h=[h]),h));case 20:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.flatten=w0.callbackify(function(){var t=o(n().mark((function t(i,a,o){var s,u,c,l=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(l.length<1)){t.next=2;break}return t.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return a="function"==typeof a?null:a||null,o=r(o,{base:c5(i)?i:""}),t.next=5,e.expand(i,o);case 5:if(s=t.sent,u=n5(s),null!==a){t.next=9;break}return t.abrupt("return",u);case 9:return o.graph=!0,o.skipExpansion=!0,t.next=12,e.compact(u,a,o);case 12:return c=t.sent,t.abrupt("return",c);case 14:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.frame=w0.callbackify(function(){var t=o(n().mark((function t(i,a,o){var s,u,c,l,f,h,A,d,p=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(p.length<2)){t.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(o=r(o,{base:c5(i)?i:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),!c5(a)){t.next=7;break}return t.next=5,e.get(a,o);case 5:s=t.sent,a=s.document,s.contextUrl&&((u=a["@context"])?s5(u)?u.push(s.contextUrl):u=[u,s.contextUrl]:u=s.contextUrl,a["@context"]=u);case 7:return c=a&&a["@context"]||{},t.next=10,e.expand(i,o);case 10:return l=t.sent,(f=w0.clone(o)).isFrame=!0,f.keepFreeFloatingNodes=!0,t.next=15,e.expand(a,f);case 15:return h=t.sent,f.merged=!("@graph"in a),A=o5(l,h,f),f.graph=!0,f.skipExpansion=!0,f.link={},f.framing=!0,t.next=21,e.compact(A,c,f);case 21:return d=t.sent,t.abrupt("return",d);case 23:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.link=w0.callbackify(function(){var t=o(n().mark((function t(r,i,a){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={},t.abrupt("return",(i&&(o["@context"]=i),o["@embed"]="@link",e.frame(r,o,a)));case 2:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.normalize=e.canonize=w0.callbackify(function(){var t=o(n().mark((function t(i,a){var o,s,u,c=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.length<1)){t.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(a=r(a,{base:c5(i)?i:"",algorithm:"URDNA2015",skipExpansion:!1})))){t.next=7;break}if("application/n-quads"===a.inputFormat||"application/nquads"===a.inputFormat){t.next=5;break}throw new d0("Unknown canonicalization input format.","jsonld.CanonizeError");case 5:return o=S0.parse(i),t.abrupt("return",c0.canonize(o,a));case 7:return delete(s=w0.clone(a)).format,s.produceGeneralizedRdf=!1,t.next=11,e.toRDF(i,s);case 11:return u=t.sent,t.abrupt("return",c0.canonize(u,a));case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.fromRDF=w0.callbackify(function(){var e=o(n().mark((function e(i,a){var o,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(a=r(a,{format:c5(i)?"application/n-quads":void 0}),o=a.format,u=a.rdfParser,!o){e.next=10;break}if(u=u||t[o]){e.next=8;break}throw new d0("Unknown input format.","jsonld.UnknownFormat",{format:o});case 8:e.next=11;break;case 10:u=function(){return i};case 11:return s=u.length>1?new Promise((function(e,t){u(i,(function(r,n){r?t(r):e(n)}))})):Promise.resolve(u(i)),e.next=14,s;case 14:return s=e.sent,Array.isArray(s)||(s=S0.legacyDatasetToQuads(s)),e.abrupt("return",i5(s,a));case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.toRDF=w0.callbackify(function(){var t=o(n().mark((function t(i,a){var o,s,u=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u.length<1)){t.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(a=r(a,{base:c5(i)?i:"",skipExpansion:!1})).skipExpansion){t.next=6;break}t.t0=i,t.next=9;break;case 6:return t.next=8,e.expand(i,a);case 8:t.t0=t.sent;case 9:if(o=t.t0,s=a5(o,a),!a.format){t.next=17;break}if("application/n-quads"!==a.format&&"application/nquads"!==a.format){t.next=16;break}return t.next=15,S0.serialize(s);case 15:return t.abrupt("return",t.sent);case 16:throw new d0("Unknown output format.","jsonld.UnknownFormat",{format:a.format});case 17:return t.abrupt("return",s);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.createNodeMap=w0.callbackify(function(){var t=o(n().mark((function t(i,a){var o,s=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length<1)){t.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return a=r(a,{base:c5(i)?i:""}),t.next=5,e.expand(i,a);case 5:return o=t.sent,t.abrupt("return",y5(o,a));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.merge=w0.callbackify(function(){var t=o(n().mark((function t(i,a,o){var s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(_.length<1)){t.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(s5(i)){t.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return a="function"==typeof a?null:a||null,o=r(o,{}),t.next=7,Promise.all(i.map((function(t){var r=Object.assign({},o);return e.expand(t,r)})));case 7:s=t.sent,u=!0,"mergeNodes"in o&&(u=o.mergeNodes),c=o.issuer||new t5("_:b"),l={"@default":{}},f=0;case 12:if(!(f<s.length)){t.next=29;break}if(h=w0.relabelBlankNodes(s[f],{issuer:new t5("_:b"+f+"-")}),g5(h,A=u||0===f?l:{"@default":{}},"@default",c),A===l){t.next=26;break}t.t0=n().keys(A);case 16:if((t.t1=t.t0()).done){t.next=26;break}if(d=t.t1.value,p=A[d],d in l){t.next=22;break}return l[d]=p,t.abrupt("continue",16);case 22:for(g in v=l[d],p)g in v||(v[g]=p[g]);t.next=16;break;case 26:++f,t.next=12;break;case 29:for(y=m5(l),m=[],b=Object.keys(y).sort(),w=0;w<b.length;++w)x=y[b[w]],l5(x)||m.push(x);if(null!==a){t.next=33;break}return t.abrupt("return",m);case 33:return o.graph=!0,o.skipExpansion=!0,t.next=36,e.compact(m,a,o);case 36:return k=t.sent,t.abrupt("return",k);case 38:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),Object.defineProperty(e,"documentLoader",{get:function(){return e._documentLoader},set:function(t){return e._documentLoader=w0.normalizeDocumentLoader(t)}}),e.documentLoader=function(){var e=o(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new d0("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.loadDocument=w0.callbackify(o(n().mark((function t(){var r=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.documentLoader.apply(null,r));case 1:case"end":return t.stop()}}),t)})))),e.get=w0.callbackify(function(){var t=o(n().mark((function t(r,i){var a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="function"==typeof i.documentLoader?w0.normalizeDocumentLoader(i.documentLoader):e.documentLoader,t.next=3,a(r);case 3:if(o=t.sent,t.prev=4,o.document){t.next=7;break}throw new d0("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:c5(o.document)&&(o.document=JSON.parse(o.document)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(4),new d0("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t.t0,remoteDoc:o});case 13:return t.abrupt("return",o);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,r){return t.apply(this,arguments)}}()),e.processContext=w0.callbackify(function(){var e=o(n().mark((function e(t,i,a){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(a,{base:""}),null!==i){e.next=2;break}return e.abrupt("return",f5(a));case 2:return i=w0.clone(i),u5(i)&&"@context"in i||(i={"@context":i}),e.next=5,A5(i,a);case 5:return o=e.sent,e.abrupt("return",h5({activeCtx:t,localCtx:o,options:a}));case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),e.getContextValue=$0.getContextValue,e.documentLoaders={},e.documentLoaders.node=J2,e.documentLoaders.xhr=e5,e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new d0('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",S0.parse),e.registerRDFParser("application/nquads",S0.parse),e.registerRDFParser("rdfa-api",function(){function e(){s(this,e)}return c(e,[{key:"parse",value:function(e){for(var t={"@default":[]},r=e.getSubjects(),n=0;n<r.length;++n){var i=r[n];if(null!==i){var a=e.getSubjectTriples(i);if(null!==a){var o=a.predicates;for(var s in o)for(var u=o[s].objects,c=0;c<u.length;++c){var l=u[c],f={};0===i.indexOf("_:")?f.subject={type:"blank node",value:i}:f.subject={type:"IRI",value:i},0===s.indexOf("_:")?f.predicate={type:"blank node",value:s}:f.predicate={type:"IRI",value:s};var h=l.value;if(l.type===N0){var A=new("undefined"==typeof XMLSerializer?s0.XMLSerializer:XMLSerializer);h="";for(var d=0;d<l.value.length;d++)l.value[d].nodeType===E0.ELEMENT_NODE?h+=A.serializeToString(l.value[d]):l.value[d].nodeType===E0.TEXT_NODE&&(h+=l.value[d].nodeValue)}f.object={},l.type===L0?0===l.value.indexOf("_:")?f.object.type="blank node":f.object.type="IRI":(f.object.type="literal",l.type===O0?l.language?(f.object.datatype=T0,f.object.language=l.language):f.object.datatype=M0:f.object.datatype=l.type),f.object.value=h,t["@default"].push(f)}}}}return t}}]),e}().parse),e.url=R0,e.util=w0,Object.assign(e,w0),e.promises=e,e.RequestQueue=z2,e.JsonLdProcessor=function(e){var t=function(){function e(){s(this,e)}return c(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}(e),w5&&void 0===UW.JsonLdProcessor&&Object.defineProperty(UW,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),b5?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},k5=function e(){return x5((function(){return e()}))};x5(k5);var _5=k5,B5={},E5=B5;B5.isArray=Array.isArray,B5.isBoolean=function(e){return"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},B5.isDouble=function(e){return B5.isNumber(e)&&-1!==String(e).indexOf(".")},B5.isEmptyObject=function(e){return B5.isObject(e)&&0===Object.keys(e).length},B5.isNumber=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},B5.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},B5.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},B5.isString=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},B5.isUndefined=function(e){return void 0===e};var S5={},C5=S5;S5.isSubject=function(e){return!(!E5.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},S5.isSubjectReference=function(e){return E5.isObject(e)&&1===Object.keys(e).length&&"@id"in e},S5.isValue=function(e){return E5.isObject(e)&&"@value"in e},S5.isList=function(e){return E5.isObject(e)&&"@list"in e},S5.isGraph=function(e){return E5.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((function(e){return"@id"!==e&&"@index"!==e})).length},S5.isSimpleGraph=function(e){return S5.isGraph(e)&&!("@id"in e)},S5.isBlankNode=function(e){return!!E5.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))};var I5=function(e){f(r,e);var t=w(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s(this,r),(e=t.call(this,n)).name=i,e.message=n,e.details=a,e}return c(r)}(v(Error));function P5(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function T5(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){P5(a,n,i,o,s,"next",e)}function s(e){P5(a,n,i,o,s,"throw",e)}o(void 0)}))}}var O5=c0.IdentifierIssuer,L5=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,N5=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,M5=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,U5="application/ld+json, application/json",F5={},R5=F5;F5.IdentifierIssuer=O5;var D5="function"==typeof setImmediate&&setImmediate,j5=D5?function(e){return D5(e)}:function(e){return setTimeout(e,0)};function Q5(e,t,r){F5.nextTick((function(){return e(t,r)}))}function H5(e,t){if(E5.isArray(t))for(var r=0;r<t.length;++r)t[r]=H5(e,t[r]);else if(C5.isList(t))t["@list"]=H5(e,t["@list"]);else if(E5.isObject(t)){C5.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=n[i];"@id"!==a&&(t[a]=H5(e,t[a]))}}return t}F5.nextTick="object"==i(dX)?tX:j5,F5.setImmediate=D5?j5:F5.nextTick,F5.clone=function(e){if(e&&"object"==i(e)){var t;if(E5.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=F5.clone(e[r])}else if(e instanceof Map){t=new Map;var n,a=L(e);try{for(a.s();!(n=a.n()).done;){var o=B(n.value,2),s=o[0],u=o[1];t.set(s,F5.clone(u))}}catch(e){a.e(e)}finally{a.f()}}else if(e instanceof Set){t=new Set;var c,l=L(e);try{for(l.s();!(c=l.n()).done;){var f=c.value;t.add(F5.clone(f))}}catch(e){l.e(e)}finally{l.f()}}else if(E5.isObject(e))for(var h in t={},e)t[h]=F5.clone(e[h]);else t=e.toString();return t}return e},F5.asArray=function(e){return Array.isArray(e)?e:[e]},F5.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(e).some((function(e){return"accept"===e.toLowerCase()})))throw new RangeError('Accept header may not be specified; only "'+U5+'" is supported.');return Object.assign({Accept:U5},e)},F5.parseLinkHeader=function(e){for(var t={},r=e.match(L5),n=0;n<r.length;++n){var i=r[n].match(N5);if(i){for(var a={target:i[1]},o=i[2];i=M5.exec(o);)a[i[1]]=void 0===i[2]?i[3]:i[2];var s=a.rel||"";Array.isArray(t[s])?t[s].push(a):t.hasOwnProperty(s)?t[s]=[t[s],a]:t[s]=a}}return t},F5.validateTypeValue=function(e){if(!E5.isString(e)&&!E5.isEmptyObject(e)){var t=!1;if(E5.isArray(e)){t=!0;for(var r=0;r<e.length;++r)if(!E5.isString(e[r])){t=!1;break}}if(!t)throw new I5('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},F5.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var r=e[t];return!E5.isArray(r)||r.length>0}return!1},F5.hasValue=function(e,t,r){if(F5.hasProperty(e,t)){var n=e[t],i=C5.isList(n);if(E5.isArray(n)||i){i&&(n=n["@list"]);for(var a=0;a<n.length;++a)if(F5.compareValues(r,n[a]))return!0}else if(!E5.isArray(r))return F5.compareValues(r,n)}return!1},F5.addValue=function(e,t,r,n){if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),n.valueIsArray)e[t]=r;else if(E5.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]);for(var i=0;i<r.length;++i)F5.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){var a=!n.allowDuplicate&&F5.hasValue(e,t,r);E5.isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},F5.getValues=function(e,t){return[].concat(e[t]||[])},F5.removeProperty=function(e,t){delete e[t]},F5.removeValue=function(e,t,r,n){"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);var i=F5.getValues(e,t).filter((function(e){return!F5.compareValues(e,r)}));0===i.length?F5.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},F5.relabelBlankNodes=function(e,t){return H5((t=t||{}).issuer||new O5("_:b"),e)},F5.compareValues=function(e,t){return e===t||!(!C5.isValue(e)||!C5.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(E5.isObject(e)&&"@id"in e&&E5.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]},F5.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},F5.normalizeDocumentLoader=function(e){return e.length<2?F5.callbackify(e):function(){var t=T5(n().mark((function t(r){var i,a=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a[1],t.abrupt("return",new Promise((function(t,n){try{e(r,(function(e,r){if("function"==typeof i)return Q5(i,e,r);e?n(e):t(r)}))}catch(e){if("function"==typeof i)return Q5(i,e);n(e)}})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F5.callbackify=function(e){return function(){var t=T5(n().mark((function t(){var r,i,a,o,s,u=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=u.length,i=new Array(r),a=0;a<r;a++)i[a]=u[a];return"function"==typeof(o=i[i.length-1])&&i.pop(),t.prev=3,t.next=6,e.apply(null,i);case 6:s=t.sent,t.next=14;break;case 9:if(t.prev=9,t.t0=t.catch(3),"function"!=typeof o){t.next=13;break}return t.abrupt("return",Q5(o,t.t0));case 13:throw t.t0;case 14:return t.abrupt("return","function"==typeof o?Q5(o,null,s):s);case 15:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}()};var K5,V5=c0.NQuads,z5="http://www.w3.org/1999/02/22-rdf-syntax-ns#",q5="http://www.w3.org/2001/XMLSchema#",G5={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:z5,RDF_LIST:z5+"List",RDF_FIRST:z5+"first",RDF_REST:z5+"rest",RDF_NIL:z5+"nil",RDF_TYPE:z5+"type",RDF_PLAIN_LITERAL:z5+"PlainLiteral",RDF_XML_LITERAL:z5+"XMLLiteral",RDF_JSON_LITERAL:z5+"JSON",RDF_OBJECT:z5+"object",RDF_LANGSTRING:z5+"langString",XSD:q5,XSD_BOOLEAN:q5+"boolean",XSD_DOUBLE:q5+"double",XSD_INTEGER:q5+"integer",XSD_STRING:q5+"string"},W5=G5.RDF_LANGSTRING,J5=G5.RDF_PLAIN_LITERAL,X5=G5.RDF_OBJECT,Y5=G5.RDF_XML_LITERAL,$5=G5.XSD_STRING;K5="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var Z5=R5.clone,e3={},t3=e3;e3.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},e3.parse=function(e,t){for(var r={},n=e3.parsers[t||"full"],i=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===i[a]?null:i[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=e3.removeDotSegments(r.path),r},e3.prependBase=function(e,t){if(null===e)return t;if(-1!==t.indexOf(":"))return t;E5.isString(e)&&(e=e3.parse(e||""));var r=e3.parse(t),n={protocol:e.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,""===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{var i=e.path;(i=i.substr(0,i.lastIndexOf("/")+1)).length>0&&"/"!==i.substr(-1)&&(i+="/"),i+=r.path,n.path=i}n.query=r.query}""!==r.path&&(n.path=e3.removeDotSegments(n.path));var a=n.protocol;return null!==n.authority&&(a+="//"+n.authority),a+=n.path,null!==n.query&&(a+="?"+n.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},e3.removeBase=function(e,t){if(null===e)return t;E5.isString(e)&&(e=e3.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;for(var n=e3.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),a=n.normalizedPath.split("/"),o=n.fragment||n.query?0:1;i.length>0&&a.length>o&&i[0]===a[0];)i.shift(),a.shift();var s="";if(i.length>0){i.pop();for(var u=0;u<i.length;++u)s+="../"}return s+=a.join("/"),null!==n.query&&(s+="?"+n.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s},e3.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),r=[];t.length>0;){var n=t.shift(),i=0===t.length;"."!==n?".."!==n?r.push(n):(r.pop(),i&&r.push("")):i&&r.push("")}return r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};var r3=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;function n3(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i3(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){n3(a,n,i,o,s,"next",e)}function s(e){n3(a,n,i,o,s,"throw",e)}o(void 0)}))}}e3.isAbsolute=function(e){return E5.isString(e)&&r3.test(e)},e3.isRelative=function(e){return E5.isString(e)};var a3=E5.isArray,o3=E5.isObject,s3=E5.isString,u3=E5.isUndefined,c3=t3.isAbsolute,l3=t3.isRelative,f3=t3.prependBase,h3=t3.parse,A3=R5.asArray,d3=R5.compareShortestLeast,p3=new Map,v3={},g3=v3;function y3(e,t,r,n,i,a){if(null===t||!s3(t)||v3.isKeyword(t))return t;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&v3.createTermDefinition(e,n,t,i,a),e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext),(r=r||{}).vocab){var o=e.mappings.get(t);if(null===o)return null;if(o)return o["@id"]}var s=t.indexOf(":");if(-1!==s){var u=t.substr(0,s),c=t.substr(s+1);return"_"===u||0===c.indexOf("//")?t:(n&&n.hasOwnProperty(u)&&v3.createTermDefinition(e,n,u,i,a),e.mappings.has(u)?e.mappings.get(u)["@id"]+c:t)}return r.vocab&&"@vocab"in e?e["@vocab"]+t:r.base?f3(e["@base"],t):t}function m3(){return(m3=i3(n().mark((function e(t,r){var i,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return(o=i3(n().mark((function e(t,i,o){var s,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.size>10)){e.next=2;break}throw new I5("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:10});case 2:if(s=new Map,b3(t,s,!1,r.base),0!==s.size){e.next=5;break}return e.abrupt("return");case 5:return u=S(s.keys()).filter((function(e){return!1===s.get(e)})),e.abrupt("return",Promise.all(u.map(function(){var e=i3(n().mark((function e(u){var c,l,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.has(u)){e.next=2;break}throw new I5("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:u});case 2:return(c=new Set(i)).add(u),e.prev=4,e.next=7,o(u);case 7:l=e.sent,f=l.document||null,s3(f)&&(f=JSON.parse(f)),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(4),new I5("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:u,cause:e.t0});case 15:if(o3(f)){e.next=17;break}throw new I5("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:u});case 17:return f="@context"in f?{"@context":f["@context"]}:{"@context":{}},l.contextUrl&&(a3(f["@context"])||(f["@context"]=[f["@context"]]),f["@context"].push(l.contextUrl)),e.next=21,a(f,c,o);case 21:s.set(u,f["@context"]),b3(t,s,!0,r.base);case 23:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}())));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},a=function(e,t,r){return o.apply(this,arguments)},i=R5.normalizeDocumentLoader(r.documentLoader),e.next=5,a(t,new Set,i);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b3(e,t,r,n){if(a3(e)){var i,a=L(e);try{for(a.s();!(i=a.n()).done;){b3(i.value,t,r,n)}}catch(e){a.e(e)}finally{a.f()}}else if(o3(e))for(var o in e)if("@context"===o){var s=e[o];if(a3(s))for(var u=s.length,c=0;c<u;++c){var l=s[c];if(s3(l)){var f=f3(n,l),h=t.get(f);r?a3(h)?(Array.prototype.splice.apply(s,[c,1].concat(h)),c+=h.length-1,u=s.length):!1!==h&&(s[c]=h):void 0===h&&t.set(f,!1)}else for(var A in l)o3(l[A])&&b3(l[A],t,r,n)}else if(s3(s)){var d=f3(n,s),p=t.get(d);r?!1!==p&&(e[o]=p):void 0===p&&t.set(d,!1)}else for(var v in s)o3(s[v])&&b3(s[v],t,r,n)}else b3(e[o],t,r,n)}function w3(e,t){if(!e||"object"!=i(e)||!t||"object"!=i(t))return e===t;var r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!w3(e[n],t[n]))return!1;return!0}var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s in e){var u=e[s],c=t[s];if("@container"===s&&Array.isArray(u)&&Array.isArray(c)&&(u=u.slice().sort(),c=c.slice().sort()),!w3(u,c))return!1}return!0}v3.cache=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;s(this,e),this.order=[],this.cache=new Map,this.size=t}return c(e,[{key:"get",value:function(e,t){var r=this.cache.get(e);if(r){var n=JSON.stringify(t);return r.get(n)||null}return null}},{key:"set",value:function(e,t,r){if(this.order.length===this.size){var n=this.order.shift();this.cache.get(n.activeCtx).delete(n.localCtx)}var i=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:i});var a=this.cache.get(e);a||(a=new Map,this.cache.set(e,a)),a.set(i,Z5(r))}}]),e}()),v3.process=function(e){var t=e.activeCtx,r=e.localCtx,n=e.options,i=e.isPropertyTermScopedContext,a=void 0!==i&&i,o=e.isTypeScopedContext,s=void 0!==o&&o;o3(r)&&"@context"in r&&a3(r["@context"])&&(r=r["@context"]);var u=A3(r);if(0===u.length)return t;var c=t.previousContext||t;if(a&&t.previousContext)return(t=t.clone()).isPropertyTermScoped=!0,t.previousContext=v3.process({activeCtx:t.previousContext,localCtx:u,options:n,isPropertyTermScopedContext:a}),t;for(var l=t,f=0;f<u.length;++f){var h=u[f];if(t=l,null!==h){if(v3.cache){var A=v3.cache.get(t,h);if(A){l=t=A;continue}}if(o3(h)&&"@context"in h&&(h=h["@context"]),!o3(h))throw new I5("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:h});l=l.clone();var d=new Map;if("@version"in h){if(1.1!==h["@version"])throw new I5("Unsupported JSON-LD version: "+h["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:h});if(t.processingMode&&"json-ld-1.0"===t.processingMode)throw new I5("@version: "+h["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:h});l.processingMode="json-ld-1.1",l["@version"]=h["@version"],d.set("@version",!0)}if(l.processingMode=l.processingMode||t.processingMode||"json-ld-1.0","@base"in h){var p=h["@base"];if(null===p);else if(c3(p))p=h3(p);else{if(!l3(p))throw new I5('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:h});p=h3(f3(t["@base"].href,p))}l["@base"]=p,d.set("@base",!0)}if("@vocab"in h){var v=h["@vocab"];if(null===v)delete l["@vocab"];else{if(!s3(v))throw new I5('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:h});if(!c3(v))throw new I5('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:h});l["@vocab"]=v}d.set("@vocab",!0)}if("@language"in h){var g=h["@language"];if(null===g)delete l["@language"];else{if(!s3(g))throw new I5('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:h});l["@language"]=g.toLowerCase()}d.set("@language",!0)}for(var y in d.set("@protected",h["@protected"]||!1),h)v3.createTermDefinition(l,h,y,d,n,a);s&&!l.previousContext&&(l.previousContext=c.clone()),v3.cache&&v3.cache.set(t,h,l)}else{if(!a&&0!==Object.keys(t.protected).length){var m=n&&n.protectedMode||"error";if("error"===m)throw new I5("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===m){console.warn("WARNING: invalid context nullification");var b=t;l=t=v3.getInitialContext(n).clone();for(var w=0,x=Object.entries(b.protected);w<x.length;w++){var k=B(x[w],2),_=k[0];k[1]&&(t.mappings[_]=R5.clone(b.mappings[_]))}t.protected=R5.clone(b.protected),v3.cache&&v3.cache.set(b,h,l);continue}throw new I5("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:r,protectedMode:m})}l=t=v3.getInitialContext(n).clone(),s&&(l.previousContext=c.clone())}}return l},v3.createTermDefinition=function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n.has(r)){if(n.get(r))return;throw new I5("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n.set(r,!1),v3.isKeyword(r))throw new I5("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new I5("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var o,s=e.mappings.get(r);if(e.mappings.has(r)&&e.mappings.delete(r),t.hasOwnProperty(r)&&(o=t[r]),null===o||o3(o)&&null===o["@id"])return e.mappings.set(r,null),void n.set(r,!0);var u=!1;if(s3(o)&&(u=!0,o={"@id":o}),!o3(o))throw new I5("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});var c={};e.mappings.set(r,c),c.reverse=!1;var l=["@container","@id","@language","@reverse","@type"];for(var f in v3.processingMode(e,1.1)&&l.push("@context","@nest","@prefix","@protected"),o)if(!l.includes(f))throw new I5("Invalid JSON-LD syntax; a term definition must not contain "+f,"jsonld.SyntaxError",{code:"invalid term definition",context:t});var h=r.indexOf(":");if(c._termHasColon=-1!==h,"@reverse"in o){if("@id"in o)throw new I5("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in o)throw new I5("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});var A=o["@reverse"];if(!s3(A))throw new I5("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});var d=y3(e,A,{vocab:!0,base:!1},t,n,i);if(!c3(d))throw new I5("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=d,c.reverse=!0}else if("@id"in o){var p=o["@id"];if(!s3(p))throw new I5("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(p!==r){if(p=y3(e,p,{vocab:!0,base:!1},t,n,i),!c3(p)&&!v3.isKeyword(p))throw new I5("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});c["@id"]=p,c._prefix=!c._termHasColon&&p.match(/[:\/\?#\[\]@]$/)&&(u||v3.processingMode(e,1))}}if(!("@id"in c))if(c._termHasColon){var v=r.substr(0,h);if(t.hasOwnProperty(v)&&v3.createTermDefinition(e,t,v,n,i),e.mappings.has(v)){var g=r.substr(h+1);c["@id"]=e.mappings.get(v)["@id"]+g}else c["@id"]=r}else{if(!("@vocab"in e))throw new I5("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});c["@id"]=e["@vocab"]+r}if((!0===o["@protected"]||!0===n.get("@protected")&&!1!==o["@protected"])&&(e.protected[r]=!0,c.protected=!0),n.set(r,!0),"@type"in o){var y=o["@type"];if(!s3(y))throw new I5("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==y&&"@vocab"!==y&&"@json"!==y){if(y=y3(e,y,{vocab:!0,base:!1},t,n,i),!c3(y))throw new I5("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===y.indexOf("_:"))throw new I5("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}c["@type"]=y}if("@container"in o){var m=s3(o["@container"])?[o["@container"]]:o["@container"]||[],b=["@list","@set","@index","@language"],w=!0,x=m.includes("@set");if(v3.processingMode(e,1.1))if(b.push("@graph","@id","@type"),m.includes("@list")){if(1!==m.length)throw new I5("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(m.includes("@graph")){if(m.some((function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e})))throw new I5("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else w&=m.length<=(x?2:1);else w&=!a3(o["@container"]),w&=m.length<=1;if(w&=m.every((function(e){return b.includes(e)})),!(w&=!(x&&m.includes("@list"))))throw new I5("Invalid JSON-LD syntax; @context @container value must be one of the following: "+b.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(c.reverse&&!m.every((function(e){return["@index","@set"].includes(e)})))throw new I5("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});c["@container"]=m}if("@context"in o&&(c["@context"]=o["@context"]),"@language"in o&&!("@type"in o)){var k=o["@language"];if(null!==k&&!s3(k))throw new I5("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==k&&(k=k.toLowerCase()),c["@language"]=k}if("@prefix"in o){if(c._termHasColon)throw new I5("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof o["@prefix"])throw new I5("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});c._prefix=!0===o["@prefix"]}if("@nest"in o){var _=o["@nest"];if(!s3(_)||"@nest"!==_&&0===_.indexOf("@"))throw new I5("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});c["@nest"]=_}// disallow aliasing @context and @preserve
var B=c["@id"];if("@context"===B||"@preserve"===B)throw new I5("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!a&&(e.protected[r]=!0,c.protected=!0,!w3(s,c))){var E=i&&i.protectedMode||"error";if("error"===E)throw new I5("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===E)return void console.warn("WARNING: protected term redefinition",{term:r});throw new I5("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:E})}},v3.expandIri=function(e,t,r,n){return y3(e,t,r,void 0,void 0,n)},v3.getInitialContext=function(e){var t=h3(e.base||""),r=JSON.stringify({base:t,processingMode:e.processingMode}),n=p3.get(r);if(n)return n;var i={"@base":t,processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){var e=this;if(e.inverse)return e.inverse;var t,r=e.inverse={},n=e.fastCurieMap={},i={},s=e["@language"]||"@none",u=e.mappings,c=L(S(u.keys()).sort(d3));try{for(c.s();!(t=c.n()).done;){var l=t.value,f=u.get(l);if(null!==f){var h=f["@container"]||"@none";h=[].concat(h).sort().join("");var A,d=L(A3(f["@id"]));try{for(d.s();!(A=d.n()).done;){var p=A.value,v=r[p],g=v3.isKeyword(p);if(v)g||f._termHasColon||i[p].push(l);else if(r[p]=v={},!g&&!f._termHasColon){i[p]=[l];var y={iri:p,terms:i[p]};p[0]in n?n[p[0]].push(y):n[p[0]]=[y]}if(v[h]||(v[h]={"@language":{},"@type":{},"@any":{}}),o(l,(v=v[h])["@any"],"@none"),f.reverse)o(l,v["@type"],"@reverse");else if("@type"in f)o(l,v["@type"],f["@type"]);else if("@language"in f){var m=f["@language"]||"@null";o(l,v["@language"],m)}else o(l,v["@language"],s),o(l,v["@type"],"@none"),o(l,v["@language"],"@none")}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){c.e(e)}finally{c.f()}for(var b in n)a(n,b,1);return r},clone:function(){var e={};return e["@base"]=this["@base"],e.mappings=R5.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=R5.clone(this.protected),this.previousContext&&(e.isPropertyTermScoped=this.previousContext.isPropertyTermScoped,e.previousContext=this.previousContext.clone()),e.revertTypeScopedContext=this.revertTypeScopedContext,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertTypeScopedContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===p3.size&&p3.clear(),p3.set(r,i),i;function a(e,t,r){var n,i,o,s=e[t],u=e[t]={},c=L(s);try{for(c.s();!(o=c.n()).done;){var l=o.value;(i=r>=(n=l.iri).length?"":n[r])in u?u[i].push(l):u[i]=[l]}}catch(e){c.e(e)}finally{c.f()}for(var f in u)""!==f&&a(u,f,r+1)}function o(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},v3.getContextValue=function(e,t,r){if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){var n=e.mappings.get(t);if(u3(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&e.hasOwnProperty(r)?e[r]:"@context"!==r?null:void 0},v3.getAllContexts=function(){var e=i3(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(e,t){return m3.apply(this,arguments)}(t,r));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v3.processingMode=function(e,t){return t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode},v3.isKeyword=function(e){if(!s3(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};var x3=E5.isArray,k3=E5.isObject,_3=E5.isEmptyObject,B3=E5.isString,E3=E5.isUndefined,S3=C5.isList,C3=C5.isValue,I3=C5.isGraph,P3=g3.expandIri,T3=g3.getContextValue,O3=g3.isKeyword,L3=g3.process,N3=g3.processingMode,M3=t3.isAbsolute,U3=R5.addValue,F3=R5.asArray,R3=R5.getValues,D3=R5.validateTypeValue,j3={},Q3=j3;function H3(e){var t,r=e.activeCtx,n=e.activeProperty,i=e.expandedActiveProperty,a=e.element,o=e.expandedParent,s=e.options,u=void 0===s?{}:s,c=e.insideList,l=e.expansionMap,f=[],h=L(Object.keys(a).sort());try{for(h.s();!(t=h.n()).done;){var A=t.value,d=void 0,p=a[A];if("@context"!==A){var v=P3(r,A,{vocab:!0},u);if(null!==v&&(M3(v)||O3(v))||void 0!==(v=l({unmappedProperty:A,activeCtx:r,activeProperty:n,parent:a,options:u,insideList:c,value:p,expandedParent:o}))){if(O3(v)){if("@reverse"===i)throw new I5("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:p});if(v in o)throw new I5("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:v})}if("@id"!==v)if("@type"!==v){if("@graph"===v&&!k3(p)&&!x3(p))throw new I5('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:p});if("@value"!==v)if("@language"!==v)if("@index"!==v)if("@reverse"!==v)if("@nest"!==v){var g=r,y=T3(r,A,"@context");E3(y)||(g=L3({activeCtx:r,localCtx:y,isPropertyTermScopedContext:!0,options:u}));var m=T3(g,A,"@container")||[];if(m.includes("@language")&&k3(p))d=K3(g,p,u);else if(m.includes("@index")&&k3(p)){var b=m.includes("@graph");d=V3({activeCtx:g,options:u,activeProperty:A,value:p,expansionMap:l,asGraph:b,indexKey:"@index"})}else if(m.includes("@id")&&k3(p)){var w=m.includes("@graph");d=V3({activeCtx:g,options:u,activeProperty:A,value:p,expansionMap:l,asGraph:w,indexKey:"@id"})}else if(m.includes("@type")&&k3(p))d=V3({activeCtx:g.revertTypeScopedContext(),options:u,activeProperty:A,value:p,expansionMap:l,asGraph:!1,indexKey:"@type"});else{var x="@list"===v;if(x||"@set"===v){var k=n;x&&"@graph"===i&&(k=null),d=j3.expand({activeCtx:g,activeProperty:k,element:p,options:u,insideList:x,expansionMap:l})}else d="@json"===T3(r,A,"@type")?{"@type":"@json","@value":p}:j3.expand({activeCtx:g,activeProperty:A,element:p,options:u,insideList:!1,expansionMap:l})}if(null!==d||"@value"===v||void 0!==(d=l({unmappedValue:p,expandedProperty:v,activeCtx:g,activeProperty:n,parent:a,options:u,insideList:c,key:A,expandedParent:o})))if("@list"!==v&&!S3(d)&&m.includes("@list")&&(d={"@list":F3(d)}),m.includes("@graph")&&!m.some((function(e){return"@id"===e||"@index"===e}))&&(d=F3(d).map((function(e){return I3(e)?e:{"@graph":F3(e)}}))),g.mappings.has(A)&&g.mappings.get(A).reverse){var _=o["@reverse"]=o["@reverse"]||{};d=F3(d);for(var B=0;B<d.length;++B){var E=d[B];if(C3(E)||S3(E))throw new I5('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:d});U3(_,v,E,{propertyIsArray:!0})}}else{var S=!["@index","@id","@type","@value","@language"].includes(v);U3(o,v,d,{propertyIsArray:S})}}else f.push(A);else{if(!k3(p))throw new I5('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:p});if("@reverse"in(d=j3.expand({activeCtx:r,activeProperty:"@reverse",element:p,options:u,expansionMap:l})))for(var C in d["@reverse"])U3(o,C,d["@reverse"][C],{propertyIsArray:!0});var I=o["@reverse"]||null;for(var P in d)if("@reverse"!==P){null===I&&(I=o["@reverse"]={}),U3(I,P,[],{propertyIsArray:!0});for(var T=d[P],O=0;O<T.length;++O){var N=T[O];if(C3(N)||S3(N))throw new I5('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:d});U3(I,P,N,{propertyIsArray:!0})}}}else{if(!B3(p))throw new I5('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:p});U3(o,"@index",p)}else{if(null===p)continue;if(!B3(p)&&!u.isFrame)throw new I5('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:p});p=F3(p).map((function(e){return B3(e)?e.toLowerCase():e})),U3(o,"@language",p,{propertyIsArray:u.isFrame})}else U3(o,"@value",p,{propertyIsArray:u.isFrame})}else D3(p),U3(o,"@type",F3(p).map((function(e){return B3(e)?P3(r.previousContext||r,e,{base:!0,vocab:!0},u):e})),{propertyIsArray:u.isFrame});else{if(!B3(p)){if(!u.isFrame)throw new I5('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:p});if(k3(p)){if(!_3(p))throw new I5('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}else{if(!x3(p))throw new I5('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p});if(!p.every((function(e){return B3(e)})))throw new I5('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:p})}}U3(o,"@id",F3(p).map((function(e){return B3(e)?P3(r,e,{base:!0},u):e})),{propertyIsArray:u.isFrame})}}}}}catch(e){h.e(e)}finally{h.f()}if("@value"in a){var M=a["@value"];if("@json"===a["@type"]&&N3(r,1.1));else if((k3(M)||x3(M))&&!u.isFrame)throw new I5('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:M})}for(var U=0,F=f;U<F.length;U++){var R,D=F[U],j=L(x3(a[D])?a[D]:[a[D]]);try{for(j.s();!(R=j.n()).done;){var Q=R.value;if(!k3(Q)||Object.keys(Q).some((function(e){return"@value"===P3(r,e,{vocab:!0},u)})))throw new I5("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Q});H3({activeCtx:r,activeProperty:n,expandedActiveProperty:i,element:Q,expandedParent:o,options:u,insideList:c,expansionMap:l})}}catch(e){j.e(e)}finally{j.f()}}}function K3(e,t,r){var n,i=[],a=L(Object.keys(t).sort());try{for(a.s();!(n=a.n()).done;){var o=n.value,s=P3(e,o,{vocab:!0},r),u=t[o];x3(u)||(u=[u]);var c,l=L(u);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(null!==f){if(!B3(f))throw new I5("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var h={"@value":f};"@none"!==s&&(h["@language"]=o.toLowerCase()),i.push(h)}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){a.e(e)}finally{a.f()}return i}function V3(e){var t,r=e.activeCtx,n=e.options,i=e.activeProperty,a=e.value,o=e.expansionMap,s=e.asGraph,u=e.indexKey,c=[],l="@type"===u,f=L(Object.keys(a).sort());try{for(f.s();!(t=f.n()).done;){var h=t.value;if(l){var A=T3(r,h,"@context");E3(A)||(r=L3({activeCtx:r,localCtx:A,isTypeScopedContext:!0,options:n}))}var d=a[h];x3(d)||(d=[d]);var p=P3(r,h,{vocab:!0},n);"@id"===u?h=P3(r,h,{base:!0},n):l&&(h=p);var v,g=L(d=j3.expand({activeCtx:r,activeProperty:i,element:d,options:n,insideList:!1,insideIndex:!0,expansionMap:o}));try{for(g.s();!(v=g.n()).done;){var y=v.value;s&&!I3(y)&&(y={"@graph":[y]}),"@type"===u?"@none"===p||(y["@type"]?y["@type"]=[h].concat(y["@type"]):y["@type"]=[h]):"@none"===p||u in y||(y[u]=h),c.push(y)}}catch(e){g.e(e)}finally{g.f()}}}catch(e){f.e(e)}finally{f.f()}return c}j3.expand=function(e){var t=e.activeCtx,r=e.activeProperty,n=void 0===r?null:r,a=e.element,o=e.options,s=void 0===o?{}:o,u=e.insideList,c=void 0!==u&&u,l=e.insideIndex,f=void 0!==l&&l,h=e.typeScopedContext,A=void 0===h?null:h,d=e.expansionMap,p=void 0===d?function(){}:d;if(null==a)return null;if("@default"===n&&(s=Object.assign({},s,{isFrame:!1})),!x3(a)&&!k3(a)){if(!c&&(null===n||"@graph"===P3(t,n,{vocab:!0},s))){var v=p({unmappedValue:a,activeCtx:t,activeProperty:n,options:s,insideList:c});return void 0===v?null:v}return function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,a=e.options;if(null==n)return null;var o=P3(t,r,{vocab:!0},a);if("@id"===o)return P3(t,n,{base:!0},a);if("@type"===o)return P3(t,n,{vocab:!0,base:!0},a);var s=T3(t,r,"@type");if(("@id"===s||"@graph"===o)&&B3(n))return{"@id":P3(t,n,{base:!0},a)};if("@vocab"===s&&B3(n))return{"@id":P3(t,n,{vocab:!0,base:!0},a)};if(O3(o))return n;var u={};if(s&&!["@id","@vocab"].includes(s))u["@type"]=s;else if(B3(n)){var c=T3(t,r,"@language");null!==c&&(u["@language"]=c)}return["boolean","number","string"].includes(i(n))||(n=n.toString()),u["@value"]=n,u}({activeCtx:t,activeProperty:n,value:a,options:s})}if(x3(a)){var g=[],y=T3(t,n,"@container")||[];c=c||y.includes("@list");for(var m=0;m<a.length;++m){var b=j3.expand({activeCtx:t,activeProperty:n,element:a[m],options:s,expansionMap:p,insideIndex:f,typeScopedContext:A});c&&x3(b)&&(b={"@list":b}),null===b&&void 0===(b=p({unmappedValue:a[m],activeCtx:t,activeProperty:n,parent:a,index:m,options:s,expandedParent:g,insideList:c}))||(x3(b)?g=g.concat(b):g.push(b))}return g}var w=P3(t,n,{vocab:!0},s);A=A||(t.previousContext?t:null);var x=Object.keys(a).sort(),k=!f;if(k&&A&&x.length<=2&&!x.includes("@context")){var _,B=L(x);try{for(B.s();!(_=B.n()).done;){var E=_.value,S=P3(A,E,{vocab:!0},s);if("@value"===S){k=!1,t=A;break}if("@id"===S&&1===x.length){k=!1;break}}}catch(e){B.e(e)}finally{B.f()}}k&&(t=t.revertTypeScopedContext()),"@context"in a&&(t=L3({activeCtx:t,localCtx:a["@context"],options:s}));var C,I=L(x);try{for(I.s();!(C=I.n()).done;){var P=C.value;if("@type"===P3(t,P,{vocab:!0},s)){var T,O=a[P],N=L(Array.isArray(O)?O.length>1?O.slice().sort():O:[O]);try{for(N.s();!(T=N.n()).done;){var M=T.value,U=T3(t.previousContext||t,M,"@context");E3(U)||(t=L3({activeCtx:t,localCtx:U,options:s,isTypeScopedContext:!0}))}}catch(e){N.e(e)}finally{N.f()}}}}catch(e){I.e(e)}finally{I.f()}var F={};H3({activeCtx:t,activeProperty:n,expandedActiveProperty:w,element:a,expandedParent:F,options:s,insideList:c,typeScopedContext:A,expansionMap:p});var R=(x=Object.keys(F)).length;if("@value"in F){if("@type"in F&&"@language"in F)throw new I5('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:F});var D=R-1;if("@type"in F&&(D-=1),"@index"in F&&(D-=1),"@language"in F&&(D-=1),0!==D)throw new I5('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:F});var j=null===F["@value"]?[]:F3(F["@value"]),Q=R3(F,"@type");if(0===j.length){var H=p({unmappedValue:F,activeCtx:t,activeProperty:n,element:a,options:s,insideList:c});F=void 0!==H?H:null}else{if(!j.every((function(e){return B3(e)||_3(e)}))&&"@language"in F)throw new I5("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:F});if(N3(t,1.1)&&Q.includes("@json")&&1===Q.length);else if(!Q.every((function(e){return M3(e)&&!(B3(e)&&0===e.indexOf("_:"))||_3(e)})))throw new I5('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:F})}}else if("@type"in F&&!x3(F["@type"]))F["@type"]=[F["@type"]];else if("@set"in F||"@list"in F){if(R>1&&(2!==R||!("@index"in F)))throw new I5('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:F});"@set"in F&&(F=F["@set"],R=(x=Object.keys(F)).length)}else if(1===R&&"@language"in F){var K=p(F,{unmappedValue:F,activeCtx:t,activeProperty:n,element:a,options:s,insideList:c});F=void 0!==K?K:null}if(k3(F)&&!s.keepFreeFloatingNodes&&!c&&(null===n||"@graph"===w)&&(0===R||"@value"in F||"@list"in F||1===R&&"@id"in F)){var V=p({unmappedValue:F,activeCtx:t,activeProperty:n,element:a,options:s,insideList:c});F=void 0!==V?V:null}return F};var z3=g3.isKeyword,q3={},G3=q3;q3.createMergedNodeMap=function(e,t){var r=(t=t||{}).issuer||new R5.IdentifierIssuer("_:b"),n={"@default":{}};return q3.createNodeMap(e,n,"@default",r),q3.mergeNodeMaps(n)},q3.createNodeMap=function(e,t,r,n,i,a){if(E5.isArray(e)){var o,s=L(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;q3.createNodeMap(u,t,r,n,void 0,a)}}catch(e){s.e(e)}finally{s.f()}}else if(E5.isObject(e))if(C5.isValue(e)){if("@type"in e){var c=e["@type"];0===c.indexOf("_:")&&(e["@type"]=c=n.getId(c))}a&&a.push(e)}else{if(a&&C5.isList(e)){var l=[];return q3.createNodeMap(e["@list"],t,r,n,i,l),void a.push({"@list":l})}if("@type"in e){var f,h=L(e["@type"]);try{for(h.s();!(f=h.n()).done;){var A=f.value;0===A.indexOf("_:")&&n.getId(A)}}catch(e){h.e(e)}finally{h.f()}}E5.isUndefined(i)&&(i=C5.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),a&&a.push({"@id":i});var d=t[r],p=d[i]=d[i]||{};p["@id"]=i;var v,g=L(Object.keys(e).sort());try{for(g.s();!(v=g.n()).done;){var y=v.value;if("@id"!==y)if("@reverse"!==y)if("@graph"!==y)if("@type"!==y&&z3(y)){if("@index"===y&&y in p&&(e[y]!==p[y]||e[y]["@id"]!==p[y]["@id"]))throw new I5("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[y]=e[y]}else{var m=e[y];if(0===y.indexOf("_:")&&(y=n.getId(y)),0!==m.length){var b,w=L(m);try{for(w.s();!(b=w.n()).done;){var x=b.value;if("@type"===y&&(x=0===x.indexOf("_:")?n.getId(x):x),C5.isSubject(x)||C5.isSubjectReference(x)){var k=C5.isBlankNode(x)?n.getId(x["@id"]):x["@id"];R5.addValue(p,y,{"@id":k},{propertyIsArray:!0,allowDuplicate:!1}),q3.createNodeMap(x,t,r,n,k)}else if(C5.isValue(x))R5.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1});else if(C5.isList(x)){var _=[];q3.createNodeMap(x["@list"],t,r,n,i,_),x={"@list":_},R5.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1})}else q3.createNodeMap(x,t,r,n,i),R5.addValue(p,y,x,{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){w.e(e)}finally{w.f()}}else R5.addValue(p,y,[],{propertyIsArray:!0})}else i in t||(t[i]={}),q3.createNodeMap(e[y],t,i,n);else{var B={"@id":i},E=e["@reverse"];for(var S in E){var C,I=L(E[S]);try{for(I.s();!(C=I.n()).done;){var P=C.value,T=P["@id"];C5.isBlankNode(P)&&(T=n.getId(T)),q3.createNodeMap(P,t,r,n,T),R5.addValue(d[T],S,B,{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){I.e(e)}finally{I.f()}}}}}catch(e){g.e(e)}finally{g.f()}}else a&&a.push(e)},q3.mergeNodeMapGraphs=function(e){var t,r={},n=L(Object.keys(e).sort());try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=L(Object.keys(e[a]).sort());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e[a][s];s in r||(r[s]={"@id":s});var c,l=r[s],f=L(Object.keys(u).sort());try{for(f.s();!(c=f.n()).done;){var h=c.value;if(z3(h))l[h]=R5.clone(u[h]);else{var A,d=L(u[h]);try{for(d.s();!(A=d.n()).done;){var p=A.value;R5.addValue(l,h,R5.clone(p),{propertyIsArray:!0,allowDuplicate:!1})}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){f.e(e)}finally{f.f()}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return r},q3.mergeNodeMaps=function(e){var t,r=e["@default"],n=L(Object.keys(e).sort());try{for(n.s();!(t=n.n()).done;){var i=t.value;if("@default"!==i){var a=e[i],o=r[i];o?"@graph"in o||(o["@graph"]=[]):r[i]=o={"@id":i,"@graph":[]};var s,u=o["@graph"],c=L(Object.keys(a).sort());try{for(c.s();!(s=c.n()).done;){var l=a[s.value];C5.isSubjectReference(l)||u.push(l)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){n.e(e)}finally{n.f()}return r};var W3=C5.isSubjectReference,J3=G3.createMergedNodeMap,X3={},Y3=X3;function $3(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}X3.flatten=function(e){for(var t=J3(e),r=[],n=Object.keys(t).sort(),i=0;i<n.length;++i){var a=t[n[i]];W3(a)||r.push(a)}return r};var Z3=G5.RDF_LIST,e4=G5.RDF_FIRST,t4=G5.RDF_REST,r4=G5.RDF_NIL,n4=G5.RDF_TYPE,i4=G5.RDF_JSON_LITERAL,a4=G5.XSD_BOOLEAN,o4=G5.XSD_DOUBLE,s4=G5.XSD_INTEGER,u4=G5.XSD_STRING,c4={},l4=c4;function f4(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};var r={"@value":e.value};if(e.language)r["@language"]=e.language;else{var n=e.datatype.value;if(n||(n=u4),n===i4){n="@json";try{r["@value"]=JSON.parse(r["@value"])}catch(e){throw new I5("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:r["@value"],cause:e})}}if(t){if(n===a4)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(E5.isNumeric(r["@value"]))if(n===s4){var i=parseInt(r["@value"],10);i.toFixed(0)===r["@value"]&&(r["@value"]=i)}else n===o4&&(r["@value"]=parseFloat(r["@value"]));[a4,s4,o4,u4].includes(n)||(r["@type"]=n)}else n!==u4&&(r["@type"]=n)}return r}c4.fromRDF=function(){var e,t=(e=n().mark((function e(t,r){var i,a,o,s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_,B,E,S,C,I,P,T,O,N,M,U,F,R,D,j,Q,H,K,V,z,q,G,W,J,X,Y;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.useRdfType,a=void 0!==i&&i,o=r.useNativeTypes,s=void 0!==o&&o,c={"@default":u={}},l={},f=L(t),e.prev=3,f.s();case 5:if((h=f.n()).done){e.next=19;break}if(A=h.value,(d="DefaultGraph"===A.graph.termType?"@default":A.graph.value)in c||(c[d]={}),"@default"===d||d in u||(u[d]={"@id":d}),p=c[d],v=A.subject.value,g=A.predicate.value,y=A.object,v in p||(p[v]={"@id":v}),m=p[v],(b=y.termType.endsWith("Node"))&&!(y.value in p)&&(p[y.value]={"@id":y.value}),g!==n4||a||!b){e.next=15;break}return R5.addValue(m,"@type",y.value,{propertyIsArray:!0}),e.abrupt("continue",17);case 15:w=f4(y,s),R5.addValue(m,g,w,{propertyIsArray:!0}),b&&(y.value===r4?("usages"in(x=p[y.value])||(x.usages=[]),x.usages.push({node:m,property:g,value:w})):y.value in l?l[y.value]=!1:l[y.value]={node:m,property:g,value:w});case 17:e.next=5;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),f.e(e.t0);case 24:return e.prev=24,f.f(),e.finish(24);case 27:e.t1=n().keys(c);case 28:if((e.t2=e.t1()).done){e.next=37;break}if(k=e.t2.value,_=c[k],r4 in _){e.next=33;break}return e.abrupt("continue",28);case 33:if((B=_[r4]).usages){E=L(B.usages);try{for(E.s();!(S=E.n()).done;){for(C=S.value,I=C.node,P=C.property,T=C.value,O=[],N=[],M=Object.keys(I).length;P===t4&&E5.isObject(l[I["@id"]])&&E5.isArray(I[e4])&&1===I[e4].length&&E5.isArray(I[t4])&&1===I[t4].length&&(3===M||4===M&&E5.isArray(I["@type"])&&1===I["@type"].length&&I["@type"][0]===Z3)&&(O.push(I[e4][0]),N.push(I["@id"]),C=l[I["@id"]],I=C.node,P=C.property,T=C.value,M=Object.keys(I).length,C5.isBlankNode(I)););for(delete T["@id"],T["@list"]=O.reverse(),U=0,F=N;U<F.length;U++)R=F[U],delete _[R]}}catch(e){E.e(e)}finally{E.f()}delete B.usages}e.next=28;break;case 37:D=[],j=Object.keys(u).sort(),Q=L(j);try{for(Q.s();!(H=Q.n()).done;){if(K=H.value,V=u[K],K in c){z=V["@graph"]=[],q=c[K],G=Object.keys(q).sort(),W=L(G);try{for(W.s();!(J=W.n()).done;)X=J.value,Y=q[X],C5.isSubjectReference(Y)||z.push(Y)}catch(e){W.e(e)}finally{W.f()}}C5.isSubjectReference(V)||D.push(V)}}catch(e){Q.e(e)}finally{Q.f()}return e.abrupt("return",D);case 41:case"end":return e.stop()}}),e,null,[[3,21,24,27]])})),function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){$3(a,n,i,o,s,"next",e)}function s(e){$3(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();var h4=G3.createNodeMap,A4=g3.isKeyword,d4=G5.RDF_FIRST,p4=G5.RDF_REST,v4=G5.RDF_NIL,g4=G5.RDF_TYPE,y4=G5.RDF_JSON_LITERAL,m4=G5.RDF_LANGSTRING,b4=G5.XSD_BOOLEAN,w4=G5.XSD_DOUBLE,x4=G5.XSD_INTEGER,k4=G5.XSD_STRING,_4=t3.isAbsolute,B4={},E4=B4;function S4(e,t,r,n,i){var a,o=L(Object.keys(t).sort());try{for(o.s();!(a=o.n()).done;){var s,u=a.value,c=t[u],l=L(Object.keys(c).sort());try{for(l.s();!(s=l.n()).done;){var f=s.value,h=c[f];if("@type"===f)f=g4;else if(A4(f))continue;var A,d=L(h);try{for(d.s();!(A=d.n()).done;){var p=A.value,v={termType:u.startsWith("_:")?"BlankNode":"NamedNode",value:u};if(_4(u)){var g={termType:f.startsWith("_:")?"BlankNode":"NamedNode",value:f};if(_4(f)&&("BlankNode"!==g.termType||i.produceGeneralizedRdf)){var y=C4(p,n,e,r);y&&e.push({subject:v,predicate:g,object:y,graph:r})}}}}catch(e){d.e(e)}finally{d.f()}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}}function C4(e,t,r,n){var i={};if(C5.isValue(e)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};var a=e["@value"],o=e["@type"]||null;"@json"===o?(i.value=z1(a),i.datatype.value=y4):E5.isBoolean(a)?(i.value=a.toString(),i.datatype.value=o||b4):E5.isDouble(a)||o===w4?(E5.isDouble(a)||(a=parseFloat(a)),i.value=a.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=o||w4):E5.isNumber(a)?(i.value=a.toFixed(0),i.datatype.value=o||x4):"@language"in e?(i.value=a,i.datatype.value=o||m4,i.language=e["@language"]):(i.value=a,i.datatype.value=o||k4)}else if(C5.isList(e)){var s=function(e,t,r,n){var i,a={termType:"NamedNode",value:d4},o={termType:"NamedNode",value:p4},s={termType:"NamedNode",value:v4},u=e.pop(),c=u?{termType:"BlankNode",value:t.getId()}:s,l=c,f=L(e);try{for(f.s();!(i=f.n()).done;){var h=C4(i.value,t,r,n),A={termType:"BlankNode",value:t.getId()};r.push({subject:l,predicate:a,object:h,graph:n}),r.push({subject:l,predicate:o,object:A,graph:n}),l=A}}catch(e){f.e(e)}finally{f.f()}if(u){var d=C4(u,t,r,n);r.push({subject:l,predicate:a,object:d,graph:n}),r.push({subject:l,predicate:o,object:s,graph:n})}return c}(e["@list"],t,r,n);i.termType=s.termType,i.value=s.value}else{var u=E5.isObject(e)?e["@id"]:e;i.termType=u.startsWith("_:")?"BlankNode":"NamedNode",i.value=u}return"NamedNode"!==i.termType||_4(i.value)?i:null}B4.toRDF=function(e,t){var r=new R5.IdentifierIssuer("_:b"),n={"@default":{}};h4(e,n,"@default",r);var i,a=[],o=L(Object.keys(n).sort());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0;if("@default"===s)u={termType:"DefaultGraph",value:""};else{if(!_4(s))continue;(u=s.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=s}S4(a,n[s],u,r,t)}}catch(e){o.e(e)}finally{o.f()}return a};var I4=g3.isKeyword,P4=G3.createNodeMap,T4=G3.mergeNodeMapGraphs,O4={},L4=O4;function N4(e){var t={};for(var r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function M4(e,t,r){for(var n=r.length-1;n>=0;--n){var i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function U4(e,t,r){var n="@"+r,i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function F4(e){if(!E5.isArray(e)||1!==e.length||!E5.isObject(e[0]))throw new I5("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function R4(e,t,r,n){var a=!0,o=!1,s=function(s){var u=!1,c=R5.getValues(t,s),l=0===R5.getValues(r,s).length;if(I4(s)){if("@id"!==s&&"@type"!==s)return"continue";if(a=!1,"@id"===s)return r["@id"].length>=0&&!E5.isEmptyObject(r["@id"][0])?{v:r["@id"].includes(c[0])}:(u=!0,"continue");if("@type"in r)if(l){if(c.length>0)return{v:!1};u=!0}else{if(1!==r["@type"].length||!E5.isEmptyObject(r["@type"][0])){var f,h=L(r["@type"]);try{var A=function(){var e=f.value;if(c.some((function(t){return t===e})))return{v:{v:!0}}};for(h.s();!(f=h.n()).done;){var d=A();if("object"===i(d))return d.v}}catch(e){h.e(e)}finally{h.f()}return{v:!1}}u=c.length>0}}var p=R5.getValues(r,s)[0],v=!1;if(p&&(F4([p]),v="@default"in p),a=!1,0!==c.length||!v){if(c.length>0&&l)return{v:!1};if(void 0===p){if(c.length>0)return{v:!1};u=!0}else if(E5.isObject(p))u=c.length>0;else if(C5.isValue(p))u=c.some((function(e){return H4(p,e)}));else if(C5.isSubject(p)||C5.isSubjectReference(p))u=c.some((function(t){return Q4(e,p,t,n)}));else if(C5.isList(p)){var g=p["@list"][0];if(C5.isList(c[0])){var y=c[0]["@list"];C5.isValue(g)?u=y.some((function(e){return H4(g,e)})):(C5.isSubject(g)||C5.isSubjectReference(g))&&(u=y.some((function(t){return Q4(e,g,t,n)})))}else u=!1}if(!u&&n.requireAll)return{v:!1};o=o||u}};for(var u in r){var c=s(u);if("continue"!==c&&"object"===i(c))return c.v}return a||o}function D4(e,t){var r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,a=n.property,o={"@id":t};if(E5.isArray(i)){for(var s=0;s<i.length;++s)if(R5.compareValues(i[s],o)){i[s]=o;break}}else{var u=E5.isArray(i[a]);R5.removeValue(i,a,o,{propertyIsArray:u}),R5.addValue(i,a,o,{propertyIsArray:u})}!function e(t){for(var n=0,i=Object.keys(r);n<i.length;n++){var a=i[n];a in r&&E5.isObject(r[a].parent)&&r[a].parent["@id"]===t&&(delete r[a],e(a))}}(t)}function j4(e,t,r){E5.isObject(e)?R5.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function Q4(e,t,r,n){if(!("@id"in r))return!1;var i=e.subjects[r["@id"]];return i&&R4(e,i,t,n)}function H4(e,t){var r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?E5.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],o=e["@type"]?E5.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?E5.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===o.length&&0===s.length||!(!a.includes(r)&&!E5.isEmptyObject(a[0]))&&!!(!n&&0===o.length||o.includes(n)||n&&E5.isEmptyObject(o[0]))&&!!(!i&&0===s.length||s.includes(i)||i&&E5.isEmptyObject(s[0]))}O4.frameMergedOrDefault=function(e,t,r){var n={options:r,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new R5.IdentifierIssuer("_:b");P4(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=T4(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];var a=[];return O4.frame(n,Object.keys(n.subjects).sort(),t,a),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((function(e){return 1===n.bnodeMap[e].length}))),a},O4.frame=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;F4(r),r=r[0];var a,o=e.options,s={embed:U4(r,o,"embed"),explicit:U4(r,o,"explicit"),requireAll:U4(r,o,"requireAll")},u=function(e,t,r,n){var i,a={},o=L(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=e.graphMap[e.graph][s];R4(e,u,r,n)&&(a[s]=u)}}catch(e){o.e(e)}finally{o.f()}return a}(e,t,r,s),c=Object.keys(u).sort(),f=L(c);try{var h=function(){var t=a.value,c=u[t];if("@link"===s.embed&&t in e.link)return j4(n,i,e.link[t]),"continue";null===i?e.uniqueEmbeds=l({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};var f={};if(f["@id"]=t,0===t.indexOf("_:")&&R5.addValue(e.bnodeMap,t,f,{propertyIsArray:!0}),e.link[t]=f,"@never"===s.embed||M4(c,e.graph,e.subjectStack))j4(n,i,f);else{if("@last"===s.embed&&(t in e.uniqueEmbeds[e.graph]&&D4(e,t),e.uniqueEmbeds[e.graph][t]={parent:n,property:i}),e.subjectStack.push({subject:c,graph:e.graph}),t in e.graphMap){var h=!1,A=null;"@graph"in r?(A=r["@graph"][0],E5.isObject(A)||(A={}),h=!("@merged"===t||"@default"===t)):(h="@merged"!==e.graph,A={}),h&&(e.graphStack.push(e.graph),e.graph=t,O4.frame(e,Object.keys(e.graphMap[t]).sort(),[A],f,"@graph"),e.graph=e.graphStack.pop)}var d,p=L(Object.keys(c).sort());try{for(p.s();!(d=p.n()).done;){var v=d.value;if(I4(v)){if(f[v]=R5.clone(c[v]),"@type"===v){var g,y=L(c["@type"]);try{for(y.s();!(g=y.n()).done;){var m=g.value;0===m.indexOf("_:")&&R5.addValue(e.bnodeMap,m,f,{propertyIsArray:!0})}}catch(e){y.e(e)}finally{y.f()}}}else if(!s.explicit||v in r){var b,w=L(c[v]);try{for(w.s();!(b=w.n()).done;){var x=b.value,k=v in r?r[v]:N4(s);if(C5.isList(x)){var _={"@list":[]};j4(f,v,_);var B=x["@list"];for(var E in B)if(x=B[E],C5.isSubjectReference(x)){var S=v in r?r[v][0]["@list"]:N4(s);O4.frame(e,[x["@id"]],S,_,"@list")}else j4(_,"@list",R5.clone(x))}else C5.isSubjectReference(x)?O4.frame(e,[x["@id"]],k,f,v):H4(k[0],x)&&j4(f,v,R5.clone(x))}}catch(e){w.e(e)}finally{w.f()}}}}catch(e){p.e(e)}finally{p.f()}var C,I=L(Object.keys(r).sort());try{for(I.s();!(C=I.n()).done;){var P=C.value;if(!I4(P)){var T=r[P][0]||{};if(!U4(T,o,"omitDefault")&&!(P in f)){var O="@null";"@default"in T&&(O=R5.clone(T["@default"])),E5.isArray(O)||(O=[O]),f[P]=[{"@preserve":O}]}}}}catch(e){I.e(e)}finally{I.f()}if("@reverse"in r){var N,M=L(Object.keys(r["@reverse"]).sort());try{for(M.s();!(N=M.n()).done;)for(var U=N.value,F=r["@reverse"][U],R=0,D=Object.keys(e.subjects);R<D.length;R++){var j=D[R];R5.getValues(e.subjects[j],U).some((function(e){return e["@id"]===t}))&&(f["@reverse"]=f["@reverse"]||{},R5.addValue(f["@reverse"],U,[],{propertyIsArray:!0}),O4.frame(e,[j],F,f["@reverse"][U],i))}}catch(e){M.e(e)}finally{M.f()}}j4(n,i,f),e.subjectStack.pop()}};for(f.s();!(a=f.n()).done;)h()}catch(e){f.e(e)}finally{f.f()}};var K4=E5.isArray,V4=E5.isObject,z4=E5.isString,q4=E5.isUndefined,G4=C5.isList,W4=C5.isValue,J4=C5.isGraph,X4=C5.isSimpleGraph,Y4=C5.isSubjectReference,$4=g3.expandIri,Z4=g3.getContextValue,e6=g3.isKeyword,t6=g3.process,r6=t3.removeBase,n6=R5.addValue,i6=R5.asArray,a6=R5.compareShortestLeast,o6={},s6=o6;function u6(e,t,r){if("@nest"!==$4(e,t,{vocab:!0},r))throw new I5("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}function c6(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}o6.compact=function(e){var t,r=e.activeCtx,n=e.activeProperty,i=void 0===n?null:n,a=e.element,o=e.options,s=void 0===o?{}:o,u=e.compactionMap,c=void 0===u?function(){}:u;if(K4(a)){for(var f=[],h=0;h<a.length;++h){var A=o6.compact({activeCtx:r,activeProperty:i,element:a[h],options:s,compactionMap:c});null===A&&void 0===(A=c({unmappedValue:a[h],activeCtx:r,activeProperty:i,parent:a,index:h,options:s}))||f.push(A)}return s.compactArrays&&1===f.length&&0===(Z4(r,i,"@container")||[]).length&&(f=f[0]),f}var d=Z4(r,i,"@context");if(q4(d)||(r=t6({activeCtx:r,localCtx:d,isPropertyTermScopedContext:!0,options:s})),V4(a)){if(s.link&&"@id"in a&&s.link.hasOwnProperty(a["@id"]))for(var p=s.link[a["@id"]],v=0;v<p.length;++v)if(p[v].expanded===a)return p[v].compacted;if(W4(a)||Y4(a)){var g=o6.compactValue({activeCtx:r,activeProperty:i,value:a,options:s});return s.link&&Y4(a)&&(s.link.hasOwnProperty(a["@id"])||(s.link[a["@id"]]=[]),s.link[a["@id"]].push({expanded:a,compacted:g})),g}if(G4(a)&&(Z4(r,i,"@container")||[]).includes("@list"))return o6.compact({activeCtx:r,activeProperty:i,element:a["@list"],options:s,compactionMap:c});var y="@reverse"===i,m={};r=r.revertTypeScopedContext(),s.link&&"@id"in a&&(s.link.hasOwnProperty(a["@id"])||(s.link[a["@id"]]=[]),s.link[a["@id"]].push({expanded:a,compacted:m}));var b=a["@type"]||[];b.length>1&&(b=Array.from(b).sort());var w,x=r,k=L(b);try{for(k.s();!(w=k.n()).done;){var _=w.value,B=o6.compactIri({activeCtx:x,iri:_,relativeTo:{vocab:!0}}),S=Z4(x,B,"@context");q4(S)||(r=t6({activeCtx:r,localCtx:S,options:s,isTypeScopedContext:!0}))}}catch(e){k.e(e)}finally{k.f()}var C,I=L(Object.keys(a).sort());try{for(I.s();!(C=I.n()).done;){var P=C.value,T=a[P];if("@id"!==P&&"@type"!==P)if("@reverse"!==P)if("@preserve"!==P)if("@index"!==P)if("@graph"!==P&&"@list"!==P&&e6(P)){var O=o6.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}});n6(m,O,T)}else{if(!K4(T))throw new I5("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===T.length){var N=o6.compactIri({activeCtx:r,iri:P,value:T,relativeTo:{vocab:!0},reverse:y}),M=r.mappings.has(N)?r.mappings.get(N)["@nest"]:null,U=m;M&&(u6(r,M,s),V4(m[M])||(m[M]={}),U=m[M]),n6(U,N,T,{propertyIsArray:!0})}var F,R=L(T);try{for(R.s();!(F=R.n()).done;){var D=F.value,j=o6.compactIri({activeCtx:r,iri:P,value:D,relativeTo:{vocab:!0},reverse:y}),Q=r.mappings.has(j)?r.mappings.get(j)["@nest"]:null,H=m;Q&&(u6(r,Q,s),V4(m[Q])||(m[Q]={}),H=m[Q]);var K=Z4(r,j,"@container")||[],V=J4(D),z=G4(D),q=void 0;z?q=D["@list"]:V&&(q=D["@graph"]);var G=o6.compact({activeCtx:r,activeProperty:j,element:z||V?q:D,options:s,compactionMap:c});if(z){if(K4(G)||(G=[G]),K.includes("@list")){n6(H,j,G,{valueIsArray:!0,allowDuplicate:!0});continue}G=l({},o6.compactIri({activeCtx:r,iri:"@list",relativeTo:{vocab:!0}}),G),"@index"in D&&(G[o6.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=D["@index"])}if(V)if(K.includes("@graph")&&(K.includes("@id")||K.includes("@index")&&X4(D))){var W=void 0;H.hasOwnProperty(j)?W=H[j]:H[j]=W={};var J=(K.includes("@id")?D["@id"]:D["@index"])||o6.compactIri({activeCtx:r,iri:"@none",vocab:!0});n6(W,J,G,{propertyIsArray:!s.compactArrays||K.includes("@set")})}else K.includes("@graph")&&X4(D)||(K4(G)&&1===G.length&&s.compactArrays&&(G=G[0]),G=l({},o6.compactIri({activeCtx:r,iri:"@graph",relativeTo:{vocab:!0}}),G),"@id"in D&&(G[o6.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=D["@id"]),"@index"in D&&(G[o6.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=D["@index"])),n6(H,j,G,{propertyIsArray:!s.compactArrays||K.includes("@set")});else if(K.includes("@language")||K.includes("@index")||K.includes("@id")||K.includes("@type")){var X=void 0,Y=void 0;if(H.hasOwnProperty(j)?X=H[j]:H[j]=X={},K.includes("@language"))W4(G)&&(G=G["@value"]),Y=D["@language"];else if(K.includes("@index"))Y=D["@index"];else if(K.includes("@id")){var $=o6.compactIri({activeCtx:r,iri:"@id",vocab:!0});Y=G[$],delete G[$]}else if(K.includes("@type")){var Z,ee=o6.compactIri({activeCtx:r,iri:"@type",vocab:!0});switch(Y=(t=E(i6(G[ee]||[])))[0],(Z=t.slice(1)).length){case 0:delete G[ee];break;case 1:G[ee]=Z[0];break;default:G[ee]=Z}}Y||(Y=o6.compactIri({activeCtx:r,iri:"@none",vocab:!0})),n6(X,Y,G,{propertyIsArray:K.includes("@set")})}else{var te=!s.compactArrays||K.includes("@set")||K.includes("@list")||K4(G)&&0===G.length||"@list"===P||"@graph"===P;n6(H,j,G,{propertyIsArray:te})}}}catch(e){R.e(e)}finally{R.f()}}else{if((Z4(r,i,"@container")||[]).includes("@index"))continue;var re=o6.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}});n6(m,re,T)}else{var ne=o6.compact({activeCtx:r,activeProperty:i,element:T,options:s,compactionMap:c});K4(ne)&&0===ne.length||n6(m,P,ne)}else{var ie=o6.compact({activeCtx:r,activeProperty:"@reverse",element:T,options:s,compactionMap:c});for(var ae in ie)if(r.mappings.has(ae)&&r.mappings.get(ae).reverse){var oe=ie[ae],se=(Z4(r,ae,"@container")||[]).includes("@set")||!s.compactArrays;n6(m,ae,oe,{propertyIsArray:se}),delete ie[ae]}if(Object.keys(ie).length>0){var ue=o6.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}});n6(m,ue,ie)}}else!function(){var e="@type"===P,t=e&&r.previousContext||r,n=i6(T).map((function(r){return o6.compactIri({activeCtx:t,iri:r,relativeTo:{vocab:e}})}));1===n.length&&(n=n[0]);var i=o6.compactIri({activeCtx:r,iri:P,relativeTo:{vocab:!0}}),a=K4(n)&&0===T.length;n6(m,i,n,{propertyIsArray:a})}()}}catch(e){I.e(e)}finally{I.f()}return m}return a},o6.compactIri=function(e){var t=e.activeCtx,r=e.iri,n=e.value,i=void 0===n?null:n,a=e.relativeTo,o=void 0===a?{vocab:!1}:a,s=e.reverse,u=void 0!==s&&s;if(null===r)return r;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var c=t.getInverse();if(e6(r)&&r in c&&"@none"in c[r]&&"@type"in c[r]["@none"]&&"@none"in c[r]["@none"]["@type"])return c[r]["@none"]["@type"]["@none"];if(o.vocab&&r in c){var l=t["@language"]||"@none",f=[];V4(i)&&"@index"in i&&!("@graph"in i)&&f.push("@index","@index@set"),V4(i)&&"@preserve"in i&&(i=i["@preserve"][0]),J4(i)?("@index"in i&&f.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i&&f.push("@graph@id","@graph@id@set"),f.push("@graph","@graph@set","@set"),"@index"in i||f.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in i||f.push("@graph@id","@graph@id@set")):V4(i)&&!W4(i)&&f.push("@id","@id@set","@type","@set@type");var h="@language",A="@null";if(u)h="@type",A="@reverse",f.push("@set");else if(G4(i)){"@index"in i||f.push("@list");var d=i["@list"];if(0===d.length)h="@any",A="@none";else{for(var p=0===d.length?l:null,v=null,g=0;g<d.length;++g){var y=d[g],m="@none",b="@none";if(W4(y)?"@language"in y?m=y["@language"]:"@type"in y?b=y["@type"]:m="@null":b="@id",null===p?p=m:m!==p&&W4(y)&&(p="@none"),null===v?v=b:b!==v&&(v="@none"),"@none"===p&&"@none"===v)break}p=p||"@none","@none"!==(v=v||"@none")?(h="@type",A=v):A=p}}else W4(i)?"@language"in i&&!("@index"in i)?(f.push("@language","@language@set"),A=i["@language"]):"@type"in i&&(h="@type",A=i["@type"]):(h="@type",A="@id"),f.push("@set");f.push("@none"),V4(i)&&!("@index"in i)&&f.push("@index","@index@set"),W4(i)&&1===Object.keys(i).length&&f.push("@language","@language@set");var w=function(e,t,r,n,i,a){null===a&&(a="@null");var o=[];if("@id"!==a&&"@reverse"!==a||!Y4(r))o.push(a);else{"@reverse"===a&&o.push("@reverse");var s=o6.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(s)&&e.mappings.get(s)&&e.mappings.get(s)["@id"]===r["@id"]?o.push.apply(o,["@vocab","@id"]):o.push.apply(o,["@id","@vocab"])}o.push("@none");for(var u=e.inverse[t],c=0;c<n.length;++c){var l=n[c];if(l in u)for(var f=u[l][i],h=0;h<o.length;++h){var A=o[h];if(A in f)return f[A]}}return null}(t,r,i,f,h,A);if(null!==w)return w}if(o.vocab&&"@vocab"in t){var x=t["@vocab"];if(0===r.indexOf(x)&&r!==x){var k=r.substr(x.length);if(!t.mappings.has(k))return k}}for(var _=null,B=[],E=t.fastCurieMap,S=r.length-1,C=0;C<S&&r[C]in E;++C)""in(E=E[r[C]])&&B.push(E[""][0]);for(var I=B.length-1;I>=0;--I){var P,T=B[I],O=L(T.terms);try{for(O.s();!(P=O.n()).done;){var N=P.value,M=N+":"+r.substr(T.iri.length);t.mappings.get(N)._prefix&&(!t.mappings.has(M)||null===i&&t.mappings.get(M)["@id"]===r)&&(null===_||a6(M,_)<0)&&(_=M)}}catch(e){O.e(e)}finally{O.f()}}return null!==_?_:o.vocab?r:r6(t["@base"],r)},o6.compactValue=function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(W4(n)){var a=Z4(t,r,"@type"),o=Z4(t,r,"@language"),s=Z4(t,r,"@container")||[],u="@index"in n&&!s.includes("@index");if(!u&&(n["@type"]===a||n["@language"]===o))return n["@value"];var c=Object.keys(n).length,f=1===c||2===c&&"@index"in n&&!u,h="@language"in t,A=z4(n["@value"]),d=t.mappings.has(r)&&null===t.mappings.get(r)["@language"];if(f&&(!h||!A||d))return n["@value"];var p={};return u&&(p[o6.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?p[o6.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=o6.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(p[o6.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),p[o6.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],p}var v=$4(t,r,{vocab:!0},i),g=Z4(t,r,"@type"),y=o6.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:"@vocab"===g}});return"@id"===g||"@vocab"===g||"@graph"===v?y:l({},o6.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),y)},
/**
   * Removes the @preserve keywords as the last step of the compaction
   * algorithm when it is running on framed output.
   *
   * @param ctx the active context used to compact the input.
   * @param input the framed, compacted output.
   * @param options the compaction options used.
   *
   * @return the resulting output.
   */
o6.removePreserve=function(e,t,r){if(K4(t)){for(var n=[],i=0;i<t.length;++i){var a=o6.removePreserve(e,t[i],r);null!==a&&n.push(a)}t=n}else if(V4(t)){// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(W4(t))return t;if(G4(t))return t["@list"]=o6.removePreserve(e,t["@list"],r),t;var o=o6.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(t.hasOwnProperty(o)){var s=t[o];if(r.link.hasOwnProperty(s)){var u=r.link[s].indexOf(t);if(-1!==u)return r.link[s][u];r.link[s].push(t)}else r.link[s]=[t]}var c=o6.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(var l in t)if(l===o&&r.bnodesToClear.includes(t[l]))delete t[o];else{var f=o6.removePreserve(e,t[l],r),h=Z4(e,l,"@container")||[];r.compactArrays&&K4(f)&&1===f.length&&0===h.length&&l!==c&&(f=f[0]),t[l]=f}}return t};var l6=R5.callbackify,f6=R5.normalizeDocumentLoader,h6=function(){function e(){s(this,e),this._requests={},this.add=l6(this.add.bind(this))}return c(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=f6(e),function(){return t.add.apply(t,arguments)}}},{key:"add",value:function(e){var t,r=this;return(t=n().mark((function(){var t,i;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=r,!(i=t._requests[e])){n.next=4;break}return n.abrupt("return",Promise.resolve(i));case 4:return i=t._requests[e]=t._loader(e),n.prev=5,n.next=8,i;case 8:return n.abrupt("return",n.sent);case 9:return n.prev=9,delete t._requests[e],n.finish(9);case 12:case"end":return n.stop()}}),t,null,[[5,,9,12]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(e){c6(a,n,i,o,s,"next",e)}function s(e){c6(a,n,i,o,s,"throw",e)}o(void 0)}))})()}}]),e}();function A6(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function d6(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){A6(a,n,i,o,s,"next",e)}function s(e){A6(a,n,i,o,s,"throw",e)}o(void 0)}))}}var p6=R5.parseLinkHeader,v6=R5.buildHeaders,g6=G5.LINK_HEADER_REL,y6=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{strictSSL:!0,maxRedirects:-1,headers:{}},t=e.secure,r=e.strictSSL,i=void 0===r||r,a=e.maxRedirects,o=void 0===a?-1:a,s=e.request,u=e.headers,c=void 0===u?{}:u;c=v6(c),s=s||s0;var l=s0;return(new h6).wrapLoader((function(e){return f(e,[])}));function f(e,t){return h.apply(this,arguments)}function h(){return(h=d6(n().mark((function e(r,a){var u,h,A,d,p,v,g;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===r.indexOf("http:")||0===r.indexOf("https:")){e.next=2;break}throw new I5('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 2:if(!t||0===r.indexOf("https")){e.next=4;break}throw new I5('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 4:if(null===(h=null)){e.next=7;break}return e.abrupt("return",h);case 7:return e.prev=7,e.next=10,m6(s,{url:r,headers:c,strictSSL:i,followRedirect:!1});case 10:u=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(7),new I5("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:e.t0});case 16:if(d=(A=u).res,p=A.body,h={contextUrl:null,documentUrl:r,document:p||null},v=l.STATUS_CODES[d.statusCode],!(d.statusCode>=400)){e.next=21;break}throw new I5("URL could not be dereferenced: "+v,"jsonld.InvalidUrl",{code:"loading document failed",url:r,httpStatusCode:d.statusCode});case 21:if(!d.headers.link||"application/ld+json"===d.headers["content-type"]){e.next=26;break}if(g=p6(d.headers.link)[g6],!Array.isArray(g)){e.next=25;break}throw new I5("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});case 25:g&&(h.contextUrl=g.target);case 26:if(!(d.statusCode>=300&&d.statusCode<400&&d.headers.location)){e.next=32;break}if(a.length!==o){e.next=29;break}throw new I5("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:r,httpStatusCode:d.statusCode,redirects:a});case 29:if(-1===a.indexOf(r)){e.next=31;break}throw new I5("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:r,httpStatusCode:d.statusCode,redirects:a});case 31:return e.abrupt("return",(a.push(r),f(d.headers.location,a)));case 32:return e.abrupt("return",(a.push(r),h));case 33:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}};function m6(e,t){return new Promise((function(r,n){e(t,(function(e,t,i){e?n(e):r({res:t,body:i})}))}))}function b6(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function w6(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){b6(a,n,i,o,s,"next",e)}function s(e){b6(a,n,i,o,s,"throw",e)}o(void 0)}))}}var x6=R5.parseLinkHeader,k6=R5.buildHeaders,_6=G5.LINK_HEADER_REL,B6=/(^|(\r\n))link:/i,E6=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,r=e.headers,i=void 0===r?{}:r,a=e.xhr;return i=k6(i),(new h6).wrapLoader((function(e){return o.apply(this,arguments)}));function o(){return(o=w6(n().mark((function e(r){var o,s,u,c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===r.indexOf("http:")||0===r.indexOf("https:")){e.next=2;break}throw new I5('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 2:if(!t||0===r.indexOf("https")){e.next=4;break}throw new I5('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 4:return e.prev=4,e.next=7,S6(a,r,i);case 7:o=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new I5("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:e.t0});case 13:if(!(o.status>=400)){e.next=15;break}throw new I5("URL could not be dereferenced: "+o.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:r,httpStatusCode:o.status});case 15:if(s={contextUrl:null,documentUrl:r,document:o.response},u=o.getResponseHeader("Content-Type"),B6.test(o.getAllResponseHeaders())&&(c=o.getResponseHeader("Link")),!c||"application/ld+json"===u){e.next=20;break}if(c=x6(c)[_6],!Array.isArray(c)){e.next=19;break}throw new I5("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});case 19:c&&(s.contextUrl=c.target);case 20:return e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}};function S6(e,t,r){var n=new(e=e||XMLHttpRequest);return new Promise((function(e,i){for(var a in n.onload=function(){return e(n)},n.onerror=function(e){return i(e)},n.open("GET",t,!0),r)n.setRequestHeader(a,r[a]);n.send()}))}function C6(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function I6(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){C6(a,n,i,o,s,"next",e)}function s(e){C6(a,n,i,o,s,"throw",e)}o(void 0)}))}}
/**
   * A JavaScript implementation of the JSON-LD API.
   *
   * @author Dave Longley
   *
   * @license BSD 3-Clause License
   * Copyright (c) 2011-2017 Digital Bazaar, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * Redistributions in binary form must reproduce the above copyright
   * notice, this list of conditions and the following disclaimer in the
   * documentation and/or other materials provided with the distribution.
   *
   * Neither the name of the Digital Bazaar, Inc. nor the names of its
   * contributors may be used to endorse or promote products derived from
   * this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
   * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
   * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */var P6=R5.IdentifierIssuer,T6=Q3.expand,O6=Y3.flatten,L6=l4.fromRDF,N6=E4.toRDF,M6=L4.frameMergedOrDefault,U6=E5.isArray,F6=E5.isObject,R6=E5.isString,D6=C5.isSubjectReference,j6=g3.getInitialContext,Q6=g3.process,H6=g3.getAllContexts,K6=s6.compact,V6=s6.compactIri,z6=s6.removePreserve,q6=G3.createNodeMap,G6=G3.createMergedNodeMap,W6=G3.mergeNodeMaps,J6=void 0!==dX&&dX.versions&&dX.versions.node,X6=!J6&&("undefined"!=typeof window||"undefined"!=typeof self),Y6=function(e){var t={};function r(t,r){var n=r.documentLoader,i=void 0===n?e.documentLoader:n,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,["documentLoader"]);return Object.assign({},{documentLoader:i},a,t)}return e.compact=R5.callbackify(function(){var t=I6(n().mark((function t(i,a,o){var s,u,c,l,f,h,A,d,p,v,g,y=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(y.length<2)){t.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==a){t.next=4;break}throw new I5("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==i){t.next=6;break}return t.abrupt("return",null);case 6:if((o=r(o,{base:R6(i)?i:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new P6("_:b")})).link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base,!o.skipExpansion){t.next=12;break}t.t0=i,t.next=15;break;case 12:return t.next=14,e.expand(i,o);case 14:t.t0=t.sent;case 15:return s=t.t0,t.next=18,e.processContext(j6(o),a,o);case 18:u=t.sent,c=K6({activeCtx:u,element:s,options:o,compactionMap:o.compactionMap}),o.compactArrays&&!o.graph&&U6(c)?1===c.length?c=c[0]:0===c.length&&(c={}):o.graph&&F6(c)&&(c=[c]),F6(a)&&"@context"in a&&(a=a["@context"]),a=R5.clone(a),U6(a)||(a=[a]),l=a,a=[];for(f=0;f<l.length;++f)(!F6(l[f])||Object.keys(l[f]).length>0)&&a.push(l[f]);if(h=a.length>0,1===a.length&&(a=a[0]),U6(c))A=V6({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),d=c,c={},h&&(c["@context"]=a),c[A]=d;else if(F6(c)&&h)for(v in p=c,c={"@context":a},p)c[v]=p[v];return o.framing&&(g=V6({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),// remove @preserve from results
o.link={},c[g]=z6(u,c[g],o)),t.abrupt("return",c);case 28:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.expand=R5.callbackify(function(){var t=I6(n().mark((function t(i,a){var o,s,u,c,l,f,h,A=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(A.length<1)){t.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(a=r(a,{keepFreeFloatingNodes:!1})).expansionMap&&(a.expansionMap=void 0),o={},s=[],"expandContext"in a&&(u=R5.clone(a.expandContext),F6(u)&&"@context"in u?o.expandContext=u:o.expandContext={"@context":u},s.push(o.expandContext)),!R6(i)){t.next=12;break}return t.next=8,e.get(i,a);case 8:l=t.sent,c=l.documentUrl,o.input=l.document,l.contextUrl&&(o.remoteContext={"@context":l.contextUrl},s.push(o.remoteContext)),t.next=13;break;case 12:o.input=R5.clone(i);case 13:return"base"in a||(a.base=c||""),t.next=16,H6(o,a);case 16:return f=j6(a),s.forEach((function(e){f=Q6({activeCtx:f,localCtx:e,options:a})})),h=T6({activeCtx:f,element:o.input,options:a,expansionMap:a.expansionMap}),t.abrupt("return",(F6(h)&&"@graph"in h&&1===Object.keys(h).length?h=h["@graph"]:null===h&&(h=[]),U6(h)||(h=[h]),h));case 20:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.flatten=R5.callbackify(function(){var t=I6(n().mark((function t(i,a,o){var s,u,c,l=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(l.length<1)){t.next=2;break}return t.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return a="function"==typeof a?null:a||null,o=r(o,{base:R6(i)?i:""}),t.next=5,e.expand(i,o);case 5:if(s=t.sent,u=O6(s),null!==a){t.next=9;break}return t.abrupt("return",u);case 9:return o.graph=!0,o.skipExpansion=!0,t.next=12,e.compact(u,a,o);case 12:return c=t.sent,t.abrupt("return",c);case 14:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.frame=R5.callbackify(function(){var t=I6(n().mark((function t(i,a,o){var s,u,c,l,f,h,A,d,p=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(p.length<2)){t.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(o=r(o,{base:R6(i)?i:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),!R6(a)){t.next=7;break}return t.next=5,e.get(a,o);case 5:s=t.sent,a=s.document,s.contextUrl&&((u=a["@context"])?U6(u)?u.push(s.contextUrl):u=[u,s.contextUrl]:u=s.contextUrl,a["@context"]=u);case 7:return c=a&&a["@context"]||{},t.next=10,e.expand(i,o);case 10:return l=t.sent,(f=R5.clone(o)).isFrame=!0,f.keepFreeFloatingNodes=!0,t.next=15,e.expand(a,f);case 15:return h=t.sent,f.merged=!("@graph"in a),A=M6(l,h,f),f.graph=!0,f.skipExpansion=!0,f.link={},f.framing=!0,t.next=21,e.compact(A,c,f);case 21:return d=t.sent,t.abrupt("return",d);case 23:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.link=R5.callbackify(function(){var t=I6(n().mark((function t(r,i,a){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={},t.abrupt("return",(i&&(o["@context"]=i),o["@embed"]="@link",e.frame(r,o,a)));case 2:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),e.normalize=e.canonize=R5.callbackify(function(){var t=I6(n().mark((function t(i,a){var o,s,u,c=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.length<1)){t.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(a=r(a,{base:R6(i)?i:"",algorithm:"URDNA2015",skipExpansion:!1})))){t.next=7;break}if("application/n-quads"===a.inputFormat||"application/nquads"===a.inputFormat){t.next=5;break}throw new I5("Unknown canonicalization input format.","jsonld.CanonizeError");case 5:return o=V5.parse(i),t.abrupt("return",c0.canonize(o,a));case 7:return delete(s=R5.clone(a)).format,s.produceGeneralizedRdf=!1,t.next=11,e.toRDF(i,s);case 11:return u=t.sent,t.abrupt("return",c0.canonize(u,a));case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.fromRDF=R5.callbackify(function(){var e=I6(n().mark((function e(i,a){var o,s,u,c=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(a=r(a,{format:R6(i)?"application/n-quads":void 0}),o=a.format,u=a.rdfParser,!o){e.next=10;break}if(u=u||t[o]){e.next=8;break}throw new I5("Unknown input format.","jsonld.UnknownFormat",{format:o});case 8:e.next=11;break;case 10:u=function(){return i};case 11:return s=u.length>1?new Promise((function(e,t){u(i,(function(r,n){r?t(r):e(n)}))})):Promise.resolve(u(i)),e.next=14,s;case 14:return s=e.sent,Array.isArray(s)||(s=V5.legacyDatasetToQuads(s)),e.abrupt("return",L6(s,a));case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.toRDF=R5.callbackify(function(){var t=I6(n().mark((function t(i,a){var o,s,u=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(u.length<1)){t.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(a=r(a,{base:R6(i)?i:"",skipExpansion:!1})).skipExpansion){t.next=6;break}t.t0=i,t.next=9;break;case 6:return t.next=8,e.expand(i,a);case 8:t.t0=t.sent;case 9:if(o=t.t0,s=N6(o,a),!a.format){t.next=17;break}if("application/n-quads"!==a.format&&"application/nquads"!==a.format){t.next=16;break}return t.next=15,V5.serialize(s);case 15:return t.abrupt("return",t.sent);case 16:throw new I5("Unknown output format.","jsonld.UnknownFormat",{format:a.format});case 17:return t.abrupt("return",s);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.createNodeMap=R5.callbackify(function(){var t=I6(n().mark((function t(i,a){var o,s=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length<1)){t.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return a=r(a,{base:R6(i)?i:""}),t.next=5,e.expand(i,a);case 5:return o=t.sent,t.abrupt("return",G6(o,a));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),e.merge=R5.callbackify(function(){var t=I6(n().mark((function t(i,a,o){var s,u,c,l,f,h,A,d,p,v,g,y,m,b,w,x,k,_=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(_.length<1)){t.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(U6(i)){t.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return a="function"==typeof a?null:a||null,o=r(o,{}),t.next=7,Promise.all(i.map((function(t){var r=Object.assign({},o);return e.expand(t,r)})));case 7:s=t.sent,u=!0,"mergeNodes"in o&&(u=o.mergeNodes),c=o.issuer||new P6("_:b"),l={"@default":{}},f=0;case 12:if(!(f<s.length)){t.next=29;break}if(h=R5.relabelBlankNodes(s[f],{issuer:new P6("_:b"+f+"-")}),q6(h,A=u||0===f?l:{"@default":{}},"@default",c),A===l){t.next=26;break}t.t0=n().keys(A);case 16:if((t.t1=t.t0()).done){t.next=26;break}if(d=t.t1.value,p=A[d],d in l){t.next=22;break}return l[d]=p,t.abrupt("continue",16);case 22:for(g in v=l[d],p)g in v||(v[g]=p[g]);t.next=16;break;case 26:++f,t.next=12;break;case 29:for(y=W6(l),m=[],b=Object.keys(y).sort(),w=0;w<b.length;++w)x=y[b[w]],D6(x)||m.push(x);if(null!==a){t.next=33;break}return t.abrupt("return",m);case 33:return o.graph=!0,o.skipExpansion=!0,t.next=36,e.compact(m,a,o);case 36:return k=t.sent,t.abrupt("return",k);case 38:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()),Object.defineProperty(e,"documentLoader",{get:function(){return e._documentLoader},set:function(t){return e._documentLoader=R5.normalizeDocumentLoader(t)}}),e.documentLoader=function(){var e=I6(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new I5("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.loadDocument=R5.callbackify(I6(n().mark((function t(){var r=arguments;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.documentLoader.apply(null,r));case 1:case"end":return t.stop()}}),t)})))),e.get=R5.callbackify(function(){var t=I6(n().mark((function t(r,i){var a,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="function"==typeof i.documentLoader?R5.normalizeDocumentLoader(i.documentLoader):e.documentLoader,t.next=3,a(r);case 3:if(o=t.sent,t.prev=4,o.document){t.next=7;break}throw new I5("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:R6(o.document)&&(o.document=JSON.parse(o.document)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(4),new I5("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t.t0,remoteDoc:o});case 13:return t.abrupt("return",o);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,r){return t.apply(this,arguments)}}()),e.processContext=R5.callbackify(function(){var e=I6(n().mark((function e(t,i,a){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(a,{base:""}),null!==i){e.next=2;break}return e.abrupt("return",j6(a));case 2:return i=R5.clone(i),F6(i)&&"@context"in i||(i={"@context":i}),e.next=5,H6(i,a);case 5:return o=e.sent,e.abrupt("return",Q6({activeCtx:t,localCtx:o,options:a}));case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),e.getContextValue=g3.getContextValue,e.documentLoaders={},e.documentLoaders.node=y6,e.documentLoaders.xhr=E6,e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new I5('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",V5.parse),e.registerRDFParser("application/nquads",V5.parse),e.registerRDFParser("rdfa-api",function(){function e(){s(this,e)}return c(e,[{key:"parse",value:function(e){for(var t={"@default":[]},r=e.getSubjects(),n=0;n<r.length;++n){var i=r[n];if(null!==i){var a=e.getSubjectTriples(i);if(null!==a){var o=a.predicates;for(var s in o)for(var u=o[s].objects,c=0;c<u.length;++c){var l=u[c],f={};0===i.indexOf("_:")?f.subject={type:"blank node",value:i}:f.subject={type:"IRI",value:i},0===s.indexOf("_:")?f.predicate={type:"blank node",value:s}:f.predicate={type:"IRI",value:s};var h=l.value;if(l.type===Y5){var A=new("undefined"==typeof XMLSerializer?s0.XMLSerializer:XMLSerializer);h="";for(var d=0;d<l.value.length;d++)l.value[d].nodeType===K5.ELEMENT_NODE?h+=A.serializeToString(l.value[d]):l.value[d].nodeType===K5.TEXT_NODE&&(h+=l.value[d].nodeValue)}f.object={},l.type===X5?0===l.value.indexOf("_:")?f.object.type="blank node":f.object.type="IRI":(f.object.type="literal",l.type===J5?l.language?(f.object.datatype=W5,f.object.language=l.language):f.object.datatype=$5:f.object.datatype=l.type),f.object.value=h,t["@default"].push(f)}}}}return t}}]),e}().parse),e.url=t3,e.util=R5,Object.assign(e,R5),e.promises=e,e.RequestQueue=h6,e.JsonLdProcessor=function(e){var t=function(){function e(){s(this,e)}return c(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}(e),X6&&void 0===UW.JsonLdProcessor&&Object.defineProperty(UW,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),J6?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},$6=function e(){return Y6((function(){return e()}))};Y6($6);var Z6=$6,e8=RW((function(e){LZ.gte(dX.version,"8.6.0")?e.exports=_5:e.exports=Z6}));e8.jsonld;var t8=RW((function(e){!function(t){var r={bytesToHex:function(e){return function(e){return e.map((function(e){return 2,(t=e.toString(16)).length>2?t:Array(2-t.length+1).join("0")+t;var t})).join("")}(e)},hexToBytes:function(e){if(e.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===e.indexOf("0x")&&(e=e.slice(2)),e.match(/../g).map((function(e){return parseInt(e,16)}))}};e.exports?e.exports=r:t.convertHex=r}(UW)})),r8=RW((function(e){!function(t){var r={bytesToString:function(e){return e.map((function(e){return String.fromCharCode(e)})).join("")},stringToBytes:function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))}};r.UTF8={bytesToString:function(e){return decodeURIComponent(escape(r.bytesToString(e)))},stringToBytes:function(e){return r.stringToBytes(unescape(encodeURIComponent(e)))}},e.exports?e.exports=r:t.convertString=r}(UW)})),n8=RW((function(e){!function(t){var r={};e.exports?(r.bytesToHex=t8.bytesToHex,r.convertString=r8,e.exports=o):(r.bytesToHex=t.convertHex.bytesToHex,r.convertString=t.convertString,t.sha256=o);var n=[];!function(){function e(e){for(var t=Math.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(n[i]=t(Math.pow(r,1/3)),i++),r++}();var i=[],a=function(e,t,r){for(var a=e[0],o=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7],A=0;A<64;A++){if(A<16)i[A]=0|t[r+A];else{var d=i[A-15],p=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=i[A-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;i[A]=p+i[A-7]+g+i[A-16]}var y=a&o^a&s^o&s,m=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),b=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&l^~c&f)+n[A]+i[A];h=f,f=l,l=c,c=u+b|0,u=s,s=o,o=a,a=b+(m+y)|0}e[0]=e[0]+a|0,e[1]=e[1]+o|0,e[2]=e[2]+s|0,e[3]=e[3]+u|0,e[4]=e[4]+c|0,e[5]=e[5]+l|0,e[6]=e[6]+f|0,e[7]=e[7]+h|0};function o(e,t){e.constructor===String&&(e=r.convertString.UTF8.stringToBytes(e));var n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t}(e),o=8*e.length;i[o>>5]|=128<<24-o%32,i[15+(o+64>>9<<4)]=o;for(var s=0;s<i.length;s+=16)a(n,i,s);var u=function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t}(n);return t&&t.asBytes?u:t&&t.asString?r.convertString.bytesToString(u):r.bytesToHex(u)}o.x2=function(e,t){return o(o(e,{asBytes:!0}),t)}}(UW)}));function i8(e){e=e.trim();for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t}function a8(e,t){return lW(this,void 0,void 0,n().mark((function r(){var i,a,o,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e["@context"],a=e,!function(e){return e===uW.V1_1||e===uW.V1_2}(t)&&(i.find((function(e){return e===Object(e)&&"@vocab"in e}))?i=null:i.push({"@vocab":"http://fallback.org/"})),o="undefined"!=typeof window&&void 0!==window.XMLHttpRequest?e8.documentLoaders.xhr():e8.documentLoaders.node(),e8.documentLoader=function(e,t){return e in _W?t(null,{contextUrl:null,document:_W[e],documentUrl:e}):o(e,t)},s={algorithm:"URDNA2015",format:"application/nquads"},r.abrupt("return",(i&&(s.expandContext=i),new Promise((function(e,t){e8.normalize(a,s,(function(r,n){if(r)console.error(r),t(new NW("computeLocalHash",CW("errors","failedJsonLdNormalization")));else{var i=function(e){var t=/<http:\/\/fallback\.org\/(.*)>/.exec(e);if(t){for(var r=[],n=0;n<t.length;n++)r.push(t[n]);return r}return null}(n);i?t(new NW("computeLocalHash","".concat(CW("errors","foundUnmappedFields"),": ").concat(i.join(", ")))):e(n8(function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}(n)))}}))}))));case 7:case"end":return r.stop()}}),r)})))}var o8=RW((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),s8=RW((function(e,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=KJ.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=KJ:(n(KJ,t),t.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return KJ.SlowBuffer(e)}}));s8.Buffer;var u8=OY.EventEmitter;function c8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l8(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f8=KJ.Buffer,h8=s0.inspect,A8=h8&&h8.custom||"inspect";function d8(e,t,r){f8.prototype.copy.call(e,t,r)}var p8=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return f8.alloc(0);for(var t=f8.allocUnsafe(e>>>0),r=this.head,n=0;r;)d8(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=f8.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:A8,value:function(e,t){return h8(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c8(Object(r),!0).forEach((function(t){l8(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function v8(e,t){y8(e,t),g8(e)}function g8(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function y8(e,t){e.emit("error",t)}var m8=function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,tX(y8,this,e)):tX(y8,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?tX(g8,r):(r._writableState.errorEmitted=!0,tX(v8,r,e)):tX(v8,r,e):t?(tX(g8,r),t(e)):tX(g8,r)})),this)},b8=function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},w8=function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)},x8={};function k8(e,t,r){r||(r=Error);var n=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=e,x8[e]=n}function _8(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}k8("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),k8("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,a,o;if("string"==typeof t&&(a="not ",t.substr(0,a.length)===a)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(_8(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(_8(t,"type"))}return o+". Received type ".concat(i(r))}),TypeError),k8("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),k8("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),k8("ERR_STREAM_PREMATURE_CLOSE","Premature close"),k8("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),k8("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),k8("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),k8("ERR_STREAM_WRITE_AFTER_END","write after end"),k8("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),k8("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),k8("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var B8={codes:x8},E8=B8.codes.ERR_INVALID_OPT_VALUE,S8=function(e,t,r,n){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new E8(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384};function C8(e){try{if(!UW.localStorage)return!1}catch(e){return!1}var t=UW.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}var I8,P8=J8;function T8(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}J8.WritableState=W8;var O8,L8=function(e,t){if(C8("noDeprecation"))return e;var r=!1;return function(){if(!r){if(C8("throwDeprecation"))throw new Error(t);C8("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}},N8=KJ.Buffer,M8=UW.Uint8Array||function(){},U8=S8,F8=B8.codes,R8=F8.ERR_INVALID_ARG_TYPE,D8=F8.ERR_METHOD_NOT_IMPLEMENTED,j8=F8.ERR_MULTIPLE_CALLBACK,Q8=F8.ERR_STREAM_CANNOT_PIPE,H8=F8.ERR_STREAM_DESTROYED,K8=F8.ERR_STREAM_NULL_VALUES,V8=F8.ERR_STREAM_WRITE_AFTER_END,z8=F8.ERR_UNKNOWN_ENCODING,q8=w8;function G8(){}function W8(e,t,r){I8=I8||n7,e=e||{},"boolean"!=typeof r&&(r=t instanceof I8),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=U8(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new j8;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(tX(i,n),tX(t7,e,t),e._writableState.errorEmitted=!0,q8(e,n)):(i(n),e._writableState.errorEmitted=!0,q8(e,n),t7(e,t))}(e,r,n,t,i);else{var a=Z8(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||$8(e,r),n?tX(Y8,e,r,a,i):Y8(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new T8(this)}function J8(e){var t=this instanceof(I8=I8||n7);if(!t&&!O8.call(J8,this))return new J8(e);this._writableState=new W8(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u8.call(this)}function X8(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new H8("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function Y8(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),t7(e,t)}function $8(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var o=0,s=!0;r;)i[o]=r,r.isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,X8(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new T8(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback;if(X8(e,t,!1,t.objectMode?1:u.length,u,c,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function Z8(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function e7(e,t){e._final((function(r){t.pendingcb--,r&&q8(e,r),t.prefinished=!0,e.emit("prefinish"),t7(e,t)}))}function t7(e,t){var r=Z8(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,tX(e7,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}o8(J8,u8),W8.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(W8.prototype,"buffer",{get:L8((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(O8=Function.prototype[Symbol.hasInstance],Object.defineProperty(J8,Symbol.hasInstance,{value:function(e){return!!O8.call(this,e)||this===J8&&e&&e._writableState instanceof W8}})):O8=function(e){return e instanceof this},J8.prototype.pipe=function(){q8(this,new Q8)},J8.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,o=!i.objectMode&&(n=e,N8.isBuffer(n)||n instanceof M8);return o&&!N8.isBuffer(e)&&(e=function(e){return N8.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=G8),i.ending?function(e,t){var r=new V8;q8(e,r),tX(t,r)}(this,r):(o||function(e,t,r,n){var i;return null===r?i=new K8:"string"==typeof r||t.objectMode||(i=new R8("chunk",["string","Buffer"],r)),!i||(q8(e,i),tX(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=N8.from(t,r)),t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else X8(e,t,!1,s,n,i,a);return u}(this,i,o,e,t,r)),a},J8.prototype.cork=function(){this._writableState.corked++},J8.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||$8(this,e))},J8.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new z8(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(J8.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(J8.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),J8.prototype._write=function(e,t,r){r(new D8("_write()"))},J8.prototype._writev=null,J8.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,t7(e,t),r&&(t.finished?tX(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(J8.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(J8.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),J8.prototype.destroy=m8,J8.prototype._undestroy=b8,J8.prototype._destroy=function(e,t){t(e)};var r7=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},n7=s7;o8(s7,K7);for(var i7=r7(P8.prototype),a7=0;a7<i7.length;a7++){var o7=i7[a7];s7.prototype[o7]||(s7.prototype[o7]=P8.prototype[o7])}function s7(e){if(!(this instanceof s7))return new s7(e);K7.call(this,e),P8.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u7)))}function u7(){this._writableState.ended||tX(c7,this)}function c7(e){e.end()}Object.defineProperty(s7.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s7.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s7.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s7.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var l7=s8.Buffer,f7=l7.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},h7=A7;function A7(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(l7.isEncoding===f7||!f7(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=v7,this.end=g7,t=4;break;case"utf8":this.fillLast=p7,t=4;break;case"base64":this.text=y7,this.end=m7,t=3;break;default:return this.write=b7,void(this.end=w7)}this.lastNeed=0,this.lastTotal=0,this.lastChar=l7.allocUnsafe(t)}function d7(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function p7(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function v7(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function g7(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y7(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function m7(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function b7(e){return e.toString(this.encoding)}function w7(e){return e&&e.length?this.write(e):""}A7.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},A7.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},A7.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=d7(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=d7(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=d7(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},A7.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var x7={StringDecoder:h7},k7=B8.codes.ERR_STREAM_PREMATURE_CLOSE;function _7(){}var B7,E7=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(n||_7);var i=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,o=function(){t.writable||u()},s=t._writableState&&t._writableState.finished,u=function(){a=!1,s=!0,i||n.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){i=!1,c=!0,a||n.call(t)},f=function(e){n.call(t,e)},h=function(){var e;return i&&!c?(t._readableState&&t._readableState.ended||(e=new k7),n.call(t,e)):a&&!s?(t._writableState&&t._writableState.ended||(e=new k7),n.call(t,e)):void 0},A=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",h),t.req?A():t.on("request",A)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",l),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",h),function(){t.removeListener("complete",u),t.removeListener("abort",h),t.removeListener("request",A),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",h)}};function S7(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C7=Symbol("lastResolve"),I7=Symbol("lastReject"),P7=Symbol("error"),T7=Symbol("ended"),O7=Symbol("lastPromise"),L7=Symbol("handlePromise"),N7=Symbol("stream");function M7(e,t){return{value:e,done:t}}function U7(e){var t=e[C7];if(null!==t){var r=e[N7].read();null!==r&&(e[O7]=null,e[C7]=null,e[I7]=null,t(M7(r,!1)))}}function F7(e){tX(U7,e)}var R7,D7=Object.getPrototypeOf((function(){})),j7=Object.setPrototypeOf((S7(B7={get stream(){return this[N7]},next:function(){var e=this,t=this[P7];if(null!==t)return Promise.reject(t);if(this[T7])return Promise.resolve(M7(void 0,!0));if(this[N7].destroyed)return new Promise((function(t,r){tX((function(){e[P7]?r(e[P7]):t(M7(void 0,!0))}))}));var r,n=this[O7];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[T7]?r(M7(void 0,!0)):t[L7](r,n)}),n)}}(n,this));else{var i=this[N7].read();if(null!==i)return Promise.resolve(M7(i,!1));r=new Promise(this[L7])}return this[O7]=r,r}},Symbol.asyncIterator,(function(){return this})),S7(B7,"return",(function(){var e=this;return new Promise((function(t,r){e[N7].destroy(null,(function(e){e?r(e):t(M7(void 0,!0))}))}))})),B7),D7),Q7=function(e){var t,r=Object.create(j7,(S7(t={},N7,{value:e,writable:!0}),S7(t,C7,{value:null,writable:!0}),S7(t,I7,{value:null,writable:!0}),S7(t,P7,{value:null,writable:!0}),S7(t,T7,{value:e._readableState.endEmitted,writable:!0}),S7(t,L7,{value:function(e,t){var n=r[N7].read();n?(r[O7]=null,r[C7]=null,r[I7]=null,e(M7(n,!1))):(r[C7]=e,r[I7]=t)},writable:!0}),t));return r[O7]=null,E7(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[I7];return null!==t&&(r[O7]=null,r[C7]=null,r[I7]=null,t(e)),void(r[P7]=e)}var n=r[C7];null!==n&&(r[O7]=null,r[C7]=null,r[I7]=null,n(M7(void 0,!0))),r[T7]=!0})),e.on("readable",F7.bind(null,r)),r},H7=function(){throw new Error("Readable.from is not available in the browser")},K7=o9;o9.ReadableState=a9;var V7,z7=function(e,t){return e.listeners(t).length},q7=KJ.Buffer,G7=UW.Uint8Array||function(){};V7=s0&&s0.debuglog?s0.debuglog("stream"):function(){};var W7,J7,X7,Y7=S8,$7=B8.codes,Z7=$7.ERR_INVALID_ARG_TYPE,e9=$7.ERR_STREAM_PUSH_AFTER_EOF,t9=$7.ERR_METHOD_NOT_IMPLEMENTED,r9=$7.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o8(o9,u8);var n9=w8,i9=["error","close","destroy","pause","resume"];function a9(e,t,r){R7=R7||n7,e=e||{},"boolean"!=typeof r&&(r=t instanceof R7),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=Y7(this,e,"readableHighWaterMark",r),this.buffer=new p8,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(W7||(W7=x7.StringDecoder),this.decoder=new W7(e.encoding),this.encoding=e.encoding)}function o9(e){if(R7=R7||n7,!(this instanceof o9))return new o9(e);var t=this instanceof R7;this._readableState=new a9(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u8.call(this)}function s9(e,t,r,n,i){V7("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,function(e,t){if(V7("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?l9(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,f9(e)))}}(e,o);else if(i||(a=function(e,t){var r,n;return n=t,q7.isBuffer(n)||n instanceof G7||"string"==typeof t||void 0===t||e.objectMode||(r=new Z7("chunk",["string","Buffer","Uint8Array"],t)),r}(o,t)),a)n9(e,a);else if(o.objectMode||t&&t.length>0)if("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===q7.prototype||(t=function(e){return q7.from(e)}(t)),n)o.endEmitted?n9(e,new r9):u9(e,o,t,!0);else if(o.ended)n9(e,new e9);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?u9(e,o,t,!1):h9(e,o)):u9(e,o,t,!1)}else n||(o.reading=!1,h9(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function u9(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&l9(e)),h9(e,t)}function c9(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function l9(e){var t=e._readableState;V7("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(V7("emitReadable",t.flowing),t.emittedReadable=!0,tX(f9,e))}function f9(e){var t=e._readableState;V7("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,g9(e)}function h9(e,t){t.readingMore||(t.readingMore=!0,tX(A9,e,t))}function A9(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(V7("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function d9(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function p9(e){V7("readable nexttick read 0"),e.read(0)}function v9(e,t){V7("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),g9(e),t.flowing&&!t.reading&&e.read(0)}function g9(e){var t=e._readableState;for(V7("flow",t.flowing);t.flowing&&null!==e.read(););}function y9(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function m9(e){var t=e._readableState;V7("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,tX(b9,t,e))}function b9(e,t){if(V7("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function w9(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(o9.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o9.prototype.destroy=m8,o9.prototype._undestroy=b8,o9.prototype._destroy=function(e,t){t(e)},o9.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=q7.from(e,t),t=""),r=!0),s9(this,e,t,!1,r)},o9.prototype.unshift=function(e){return s9(this,e,null,!0,!1)},o9.prototype.isPaused=function(){return!1===this._readableState.flowing},o9.prototype.setEncoding=function(e){W7||(W7=x7.StringDecoder);var t=new W7(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},o9.prototype.read=function(e){V7("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return V7("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?m9(this):l9(this),null;if(0===(e=c9(e,t))&&t.ended)return 0===t.length&&m9(this),null;var n,i=t.needReadable;return V7("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&V7("length less than watermark",i=!0),t.ended||t.reading?V7("reading or ended",i=!1):i&&(V7("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=c9(r,t))),null===(n=e>0?y9(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&m9(this)),null!==n&&this.emit("data",n),n},o9.prototype._read=function(e){n9(this,new t9("_read()"))},o9.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,V7("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end||e===dX.stdout||e===dX.stderr?h:a;function a(){V7("onend"),e.end()}n.endEmitted?tX(i):r.once("end",i),e.on("unpipe",(function t(i,A){V7("onunpipe"),i===r&&A&&!1===A.hasUnpiped&&(A.hasUnpiped=!0,V7("cleanup"),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("drain",o),e.removeListener("error",c),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",h),r.removeListener("data",u),s=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||o())}));var o=function(e){return function(){var t=e._readableState;V7("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&z7(e,"data")&&(t.flowing=!0,g9(e))}}(r);e.on("drain",o);var s=!1;function u(t){V7("ondata");var i=e.write(t);V7("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==w9(n.pipes,e))&&!s&&(V7("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function c(t){V7("onerror",t),h(),e.removeListener("error",c),0===z7(e,"error")&&n9(e,t)}function l(){e.removeListener("finish",f),h()}function f(){V7("onfinish"),e.removeListener("close",l),h()}function h(){V7("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",c),e.once("close",l),e.once("finish",f),e.emit("pipe",r),n.flowing||(V7("pipe resume"),r.resume()),e},o9.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=w9(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},o9.prototype.on=function(e,t){var r=u8.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,V7("on readable",n.length,n.reading),n.length?l9(this):n.reading||tX(p9,this))),r},o9.prototype.addListener=o9.prototype.on,o9.prototype.removeListener=function(e,t){var r=u8.prototype.removeListener.call(this,e,t);return"readable"===e&&tX(d9,this),r},o9.prototype.removeAllListeners=function(e){var t=u8.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||tX(d9,this),t},o9.prototype.resume=function(){var e=this._readableState;return e.flowing||(V7("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,tX(v9,e,t))}(this,e)),e.paused=!1,this},o9.prototype.pause=function(){return V7("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(V7("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},o9.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(V7("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){V7("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<i9.length;a++)e.on(i9[a],this.emit.bind(this,i9[a]));return this._read=function(t){V7("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(o9.prototype[Symbol.asyncIterator]=function(){return void 0===J7&&(J7=Q7),J7(this)}),Object.defineProperty(o9.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o9.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o9.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),o9._fromList=y9,Object.defineProperty(o9.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(o9.from=function(e,t){return void 0===X7&&(X7=H7),X7(o9,e,t)});var x9=I9,k9=B8.codes,_9=k9.ERR_METHOD_NOT_IMPLEMENTED,B9=k9.ERR_MULTIPLE_CALLBACK,E9=k9.ERR_TRANSFORM_ALREADY_TRANSFORMING,S9=k9.ERR_TRANSFORM_WITH_LENGTH_0;function C9(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new B9);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function I9(e){if(!(this instanceof I9))return new I9(e);n7.call(this,e),this._transformState={afterTransform:C9.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",P9)}function P9(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?T9(this,null,null):this._flush((function(t,r){T9(e,t,r)}))}function T9(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new S9;if(e._transformState.transforming)throw new E9;return e.push(null)}o8(I9,n7),I9.prototype.push=function(e,t){return this._transformState.needTransform=!1,n7.prototype.push.call(this,e,t)},I9.prototype._transform=function(e,t,r){r(new _9("_transform()"))},I9.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},I9.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},I9.prototype._destroy=function(e,t){n7.prototype._destroy.call(this,e,(function(e){t(e)}))};var O9,L9=N9;function N9(e){if(!(this instanceof N9))return new N9(e);x9.call(this,e)}o8(N9,x9),N9.prototype._transform=function(e,t,r){r(null,e)};var M9=B8.codes,U9=M9.ERR_MISSING_ARGS,F9=M9.ERR_STREAM_DESTROYED;function R9(e){if(e)throw e}function D9(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var i=!1;e.on("close",(function(){i=!0})),void 0===O9&&(O9=E7),O9(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var a=!1;return function(t){if(!i&&!a)return a=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new F9("pipe"))}}function j9(e){e()}function Q9(e,t){return e.pipe(t)}function H9(e){return e.length?"function"!=typeof e[e.length-1]?R9:e.pop():R9}var K9=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=H9(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new U9("streams");var a=t.map((function(e,r){var o=r<t.length-1;return D9(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(j9),o||(a.forEach(j9),i(n))}))}));return t.reduce(Q9)},V9=RW((function(e,t){(t=e.exports=K7).Stream=t,t.Readable=t,t.Writable=P8,t.Duplex=n7,t.Transform=x9,t.PassThrough=L9,t.finished=E7,t.pipeline=K9}));V9.Stream,V9.Readable,V9.Writable,V9.Duplex,V9.Transform,V9.PassThrough,V9.finished,V9.pipeline;var z9=s8.Buffer,q9=V9.Transform;function G9(e){q9.call(this),this._block=z9.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}o8(G9,q9),G9.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},G9.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},G9.prototype.update=function(e,t){if(function(e,t){if(!z9.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");z9.isBuffer(e)||(e=z9.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var a=0,o=8*e.length;o>0;++a)this._length[a]+=o,(o=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*o);return this},G9.prototype._update=function(){throw new Error("_update is not implemented")},G9.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},G9.prototype._digest=function(){throw new Error("_digest is not implemented")};var W9=G9,J9=s8.Buffer,X9=new Array(16);function Y9(){W9.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function $9(e,t){return e<<t|e>>>32-t}function Z9(e,t,r,n,i,a,o){return $9(e+(t&r|~t&n)+i+a|0,o)+t|0}function eee(e,t,r,n,i,a,o){return $9(e+(t&n|r&~n)+i+a|0,o)+t|0}function tee(e,t,r,n,i,a,o){return $9(e+(t^r^n)+i+a|0,o)+t|0}function ree(e,t,r,n,i,a,o){return $9(e+(r^(t|~n))+i+a|0,o)+t|0}o8(Y9,W9),Y9.prototype._update=function(){for(var e=X9,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,a=this._d;r=Z9(r,n,i,a,e[0],3614090360,7),a=Z9(a,r,n,i,e[1],3905402710,12),i=Z9(i,a,r,n,e[2],606105819,17),n=Z9(n,i,a,r,e[3],3250441966,22),r=Z9(r,n,i,a,e[4],4118548399,7),a=Z9(a,r,n,i,e[5],1200080426,12),i=Z9(i,a,r,n,e[6],2821735955,17),n=Z9(n,i,a,r,e[7],4249261313,22),r=Z9(r,n,i,a,e[8],1770035416,7),a=Z9(a,r,n,i,e[9],2336552879,12),i=Z9(i,a,r,n,e[10],4294925233,17),n=Z9(n,i,a,r,e[11],2304563134,22),r=Z9(r,n,i,a,e[12],1804603682,7),a=Z9(a,r,n,i,e[13],4254626195,12),i=Z9(i,a,r,n,e[14],2792965006,17),r=eee(r,n=Z9(n,i,a,r,e[15],1236535329,22),i,a,e[1],4129170786,5),a=eee(a,r,n,i,e[6],3225465664,9),i=eee(i,a,r,n,e[11],643717713,14),n=eee(n,i,a,r,e[0],3921069994,20),r=eee(r,n,i,a,e[5],3593408605,5),a=eee(a,r,n,i,e[10],38016083,9),i=eee(i,a,r,n,e[15],3634488961,14),n=eee(n,i,a,r,e[4],3889429448,20),r=eee(r,n,i,a,e[9],568446438,5),a=eee(a,r,n,i,e[14],3275163606,9),i=eee(i,a,r,n,e[3],4107603335,14),n=eee(n,i,a,r,e[8],1163531501,20),r=eee(r,n,i,a,e[13],2850285829,5),a=eee(a,r,n,i,e[2],4243563512,9),i=eee(i,a,r,n,e[7],1735328473,14),r=tee(r,n=eee(n,i,a,r,e[12],2368359562,20),i,a,e[5],4294588738,4),a=tee(a,r,n,i,e[8],2272392833,11),i=tee(i,a,r,n,e[11],1839030562,16),n=tee(n,i,a,r,e[14],4259657740,23),r=tee(r,n,i,a,e[1],2763975236,4),a=tee(a,r,n,i,e[4],1272893353,11),i=tee(i,a,r,n,e[7],4139469664,16),n=tee(n,i,a,r,e[10],3200236656,23),r=tee(r,n,i,a,e[13],681279174,4),a=tee(a,r,n,i,e[0],3936430074,11),i=tee(i,a,r,n,e[3],3572445317,16),n=tee(n,i,a,r,e[6],76029189,23),r=tee(r,n,i,a,e[9],3654602809,4),a=tee(a,r,n,i,e[12],3873151461,11),i=tee(i,a,r,n,e[15],530742520,16),r=ree(r,n=tee(n,i,a,r,e[2],3299628645,23),i,a,e[0],4096336452,6),a=ree(a,r,n,i,e[7],1126891415,10),i=ree(i,a,r,n,e[14],2878612391,15),n=ree(n,i,a,r,e[5],4237533241,21),r=ree(r,n,i,a,e[12],1700485571,6),a=ree(a,r,n,i,e[3],2399980690,10),i=ree(i,a,r,n,e[10],4293915773,15),n=ree(n,i,a,r,e[1],2240044497,21),r=ree(r,n,i,a,e[8],1873313359,6),a=ree(a,r,n,i,e[15],4264355552,10),i=ree(i,a,r,n,e[6],2734768916,15),n=ree(n,i,a,r,e[13],1309151649,21),r=ree(r,n,i,a,e[4],4149444226,6),a=ree(a,r,n,i,e[11],3174756917,10),i=ree(i,a,r,n,e[2],718787259,15),n=ree(n,i,a,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0},Y9.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=J9.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var nee=Y9,iee=KJ.Buffer,aee=new Array(16),oee=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],see=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],uee=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],cee=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],lee=[0,1518500249,1859775393,2400959708,2840853838],fee=[1352829926,1548603684,1836072691,2053994217,0];function hee(){W9.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function Aee(e,t){return e<<t|e>>>32-t}function dee(e,t,r,n,i,a,o,s){return Aee(e+(t^r^n)+a+o|0,s)+i|0}function pee(e,t,r,n,i,a,o,s){return Aee(e+(t&r|~t&n)+a+o|0,s)+i|0}function vee(e,t,r,n,i,a,o,s){return Aee(e+((t|~r)^n)+a+o|0,s)+i|0}function gee(e,t,r,n,i,a,o,s){return Aee(e+(t&n|r&~n)+a+o|0,s)+i|0}function yee(e,t,r,n,i,a,o,s){return Aee(e+(t^(r|~n))+a+o|0,s)+i|0}o8(hee,W9),hee.prototype._update=function(){for(var e=aee,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,o=0|this._e,s=0|this._a,u=0|this._b,c=0|this._c,l=0|this._d,f=0|this._e,h=0;h<80;h+=1){var A,d;h<16?(A=dee(r,n,i,a,o,e[oee[h]],lee[0],uee[h]),d=yee(s,u,c,l,f,e[see[h]],fee[0],cee[h])):h<32?(A=pee(r,n,i,a,o,e[oee[h]],lee[1],uee[h]),d=gee(s,u,c,l,f,e[see[h]],fee[1],cee[h])):h<48?(A=vee(r,n,i,a,o,e[oee[h]],lee[2],uee[h]),d=vee(s,u,c,l,f,e[see[h]],fee[2],cee[h])):h<64?(A=gee(r,n,i,a,o,e[oee[h]],lee[3],uee[h]),d=pee(s,u,c,l,f,e[see[h]],fee[3],cee[h])):(A=yee(r,n,i,a,o,e[oee[h]],lee[4],uee[h]),d=dee(s,u,c,l,f,e[see[h]],fee[4],cee[h])),r=o,o=a,a=Aee(i,10),i=n,n=A,s=f,f=l,l=Aee(c,10),c=u,u=d}var p=this._b+i+l|0;this._b=this._c+a+f|0,this._c=this._d+o+s|0,this._d=this._e+r+u|0,this._e=this._a+n+c|0,this._a=p},hee.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=iee.alloc?iee.alloc(20):new iee(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var mee=hee,bee=s8.Buffer;function wee(e,t){this._block=bee.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}wee.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=bee.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,a=this._len,o=0;o<i;){for(var s=a%n,u=Math.min(i-o,n-s),c=0;c<u;c++)r[s+c]=e[o+c];o+=u,(a+=u)%n==0&&this._update(r)}return this._len+=i,this},wee.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},wee.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var xee=wee,kee=s8.Buffer,_ee=[1518500249,1859775393,-1894007588,-899497514],Bee=new Array(80);function Eee(){this.init(),this._w=Bee,xee.call(this,64,56)}function See(e){return e<<30|e>>>2}function Cee(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}o8(Eee,xee),Eee.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Eee.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)r[u]=e.readInt32BE(4*u);for(;u<80;++u)r[u]=r[u-3]^r[u-8]^r[u-14]^r[u-16];for(var c=0;c<80;++c){var l=~~(c/20),f=0|((t=n)<<5|t>>>27)+Cee(l,i,a,o)+s+r[c]+_ee[l];s=o,o=a,a=See(i),i=n,n=f}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},Eee.prototype._hash=function(){var e=kee.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Iee=Eee,Pee=s8.Buffer,Tee=[1518500249,1859775393,-1894007588,-899497514],Oee=new Array(80);function Lee(){this.init(),this._w=Oee,xee.call(this,64,56)}function Nee(e){return e<<5|e>>>27}function Mee(e){return e<<30|e>>>2}function Uee(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}o8(Lee,xee),Lee.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Lee.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)r[u]=e.readInt32BE(4*u);for(;u<80;++u)r[u]=(t=r[u-3]^r[u-8]^r[u-14]^r[u-16])<<1|t>>>31;for(var c=0;c<80;++c){var l=~~(c/20),f=Nee(n)+Uee(l,i,a,o)+s+r[c]+Tee[l]|0;s=o,o=a,a=Mee(i),i=n,n=f}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},Lee.prototype._hash=function(){var e=Pee.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var Fee=Lee,Ree=s8.Buffer,Dee=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],jee=new Array(64);function Qee(){this.init(),this._w=jee,xee.call(this,64,56)}function Hee(e,t,r){return r^e&(t^r)}function Kee(e,t,r){return e&t|r&(e|t)}function Vee(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function zee(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function qee(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function Gee(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}o8(Qee,xee),Qee.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Qee.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,o=0|this._e,s=0|this._f,u=0|this._g,c=0|this._h,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<64;++l)t[l]=Gee(t[l-2])+t[l-7]+qee(t[l-15])+t[l-16]|0;for(var f=0;f<64;++f){var h=c+zee(o)+Hee(o,s,u)+Dee[f]+t[f]|0,A=Vee(r)+Kee(r,n,i)|0;c=u,u=s,s=o,o=a+h|0,a=i,i=n,n=r,r=h+A|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0,this._f=s+this._f|0,this._g=u+this._g|0,this._h=c+this._h|0},Qee.prototype._hash=function(){var e=Ree.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Wee=Qee,Jee=s8.Buffer,Xee=new Array(64);function Yee(){this.init(),this._w=Xee,xee.call(this,64,56)}o8(Yee,Wee),Yee.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Yee.prototype._hash=function(){var e=Jee.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var $ee=Yee,Zee=s8.Buffer,ete=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],tte=new Array(160);function rte(){this.init(),this._w=tte,xee.call(this,128,112)}function nte(e,t,r){return r^e&(t^r)}function ite(e,t,r){return e&t|r&(e|t)}function ate(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function ote(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function ste(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function ute(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function cte(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function lte(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function fte(e,t){return e>>>0<t>>>0?1:0}o8(rte,xee),rte.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},rte.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,a=0|this._dh,o=0|this._eh,s=0|this._fh,u=0|this._gh,c=0|this._hh,l=0|this._al,f=0|this._bl,h=0|this._cl,A=0|this._dl,d=0|this._el,p=0|this._fl,v=0|this._gl,g=0|this._hl,y=0;y<32;y+=2)t[y]=e.readInt32BE(4*y),t[y+1]=e.readInt32BE(4*y+4);for(;y<160;y+=2){var m=t[y-30],b=t[y-30+1],w=ste(m,b),x=ute(b,m),k=cte(m=t[y-4],b=t[y-4+1]),_=lte(b,m),B=t[y-14],E=t[y-14+1],S=t[y-32],C=t[y-32+1],I=x+E|0,P=w+B+fte(I,x)|0;P=(P=P+k+fte(I=I+_|0,_)|0)+S+fte(I=I+C|0,C)|0,t[y]=P,t[y+1]=I}for(var T=0;T<160;T+=2){P=t[T],I=t[T+1];var O=ite(r,n,i),L=ite(l,f,h),N=ate(r,l),M=ate(l,r),U=ote(o,d),F=ote(d,o),R=ete[T],D=ete[T+1],j=nte(o,s,u),Q=nte(d,p,v),H=g+F|0,K=c+U+fte(H,g)|0;K=(K=(K=K+j+fte(H=H+Q|0,Q)|0)+R+fte(H=H+D|0,D)|0)+P+fte(H=H+I|0,I)|0;var V=M+L|0,z=N+O+fte(V,M)|0;c=u,g=v,u=s,v=p,s=o,p=d,o=a+K+fte(d=A+H|0,A)|0,a=i,A=h,i=n,h=f,n=r,f=l,r=K+z+fte(l=H+V|0,H)|0}this._al=this._al+l|0,this._bl=this._bl+f|0,this._cl=this._cl+h|0,this._dl=this._dl+A|0,this._el=this._el+d|0,this._fl=this._fl+p|0,this._gl=this._gl+v|0,this._hl=this._hl+g|0,this._ah=this._ah+r+fte(this._al,l)|0,this._bh=this._bh+n+fte(this._bl,f)|0,this._ch=this._ch+i+fte(this._cl,h)|0,this._dh=this._dh+a+fte(this._dl,A)|0,this._eh=this._eh+o+fte(this._el,d)|0,this._fh=this._fh+s+fte(this._fl,p)|0,this._gh=this._gh+u+fte(this._gl,v)|0,this._hh=this._hh+c+fte(this._hl,g)|0},rte.prototype._hash=function(){var e=Zee.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var hte=rte,Ate=s8.Buffer,dte=new Array(160);function pte(){this.init(),this._w=dte,xee.call(this,128,112)}o8(pte,hte),pte.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},pte.prototype._hash=function(){var e=Ate.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var vte=pte,gte=RW((function(e){var t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};t.sha=Iee,t.sha1=Fee,t.sha224=$ee,t.sha256=Wee,t.sha384=vte,t.sha512=hte})),yte=s8.Buffer,mte=O$.Transform,bte=JY.StringDecoder;function wte(e){mte.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o8(wte,mte),wte.prototype.update=function(e,t,r){"string"==typeof e&&(e=yte.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},wte.prototype.setAutoPadding=function(){},wte.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},wte.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},wte.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},wte.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},wte.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},wte.prototype._finalOrDigest=function(e){var t=this.__final()||yte.alloc(0);return e&&(t=this._toString(t,e,!0)),t},wte.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new bte(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var xte=wte;function kte(e){xte.call(this,"digest"),this._hash=e}o8(kte,xte),kte.prototype._update=function(e){this._hash.update(e)},kte.prototype._final=function(){return this._hash.digest()};var _te=function(e){return"md5"===(e=e.toLowerCase())?new nee:"rmd160"===e||"ripemd160"===e?new mee:new kte(gte(e))},Bte=s8.Buffer,Ete=Bte.alloc(128);function Ste(e,t){xte.call(this,"digest"),"string"==typeof t&&(t=Bte.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=Bte.concat([t,Ete],64));for(var r=this._ipad=Bte.allocUnsafe(64),n=this._opad=Bte.allocUnsafe(64),i=0;i<64;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}o8(Ste,xte),Ste.prototype._update=function(e){this._hash.push(e)},Ste.prototype._final=function(){var e=this._alg(Bte.concat(this._hash));return this._alg(Bte.concat([this._opad,e]))};var Cte=Ste,Ite=function(e){return(new nee).update(e).digest()},Pte=s8.Buffer,Tte=Pte.alloc(128);function Ote(e,t){xte.call(this,"digest"),"string"==typeof t&&(t=Pte.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new mee:gte(e)).update(t).digest():t.length<r&&(t=Pte.concat([t,Tte],r));for(var n=this._ipad=Pte.allocUnsafe(r),i=this._opad=Pte.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new mee:gte(e),this._hash.update(n)}o8(Ote,xte),Ote.prototype._update=function(e){this._hash.update(e)},Ote.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new mee:gte(this._alg)).update(this._opad).update(e).digest()};var Lte=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new Ote("rmd160",t):"md5"===e?new Cte(Ite,t):new Ote(e,t)},Nte=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash160=function(e){var t=_te("sha256").update(e).digest();try{return _te("rmd160").update(t).digest()}catch(e){return _te("ripemd160").update(t).digest()}},t.hmacSHA512=function(e,t){return Lte("sha512",e).update(t).digest()}}));FW(Nte),Nte.hash160,Nte.hmacSHA512;var Mte=s8.Buffer,Ute=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),a=i.charCodeAt(0);if(255!==t[a])throw new TypeError(i+" is ambiguous");t[a]=n}var o=e.length,s=e.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return Mte.alloc(0);var r=0;if(" "!==e[r]){for(var n=0,i=0;e[r]===s;)n++,r++;for(var a=(e.length-r)*u+1>>>0,c=new Uint8Array(a);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var f=0,h=a-1;(0!==l||f<i)&&-1!==h;h--,f++)l+=o*c[h]>>>0,c[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=f,r++}if(" "!==e[r]){for(var A=a-i;A!==a&&0===c[A];)A++;var d=Mte.allocUnsafe(n+(a-A));d.fill(0,0,n);for(var p=n;A!==a;)d[p++]=c[A++];return d}}}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=Mte.from(t)),!Mte.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var u=(a-i)*c+1>>>0,l=new Uint8Array(u);i!==a;){for(var f=t[i],h=0,A=u-1;(0!==f||h<n)&&-1!==A;A--,h++)f+=256*l[A]>>>0,l[A]=f%o>>>0,f=f/o>>>0;if(0!==f)throw new Error("Non-zero carry");n=h,i++}for(var d=u-n;d!==u&&0===l[d];)d++;for(var p=s.repeat(r);d<u;++d)p+=e.charAt(l[d]);return p},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Fte=s8.Buffer,Rte=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return Ute.encode(Fte.concat([t,r],t.length+4))},decode:function(e){var r=t(Ute.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=Ute.decodeUnsafe(e);if(r)return t(r)}}}((function(e){var t=_te("sha256").update(e).digest();return _te("sha256").update(t).digest()})),Dte=RW((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function a(e,t,r){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==i(e)?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:s0.Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,a=Math.min(e.length,r),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}a.isBN=function(e){return e instanceof a||null!==e&&"object"==i(e)&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==i(e))return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(a++,this.negative=1),a<e.length&&(16===t?this._parseHex(e,a,n):(this._parseBase(e,t,a),"le"===n&&this._initArray(this.toArray(),t,n)))},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<a,this.words[o]|=67108863&i,a>=18?(a-=18,o+=1,this.words[o]|=i>>>26):a+=8;this.strip()},a.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,o=a%n,s=Math.min(a,a-o)+r,u=0,l=r;l<s;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=c(e,l,e.length,t),l=0;l<o;l++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function A(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],o=i*a,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,f=67108863&u,h=Math.min(c,t.length-1),A=Math.max(0,c-e.length+1);A<=h;A++){var d=c-A|0;l+=(o=(i=0|e.words[d])*(a=0|t.words[A])+f)/67108864|0,f=67108863&o}r.words[c]=0|f,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}a.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<i|a)).toString(16);n=0!=(a=s>>>24-i&16777215)||o!==this.length-1?l[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=f[e],A=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var p=d.modn(A).toString(e);n=(d=d.idivn(A)).isZero()?p+n:l[c-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===t,c=new e(a),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[s]=o;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-i;s++)c[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),c[a-s-1]=o}return c},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},a.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,o=0;o<n.length;o++)a=(t=(0|r.words[o])-(0|n.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<r.length;o++)a=(t=(0|r.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,r){var n,i,a,o=e.words,s=t.words,u=r.words,c=0,l=0|o[0],f=8191&l,h=l>>>13,A=0|o[1],d=8191&A,p=A>>>13,v=0|o[2],g=8191&v,y=v>>>13,m=0|o[3],b=8191&m,w=m>>>13,x=0|o[4],k=8191&x,_=x>>>13,B=0|o[5],E=8191&B,S=B>>>13,C=0|o[6],I=8191&C,P=C>>>13,T=0|o[7],O=8191&T,L=T>>>13,N=0|o[8],M=8191&N,U=N>>>13,F=0|o[9],R=8191&F,D=F>>>13,j=0|s[0],Q=8191&j,H=j>>>13,K=0|s[1],V=8191&K,z=K>>>13,q=0|s[2],G=8191&q,W=q>>>13,J=0|s[3],X=8191&J,Y=J>>>13,$=0|s[4],Z=8191&$,ee=$>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],ae=8191&ie,oe=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,he=le>>>13,Ae=0|s[9],de=8191&Ae,pe=Ae>>>13;r.negative=e.negative^t.negative,r.length=19;var ve=(c+(n=Math.imul(f,Q))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(h,Q)|0))<<13)|0;c=((a=Math.imul(h,H))+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(d,Q),i=(i=Math.imul(d,H))+Math.imul(p,Q)|0,a=Math.imul(p,H);var ge=(c+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,z)|0)+Math.imul(h,V)|0))<<13)|0;c=((a=a+Math.imul(h,z)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,Q),i=(i=Math.imul(g,H))+Math.imul(y,Q)|0,a=Math.imul(y,H),n=n+Math.imul(d,V)|0,i=(i=i+Math.imul(d,z)|0)+Math.imul(p,V)|0,a=a+Math.imul(p,z)|0;var ye=(c+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(h,G)|0))<<13)|0;c=((a=a+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(b,Q),i=(i=Math.imul(b,H))+Math.imul(w,Q)|0,a=Math.imul(w,H),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,z)|0)+Math.imul(y,V)|0,a=a+Math.imul(y,z)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,W)|0)+Math.imul(p,G)|0,a=a+Math.imul(p,W)|0;var me=(c+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(h,X)|0))<<13)|0;c=((a=a+Math.imul(h,Y)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(k,Q),i=(i=Math.imul(k,H))+Math.imul(_,Q)|0,a=Math.imul(_,H),n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(w,V)|0,a=a+Math.imul(w,z)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,G)|0,a=a+Math.imul(y,W)|0,n=n+Math.imul(d,X)|0,i=(i=i+Math.imul(d,Y)|0)+Math.imul(p,X)|0,a=a+Math.imul(p,Y)|0;var be=(c+(n=n+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(h,Z)|0))<<13)|0;c=((a=a+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(E,Q),i=(i=Math.imul(E,H))+Math.imul(S,Q)|0,a=Math.imul(S,H),n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,z)|0)+Math.imul(_,V)|0,a=a+Math.imul(_,z)|0,n=n+Math.imul(b,G)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(y,X)|0,a=a+Math.imul(y,Y)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,ee)|0)+Math.imul(p,Z)|0,a=a+Math.imul(p,ee)|0;var we=(c+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((a=a+Math.imul(h,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(I,Q),i=(i=Math.imul(I,H))+Math.imul(P,Q)|0,a=Math.imul(P,H),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(S,V)|0,a=a+Math.imul(S,z)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,W)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(w,X)|0,a=a+Math.imul(w,Y)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Z)|0,a=a+Math.imul(y,ee)|0,n=n+Math.imul(d,re)|0,i=(i=i+Math.imul(d,ne)|0)+Math.imul(p,re)|0,a=a+Math.imul(p,ne)|0;var xe=(c+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,oe)|0)+Math.imul(h,ae)|0))<<13)|0;c=((a=a+Math.imul(h,oe)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(O,Q),i=(i=Math.imul(O,H))+Math.imul(L,Q)|0,a=Math.imul(L,H),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,z)|0)+Math.imul(P,V)|0,a=a+Math.imul(P,z)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(S,G)|0,a=a+Math.imul(S,W)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(_,X)|0,a=a+Math.imul(_,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(w,Z)|0,a=a+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,a=a+Math.imul(y,ne)|0,n=n+Math.imul(d,ae)|0,i=(i=i+Math.imul(d,oe)|0)+Math.imul(p,ae)|0,a=a+Math.imul(p,oe)|0;var ke=(c+(n=n+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((a=a+Math.imul(h,ce)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(M,Q),i=(i=Math.imul(M,H))+Math.imul(U,Q)|0,a=Math.imul(U,H),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,z)|0)+Math.imul(L,V)|0,a=a+Math.imul(L,z)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(P,G)|0,a=a+Math.imul(P,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(S,X)|0,a=a+Math.imul(S,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(_,Z)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(w,re)|0,a=a+Math.imul(w,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,oe)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,oe)|0,n=n+Math.imul(d,ue)|0,i=(i=i+Math.imul(d,ce)|0)+Math.imul(p,ue)|0,a=a+Math.imul(p,ce)|0;var _e=(c+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,he)|0)+Math.imul(h,fe)|0))<<13)|0;c=((a=a+Math.imul(h,he)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,Q),i=(i=Math.imul(R,H))+Math.imul(D,Q)|0,a=Math.imul(D,H),n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,z)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,z)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(L,G)|0,a=a+Math.imul(L,W)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(P,X)|0,a=a+Math.imul(P,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(b,ae)|0,i=(i=i+Math.imul(b,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,n=n+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(y,ue)|0,a=a+Math.imul(y,ce)|0,n=n+Math.imul(d,fe)|0,i=(i=i+Math.imul(d,he)|0)+Math.imul(p,fe)|0,a=a+Math.imul(p,he)|0;var Be=(c+(n=n+Math.imul(f,de)|0)|0)+((8191&(i=(i=i+Math.imul(f,pe)|0)+Math.imul(h,de)|0))<<13)|0;c=((a=a+Math.imul(h,pe)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(D,V)|0,a=Math.imul(D,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(U,G)|0,a=a+Math.imul(U,W)|0,n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(L,X)|0,a=a+Math.imul(L,Y)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(P,Z)|0,a=a+Math.imul(P,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(S,re)|0,a=a+Math.imul(S,ne)|0,n=n+Math.imul(k,ae)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,oe)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(w,ue)|0,a=a+Math.imul(w,ce)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,he)|0)+Math.imul(y,fe)|0,a=a+Math.imul(y,he)|0;var Ee=(c+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,pe)|0)+Math.imul(p,de)|0))<<13)|0;c=((a=a+Math.imul(p,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,W))+Math.imul(D,G)|0,a=Math.imul(D,W),n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(U,X)|0,a=a+Math.imul(U,Y)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(L,Z)|0,a=a+Math.imul(L,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(P,re)|0,a=a+Math.imul(P,ne)|0,n=n+Math.imul(E,ae)|0,i=(i=i+Math.imul(E,oe)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,oe)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(_,ue)|0,a=a+Math.imul(_,ce)|0,n=n+Math.imul(b,fe)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(w,fe)|0,a=a+Math.imul(w,he)|0;var Se=(c+(n=n+Math.imul(g,de)|0)|0)+((8191&(i=(i=i+Math.imul(g,pe)|0)+Math.imul(y,de)|0))<<13)|0;c=((a=a+Math.imul(y,pe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,X),i=(i=Math.imul(R,Y))+Math.imul(D,X)|0,a=Math.imul(D,Y),n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(U,Z)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(L,re)|0,a=a+Math.imul(L,ne)|0,n=n+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,oe)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,oe)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(S,ue)|0,a=a+Math.imul(S,ce)|0,n=n+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,he)|0;var Ce=(c+(n=n+Math.imul(b,de)|0)|0)+((8191&(i=(i=i+Math.imul(b,pe)|0)+Math.imul(w,de)|0))<<13)|0;c=((a=a+Math.imul(w,pe)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(R,Z),i=(i=Math.imul(R,ee))+Math.imul(D,Z)|0,a=Math.imul(D,ee),n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,n=n+Math.imul(O,ae)|0,i=(i=i+Math.imul(O,oe)|0)+Math.imul(L,ae)|0,a=a+Math.imul(L,oe)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(P,ue)|0,a=a+Math.imul(P,ce)|0,n=n+Math.imul(E,fe)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(S,fe)|0,a=a+Math.imul(S,he)|0;var Ie=(c+(n=n+Math.imul(k,de)|0)|0)+((8191&(i=(i=i+Math.imul(k,pe)|0)+Math.imul(_,de)|0))<<13)|0;c=((a=a+Math.imul(_,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(R,re),i=(i=Math.imul(R,ne))+Math.imul(D,re)|0,a=Math.imul(D,ne),n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,oe)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(L,ue)|0,a=a+Math.imul(L,ce)|0,n=n+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,he)|0;var Pe=(c+(n=n+Math.imul(E,de)|0)|0)+((8191&(i=(i=i+Math.imul(E,pe)|0)+Math.imul(S,de)|0))<<13)|0;c=((a=a+Math.imul(S,pe)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(R,ae),i=(i=Math.imul(R,oe))+Math.imul(D,ae)|0,a=Math.imul(D,oe),n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(U,ue)|0,a=a+Math.imul(U,ce)|0,n=n+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(L,fe)|0,a=a+Math.imul(L,he)|0;var Te=(c+(n=n+Math.imul(I,de)|0)|0)+((8191&(i=(i=i+Math.imul(I,pe)|0)+Math.imul(P,de)|0))<<13)|0;c=((a=a+Math.imul(P,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(R,ue),i=(i=Math.imul(R,ce))+Math.imul(D,ue)|0,a=Math.imul(D,ce),n=n+Math.imul(M,fe)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(U,fe)|0,a=a+Math.imul(U,he)|0;var Oe=(c+(n=n+Math.imul(O,de)|0)|0)+((8191&(i=(i=i+Math.imul(O,pe)|0)+Math.imul(L,de)|0))<<13)|0;c=((a=a+Math.imul(L,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(R,fe),i=(i=Math.imul(R,he))+Math.imul(D,fe)|0,a=Math.imul(D,he);var Le=(c+(n=n+Math.imul(M,de)|0)|0)+((8191&(i=(i=i+Math.imul(M,pe)|0)+Math.imul(U,de)|0))<<13)|0;c=((a=a+Math.imul(U,pe)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ne=(c+(n=Math.imul(R,de))|0)+((8191&(i=(i=Math.imul(R,pe))+Math.imul(D,de)|0))<<13)|0;return c=((a=Math.imul(D,pe))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=ve,u[1]=ge,u[2]=ye,u[3]=me,u[4]=be,u[5]=we,u[6]=xe,u[7]=ke,u[8]=_e,u[9]=Be,u[10]=Ee,u[11]=Se,u[12]=Ce,u[13]=Ie,u[14]=Pe,u[15]=Te,u[16]=Oe,u[17]=Le,u[18]=Ne,0!==c&&(u[19]=c,r.length++),r};function p(e,t,r){return(new v).mulp(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(d=A),a.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):r<63?A(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var o=i;i=0;for(var s=67108863&n,u=Math.min(a,t.length-1),c=Math.max(0,a-e.length+1);c<=u;c++){var l=a-c,f=(0|e.words[l])*(0|t.words[c]),h=67108863&f;s=67108863&(h=h+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):p(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=a.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,a){for(var o=0;o<a;o++)n[o]=t[e[o]],i[o]=r[e[o]]},v.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,h=c,A=0;A<o;A++){var d=r[l+A],p=n[l+A],v=r[l+A+o],g=n[l+A+o],y=f*v-h*g;g=f*g+h*v,v=y,r[l+A]=d+v,n[l+A]=p+g,r[l+A+o]=d-v,n[l+A+o]=p-g,A!==s&&(y=u*f-c*h,h=u*h+c*f,f=y)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(0===a),r(0==(-8192&a))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,a,s,u,n,i),this.transform(c,a,l,f,n,i);for(var A=0;A<n;A++){var d=s[A]*l[A]-u[A]*f[A];u[A]=s[A]*f[A]+u[A]*l[A],s[A]=d}return this.conjugate(s,u,n),this.transform(s,u,h,a,n,i),this.conjugate(h,a,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),p(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new a(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},a.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,u=(0|this.words[t])-s<<n;this.words[t]=u|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,u=n;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-a|f>>>a,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},a.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i,a,o=e.length+n;this._expand(o);var s=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((a-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)s=(a=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(a=-(0|this.words[i])+s)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==t){(s=new a(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);s&&(s.words[f]=h)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},a.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new a(1),o=new a(0),s=new a(0),u=new a(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var h=0,A=1;0==(t.words[0]&A)&&h<26;++h,A<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var d=0,p=1;0==(n.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(u)):(n.isub(t),s.isub(i),u.isub(o))}return{a:s,b:u,gcd:n.iushln(c)}},a.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new a(1),s=new a(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var f=0,h=1;0==(n.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(i=0===t.cmpn(1)?o:s).cmpn(0)<0&&i.iadd(e),i},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new k(e)},a.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(m,y),m.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(b,y),n(w,y),n(x,y),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return g[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new a(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),A=this.pow(e,i),d=o;0!==A.cmp(s);){for(var p=A,v=0;0!==p.cmp(s);v++)p=p.redSqr();r(v<d);var g=this.pow(f,new a(1).iushln(d-v-1));h=h.redMul(g),f=g.redSqr(),A=A.redMul(f),d=v}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new a(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var f=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4==++s||0===n&&0===l)&&(i=this.mul(i,r[o]),s=0,o=0)):s=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new _(e)},n(_,k),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,UW)})),jte="lib/elliptic.js",Qte=["lib"],Hte={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},Kte={type:"git",url:"git@github.com:indutny/elliptic"},Vte=["EC","Elliptic","curve","Cryptography"],zte="Fedor Indutny <fedor@indutny.com>",qte={url:"https://github.com/indutny/elliptic/issues"},Gte="https://github.com/indutny/elliptic",Wte={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},Jte={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},Xte={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:jte,files:Qte,scripts:Hte,repository:Kte,keywords:Vte,author:zte,license:"MIT",bugs:qte,homepage:Gte,devDependencies:Wte,dependencies:Jte},Yte=Object.freeze({__proto__:null,name:"elliptic",version:"6.5.4",description:"EC cryptography",main:jte,files:Qte,scripts:Hte,repository:Kte,keywords:Vte,author:zte,license:"MIT",bugs:qte,homepage:Gte,devDependencies:Wte,dependencies:Jte,default:Xte}),$te=Zte;function Zte(e,t){if(!e)throw new Error(t||"Assertion failed")}Zte.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ere,tre=RW((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),rre=RW((function(e,t){var r=t;r.assert=$te,r.toArray=tre.toArray,r.zero2=tre.zero2,r.toHex=tre.toHex,r.encode=tre.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,a=e.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,a=0;e.cmpn(-i)>0||t.cmpn(-a)>0;){var o,s,u=e.andln(3)+i&3,c=t.andln(3)+a&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),s=0==(1&c)?0:3!=(n=t.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[1].push(s),2*i===o+1&&(i=1-i),2*a===s+1&&(a=1-a),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new Dte(e,"hex","le")}})),nre=function(e){return ere||(ere=new ire(null)),ere.generate(e)};function ire(e){this.rand=e}var are=ire;if(ire.prototype.generate=function(e){return this._rand(e)},ire.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==("undefined"==typeof self?"undefined":i(self)))self.crypto&&self.crypto.getRandomValues?ire.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?ire.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==("undefined"==typeof window?"undefined":i(window))&&(ire.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ore=s0;if("function"!=typeof ore.randomBytes)throw new Error("Not supported");ire.prototype._rand=function(e){return ore.randomBytes(e)}}catch(e){}nre.Rand=are;var sre=rre.getNAF,ure=rre.getJSF,cre=rre.assert;function lre(e,t){this.type=e,this.p=new Dte(t.p,16),this.red=t.prime?Dte.red(t.prime):Dte.mont(this.p),this.zero=new Dte(0).toRed(this.red),this.one=new Dte(1).toRed(this.red),this.two=new Dte(2).toRed(this.red),this.n=t.n&&new Dte(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fre=lre;function hre(e,t){this.curve=e,this.type=t,this.precomputed=null}lre.prototype.point=function(){throw new Error("Not implemented")},lre.prototype.validate=function(){throw new Error("Not implemented")},lre.prototype._fixedNafMul=function(e,t){cre(e.precomputed);var r=e._getDoubles(),n=sre(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,o,s=[];for(a=0;a<n.length;a+=r.step){o=0;for(var u=a+r.step-1;u>=a;u--)o=(o<<1)+n[u];s.push(o)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(a=0;a<s.length;a++)(o=s[a])===f?l=l.mixedAdd(r.points[a]):o===-f&&(l=l.mixedAdd(r.points[a].neg()));c=c.add(l)}return c.toP()},lre.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=sre(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var u=0;s>=0&&0===a[s];s--)u++;if(s>=0&&u++,o=o.dblp(u),s<0)break;var c=a[s];cre(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},lre.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,f=0;for(a=0;a<n;a++){var h=(s=t[a])._getNAFPoints(e);u[a]=h.wnd,c[a]=h.points}for(a=n-1;a>=1;a-=2){var A=a-1,d=a;if(1===u[A]&&1===u[d]){var p=[t[A],null,null,t[d]];0===t[A].y.cmp(t[d].y)?(p[1]=t[A].add(t[d]),p[2]=t[A].toJ().mixedAdd(t[d].neg())):0===t[A].y.cmp(t[d].y.redNeg())?(p[1]=t[A].toJ().mixedAdd(t[d]),p[2]=t[A].add(t[d].neg())):(p[1]=t[A].toJ().mixedAdd(t[d]),p[2]=t[A].toJ().mixedAdd(t[d].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=ure(r[A],r[d]);for(f=Math.max(g[0].length,f),l[A]=new Array(f),l[d]=new Array(f),o=0;o<f;o++){var y=0|g[0][o],m=0|g[1][o];l[A][o]=v[3*(y+1)+(m+1)],l[d][o]=0,c[A]=p}}else l[A]=sre(r[A],u[A],this._bitLength),l[d]=sre(r[d],u[d],this._bitLength),f=Math.max(l[A].length,f),f=Math.max(l[d].length,f)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(a=f;a>=0;a--){for(var x=0;a>=0;){var k=!0;for(o=0;o<n;o++)w[o]=0|l[o][a],0!==w[o]&&(k=!1);if(!k)break;x++,a--}if(a>=0&&x++,b=b.dblp(x),a<0)break;for(o=0;o<n;o++){var _=w[o];0!==_&&(_>0?s=c[o][_-1>>1]:_<0&&(s=c[o][-_-1>>1].neg()),b="affine"===s.type?b.mixedAdd(s):b.add(s))}}for(a=0;a<n;a++)c[a]=null;return i?b:b.toP()},lre.BasePoint=hre,hre.prototype.eq=function(){throw new Error("Not implemented")},hre.prototype.validate=function(){return this.curve.validate(this)},lre.prototype.decodePoint=function(e,t){e=rre.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?cre(e[e.length-1]%2==0):7===e[0]&&cre(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},hre.prototype.encodeCompressed=function(e){return this.encode(e,!0)},hre.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},hre.prototype.encode=function(e,t){return rre.encode(this._encode(t),e)},hre.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},hre.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},hre.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},hre.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},hre.prototype._getBeta=function(){return null},hre.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Are=rre.assert;function dre(e){fre.call(this,"short",e),this.a=new Dte(e.a,16).toRed(this.red),this.b=new Dte(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o8(dre,fre);var pre=dre;function vre(e,t,r,n){fre.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Dte(t,16),this.y=new Dte(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function gre(e,t,r,n){fre.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Dte(0)):(this.x=new Dte(t,16),this.y=new Dte(r,16),this.z=new Dte(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function yre(e){fre.call(this,"mont",e),this.a=new Dte(e.a,16).toRed(this.red),this.b=new Dte(e.b,16).toRed(this.red),this.i4=new Dte(4).toRed(this.red).redInvm(),this.two=new Dte(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}dre.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Dte(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Dte(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Are(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Dte(e.a,16),b:new Dte(e.b,16)}})):this._getEndoBasis(r)}}},dre.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Dte.mont(e),r=new Dte(2).toRed(t).redInvm(),n=r.redNeg(),i=new Dte(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},dre.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,u,c,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),A=new Dte(1),d=new Dte(0),p=new Dte(0),v=new Dte(1),g=0;0!==f.cmpn(0);){var y=h.div(f);u=h.sub(y.mul(f)),c=p.sub(y.mul(A));var m=v.sub(y.mul(d));if(!n&&u.cmp(l)<0)t=s.neg(),r=A,n=u.neg(),i=c;else if(n&&2==++g)break;s=u,h=f,f=u,p=A,A=c,v=d,d=m}a=u.neg(),o=c;var b=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(b)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a:a,b:o}]},dre.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),u=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:u.add(c).neg()}},dre.prototype.pointFromX=function(e,t){(e=new Dte(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},dre.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},dre.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*a]=s,n[2*a+1]=u,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),l=0;l<2*a;l++)n[l]=null,i[l]=null;return c},o8(vre,fre.BasePoint),dre.prototype.point=function(e,t,r){return new vre(this,e,t,r)},dre.prototype.pointFromJSON=function(e,t){return vre.fromJSON(this,e,t)},vre.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},vre.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},vre.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},vre.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},vre.prototype.isInfinity=function(){return this.inf},vre.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},vre.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},vre.prototype.getX=function(){return this.x.fromRed()},vre.prototype.getY=function(){return this.y.fromRed()},vre.prototype.mul=function(e){return e=new Dte(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},vre.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},vre.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},vre.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},vre.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},vre.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o8(gre,fre.BasePoint),dre.prototype.jpoint=function(e,t,r){return new gre(this,e,t,r)},gre.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},gre.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},gre.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=a.redSub(o);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=n.redMul(c),h=u.redSqr().redIAdd(l).redISub(f).redISub(f),A=u.redMul(f.redISub(h)).redISub(a.redMul(l)),d=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,A,d)},gre.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),l=r.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),h=s.redMul(l.redISub(f)).redISub(i.redMul(c)),A=this.z.redMul(o);return this.curve.jpoint(f,h,A)},gre.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var l=a.redSqr(),f=c.redSqr(),h=f.redSqr(),A=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),d=a.redMul(f),p=A.redSqr().redISub(d.redAdd(d)),v=d.redISub(p),g=A.redMul(v);g=g.redIAdd(g).redISub(h);var y=c.redMul(s);t+1<e&&(u=u.redMul(h)),a=p,s=y,c=g}return this.curve.jpoint(a,c.redMul(i),s)},gre.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},gre.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),A=this.x.redAdd(f).redSqr().redISub(l).redISub(h);A=A.redIAdd(A);var d=l.redAdd(l).redIAdd(l),p=d.redSqr(),v=h.redIAdd(h);v=(v=v.redIAdd(v)).redIAdd(v),e=p.redISub(A).redISub(A),t=d.redMul(A.redISub(e)).redISub(v),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},gre.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),A=this.x.redSub(l).redMul(this.x.redAdd(l));A=A.redAdd(A).redIAdd(A);var d=h.redIAdd(h),p=(d=d.redIAdd(d)).redAdd(d);e=A.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),t=A.redMul(d.redISub(e)).redISub(v)}return this.curve.jpoint(e,t,r)},gre.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(o),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var A=s.redMul(f).redISub(h),d=r.redAdd(r).redMul(n);return this.curve.jpoint(l,A,d)},gre.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var A=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(f,h,A)},gre.prototype.mul=function(e,t){return e=new Dte(e,t),this.curve._wnafMul(this,e)},gre.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},gre.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},gre.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},gre.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},o8(yre,fre);var mre=yre;function bre(e,t,r){fre.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Dte(t,16),this.z=new Dte(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}yre.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},o8(bre,fre.BasePoint),yre.prototype.decodePoint=function(e,t){return this.point(rre.toArray(e,t),1)},yre.prototype.point=function(e,t){return new bre(this,e,t)},yre.prototype.pointFromJSON=function(e){return bre.fromJSON(this,e)},bre.prototype.precompute=function(){},bre.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},bre.fromJSON=function(e,t){return new bre(e,t[0],t[1]||e.one)},bre.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},bre.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},bre.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},bre.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},bre.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),o=i.redMul(n),s=t.z.redMul(a.redAdd(o).redSqr()),u=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(s,u)},bre.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},bre.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},bre.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},bre.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},bre.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},bre.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var wre=rre.assert;function xre(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,fre.call(this,"edwards",e),this.a=new Dte(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Dte(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Dte(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),wre(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}o8(xre,fre);var kre=xre;function _re(e,t,r,n,i){fre.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Dte(t,16),this.y=new Dte(r,16),this.z=n?new Dte(n,16):this.curve.one,this.t=i&&new Dte(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}xre.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},xre.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},xre.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},xre.prototype.pointFromX=function(e,t){(e=new Dte(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var s=o.fromRed().isOdd();return(t&&!s||!t&&s)&&(o=o.redNeg()),this.point(e,o)},xre.prototype.pointFromY=function(e,t){(e=new Dte(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},xre.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o8(_re,fre.BasePoint),xre.prototype.pointFromJSON=function(e){return _re.fromJSON(this,e)},xre.prototype.point=function(e,t,r,n){return new _re(this,e,t,r,n)},_re.fromJSON=function(e,t){return new _re(e,t[0],t[1],t[2])},_re.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},_re.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},_re.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),o=a.redSub(r),s=n.redSub(t),u=i.redMul(o),c=a.redMul(s),l=i.redMul(s),f=o.redMul(a);return this.curve.point(u,c,f,l)},_re.prototype._projDbl=function(){var e,t,r,n,i,a,o=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(s)).redAdd(u);this.zOne?(e=o.redSub(s).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),a=c.redSub(i).redISub(i),e=o.redSub(s).redISub(u).redMul(a),t=c.redMul(n.redSub(u)),r=c.redMul(a))}else n=s.redAdd(u),i=this.curve._mulC(this.z).redSqr(),a=n.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(n)).redMul(a),t=this.curve._mulC(n).redMul(s.redISub(u)),r=n.redMul(a);return this.curve.point(e,t,r)},_re.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},_re.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),o=i.redSub(n),s=i.redAdd(n),u=r.redAdd(t),c=a.redMul(o),l=s.redMul(u),f=a.redMul(u),h=o.redMul(s);return this.curve.point(c,l,h,f)},_re.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),f=n.redMul(u).redMul(l);return this.curve.twisted?(t=n.redMul(c).redMul(o.redSub(this.curve._mulA(a))),r=u.redMul(c)):(t=n.redMul(c).redMul(o.redSub(a)),r=this.curve._mulC(u).redMul(c)),this.curve.point(f,t,r)},_re.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},_re.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},_re.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},_re.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},_re.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},_re.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},_re.prototype.getX=function(){return this.normalize(),this.x.fromRed()},_re.prototype.getY=function(){return this.normalize(),this.y.fromRed()},_re.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},_re.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},_re.prototype.toP=_re.prototype.normalize,_re.prototype.mixedAdd=_re.prototype.add;var Bre=RW((function(e,t){var r=t;r.base=fre,r.short=pre,r.mont=mre,r.edwards=kre}));function Ere(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function Sre(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function Cre(e){return 1===e.length?"0"+e:e}function Ire(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var Pre={inherits:o8,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):Ere(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=Cre(e[r].toString(16));return t},htonl:Sre,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=Sre(i)),r+=Ire(i.toString(16))}return r},zero2:Cre,zero8:Ire,join32:function(e,t,r,n){var i=r-t;$te(i%4==0);for(var a=new Array(i/4),o=0,s=t;o<a.length;o++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[o]=u>>>0}return a},split32:function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,a,o,s){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+a>>>0)<a?1:0,e+r+i+o+(u+=(c=c+s>>>0)<s?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,a,o,s){return t+n+a+s>>>0},sum64_5_hi:function(e,t,r,n,i,a,o,s,u,c){var l=0,f=t;return l+=(f=f+n>>>0)<t?1:0,l+=(f=f+a>>>0)<a?1:0,l+=(f=f+s>>>0)<s?1:0,e+r+i+o+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,a,o,s,u,c){return t+n+a+s+c>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function Tre(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var Ore=Tre;Tre.prototype.update=function(e,t){if(e=Pre.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=Pre.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Tre.prototype.digest=function(e){return this.update(this._pad()),$te(null===this.pending),this._digest(e)},Tre.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var Lre={BlockHash:Ore},Nre=Pre.rotr32;function Mre(e,t,r){return e&t^~e&r}function Ure(e,t,r){return e&t^e&r^t&r}function Fre(e,t,r){return e^t^r}var Rre=function(e,t,r,n){return 0===e?Mre(t,r,n):1===e||3===e?Fre(t,r,n):2===e?Ure(t,r,n):void 0},Dre=Mre,jre=Ure,Qre=function(e){return Nre(e,2)^Nre(e,13)^Nre(e,22)},Hre=function(e){return Nre(e,6)^Nre(e,11)^Nre(e,25)},Kre=function(e){return Nre(e,7)^Nre(e,18)^e>>>3},Vre=function(e){return Nre(e,17)^Nre(e,19)^e>>>10},zre=Pre.rotl32,qre=Pre.sum32,Gre=Pre.sum32_5,Wre=Rre,Jre=Lre.BlockHash,Xre=[1518500249,1859775393,2400959708,3395469782];function Yre(){if(!(this instanceof Yre))return new Yre;Jre.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Pre.inherits(Yre,Jre);var $re=Yre;Yre.blockSize=512,Yre.outSize=160,Yre.hmacStrength=80,Yre.padLength=64,Yre.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=zre(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=Gre(zre(i,5),Wre(c,a,o,s),u,r[n],Xre[c]);u=s,s=o,o=zre(a,30),a=i,i=l}this.h[0]=qre(this.h[0],i),this.h[1]=qre(this.h[1],a),this.h[2]=qre(this.h[2],o),this.h[3]=qre(this.h[3],s),this.h[4]=qre(this.h[4],u)},Yre.prototype._digest=function(e){return"hex"===e?Pre.toHex32(this.h,"big"):Pre.split32(this.h,"big")};var Zre=Pre.sum32,ene=Pre.sum32_4,tne=Pre.sum32_5,rne=Dre,nne=jre,ine=Qre,ane=Hre,one=Kre,sne=Vre,une=Lre.BlockHash,cne=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lne(){if(!(this instanceof lne))return new lne;une.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cne,this.W=new Array(64)}Pre.inherits(lne,une);var fne=lne;function hne(){if(!(this instanceof hne))return new hne;fne.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}lne.blockSize=512,lne.outSize=256,lne.hmacStrength=192,lne.padLength=64,lne.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ene(sne(r[n-2]),r[n-7],one(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],f=this.h[7];for($te(this.k.length===r.length),n=0;n<r.length;n++){var h=tne(f,ane(u),rne(u,c,l),this.k[n],r[n]),A=Zre(ine(i),nne(i,a,o));f=l,l=c,c=u,u=Zre(s,h),s=o,o=a,a=i,i=Zre(h,A)}this.h[0]=Zre(this.h[0],i),this.h[1]=Zre(this.h[1],a),this.h[2]=Zre(this.h[2],o),this.h[3]=Zre(this.h[3],s),this.h[4]=Zre(this.h[4],u),this.h[5]=Zre(this.h[5],c),this.h[6]=Zre(this.h[6],l),this.h[7]=Zre(this.h[7],f)},lne.prototype._digest=function(e){return"hex"===e?Pre.toHex32(this.h,"big"):Pre.split32(this.h,"big")},Pre.inherits(hne,fne);var Ane=hne;hne.blockSize=512,hne.outSize=224,hne.hmacStrength=192,hne.padLength=64,hne.prototype._digest=function(e){return"hex"===e?Pre.toHex32(this.h.slice(0,7),"big"):Pre.split32(this.h.slice(0,7),"big")};var dne=Pre.rotr64_hi,pne=Pre.rotr64_lo,vne=Pre.shr64_hi,gne=Pre.shr64_lo,yne=Pre.sum64,mne=Pre.sum64_hi,bne=Pre.sum64_lo,wne=Pre.sum64_4_hi,xne=Pre.sum64_4_lo,kne=Pre.sum64_5_hi,_ne=Pre.sum64_5_lo,Bne=Lre.BlockHash,Ene=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sne(){if(!(this instanceof Sne))return new Sne;Bne.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ene,this.W=new Array(160)}Pre.inherits(Sne,Bne);var Cne=Sne;function Ine(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function Pne(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function Tne(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function One(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function Lne(e,t){var r=dne(e,t,28)^dne(t,e,2)^dne(t,e,7);return r<0&&(r+=4294967296),r}function Nne(e,t){var r=pne(e,t,28)^pne(t,e,2)^pne(t,e,7);return r<0&&(r+=4294967296),r}function Mne(e,t){var r=dne(e,t,14)^dne(e,t,18)^dne(t,e,9);return r<0&&(r+=4294967296),r}function Une(e,t){var r=pne(e,t,14)^pne(e,t,18)^pne(t,e,9);return r<0&&(r+=4294967296),r}function Fne(e,t){var r=dne(e,t,1)^dne(e,t,8)^vne(e,t,7);return r<0&&(r+=4294967296),r}function Rne(e,t){var r=pne(e,t,1)^pne(e,t,8)^gne(e,t,7);return r<0&&(r+=4294967296),r}function Dne(e,t){var r=dne(e,t,19)^dne(t,e,29)^vne(e,t,6);return r<0&&(r+=4294967296),r}function jne(e,t){var r=pne(e,t,19)^pne(t,e,29)^gne(e,t,6);return r<0&&(r+=4294967296),r}function Qne(){if(!(this instanceof Qne))return new Qne;Cne.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Sne.blockSize=1024,Sne.outSize=512,Sne.hmacStrength=192,Sne.padLength=128,Sne.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Dne(r[n-4],r[n-3]),a=jne(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],u=Fne(r[n-30],r[n-29]),c=Rne(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=wne(i,a,o,s,u,c,l,f),r[n+1]=xne(i,a,o,s,u,c,l,f)}},Sne.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],f=this.h[8],h=this.h[9],A=this.h[10],d=this.h[11],p=this.h[12],v=this.h[13],g=this.h[14],y=this.h[15];$te(this.k.length===r.length);for(var m=0;m<r.length;m+=2){var b=g,w=y,x=Mne(f,h),k=Une(f,h),_=Ine(f,0,A,0,p),B=Pne(0,h,0,d,0,v),E=this.k[m],S=this.k[m+1],C=r[m],I=r[m+1],P=kne(b,w,x,k,_,B,E,S,C,I),T=_ne(b,w,x,k,_,B,E,S,C,I);b=Lne(n,i),w=Nne(n,i),x=Tne(n,0,a,0,s),k=One(0,i,0,o,0,u);var O=mne(b,w,x,k),L=bne(b,w,x,k);g=p,y=v,p=A,v=d,A=f,d=h,f=mne(c,l,P,T),h=bne(l,l,P,T),c=s,l=u,s=a,u=o,a=n,o=i,n=mne(P,T,O,L),i=bne(P,T,O,L)}yne(this.h,0,n,i),yne(this.h,2,a,o),yne(this.h,4,s,u),yne(this.h,6,c,l),yne(this.h,8,f,h),yne(this.h,10,A,d),yne(this.h,12,p,v),yne(this.h,14,g,y)},Sne.prototype._digest=function(e){return"hex"===e?Pre.toHex32(this.h,"big"):Pre.split32(this.h,"big")},Pre.inherits(Qne,Cne);var Hne=Qne;Qne.blockSize=1024,Qne.outSize=384,Qne.hmacStrength=192,Qne.padLength=128,Qne.prototype._digest=function(e){return"hex"===e?Pre.toHex32(this.h.slice(0,12),"big"):Pre.split32(this.h.slice(0,12),"big")};var Kne={sha1:$re,sha224:Ane,sha256:fne,sha384:Hne,sha512:Cne},Vne=Pre.rotl32,zne=Pre.sum32,qne=Pre.sum32_3,Gne=Pre.sum32_4,Wne=Lre.BlockHash;function Jne(){if(!(this instanceof Jne))return new Jne;Wne.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Pre.inherits(Jne,Wne);var Xne=Jne;function Yne(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function $ne(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Zne(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}Jne.blockSize=512,Jne.outSize=160,Jne.hmacStrength=192,Jne.padLength=64,Jne.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],o=this.h[4],s=r,u=n,c=i,l=a,f=o,h=0;h<80;h++){var A=zne(Vne(Gne(r,Yne(h,n,i,a),e[eie[h]+t],$ne(h)),rie[h]),o);r=o,o=a,a=Vne(i,10),i=n,n=A,A=zne(Vne(Gne(s,Yne(79-h,u,c,l),e[tie[h]+t],Zne(h)),nie[h]),f),s=f,f=l,l=Vne(c,10),c=u,u=A}A=qne(this.h[1],i,l),this.h[1]=qne(this.h[2],a,f),this.h[2]=qne(this.h[3],o,s),this.h[3]=qne(this.h[4],r,u),this.h[4]=qne(this.h[0],n,c),this.h[0]=A},Jne.prototype._digest=function(e){return"hex"===e?Pre.toHex32(this.h,"little"):Pre.split32(this.h,"little")};var eie=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],tie=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],rie=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],nie=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],iie={ripemd160:Xne};function aie(e,t,r){if(!(this instanceof aie))return new aie(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Pre.toArray(t,r))}var oie=aie;aie.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),$te(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},aie.prototype.update=function(e,t){return this.inner.update(e,t),this},aie.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var sie=RW((function(e,t){var r=t;r.utils=Pre,r.common=Lre,r.sha=Kne,r.ripemd=iie,r.hmac=oie,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),uie={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},cie=RW((function(e,t){var r,n=t,i=rre.assert;function a(e){"short"===e.type?this.curve=new Bre.short(e):"edwards"===e.type?this.curve=new Bre.edwards(e):this.curve=new Bre.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:sie.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:sie.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:sie.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:sie.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:sie.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sie.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:sie.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=uie}catch(e){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:sie.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function lie(e){if(!(this instanceof lie))return new lie(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=tre.toArray(e.entropy,e.entropyEnc||"hex"),r=tre.toArray(e.nonce,e.nonceEnc||"hex"),n=tre.toArray(e.pers,e.persEnc||"hex");$te(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var fie=lie;lie.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},lie.prototype._hmac=function(){return new sie.hmac(this.hash,this.K)},lie.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},lie.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=tre.toArray(e,t),r=tre.toArray(r,n),$te(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},lie.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=tre.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,tre.encode(a,t)};var hie=rre.assert;function Aie(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var die=Aie;Aie.fromPublic=function(e,t,r){return t instanceof Aie?t:new Aie(e,{pub:t,pubEnc:r})},Aie.fromPrivate=function(e,t,r){return t instanceof Aie?t:new Aie(e,{priv:t,privEnc:r})},Aie.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Aie.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Aie.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Aie.prototype._importPrivate=function(e,t){this.priv=new Dte(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Aie.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?hie(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||hie(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Aie.prototype.derive=function(e){return e.validate()||hie(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Aie.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Aie.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Aie.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var pie=rre.assert;function vie(e,t){if(e instanceof vie)return e;this._importDER(e,t)||(pie(e.r&&e.s,"Signature without r or s"),this.r=new Dte(e.r,16),this.s=new Dte(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var gie=vie;function yie(){this.place=0}function mie(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function bie(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function wie(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}vie.prototype._importDER=function(e,t){e=rre.toArray(e,t);var r=new yie;if(48!==e[r.place++])return!1;var n=mie(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=mie(e,r);if(!1===i)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=mie(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new Dte(a),this.s=new Dte(s),this.recoveryParam=null,!0},vie.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=bie(t),r=bie(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];wie(n,t.length),(n=n.concat(t)).push(2),wie(n,r.length);var i=n.concat(r),a=[48];return wie(a,i.length),a=a.concat(i),rre.encode(a,e)};var xie=rre.assert;function kie(e){if(!(this instanceof kie))return new kie(e);"string"==typeof e&&(xie(Object.prototype.hasOwnProperty.call(cie,e),"Unknown curve "+e),e=cie[e]),e instanceof cie.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var _ie=kie;kie.prototype.keyPair=function(e){return new die(this,e)},kie.prototype.keyFromPrivate=function(e,t){return die.fromPrivate(this,e,t)},kie.prototype.keyFromPublic=function(e,t){return die.fromPublic(this,e,t)},kie.prototype.genKeyPair=function(e){e||(e={});for(var t=new fie({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||nre(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Dte(2));;){var i=new Dte(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},kie.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},kie.prototype.sign=function(e,t,r,n){"object"==i(r)&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Dte(e,16));for(var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),s=e.toArray("be",a),u=new fie({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Dte(1)),l=0;;l++){var f=n.k?n.k(l):new Dte(u.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var A=h.getX(),d=A.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(h.getY().isOdd()?1:0)|(0!==A.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new gie({r:d,s:p,recoveryParam:v})}}}}}},kie.prototype.verify=function(e,t,r,n){e=this._truncateToN(new Dte(e,16)),r=this.keyFromPublic(r,n);var i=(t=new gie(t,"hex")).r,a=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,s=a.invm(this.n),u=s.mul(e).umod(this.n),c=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},kie.prototype.recoverPubKey=function(e,t,r,n){xie((3&r)===r,"The recovery param is more than two bits"),t=new gie(t,n);var i=this.n,a=new Dte(e),o=t.r,s=t.s,u=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),u):this.curve.pointFromX(o,u);var l=t.r.invm(i),f=i.sub(a).mul(l).umod(i),h=s.mul(l).umod(i);return this.g.mulAdd(f,o,h)},kie.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new gie(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Bie=rre.assert,Eie=rre.parseBytes,Sie=rre.cachedProperty;function Cie(e,t){this.eddsa=e,this._secret=Eie(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=Eie(t.pub)}Cie.fromPublic=function(e,t){return t instanceof Cie?t:new Cie(e,{pub:t})},Cie.fromSecret=function(e,t){return t instanceof Cie?t:new Cie(e,{secret:t})},Cie.prototype.secret=function(){return this._secret},Sie(Cie,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Sie(Cie,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Sie(Cie,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),Sie(Cie,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Sie(Cie,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Sie(Cie,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),Cie.prototype.sign=function(e){return Bie(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Cie.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Cie.prototype.getSecret=function(e){return Bie(this._secret,"KeyPair is public only"),rre.encode(this.secret(),e)},Cie.prototype.getPublic=function(e){return rre.encode(this.pubBytes(),e)};var Iie=Cie,Pie=rre.assert,Tie=rre.cachedProperty,Oie=rre.parseBytes;function Lie(e,t){this.eddsa=e,"object"!=i(t)&&(t=Oie(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Pie(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Dte&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Tie(Lie,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Tie(Lie,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Tie(Lie,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),Tie(Lie,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Lie.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Lie.prototype.toHex=function(){return rre.encode(this.toBytes(),"hex").toUpperCase()};var Nie=Lie,Mie=rre.assert,Uie=rre.parseBytes;function Fie(e){if(Mie("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof Fie))return new Fie(e);e=cie[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=sie.sha512}var Rie=Fie;Fie.prototype.sign=function(e,t){e=Uie(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),o=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),s=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:a})},Fie.prototype.verify=function(e,t,r){e=Uie(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},Fie.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return rre.intFromLE(e.digest()).umod(this.curve.n)},Fie.prototype.keyFromPublic=function(e){return Iie.fromPublic(this,e)},Fie.prototype.keyFromSecret=function(e){return Iie.fromSecret(this,e)},Fie.prototype.makeSignature=function(e){return e instanceof Nie?e:new Nie(this,e)},Fie.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},Fie.prototype.decodePoint=function(e){var t=(e=rre.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=rre.intFromLE(r);return this.curve.pointFromY(i,n)},Fie.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},Fie.prototype.decodeInt=function(e){return rre.intFromLE(e)},Fie.prototype.isPoint=function(e){return e instanceof this.pointClass};var Die=DW(Yte),jie=RW((function(e,t){var r=t;r.version=Die.version,r.utils=rre,r.rand=nre,r.curve=Bre,r.curves=cie,r.ec=_ie,r.eddsa=Rie})),Qie=aJ.alloc(1,1),Hie=aJ.alloc(1,0),Kie=new jie.ec("secp256k1"),Vie=aJ.alloc(32,0),zie=aJ.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),qie=aJ.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex"),Gie=Kie.curve.n,Wie=Gie.shrn(1),Jie=Kie.curve.g;function Xie(e){return QJ(e)&&32===e.length}function Yie(e){return!!Xie(e)&&e.compare(zie)<0}function $ie(e){if(!QJ(e))return!1;if(e.length<33)return!1;var t=e[0],r=e.slice(1,33);if(0===r.compare(Vie))return!1;if(r.compare(qie)>=0)return!1;if((2===t||3===t)&&33===e.length){try{iae(e)}catch(e){return!1}return!0}var n=e.slice(33);return 0!==n.compare(Vie)&&!(n.compare(qie)>=0)&&4===t&&65===e.length}function Zie(e){return 4!==e[0]}function eae(e){return!!Xie(e)&&e.compare(Vie)>0&&e.compare(zie)<0}function tae(e,t){return void 0===e&&void 0!==t?Zie(t):void 0===e||e}function rae(e){return new Dte(e)}function nae(e){return e.toArrayLike(aJ,"be",32)}function iae(e){return Kie.curve.decodePoint(e)}function aae(e,t){return aJ.from(e._encode(t))}function oae(e,t,r){if(!Xie(e))throw new TypeError("Expected Hash");if(!eae(t))throw new TypeError("Expected Private");if(void 0!==r&&!Xie(r))throw new TypeError("Expected Extra Data (32 bytes)");var n,i,a=rae(t),o=rae(e);(function(e,t,r,n,i){var a=aJ.alloc(32,0),o=aJ.alloc(32,1);a=Lte("sha256",a).update(o).update(Hie).update(t).update(e).update(i||"").digest(),o=Lte("sha256",a).update(o).digest(),a=Lte("sha256",a).update(o).update(Qie).update(t).update(e).update(i||"").digest(),o=Lte("sha256",a).update(o).digest();for(var s=o=Lte("sha256",a).update(o).digest();!n(s)||!r(s);)a=Lte("sha256",a).update(o).update(Hie).digest(),o=Lte("sha256",a).update(o).digest(),s=o=Lte("sha256",a).update(o).digest()})(e,t,(function(e){var t=rae(e),r=Jie.mul(t);return!r.isInfinity()&&(0!==(n=r.x.umod(Gie)).isZero()&&0!==(i=t.invm(Gie).mul(o.add(a.mul(n))).umod(Gie)).isZero())}),eae,r),i.cmp(Wie)>0&&(i=Gie.sub(i));var s=aJ.allocUnsafe(64);return nae(n).copy(s,0),nae(i).copy(s,32),s}var sae={isPoint:$ie,isPointCompressed:function(e){return!!$ie(e)&&Zie(e)},isPrivate:eae,pointAdd:function(e,t,r){if(!$ie(e))throw new TypeError("Expected Point");if(!$ie(t))throw new TypeError("Expected Point");var n=iae(e),i=iae(t),a=n.add(i);return a.isInfinity()?null:aae(a,tae(r,e))},pointAddScalar:function(e,t,r){if(!$ie(e))throw new TypeError("Expected Point");if(!Yie(t))throw new TypeError("Expected Tweak");var n=tae(r,e),i=iae(e);if(0===t.compare(Vie))return aae(i,n);var a=rae(t),o=Jie.mul(a),s=i.add(o);return s.isInfinity()?null:aae(s,n)},pointCompress:function(e,t){if(!$ie(e))throw new TypeError("Expected Point");var r=iae(e);if(r.isInfinity())throw new TypeError("Expected Point");return aae(r,tae(t,e))},pointFromScalar:function(e,t){if(!eae(e))throw new TypeError("Expected Private");var r=rae(e),n=Jie.mul(r);return n.isInfinity()?null:aae(n,tae(t))},pointMultiply:function(e,t,r){if(!$ie(e))throw new TypeError("Expected Point");if(!Yie(t))throw new TypeError("Expected Tweak");var n=tae(r,e),i=iae(e),a=rae(t),o=i.mul(a);return o.isInfinity()?null:aae(o,n)},privateAdd:function(e,t){if(!eae(e))throw new TypeError("Expected Private");if(!Yie(t))throw new TypeError("Expected Tweak");var r=rae(e),n=rae(t),i=nae(r.add(n).umod(Gie));return eae(i)?i:null},privateSub:function(e,t){if(!eae(e))throw new TypeError("Expected Private");if(!Yie(t))throw new TypeError("Expected Tweak");var r=rae(e),n=rae(t),i=nae(r.sub(n).umod(Gie));return eae(i)?i:null},sign:function(e,t){return oae(e,t)},signWithEntropy:function(e,t,r){return oae(e,t,r)},verify:function(e,t,r,n){if(!Xie(e))throw new TypeError("Expected Hash");if(!$ie(t))throw new TypeError("Expected Point");if(!function(e){var t=e.slice(0,32),r=e.slice(32,64);return QJ(e)&&64===e.length&&t.compare(zie)<0&&r.compare(zie)<0}(r))throw new TypeError("Expected Signature");var i=iae(t),a=rae(r.slice(0,32)),o=rae(r.slice(32,64));if(n&&o.cmp(Wie)>0)return!1;if(a.gtn(0)<=0)return!1;if(o.gtn(0)<=0)return!1;var s=rae(e),u=o.invm(Gie),c=s.mul(u).umod(Gie),l=a.mul(u).umod(Gie),f=Jie.mulAdd(c,i,l);return!f.isInfinity()&&f.x.umod(Gie).eq(a)}},uae={Array:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return null!=e&&e.constructor===Array})),Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==i(e)},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var cae in uae.Null=uae.Nil,uae)uae[cae].toJSON=function(e){return e}.bind(null,cae);var lae=uae;function fae(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function hae(e){return lae.Nil(e)?"":fae(e.constructor)}function Aae(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function dae(e){return lae.Function(e)?e.toJSON?e.toJSON():fae(e):lae.Array(e)?"Array":e&&lae.Object(e)?"Object":void 0!==e?e:""}function pae(e,t,r){var n=function(e){return lae.Function(e)?"":lae.String(e)?JSON.stringify(e):e&&lae.Object(e)?"":e}(t);return"Expected "+dae(e)+", got"+(""!==r?" "+r:"")+(""!==n?" "+n:"")}function vae(e,t,r){r=r||hae(t),this.message=pae(e,t,r),Aae(this,vae),this.__type=e,this.__value=t,this.__valueTypeName=r}function gae(e,t,r,n,i){e?(i=i||hae(n),this.message=function(e,t,r,n,i){var a='" of type ';return"key"===t&&(a='" with key type '),pae('property "'+dae(r)+a+dae(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',Aae(this,vae),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}vae.prototype=Object.create(Error.prototype),vae.prototype.constructor=vae,gae.prototype=Object.create(Error.prototype),gae.prototype.constructor=vae;var yae=vae,mae=gae,bae=function(e,t){return new vae(e,{},t)},wae=function(e,t,r){return e instanceof gae?(t=t+"."+e.__property,e=new gae(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof vae&&(e=new gae(e.__type,t,r,e.__value,e.__valueTypeName)),Aae(e),e},xae=dae,kae=hae;function _ae(e){return QJ(e)}function Bae(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function Eae(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw bae(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var Sae=Eae.bind(null,lae.Array),Cae=Eae.bind(null,_ae),Iae=Eae.bind(null,Bae),Pae=Eae.bind(null,lae.String),Tae=Math.pow(2,53)-1,Oae={ArrayN:Sae,Buffer:_ae,BufferN:Cae,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:Bae,HexN:Iae,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-Tae&&e<=Tae&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||lae.Number,n.toJSON=function(){return"".concat(r.toJSON()," between [").concat(e,", ").concat(t,"]")},n},StringN:Pae,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=Tae&&Math.floor(e)===e}};for(var Lae in Oae)Oae[Lae].toJSON=function(e){return e}.bind(null,Lae);var Nae=Oae,Mae=xae,Uae=yae,Fae=mae,Rae=wae,Dae=kae,jae={arrayOf:function(e,t){function r(r,n){return!!lae.Array(r)&&!lae.Nil(r)&&!(void 0!==t.minLength&&r.length<t.minLength)&&!(void 0!==t.maxLength&&r.length>t.maxLength)&&(void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return Hae(e,t,n)}catch(e){throw Rae(e,r)}}))}return e=Qae(e),t=t||{},r.toJSON=function(){var r="["+Mae(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return lae.Nil(r)||t(r,n,e)}return t=Qae(t),r.toJSON=function(){return"?"+Mae(t)},r},map:function(e,t){function r(r,n){if(!lae.Object(r))return!1;if(lae.Nil(r))return!1;for(var i in r){try{t&&Hae(t,i,n)}catch(e){throw Rae(e,i,"key")}try{var a=r[i];Hae(e,a,n)}catch(e){throw Rae(e,i)}}return!0}return e=Qae(e),t&&(t=Qae(t)),r.toJSON=t?function(){return"{"+Mae(t)+": "+Mae(e)+"}"}:function(){return"{"+Mae(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=Qae(e[r]);function n(e,r){if(!lae.Object(e))return!1;if(lae.Nil(e))return!1;var n;try{for(n in t)Hae(t[n],e[n],r)}catch(e){throw Rae(e,n)}if(r)for(n in e)if(!t[n])throw new Fae(void 0,n);return!0}return n.toJSON=function(){return Mae(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(Qae);function t(t,r){return e.some((function(e){try{return Hae(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(Mae).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(Qae);function t(t,r){return e.every((function(e){try{return Hae(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(Mae).join(" & ")},t},quacksLike:function(e){function t(t){return e===Dae(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(Qae);function t(t,r){return!lae.Nil(t)&&!lae.Nil(t.length)&&(!r||t.length===e.length)&&e.every((function(e,n){try{return Hae(e,t[n],r)}catch(e){throw Rae(e,n)}}))}return t.toJSON=function(){return"("+e.map(Mae).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function Qae(e){if(lae.String(e))return"?"===e[0]?jae.maybe(e.slice(1)):lae[e]||jae.quacksLike(e);if(e&&lae.Object(e)){if(lae.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return jae.arrayOf(e[0])}return jae.object(e)}return lae.Function(e)?e:jae.value(e)}function Hae(e,t,r,n){if(lae.Function(e)){if(e(t,r))return!0;throw new Uae(n||e,t)}return Hae(Qae(e),t,r)}for(var Kae in jae.oneOf=jae.anyOf,lae)Hae[Kae]=lae[Kae];for(Kae in jae)Hae[Kae]=jae[Kae];for(Kae in Nae)Hae[Kae]=Nae[Kae];Hae.compile=Qae,Hae.TfTypeError=Uae,Hae.TfPropertyTypeError=Fae;var Vae=Hae;function zae(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function qae(e,t,r){var n=new aJ(r?34:33);return n.writeUInt8(e,0),t.copy(n,1),r&&(n[33]=1),n}var Gae=function(e,t){return zae(Rte.decode(e),t)},Wae=function(e,t,r){return"number"==typeof e?Rte.encode(qae(e,t,r)):Rte.encode(qae(e.version,e.privateKey,e.compressed))},Jae=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Vae.BufferN(32),n=Vae.compile({wif:Vae.UInt8,bip32:{public:Vae.UInt32,private:Vae.UInt32}}),i={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},a=2147483648,o=Math.pow(2,31)-1;function u(e){return Vae.String(e)&&null!==e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function l(e){return Vae.UInt32(e)&&e<=o}var f=function(){function e(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;s(this,e),this.__D=t,this.__Q=r,this.chainCode=i,this.network=a,this.__DEPTH=o,this.__INDEX=u,this.__PARENT_FINGERPRINT=c,Vae(n,a),this.lowR=!1}return c(e,[{key:"depth",get:function(){return this.__DEPTH}},{key:"index",get:function(){return this.__INDEX}},{key:"parentFingerprint",get:function(){return this.__PARENT_FINGERPRINT}},{key:"publicKey",get:function(){return void 0===this.__Q&&(this.__Q=sae.pointFromScalar(this.__D,!0)),this.__Q}},{key:"privateKey",get:function(){return this.__D}},{key:"identifier",get:function(){return Nte.hash160(this.publicKey)}},{key:"fingerprint",get:function(){return this.identifier.slice(0,4)}},{key:"compressed",get:function(){return!0}},{key:"isNeutered",value:function(){return void 0===this.__D}},{key:"neutered",value:function(){return d(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}},{key:"toBase58",value:function(){var e=this.network,t=this.isNeutered()?e.bip32.public:e.bip32.private,r=aJ.allocUnsafe(78);return r.writeUInt32BE(t,0),r.writeUInt8(this.depth,4),r.writeUInt32BE(this.parentFingerprint,5),r.writeUInt32BE(this.index,9),this.chainCode.copy(r,13),this.isNeutered()?this.publicKey.copy(r,45):(r.writeUInt8(0,45),this.privateKey.copy(r,46)),Rte.encode(r)}},{key:"toWIF",value:function(){if(!this.privateKey)throw new TypeError("Missing private key");return Wae(this.network.wif,this.privateKey,!0)}},{key:"derive",value:function(e){Vae(Vae.UInt32,e);var t=e>=a,r=aJ.allocUnsafe(37);if(t){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");r[0]=0,this.privateKey.copy(r,1),r.writeUInt32BE(e,33)}else this.publicKey.copy(r,0),r.writeUInt32BE(e,33);var n,i=Nte.hmacSHA512(this.chainCode,r),o=i.slice(0,32),s=i.slice(32);if(!sae.isPrivate(o))return this.derive(e+1);if(this.isNeutered()){var u=sae.pointAddScalar(this.publicKey,o,!0);if(null===u)return this.derive(e+1);n=d(u,s,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}else{var c=sae.privateAdd(this.privateKey,o);if(null==c)return this.derive(e+1);n=A(c,s,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}return n}},{key:"deriveHardened",value:function(e){return Vae(l,e),this.derive(e+a)}},{key:"derivePath",value:function(e){Vae(u,e);var t=e.split("/");if("m"===t[0]){if(this.parentFingerprint)throw new TypeError("Expected master, got child");t=t.slice(1)}return t.reduce((function(e,t){var r;return"'"===t.slice(-1)?(r=parseInt(t.slice(0,-1),10),e.deriveHardened(r)):(r=parseInt(t,10),e.derive(r))}),this)}},{key:"sign",value:function(e,t){if(!this.privateKey)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return sae.sign(e,this.privateKey);for(var r=sae.sign(e,this.privateKey),n=aJ.alloc(32,0),i=0;r[0]>127;)i++,n.writeUIntLE(i,0,6),r=sae.signWithEntropy(e,this.privateKey,n);return r}},{key:"verify",value:function(e,t){return sae.verify(e,this.publicKey,t)}}]),e}();function h(e,t,r){return A(e,t,r)}function A(e,t,n,a,o,s){if(Vae({privateKey:r,chainCode:r},{privateKey:e,chainCode:t}),n=n||i,!sae.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return new f(e,void 0,t,n,a,o,s)}function d(e,t,n,a,o,s){if(Vae({publicKey:Vae.BufferN(33),chainCode:r},{publicKey:e,chainCode:t}),n=n||i,!sae.isPoint(e))throw new TypeError("Point is not on the curve");return new f(void 0,e,t,n,a,o,s)}t.fromBase58=function(e,t){var r=Rte.decode(e);if(78!==r.length)throw new TypeError("Invalid buffer length");t=t||i;var n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");var a=r[4],o=r.readUInt32BE(5);if(0===a&&0!==o)throw new TypeError("Invalid parent fingerprint");var s=r.readUInt32BE(9);if(0===a&&0!==s)throw new TypeError("Invalid index");var u,c=r.slice(13,45);if(n===t.bip32.private){if(0!==r.readUInt8(45))throw new TypeError("Invalid private key");u=A(r.slice(46,78),c,t,a,s,o)}else u=d(r.slice(45,78),c,t,a,s,o);return u},t.fromPrivateKey=h,t.fromPublicKey=function(e,t,r){return d(e,t,r)},t.fromSeed=function(e,t){if(Vae(Vae.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||i;var r=Nte.hmacSHA512(aJ.from("Bitcoin seed","utf8"),e);return h(r.slice(0,32),r.slice(32),t)}}));FW(Jae),Jae.fromBase58,Jae.fromPrivateKey,Jae.fromPublicKey,Jae.fromSeed;var Xae=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromSeed=Jae.fromSeed,t.fromBase58=Jae.fromBase58,t.fromPublicKey=Jae.fromPublicKey,t.fromPrivateKey=Jae.fromPrivateKey}));FW(Xae),Xae.fromSeed,Xae.fromBase58,Xae.fromPublicKey,Xae.fromPrivateKey;var Yae=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}}));FW(Yae),Yae.bitcoin,Yae.regtest,Yae.testnet;var $ae=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t,r){t=t||4,r=void 0===r||r;var n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&0==(127&e[n-1])&&(n<=1||0==(128&e[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){var i=e.readUInt32LE(0),a=e.readUInt8(4);return 128&a?-(4294967296*(-129&a)+i):4294967296*a+i}for(var o=0,s=0;s<n;++s)o|=e[s]<<8*s;return 128&e[n-1]?-(o&~(128<<8*(n-1))):o},t.encode=function(e){for(var t,r=Math.abs(e),n=(t=r)>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0,i=aJ.allocUnsafe(n),a=e<0,o=0;o<n;++o)i.writeUInt8(255&r,o),r>>=8;return 128&i[n-1]?i.writeUInt8(a?128:0,n-1):a&&(i[n-1]|=128),i}}));FW($ae),$ae.decode,$ae.encode;var Zae=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Math.pow(2,31)-1;function n(e){return Vae.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return Vae.UInt32(e)&&e<=r},t.BIP32Path=n,n.toJSON=function(){return"BIP32 derivation path"},t.Signer=function(e){return(Vae.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign},t.Satoshi=function(e){return Vae.UInt53(e)&&e<=21e14},t.ECPoint=Vae.quacksLike("Point"),t.Network=Vae.compile({messagePrefix:Vae.oneOf(Vae.Buffer,Vae.String),bip32:{public:Vae.UInt32,private:Vae.UInt32},pubKeyHash:Vae.UInt8,scriptHash:Vae.UInt8,wif:Vae.UInt8}),t.Buffer256bit=Vae.BufferN(32),t.Hash160bit=Vae.BufferN(20),t.Hash256bit=Vae.BufferN(32),t.Number=Vae.Number,t.Array=Vae.Array,t.Boolean=Vae.Boolean,t.String=Vae.String,t.Buffer=Vae.Buffer,t.Hex=Vae.Hex,t.maybe=Vae.maybe,t.tuple=Vae.tuple,t.UInt8=Vae.UInt8,t.UInt32=Vae.UInt32,t.Function=Vae.Function,t.BufferN=Vae.BufferN,t.Null=Vae.Null,t.oneOf=Vae.oneOf}));FW(Zae),Zae.UInt31,Zae.BIP32Path,Zae.Signer,Zae.Satoshi,Zae.ECPoint,Zae.Network,Zae.Buffer256bit,Zae.Hash160bit,Zae.Hash256bit,Zae.Number,Zae.Array,Zae.Boolean,Zae.String,Zae.Buffer,Zae.Hex,Zae.maybe,Zae.tuple,Zae.UInt8,Zae.UInt32,Zae.Function,Zae.BufferN,Zae.Null,Zae.oneOf;var eoe=s8.Buffer,toe=function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},roe=function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},noe=function(e,t){var r=e.length,n=t.length;if(0===r)throw new Error("R length is zero");if(0===n)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var i=eoe.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i},ioe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=aJ.alloc(1,0);function n(e){for(var t=0;0===e[t];)++t;return t===e.length?r:128&(e=e.slice(t))[0]?aJ.concat([r,e],1+e.length):e}function i(e){0===e[0]&&(e=e.slice(1));var t=aJ.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}t.decode=function(e){var t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);var n=roe(e.slice(0,-1)),a=i(n.r),o=i(n.s);return{signature:aJ.concat([a,o],64),hashType:t}},t.encode=function(e,t){Vae({signature:Zae.BufferN(64),hashType:Zae.UInt8},{signature:e,hashType:t});var r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);var i=aJ.allocUnsafe(1);i.writeUInt8(t,0);var a=n(e.slice(0,32)),o=n(e.slice(32,64));return aJ.concat([noe(a,o),i])}}));FW(ioe),ioe.decode,ioe.encode;var aoe=DW(Object.freeze({__proto__:null,OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255,default:{OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255}}));function ooe(e){return e<aoe.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}var soe={encodingLength:ooe,encode:function(e,t,r){var n=ooe(t);return 1===n?e.writeUInt8(t,r):2===n?(e.writeUInt8(aoe.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===n?(e.writeUInt8(aoe.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(aoe.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),n},decode:function(e,t){var r,n,i=e.readUInt8(t);if(i<aoe.OP_PUSHDATA1)r=i,n=1;else if(i===aoe.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(i===aoe.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(i!==aoe.OP_PUSHDATA4)throw new Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:i,number:r,size:n}}},uoe={};for(var coe in aoe)uoe[aoe[coe]]=coe;var loe=uoe,foe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.OPS=aoe;var r=t.OPS.OP_RESERVED;function n(e){return Zae.Buffer(e)||function(e){return Zae.Number(e)&&(e===t.OPS.OP_0||e>=t.OPS.OP_1&&e<=t.OPS.OP_16||e===t.OPS.OP_1NEGATE)}(e)}function i(e){return Zae.Array(e)&&e.every(n)}function a(e){return 0===e.length?t.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?r+e[0]:129===e[0]?t.OPS.OP_1NEGATE:void 0:void 0}function o(e){return QJ(e)}function s(e){return QJ(e)}function u(e){if(o(e))return e;Vae(Zae.Array,e);var t=e.reduce((function(e,t){return s(t)?1===t.length&&void 0!==a(t)?e+1:e+soe.encodingLength(t.length)+t.length:e+1}),0),r=aJ.allocUnsafe(t),n=0;if(e.forEach((function(e){if(s(e)){var t=a(e);if(void 0!==t)return r.writeUInt8(t,n),void(n+=1);n+=soe.encode(r,e.length,n),e.copy(r,n),n+=e.length}else r.writeUInt8(e,n),n+=1})),n!==r.length)throw new Error("Could not decode chunks");return r}function c(e){if(r=e,Zae.Array(r))return e;var r;Vae(Zae.Buffer,e);for(var n=[],i=0;i<e.length;){var o=e[i];if(o>t.OPS.OP_0&&o<=t.OPS.OP_PUSHDATA4){var s=soe.decode(e,i);if(null===s)return null;if((i+=s.size)+s.number>e.length)return null;var u=e.slice(i,i+s.number);i+=s.number;var c=a(u);void 0!==c?n.push(c):n.push(u)}else n.push(o),i+=1}return n}function l(e){var t=-129&e;return t>0&&t<4}t.isPushOnly=i,t.compile=u,t.decompile=c,t.toASM=function(e){return o(e)&&(e=c(e)),e.map((function(e){if(s(e)){var t=a(e);if(void 0===t)return e.toString("hex");e=t}return loe[e]})).join(" ")},t.fromASM=function(e){return Vae(Zae.String,e),u(e.split(" ").map((function(e){return void 0!==t.OPS[e]?t.OPS[e]:(Vae(Zae.Hex,e),aJ.from(e,"hex"))})))},t.toStack=function(e){return e=c(e),Vae(i,e),e.map((function(e){return s(e)?e:e===t.OPS.OP_0?aJ.allocUnsafe(0):$ae.encode(e-r)}))},t.isCanonicalPubKey=function(e){return sae.isPoint(e)},t.isDefinedHashType=l,t.isCanonicalScriptSignature=function(e){return!!QJ(e)&&!!l(e[e.length-1])&&toe(e.slice(0,-1))},t.number=$ae,t.signature=ioe}));FW(foe),foe.OPS,foe.isPushOnly,foe.compile,foe.decompile,foe.toASM,foe.fromASM,foe.toStack,foe.isCanonicalPubKey,foe.isDefinedHashType,foe.isCanonicalScriptSignature,foe.number,foe.signature;var hoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=r.call(this);return this[t]=e,e},set:function(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){var t;return function(){return void 0!==t||(t=e()),t}}}));FW(hoe),hoe.prop,hoe.value;var Aoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Vae({network:Vae.maybe(Vae.Object),output:Vae.maybe(Vae.Buffer),data:Vae.maybe(Vae.arrayOf(Vae.Buffer))},e);var n={name:"embed",network:e.network||Yae.bitcoin};if(hoe.prop(n,"output",(function(){if(e.data)return foe.compile([r.OP_RETURN].concat(e.data))})),hoe.prop(n,"data",(function(){if(e.output)return foe.decompile(e.output).slice(1)})),t.validate&&e.output){var i=foe.decompile(e.output);if(i[0]!==r.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(Vae.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}(e.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,e)}}));FW(Aoe),Aoe.p2data;var doe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS,n=r.OP_RESERVED;function i(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function a(e){return foe.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===r.OP_0)}t=Object.assign({validate:!0},t||{}),Vae({network:Vae.maybe(Vae.Object),m:Vae.maybe(Vae.Number),n:Vae.maybe(Vae.Number),output:Vae.maybe(Vae.Buffer),pubkeys:Vae.maybe(Vae.arrayOf(sae.isPoint)),signatures:Vae.maybe(Vae.arrayOf(a)),input:Vae.maybe(Vae.Buffer)},e);var o={network:e.network||Yae.bitcoin},s=[],u=!1;function c(e){u||(u=!0,s=foe.decompile(e),o.m=s[0]-n,o.n=s[s.length-2]-n,o.pubkeys=s.slice(1,-2))}if(hoe.prop(o,"output",(function(){if(e.m&&o.n&&e.pubkeys)return foe.compile([].concat(n+e.m,e.pubkeys,n+o.n,r.OP_CHECKMULTISIG))})),hoe.prop(o,"m",(function(){if(o.output)return c(o.output),o.m})),hoe.prop(o,"n",(function(){if(o.pubkeys)return o.pubkeys.length})),hoe.prop(o,"pubkeys",(function(){if(e.output)return c(e.output),o.pubkeys})),hoe.prop(o,"signatures",(function(){if(e.input)return foe.decompile(e.input).slice(1)})),hoe.prop(o,"input",(function(){if(e.signatures)return foe.compile([r.OP_0].concat(e.signatures))})),hoe.prop(o,"witness",(function(){if(o.input)return[]})),hoe.prop(o,"name",(function(){if(o.m&&o.n)return"p2ms(".concat(o.m," of ").concat(o.n,")")})),t.validate){if(e.output){if(c(e.output),!Vae.Number(s[0]))throw new TypeError("Output is invalid");if(!Vae.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==r.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(o.m<=0||o.n>16||o.m>o.n||o.n!==s.length-3)throw new TypeError("Output is invalid");if(!o.pubkeys.every((function(e){return sae.isPoint(e)})))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==o.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==o.n)throw new TypeError("n mismatch");if(e.pubkeys&&!i(e.pubkeys,o.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(o.n=e.pubkeys.length,o.n<o.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<o.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>o.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==r.OP_0)throw new TypeError("Input is invalid");if(0===o.signatures.length||!o.signatures.every(a))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!i(e.signatures,o.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(o,e)}}));FW(doe),doe.p2ms;var poe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Vae({network:Vae.maybe(Vae.Object),output:Vae.maybe(Vae.Buffer),pubkey:Vae.maybe(sae.isPoint),signature:Vae.maybe(foe.isCanonicalScriptSignature),input:Vae.maybe(Vae.Buffer)},e);var n=hoe.value((function(){return foe.decompile(e.input)})),i={name:"p2pk",network:e.network||Yae.bitcoin};if(hoe.prop(i,"output",(function(){if(e.pubkey)return foe.compile([e.pubkey,r.OP_CHECKSIG])})),hoe.prop(i,"pubkey",(function(){if(e.output)return e.output.slice(1,-1)})),hoe.prop(i,"signature",(function(){if(e.input)return n()[0]})),hoe.prop(i,"input",(function(){if(e.signature)return foe.compile([e.signature])})),hoe.prop(i,"witness",(function(){if(i.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==r.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!sae.isPoint(i.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(i.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==n().length)throw new TypeError("Input is invalid");if(!foe.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,e)}}));FW(poe),poe.p2pk;var voe=RW((function(e,t){function r(e){try{return _te("rmd160").update(e).digest()}catch(t){return _te("ripemd160").update(e).digest()}}function n(e){return _te("sha256").update(e).digest()}Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=r,t.sha1=function(e){return _te("sha1").update(e).digest()},t.sha256=n,t.hash160=function(e){return r(n(e))},t.hash256=function(e){return n(n(e))}}));FW(voe),voe.ripemd160,voe.sha1,voe.sha256,voe.hash160,voe.hash256;var goe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Vae({network:Vae.maybe(Vae.Object),address:Vae.maybe(Vae.String),hash:Vae.maybe(Vae.BufferN(20)),output:Vae.maybe(Vae.BufferN(25)),pubkey:Vae.maybe(sae.isPoint),signature:Vae.maybe(foe.isCanonicalScriptSignature),input:Vae.maybe(Vae.Buffer)},e);var n=hoe.value((function(){var t=Rte.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),i=hoe.value((function(){return foe.decompile(e.input)})),a=e.network||Yae.bitcoin,o={name:"p2pkh",network:a};if(hoe.prop(o,"address",(function(){if(o.hash){var e=aJ.allocUnsafe(21);return e.writeUInt8(a.pubKeyHash,0),o.hash.copy(e,1),Rte.encode(e)}})),hoe.prop(o,"hash",(function(){return e.output?e.output.slice(3,23):e.address?n().hash:e.pubkey||o.pubkey?voe.hash160(e.pubkey||o.pubkey):void 0})),hoe.prop(o,"output",(function(){if(o.hash)return foe.compile([r.OP_DUP,r.OP_HASH160,o.hash,r.OP_EQUALVERIFY,r.OP_CHECKSIG])})),hoe.prop(o,"pubkey",(function(){if(e.input)return i()[1]})),hoe.prop(o,"signature",(function(){if(e.input)return i()[0]})),hoe.prop(o,"input",(function(){if(e.pubkey&&e.signature)return foe.compile([e.signature,e.pubkey])})),hoe.prop(o,"witness",(function(){if(o.input)return[]})),t.validate){var s=aJ.from([]);if(e.address){if(n().version!==a.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw new TypeError("Invalid address");s=n().hash}if(e.hash){if(s.length>0&&!s.equals(e.hash))throw new TypeError("Hash mismatch");s=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==r.OP_DUP||e.output[1]!==r.OP_HASH160||20!==e.output[2]||e.output[23]!==r.OP_EQUALVERIFY||e.output[24]!==r.OP_CHECKSIG)throw new TypeError("Output is invalid");var u=e.output.slice(3,23);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch");s=u}if(e.pubkey){var c=voe.hash160(e.pubkey);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(e.input){var l=i();if(2!==l.length)throw new TypeError("Input is invalid");if(!foe.isCanonicalScriptSignature(l[0]))throw new TypeError("Input has invalid signature");if(!sae.isPoint(l[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(l[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(l[1]))throw new TypeError("Pubkey mismatch");var f=voe.hash160(l[1]);if(s.length>0&&!s.equals(f))throw new TypeError("Hash mismatch")}}return Object.assign(o,e)}}));FW(goe),goe.p2pkh;var yoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Vae({network:Vae.maybe(Vae.Object),address:Vae.maybe(Vae.String),hash:Vae.maybe(Vae.BufferN(20)),output:Vae.maybe(Vae.BufferN(23)),redeem:Vae.maybe({network:Vae.maybe(Vae.Object),output:Vae.maybe(Vae.Buffer),input:Vae.maybe(Vae.Buffer),witness:Vae.maybe(Vae.arrayOf(Vae.Buffer))}),input:Vae.maybe(Vae.Buffer),witness:Vae.maybe(Vae.arrayOf(Vae.Buffer))},e);var n=e.network;n||(n=e.redeem&&e.redeem.network||Yae.bitcoin);var i={network:n},a=hoe.value((function(){var t=Rte.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),o=hoe.value((function(){return foe.decompile(e.input)})),s=hoe.value((function(){var t=o();return{network:n,output:t[t.length-1],input:foe.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(hoe.prop(i,"address",(function(){if(i.hash){var e=aJ.allocUnsafe(21);return e.writeUInt8(i.network.scriptHash,0),i.hash.copy(e,1),Rte.encode(e)}})),hoe.prop(i,"hash",(function(){return e.output?e.output.slice(2,22):e.address?a().hash:i.redeem&&i.redeem.output?voe.hash160(i.redeem.output):void 0})),hoe.prop(i,"output",(function(){if(i.hash)return foe.compile([r.OP_HASH160,i.hash,r.OP_EQUAL])})),hoe.prop(i,"redeem",(function(){if(e.input)return s()})),hoe.prop(i,"input",(function(){if(e.redeem&&e.redeem.input&&e.redeem.output)return foe.compile([].concat(foe.decompile(e.redeem.input),e.redeem.output))})),hoe.prop(i,"witness",(function(){return i.redeem&&i.redeem.witness?i.redeem.witness:i.input?[]:void 0})),hoe.prop(i,"name",(function(){var e=["p2sh"];return void 0!==i.redeem&&e.push(i.redeem.name),e.join("-")})),t.validate){var u=aJ.from([]);if(e.address){if(a().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==a().hash.length)throw new TypeError("Invalid address");u=a().hash}if(e.hash){if(u.length>0&&!u.equals(e.hash))throw new TypeError("Hash mismatch");u=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==r.OP_HASH160||20!==e.output[1]||e.output[22]!==r.OP_EQUAL)throw new TypeError("Output is invalid");var c=e.output.slice(2,22);if(u.length>0&&!u.equals(c))throw new TypeError("Hash mismatch");u=c}var l=function(e){if(e.output){var t=foe.decompile(e.output);if(!t||t.length<1)throw new TypeError("Redeem.output too short");var r=voe.hash160(e.output);if(u.length>0&&!u.equals(r))throw new TypeError("Hash mismatch");u=r}if(e.input){var n=e.input.length>0,i=e.witness&&e.witness.length>0;if(!n&&!i)throw new TypeError("Empty input");if(n&&i)throw new TypeError("Input and witness provided");if(n){var a=foe.decompile(e.input);if(!foe.isPushOnly(a))throw new TypeError("Non push-only scriptSig")}}};if(e.input){var f=o();if(!f||f.length<1)throw new TypeError("Input too short");if(!QJ(s().output))throw new TypeError("Input is invalid");l(s())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.input){var h=s();if(e.redeem.output&&!e.redeem.output.equals(h.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(h.input))throw new TypeError("Redeem.input mismatch")}l(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(i,e)}}));FW(yoe),yoe.p2sh;for(var moe="qpzry9x8gf2tvdw0s3jn54khce6mua7l",boe={},woe=0;woe<moe.length;woe++){var xoe=moe.charAt(woe);if(void 0!==boe[xoe])throw new TypeError(xoe+" is ambiguous");boe[xoe]=woe}function koe(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function _oe(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=koe(t)^n>>5}for(t=koe(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=koe(t)^31&i}return t}function Boe(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var a=e.slice(0,i),o=e.slice(i+1);if(o.length<6)return"Data too short";var s=_oe(a);if("string"==typeof s)return s;for(var u=[],c=0;c<o.length;++c){var l=o.charAt(c),f=boe[l];if(void 0===f)return"Unknown character "+l;s=koe(s)^f,c+6>=o.length||u.push(f)}return 1!==s?"Invalid checksum for "+e:{prefix:a,words:u}}function Eoe(e,t,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(i=i<<t|e[u],a+=t;a>=r;)a-=r,s.push(i>>a&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=t)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}var Soe=function(e){var t=Boe.apply(null,arguments);if("object"==i(t))return t;throw new Error(t)},Coe=function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var n=_oe(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",a=0;a<t.length;++a){var o=t[a];if(o>>5!=0)throw new Error("Non 5-bit word");n=koe(n)^o,i+=moe.charAt(o)}for(a=0;a<6;++a)n=koe(n);for(n^=1,a=0;a<6;++a)i+=moe.charAt(n>>5*(5-a)&31);return i},Ioe=function(e){var t=Eoe(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},Poe=function(e){var t=Eoe(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)},Toe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS,n=aJ.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Vae({address:Vae.maybe(Vae.String),hash:Vae.maybe(Vae.BufferN(20)),input:Vae.maybe(Vae.BufferN(0)),network:Vae.maybe(Vae.Object),output:Vae.maybe(Vae.BufferN(22)),pubkey:Vae.maybe(sae.isPoint),signature:Vae.maybe(foe.isCanonicalScriptSignature),witness:Vae.maybe(Vae.arrayOf(Vae.Buffer))},e);var i=hoe.value((function(){var t=Soe(e.address),r=t.words.shift(),n=Poe(t.words);return{version:r,prefix:t.prefix,data:aJ.from(n)}})),a=e.network||Yae.bitcoin,o={name:"p2wpkh",network:a};if(hoe.prop(o,"address",(function(){if(o.hash){var e=Ioe(o.hash);return e.unshift(0),Coe(a.bech32,e)}})),hoe.prop(o,"hash",(function(){return e.output?e.output.slice(2,22):e.address?i().data:e.pubkey||o.pubkey?voe.hash160(e.pubkey||o.pubkey):void 0})),hoe.prop(o,"output",(function(){if(o.hash)return foe.compile([r.OP_0,o.hash])})),hoe.prop(o,"pubkey",(function(){return e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0})),hoe.prop(o,"signature",(function(){if(e.witness)return e.witness[0]})),hoe.prop(o,"input",(function(){if(o.witness)return n})),hoe.prop(o,"witness",(function(){if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){var s=aJ.from([]);if(e.address){if(a&&a.bech32!==i().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==i().version)throw new TypeError("Invalid address version");if(20!==i().data.length)throw new TypeError("Invalid address data");s=i().data}if(e.hash){if(s.length>0&&!s.equals(e.hash))throw new TypeError("Hash mismatch");s=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==r.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");s=e.output.slice(2)}if(e.pubkey){var u=voe.hash160(e.pubkey);if(s.length>0&&!s.equals(u))throw new TypeError("Hash mismatch");if(s=u,!sae.isPoint(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!foe.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!sae.isPoint(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");var c=voe.hash160(e.witness[1]);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch")}}return Object.assign(o,e)}}));FW(Toe),Toe.p2wpkh;var Ooe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS,n=aJ.alloc(0);function i(e){return!(!QJ(e)||65!==e.length||4!==e[0]||!sae.isPoint(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Vae({network:Vae.maybe(Vae.Object),address:Vae.maybe(Vae.String),hash:Vae.maybe(Vae.BufferN(32)),output:Vae.maybe(Vae.BufferN(34)),redeem:Vae.maybe({input:Vae.maybe(Vae.Buffer),network:Vae.maybe(Vae.Object),output:Vae.maybe(Vae.Buffer),witness:Vae.maybe(Vae.arrayOf(Vae.Buffer))}),input:Vae.maybe(Vae.BufferN(0)),witness:Vae.maybe(Vae.arrayOf(Vae.Buffer))},e);var a=hoe.value((function(){var t=Soe(e.address),r=t.words.shift(),n=Poe(t.words);return{version:r,prefix:t.prefix,data:aJ.from(n)}})),o=hoe.value((function(){return foe.decompile(e.redeem.input)})),s=e.network;s||(s=e.redeem&&e.redeem.network||Yae.bitcoin);var u={network:s};if(hoe.prop(u,"address",(function(){if(u.hash){var e=Ioe(u.hash);return e.unshift(0),Coe(s.bech32,e)}})),hoe.prop(u,"hash",(function(){return e.output?e.output.slice(2):e.address?a().data:u.redeem&&u.redeem.output?voe.sha256(u.redeem.output):void 0})),hoe.prop(u,"output",(function(){if(u.hash)return foe.compile([r.OP_0,u.hash])})),hoe.prop(u,"redeem",(function(){if(e.witness)return{output:e.witness[e.witness.length-1],input:n,witness:e.witness.slice(0,-1)}})),hoe.prop(u,"input",(function(){if(u.witness)return n})),hoe.prop(u,"witness",(function(){if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){var t=foe.toStack(o());return u.redeem=Object.assign({witness:t},e.redeem),u.redeem.input=n,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),hoe.prop(u,"name",(function(){var e=["p2wsh"];return void 0!==u.redeem&&e.push(u.redeem.name),e.join("-")})),t.validate){var c=aJ.from([]);if(e.address){if(a().prefix!==s.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==a().version)throw new TypeError("Invalid address version");if(32!==a().data.length)throw new TypeError("Invalid address data");c=a().data}if(e.hash){if(c.length>0&&!c.equals(e.hash))throw new TypeError("Hash mismatch");c=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==r.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");var l=e.output.slice(2);if(c.length>0&&!c.equals(l))throw new TypeError("Hash mismatch");c=l}if(e.redeem){if(e.redeem.network&&e.redeem.network!==s)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===foe.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");var f=voe.sha256(e.redeem.output);if(c.length>0&&!c.equals(f))throw new TypeError("Hash mismatch");c=f}if(e.redeem.input&&!foe.isPushOnly(o()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every((function(e,r){return e.equals(t[r])}))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&o().some(i)||e.redeem.output&&(foe.decompile(e.redeem.output)||[]).some(i))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){var h=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(h))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(i)||(foe.decompile(h)||[]).some(i))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(u,e)}}));FW(Ooe),Ooe.p2wsh;var Loe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.embed=Aoe.p2data,t.p2ms=doe.p2ms,t.p2pk=poe.p2pk,t.p2pkh=goe.p2pkh,t.p2sh=yoe.p2sh,t.p2wpkh=Toe.p2wpkh,t.p2wsh=Ooe.p2wsh}));FW(Loe),Loe.embed,Loe.p2ms,Loe.p2pk,Loe.p2pkh,Loe.p2sh,Loe.p2wpkh,Loe.p2wsh;var Noe=RW((function(e,t){function r(e){var t=Rte.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function n(e){var t=Soe(e),r=Poe(t.words.slice(1));return{version:t.words[0],prefix:t.prefix,data:aJ.from(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.fromBase58Check=r,t.fromBech32=n,t.toBase58Check=function(e,t){Vae(Zae.tuple(Zae.Hash160bit,Zae.UInt8),arguments);var r=aJ.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),Rte.encode(r)},t.toBech32=function(e,t,r){var n=Ioe(e);return n.unshift(t),Coe(r,n)},t.fromOutputScript=function(e,t){t=t||Yae.bitcoin;try{return Loe.p2pkh({output:e,network:t}).address}catch(e){}try{return Loe.p2sh({output:e,network:t}).address}catch(e){}try{return Loe.p2wpkh({output:e,network:t}).address}catch(e){}try{return Loe.p2wsh({output:e,network:t}).address}catch(e){}throw new Error(foe.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){var i,a;t=t||Yae.bitcoin;try{i=r(e)}catch(e){}if(i){if(i.version===t.pubKeyHash)return Loe.p2pkh({hash:i.hash}).output;if(i.version===t.scriptHash)return Loe.p2sh({hash:i.hash}).output}else{try{a=n(e)}catch(e){}if(a){if(a.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===a.version){if(20===a.data.length)return Loe.p2wpkh({hash:a.data}).output;if(32===a.data.length)return Loe.p2wsh({hash:a.data}).output}}}throw new Error(e+" has no matching Script")}}));FW(Noe),Noe.fromBase58Check,Noe.fromBech32,Noe.toBase58Check,Noe.toBech32,Noe.fromOutputScript,Noe.toOutputScript;var Moe=RW((function(e){var t=65536,r=s8.Buffer,n=UW.crypto||UW.msCrypto;n&&n.getRandomValues?e.exports=function(e,i){if(e>4294967295)throw new RangeError("requested too many random bytes");var a=r.allocUnsafe(e);if(e>0)if(e>t)for(var o=0;o<e;o+=t)n.getRandomValues(a.slice(o,o+t));else n.getRandomValues(a);return"function"==typeof i?tX((function(){i(null,a)})):a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),Uoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Vae.maybe(Vae.compile({compressed:Zae.maybe(Zae.Boolean),network:Zae.maybe(Zae.Network)})),n=function(){function e(t,r,n){s(this,e),this.__D=t,this.__Q=r,this.lowR=!1,void 0===n&&(n={}),this.compressed=void 0===n.compressed||n.compressed,this.network=n.network||Yae.bitcoin,void 0!==r&&(this.__Q=sae.pointCompress(r,this.compressed))}return c(e,[{key:"privateKey",get:function(){return this.__D}},{key:"publicKey",get:function(){return this.__Q||(this.__Q=sae.pointFromScalar(this.__D,this.compressed)),this.__Q}},{key:"toWIF",value:function(){if(!this.__D)throw new Error("Missing private key");return Wae(this.network.wif,this.__D,this.compressed)}},{key:"sign",value:function(e,t){if(!this.__D)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return sae.sign(e,this.__D);for(var r=sae.sign(e,this.__D),n=aJ.alloc(32,0),i=0;r[0]>127;)i++,n.writeUIntLE(i,0,6),r=sae.signWithEntropy(e,this.__D,n);return r}},{key:"verify",value:function(e,t){return sae.verify(e,this.publicKey,t)}}]),e}();function i(e,t){if(Vae(Zae.Buffer256bit,e),!sae.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return Vae(r,t),new n(e,void 0,t)}t.fromPrivateKey=i,t.fromPublicKey=function(e,t){return Vae(sae.isPoint,e),Vae(r,t),new n(void 0,e,t)},t.fromWIF=function(e,t){var r=Gae(e),n=r.version;if(Zae.Array(t)){if(!(t=t.filter((function(e){return n===e.wif})).pop()))throw new Error("Unknown network version")}else if(t=t||Yae.bitcoin,n!==t.wif)throw new Error("Invalid network version");return i(r.privateKey,{compressed:r.compressed,network:t})},t.makeRandom=function(e){Vae(r,e),void 0===e&&(e={});var t,n=e.rng||Moe;do{t=n(32),Vae(Zae.Buffer256bit,t)}while(!sae.isPrivate(t));return i(t,e)}}));FW(Uoe),Uoe.fromPrivateKey,Uoe.fromPublicKey,Uoe.fromWIF,Uoe.makeRandom;var Foe=s8.Buffer;function Roe(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function Doe(e){return Roe(e),e<253?1:e<=65535?3:e<=4294967295?5:9}var joe={encode:function e(t,r,n){if(Roe(t),r||(r=Foe.allocUnsafe(Doe(t))),!Foe.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),e.bytes=1):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),e.bytes=5):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),e.bytes=9),r},decode:function e(t,r){if(!Foe.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var n=t.readUInt8(r);if(n<253)return e.bytes=1,n;if(253===n)return e.bytes=3,t.readUInt16LE(r+1);if(254===n)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var i=t.readUInt32LE(r+1),a=4294967296*t.readUInt32LE(r+5)+i;return Roe(a),a},encodingLength:Doe},Qoe=RW((function(e,t){function r(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function n(e,t){var n=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return r((i*=4294967296)+n,9007199254740991),i+n}function i(e,t,n){return r(t,9007199254740991),e.writeInt32LE(-1&t,n),e.writeUInt32LE(Math.floor(t/4294967296),n+4),n+8}Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt64LE=n,t.writeUInt64LE=i,t.reverseBuffer=function(e){if(e.length<1)return e;for(var t=e.length-1,r=0,n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.cloneBuffer=function(e){var t=aJ.allocUnsafe(e.length);return e.copy(t),t},t.BufferWriter=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,e),this.buffer=t,this.offset=r,Vae(Zae.tuple(Zae.Buffer,Zae.UInt32),[t,r])}return c(e,[{key:"writeUInt8",value:function(e){this.offset=this.buffer.writeUInt8(e,this.offset)}},{key:"writeInt32",value:function(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}},{key:"writeUInt32",value:function(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}},{key:"writeUInt64",value:function(e){this.offset=i(this.buffer,e,this.offset)}},{key:"writeVarInt",value:function(e){joe.encode(e,this.buffer,this.offset),this.offset+=joe.encode.bytes}},{key:"writeSlice",value:function(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}},{key:"writeVarSlice",value:function(e){this.writeVarInt(e.length),this.writeSlice(e)}},{key:"writeVector",value:function(e){var t=this;this.writeVarInt(e.length),e.forEach((function(e){return t.writeVarSlice(e)}))}}]),e}(),t.BufferReader=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,e),this.buffer=t,this.offset=r,Vae(Zae.tuple(Zae.Buffer,Zae.UInt32),[t,r])}return c(e,[{key:"readUInt8",value:function(){var e=this.buffer.readUInt8(this.offset);return this.offset++,e}},{key:"readInt32",value:function(){var e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}},{key:"readUInt32",value:function(){var e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}},{key:"readUInt64",value:function(){var e=n(this.buffer,this.offset);return this.offset+=8,e}},{key:"readVarInt",value:function(){var e=joe.decode(this.buffer,this.offset);return this.offset+=joe.decode.bytes,e}},{key:"readSlice",value:function(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"readVarSlice",value:function(){return this.readSlice(this.readVarInt())}},{key:"readVector",value:function(){for(var e=this.readVarInt(),t=[],r=0;r<e;r++)t.push(this.readVarSlice());return t}}]),e}()}));FW(Qoe),Qoe.readUInt64LE,Qoe.writeUInt64LE,Qoe.reverseBuffer,Qoe.cloneBuffer,Qoe.BufferWriter,Qoe.BufferReader;var Hoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe;function n(e){var t=e.length;return joe.encodingLength(t)+t}var i=aJ.allocUnsafe(0),a=[],o=aJ.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),u=aJ.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),l=aJ.from("ffffffffffffffff","hex"),f={script:i,valueBuffer:l},h=function(){function e(){s(this,e),this.version=1,this.locktime=0,this.ins=[],this.outs=[]}return c(e,[{key:"isCoinbase",value:function(){return 1===this.ins.length&&e.isCoinbaseHash(this.ins[0].hash)}},{key:"addInput",value:function(t,r,n,o){return Vae(Zae.tuple(Zae.Hash256bit,Zae.UInt32,Zae.maybe(Zae.UInt32),Zae.maybe(Zae.Buffer)),arguments),Zae.Null(n)&&(n=e.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:r,script:o||i,sequence:n,witness:a})-1}},{key:"addOutput",value:function(e,t){return Vae(Zae.tuple(Zae.Buffer,Zae.Satoshi),arguments),this.outs.push({script:e,value:t})-1}},{key:"hasWitnesses",value:function(){return this.ins.some((function(e){return 0!==e.witness.length}))}},{key:"weight",value:function(){return 3*this.byteLength(!1)+this.byteLength(!0)}},{key:"virtualSize",value:function(){return Math.ceil(this.weight()/4)}},{key:"byteLength",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e&&this.hasWitnesses();return(t?10:8)+joe.encodingLength(this.ins.length)+joe.encodingLength(this.outs.length)+this.ins.reduce((function(e,t){return e+40+n(t.script)}),0)+this.outs.reduce((function(e,t){return e+8+n(t.script)}),0)+(t?this.ins.reduce((function(e,t){return e+function(e){var t=e.length;return joe.encodingLength(t)+e.reduce((function(e,t){return e+n(t)}),0)}(t.witness)}),0):0)}},{key:"clone",value:function(){var t=new e;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map((function(e){return{hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}})),t.outs=this.outs.map((function(e){return{script:e.script,value:e.value}})),t}},{key:"hashForSignature",value:function(t,n,a){if(Vae(Zae.tuple(Zae.UInt32,Zae.Buffer,Zae.Number),arguments),t>=this.ins.length)return u;var o=foe.compile(foe.decompile(n).filter((function(e){return e!==r.OPS.OP_CODESEPARATOR}))),s=this.clone();if((31&a)===e.SIGHASH_NONE)s.outs=[],s.ins.forEach((function(e,r){r!==t&&(e.sequence=0)}));else if((31&a)===e.SIGHASH_SINGLE){if(t>=this.outs.length)return u;s.outs.length=t+1;for(var c=0;c<t;c++)s.outs[c]=f;s.ins.forEach((function(e,r){r!==t&&(e.sequence=0)}))}a&e.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[t]],s.ins[0].script=o):(s.ins.forEach((function(e){e.script=i})),s.ins[t].script=o);var l=aJ.allocUnsafe(s.byteLength(!1)+4);return l.writeInt32LE(a,l.length-4),s.__toBuffer(l,0,!1),voe.hash256(l)}},{key:"hashForWitnessV0",value:function(t,r,i,a){Vae(Zae.tuple(Zae.UInt32,Zae.Buffer,Zae.Satoshi,Zae.UInt32),arguments);var s,u=aJ.from([]),c=o,l=o,f=o;if(a&e.SIGHASH_ANYONECANPAY||(u=aJ.allocUnsafe(36*this.ins.length),s=new Qoe.BufferWriter(u,0),this.ins.forEach((function(e){s.writeSlice(e.hash),s.writeUInt32(e.index)})),l=voe.hash256(u)),a&e.SIGHASH_ANYONECANPAY||(31&a)===e.SIGHASH_SINGLE||(31&a)===e.SIGHASH_NONE||(u=aJ.allocUnsafe(4*this.ins.length),s=new Qoe.BufferWriter(u,0),this.ins.forEach((function(e){s.writeUInt32(e.sequence)})),f=voe.hash256(u)),(31&a)!==e.SIGHASH_SINGLE&&(31&a)!==e.SIGHASH_NONE){var h=this.outs.reduce((function(e,t){return e+8+n(t.script)}),0);u=aJ.allocUnsafe(h),s=new Qoe.BufferWriter(u,0),this.outs.forEach((function(e){s.writeUInt64(e.value),s.writeVarSlice(e.script)})),c=voe.hash256(u)}else if((31&a)===e.SIGHASH_SINGLE&&t<this.outs.length){var A=this.outs[t];u=aJ.allocUnsafe(8+n(A.script)),(s=new Qoe.BufferWriter(u,0)).writeUInt64(A.value),s.writeVarSlice(A.script),c=voe.hash256(u)}u=aJ.allocUnsafe(156+n(r)),s=new Qoe.BufferWriter(u,0);var d=this.ins[t];return s.writeUInt32(this.version),s.writeSlice(l),s.writeSlice(f),s.writeSlice(d.hash),s.writeUInt32(d.index),s.writeVarSlice(r),s.writeUInt64(i),s.writeUInt32(d.sequence),s.writeSlice(c),s.writeUInt32(this.locktime),s.writeUInt32(a),voe.hash256(u)}},{key:"getHash",value:function(e){return e&&this.isCoinbase()?aJ.alloc(32,0):voe.hash256(this.__toBuffer(void 0,void 0,e))}},{key:"getId",value:function(){return Qoe.reverseBuffer(this.getHash(!1)).toString("hex")}},{key:"toBuffer",value:function(e,t){return this.__toBuffer(e,t,!0)}},{key:"toHex",value:function(){return this.toBuffer(void 0,void 0).toString("hex")}},{key:"setInputScript",value:function(e,t){Vae(Zae.tuple(Zae.Number,Zae.Buffer),arguments),this.ins[e].script=t}},{key:"setWitness",value:function(e,t){Vae(Zae.tuple(Zae.Number,[Zae.Buffer]),arguments),this.ins[e].witness=t}},{key:"__toBuffer",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=aJ.allocUnsafe(this.byteLength(n)));var i=new Qoe.BufferWriter(t,r||0);i.writeInt32(this.version);var a=n&&this.hasWitnesses();return a&&(i.writeUInt8(e.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(e.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach((function(e){i.writeSlice(e.hash),i.writeUInt32(e.index),i.writeVarSlice(e.script),i.writeUInt32(e.sequence)})),i.writeVarInt(this.outs.length),this.outs.forEach((function(e){void 0!==e.value?i.writeUInt64(e.value):i.writeSlice(e.valueBuffer),i.writeVarSlice(e.script)})),a&&this.ins.forEach((function(e){i.writeVector(e.witness)})),i.writeUInt32(this.locktime),void 0!==r?t.slice(r,i.offset):t}}],[{key:"fromBuffer",value:function(t,r){var n=new Qoe.BufferReader(t),i=new e;i.version=n.readInt32();var o=n.readUInt8(),s=n.readUInt8(),u=!1;o===e.ADVANCED_TRANSACTION_MARKER&&s===e.ADVANCED_TRANSACTION_FLAG?u=!0:n.offset-=2;for(var c=n.readVarInt(),l=0;l<c;++l)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:a});for(var f=n.readVarInt(),h=0;h<f;++h)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(u){for(var A=0;A<c;++A)i.ins[A].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==t.length)throw new Error("Transaction has unexpected data");return i}},{key:"fromHex",value:function(t){return e.fromBuffer(aJ.from(t,"hex"),!1)}},{key:"isCoinbaseHash",value:function(e){Vae(Zae.Hash256bit,e);for(var t=0;t<32;++t)if(0!==e[t])return!1;return!0}}]),e}();h.DEFAULT_SEQUENCE=4294967295,h.SIGHASH_ALL=1,h.SIGHASH_NONE=2,h.SIGHASH_SINGLE=3,h.SIGHASH_ANYONECANPAY=128,h.ADVANCED_TRANSACTION_MARKER=0,h.ADVANCED_TRANSACTION_FLAG=1,t.Transaction=h}));FW(Hoe),Hoe.Transaction;var Koe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new TypeError("Cannot compute merkle root for zero transactions"),n=new TypeError("Cannot compute witness commit for non-segwit block"),a=function(){function e(){s(this,e),this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}return c(e,[{key:"getWitnessCommit",value:function(){if(!o(this.transactions))return null;var e=this.transactions[0].outs.filter((function(e){return e.script.slice(0,6).equals(aJ.from("6a24aa21a9ed","hex"))})).map((function(e){return e.script.slice(6,38)}));if(0===e.length)return null;var t=e[e.length-1];return t instanceof aJ&&32===t.length?t:null}},{key:"hasWitnessCommit",value:function(){return this.witnessCommit instanceof aJ&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}},{key:"hasWitness",value:function(){return(e=this.transactions)instanceof Array&&e.some((function(e){return"object"==i(e)&&e.ins instanceof Array&&e.ins.some((function(e){return"object"==i(e)&&e.witness instanceof Array&&e.witness.length>0}))}));var e}},{key:"weight",value:function(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}},{key:"byteLength",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e||!this.transactions?80:80+joe.encodingLength(this.transactions.length)+this.transactions.reduce((function(e,r){return e+r.byteLength(t)}),0)}},{key:"getHash",value:function(){return voe.hash256(this.toBuffer(!0))}},{key:"getId",value:function(){return Qoe.reverseBuffer(this.getHash()).toString("hex")}},{key:"getUTCDate",value:function(){var e=new Date(0);return e.setUTCSeconds(this.timestamp),e}},{key:"toBuffer",value:function(e){var t=aJ.allocUnsafe(this.byteLength(e)),r=new Qoe.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(joe.encode(this.transactions.length,t,r.offset),r.offset+=joe.encode.bytes,this.transactions.forEach((function(e){var n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}},{key:"toHex",value:function(e){return this.toBuffer(e).toString("hex")}},{key:"checkTxRoots",value:function(){var e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit())}},{key:"checkProofOfWork",value:function(){var t=Qoe.reverseBuffer(this.getHash()),r=e.calculateTarget(this.bits);return t.compare(r)<=0}},{key:"__checkMerkleRoot",value:function(){if(!this.transactions)throw r;var t=e.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)}},{key:"__checkWitnessCommit",value:function(){if(!this.transactions)throw r;if(!this.hasWitnessCommit())throw n;var t=e.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(t)}}],[{key:"fromBuffer",value:function(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");var r=new Qoe.BufferReader(t),n=new e;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),80===t.length)return n;var i=function(){var e=Hoe.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=e.byteLength(),e},a=r.readVarInt();n.transactions=[];for(var o=0;o<a;++o){var s=i();n.transactions.push(s)}var u=n.getWitnessCommit();return u&&(n.witnessCommit=u),n}},{key:"fromHex",value:function(t){return e.fromBuffer(aJ.from(t,"hex"))}},{key:"calculateTarget",value:function(e){var t=((4278190080&e)>>24)-3,r=8388607&e,n=aJ.alloc(32,0);return n.writeUIntBE(r,29-t,3),n}},{key:"calculateMerkleRoot",value:function(e,t){if(Vae([{getHash:Zae.Function}],e),0===e.length)throw r;if(t&&!o(e))throw n;var i=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");for(var r=e.length,n=e.concat();r>1;){for(var i=0,a=0;a<r;a+=2,++i){var o=n[a],s=a+1===r?o:n[a+1],u=aJ.concat([o,s]);n[i]=t(u)}r=i}return n[0]}(e.map((function(e){return e.getHash(t)})),voe.hash256);return t?voe.hash256(aJ.concat([i,e[0].ins[0].witness[0]])):i}}]),e}();function o(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=a}));FW(Koe),Koe.Block;var Voe=RW((function(e,t){var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.GlobalTypes||(t.GlobalTypes={}))[r.UNSIGNED_TX=0]="UNSIGNED_TX",r[r.GLOBAL_XPUB=1]="GLOBAL_XPUB",t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(n=t.InputTypes||(t.InputTypes={}))[n.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",n[n.WITNESS_UTXO=1]="WITNESS_UTXO",n[n.PARTIAL_SIG=2]="PARTIAL_SIG",n[n.SIGHASH_TYPE=3]="SIGHASH_TYPE",n[n.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",n[n.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",n[n.BIP32_DERIVATION=6]="BIP32_DERIVATION",n[n.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",n[n.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",n[n.POR_COMMITMENT=9]="POR_COMMITMENT",t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment"],(i=t.OutputTypes||(t.OutputTypes={}))[i.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",i[i.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",i[i.BIP32_DERIVATION=2]="BIP32_DERIVATION",t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation"]}));FW(Voe),Voe.GlobalTypes,Voe.GLOBAL_TYPE_NAMES,Voe.InputTypes,Voe.INPUT_TYPE_NAMES,Voe.OutputTypes,Voe.OUTPUT_TYPE_NAMES;var zoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");var t,r=e.key.slice(1),n={masterFingerprint:e.value.slice(0,4),extendedPubkey:r,path:"m"},i=L(function(e){return S(Array(e).keys())}(e.value.length/4-1));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=e.value.readUInt32LE(4*a+4),s=!!(2147483648&o),u=2147483647&o;n.path+="/"+u.toString(10)+(s?"'":"")}}catch(e){i.e(e)}finally{i.f()}return n},t.encode=function(e){var t=aJ.from([Voe.GlobalTypes.GLOBAL_XPUB]),r=aJ.concat([t,e.extendedPubkey]),n=e.path.split("/"),i=aJ.allocUnsafe(4*n.length);e.masterFingerprint.copy(i,0);var a=4;return n.slice(1).forEach((function(e){var t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),i.writeUInt32LE(r,a),a+=4})),{key:r,value:i}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){var t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return QJ(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&QJ(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)+$/)},t.canAddToArray=function(e,t,r){var n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.extendedPubkey.equals(t.extendedPubkey)})).length)}}));FW(zoe),zoe.decode,zoe.encode,zoe.expected,zoe.check,zoe.canAddToArray;var qoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return{key:aJ.from([Voe.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}}));FW(qoe),qoe.encode;var Goe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:aJ.from([Voe.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return QJ(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}}));FW(Goe),Goe.decode,Goe.encode,Goe.expected,Goe.check,Goe.canAdd;var Woe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:aJ.from([Voe.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return QJ(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}}));FW(Woe),Woe.decode,Woe.encode,Woe.expected,Woe.check,Woe.canAdd;var Joe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:aJ.from([Voe.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return QJ(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}}));FW(Joe),Joe.decode,Joe.encode,Joe.expected,Joe.check,Joe.canAdd;var Xoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){var t=aJ.from([Voe.InputTypes.PARTIAL_SIG]);return{key:aJ.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return QJ(e.pubkey)&&QJ(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!QJ(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;var t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;var r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},t.canAddToArray=function(e,t,r){var n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.pubkey.equals(t.pubkey)})).length)}}));FW(Xoe),Xoe.decode,Xoe.encode,Xoe.expected,Xoe.check,Xoe.canAddToArray;var Yoe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:aJ.from([Voe.InputTypes.POR_COMMITMENT]),value:aJ.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}}));FW(Yoe),Yoe.decode,Yoe.encode,Yoe.expected,Yoe.check,Yoe.canAdd;var $oe=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){var t=aJ.from([Voe.InputTypes.SIGHASH_TYPE]),r=aJ.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},t.expected="number",t.check=function(e){return"number"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}}));FW($oe),$oe.decode,$oe.encode,$oe.expected,$oe.check,$oe.canAdd;var Zoe=RW((function(e,t){function r(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function n(e){return r(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function e(t,i,a){if(r(t),i||(i=aJ.allocUnsafe(n(t))),!QJ(i))throw new TypeError("buffer must be a Buffer instance");return a||(a=0),t<253?(i.writeUInt8(t,a),Object.assign(e,{bytes:1})):t<=65535?(i.writeUInt8(253,a),i.writeUInt16LE(t,a+1),Object.assign(e,{bytes:3})):t<=4294967295?(i.writeUInt8(254,a),i.writeUInt32LE(t,a+1),Object.assign(e,{bytes:5})):(i.writeUInt8(255,a),i.writeUInt32LE(t>>>0,a+1),i.writeUInt32LE(t/4294967296|0,a+5),Object.assign(e,{bytes:9})),i},t.decode=function e(t,n){if(!QJ(t))throw new TypeError("buffer must be a Buffer instance");n||(n=0);var i=t.readUInt8(n);if(i<253)return Object.assign(e,{bytes:1}),i;if(253===i)return Object.assign(e,{bytes:3}),t.readUInt16LE(n+1);if(254===i)return Object.assign(e,{bytes:5}),t.readUInt32LE(n+1);Object.assign(e,{bytes:9});var a=t.readUInt32LE(n+1),o=4294967296*t.readUInt32LE(n+5)+a;return r(o),o},t.encodingLength=n}));FW(Zoe),Zoe.encode,Zoe.decode,Zoe.encodingLength;var ese=RW((function(e,t){function r(e){var t=e.key.length,r=e.value.length,n=Zoe.encodingLength(t),i=Zoe.encodingLength(r),a=aJ.allocUnsafe(n+t+i+r);return Zoe.encode(t,a,0),e.key.copy(a,n),Zoe.encode(r,a,n+t),e.value.copy(a,n+t+i),a}function n(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}Object.defineProperty(t,"__esModule",{value:!0}),t.range=function(e){return S(Array(e).keys())},t.reverseBuffer=function(e){if(e.length<1)return e;for(var t=e.length-1,r=0,n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.keyValsToBuffer=function(e){var t=e.map(r);return t.push(aJ.from([0])),aJ.concat(t)},t.keyValToBuffer=r,t.readUInt64LE=function(e,t){var r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return n((i*=4294967296)+r,9007199254740991),i+r},t.writeUInt64LE=function(e,t,r){return n(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}}));FW(ese),ese.range,ese.reverseBuffer,ese.keyValsToBuffer,ese.keyValToBuffer,ese.readUInt64LE,ese.writeUInt64LE;var tse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==Voe.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));var t=ese.readUInt64LE(e.value,0),r=8,n=Zoe.decode(e.value,r);r+=Zoe.encodingLength(n);var i=e.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:t}},t.encode=function(e){var t=e.script,r=e.value,n=Zoe.encodingLength(t.length),i=aJ.allocUnsafe(8+n+t.length);return ese.writeUInt64LE(i,r,0),Zoe.encode(t.length,i,8),t.copy(i,8+n),{key:aJ.from([Voe.InputTypes.WITNESS_UTXO]),value:i}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return QJ(e.script)&&"number"==typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}}));FW(tse),tse.decode,tse.encode,tse.expected,tse.check,tse.canAdd;var rse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");var r,n=t.key.slice(1),i={masterFingerprint:t.value.slice(0,4),pubkey:n,path:"m"},a=L(function(e){return S(Array(e).keys())}(t.value.length/4-1));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=t.value.readUInt32LE(4*o+4),u=!!(2147483648&s),c=2147483647&s;i.path+="/"+c.toString(10)+(u?"'":"")}}catch(e){a.e(e)}finally{a.f()}return i},encode:function(t){var r=aJ.from([e]),n=aJ.concat([r,t.pubkey]),i=t.path.split("/"),a=aJ.allocUnsafe(4*i.length);t.masterFingerprint.copy(a,0);var o=4;return i.slice(1).forEach((function(e){var t="'"===e.slice(-1),r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,o),o+=4})),{key:n,value:a}},check:function(e){return QJ(e.pubkey)&&QJ(e.masterFingerprint)&&"string"==typeof e.path&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){var n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((function(e){return e.pubkey.equals(t.pubkey)})).length)}}}}));FW(rse),rse.makeConverter;var nse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){var r;if(e.includes(t.key[0])&&(33!==(r=t.key.slice(1)).length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}}));FW(nse),nse.makeChecker;var ise=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:aJ.from([e]),value:t}},check:function(e){return QJ(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}}));FW(ise),ise.makeConverter;var ase=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:aJ.from([e]),value:t}},check:function(e){return QJ(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}}));FW(ase),ase.makeConverter;var ose=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={unsignedTx:qoe,globalXpub:zoe,checkPubkey:nse.makeChecker([])};t.globals=r;var n={nonWitnessUtxo:Joe,partialSig:Xoe,sighashType:$oe,finalScriptSig:Goe,finalScriptWitness:Woe,porCommitment:Yoe,witnessUtxo:tse,bip32Derivation:rse.makeConverter(Voe.InputTypes.BIP32_DERIVATION),redeemScript:ise.makeConverter(Voe.InputTypes.REDEEM_SCRIPT),witnessScript:ase.makeConverter(Voe.InputTypes.WITNESS_SCRIPT),checkPubkey:nse.makeChecker([Voe.InputTypes.PARTIAL_SIG,Voe.InputTypes.BIP32_DERIVATION])};t.inputs=n;var i={bip32Derivation:rse.makeConverter(Voe.OutputTypes.BIP32_DERIVATION),redeemScript:ise.makeConverter(Voe.OutputTypes.REDEEM_SCRIPT),witnessScript:ase.makeConverter(Voe.OutputTypes.WITNESS_SCRIPT),checkPubkey:nse.makeChecker([Voe.OutputTypes.BIP32_DERIVATION])};t.outputs=i}));FW(ose),ose.globals,ose.inputs,ose.outputs;var sse=RW((function(e,t){function r(e,t,r){if(!t.equals(aJ.from([r])))throw new Error("Format Error: Invalid ".concat(e," key: ").concat(t.toString("hex")))}function n(e,t){var n,i=t.globalMapKeyVals,a=t.inputKeyVals,o=t.outputKeyVals,s={unsignedTx:e},u=0,c=L(i);try{for(c.s();!(n=c.n()).done;){var l=n.value;switch(l.key[0]){case Voe.GlobalTypes.UNSIGNED_TX:if(r("global",l.key,Voe.GlobalTypes.UNSIGNED_TX),u>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");u++;break;case Voe.GlobalTypes.GLOBAL_XPUB:void 0===s.globalXpub&&(s.globalXpub=[]),s.globalXpub.push(ose.globals.globalXpub.decode(l));break;default:s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(l)}}}catch(e){c.e(e)}finally{c.f()}var f,h=a.length,A=o.length,d=[],p=[],v=L(ese.range(h));try{for(v.s();!(f=v.n()).done;){var g,y=f.value,m={},b=L(a[y]);try{for(b.s();!(g=b.n()).done;){var w=g.value;switch(ose.inputs.checkPubkey(w),w.key[0]){case Voe.InputTypes.NON_WITNESS_UTXO:if(r("input",w.key,Voe.InputTypes.NON_WITNESS_UTXO),void 0!==m.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");m.nonWitnessUtxo=ose.inputs.nonWitnessUtxo.decode(w);break;case Voe.InputTypes.WITNESS_UTXO:if(r("input",w.key,Voe.InputTypes.WITNESS_UTXO),void 0!==m.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");m.witnessUtxo=ose.inputs.witnessUtxo.decode(w);break;case Voe.InputTypes.PARTIAL_SIG:void 0===m.partialSig&&(m.partialSig=[]),m.partialSig.push(ose.inputs.partialSig.decode(w));break;case Voe.InputTypes.SIGHASH_TYPE:if(r("input",w.key,Voe.InputTypes.SIGHASH_TYPE),void 0!==m.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");m.sighashType=ose.inputs.sighashType.decode(w);break;case Voe.InputTypes.REDEEM_SCRIPT:if(r("input",w.key,Voe.InputTypes.REDEEM_SCRIPT),void 0!==m.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");m.redeemScript=ose.inputs.redeemScript.decode(w);break;case Voe.InputTypes.WITNESS_SCRIPT:if(r("input",w.key,Voe.InputTypes.WITNESS_SCRIPT),void 0!==m.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");m.witnessScript=ose.inputs.witnessScript.decode(w);break;case Voe.InputTypes.BIP32_DERIVATION:void 0===m.bip32Derivation&&(m.bip32Derivation=[]),m.bip32Derivation.push(ose.inputs.bip32Derivation.decode(w));break;case Voe.InputTypes.FINAL_SCRIPTSIG:r("input",w.key,Voe.InputTypes.FINAL_SCRIPTSIG),m.finalScriptSig=ose.inputs.finalScriptSig.decode(w);break;case Voe.InputTypes.FINAL_SCRIPTWITNESS:r("input",w.key,Voe.InputTypes.FINAL_SCRIPTWITNESS),m.finalScriptWitness=ose.inputs.finalScriptWitness.decode(w);break;case Voe.InputTypes.POR_COMMITMENT:r("input",w.key,Voe.InputTypes.POR_COMMITMENT),m.porCommitment=ose.inputs.porCommitment.decode(w);break;default:m.unknownKeyVals||(m.unknownKeyVals=[]),m.unknownKeyVals.push(w)}}}catch(e){b.e(e)}finally{b.f()}d.push(m)}}catch(e){v.e(e)}finally{v.f()}var x,k=L(ese.range(A));try{for(k.s();!(x=k.n()).done;){var _,B=x.value,E={},S=L(o[B]);try{for(S.s();!(_=S.n()).done;){var C=_.value;switch(ose.outputs.checkPubkey(C),C.key[0]){case Voe.OutputTypes.REDEEM_SCRIPT:if(r("output",C.key,Voe.OutputTypes.REDEEM_SCRIPT),void 0!==E.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");E.redeemScript=ose.outputs.redeemScript.decode(C);break;case Voe.OutputTypes.WITNESS_SCRIPT:if(r("output",C.key,Voe.OutputTypes.WITNESS_SCRIPT),void 0!==E.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");E.witnessScript=ose.outputs.witnessScript.decode(C);break;case Voe.OutputTypes.BIP32_DERIVATION:void 0===E.bip32Derivation&&(E.bip32Derivation=[]),E.bip32Derivation.push(ose.outputs.bip32Derivation.decode(C));break;default:E.unknownKeyVals||(E.unknownKeyVals=[]),E.unknownKeyVals.push(C)}}}catch(e){S.e(e)}finally{S.f()}p.push(E)}}catch(e){k.e(e)}finally{k.f()}return{globalMap:s,inputs:d,outputs:p}}Object.defineProperty(t,"__esModule",{value:!0}),t.psbtFromBuffer=function(e,t){var r=0;function i(){var t=Zoe.decode(e,r);r+=Zoe.encodingLength(t);var n=e.slice(r,r+t);return r+=t,n}function a(){return{key:i(),value:i()}}function o(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");var t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){var t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){var t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");for(var s=[],u={};!o();){var c=a(),l=c.key.toString("hex");if(u[l])throw new Error("Format Error: Keys must be unique for global keymap: key "+l);u[l]=1,s.push(c)}var f=s.filter((function(e){return e.key[0]===Voe.GlobalTypes.UNSIGNED_TX}));if(1!==f.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");var h,A=t(f[0].value),d=A.getInputOutputCounts(),p=d.inputCount,v=d.outputCount,g=[],y=[],m=L(ese.range(p));try{for(m.s();!(h=m.n()).done;){for(var b=h.value,w={},x=[];!o();){var k=a(),_=k.key.toString("hex");if(w[_])throw new Error("Format Error: Keys must be unique for each input: input index "+b+" key "+_);w[_]=1,x.push(k)}g.push(x)}}catch(e){m.e(e)}finally{m.f()}var B,E=L(ese.range(v));try{for(E.s();!(B=E.n()).done;){for(var S=B.value,C={},I=[];!o();){var P=a(),T=P.key.toString("hex");if(C[T])throw new Error("Format Error: Keys must be unique for each output: output index "+S+" key "+T);C[T]=1,I.push(P)}y.push(I)}}catch(e){E.e(e)}finally{E.f()}return n(A,{globalMapKeyVals:s,inputKeyVals:g,outputKeyVals:y})},t.checkKeyBuffer=r,t.psbtFromKeyVals=n}));FW(sse),sse.psbtFromBuffer,sse.checkKeyBuffer,sse.psbtFromKeyVals;var use=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.psbtToBuffer=function(e){var t=i({globalMap:e.globalMap,inputs:e.inputs,outputs:e.outputs}),r=t.globalKeyVals,n=t.inputKeyVals,a=t.outputKeyVals,o=ese.keyValsToBuffer(r),s=function(e){return 0===e.length?[aJ.from([0])]:e.map(ese.keyValsToBuffer)},u=s(n),c=s(a),l=aJ.allocUnsafe(5);return l.writeUIntBE(482972169471,0,5),aJ.concat([l,o].concat(u,c))};var r=function(e,t){return e.key.compare(t.key)};function n(e,t){var n=new Set,i=Object.entries(e).reduce((function(e,r){var i=B(r,2),a=i[0],o=i[1];if("unknownKeyVals"===a)return e;var s=t[a];if(void 0===s)return e;var u=(Array.isArray(o)?o:[o]).map(s.encode);return u.map((function(e){return e.key.toString("hex")})).forEach((function(e){if(n.has(e))throw new Error("Serialize Error: Duplicate key: "+e);n.add(e)})),e.concat(u)}),[]),a=e.unknownKeyVals?e.unknownKeyVals.filter((function(e){return!n.has(e.key.toString("hex"))})):[];return i.concat(a).sort(r)}function i(e){var t=e.globalMap,r=e.inputs,i=e.outputs;return{globalKeyVals:n(t,ose.globals),inputKeyVals:r.map((function(e){return n(e,ose.inputs)})),outputKeyVals:i.map((function(e){return n(e,ose.outputs)}))}}t.psbtToKeyVals=i}));FW(use),use.psbtToBuffer,use.psbtToKeyVals;var cse=RW((function(e,t){function r(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),r(sse),r(use)}));FW(cse);var lse=RW((function(e,t){function r(e,t,r){return function(n){if(!e.has(n)){var i=r.filter((function(e){return e.key.toString("hex")===n}))[0];t.push(i),e.add(n)}}}function n(e){return e.globalMap.unsignedTx}function i(e){var t=new Set;return e.forEach((function(e){var r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.combine=function(e){var t=e[0],a=cse.psbtToKeyVals(t),o=e.slice(1);if(0===o.length)throw new Error("Combine: Nothing to combine");var s=n(t);if(void 0===s)throw new Error("Combine: Self missing transaction");var u,c=i(a.globalKeyVals),l=a.inputKeyVals.map(i),f=a.outputKeyVals.map(i),h=L(o);try{var A=function(){var e=u.value,t=n(e);if(void 0===t||!t.toBuffer().equals(s.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");var o=cse.psbtToKeyVals(e);i(o.globalKeyVals).forEach(r(c,a.globalKeyVals,o.globalKeyVals)),o.inputKeyVals.map(i).forEach((function(e,t){return e.forEach(r(l[t],a.inputKeyVals[t],o.inputKeyVals[t]))})),o.outputKeyVals.map(i).forEach((function(e,t){return e.forEach(r(f[t],a.outputKeyVals[t],o.outputKeyVals[t]))}))};for(h.s();!(u=h.n()).done;)A()}catch(e){h.e(e)}finally{h.f()}return cse.psbtFromKeyVals(s,{globalMapKeyVals:a.globalKeyVals,inputKeyVals:a.inputKeyVals,outputKeyVals:a.outputKeyVals})}}));FW(lse),lse.combine;var fse=RW((function(e,t){function r(e,t){var r=e[t];if(void 0===r)throw new Error("No input #".concat(t));return r}function n(e,t,r,n){throw new Error("Data for ".concat(e," key ").concat(t," is incorrect: Expected ").concat(r," and got ").concat(JSON.stringify(n)))}function i(e){return function(t,r){for(var i=function(){var i=o[a],s=t[i],u=ose[e+"s"][i]||{},c=u.canAdd,l=u.canAddToArray,f=u.check,h=u.expected;if(f)if(!!l){if(!Array.isArray(s)||r[i]&&!Array.isArray(r[i]))throw new Error("Key type ".concat(i," must be an array"));s.every(f)||n(e,i,h,s);var A=r[i]||[],d=new Set;if(!s.every((function(e){return l(A,e,d)})))throw new Error("Can not add duplicate data to array");r[i]=A.concat(s)}else{if(f(s)||n(e,i,h,s),!c(r,s))throw new Error("Can not add duplicate data to ".concat(e));r[i]=s}},a=0,o=Object.keys(t);a<o.length;a++)i()}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkForInput=r,t.checkForOutput=function(e,t){var r=e[t];if(void 0===r)throw new Error("No output #".concat(t));return r},t.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((function(t){return t.key.equals(e.key)})).length)throw new Error("Duplicate Key: ".concat(e.key.toString("hex")))},t.getEnumLength=function(e){var t=0;return Object.keys(e).forEach((function(e){Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){var r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){var n=!!t.redeemScript,i=!!t.witnessScript,a=!n||!!t.finalScriptSig,o=!i||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=a&&o&&s}if(!1===r)throw new Error("Input #".concat(e," has too much or too little data to clean"))},t.updateGlobal=i("global"),t.updateInput=i("input"),t.updateOutput=i("output"),t.addInputAttributes=function(e,n){var i=r(e,e.length-1);t.updateInput(n,i)},t.addOutputAttributes=function(e,n){var i=r(e,e.length-1);t.updateOutput(n,i)},t.defaultVersionSetter=function(e,t){if(!QJ(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!QJ(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}}));FW(fse),fse.checkForInput,fse.checkForOutput,fse.checkHasKey,fse.getEnumLength,fse.inputCheckUncleanFinalized,fse.updateGlobal,fse.updateInput,fse.updateOutput,fse.addInputAttributes,fse.addOutputAttributes,fse.defaultVersionSetter,fse.defaultLocktimeSetter;var hse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=function(){function e(t){s(this,e),this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}return c(e,[{key:"toBase64",value:function(){return this.toBuffer().toString("base64")}},{key:"toHex",value:function(){return this.toBuffer().toString("hex")}},{key:"toBuffer",value:function(){return cse.psbtToBuffer(this)}},{key:"updateGlobal",value:function(e){return fse.updateGlobal(e,this.globalMap),this}},{key:"updateInput",value:function(e,t){var r=fse.checkForInput(this.inputs,e);return fse.updateInput(t,r),this}},{key:"updateOutput",value:function(e,t){var r=fse.checkForOutput(this.outputs,e);return fse.updateOutput(t,r),this}},{key:"addUnknownKeyValToGlobal",value:function(e){return fse.checkHasKey(e,this.globalMap.unknownKeyVals,fse.getEnumLength(Voe.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}},{key:"addUnknownKeyValToInput",value:function(e,t){var r=fse.checkForInput(this.inputs,e);return fse.checkHasKey(t,r.unknownKeyVals,fse.getEnumLength(Voe.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}},{key:"addUnknownKeyValToOutput",value:function(e,t){var r=fse.checkForOutput(this.outputs,e);return fse.checkHasKey(t,r.unknownKeyVals,fse.getEnumLength(Voe.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}},{key:"addInput",value:function(e){var t=this;this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});var r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach((function(e){return t.addUnknownKeyValToInput(n,e)})),fse.addInputAttributes(this.inputs,e),this}},{key:"addOutput",value:function(e){var t=this;this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});var r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach((function(e){return t.addUnknownKeyValToInput(n,e)})),fse.addOutputAttributes(this.outputs,e),this}},{key:"clearFinalizedInput",value:function(e){var t=fse.checkForInput(this.inputs,e);fse.inputCheckUncleanFinalized(e,t);for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(i)||delete t[i]}return this}},{key:"combine",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=lse.combine([this].concat(t));return Object.assign(this,n),this}},{key:"getTransaction",value:function(){return this.globalMap.unsignedTx.toBuffer()}}],[{key:"fromBase64",value:function(e,t){var r=aJ.from(e,"base64");return this.fromBuffer(r,t)}},{key:"fromHex",value:function(e,t){var r=aJ.from(e,"hex");return this.fromBuffer(r,t)}},{key:"fromBuffer",value:function(e,t){var r=cse.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}}]),e}()}));FW(hse),hse.Psbt;var Ase=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={network:Yae.bitcoin,maximumFeeRate:5e3},n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hse.Psbt(new a);s(this,e),this.data=n,this.opts=Object.assign({},r,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);var i=function(e,t,r,n){return Object.defineProperty(e,t,{enumerable:r,writable:n})};i(this,"__CACHE",!1,!0),i(this,"opts",!1,!0)}return c(e,[{key:"inputCount",get:function(){return this.data.inputs.length}},{key:"version",get:function(){return this.__CACHE.__TX.version},set:function(e){this.setVersion(e)}},{key:"locktime",get:function(){return this.__CACHE.__TX.locktime},set:function(e){this.setLocktime(e)}},{key:"txInputs",get:function(){return this.__CACHE.__TX.ins.map((function(e){return{hash:Qoe.cloneBuffer(e.hash),index:e.index,sequence:e.sequence}}))}},{key:"txOutputs",get:function(){var e=this;return this.__CACHE.__TX.outs.map((function(t){var r;try{r=Noe.fromOutputScript(t.script,e.opts.network)}catch(t){}return{script:Qoe.cloneBuffer(t.script),value:t.value,address:r}}))}},{key:"combine",value:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.data).combine.apply(e,S(r.map((function(e){return e.data})))),this}},{key:"clone",value:function(){var t=e.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}},{key:"setMaximumFeeRate",value:function(e){m(e),this.opts.maximumFeeRate=e}},{key:"setVersion",value:function(e){m(e),b(this.data.inputs,"setVersion");var t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}},{key:"setLocktime",value:function(e){m(e),b(this.data.inputs,"setLocktime");var t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}},{key:"setInputSequence",value:function(e,t){m(t),b(this.data.inputs,"setInputSequence");var r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}},{key:"addInputs",value:function(e){var t=this;return e.forEach((function(e){return t.addInput(e)})),this}},{key:"addInput",value:function(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");b(this.data.inputs,"addInput"),e.witnessScript&&H(e.witnessScript);var t=this.__CACHE;this.data.addInput(e),k(t,t.__TX.ins[t.__TX.ins.length-1]);var r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&U(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}},{key:"addOutputs",value:function(e){var t=this;return e.forEach((function(e){return t.addOutput(e)})),this}},{key:"addOutput",value:function(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");b(this.data.inputs,"addOutput");var t=e,r=t.address;if("string"==typeof r){var n=this.opts.network,i=Noe.toOutputScript(r,n);e=Object.assign(e,{script:i})}var a=this.__CACHE;return this.data.addOutput(e),a.__FEE=void 0,a.__FEE_RATE=void 0,a.__EXTRACTED_TX=void 0,this}},{key:"extractTransaction",value:function(e){if(!this.data.inputs.every(l))throw new Error("Not finalized");var t=this.__CACHE;if(e||function(e,t,r){var n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),a=n*i;if(n>=r.maximumFeeRate)throw new Error("Warning: You are paying around ".concat((a/1e8).toFixed(8)," in fees, which is ").concat(n," satoshi per byte for a transaction with a VSize of ").concat(i," bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction."))}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;var r=t.__TX.clone();return F(this.data.inputs,r,t,!0),r}},{key:"getFeeRate",value:function(){return I("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}},{key:"getFee",value:function(){return I("__FEE","fee",this.data.inputs,this.__CACHE)}},{key:"finalizeAllInputs",value:function(){var e=this;return fse.checkForInput(this.data.inputs,0),z(this.data.inputs.length).forEach((function(t){return e.finalizeInput(t)})),this}},{key:"finalizeInput",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P,r=fse.checkForInput(this.data.inputs,e),n=function(e,t,r){var n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){var a=R(r,t,e),o=n.ins[e].index;i.script=a.outs[o].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||p(i.script))&&(i.isSegwit=!0),i}(e,r,this.__CACHE),i=n.script,a=n.isP2SH,o=n.isP2WSH,s=n.isSegwit;if(!i)throw new Error("No script found for input #".concat(e));w(r);var u=t(e,r,i,s,a,o),c=u.finalScriptSig,l=u.finalScriptWitness;if(c&&this.data.updateInput(e,{finalScriptSig:c}),l&&this.data.updateInput(e,{finalScriptWitness:l}),!c&&!l)throw new Error("Unknown error finalizing input #".concat(e));return this.data.clearFinalizedInput(e),this}},{key:"getInputType",value:function(e){var t=fse.checkForInput(this.data.inputs,e),r=Q(D(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;var t=foe.decompile(e);if(!t)return;var r,n=t[t.length-1];if(!QJ(n)||j(n)||(r=n,foe.isCanonicalScriptSignature(r)))return;return foe.decompile(n)?n:void 0}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;var t=M(e),r=t[t.length-1];if(j(r))return;return foe.decompile(r)?r:void 0}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+V(r.meaningfulScript)}},{key:"inputHasPubkey",value:function(e,t){return function(e,t,r,n){return K(e,Q(D(r,t,n),r,"input",t.redeemScript,t.witnessScript).meaningfulScript)}(t,fse.checkForInput(this.data.inputs,e),e,this.__CACHE)}},{key:"inputHasHDKey",value:function(e,t){var r=fse.checkForInput(this.data.inputs,e),n=y(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}},{key:"outputHasPubkey",value:function(e,t){return function(e,t,r,n){return K(e,Q(n.__TX.outs[r].script,r,"output",t.redeemScript,t.witnessScript).meaningfulScript)}(t,fse.checkForOutput(this.data.outputs,e),e,this.__CACHE)}},{key:"outputHasHDKey",value:function(e,t){var r=fse.checkForOutput(this.data.outputs,e),n=y(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}},{key:"validateSignaturesOfAllInputs",value:function(){var e=this;return fse.checkForInput(this.data.inputs,0),z(this.data.inputs.length).map((function(t){return e.validateSignaturesOfInput(t)})).reduce((function(e,t){return!0===t&&e}),!0)}},{key:"validateSignaturesOfInput",value:function(e,t){var r=this.data.inputs[e],n=(r||{}).partialSig;if(!r||!n||n.length<1)throw new Error("No signatures to validate");var i=t?n.filter((function(e){return e.pubkey.equals(t)})):n;if(i.length<1)throw new Error("No signatures for this pubkey");var a,o,s,u,c=[],l=L(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=foe.signature.decode(f.signature),A=s!==h.hashType?O(e,Object.assign({},r,{sighashType:h.hashType}),this.__CACHE,!0):{hash:a,script:o},d=A.hash,p=A.script;s=h.hashType,a=d,o=p,x(f.pubkey,p,"verify");var v=Uoe.fromPublicKey(f.pubkey);c.push(v.verify(d,h.signature))}}catch(e){l.e(e)}finally{l.f()}return c.every((function(e){return!0===e}))}},{key:"signAllInputsHD",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[Hoe.Transaction.SIGHASH_ALL];if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");var r,n=[],i=L(z(this.data.inputs.length));try{for(i.s();!(r=i.n()).done;){var a=r.value;try{this.signInputHD(a,e,t),n.push(!0)}catch(e){n.push(!1)}}}catch(e){i.e(e)}finally{i.f()}if(n.every((function(e){return!1===e})))throw new Error("No inputs were signed");return this}},{key:"signAllInputsHDAsync",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[Hoe.Transaction.SIGHASH_ALL];return new Promise((function(n,i){if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));var a,o=[],s=[],u=L(z(t.data.inputs.length));try{for(u.s();!(a=u.n()).done;){var c=a.value;s.push(t.signInputHDAsync(c,e,r).then((function(){o.push(!0)}),(function(){o.push(!1)})))}}catch(e){u.e(e)}finally{u.f()}return Promise.all(s).then((function(){if(o.every((function(e){return!1===e})))return i(new Error("No inputs were signed"));n()}))}))}},{key:"signInputHD",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Hoe.Transaction.SIGHASH_ALL];if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return N(e,this.data.inputs,t).forEach((function(t){return r.signInput(e,t,n)})),this}},{key:"signInputHDAsync",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Hoe.Transaction.SIGHASH_ALL];return new Promise((function(i,a){if(!t||!t.publicKey||!t.fingerprint)return a(new Error("Need HDSigner to sign input"));var o=N(e,r.data.inputs,t).map((function(t){return r.signInputAsync(e,t,n)}));return Promise.all(o).then((function(){i()})).catch(a)}))}},{key:"signAllInputs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[Hoe.Transaction.SIGHASH_ALL];if(!e||!e.publicKey)throw new Error("Need Signer to sign input");var r,n=[],i=L(z(this.data.inputs.length));try{for(i.s();!(r=i.n()).done;){var a=r.value;try{this.signInput(a,e,t),n.push(!0)}catch(e){n.push(!1)}}}catch(e){i.e(e)}finally{i.f()}if(n.every((function(e){return!1===e})))throw new Error("No inputs were signed");return this}},{key:"signAllInputsAsync",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[Hoe.Transaction.SIGHASH_ALL];return new Promise((function(n,i){if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));var a,o=[],s=[],u=L(t.data.inputs.entries());try{for(u.s();!(a=u.n()).done;){var c=B(a.value,1)[0];s.push(t.signInputAsync(c,e,r).then((function(){o.push(!0)}),(function(){o.push(!1)})))}}catch(e){u.e(e)}finally{u.f()}return Promise.all(s).then((function(){if(o.every((function(e){return!1===e})))return i(new Error("No inputs were signed"));n()}))}))}},{key:"signInput",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Hoe.Transaction.SIGHASH_ALL];if(!t||!t.publicKey)throw new Error("Need Signer to sign input");var n=T(this.data.inputs,e,t.publicKey,this.__CACHE,r),i=n.hash,a=n.sighashType,o=[{pubkey:t.publicKey,signature:foe.signature.encode(t.sign(i),a)}];return this.data.updateInput(e,{partialSig:o}),this}},{key:"signInputAsync",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Hoe.Transaction.SIGHASH_ALL];return Promise.resolve().then((function(){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");var i=T(r.data.inputs,e,t.publicKey,r.__CACHE,n),a=i.hash,o=i.sighashType;return Promise.resolve(t.sign(a)).then((function(n){var i=[{pubkey:t.publicKey,signature:foe.signature.encode(n,o)}];r.data.updateInput(e,{partialSig:i})}))}))}},{key:"toBuffer",value:function(){return o(this.__CACHE),this.data.toBuffer()}},{key:"toHex",value:function(){return o(this.__CACHE),this.data.toHex()}},{key:"toBase64",value:function(){return o(this.__CACHE),this.data.toBase64()}},{key:"updateGlobal",value:function(e){return this.data.updateGlobal(e),this}},{key:"updateInput",value:function(e,t){return t.witnessScript&&H(t.witnessScript),this.data.updateInput(e,t),t.nonWitnessUtxo&&U(this.__CACHE,this.data.inputs[e],e),this}},{key:"updateOutput",value:function(e,t){return this.data.updateOutput(e,t),this}},{key:"addUnknownKeyValToGlobal",value:function(e){return this.data.addUnknownKeyValToGlobal(e),this}},{key:"addUnknownKeyValToInput",value:function(e,t){return this.data.addUnknownKeyValToInput(e,t),this}},{key:"addUnknownKeyValToOutput",value:function(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}},{key:"clearFinalizedInput",value:function(e){return this.data.clearFinalizedInput(e),this}}],[{key:"fromBase64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=aJ.from(e,"base64");return this.fromBuffer(r,t)}},{key:"fromHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=aJ.from(e,"hex");return this.fromBuffer(r,t)}},{key:"fromBuffer",value:function(t){var r,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=hse.Psbt.fromBuffer(t,i),s=new e(a,o);return r=s.__CACHE.__TX,n=s.__CACHE,r.ins.forEach((function(e){k(n,e)})),s}}]),e}();t.Psbt=n;var i=function(e){return new a(e)},a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aJ.from([2,0,0,0,0,0,0,0,0,0]);s(this,e),this.tx=Hoe.Transaction.fromBuffer(t),function(e){if(!e.ins.every((function(e){return e.script&&0===e.script.length&&e.witness&&0===e.witness.length})))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}return c(e,[{key:"getInputOutputCounts",value:function(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}},{key:"addInput",value:function(e){if(void 0===e.hash||void 0===e.index||!QJ(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");var t="string"==typeof e.hash?Qoe.reverseBuffer(aJ.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}},{key:"addOutput",value:function(e){if(void 0===e.script||void 0===e.value||!QJ(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}},{key:"toBuffer",value:function(){return this.tx.toBuffer()}}]),e}();function o(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function u(e,t,r){if(!t)return!1;var n;if(n=r?r.map((function(e){var r=Uoe.fromPublicKey(e,{compressed:!0}).publicKey;return t.find((function(e){return e.pubkey.equals(r)}))})).filter((function(e){return!!e})):t,n.length>e)throw new Error("Too many signatures");return n.length===e}function l(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function f(e){return function(t){try{return e({output:t}),!0}catch(e){return!1}}}var h=f(Loe.p2ms),A=f(Loe.p2pk),d=f(Loe.p2pkh),p=f(Loe.p2wpkh),v=f(Loe.p2wsh),g=f(Loe.p2sh);function y(e){return function(t){return!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}}function m(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function b(e,t){e.forEach((function(e){var r=!1,n=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;n=function(e){var t=e.finalScriptSig&&foe.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&foe.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((function(e){return QJ(e)&&foe.isCanonicalScriptSignature(e)})).map((function(e){return{signature:e}}))}(e)}else n=e.partialSig;if(n.forEach((function(e){var n=foe.signature.decode(e.signature).hashType,i=[];switch(n&Hoe.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&n){case Hoe.Transaction.SIGHASH_ALL:break;case Hoe.Transaction.SIGHASH_SINGLE:case Hoe.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}-1===i.indexOf(t)&&(r=!0)})),r)throw new Error("Can not modify transaction, signatures exist.")}))}function w(e){if(e.sighashType&&e.partialSig){var t=e.partialSig,r=e.sighashType;t.forEach((function(e){var t=foe.signature.decode(e.signature).hashType;if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}}function x(e,t,r){if(!K(e,t))throw new Error("Can not ".concat(r," for this input with the key ").concat(e.toString("hex")))}function k(e,t){var r=Qoe.reverseBuffer(aJ.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function _(e,t){return function(r,n,i,a){var o=e({redeem:{output:i}}).output;if(!n.equals(o))throw new Error("".concat(t," for ").concat(a," #").concat(r," doesn't match the scriptPubKey in the prevout"))}}var E=_(Loe.p2sh,"Redeem script"),C=_(Loe.p2wsh,"Witness script");function I(e,t,r,n){if(!r.every(l))throw new Error("PSBT must be finalized to calculate ".concat(t));if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;var i,a=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,a=!1):i=n.__TX.clone(),F(r,i,n,a),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function P(e,t,r,n,i,a){var o=V(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return u(1,e.partialSig);case"multisig":var n=Loe.p2ms({output:t});return u(n.m,e.partialSig,n.pubkeys);default:return!1}}(t,r,o))throw new Error("Can not finalize input #".concat(e));return function(e,t,r,n,i,a){var o,s,u=function(e,t,r){var n;switch(t){case"multisig":var i=function(e,t){return Loe.p2ms({output:e}).pubkeys.map((function(e){return(t.filter((function(t){return t.pubkey.equals(e)}))[0]||{}).signature})).filter((function(e){return!!e}))}(e,r);n=Loe.p2ms({output:e,signatures:i});break;case"pubkey":n=Loe.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=Loe.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Loe.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r),c=a?Loe.p2wsh({redeem:u}):null,l=i?Loe.p2sh({redeem:c||u}):null;return n?(s=function(e){var t,r=aJ.allocUnsafe(0);function n(e){var t=r.length,n=Zoe.encodingLength(e);r=aJ.concat([r,aJ.allocUnsafe(n)]),Zoe.encode(e,r,t)}function i(e){n(e.length),function(e){r=aJ.concat([r,aJ.from(e)])}(e)}return n((t=e).length),t.forEach(i),r}(c?c.witness:u.witness),l&&(o=l.input)):o=l?l.input:u.input,{finalScriptSig:o,finalScriptWitness:s}}(r,o,t.partialSig,n,i,a)}function T(e,t,r,n,i){var a=O(t,fse.checkForInput(e,t),n,!1,i),o=a.hash,s=a.sighashType;return x(r,a.script,"sign"),{hash:o,sighashType:s}}function O(e,t,r,n,i){var a,o,s=r.__TX,u=t.sighashType||Hoe.Transaction.SIGHASH_ALL;if(i&&i.indexOf(u)<0){var c=function(e){var t=e&Hoe.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case Hoe.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case Hoe.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case Hoe.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(u);throw new Error("Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ".concat(c))}if(t.nonWitnessUtxo){var l=R(r,t,e),f=s.ins[e].hash,h=l.getHash();if(!f.equals(h))throw new Error("Non-witness UTXO hash for input #".concat(e," doesn't match the hash specified in the prevout"));var A=s.ins[e].index;o=l.outs[A]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");o=t.witnessUtxo}var d=Q(o.script,e,"input",t.redeemScript,t.witnessScript),v=d.meaningfulScript,g=d.type;if(["p2sh-p2wsh","p2wsh"].indexOf(g)>=0)a=s.hashForWitnessV0(e,v,o.value,u);else if(p(v)){var y=Loe.p2pkh({hash:v.slice(2)}).output;a=s.hashForWitnessV0(e,y,o.value,u)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Input #".concat(e," has witnessUtxo but non-segwit script: ").concat(v.toString("hex")));n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as the old TransactionBuilder class when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=s.hashForSignature(e,v,u)}return{script:v,sighashType:u,hash:a}}function N(e,t,r){var n=fse.checkForInput(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");var i=n.bip32Derivation.map((function(e){return e.masterFingerprint.equals(r.fingerprint)?e:void 0})).filter((function(e){return!!e}));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((function(e){var t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function M(e){var t=0;function r(){var r=Zoe.decode(e,t);return t+=Zoe.decode.bytes,r}function n(){return function(r){return t+=r,e.slice(t-r,t)}(r())}return function(){for(var e=r(),t=[],i=0;i<e;i++)t.push(n());return t}()}function U(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;var n=Hoe.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;var i=e,a=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get:function(){var e=i.__NON_WITNESS_UTXO_BUF_CACHE[a],t=i.__NON_WITNESS_UTXO_TX_CACHE[a];if(void 0!==e)return e;var r=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[a]=r,r},set:function(e){i.__NON_WITNESS_UTXO_BUF_CACHE[a]=e}})}function F(e,t,r,n){var i=0;e.forEach((function(e,a){if(n&&e.finalScriptSig&&(t.ins[a].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[a].witness=M(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){var o=R(r,e,a),s=t.ins[a].index,u=o.outs[s];i+=u.value}}));var a=t.outs.reduce((function(e,t){return e+t.value}),0),o=i-a;if(o<0)throw new Error("Outputs are spending more than Inputs");var s=t.virtualSize();r.__FEE=o,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(o/s)}function R(e,t,r){var n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||U(e,t,r),n[r]}function D(e,t,r){if(void 0!==t.witnessUtxo)return t.witnessUtxo.script;if(void 0!==t.nonWitnessUtxo)return R(r,t,e).outs[r.__TX.ins[e].index].script;throw new Error("Can't find pubkey in input without Utxo data")}function j(e){return 33===e.length&&foe.isCanonicalPubKey(e)}function Q(e,t,r,n,i){var a,o=g(e),s=o&&n&&v(n),u=v(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((u||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");return s?(a=i,E(t,e,n,r),C(t,n,i,r),H(a)):u?(a=i,C(t,e,i,r),H(a)):o?(a=n,E(t,e,n,r)):a=e,{meaningfulScript:a,type:s?"p2sh-p2wsh":o?"p2sh":u?"p2wsh":"raw"}}function H(e){if(p(e)||g(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function K(e,t){var r=voe.hash160(e),n=foe.decompile(t);if(null===n)throw new Error("Unknown script error");return n.some((function(t){return"number"!=typeof t&&(t.equals(e)||t.equals(r))}))}function V(e){return p(e)?"witnesspubkeyhash":d(e)?"pubkeyhash":h(e)?"multisig":A(e)?"pubkey":"nonstandard"}function z(e){return S(Array(e).keys())}}));FW(Ase),Ase.Psbt;var dse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe;function n(e){return e===r.OPS.OP_0||foe.isCanonicalScriptSignature(e)}function i(e,t){var i=foe.decompile(e);return!(i.length<2)&&i[0]===r.OPS.OP_0&&(t?i.slice(1).every(n):i.slice(1).every(foe.isCanonicalScriptSignature))}t.check=i,i.toJSON=function(){return"multisig input"}}));FW(dse),dse.check;var pse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe,n=r.OPS.OP_RESERVED;function i(e,t){var i=foe.decompile(e);if(i.length<4)return!1;if(i[i.length-1]!==r.OPS.OP_CHECKMULTISIG)return!1;if(!Zae.Number(i[0]))return!1;if(!Zae.Number(i[i.length-2]))return!1;var a=i[0]-n,o=i[i.length-2]-n;return!(a<=0)&&(!(o>16)&&(!(a>o)&&(o===i.length-3&&(!!t||i.slice(1,-2).every(foe.isCanonicalPubKey)))))}t.check=i,i.toJSON=function(){return"multi-sig output"}}));FW(pse),pse.check;var vse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=dse,t.output=pse}));FW(vse),vse.input,vse.output;var gse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe.OPS;function n(e){var t=foe.compile(e);return t.length>1&&t[0]===r.OP_RETURN}t.check=n,n.toJSON=function(){return"null data output"};var i={check:n};t.output=i}));FW(gse),gse.check,gse.output;var yse=RW((function(e,t){function r(e){var t=foe.decompile(e);return 1===t.length&&foe.isCanonicalScriptSignature(t[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=function(){return"pubKey input"}}));FW(yse),yse.check;var mse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe;function n(e){var t=foe.decompile(e);return 2===t.length&&foe.isCanonicalPubKey(t[0])&&t[1]===r.OPS.OP_CHECKSIG}t.check=n,n.toJSON=function(){return"pubKey output"}}));FW(mse),mse.check;var bse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=yse,t.output=mse}));FW(bse),bse.input,bse.output;var wse=RW((function(e,t){function r(e){var t=foe.decompile(e);return 2===t.length&&foe.isCanonicalScriptSignature(t[0])&&foe.isCanonicalPubKey(t[1])}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=function(){return"pubKeyHash input"}}));FW(wse),wse.check;var xse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe;function n(e){var t=foe.compile(e);return 25===t.length&&t[0]===r.OPS.OP_DUP&&t[1]===r.OPS.OP_HASH160&&20===t[2]&&t[23]===r.OPS.OP_EQUALVERIFY&&t[24]===r.OPS.OP_CHECKSIG}t.check=n,n.toJSON=function(){return"pubKeyHash output"}}));FW(xse),xse.check;var kse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=wse,t.output=xse}));FW(kse),kse.input,kse.output;var _se=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe;function n(e){var t=foe.compile(e);return 22===t.length&&t[0]===r.OPS.OP_0&&20===t[1]}t.check=n,n.toJSON=function(){return"Witness pubKeyHash output"}}));FW(_se),_se.check;var Bse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe;function n(e){var t=foe.compile(e);return 34===t.length&&t[0]===r.OPS.OP_0&&32===t[1]}t.check=n,n.toJSON=function(){return"Witness scriptHash output"}}));FW(Bse),Bse.check;var Ese=RW((function(e,t){function r(e,t){var r=foe.decompile(e);if(r.length<1)return!1;var n=r[r.length-1];if(!QJ(n))return!1;var i=foe.decompile(foe.compile(r.slice(0,-1))),a=foe.decompile(n);return!!a&&!!foe.isPushOnly(i)&&(1===r.length?Bse.check(a)||_se.check(a):!(!kse.input.check(i)||!kse.output.check(a))||!(!vse.input.check(i,t)||!vse.output.check(a))||!(!bse.input.check(i)||!bse.output.check(a)))}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=function(){return"scriptHash input"}}));FW(Ese),Ese.check;var Sse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe;function n(e){var t=foe.compile(e);return 23===t.length&&t[0]===r.OPS.OP_HASH160&&20===t[1]&&t[22]===r.OPS.OP_EQUAL}t.check=n,n.toJSON=function(){return"scriptHash output"}}));FW(Sse),Sse.check;var Cse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=Ese,t.output=Sse}));FW(Cse),Cse.input,Cse.output;var Ise=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe,n=aJ.from("aa21a9ed","hex");function i(e){var t=foe.compile(e);return t.length>37&&t[0]===r.OPS.OP_RETURN&&36===t[1]&&t.slice(2,6).equals(n)}t.check=i,i.toJSON=function(){return"Witness commitment output"},t.encode=function(e){Vae(Zae.Hash256bit,e);var t=aJ.allocUnsafe(36);return n.copy(t,0),e.copy(t,4),foe.compile([r.OPS.OP_RETURN,t])},t.decode=function(e){return Vae(i,e),foe.decompile(e)[1].slice(4,36)}}));FW(Ise),Ise.check,Ise.encode,Ise.decode;var Pse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.output=Ise}));FW(Pse),Pse.output;var Tse=RW((function(e,t){function r(e){var t,r=foe.decompile(e);return 2===r.length&&foe.isCanonicalScriptSignature(r[0])&&(t=r[1],foe.isCanonicalPubKey(t)&&33===t.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=function(){return"witnessPubKeyHash input"}}));FW(Tse),Tse.check;var Ose=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=Tse,t.output=_se}));FW(Ose),Ose.input,Ose.output;var Lse=RW((function(e,t){function r(e,t){if(Vae(Vae.Array,e),e.length<1)return!1;var r=e[e.length-1];if(!QJ(r))return!1;var n=foe.decompile(r);if(!n||0===n.length)return!1;var i=foe.compile(e.slice(0,-1));return!(!kse.input.check(i)||!kse.output.check(n))||!(!vse.input.check(i,t)||!vse.output.check(n))||!(!bse.input.check(i)||!bse.output.check(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=function(){return"witnessScriptHash input"}}));FW(Lse),Lse.check;var Nse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=Lse,t.output=Bse}));FW(Nse),Nse.input,Nse.output;var Mse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={P2MS:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};t.types=r,t.output=function(e){if(Ose.output.check(e))return r.P2WPKH;if(Nse.output.check(e))return r.P2WSH;if(kse.output.check(e))return r.P2PKH;if(Cse.output.check(e))return r.P2SH;var t=foe.decompile(e);if(!t)throw new TypeError("Invalid script");return vse.output.check(t)?r.P2MS:bse.output.check(t)?r.P2PK:Pse.output.check(t)?r.WITNESS_COMMITMENT:gse.output.check(t)?r.NULLDATA:r.NONSTANDARD},t.input=function(e,t){var n=foe.decompile(e);if(!n)throw new TypeError("Invalid script");return kse.input.check(n)?r.P2PKH:Cse.input.check(n,t)?r.P2SH:vse.input.check(n,t)?r.P2MS:bse.input.check(n)?r.P2PK:r.NONSTANDARD},t.witness=function(e,t){var n=foe.decompile(e);if(!n)throw new TypeError("Invalid script");return Ose.input.check(n)?r.P2WPKH:Nse.input.check(n,t)?r.P2WSH:r.NONSTANDARD}}));FW(Mse),Mse.types,Mse.output,Mse.input,Mse.witness;var Use=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=foe,n=Mse.types,a=new Set(["p2pkh","p2pk","p2wpkh","p2ms","p2sh-p2pkh","p2sh-p2pk","p2sh-p2wpkh","p2sh-p2ms","p2wsh-p2pkh","p2wsh-p2pk","p2wsh-p2ms","p2sh-p2wsh-p2pkh","p2sh-p2wsh-p2pk","p2sh-p2wsh-p2ms"]);function o(e,t,r){try{Vae(e,t)}catch(e){throw new Error(r)}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yae.bitcoin,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2500;s(this,e),this.network=t,this.maximumFeeRate=r,this.__PREV_TX_SET={},this.__INPUTS=[],this.__TX=new Hoe.Transaction,this.__TX.version=2,this.__USE_LOW_R=!1,console.warn("Deprecation Warning: TransactionBuilder will be removed in the future. (v6.x.x or later) Please use the Psbt class instead. Examples of usage are available in the transactions-psbt.js integration test file on our Github. A high level explanation is available in the psbt.ts and psbt.js files as well.")}return c(e,[{key:"setLowR",value:function(e){return Vae(Vae.maybe(Vae.Boolean),e),void 0===e&&(e=!0),this.__USE_LOW_R=e,e}},{key:"setLockTime",value:function(e){if(Vae(Zae.UInt32,e),this.__INPUTS.some((function(e){return!!e.signatures&&e.signatures.some((function(e){return void 0!==e}))})))throw new Error("No, this would invalidate signatures");this.__TX.locktime=e}},{key:"setVersion",value:function(e){Vae(Zae.UInt32,e),this.__TX.version=e}},{key:"addInput",value:function(e,t,r,n){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");var i,a;if("string"==typeof(a=e)||a instanceof String)e=Qoe.reverseBuffer(aJ.from(e,"hex"));else if(function(e){return e instanceof Hoe.Transaction}(e)){var o=e.outs[t];n=o.script,i=o.value,e=e.getHash(!1)}return this.__addInputUnsafe(e,t,{sequence:r,prevOutScript:n,value:i})}},{key:"addOutput",value:function(e,t){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return"string"==typeof e&&(e=Noe.toOutputScript(e,this.network)),this.__TX.addOutput(e,t)}},{key:"build",value:function(){return this.__build(!1)}},{key:"buildIncomplete",value:function(){return this.__build(!0)}},{key:"sign",value:function(e,t,r,s,u,c){!function(e){var t,r=e.input,n=e.ourPubKey,i=e.keyPair,a=e.signatureHash,o=e.hashType,s=e.useLowR,u=!1,c=L(r.pubkeys.entries());try{for(c.s();!(t=c.n()).done;){var l=B(t.value,2),f=l[0],h=l[1];if(n.equals(h)){if(r.signatures[f])throw new Error("Signature already exists");if(33!==n.length&&r.hasWitness)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");var A=i.sign(a,s);r.signatures[f]=foe.signature.encode(A,o),u=!0}}}catch(e){c.e(e)}finally{c.f()}if(!u)throw new Error("Key pair cannot sign for this input")}(function(e,t,r,s,u,c,l,h,d,p,v){var g;if("number"==typeof u)console.warn("DEPRECATED: TransactionBuilder sign method arguments will change in v6, please use the TxbSignArg interface"),g=u;else{if("object"!=i(u))throw new TypeError("TransactionBuilder sign first arg must be TxbSignArg or number");!function(e,t){if(!a.has(t.prevOutScriptType))throw new TypeError('Unknown prevOutScriptType "'.concat(t.prevOutScriptType,'"'));o(Vae.Number,t.vin,"sign must include vin parameter as Number (input index)"),o(Zae.Signer,t.keyPair,"sign must include keyPair parameter as Signer interface"),o(Vae.maybe(Vae.Number),t.hashType,"sign hashType parameter must be a number");var r=(e[t.vin]||[]).prevOutType,n=t.prevOutScriptType;switch(n){case"p2pkh":if(r&&"pubkeyhash"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2pkh: ").concat(r));o(Vae.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),o(Vae.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),o(Vae.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2pk":if(r&&"pubkey"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2pk: ").concat(r));o(Vae.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),o(Vae.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),o(Vae.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2wpkh":if(r&&"witnesspubkeyhash"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2wpkh: ").concat(r));o(Vae.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),o(Vae.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),o(Zae.Satoshi,t.witnessValue,"".concat(n," requires witnessValue"));break;case"p2ms":if(r&&"multisig"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2ms: ").concat(r));o(Vae.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),o(Vae.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),o(Vae.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2sh-p2wpkh":if(r&&"scripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type p2sh-p2wpkh: ").concat(r));o(Vae.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),o(Vae.Buffer,t.redeemScript,"".concat(n," requires redeemScript")),o(Zae.Satoshi,t.witnessValue,"".concat(n," requires witnessValue"));break;case"p2sh-p2ms":case"p2sh-p2pk":case"p2sh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type ").concat(n,": ").concat(r));o(Vae.value(void 0),t.witnessScript,"".concat(n," requires NO witnessScript")),o(Vae.Buffer,t.redeemScript,"".concat(n," requires redeemScript")),o(Vae.value(void 0),t.witnessValue,"".concat(n," requires NO witnessValue"));break;case"p2wsh-p2ms":case"p2wsh-p2pk":case"p2wsh-p2pkh":if(r&&"witnessscripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type ").concat(n,": ").concat(r));o(Vae.Buffer,t.witnessScript,"".concat(n," requires witnessScript")),o(Vae.value(void 0),t.redeemScript,"".concat(n," requires NO redeemScript")),o(Zae.Satoshi,t.witnessValue,"".concat(n," requires witnessValue"));break;case"p2sh-p2wsh-p2ms":case"p2sh-p2wsh-p2pk":case"p2sh-p2wsh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError("input #".concat(t.vin," is not of type ").concat(n,": ").concat(r));o(Vae.Buffer,t.witnessScript,"".concat(n," requires witnessScript")),o(Vae.Buffer,t.redeemScript,"".concat(n," requires witnessScript")),o(Zae.Satoshi,t.witnessValue,"".concat(n," requires witnessScript"))}}(t,u),g=u.vin,c=u.keyPair,l=u.redeemScript,h=u.hashType,d=u.witnessValue,p=u.witnessScript}if(void 0===c)throw new Error("sign requires keypair");if(c.network&&c.network!==e)throw new TypeError("Inconsistent network");if(!t[g])throw new Error("No input at index: "+g);if(r(h=h||Hoe.Transaction.SIGHASH_ALL))throw new Error("Transaction needs outputs");var y=t[g];if(void 0!==y.redeemScript&&l&&!y.redeemScript.equals(l))throw new Error("Inconsistent redeemScript");var m=c.publicKey||c.getPublicKey&&c.getPublicKey();if(!A(y)){if(void 0!==d){if(void 0!==y.value&&y.value!==d)throw new Error("Input did not match witnessValue");Vae(Zae.Satoshi,d),y.value=d}if(!A(y)){var b=function(e,t,r,i){if(r&&i){var a=Loe.p2wsh({redeem:{output:i}}),o=Loe.p2wsh({output:r}),s=Loe.p2sh({redeem:{output:r}}),u=Loe.p2sh({redeem:a});if(!a.hash.equals(o.hash))throw new Error("Witness script inconsistent with prevOutScript");if(!s.hash.equals(u.hash))throw new Error("Redeem script inconsistent with prevOutScript");var c=f(a.redeem.output,t);if(!c.pubkeys)throw new Error(c.type+" not supported as witnessScript ("+foe.toASM(i)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(c.signatures=e.signatures);var l=i;if(c.type===n.P2WPKH)throw new Error("P2SH(P2WSH(P2WPKH)) is a consensus failure");return{redeemScript:r,redeemScriptType:n.P2WSH,witnessScript:i,witnessScriptType:c.type,prevOutType:n.P2SH,prevOutScript:s.output,hasWitness:!0,signScript:l,signType:c.type,pubkeys:c.pubkeys,signatures:c.signatures,maxSignatures:c.maxSignatures}}if(r){var h=Loe.p2sh({redeem:{output:r}});if(e.prevOutScript){var A;try{A=Loe.p2sh({output:e.prevOutScript})}catch(e){throw new Error("PrevOutScript must be P2SH")}if(!h.hash.equals(A.hash))throw new Error("Redeem script inconsistent with prevOutScript")}var d=f(h.redeem.output,t);if(!d.pubkeys)throw new Error(d.type+" not supported as redeemScript ("+foe.toASM(r)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(d.signatures=e.signatures);var p=r;return d.type===n.P2WPKH&&(p=Loe.p2pkh({pubkey:d.pubkeys[0]}).output),{redeemScript:r,redeemScriptType:d.type,prevOutType:n.P2SH,prevOutScript:h.output,hasWitness:d.type===n.P2WPKH,signScript:p,signType:d.type,pubkeys:d.pubkeys,signatures:d.signatures,maxSignatures:d.maxSignatures}}if(i){var v=Loe.p2wsh({redeem:{output:i}});if(e.prevOutScript){var g=Loe.p2wsh({output:e.prevOutScript});if(!v.hash.equals(g.hash))throw new Error("Witness script inconsistent with prevOutScript")}var y=f(v.redeem.output,t);if(!y.pubkeys)throw new Error(y.type+" not supported as witnessScript ("+foe.toASM(i)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(y.signatures=e.signatures);var m=i;if(y.type===n.P2WPKH)throw new Error("P2WSH(P2WPKH) is a consensus failure");return{witnessScript:i,witnessScriptType:y.type,prevOutType:n.P2WSH,prevOutScript:v.output,hasWitness:!0,signScript:m,signType:y.type,pubkeys:y.pubkeys,signatures:y.signatures,maxSignatures:y.maxSignatures}}if(e.prevOutType&&e.prevOutScript){if(e.prevOutType===n.P2SH)throw new Error("PrevOutScript is "+e.prevOutType+", requires redeemScript");if(e.prevOutType===n.P2WSH)throw new Error("PrevOutScript is "+e.prevOutType+", requires witnessScript");if(!e.prevOutScript)throw new Error("PrevOutScript is missing");var b=f(e.prevOutScript,t);if(!b.pubkeys)throw new Error(b.type+" not supported ("+foe.toASM(e.prevOutScript)+")");e.signatures&&e.signatures.some((function(e){return void 0!==e}))&&(b.signatures=e.signatures);var w=e.prevOutScript;return b.type===n.P2WPKH&&(w=Loe.p2pkh({pubkey:b.pubkeys[0]}).output),{prevOutType:b.type,prevOutScript:e.prevOutScript,hasWitness:b.type===n.P2WPKH,signScript:w,signType:b.type,pubkeys:b.pubkeys,signatures:b.signatures,maxSignatures:b.maxSignatures}}var x=Loe.p2pkh({pubkey:t}).output;return{prevOutType:n.P2PKH,prevOutScript:x,hasWitness:!1,signScript:x,signType:n.P2PKH,pubkeys:[t],signatures:[void 0]}}(y,m,l,p);Object.assign(y,b)}if(!A(y))throw Error(y.prevOutType+" not supported")}return{input:y,ourPubKey:m,keyPair:c,signatureHash:y.hasWitness?s.hashForWitnessV0(g,y.signScript,y.value,h):s.hashForSignature(g,y.signScript,h),hashType:h,useLowR:!!v}}(this.network,this.__INPUTS,this.__needsOutputs.bind(this),this.__TX,e,t,r,s,u,c,this.__USE_LOW_R))}},{key:"__addInputUnsafe",value:function(e,t,r){if(Hoe.Transaction.isCoinbaseHash(e))throw new Error("coinbase inputs not supported");var n=e.toString("hex")+":"+t;if(void 0!==this.__PREV_TX_SET[n])throw new Error("Duplicate TxOut: "+n);var i={};if(void 0!==r.script&&(i=l(r.script,r.witness||[])),void 0!==r.value&&(i.value=r.value),!i.prevOutScript&&r.prevOutScript){var a;if(!i.pubkeys&&!i.signatures){var o=f(r.prevOutScript);o.pubkeys&&(i.pubkeys=o.pubkeys,i.signatures=o.signatures),a=o.type}i.prevOutScript=r.prevOutScript,i.prevOutType=a||Mse.output(r.prevOutScript)}var s=this.__TX.addInput(e,t,r.sequence,r.scriptSig);return this.__INPUTS[s]=i,this.__PREV_TX_SET[n]=!0,s}},{key:"__build",value:function(e){if(!e){if(!this.__TX.ins.length)throw new Error("Transaction has no inputs");if(!this.__TX.outs.length)throw new Error("Transaction has no outputs")}var t=this.__TX.clone();if(this.__INPUTS.forEach((function(r,i){if(!r.prevOutType&&!e)throw new Error("Transaction is not complete");var a=h(r.prevOutType,r,e);if(a)t.setInputScript(i,a.input),t.setWitness(i,a.witness);else{if(!e&&r.prevOutType===n.NONSTANDARD)throw new Error("Unknown input type");if(!e)throw new Error("Not enough information")}})),!e&&this.__overMaximumFees(t.virtualSize()))throw new Error("Transaction has absurd fees");return t}},{key:"__canModifyInputs",value:function(){return this.__INPUTS.every((function(e){return!e.signatures||e.signatures.every((function(e){return!e||0!=(d(e)&Hoe.Transaction.SIGHASH_ANYONECANPAY)}))}))}},{key:"__needsOutputs",value:function(e){return e===Hoe.Transaction.SIGHASH_ALL?0===this.__TX.outs.length:0===this.__TX.outs.length&&this.__INPUTS.some((function(e){return!!e.signatures&&e.signatures.some((function(e){return!!e&&!(d(e)&Hoe.Transaction.SIGHASH_NONE)}))}))}},{key:"__canModifyOutputs",value:function(){var e=this.__TX.ins.length,t=this.__TX.outs.length;return this.__INPUTS.every((function(r){return void 0===r.signatures||r.signatures.every((function(r){if(!r)return!0;var n=31&d(r);return n===Hoe.Transaction.SIGHASH_NONE||n===Hoe.Transaction.SIGHASH_SINGLE&&e<=t}))}))}},{key:"__overMaximumFees",value:function(e){return(this.__INPUTS.reduce((function(e,t){return e+(t.value>>>0)}),0)-this.__TX.outs.reduce((function(e,t){return e+t.value}),0))/e>this.maximumFeeRate}}],[{key:"fromTransaction",value:function(t,r){var i=new e(r);return i.setVersion(t.version),i.setLockTime(t.locktime),t.outs.forEach((function(e){i.addOutput(e.script,e.value)})),t.ins.forEach((function(e){i.__addInputUnsafe(e.hash,e.index,{sequence:e.sequence,script:e.script,witness:e.witness})})),i.__INPUTS.forEach((function(e,r){!function(e,t,r){if(e.redeemScriptType===n.P2MS&&e.redeemScript&&e.pubkeys.length!==e.signatures.length){var i=e.signatures.concat();e.signatures=e.pubkeys.map((function(n){var a,o=Uoe.fromPublicKey(n);return i.some((function(n,s){if(!n)return!1;var u=foe.signature.decode(n),c=t.hashForSignature(r,e.redeemScript,u.hashType);return!!o.verify(c,u.signature)&&(i[s]=void 0,a=n,!0)})),a}))}}(e,t,r)})),i}}]),e}();function l(e,t,r,i){if(0===e.length&&0===t.length)return{};if(!r){var a=Mse.input(e,!0),o=Mse.witness(t,!0);a===n.NONSTANDARD&&(a=void 0),o===n.NONSTANDARD&&(o=void 0),r=a||o}switch(r){case n.P2WPKH:var s=Loe.p2wpkh({witness:t}),u=s.output,c=s.pubkey,f=s.signature;return{prevOutScript:u,prevOutType:n.P2WPKH,pubkeys:[c],signatures:[f]};case n.P2PKH:var h=Loe.p2pkh({input:e}),A=h.output,d=h.pubkey,p=h.signature;return{prevOutScript:A,prevOutType:n.P2PKH,pubkeys:[d],signatures:[p]};case n.P2PK:var v=Loe.p2pk({input:e}).signature;return{prevOutType:n.P2PK,pubkeys:[void 0],signatures:[v]};case n.P2MS:var g=Loe.p2ms({input:e,output:i},{allowIncomplete:!0}),y=g.m,m=g.pubkeys,b=g.signatures;return{prevOutType:n.P2MS,pubkeys:m,signatures:b,maxSignatures:y}}if(r===n.P2SH){var w=Loe.p2sh({input:e,witness:t}),x=w.output,k=w.redeem,_=Mse.output(k.output),B=l(k.input,k.witness,_,k.output);return B.prevOutType?{prevOutScript:x,prevOutType:n.P2SH,redeemScript:k.output,redeemScriptType:B.prevOutType,witnessScript:B.witnessScript,witnessScriptType:B.witnessScriptType,pubkeys:B.pubkeys,signatures:B.signatures}:{}}if(r===n.P2WSH){var E,S=Loe.p2wsh({input:e,witness:t}),C=S.output,I=S.redeem,P=Mse.output(I.output);return(E=P===n.P2WPKH?l(I.input,I.witness,P):l(foe.compile(I.witness),[],P,I.output)).prevOutType?{prevOutScript:C,prevOutType:n.P2WSH,witnessScript:I.output,witnessScriptType:E.prevOutType,pubkeys:E.pubkeys,signatures:E.signatures}:{}}return{prevOutType:n.NONSTANDARD,prevOutScript:e}}function f(e,t){Vae(Zae.Buffer,e);var r=Mse.output(e);switch(r){case n.P2PKH:if(!t)return{type:r};var i=Loe.p2pkh({output:e}).hash,a=voe.hash160(t);return i.equals(a)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r};case n.P2WPKH:if(!t)return{type:r};var o=Loe.p2wpkh({output:e}).hash,s=voe.hash160(t);return o.equals(s)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r};case n.P2PK:return{type:r,pubkeys:[Loe.p2pk({output:e}).pubkey],signatures:[void 0]};case n.P2MS:var u=Loe.p2ms({output:e});return{type:r,pubkeys:u.pubkeys,signatures:u.pubkeys.map((function(){})),maxSignatures:u.m}}return{type:r}}function h(e,t,i){var a=t.pubkeys||[],o=t.signatures||[];switch(e){case n.P2PKH:if(0===a.length)break;if(0===o.length)break;return Loe.p2pkh({pubkey:a[0],signature:o[0]});case n.P2WPKH:if(0===a.length)break;if(0===o.length)break;return Loe.p2wpkh({pubkey:a[0],signature:o[0]});case n.P2PK:if(0===a.length)break;if(0===o.length)break;return Loe.p2pk({signature:o[0]});case n.P2MS:var s=t.maxSignatures;o=i?o.map((function(e){return e||r.OPS.OP_0})):o.filter((function(e){return e}));var u=!i||s===o.length;return Loe.p2ms({m:s,pubkeys:a,signatures:o},{allowIncomplete:i,validate:u});case n.P2SH:var c=h(t.redeemScriptType,t,i);if(!c)return;return Loe.p2sh({redeem:{output:c.output||t.redeemScript,input:c.input,witness:c.witness}});case n.P2WSH:var l=h(t.witnessScriptType,t,i);if(!l)return;return Loe.p2wsh({redeem:{output:t.witnessScript,input:l.input,witness:l.witness}})}}function A(e){return void 0!==e.signScript&&void 0!==e.signType&&void 0!==e.pubkeys&&void 0!==e.signatures&&e.signatures.length===e.pubkeys.length&&e.pubkeys.length>0&&(!1===e.hasWitness||void 0!==e.value)}function d(e){return e.readUInt8(e.length-1)}t.TransactionBuilder=u}));FW(Use),Use.TransactionBuilder;var Fse=RW((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bip32=Xae,t.address=Noe,t.crypto=voe,t.ECPair=Uoe,t.networks=Yae,t.payments=Loe,t.script=foe,t.Block=Koe.Block,t.Psbt=Ase.Psbt;var r=foe;t.opcodes=r.OPS,t.Transaction=Hoe.Transaction,t.TransactionBuilder=Use.TransactionBuilder}));function Rse(e,t,r){var n="",i=function(e,t){var r=null;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&n.toLowerCase()===t.toLowerCase()&&(r=n);return e[r]}(e,t),a=CZ(r);if(i?(i.created&&a<=i.created&&(n="invalidIssuingAddressCreationTime"),i.revoked&&a>=i.revoked&&(n="invalidIssuingAddressRevoked"),i.expires&&a>=i.expires&&(n="invalidIssuingAddressExpired")):n="invalidIssuingAddressUnknown",n)throw new NW("checkAuthenticity",CW("errors",n))}FW(Fse),Fse.bitcoin,Fse.bip32,Fse.address,Fse.crypto,Fse.ECPair,Fse.networks,Fse.payments,Fse.script,Fse.Block,Fse.Psbt,Fse.opcodes,Fse.Transaction,Fse.TransactionBuilder;var Dse=q$("Verifier"),jse=function(){function e(t){var r=t.certificateJson,n=t.chain,i=t.expires,a=t.id,o=t.issuer,u=t.receipt,c=t.revocationKey,l=t.transactionId,f=t.version,h=t.explorerAPIs;s(this,e),this.chain=n,this.expires=i,this.id=a,this.issuer=o,this.receipt=u,this.revocationKey=c,this.version=f,this.transactionId=l,this.explorerAPIs=h;var A=r.document;A||(A=this._retrieveDocumentBeforeIssuance(r)),this.documentToVerify=Object.assign({},A),this._stepsStatuses=[]}return c(e,[{key:"verify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return lW(this,void 0,void 0,n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._stepCallback=e,this.version!==hW.V1_1){t.next=2;break}throw new NW("","Verification of 1.1 certificates is not supported by this component. See the python cert-verifier for legacy verification");case 2:if(!PZ.chains.isMockChain(this.chain)){t.next=7;break}return t.next=5,this._verifyV2Mock();case 5:t.next=9;break;case 7:return t.next=9,this._verifyMain();case 9:return r=this._stepsStatuses.find((function(e){return"failure"===e.status})),t.abrupt("return",r?this._failed(r):this._succeed());case 11:case"end":return t.stop()}}),t,this)})))}},{key:"_getRevocationListUrl",value:function(e){var t;return(null===(t=this.issuer)||void 0===t?void 0:t.revocationList)?this.issuer.revocationList:e.revocationList}},{key:"_doAction",value:function(e,t){return lW(this,void 0,void 0,n().mark((function r(){var i,a;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this._isFailing()){r.next=2;break}return r.abrupt("return");case 2:return e&&(i=PZ.i18n.getText("subSteps","".concat(e,"LabelPending")),Dse(i),this._updateStatusCallback(e,i,"starting")),r.prev=3,r.next=6,t();case 6:return a=r.sent,r.abrupt("return",(e&&(this._updateStatusCallback(e,i,"success"),this._stepsStatuses.push({step:e,label:i,status:"success"})),a));case 10:r.prev=10,r.t0=r.catch(3),e&&(this._updateStatusCallback(e,i,"failure",r.t0.message),this._stepsStatuses.push({code:e,label:i,status:"failure",errorMessage:r.t0.message}));case 13:case"end":return r.stop()}}),r,this,[[3,10]])})))}},{key:"_stepCallback",value:function(e){}},{key:"_verifyMain",value:function(){return lW(this,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTransactionId();case 2:return e.next=4,this.computeLocalHash();case 4:return e.next=6,this.fetchRemoteHash();case 6:return e.next=8,this.getIssuerProfile();case 8:return e.next=10,this.parseIssuerKeys();case 10:return e.next=12,this.compareHashes();case 12:return e.next=14,this.checkMerkleRoot();case 14:return e.next=16,this.checkReceipt();case 16:return e.next=18,this.checkRevokedStatus();case 18:return e.next=20,this.checkAuthenticity();case 20:return e.next=22,this.checkExpiresDate();case 22:case"end":return e.stop()}}),e,this)})))}},{key:"_verifyV2Mock",value:function(){return lW(this,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.computeLocalHash();case 2:return e.next=4,this.compareHashes();case 4:return e.next=6,this.checkReceipt();case 6:return e.next=8,this.checkExpiresDate();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getTransactionId",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("getTransactionId",(function(){return function(e){if("string"==typeof e&&e.length>0)return e;throw new NW("getTransactionId",CW("errors","isTransactionIdValid"))}(t.transactionId)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"computeLocalHash",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("computeLocalHash",(function(){return lW(t,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a8(this.documentToVerify,this.version);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}));case 2:this.localHash=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"fetchRemoteHash",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("fetchRemoteHash",(function(){return lW(t,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PZ.verifier.lookForTx({transactionId:this.transactionId,chain:this.chain.code,explorerAPIs:this.explorerAPIs});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}));case 2:this.txData=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getIssuerProfile",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("getIssuerProfile",(function(){return lW(t,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PZ.verifier.getIssuerProfile(this.issuer);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}));case 2:this.issuer=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"parseIssuerKeys",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("parseIssuerKeys",(function(){return PZ.verifier.parseIssuerKeys(t.issuer)}));case 2:this.issuerPublicKeyList=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"compareHashes",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("compareHashes",(function(){!function(e,t){if(e!==t)throw new NW("compareHashes",CW("errors","ensureHashesEqual"))}(t.localHash,t.receipt.targetHash)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"checkMerkleRoot",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("checkMerkleRoot",(function(){return function(e,t){if(e!==t)throw new NW("checkMerkleRoot",CW("errors","ensureMerkleRootEqual"));return!0}(t.receipt.merkleRoot,t.txData.remoteHash)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"checkReceipt",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("checkReceipt",(function(){return function(e){var t=e.targetHash,r=e.merkleRoot;try{var n=e.proof||e.path;if(n)for(var i in n){var a=n[i],o=void 0;if(void 0!==a.left)o=i8("".concat(a.left).concat(t)),t=n8(o);else{if(void 0===a.right)throw new NW("checkReceipt","Trigger catch error.");o=i8("".concat(t).concat(a.right)),t=n8(o)}}}catch(e){throw new NW("checkReceipt",CW("errors","ensureValidReceipt"))}if(t!==r)throw new NW("checkReceipt",CW("errors","invalidMerkleReceipt"))}(t.receipt)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"checkRevokedStatus",value:function(){var e;return lW(this,void 0,void 0,n().mark((function t(){var r,i,a=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.version!==hW.V1_2){t.next=4;break}i=(null===(e=this.txData)||void 0===e?void 0:e.revokedAddresses)||[],r=[PZ.verifier.parseRevocationKey(this.issuer),this.revocationKey],t.next=8;break;case 4:return t.next=6,this._doAction(null,(function(){return lW(a,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PZ.verifier.getRevokedAssertions(this._getRevocationListUrl(this.issuer),this.id);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}));case 6:i=t.sent,r=this.id;case 8:return t.next=10,this._doAction("checkRevokedStatus",(function(){return function(e,t){if(e&&t){Array.isArray(t)||(t=[t]);var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter((function(e){return-1!==t.indexOf(e)})).filter((function(e,t,r){return r.indexOf(e)===t}))}(t=t.filter((function(e){return null!=e})),e.map((function(e){return e.id})));if(r.length>0){var n=e.findIndex((function(e){return e.id===r[0]}));if(n>-1)throw new NW("checkRevokedStatus",PZ.certificates.generateRevocationReason(e[n].revocationReason))}}}(i,r)}));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"checkAuthenticity",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("checkAuthenticity",(function(){return Rse(t.issuerPublicKeyList,t.txData.issuingAddress,t.txData.time)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"checkExpiresDate",value:function(){return lW(this,void 0,void 0,n().mark((function e(){var t=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._doAction("checkExpiresDate",(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=CZ(e);if(new Date>=t)throw new NW("checkExpiresDate",CW("errors","ensureNotExpired"))}}(t.expires)}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"_failed",value:function(e){var t=e.errorMessage;return Dse("failure:".concat(t)),this._setFinalStep({status:"failure",message:t})}},{key:"_isFailing",value:function(){return this._stepsStatuses.some((function(e){return"failure"===e.status}))}},{key:"_retrieveDocumentBeforeIssuance",value:function(e){var t=Object.assign({},e);return delete t.signature,t}},{key:"_succeed",value:function(){var e=PZ.chains.isMockChain(this.chain)?PZ.i18n.getText("success","mocknet"):PZ.i18n.getText("success","blockchain");return Dse(e),this._setFinalStep({status:"success",message:e})}},{key:"_setFinalStep",value:function(e){return{code:"final",status:e.status,message:e.message}}},{key:"_updateStatusCallback",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(null!=e){var i={code:e,label:t,status:r};n&&(i.errorMessage=n),this._stepCallback(i)}}}]),e}(),Qse=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,e),this.explorerAPIs=[],this._setOptions(r),"object"!=i(t))try{t=JSON.parse(t)}catch(t){throw new Error(PZ.i18n.getText("errors","certificateNotValid"))}this.certificateJson=QW(t)}return c(e,[{key:"init",value:function(){return lW(this,void 0,void 0,n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.parseJson(this.certificateJson);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"parseJson",value:function(e){return lW(this,void 0,void 0,n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OZ(e);case 2:if((r=t.sent).isFormatValid){t.next=5;break}throw new Error(r.error);case 5:this._setProperties(r);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"verify",value:function(e){return lW(this,void 0,void 0,n().mark((function t(){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new jse({certificateJson:this.certificateJson,chain:this.chain,expires:this.expires,id:this.id,issuer:this.issuer,receipt:this.receipt,revocationKey:this.revocationKey,transactionId:this.transactionId,version:this.version,explorerAPIs:QW(this.explorerAPIs)}),t.next=3,r.verify(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"_setOptions",value:function(e){this.options=Object.assign({},BW,e),this.locale=PZ.i18n.ensureIsSupported("auto"===this.options.locale?PZ.i18n.detectLocale():this.options.locale),this.explorerAPIs=this.options.explorerAPIs||[],SW.locale=this.locale}},{key:"_setProperties",value:function(e){var t=e.certificateImage,r=e.chain,n=e.description,i=e.expires,a=e.id,o=e.isFormatValid,s=e.issuedOn,u=e.issuer,c=e.metadataJson,l=e.name,f=e.publicKey,h=e.receipt,A=e.recipientFullName,d=e.recordLink,p=e.revocationKey,v=e.sealImage,g=e.signature,y=e.signatureImage,m=e.subtitle,b=e.version;this.isFormatValid=o,this.certificateImage=t,this.chain=r,this.description=n,this.expires=i,this.id=a,this.issuedOn=s,this.issuer=u,this.metadataJson=c,this.name=l,this.publicKey=f,this.receipt=h,this.recipientFullName=A,this.recordLink=d,this.revocationKey=p,this.sealImage=v,this.signature=g,this.signatureImage=y,this.subtitle=m,this.verificationSteps=PZ.certificates.getVerificationMap(r),this.version=b,this._setTransactionDetails()}},{key:"_setTransactionDetails",value:function(){this.transactionId=PZ.certificates.getTransactionId(this.receipt),this.rawTransactionLink=PZ.certificates.getTransactionLink(this.transactionId,this.chain,!0),this.transactionLink=PZ.certificates.getTransactionLink(this.transactionId,this.chain)}}]),e}();var Hse=Object.freeze({__proto__:null,displayHtmlHasNoWidthConstraint:Tt,download:function(e){return e+Ot},downloadPDF:async function(e){await ya(e)},initializeVerificationSteps:function(e){const t=JSON.parse(JSON.stringify(e.verificationSteps));return t.map(((e,r)=>({...e,isLast:r===t.length-1,status:pp.DEFAULT})))},retrieve:function(e){return ZG(e)||eW(e)?fetch(e+Ot).then((function(e){return e.text()})).then((function(e){try{return{certificateDefinition:JSON.parse(e)}}catch(e){return console.log(e),{certificateDefinition:null,errorMessage:"errors.invalidBlockcertsUrl"}}})).catch(tW):(console.error("Invalid url to retrieve:",e),null)},read:function(e){return nW.apply(this,arguments)},parse:async function(e,t={}){t.locale||(t.locale="auto");try{let r;return r=1===Bp(e["@context"]).versionNumber?new Qse(e,t):new $G(e,t),await r.init(),{certificateDefinition:r}}catch(e){return console.error(e),{certificateDefinition:null,errorMessage:"errors.invalidBlockcerts"}}},isPathToCertificateValidURI:function(e){return ZG(e)||eW(e)}});var Kse=Object.freeze({__proto__:null,dispatch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if(e&&"string"==typeof e&&t&&"object"===i(t)){var a=new CustomEvent(e,{detail:r({certificateDefinition:t},n)});window.dispatchEvent(a)}}}),Vse=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!window.Proxy){var t=St();return new t(e,It)}return new Proxy(e,It)}({certificates:Hse,events:Kse});function zse(e,t){return e(t={exports:{}},t.exports),t.exports}function qse(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var Gse=/javascript\s*\:/gim;var Wse={whiteList:qse(),getDefaultWhiteList:qse,onAttr:function(e,t,r){},onIgnoreAttr:function(e,t,r){},safeAttrValue:function(e,t){return Gse.test(t)?"":t}},Jse=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},Xse=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var Yse=function(e,t){";"!==(e=Xse(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,i=0,a=0,o="";function s(){if(!n){var r=Jse(e.slice(i,a)),s=r.indexOf(":");if(-1!==s){var u=Jse(r.slice(0,s)),c=Jse(r.slice(s+1));if(u){var l=t(i,o.length,u,c,r);l&&(o+=l+"; ")}}}i=a+1}for(;a<r;a++){var u=e[a];if("/"===u&&"*"===e[a+1]){var c=e.indexOf("*/",a+2);if(-1===c)break;i=(a=c+1)+1,n=!1}else"("===u?n=!0:")"===u?n=!1:";"===u?n||s():"\n"===u&&s()}return Jse(o)};function $se(e){return null==e}function Zse(e){e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{}),e.whiteList=e.whiteList||Wse.whiteList,e.onAttr=e.onAttr||Wse.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Wse.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Wse.safeAttrValue,this.options=e}Zse.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,i=t.onIgnoreAttr,a=t.safeAttrValue,o=Yse(e,(function(e,t,o,s,u){var c=r[o],l=!1;if(!0===c?l=c:"function"==typeof c?l=c(s):c instanceof RegExp&&(l=c.test(s)),!0!==l&&(l=!1),s=a(o,s)){var f,h={position:t,sourcePosition:e,source:u,isWhite:l};return l?$se(f=n(o,s,h))?o+":"+s:f:$se(f=i(o,s,h))?void 0:f}}));return o};var eue=Zse,tue=zse((function(e,t){for(var r in t=e.exports=function(e,t){return new eue(t).process(e)},t.FilterCSS=eue,Wse)t[r]=Wse[r];"undefined"!=typeof window&&(window.filterCSS=e.exports)}));tue.cssfilter,tue.FilterCSS;var rue=function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},nue=function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},iue=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},aue=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},oue=tue.FilterCSS,sue=tue.getDefaultWhiteList;function uue(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var cue=new oue;function lue(e){return e.replace(fue,"&lt;").replace(hue,"&gt;")}var fue=/</g,hue=/>/g,Aue=/"/g,due=/&quot;/g,pue=/&#([a-zA-Z0-9]*);?/gim,vue=/&colon;?/gim,gue=/&newline;?/gim,yue=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,mue=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,bue=/u\s*r\s*l\s*\(.*/gi;function wue(e){return e.replace(Aue,"&quot;")}function xue(e){return e.replace(due,'"')}function kue(e){return e.replace(pue,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function _ue(e){return e.replace(vue,":").replace(gue," ")}function Bue(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return iue(t)}function Eue(e){return e=Bue(e=_ue(e=kue(e=xue(e))))}function Sue(e){return e=lue(e=wue(e))}var Cue=function(e,t,r,n){if(r=Eue(r),"href"===t||"src"===t){if("#"===(r=iue(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(yue.lastIndex=0,yue.test(r))return""}else if("style"===t){if(mue.lastIndex=0,mue.test(r))return"";if(bue.lastIndex=0,bue.test(r)&&(yue.lastIndex=0,yue.test(r)))return"";!1!==n&&(r=(n=n||cue).process(r))}return r=Sue(r)},Iue=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],i=!1;return{onIgnoreTag:function(a,o,s){if(function(t){return!!r||-1!==rue(e,t)}(a)){if(s.isClosing){var u="[/removed]",c=s.position+u.length;return n.push([!1!==i?i:s.position,c]),i=!1,u}return i||(i=s.position),"[removed]"}return t(a,o,s)},remove:function(e){var t="",r=0;return nue(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},Pue=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("--\x3e",n);if(-1===i)break;r=i+3}return t},Tue=function(e){var t=e.split("");return t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})),t.join("")},Oue={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},getDefaultWhiteList:uue,onTag:function(e,t,r){},onIgnoreTag:function(e,t,r){},onTagAttr:function(e,t,r){},onIgnoreTagAttr:function(e,t,r){},safeAttrValue:Cue,escapeHtml:lue,escapeQuote:wue,unescapeQuote:xue,escapeHtmlEntities:kue,escapeDangerHtml5Entities:_ue,clearNonPrintableCharacter:Bue,friendlyAttrValue:Eue,escapeAttrValue:Sue,onIgnoreTagStripAll:function(){return""},StripTagBody:Iue,stripCommentTag:Pue,stripBlankChar:Tue,cssFilter:cue,getDefaultCSSWhiteList:sue};function Lue(e){var t=aue(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=iue(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function Nue(e){return"</"===e.slice(0,2)}var Mue=/[^a-zA-Z0-9_:\.\-]/gim;function Uue(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function Fue(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function Rue(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var Due=function(e,t,r){var n="",i=0,a=!1,o=!1,s=0,u=e.length,c="",l="";e:for(s=0;s<u;s++){var f=e.charAt(s);if(!1===a){if("<"===f){a=s;continue}}else if(!1===o){if("<"===f){n+=r(e.slice(i,s)),a=s,i=s;continue}if(">"===f){n+=r(e.slice(i,a)),c=Lue(l=e.slice(a,s+1)),n+=t(a,n.length,c,l,Nue(l)),i=s+1,a=!1;continue}if('"'===f||"'"===f)for(var h=1,A=e.charAt(s-h);""===A.trim()||"="===A;){if("="===A){o=f;continue e}A=e.charAt(s-++h)}}else if(f===o){o=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n},jue=function(e,t){var r=0,n=[],i=!1,a=e.length;function o(e,r){if(!((e=(e=iue(e)).replace(Mue,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&n.push(i)}}for(var s=0;s<a;s++){var u,c=e.charAt(s);if(!1!==i||"="!==c)if(!1===i||s!==r||'"'!==c&&"'"!==c||"="!==e.charAt(s-1))if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(u=Uue(e,s))){o(iue(e.slice(r,s))),i=!1,r=s+1;continue}s=u-1;continue}if(-1===(u=Fue(e,s-1))){o(i,Rue(iue(e.slice(r,s)))),i=!1,r=s+1;continue}}else;else{if(-1===(u=e.indexOf(c,s+1)))break;o(i,iue(e.slice(r+1,u))),i=!1,r=(s=u)+1}else i=e.slice(r,s),r=s+1}return r<e.length&&(!1===i?o(e.slice(r)):o(i,Rue(iue(e.slice(r))))),iue(n.join(" "))},Que={parseTag:Due,parseAttr:jue},Hue=tue.FilterCSS,Kue=Que.parseTag,Vue=Que.parseAttr;function zue(e){return null==e}function que(e){e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Oue.onIgnoreTagStripAll),e.whiteList=e.whiteList||Oue.whiteList,e.onTag=e.onTag||Oue.onTag,e.onTagAttr=e.onTagAttr||Oue.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Oue.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Oue.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Oue.safeAttrValue,e.escapeHtml=e.escapeHtml||Oue.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Hue(e.css))}que.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,a=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,u=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Oue.stripBlankChar(e)),t.allowCommentTag||(e=Oue.stripCommentTag(e));var l=!1;if(t.stripIgnoreTagBody){l=Oue.StripTagBody(t.stripIgnoreTagBody,i);i=l.onIgnoreTag}var f=Kue(e,(function(e,t,l,f,h){var A,d={sourcePosition:e,position:t,isClosing:h,isWhite:r.hasOwnProperty(l)};if(!zue(A=n(l,f,d)))return A;if(d.isWhite){if(d.isClosing)return"</"+l+">";var p=function(e){var t=aue(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=iue(e.slice(t+1,-1)))[e.length-1];return r&&(e=iue(e.slice(0,-1))),{html:e,closing:r}}(f),v=r[l],g=Vue(p.html,(function(e,t){var r,n=-1!==rue(v,e);return zue(r=a(l,e,t,n))?n?(t=s(l,e,t,c))?e+'="'+t+'"':e:zue(r=o(l,e,t,n))?void 0:r:r}));f="<"+l;return g&&(f+=" "+g),p.closing&&(f+=" /"),f+=">"}return zue(A=i(l,f,d))?u(f):A}),u);return l&&(f=l.remove(f)),f};var Gue=que,Wue=zse((function(e,t){function r(e,t){return new Gue(t).process(e)}for(var n in(t=e.exports=r).filterXSS=r,t.FilterXSS=Gue,Oue)t[n]=Oue[n];for(var n in Que)t[n]=Que[n];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}));Wue.xss,Wue.filterXSS,Wue.FilterXSS;var Jue=r(r({},tue.getDefaultWhiteList()),{},{bottom:!0,left:!0,float:!0,overflow:!0,position:!0,right:!0,top:!0,transform:!0,opacity:!0,"transform-origin":!0,"flex-direction":!0,"flex-wrap":!0,"justify-content":!0,"align-items":!0,"white-space":!0,"line-height":!0,"grid-template-columns":!0,"grid-template-rows":!0,"grid-column":!0,"grid-row":!0,"grid-area":!0,"align-self":!0,"justify-self":!0,span:!0});var Xue=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,Yue=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,$ue=/u\s*r\s*l\s*\(.*/gi,Zue={whiteList:function(){var e=Wue.getDefaultWhiteList();return Object.keys(e).forEach((function(t){e[t].push("style"),e[t].push("class"),e[t].push("download")})),e}(),css:!1,stripIgnoreTagBody:!0,onTagAttr:function(e,t,r,n){if("style"===t)return"".concat(t,'="').concat(tue(r,{whiteList:Jue}).replace(/; /g,";"),'"');if("img"===e&&"src"===t&&function(e){return!!e.match(/^data:.+;base64,/)}(r)){var i=function(e){return e.split("base64,")[1]}(r);try{return atob(i),"".concat(t,'="').concat(r,'"')}catch(e){return t}}},safeAttrValue:function(e,t,r,n){if(r=Wue.friendlyAttrValue(r),"href"===t||"src"===t){if("#"===(r=function(e){if(String.prototype.trim)return e.trim();return e.replace(/(^\s*)|(\s*$)/g,"")}(r)))return"#";if(!function(e){return["http://","https://","mailto:","tel:","data:","#","/"].some((function(t){return e.substr(0,t.length)===t}))}(r))return""}else if("background"===t){if(Xue.lastIndex=0,Xue.test(r))return""}else if("style"===t){if(Yue.lastIndex=0,Yue.test(r))return"";if($ue.lastIndex=0,$ue.test(r)&&(Xue.lastIndex=0,Xue.test(r)))return"";!1!==n&&(r=(n=n||Wue.getDefaultCSSWhiteList()).process(r))}return r=Wue.escapeAttrValue(r)}},ece=new Wue.FilterXSS(Zue);function tce(e){return ece.process(e)}function rce(e){const t=na("date","pattern");"Z"===e.slice(-1)?e=e.slice(0,e.length-1):e.includes("+")&&(e=e.split("+")[0]);const r=new Date(e);let n=function(e,t){const r=na("date","months");return e.replace("MM",r[t])}(t,r.getMonth());return n=function(e,t){return e.replace("DD",t)}(n,r.getDate().toString(10)),n=function(e,t){return e.replace("YYYY",t)}(n,r.getFullYear().toString(10)),n}function nce(e){return e.certificateDefinition}function ice(e){const t=nce(e);return t?t.signers:[]}function ace(e){const t=nce(e);return t?t.issuedOn:""}function oce(e){return nce(e)?rce(ace(e)):""}function sce(e){const t=nce(e);return t?t.recipientFullName:""}function uce(e){const t=nce(e);return t?t.name:""}function cce(e){const t=nce(e);return t?t.issuer.name:""}function lce(e){const t=nce(e);return t?t.issuer.image:""}function fce(e){const t=nce(e);if(!t)return"";const{displayHtml:r}=t.certificateJson;if(r)return tce(r);const n=t.display;if(n)switch(n.contentMediaType){case Ct.TEXT_HTML:return tce(n.content);case Ct.IMAGE_PNG:case Ct.IMAGE_JPEG:case Ct.IMAGE_GIF:case Ct.IMAGE_BMP:return`<img src="data:${n.contentMediaType};${n.contentEncoding},${n.content}"/>`;case Ct.APPLICATION_PDF:return`<embed width="100%" height="100%" type="application/pdf" src="data:${n.contentMediaType};${n.contentEncoding},${n.content}"/>`;default:return""}return""}function hce(e){const t=nce(e);return t&&ZG(t.recordLink)?t.recordLink:""}function Ace(e){const t=hce(e);return t?Vse.certificates.download(t):""}function dce(e){const t=nce(e);if(t)try{return JSON.parse(t.metadataJson)}catch(e){return null}return null}function pce(e){const t=ice(e);return 0===t.length?Cce(e,"transactionLink")??[]:t.map((e=>e.transactionLink))}function vce(e){const t=ice(e);return 0===t.length?Cce(e,"transactionId")??[]:t.map((e=>e.transactionId))}function gce(e){const t=ice(e);if(0===t.length){const t=Cce(e,"chain");return t?t.map((e=>e?.name)):[]}return t.map((e=>e.chain?.name))}function yce(e){return gce(e).some((e=>"Mocknet"===e||e?.includes("Testnet")))}function mce(e,t){const r=gce(e)[t];return!!r&&("Mocknet"===r||r.includes("Testnet"))}function bce(e){return e.verifiedSteps||[]}function wce(e,t){return bce(e).find((e=>e.code===t))}function xce(e){return bce(e).some((e=>e.status===pp.FAILURE))}function kce(e){return e.finalStep}function _ce(e){return ice(e).map((e=>e.issuerPublicKey))}function Bce(e){return ice(e).map((e=>e.issuerProfileUrl))}function Ece(e){return ice(e).map((e=>e.issuerProfileDomain))}function Sce(e){return ice(e).map((e=>e.signatureSuiteType))}function Cce(e,t){const r=nce(e);return r?[r[t]]:null}function Ice(e){const t=nce(e);return t?t.certificateImage:""}function Pce(e){const t=nce(e);return t?t.subtitle:""}function Tce(e){const t=nce(e);return t?t.description:""}function Oce(e){const t=nce(e);return t?t.signatureImage:""}function Lce(e){const t=nce(e);return t?t.sealImage:""}function Nce(e){return e.isGeneratingPDF}function Mce(e,t){switch(t.type){case mt:return function(e,t){var n=t.payload.resetSteps;return r(r({},e),{},{verifiedSteps:n})}(e,t);case dt:return function(e,t){return r(r({},e),t.payload.options)}(e,t);case pt:return function(e,t){return r(r(r({},e),t.payload),t.payload.certificateDefinition&&{verifiedSteps:Vse.certificates.initializeVerificationSteps(t.payload.certificateDefinition)})}(e,t);case vt:return function(e,t){return r(r({},e),{},{certificateDefinition:t.payload.definition})}(e,t);case gt:return function(e,t){return r(r({},e),{},{input:r(r({},e.input),{},{certificateUrl:t.payload.url})})}(e,t);case wt:return function(e,t){var r=t.payload,n=r.parentStepCode,i=r.status;return wce(e,n).status=i,e}(e,t);case yt:return function(e,t){return r(r({},e),{},{input:r(r({},e.input),{},{isValid:t.payload.isValid})})}(e,t);case _t:return function(e,t){var n=t.payload.errorMessage;return r(r({},e),{},{errorMessage:n})}(e,t);case Bt:return function(e,t){return r(r({},e),{},{showVerificationModal:t.payload.showVerificationModal})}(e,t);case bt:return function(e,t){const{parentStep:r}=t.payload;return function(e,t){let r=e.subSteps.findIndex((e=>e.code===t.code));r>-1?e.subSteps[r]=t:e.suites?.length&&e.suites.forEach((e=>{r=e.subSteps.findIndex((e=>e.code===t.code)),r>-1&&(e.subSteps[r]=t)}))}(wce(e,r),t.payload),e}(e,t);case xt:return function(e,t){return r(r({},e),{},{verificationStatus:t.payload.status})}(e,t);case kt:return function(e,t){return r(r({},e),{},{finalStep:t.payload.finalStep})}(e,t);case Et:return function(e,t){return{...e,isGeneratingPDF:t.payload.isGeneratingPDF}}(e,t);default:return e}}var Uce="full",Fce="bright",Rce="dark";function Dce(e={}){return{input:{},verifiedSteps:[],finalStep:null,verificationStatus:pp.DEFAULT,showVerificationModal:!1,displayMode:"card",disableDownloadPdf:!1,theme:Fce,...e}}const jce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dce(),t=[lt];return at(Mce,e,ut.apply(void 0,t))}();function Qce(e,{mapDispatchToProps:t={},mapStateToProps:r=(()=>({})),ownProps:n={}}){return class extends(function(e){return function(t){return function(t){f(n,t);var r=w(n);function n(){return s(this,n),r.apply(this,arguments)}return c(n,[{key:"connectedCallback",value:function(){var t=this;this.__storeUnsubscribe=e.subscribe((function(){return t._stateChanged(e.getState())})),this._stateChanged(e.getState()),k(h(n.prototype),"connectedCallback",this)&&k(h(n.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){this.__storeUnsubscribe(),k(h(n.prototype),"disconnectedCallback",this)&&k(h(n.prototype),"disconnectedCallback",this).call(this)}},{key:"_stateChanged",value:function(e){throw new Error("_stateChanged() not implemented")}}]),n}(t)}}(jce)(Xe)){mapDispatchToProps(){return function(e,t){if("function"==typeof e)return ot(e,t);if("object"!==i(e)||null===e)throw new Error(et(16));var r={};for(var n in e){var a=e[n];"function"==typeof a&&(r[n]=ot(a,t))}return r}(t,jce.dispatch)}mapStateToProps(e){return r(jce.getState(),e)}static get properties(){return n}_render(t){const r={...this.mapDispatchToProps(),...this.mapStateToProps(t),...t};return ze`${e(r)}`}_stateChanged(e){this._requestRender()}}}function Hce(e){return{type:_t,payload:{errorMessage:e}}}function Kce(e){return function(t){t({type:yt,payload:{isValid:e}}),t(Hce(e?null:"errors.invalidUrl"))}}function Vce(e){return e.status===pp.SUCCESS}function zce(e){return e.status===pp.FAILURE}function qce(e){return function(t,r){if(null==e)return;const n=wce(r(),e);let i=n.status;i===pp.DEFAULT&&function(e){let t=!0;return e.suites?.length&&(t=e.suites?.flatMap((e=>e.subSteps)).some(Vce)),t||e.subSteps.some(Vce)}(n)&&(i=pp.STARTING),i!==pp.DEFAULT&&function(e){let t=!0;return e.suites?.length&&(t=e.suites?.flatMap((e=>e.subSteps)).every(Vce)),t&&e.subSteps.every(Vce)}(n)&&(i=pp.SUCCESS),function(e){let t=!1;return e.suites?.length&&(t=e.suites?.flatMap((e=>e.subSteps)).some(zce)),t||e.subSteps.some(zce)}(n)&&(i=pp.FAILURE),t({type:wt,payload:{parentStepCode:e,status:i}})}}const Gce=new(function(){function e(){s(this,e),this.queue=[],this.dispatchCb=null,this.isExecuting=!1,this.intervalId=null,this.dispatchNext=this.dispatchNext.bind(this)}return c(e,[{key:"registerCb",value:function(e){this.dispatchCb=e}},{key:"push",value:function(e){this.queue.push(e)}},{key:"dispatchNext",value:function(){var e=this.queue.shift();e?this.dispatchCb(e):this.intervalId&&(this.isExecuting=!1,clearInterval(this.intervalId))}},{key:"execute",value:function(){!this.isExecuting&&this.queue.length&&(this.isExecuting=!0,this.intervalId=setInterval(this.dispatchNext,200))}}]),e}());function Wce(e){return function(t,r){const n=function(e){return function(t){e({type:bt,payload:t}),e(qce(t.parentStep))}}(t);Gce.dispatchCb||Gce.registerCb(n),Gce.push(e),Gce.execute()}}function Jce(){return function(e,t){var r=nce(t()),n=[];r&&(n=Vse.certificates.initializeVerificationSteps(r)),e({type:mt,payload:{resetSteps:n}})}}function Xce(e){return{type:xt,payload:{status:e}}}function Yce(e){return e.disableVerify}function $ce(e){return e.allowDownload}function Zce(e){return e.disableDownloadPdf}function ele(e){return e.allowSocialShare}function tle(e){return e.showMetadata}function rle(e){return e.displayMode}function nle(e){return e.theme}function ile(e){return e.locale}function ale(e){return e.explorerAPIs}function ole(e){return e.clickableUrls}function sle(e){return e.didResolverUrl}function ule(e){return"string"==typeof e&&(e={label:e}),{type:kt,payload:{finalStep:e}}}function cle(){return async function(e,t){const r=t();if(Yce(r))return void console.warn("Verification is disabled");e({type:"VERIFY_CERTIFICATE"}),e(Xce(pp.STARTING)),e(Jce());const n=nce(r);if(n){Vse.events.dispatch("certificate-verify",n);const t=await n.verify((t=>{e(Wce(t))}));e(ule(t.message)),e(Xce(t.status))}}}function lle(e){return{type:Bt,payload:{showVerificationModal:e}}}function fle(e){return async function(t,r){const n=r(),i={locale:ile(n),explorerAPIs:ale(n),didResolverUrl:sle(n)},{certificateDefinition:a,errorMessage:o}=await Vse.certificates.parse(e,i);t(Hce(o)),t({type:pt,payload:{certificateDefinition:a}}),Vse.events.dispatch("certificate-load",a),null!=a&&await t((async function(e,t){(function(e){return e.disableAutoVerify})(t())||(e({type:At}),e(lle(!0))),await e(cle())}))}}function hle(e){return function(){var t=o(n().mark((function t(r){var i,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Vse.certificates.isPathToCertificateValidURI(e),r(Kce(i)),i){t.next=4;break}return t.abrupt("return",null);case 4:return r({type:gt,payload:{url:e}}),t.next=7,Vse.certificates.retrieve(e);case 7:if(!(a=t.sent).certificateDefinition){t.next=13;break}return t.next=11,r(fle(a.certificateDefinition));case 11:t.next=14;break;case 13:r(Hce(a.errorMessage));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Ale=/(-\w)/g,dle=function(e){return e[1].toUpperCase()};var ple,vle={src:String,"disable-auto-verify":Boolean,"disable-verify":Boolean,"allow-download":Boolean,"disable-download-pdf":Boolean,"allow-social-share":Boolean,"display-mode":String,"show-metadata":Boolean,"clickable-urls":Boolean,theme:0,locale:String,explorerAPIs:{},"did-resolver-url":String},gle=Object.keys(vle).map((function(e){return e.replace(Ale,dle)})).reduce((function(e,t){return e[t]=vle[t],e}),{});function yle(e){var t,r=Object.keys(ta).map((function(e){return e.toLowerCase()}));if(!(t=r.indexOf(e.toLowerCase())>-1)){var n=e.substr(0,2).toLowerCase(),i=r.map((function(e){return e.split("-")[0]})).indexOf(n);(t=i>-1)&&(e=r[i])}return t||(e=Zi),function(e){var t=e.split("-");return t.length>1?"".concat(t[0].toLowerCase(),"-").concat(t[1].toUpperCase()):t[0].toLowerCase()}(e)}function mle(e){"auto"!==e&&e||(e=navigator.language||navigator.userLanguage||navigator.browserLanguage||Zi),ea.locale=yle(e)}var ble,wle=ze(ple||(ple=_(['<style>.buv-c-input{font-size:15px;color:#031532;border-radius:2px 0 0 2px;padding:12px 15px;background-color:#f3f4f5;border:solid 1px rgba(3,21,50,.13);box-sizing:border-box;width:100%}.buv-c-input.is-invalid{border:2px solid red}.buv-c-input::-moz-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-c-input::-webkit-input-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-c-input:-moz-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-c-input:-ms-input-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>'])));function xle(e){return void 0===e.input.isValid||e.input.isValid}var kle,_le=Qce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onInput,r=void 0===t?function(){}:t,n=e.isValid,i=void 0===n||n,a="buv-c-input ".concat(i?"":"is-invalid");return ze(ble||(ble=_(["\n    ","\n    <label \n      for='certificate-json-url'\n      class='buv-u-visually-hidden'>","</label>\n    <input \n      type='text'\n      id='certificate-json-url'\n      placeholder='","'\n      class$='","'\n      on-input='","'\n    />\n  "])),wle,na("text.urlInput"),na("text.urlInputPlaceholder"),a,(function(e){r(e.target.value)}))}),{mapDispatchToProps:{onInput:hle},mapStateToProps:function(e){return{isValid:xle(e)}}});window.customElements.define("buv-input",_le);var Ble,Ele=ze(kle||(kle=_(["<style>.buv-c-verify-button{background-color:#2ab27b;border-radius:0 2px 2px 0;color:#fff;cursor:pointer;display:block;font-size:15px;font-weight:400;padding:12px 38px;border:1px solid #2ab27b;width:100%}.buv-c-verify-button__label{cursor:pointer}.buv-c-verify-button--hollow{background:#fff;color:#2ab27b;font-weight:100;text-transform:uppercase;padding:12px 30px;font-size:13px}.buv-c-verify-button--link{background:none;color:#031532;border:0;text-decoration:underline;padding:0;margin-top:5px;font-size:13px}.buv-c-verify-button.is-disabled{pointer-events:none}</style>"])));var Sle,Cle={onClick:function(){return function(e){e({type:"START_VERIFICATION_PROCESS"}),e(lle(!0)),e(cle())}}},Ile=Qce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isHollow,r=void 0!==t&&t,n=e.isDisabled,i=void 0!==n&&n,a=e.onClick,o=void 0===a?function(){}:a,s=e.type,u=void 0===s?"":s,c=["buv-c-verify-button",r?"buv-c-verify-button--hollow":"",i?"is-disabled":"","link"===u?"buv-c-verify-button--link":""].join(" ");return ze(Ble||(Ble=_(["\n    ","\n    <button class$='","' on-click='","' disabled?='","'>\n      <label class='buv-c-verify-button__label'><slot>","</slot></label>\n    </button>\n  "])),Ele,c,o,i,na("text.verify"))}),{mapDispatchToProps:Cle,mapStateToProps:function(e){return{isDisabled:Yce(e)||!nce(e)}},ownProps:{isHollow:Boolean,type:String}});window.customElements.define("buv-verify-button",Ile);var Ple,Tle,Ole=ze(Sle||(Sle=_(["<style>.buv-c-certificate-input{display:flex;width:100%;padding:40px 30px;background-color:rgba(255,255,255,.1);border:1px solid rgba(0,0,0,.1);box-sizing:border-box}@media only screen and (max-width: 600px){.buv-c-certificate-input{flex-direction:column;grid-row-gap:10px;height:162px;padding:30px;justify-content:space-between}}.buv-c-certificate-input__input{width:100%}</style>"]))),Lle=Qce((function(e){var t=e.showInput;return void 0===t||t?ze(Ple||(Ple=_(["\n    ",'\n    <section class="buv-c-certificate-input  buv-qa-certificate-input">\n        <buv-input class="buv-c-certificate-input__input"></buv-input><buv-verify-button></buv-verify-button>     \n    </section>\n'])),Ole):null}),{mapStateToProps:function(e){return{showInput:!nce(e)}}});window.customElements.define("buv-certificate-input",Lle);var Nle,Mle=ze(Tle||(Tle=_(['<style>.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-c-download-link{text-decoration:none;color:currentColor}.buv-c-download-link--icon{background-image:url("data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20id%3D%22Capa%5f1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20width%3D%22433.5px%22%20height%3D%22433.5px%22%20fill%3D%22%236e7e8e%22%20viewBox%3D%220%200%20433.5%20433.5%22%20style%3D%22enable-background%3Anew%200%200%20433.5%20433.5%3B%22%20xml%3Aspace%3D%22preserve%22%0A%09%3E%3Cg%3E%3Cg%20id%3D%22file-download%22%3E%3Cpath%20d%3D%22M395.25%2C153h-102V0h-153v153h-102l178.5%2C178.5L395.25%2C153z%20M38.25%2C382.5v51h357v-51H38.25z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");width:17px;height:17px;background-size:17px}.buv-c-download-link.is-disabled{pointer-events:none}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>'])));var Ule,Fle=Qce((function(e){var t=e.downloadLink,r=e.display;if(!t)return null;var n="plaintext"===(void 0===r?"":r),i=na("text.downloadLink"),a=["buv-c-download-link","buv-o-button-link",n?"":"buv-c-download-link--icon"].join(" ");return ze(Nle||(Nle=_(["\n    ","\n    <a class$='","' href='","' title$='","'>\n      <span class$='","'>","</span>\n    </a>"])),Mle,a,t,i,n?"buv-o-button-link__label":"buv-u-visually-hidden",i)}),{mapStateToProps:function(e){return{downloadLink:Ace(e)}},ownProps:{display:String}});window.customElements.define("buv-download-link",Fle);var Rle=ze(Ule||(Ule=_(['<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-c-download-pdf-link{padding:0;color:#2ab27b}.buv-c-download-pdf-link__icon{background-image:url(\'data:image/svg+xml,%3Csvg data-bx-workspace="master" xmlns="http://www.w3.org/2000/svg" xmlns:bx="https://boxy-svg.com" version="1.1" fill="%236e7e8e" id="Capa_1" x="0px" y="0px" width="550.801px" height="550.801px" viewBox="0 0 550.801 550.801"%3E%3Cg style="" transform="matrix(0.855886, 0, 0, 0.855886, 39.688637, 39.689045)"%3E%3Cpath d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"%3E%3C/path%3E%3Cpath d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"%3E%3C/path%3E%3Cpath d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"%3E%3C/path%3E%3C/g%3E%3C/svg%3E\');width:25px;height:25px;background-size:25px}.buv-c-download-pdf-link__label--loading{display:none}.buv-c-download-pdf-link--loading{pointer-events:none}.buv-c-download-pdf-link--loading.buv-c-download-pdf-link__icon{background-image:url(\'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background:transparent;display:block;" width="25px" height="25px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"%3E%3Ccircle cx="50" cy="50" fill="none" stroke="%23999999" stroke-width="7" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"%3E%3CanimateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"%3E%3C/animateTransform%3E%3C/circle%3E%3C/svg%3E\')}.buv-c-download-pdf-link--loading .buv-c-download-pdf-link__label{color:#999}.buv-c-download-pdf-link--loading .buv-c-download-pdf-link__label--static{display:none}.buv-c-download-pdf-link--loading .buv-c-download-pdf-link__label--loading{display:block}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>'])));function Dle(e){return{type:Et,payload:{isGeneratingPDF:e}}}const jle={onClick:function(){return async function(e,t){const r=t(),n=function(e){const t=nce(e);return t?"displayHtml"in t.certificateJson?Ct.TEXT_HTML:t.display?.contentMediaType:null}(r),i=function(e){const t=nce(e);return t?"displayHtml"in t.certificateJson?"":t.display?.contentEncoding:""}(r),a=function(e){const t=nce(e);return t?"displayHtml"in t.certificateJson?t.certificateJson.displayHtml:t.display?.content??"":""}(r),o=sce(r),s=uce(r),u=oce(r),c=cce(r),l=lce(r),f=hce(r),h=_ce(r),A=Bce(r),d=Ece(r);e(Dle(!0)),await Vse.certificates.downloadPDF({contentType:n,contentEncoding:i,content:a,recipientName:o,certificateTitle:s,issueDate:u,issuerName:c,issuerLogo:l,recordLink:f,issuerPublicKey:h,issuerProfileUrl:A,issuerProfileDomain:d}),e(Dle(!1))}}},Qle=Qce((function({display:e="plaintext",isGeneratingPDF:t=!1,onClick:r=(()=>{}),isVisible:n=!0}={display:"plaintext",isGeneratingPDF:!1,onClick:()=>{},isVisible:!0}){if(!n)return null;const i="plaintext"===e,a=na("text.downloadPDFLink"),o=na("text.downloadPDFLinkIsLoading"),s=["buv-o-button-link","buv-c-download-pdf-link","buv-js-download-pdf-link",i?"":"buv-c-download-pdf-link__icon",t?"buv-c-download-pdf-link--loading":""].join(" ");return ze`
      ${Rle}
      <button onclick='${r}'
              class$='${s}'
              title$='${a}'>
        <label class$='buv-c-download-pdf-link__label ${i?"buv-o-button-link__label":"buv-u-visually-hidden"}'>
          <span class='buv-c-download-pdf-link__label--static'>${a}</span>
          <span class='buv-c-download-pdf-link__label--loading'>${o}</span>
        </label>
      </button>`}),{mapDispatchToProps:jle,mapStateToProps:e=>({isVisible:!!nce(e),isGeneratingPDF:Nce(e)}),ownProps:{display:String}});window.customElements.define("buv-download-pdf-link",Qle);var Hle;var Kle,Vle,zle,qle,Gle,Wle,Jle,Xle,Yle=ze(Hle||(Hle=_(['<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-o-overlay{z-index:100;box-shadow:0 0 30px rgba(0,0,0,.25);background-color:#fff}.buv-c-metadata-container{box-sizing:border-box;padding:47px;height:100%;width:400px;position:fixed;top:0;right:-400px;display:flex;flex-direction:column}.buv-c-metadata-container__close-button{top:52px;right:47px}.buv-c-metadata-container__title{border-bottom:solid 1px #e8e9eb;padding-bottom:38px;font-weight:300;margin:0 0 38px}.buv-c-metadata-link{padding:0}.buv-c-metadata-link--icon{background-image:url("data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%0A%09%20width%3D%22512px%22%20fill%3D%22%236e7e8e%22%20height%3D%22512px%22%20viewBox%3D%220%200%20512%20512%22%20enable-background%3D%22new%200%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%3E%0A%0A%3Cpath%20id%3D%22info-2-icon%22%20d%3D%22M255.998%2C90.001c91.74%2C0%2C166.002%2C74.241%2C166.002%2C165.998c0%2C91.741-74.245%2C166-166.002%2C166%0A%0A%09c-91.74%2C0-165.998-74.243-165.998-166C90%2C164.259%2C164.243%2C90.001%2C255.998%2C90.001%20M255.998%2C50.001%0A%0A%09C142.229%2C50.001%2C50%2C142.229%2C50%2C255.999c0%2C113.771%2C92.229%2C206%2C205.998%2C206c113.771%2C0%2C206.002-92.229%2C206.002-206%0A%0A%09C462%2C142.229%2C369.77%2C50.001%2C255.998%2C50.001L255.998%2C50.001z%20M285.822%2C367.567h-57.646V230.6h57.646V367.567z%20M257%2C202.268%0A%09c-17.522%2C0-31.729-14.206-31.729-31.73c0-17.522%2C14.206-31.729%2C31.729-31.729c17.524%2C0%2C31.728%2C14.206%2C31.728%2C31.729%0A%09C288.728%2C188.062%2C274.524%2C202.268%2C257%2C202.268z%22%2F%3E%3C%2Fsvg%3E");width:22px;height:22px;background-size:22px}.buv-c-metadata-list{margin:0;overflow:auto;flex:1}.buv-c-metadata-list__title{color:#999;line-height:15px}.buv-c-metadata-list__detail{margin:0 0 20px}.buv-c-metadata-list__detail-text{white-space:pre-wrap;word-wrap:break-word;font:inherit;margin:0}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}.buv-u-slide-from-right{opacity:0;-webkit-transition:right ease .5s,opacity .2s;-moz-transition:right ease .5s,opacity .2s;-ms-transition:right ease .5s,opacity .2s;-o-transition:right ease .5s,opacity .2s;transition:right ease .5s,opacity .2s}.buv-u-slide-from-right.is-active{right:0;opacity:1}</style>']))),$le=ze(Kle||(Kle=_(['<style>.buv-c-close-button{display:inline-block;overflow:hidden;cursor:pointer;border:0;width:20px;height:20px;position:absolute;background-color:rgba(0,0,0,0)}.buv-c-close-button::before,.buv-c-close-button::after{content:"";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px;background:#000}.buv-c-close-button::before{transform:rotate(45deg)}.buv-c-close-button::after{transform:rotate(-45deg)}.buv-c-close-button--big{transform:scale(3)}.buv-c-close-button--hairline::before,.buv-c-close-button--hairline::after{height:1px}.buv-c-close-button--thick::before,.buv-c-close-button--thick::after{height:4px;margin-top:-2px}.buv-c-close-button--black::before,.buv-c-close-button--black::after{height:8px;margin-top:-4px}.buv-c-close-button--heavy::before,.buv-c-close-button--heavy::after{height:12px;margin-top:-6px}.buv-c-close-button--pointy::before,.buv-c-close-button--pointy::after{width:200%;left:-50%}.buv-c-close-button--rounded::before,.buv-c-close-button--rounded::after{border-radius:5px}.buv-c-close-button--blades::before,.buv-c-close-button--blades::after{border-radius:5px 0}.buv-c-close-button--warp::before,.buv-c-close-button--warp::after{border-radius:120% 0}.buv-c-close-button--fat::before,.buv-c-close-button--fat::after{border-radius:100%}.buv-c-close-button--position{position:relative}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>']))),Zle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,r=void 0===t?function(){}:t,n=e.className,i=void 0===n?"":n,a="buv-c-close-button  buv-c-close-button--hairline  ".concat(i||"buv-c-close-button--position"," ");return ze(Vle||(Vle=_(["\n    ","\n    <button onclick='","' class$='","'>\n      <label class='buv-u-visually-hidden'>","</label>\n    </button>\n  "])),$le,r,a,na("text.closeButton"))};var efe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.call(this)).isOpen=!1,e.toggleOpen=e.toggleOpen.bind(m(e)),e}return c(r,[{key:"toggleOpen",value:function(){this.isOpen=!this.isOpen}},{key:"_render",value:function(e){var t=e.metadataList,r=e.display,n=["buv-o-overlay","buv-c-metadata-container","buv-u-slide-from-right",this.isOpen?"is-active":""].join(" "),i="";if(t){var a=function(e){return e.schema.properties.certificate.properties}(t);i=t.displayOrder.map((function(e){var r=e.split(".")[1],n=function(e,t){var r=t.split(".");return function e(t,r,n){var i=n.indexOf(r)+1,a=n[i];return a?Object.prototype.hasOwnProperty.call(t[r],a)?e(t[r],a,n):void 0:t[r]}(e,r[0],r)}(t,e);return function(e,t){var r=e.title,n=e.format,i=e.type;Array.isArray(i)&&(i=i[0]);var a=ze(zle||(zle=_(["<dt class='buv-c-metadata-list__title'>","</dt>"])),r),o=!1,s="",u=t;if("string"===i)switch(n){case"uri":o=!0,s=t;break;case"email":s="mailto:".concat(t);break;case"phoneNumber":s="tel:".concat(t)}s&&(u=ze(qle||(qle=_(['<a href="','" target="','" >',"</a>"])),s,o?"_blank":"",t));var c=ze(Gle||(Gle=_(["<dd class='buv-c-metadata-list__detail'>\n            <pre class='buv-c-metadata-list__detail-text'>","</pre></dd>"])),u);return ze(Wle||(Wle=_(["","",""])),a,c)}(a[r],n)}))}var o="plaintext"===r,s=na(t?"text.metadataButton":"errors.noMetadata"),u=["buv-c-metadata-link","buv-o-button-link",o?"":"buv-c-metadata-link--icon"].join(" ");return ze(Jle||(Jle=_(["\n      ","\n      <button onclick='","' \n        class$='","' \n        disabled?='","' \n        aria-disabled?='","'\n        title$=",">\n        <label class$='","'>","</label>\n      </button>\n      <section class$='","'>\n        <h1 class='buv-c-metadata-container__title'>","</h1>\n        ","\n        <dl class='buv-c-metadata-list  buv-o-text-12'>","</dl>\n      </section>\n    "])),Yle,this.toggleOpen,u,!t,!t,s,o?"buv-o-button-link__label":"buv-u-visually-hidden",s,n,na("text.metadataTitle"),Zle({onClick:this.toggleOpen,className:"buv-c-metadata-container__close-button"}),i)}}],[{key:"properties",get:function(){return{isOpen:Boolean,metadataList:Object,display:String}}}]),r}(Xe);window.customElements.define("buv-metadata-raw",efe);var tfe,rfe=Qce((function(e){return ze(Xle||(Xle=_(["\n    <buv-metadata-raw\n      metadataList='","'\n      display='","'\n    ></buv-metadata-raw>"])),e.metadataList,e.display)}),{mapStateToProps:function(e){return{metadataList:dce(e)}},ownProps:{display:String}});window.customElements.define("buv-metadata",rfe);var nfe,ife,afe,ofe,sfe,ufe,cfe=ze(tfe||(tfe=_(["<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-overlay{z-index:100;box-shadow:0 0 30px rgba(0,0,0,.25);background-color:#fff}.buv-c-social-share-link{width:17px;height:17px;background-size:17px;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' id='Capa_1' x='0px' y='0px' viewBox='0 0 473.932 473.932' style='enable-background:new 0 0 473.932 473.932;' xml:space='preserve' width='24px' height='24px'%3E%3Cg%3E%3Cg%3E%3Cpath d='M385.513,301.214c-27.438,0-51.64,13.072-67.452,33.09l-146.66-75.002 c1.92-7.161,3.3-14.56,3.3-22.347c0-8.477-1.639-16.458-3.926-24.224l146.013-74.656c15.725,20.924,40.553,34.6,68.746,34.6 c47.758,0,86.391-38.633,86.391-86.348C471.926,38.655,433.292,0,385.535,0c-47.65,0-86.326,38.655-86.326,86.326 c0,7.809,1.381,15.229,3.322,22.412L155.892,183.74c-15.833-20.039-40.079-33.154-67.56-33.154 c-47.715,0-86.326,38.676-86.326,86.369s38.612,86.348,86.326,86.348c28.236,0,53.043-13.719,68.832-34.664l145.948,74.656 c-2.287,7.744-3.947,15.79-3.947,24.289c0,47.693,38.676,86.348,86.326,86.348c47.758,0,86.391-38.655,86.391-86.348 C471.904,339.848,433.271,301.214,385.513,301.214z' fill='%236e7e8e'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\")}.buv-c-social-share-modal{position:absolute;padding:38px 34px 34px;width:120px}.buv-c-social-share-modal__close-button{top:10px;right:10px}.buv-c-social-share-modal__list{list-style-type:none;margin:0;padding:0}.buv-c-social-share-modal__list-item{margin-bottom:24px}.buv-c-social-share-modal__list-item--plaintext{margin-bottom:5px;font-size:13px}.buv-c-social-share-modal__list-item:last-child{margin-bottom:0}.buv-c-social-share-modal__link{text-decoration:none}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>"]))),lfe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.call(this)).isOpen=!1,e.toggleOpen=e.toggleOpen.bind(m(e)),e}return c(r,[{key:"toggleOpen",value:function(){this.isOpen=!this.isOpen}},{key:"sharingTemplate",value:function(e){var t=e.url,r=e.onShare,n=e.display;if(this.isOpen&&t){var i="plaintext"===n,a=[{name:"LinkedIn",shareUrl:"https://www.linkedin.com/shareArticle?url=".concat(t,"&mini=true")},{name:"Facebook",shareUrl:"https://www.facebook.com/sharer/sharer.php?u=".concat(t)},{name:"Twitter",shareUrl:"https://twitter.com/intent/tweet?url=".concat(t)}].map((function(e){return ze(nfe||(nfe=_(["<li class$='buv-c-social-share-modal__list-item  ","'>\n            <a\n              href='","'\n              title='Share on ","'\n              class='buv-o-link  buv-c-social-share-modal__link'\n              target='_blank'\n              onclick='","'\n            >\n              <span>"," ","</span>\n            </a>\n          </li>"])),i?"buv-c-social-share-modal__list-item--plaintext":"",e.shareUrl,e.name,(function(){r(e.name)}),na("text.share"),e.name)})),o=ze(ife||(ife=_(["<ul class='buv-c-social-share-modal__list'>\n        ","\n      </ul>"])),a);return i?o:ze(afe||(afe=_(["<div class='buv-c-social-share-modal  buv-o-text-12  buv-o-overlay'>\n      ","\n      ","\n    </div>"])),Zle({onClick:this.toggleOpen,className:"buv-c-social-share-modal__close-button"}),o)}}},{key:"sharingButton",value:function(e){var t=e.url;if("plaintext"!==e.display){var r=!!t,n=na(r?"text.shareButton":"text.noShareUrl");return ze(ofe||(ofe=_(["<button \n        onclick='","'\n        class='buv-c-social-share-link  buv-o-button-link'\n        disabled?='","'\n        aria-disabled?='","'\n        title$='","'\n      >\n      <label class='buv-u-visually-hidden'>","</label>\n    </button>"])),this.toggleOpen,!r,!r,n,n)}this.isOpen=!0}},{key:"_render",value:function(e){return ze(sfe||(sfe=_(["\n      ","\n      ","\n      ","\n    "])),cfe,this.sharingButton(e),this.sharingTemplate(e))}}],[{key:"properties",get:function(){return{url:String,isOpen:String,onShare:Function,display:String}}}]),r}(Xe);window.customElements.define("buv-social-share-raw",lfe);var ffe,hfe={onShare:function(e){return function(t,r){var n=nce(r());Vse.events.dispatch("certificate-share",n,{socialNetwork:e}),t({type:"SHARE_SOCIAL_NETWORK"})}}},Afe=Qce((function(e){return ze(ufe||(ufe=_(["\n  <buv-social-share-raw\n    url='","'\n    onShare='","'\n    display='","'\n  ></buv-social-share-raw>"])),e.url,e.onShare,e.display)}),{mapDispatchToProps:hfe,mapStateToProps:function(e){return{url:hce(e)}},ownProps:{display:String}});window.customElements.define("buv-social-share",Afe);var dfe,pfe,vfe,gfe,yfe,mfe,bfe=ze(ffe||(ffe=_(["<style>.buv-c-action-menu{display:flex;align-items:center;padding:0}.buv-c-action-menu-item{flex-basis:30px}</style>"]))),wfe=Qce((function(e){var t=e.allowDownload,r=e.disableDownloadPdf,n=e.allowSocialShare,i=e.showMetadata,a=e.isVisible;return t||!r||n||i||(a=!1),a?ze(dfe||(dfe=_(["\n    ","\n    <menu class='buv-c-action-menu'>\n      ","\n      ","\n      ","\n      ","\n    </menu>\n  "])),bfe,t?ze(pfe||(pfe=_(["\n        <menuitem class='buv-c-action-menu-item'>\n          <buv-download-link></buv-download-link>\n        </menuitem>"]))):"",i?ze(vfe||(vfe=_(["\n        <menuitem class='buv-c-action-menu-item'>\n          <buv-metadata></buv-metadata>\n        </menuitem>"]))):"",r?"":ze(gfe||(gfe=_(["\n        <menuitem class='buv-c-action-menu-item'>\n          <buv-download-pdf-link></buv-download-pdf-link>\n        </menuitem>"]))),n?ze(yfe||(yfe=_(["\n        <menuitem class='buv-c-action-menu-item'>\n          <buv-social-share></buv-social-share>\n        </menuitem>"]))):""):null}),{mapStateToProps:function(e){return{allowDownload:$ce(e),disableDownloadPdf:Zce(e),allowSocialShare:ele(e),showMetadata:tle(e),isVisible:rle(e)===Uce&&!!nce(e)}}});window.customElements.define("buv-action-menu",wfe);var xfe,kfe,_fe,Bfe=ze(mfe||(mfe=_(["<style>.buv-c-verification-modal__process{display:flex;justify-content:space-around}.buv-c-verification-modal__separator{margin-bottom:30px;background-color:rgba(3,21,50,.05);height:1px;border:0 none}.buv-c-verification-modal__content{max-height:100vh;padding-bottom:43px;box-sizing:border-box;overflow:auto}@media only screen and (max-width: 600px){.buv-c-verification-modal__content{max-height:calc(100vh - 120px)}}</style>"]))),Efe=ze(xfe||(xfe=_(["<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>"]))),Sfe=!1,Cfe=!1;function Ife(e){return function(){var t=o(n().mark((function t(r){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"UPLOAD_CERTIFICATE_DEFINITION"}),t.next=3,Vse.certificates.read(e);case 3:i=t.sent,r(fle(JSON.parse(i)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Pfe,Tfe=Qce((function(e){var t=e.onChange,r=void 0===t?function(){}:t,n=e.hideFileUpload;return void 0!==n&&n?null:ze(kfe||(kfe=_(["\n    ","\n    <label for='buv-json-file-upload' class='buv-o-link  buv-o-text-12'>\n      <span class='buv-o-link__text--underline'>","</span>\n      <input\n        type='file'\n        accept='application/json'\n        id='buv-json-file-upload'\n        class='buv-u-visually-hidden'\n        onchange='","'\n      />\n    </label>\n    ",""])),Efe,na("text.fileUpload"),(function(e){r(e.target.files[0])}),(Sfe?Cfe:(Sfe=!0,!("ontouchstart"in document.createElement("div"))&&(Cfe=!0)))?ze(_fe||(_fe=_(['<span class="buv-o-text-12  qa-drag-and-drop-hint">',"</span>"])),na("text.dragAndDropHint")):"")}),{mapDispatchToProps:{onChange:Ife},mapStateToProps:function(e){return{hideFileUpload:nce(e)}}});function Ofe(){return function(e){e(Jce()),e((function(e){e({type:"RESET_VERIFICATION_STATUS"}),e(Xce(pp.DEFAULT)),e(ule(null))})),e({type:vt,payload:{definition:null}})}}window.customElements.define("buv-file-upload",Tfe);var Lfe,Nfe=ze(Pfe||(Pfe=_(["<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-verify-other-certificate{display:block}</style>"])));var Mfe,Ufe=Qce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,r=void 0===t?function(){}:t,n=e.isVisible,i=void 0!==n&&n;return i?ze(Lfe||(Lfe=_(["\n    ","\n    <a onclick='","' class='buv-o-text-12  buv-o-link  buv-c-verify-other-certificate  buv-qa-verify-other-certificate'>\n      <span class='buv-o-link__text--underline'>","</span>\n    </a>\n  "])),Nfe,r,na("text.verifyOther")):null}),{mapDispatchToProps:{onClick:Ofe},mapStateToProps:function(e){return{isVisible:!!nce(e)}}});window.customElements.define("buv-verify-other-certificate",Ufe);var Ffe,Rfe,Dfe,jfe=ze(Mfe||(Mfe=_(["<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-footer{width:100%;height:60px;background-color:rgba(0,0,0,.1);color:#031532;fill:#111;display:flex;justify-content:space-between;align-items:center;padding:0 30px;box-sizing:border-box}.buv-c-footer a{line-height:1}.buv-c-footer--dark{color:#fff;fill:#fff}.buv-c-footer--forced{position:absolute;bottom:0;left:0;margin-top:0;justify-content:flex-end}</style>"]))),Qfe=Qce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forceInPlace,r=void 0!==t&&t,n=e.interactive,i=void 0!==n&&n,a=e.theme,o=["buv-c-footer",r?"buv-c-footer--forced":"",a===Rce?"buv-c-footer--dark":""].join(" ");return ze(Ffe||(Ffe=_(["\n  ","\n  <footer class$='","'>\n    ","\n    ","\n  </footer>"])),jfe,o,i?ze(Rfe||(Rfe=_(["<section>\n      <buv-file-upload></buv-file-upload>\n      <buv-verify-other-certificate></buv-verify-other-certificate>\n    </section>"]))):"",aa())}),{mapStateToProps:function(e){return{theme:nle(e)}},ownProps:{forceInPlace:Boolean,interactive:Boolean}});window.customElements.define("buv-footer",Qfe);var Hfe,Kfe,Vfe=ze(Dfe||(Dfe=_(["<style>.buv-o-overlay{z-index:100;box-shadow:0 0 30px rgba(0,0,0,.25);background-color:#fff}.buv-c-modal{position:fixed;width:100%;height:100%;background-color:rgba(3,21,50,.7);top:0;left:0;z-index:1000}.buv-c-modal.is-hidden{display:none}.buv-c-modal__content{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:100vw;min-width:300px;max-width:600px;min-height:calc(600px - 50px);padding:49px 38px 98px;box-sizing:border-box}@media only screen and (max-width: 600px){.buv-c-modal__content{height:100vh;min-height:100vh;top:0;left:0;transform:none}}.buv-c-modal__close-button{top:25px;right:25px}</style>"]))),zfe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.call(this)).isOpen=!1,e.handleClick=e.handleClick.bind(m(e)),e}return c(r,[{key:"close",value:function(){this.isOpen=!1}},{key:"handleClick",value:function(){this.close(),this._props.onClose()}},{key:"_propertiesChanged",value:function(e,t,n){this._props=e,k(h(r.prototype),"_propertiesChanged",this).call(this,e,t,n)}},{key:"_render",value:function(){var e=["buv-c-modal","buv-qa-modal",this.isOpen?"":"is-hidden"].join(" ");return ze(Hfe||(Hfe=_(["\n      ","\n      <div class$='","' onclick='","'>\n        <div class='buv-c-modal__content  buv-o-overlay' onclick='","'>\n          ","\n          <slot></slot>\n        </div>  \n      </div>\n    "])),Vfe,e,this.handleClick,(function(e){e.stopPropagation()}),Zle({className:"buv-c-modal__close-button",onClick:this.handleClick}))}}],[{key:"properties",get:function(){return{isOpen:Boolean,onClose:Function}}}]),r}(Xe);window.customElements.define("buv-modal",zfe);var qfe,Gfe,Wfe,Jfe,Xfe,Yfe,$fe=ze(Kfe||(Kfe=_(['<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}</style>'],['<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}</style>']))),Zfe=ze(qfe||(qfe=_(["<style>.buv-c-error-message{background:rgba(208,2,27,.1);border-radius:2px;letter-spacing:.05px;padding:10px}.buv-c-error-message--solid{background:#fff;border-radius:2px 2px 0 0;margin:0}.buv-c-error-message-title{color:#d0021b;font-weight:bold;display:block;margin-bottom:5px;font-size:15px}</style>"])));function ehe(e){return function(e){return e.indexOf(".")>-1&&-1===e.indexOf(" ")}(e)?na(e):e}function the(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return null;var r=["buv-c-error-message","buv-qa-error-message",t?"buv-c-error-message--solid":""].join(" ");return ze(Gfe||(Gfe=_(["\n    ","\n    <p class$='","'>\n      <span class='buv-c-error-message-title'>","</span>\n      ","\n    </p>"])),Zfe,r,na("errors.errorLabel"),ehe(e))}function rhe(e){var t=e.label;e.code;var r,n=e.status,i=e.errorMessage,a=e.isParent,o=e.isFirst,s=e.isTestChain,u=["buv-o-text-15","buv-c-verification-step","buv-c-badge",o?"is-first":"","is-".concat(n),s?"is-test":""].join(" ");return r=a?ze(Wfe||(Wfe=_(["","<dt class$='","'>","</dt>"])),$fe,u,t):ze(Jfe||(Jfe=_(["","<dd class='buv-c-verification-step  buv-c-verification-substep  buv-o-text-12'>\n      ","\n      ","\n    </dd>"])),$fe,t,the(i)),ze(Xfe||(Xfe=_(["",""])),r)}var nhe,ihe,ahe,ohe=ze(Yfe||(Yfe=_(['<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}.buv-c-final-verification-step{white-space:nowrap;opacity:0;position:relative;font-weight:600;font-size:15px;color:#031532;margin-top:15px}.buv-c-final-verification-step.is-success{font-size:21px;color:#2ab27b;line-height:19px}.buv-c-final-verification-step--standalone{margin-top:0}.buv-c-final-verification-step.is-test,.buv-c-final-verification-step--standalone.is-success{font-size:15px;color:#031532}.buv-c-final-verification-step.is-failure{font-size:13px;font-weight:400}.buv-c-verification-step__description{margin:0}.buv-c-final-verification-step.is-visible{opacity:1}.buv-c-final-verification-step.is-visible::after{opacity:1}.buv-c-final-verification-step::after{position:absolute;content:"";height:26px;width:23px;left:-37px;top:-3px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjAgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iVmVyaWZpY2F0aW9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI1NC4wMDAwMDAsIC00NzQuMDAwMDAwKSIgZmlsbD0iIzJBQjI3QiI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ4LjAwMDAwMCwgNDY5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LDUgTDYsOS4xODE4MTgxOCBMNiwxNS40NTQ1NDU1IEM2LDIxLjI1NjgxODIgMTAuMjY2NjY2NywyNi42ODI3MjczIDE2LDI4IEMyMS43MzMzMzMzLDI2LjY4MjcyNzMgMjYsMjEuMjU2ODE4MiAyNiwxNS40NTQ1NDU1IEwyNiw5LjE4MTgxODE4IEwxNiw1IEwxNiw1IFogTTksMTcuNzUzNzE1NSBMMTAuNTI3NSwxNi4yNTY5MDAyIEwxMy4zMzMzMzMzLDE4Ljk5NTc1MzcgTDIwLjQ3MjUsMTIgTDIyLDEzLjUwNzQzMSBMMTMuMzMzMzMzMywyMiBMOSwxNy43NTM3MTU1IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=");background-repeat:no-repeat;background-position:center;background-size:contain;z-index:3}.buv-c-final-verification-step.is-test::after{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4IiBmaWxsPSIjRjVBNjIzIj48cGF0aCBkPSJNLjUgMTZoMTdMOSAxIC41IDE2em05LjUtMkg4di0yaDJ2MnptMC0zSDhWN2gydjR6Ii8+PC9zdmc+IA==")}.buv-c-final-verification-step.is-failure::after{content:"\\\\274C";font-size:17px;top:-1px;color:#d0021b;background:none}.buv-c-final-verification-step--standalone-wrapper{padding:10px;box-sizing:border-box;border-left:3px solid}.buv-c-final-verification-step--standalone-wrapper.is-success{background-color:rgba(42,178,123,.1);border-color:#2ab27b}.buv-c-final-verification-step--standalone-wrapper.is-failure{background-color:rgba(208,2,27,.1);border-color:#d0021b}.buv-c-final-verification-step--standalone-wrapper.is-test{background-color:rgba(245,166,35,.1);border-color:#f5a623}.buv-c-final-verification-step--standalone{margin:0 0 5px 30px;white-space:unset}.buv-c-final-verification-step--standalone.is-failure{margin-bottom:0}.buv-c-final-verification-step--standalone::after{left:-30px}.buv-c-verification-substep.is-final{display:none;line-height:1.35}.buv-c-verification-substep.is-final.is-visible{display:block}.buv-c-verification-substep::after{display:none}.buv-u-excluded-from-flow{position:absolute}.buv-u-full-width{width:100%}</style>'],['<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}.buv-c-final-verification-step{white-space:nowrap;opacity:0;position:relative;font-weight:600;font-size:15px;color:#031532;margin-top:15px}.buv-c-final-verification-step.is-success{font-size:21px;color:#2ab27b;line-height:19px}.buv-c-final-verification-step--standalone{margin-top:0}.buv-c-final-verification-step.is-test,.buv-c-final-verification-step--standalone.is-success{font-size:15px;color:#031532}.buv-c-final-verification-step.is-failure{font-size:13px;font-weight:400}.buv-c-verification-step__description{margin:0}.buv-c-final-verification-step.is-visible{opacity:1}.buv-c-final-verification-step.is-visible::after{opacity:1}.buv-c-final-verification-step::after{position:absolute;content:"";height:26px;width:23px;left:-37px;top:-3px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjAgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iVmVyaWZpY2F0aW9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI1NC4wMDAwMDAsIC00NzQuMDAwMDAwKSIgZmlsbD0iIzJBQjI3QiI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ4LjAwMDAwMCwgNDY5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LDUgTDYsOS4xODE4MTgxOCBMNiwxNS40NTQ1NDU1IEM2LDIxLjI1NjgxODIgMTAuMjY2NjY2NywyNi42ODI3MjczIDE2LDI4IEMyMS43MzMzMzMzLDI2LjY4MjcyNzMgMjYsMjEuMjU2ODE4MiAyNiwxNS40NTQ1NDU1IEwyNiw5LjE4MTgxODE4IEwxNiw1IEwxNiw1IFogTTksMTcuNzUzNzE1NSBMMTAuNTI3NSwxNi4yNTY5MDAyIEwxMy4zMzMzMzMzLDE4Ljk5NTc1MzcgTDIwLjQ3MjUsMTIgTDIyLDEzLjUwNzQzMSBMMTMuMzMzMzMzMywyMiBMOSwxNy43NTM3MTU1IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=");background-repeat:no-repeat;background-position:center;background-size:contain;z-index:3}.buv-c-final-verification-step.is-test::after{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4IiBmaWxsPSIjRjVBNjIzIj48cGF0aCBkPSJNLjUgMTZoMTdMOSAxIC41IDE2em05LjUtMkg4di0yaDJ2MnptMC0zSDhWN2gydjR6Ii8+PC9zdmc+IA==")}.buv-c-final-verification-step.is-failure::after{content:"\\\\\\\\274C";font-size:17px;top:-1px;color:#d0021b;background:none}.buv-c-final-verification-step--standalone-wrapper{padding:10px;box-sizing:border-box;border-left:3px solid}.buv-c-final-verification-step--standalone-wrapper.is-success{background-color:rgba(42,178,123,.1);border-color:#2ab27b}.buv-c-final-verification-step--standalone-wrapper.is-failure{background-color:rgba(208,2,27,.1);border-color:#d0021b}.buv-c-final-verification-step--standalone-wrapper.is-test{background-color:rgba(245,166,35,.1);border-color:#f5a623}.buv-c-final-verification-step--standalone{margin:0 0 5px 30px;white-space:unset}.buv-c-final-verification-step--standalone.is-failure{margin-bottom:0}.buv-c-final-verification-step--standalone::after{left:-30px}.buv-c-verification-substep.is-final{display:none;line-height:1.35}.buv-c-verification-substep.is-final.is-visible{display:block}.buv-c-verification-substep::after{display:none}.buv-u-excluded-from-flow{position:absolute}.buv-u-full-width{width:100%}</style>'])));function she(e,t){return e.description?ze(nhe||(nhe=_(["<p class='buv-c-verification-step__description  buv-qa-final-step-description'>","</p>"])),e.description.replace("${chain}",t)):""}function uhe(e){return e.verificationStatus}function che(e,t){const r=bce(e).find((e=>"proofVerification"===e.code)).suites?.find((e=>e.proofType===t));return r.subSteps.every((e=>e.status===pp.SUCCESS))?pp.SUCCESS:r.subSteps.some((e=>e.status===pp.FAILURE))?pp.FAILURE:""}function lhe(e){return e.showVerificationModal}var fhe,hhe=Qce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chain,r=void 0===t?"":t,n=e.transactionLink,i=void 0===n?"":n,a=e.isTestChain,o=e.isVisible,s=void 0!==o&&o,u=e.finalStep,c=void 0===u?null:u,l=e.hideLink,f=void 0!==l&&l,h=e.status,A=void 0!==h&&h,d=e.standalone,p=void 0!==d&&d;if(c){var v=[p?"buv-c-final-verification-step--standalone-wrapper":"","is-".concat(A),a?"is-test":""].join(" "),g=["buv-c-final-verification-step","buv-qa-final-verification-step",p?"buv-c-final-verification-step--standalone":"","buv-qa-verification-step",s?"is-visible":"",a?"is-test":"","is-".concat(A),A&&!p?"buv-c-badge  buv-c-badge--large":""].join(" "),y=["buv-c-verification-substep",p?"":"buv-u-excluded-from-flow","buv-u-full-width","buv-o-text-12","is-final",s?"is-visible":""].join(" "),m=c.label,b=she(c,r),w=!f&&c.linkText?ze(ihe||(ihe=_(["<a class='buv-o-link' href='","' hidden?='","'>\n        <span class='buv-o-link__text--underline  buv-qa-transaction-link'>","</span>\n      </a>"])),i,!i,c.linkText):"";return ze(ahe||(ahe=_(["\n    ","\n    <div class$='","'>\n      <dt class$='","'>","</dt>\n      <dd class$='","'>\n        ","\n        ","\n      </dd>\n      <slot></slot>\n    </div>\n  "])),ohe,v,g,m,y,b,w)}}),{mapStateToProps:function(e){return{finalStep:kce(e),chain:gce(e),transactionLink:pce(e),isTestChain:yce(e),status:uhe(e)}},ownProps:{isVisible:Boolean,hideLink:Boolean,standalone:Boolean}});window.customElements.define("buv-final-verification-step",hhe);var Ahe,dhe=ze(fhe||(fhe=_(['<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-c-substeps-list__link::after{content:"";width:0;height:0;border-left:4px solid rgba(0,0,0,0);border-right:4px solid rgba(0,0,0,0);border-bottom:4px solid #768087;display:inline-block;vertical-align:2px;margin:0 6px;-webkit-transition:-webkit-transform .3s ease-in;-o-transition:transform .3s ease-in;transition:transform .3s ease-in}.buv-c-substeps-list__link.is-open::after{transform:rotate(180deg)}.buv-c-substeps-list__list{max-height:0;overflow:scroll;-webkit-transition:max-height .3s ease-in;-o-transition:max-height .3s ease-in;transition:max-height .3s ease-in;padding-left:50px;margin-left:-50px;padding-top:5px}.buv-c-substeps-list__list.is-open{height:auto}.buv-c-substeps-list__list.is-nested{padding-left:60px}</style>'])));window.customElements.define("buv-substeps-list",class extends Xe{isOpen;wasForcedOpen;resetOpen;totalHeight;heightWasReset;isNested;hasNestedList;renderEvent;constructor(){super(),this.isOpen=!1,this.wasForcedOpen=!1,this.resetOpen=!1,this.toggleOpen=this.toggleOpen.bind(this),this.totalHeight=0,this.heightWasReset=!1,this.hasNestedList=!1,this.renderEvent=null}static get properties(){return{subSteps:[],suites:[],isOpen:Boolean,hasError:Boolean,isNested:Boolean}}toggleOpen(){this.wasForcedOpen&&!this.resetOpen&&(this.isOpen=!0,this.resetOpen=!0),this.isOpen=!this.isOpen}_didRender(){if(0===this.totalHeight){const e=this.shadowRoot.querySelectorAll(".buv-js-substeps-list__list")[0],t=e?Array.from(e.childNodes):[];this.totalHeight=t.reduce(((e,t)=>t.getBoundingClientRect?e+t.getBoundingClientRect().height:e),0),this.wasForcedOpen&&!this.heightWasReset&&(e.style.maxHeight=this.totalHeight+"px",this.heightWasReset=!0)}this.isNested&&!this.renderEvent&&(this.renderEvent=new CustomEvent("child-list-rendered",{detail:{childHeight:this.totalHeight},bubbles:!0,composed:!0}),this.dispatchEvent(this.renderEvent))}getRenderableSuites(e){if(!e||!e.length)return[];const t=e.filter((e=>e.subSteps.length>0)).filter((e=>e.subSteps.some((e=>e.status))));return 0===t.length?[]:(this.hasNestedList=t.length>1,this.shadowRoot.addEventListener("child-list-rendered",(e=>{this.totalHeight+=e.detail.childHeight})),t)}renderSuiteTitle(e,t){return 1===t.length?null:ze`<dt class='buv-o-text-12 buv-o-text-bold'>Proof type: ${e.proofType}</dt>`}renderSuites(e,t){if(e)return e.map((r=>ze`
            ${this.renderSuiteTitle(r,e)}
            <buv-substeps-list subSteps='${r.subSteps}' hasError?='${t}' isNested?='${!0}'></buv-substeps-list>`))}_render({subSteps:e=[],suites:t=[],hasError:r=!1,isNested:n=!1}={}){let i=JSON.parse(JSON.stringify(e)),a=this.getRenderableSuites(t);if(1===a.length){i=JSON.parse(JSON.stringify(i)).concat(a[0].subSteps),a=null}this.isNested=n,!this.wasForcedOpen&&r&&(this.isOpen=!0,this.wasForcedOpen=!0);const o=i.filter((e=>e.status)),s=o.length||a.length;if(0===s)return null;const u=`${s} ${na("text","item",!0,s)}`,c=this.isOpen?this.totalHeight:1,l=["buv-o-text-12","buv-o-link","buv-c-substeps-list__link",this.isOpen?"is-open":""].join(" "),f=["buv-c-substeps-list__list","buv-js-substeps-list__list",this.isOpen?"is-open":"",this.hasNestedList?"is-nested":""].join(" ");return ze`
    ${dhe}
    <a title='${na("text.substepsListHint")}' onclick='${this.toggleOpen}' class$='${l}'>
      <span class='buv-o-link__text--underline'>${this.isOpen?na("text.substepsListClose"):u}</span>
    </a>
    <div class$='${f}' style$='max-height: ${c}px'>
      ${o.map((e=>ze`${rhe(e)}`))} 
      ${this.renderSuites(a,r)}
    </div>
    `}});var phe=ze(Ahe||(Ahe=_(["<style>.buv-c-verification-process{position:relative}.buv-c-verification-progress-bar{position:absolute;left:13px;top:0;width:14px;display:flex;flex-direction:column;height:100%}.buv-c-verification-progress-bar__tube{min-height:14px;transition:flex .4s ease-in-out,max-height .4s ease-in;background-color:#2ab27b;border-radius:7px;flex-grow:0;opacity:0}.buv-c-verification-progress-bar__tube.has-started{flex-grow:1;opacity:1}.buv-c-verification-progress-bar__tube.is-test{background-color:#d8d8d8}.buv-c-verification-progress-bar__tube.has-errored{background-color:#d0021b}.buv-c-verification-progress-bar.no-transition{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.buv-c-verification-process__step-list{padding-left:46px;margin-top:0}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>"])));window.customElements.define("buv-verification-process-raw",class extends Xe{listElement;static get properties(){return{steps:[],transactionLink:String,hasError:Boolean,isTestChain:Boolean}}verificationInProgressTemplate(){return ze`
        <span class='buv-u-visually-hidden'>${na("text.verificationStepProgress")}</span>
        <svg width='20' height='7' viewBox='0 0 120 30' xmlns='http://www.w3.org/2000/svg'><circle cx='15' cy='15' r='15'><animate attributeName='r' from='15' to='15' begin='0s' dur='0.8s' values='15;9;15' calcMode='linear' repeatCount='indefinite'/><animate attributeName='fill-opacity' from='1' to='1' begin='0s' dur='0.8s' values='1;.5;1' calcMode='linear' repeatCount='indefinite'/></circle><circle cx='60' cy='15' r='9' fill-opacity=''.9'><animate attributeName='r' from='9' to='9' begin='0s' dur='0.8s' values='9;15;9' calcMode='linear' repeatCount='indefinite'/><animate attributeName='fill-opacity' from=''.5' to='.5' begin='0s' dur='0.8s' values='.5;1;.5' calcMode='linear' repeatCount='indefinite'/></circle><circle cx='105' cy='15' r='15'><animate attributeName='r' from='15' to='15' begin='0s' dur='0.8s' values='15;9;15' calcMode='linear' repeatCount='indefinite'/><animate attributeName='fill-opacity' from='1' to='1' begin='0s' dur='0.8s' values='1;.5;1' calcMode='linear' repeatCount='indefinite'/></circle></svg>
    `}_didRender(){this.listElement||(this.listElement=this.shadowRoot.querySelectorAll(".buv-js-verification-process__step-list")[0])}_render({steps:e,transactionLink:t,hasError:r,isTestChain:n}){const i=e.filter((e=>e.status!==pp.DEFAULT)).map(((e,t)=>ze`
        ${rhe({...e,isParent:!0,isFirst:0===t,isTestChain:n})}
        ${e.status===pp.STARTING?ze`${this.verificationInProgressTemplate()}`:ze`<buv-substeps-list subSteps='${e.subSteps}' suites='${e.suites}' hasError?='${r}'></buv-substeps-list>`}
    `)),a=["buv-c-verification-progress-bar__tube","buv-qa-verification-progress-bar__tube",r?"has-errored":"",n?"is-test":"",i.length?"has-started":""].join(" ");let o=`${this.listElement?this.listElement.getBoundingClientRect().height:0}px`;const s=e.every((e=>e.status===pp.SUCCESS))||e.some((e=>e.status===pp.FAILURE));return s&&(o="100%"),ze`
    ${phe}
    <section class='buv-c-verification-process'>
      <div class='buv-c-verification-progress-bar' >
        <div class$='${a}' style$='max-height: ${o}'></div>
      </div>  
      <dl class='buv-c-verification-process__step-list  buv-js-verification-process__step-list'>
        ${i}
        <buv-final-verification-step isVisible='${s&&!r}'></buv-final-verification-step>
      </dl>
    </section>
  `}});var vhe,ghe=Qce((function({steps:e,transactionLink:t,hasError:r,isTestChain:n}){return ze`<buv-verification-process-raw
    steps='${e}'
    hasError?='${r}'
    isTestChain?='${n}'
    style='max-width: 100%;'
    ></buv-verification-process-raw>`}),{mapStateToProps:function(e){return{steps:JSON.parse(JSON.stringify(bce(e))),isTestChain:yce(e),hasError:xce(e)}}});window.customElements.define("buv-verification-process",ghe);var yhe,mhe=Qce((function(e){var t=e.isOpen,r=e.onClose;return ze(vhe||(vhe=_(["\n    ","\n    <buv-modal isOpen?='","' onClose='","'>\n      <div class='buv-c-verification-modal__content'>\n        <buv-card-certificate class='buv-c-verification-modal__certificate' hideRecordLink hideVerifyButton></buv-card-certificate>\n        <hr class='buv-c-verification-modal__separator'/>\n        <buv-verification-process class='buv-c-verification-modal__process'></buv-verification-process>\n      </div>\n      <buv-footer forceInPlace></buv-footer>\n    </buv-modal>\n  "])),Bfe,t,r)}),{mapDispatchToProps:{onClose:lle.bind(null,!1)},mapStateToProps:function(e){return{isOpen:lhe(e)}}});window.customElements.define("buv-verification-modal",mhe);var bhe,whe,xhe=ze(yhe||(yhe=_(["<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-drag-and-drop__droparea{z-index:100;background-color:rgba(0,0,0,.1);display:none;position:absolute;top:0;left:0;width:100%;height:100%}.buv-c-drag-and-drop__droparea.is-active{display:block}</style>"])));var khe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.call(this)).isDraggedOver=!1,e.denyDrop=!1,e.handleDragEnter=e.handleDragEnter.bind(m(e)),e.handleDragOver=e.handleDragOver.bind(m(e)),e.handleDragLeave=e.handleDragLeave.bind(m(e)),e.handleDrop=e.handleDrop.bind(m(e)),e}return c(r,[{key:"handleDragEnter",value:function(){this.isDraggedOver=!0}},{key:"handleDragOver",value:function(e){e.preventDefault()}},{key:"handleDragLeave",value:function(){this.isDraggedOver=!1}},{key:"handleDrop",value:function(e){e.preventDefault(),this.isDraggedOver=!1;var t=e.dataTransfer.files[0];this.denyDrop=!function(e){var t=e.name;return"json"===t.substr(t.length-4,4)}(t),this.denyDrop||this._props.onDrop(t)}},{key:"_propertiesChanged",value:function(e,t,n){this._props=e,k(h(r.prototype),"_propertiesChanged",this).call(this,e,t,n)}},{key:"_render",value:function(){var e=["buv-c-drag-and-drop__droparea",this.isDraggedOver?"is-active":""].join(" "),t=this.denyDrop?na("errors.invalidFormatDragAndDrop"):"";return ze(bhe||(bhe=_(["\n    ","\n    <div ondragenter='","'>\n      <div class$='","'\n        ondragover='","'\n        ondragleave='","'\n        ondrop='","'\n      ></div>\n      <span>","</span>\n      <slot></slot>\n    </div>"])),xhe,this.handleDragEnter,e,this.handleDragOver,this.handleDragLeave,this.handleDrop,t)}}],[{key:"properties",get:function(){return{isDraggedOver:Boolean,denyDrop:Boolean,onDrop:Function}}}]),r}(Xe);window.customElements.define("buv-drag-and-drop-raw",khe);var _he,Bhe=Qce((function(e){return ze(whe||(whe=_(["\n  <buv-drag-and-drop-raw\n    onDrop='","'\n  >\n  <slot></slot>\n</buv-drag-and-drop-raw>"])),e.onDrop)}),{mapDispatchToProps:{onDrop:Ife}});window.customElements.define("buv-drag-and-drop",Bhe);var Ehe,She,Che,Ihe,Phe,The,Ohe,Lhe=ze(_he||(_he=_(['<style>.buv-c-verifier-main{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:#031532;position:relative}.buv-c-verifier-layout{display:flex;flex-direction:column}.buv-c-verifier-body{background-color:#fff;flex-grow:1}.buv-c-verifier-body--padded{padding:20px}</style>']))),Nhe=ze(Ehe||(Ehe=_(['<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-card{position:relative;display:flex;margin-bottom:20px}.buv-c-card__img-wrapper{margin-right:1.5vw;min-width:50px;width:20%}.buv-c-card__img{max-width:100%;max-height:100%}.buv-c-card__title-wrapper{display:flex;flex-direction:column;justify-content:center}.buv-c-card__download-button{margin-top:10px}.buv-c-card__title{font-size:calc(16px + .5vw);margin-top:0;margin-bottom:0;font-weight:400;padding-right:100px}.buv-c-card__title--no-padding{padding:0}.buv-c-card__recipient{font-weight:600;margin:6px 0 12px}.buv-c-card__record-link{position:absolute;top:0;right:0;line-height:30px}.buv-c-card__record-link::after{content:"";border:solid currentColor;border-width:0 2px 2px 0;width:5px;height:5px;transform:rotate(-45deg);font-weight:bold;display:inline-block;margin-left:5px}.buv-c-card__verify-button{float:right}@media only screen and (max-width: 600px){.buv-c-card__title{font-size:16px}.buv-c-card__recipient{margin:6px 0}.buv-c-card__img-wrapper{margin-right:18px}}</style>'])));var Mhe=Qce((function(e){var t=e.hasCertificateDefinition,r=e.recipientName,n=e.certificateTitle,i=e.issuedOn,a=e.issueDate,o=e.issuerName,s=e.recordLink,u=e.hideVerifyButton,c=e.disableDownloadPdf,l=e.hideRecordLink;if(!t)return null;s||l||(l=!0);var f=["buv-c-card__title",l?"buv-c-card__title--no-padding":""].join(" ");return ze(Ihe||(Ihe=_(["\n      ","\n      <section class='buv-c-card'>\n        <div class='buv-c-card__img-wrapper'>\n          ","\n        </div>\n        <div class='buv-c-card__title-wrapper'>\n          <h1 class$=",">","</h1>\n          <h2 class$='","  buv-c-card__recipient'>","</h2>\n          <span class='buv-o-text-12'>"," <time datetime$='","'>","</time> "," ","</span>\n          ","\n        </div>\n      ","\n      </section>\n      ","\n    "])),Nhe,function(e){return new Promise((function(t){var r=new Image;r.addEventListener("load",(function(){t(ze(She||(She=_(["<img src='","' alt='","' class='buv-c-card__img'/>"])),e.issuerLogo,e.issuerName))})),r.addEventListener("error",(function(){t(ze(Che||(Che=_(["<p class='buv-o-text-15'>","</p>"])),e.issuerName))})),r.src=e.issuerLogo}))}(e),f,n,f,r,na("text.issued"),i,a,na("text.by"),o,c?"":ze(Phe||(Phe=_(["<div class='buv-c-card__download-button'>\n            <buv-download-pdf-link></buv-download-pdf-link>\n          </div>"]))),l?"":ze(The||(The=_(["<a class='buv-o-text-12  buv-o-link  buv-c-card__record-link  qa-card-record-link' href='","' target='_blank'>\n    <span class='buv-o-link__text--underline'>","</span>\n    </a>"])),s,na("text.viewRecord")),u?"":ze(Ohe||(Ohe=_(["<buv-final-verification-step class='buv-c-fullscreen-certificate__verification-status' isVisible hideLink standalone>\n      <buv-verify-button type='link'>","</buv-verify-button>\n    </buv-final-verification-step>"])),na("text.verifyAgain")))}),{mapStateToProps:function(e){return{hasCertificateDefinition:!!nce(e),recipientName:sce(e),certificateTitle:uce(e),issueDate:oce(e),issuedOn:ace(e),issuerName:cce(e),issuerLogo:lce(e),recordLink:hce(e),disableDownloadPdf:Zce(e)}},ownProps:{hideRecordLink:Boolean,hideVerifyButton:Boolean}});window.customElements.define("buv-card-certificate",Mhe);
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
var Uhe,Fhe,Rhe,Dhe=function(e){return function(e){return e.__litDirective=!0,e}((function(t){var r=document.createElement("template");r.innerHTML=e,t.setValue(document.importNode(r.content,!0))}))},jhe=ze(Uhe||(Uhe=_(["<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate--fixed-width{max-width:460px;min-width:0;margin:0 auto}.buv-c-full-certificate{box-shadow:0 1px 5px rgba(0,0,0,.15);padding:20px;background-color:#fff;display:block;font-family:serif;text-align:center;color:#49555f;font-size:12px;overflow:auto;word-wrap:break-word;height:100vh;max-height:calc(100vh - 150px);line-height:initial}.buv-c-full-certificate section{max-width:100%;padding:0}.buv-c-full-certificate img{max-width:100%;height:auto;width:inherit}@media only screen and (min-width: 640px){.buv-c-full-certificate{font-size:16px}}.buv-c-full-certificate__button{margin-top:15px}.buv-c-full-certificate__details{display:flex;justify-content:space-between;margin-top:15px}.buv-c-full-certificate__details-list{min-width:calc(100% - 190px);width:calc(100% - 105px)}</style>"]))),Qhe=ze(Fhe||(Fhe=_(["<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate-details{display:flex;margin:0;position:relative;padding-bottom:60px}@media only screen and (max-width: 750px){.buv-c-certificate-details{flex-direction:column;padding-bottom:0}}.buv-c-certificate-details--column{flex-direction:column;padding-bottom:0}.buv-c-certificate-details__group{box-sizing:border-box;padding-right:15px;margin-top:15px}.buv-c-certificate-details__group--row{max-width:33%;margin-top:0}@media only screen and (max-width: 750px){.buv-c-certificate-details__group--row{max-width:100%}}.buv-c-certificate-details__title{margin-bottom:5px;text-transform:uppercase;font-weight:600}.buv-c-certificate-details__value{margin:0;word-break:break-all}.buv-c-certificate-details__standalone{position:absolute;bottom:0}@media only screen and (max-width: 750px){.buv-c-certificate-details__standalone{position:initial;margin-top:15px}}.buv-c-certificate-details--inline{display:inline-block;margin:0 0 5px}</style>"]))),Hhe=ze(Rhe||(Rhe=_(['<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}.buv-c-final-verification-step{white-space:nowrap;opacity:0;position:relative;font-weight:600;font-size:15px;color:#031532;margin-top:15px}.buv-c-final-verification-step.is-success{font-size:21px;color:#2ab27b;line-height:19px}.buv-c-final-verification-step--standalone{margin-top:0}.buv-c-final-verification-step.is-test,.buv-c-final-verification-step--standalone.is-success{font-size:15px;color:#031532}.buv-c-final-verification-step.is-failure{font-size:13px;font-weight:400}.buv-c-verification-step__description{margin:0}.buv-c-final-verification-step.is-visible{opacity:1}.buv-c-final-verification-step.is-visible::after{opacity:1}.buv-c-final-verification-step::after{position:absolute;content:"";height:26px;width:23px;left:-37px;top:-3px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjAgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iVmVyaWZpY2F0aW9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI1NC4wMDAwMDAsIC00NzQuMDAwMDAwKSIgZmlsbD0iIzJBQjI3QiI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ4LjAwMDAwMCwgNDY5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LDUgTDYsOS4xODE4MTgxOCBMNiwxNS40NTQ1NDU1IEM2LDIxLjI1NjgxODIgMTAuMjY2NjY2NywyNi42ODI3MjczIDE2LDI4IEMyMS43MzMzMzMzLDI2LjY4MjcyNzMgMjYsMjEuMjU2ODE4MiAyNiwxNS40NTQ1NDU1IEwyNiw5LjE4MTgxODE4IEwxNiw1IEwxNiw1IFogTTksMTcuNzUzNzE1NSBMMTAuNTI3NSwxNi4yNTY5MDAyIEwxMy4zMzMzMzMzLDE4Ljk5NTc1MzcgTDIwLjQ3MjUsMTIgTDIyLDEzLjUwNzQzMSBMMTMuMzMzMzMzMywyMiBMOSwxNy43NTM3MTU1IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=");background-repeat:no-repeat;background-position:center;background-size:contain;z-index:3}.buv-c-final-verification-step.is-test::after{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4IiBmaWxsPSIjRjVBNjIzIj48cGF0aCBkPSJNLjUgMTZoMTdMOSAxIC41IDE2em05LjUtMkg4di0yaDJ2MnptMC0zSDhWN2gydjR6Ii8+PC9zdmc+IA==")}.buv-c-final-verification-step.is-failure::after{content:"\\\\274C";font-size:17px;top:-1px;color:#d0021b;background:none}.buv-c-final-verification-step--standalone-wrapper{padding:10px;box-sizing:border-box;border-left:3px solid}.buv-c-final-verification-step--standalone-wrapper.is-success{background-color:rgba(42,178,123,.1);border-color:#2ab27b}.buv-c-final-verification-step--standalone-wrapper.is-failure{background-color:rgba(208,2,27,.1);border-color:#d0021b}.buv-c-final-verification-step--standalone-wrapper.is-test{background-color:rgba(245,166,35,.1);border-color:#f5a623}.buv-c-final-verification-step--standalone{margin:0 0 5px 30px;white-space:unset}.buv-c-final-verification-step--standalone.is-failure{margin-bottom:0}.buv-c-final-verification-step--standalone::after{left:-30px}.buv-c-verification-substep.is-final{display:none;line-height:1.35}.buv-c-verification-substep.is-final.is-visible{display:block}.buv-c-verification-substep::after{display:none}.buv-u-excluded-from-flow{position:absolute}.buv-u-full-width{width:100%}.buv-c-suite-verification-status{margin-left:30px;font-weight:400}.buv-c-suite-verification-status.is-visible{font-size:13px}.buv-c-suite-verification-status.is-visible::after{width:20px;height:20px;left:-28px}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>'],['<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}.buv-c-final-verification-step{white-space:nowrap;opacity:0;position:relative;font-weight:600;font-size:15px;color:#031532;margin-top:15px}.buv-c-final-verification-step.is-success{font-size:21px;color:#2ab27b;line-height:19px}.buv-c-final-verification-step--standalone{margin-top:0}.buv-c-final-verification-step.is-test,.buv-c-final-verification-step--standalone.is-success{font-size:15px;color:#031532}.buv-c-final-verification-step.is-failure{font-size:13px;font-weight:400}.buv-c-verification-step__description{margin:0}.buv-c-final-verification-step.is-visible{opacity:1}.buv-c-final-verification-step.is-visible::after{opacity:1}.buv-c-final-verification-step::after{position:absolute;content:"";height:26px;width:23px;left:-37px;top:-3px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjAgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iVmVyaWZpY2F0aW9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI1NC4wMDAwMDAsIC00NzQuMDAwMDAwKSIgZmlsbD0iIzJBQjI3QiI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ4LjAwMDAwMCwgNDY5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LDUgTDYsOS4xODE4MTgxOCBMNiwxNS40NTQ1NDU1IEM2LDIxLjI1NjgxODIgMTAuMjY2NjY2NywyNi42ODI3MjczIDE2LDI4IEMyMS43MzMzMzMzLDI2LjY4MjcyNzMgMjYsMjEuMjU2ODE4MiAyNiwxNS40NTQ1NDU1IEwyNiw5LjE4MTgxODE4IEwxNiw1IEwxNiw1IFogTTksMTcuNzUzNzE1NSBMMTAuNTI3NSwxNi4yNTY5MDAyIEwxMy4zMzMzMzMzLDE4Ljk5NTc1MzcgTDIwLjQ3MjUsMTIgTDIyLDEzLjUwNzQzMSBMMTMuMzMzMzMzMywyMiBMOSwxNy43NTM3MTU1IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=");background-repeat:no-repeat;background-position:center;background-size:contain;z-index:3}.buv-c-final-verification-step.is-test::after{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4IiBmaWxsPSIjRjVBNjIzIj48cGF0aCBkPSJNLjUgMTZoMTdMOSAxIC41IDE2em05LjUtMkg4di0yaDJ2MnptMC0zSDhWN2gydjR6Ii8+PC9zdmc+IA==")}.buv-c-final-verification-step.is-failure::after{content:"\\\\\\\\274C";font-size:17px;top:-1px;color:#d0021b;background:none}.buv-c-final-verification-step--standalone-wrapper{padding:10px;box-sizing:border-box;border-left:3px solid}.buv-c-final-verification-step--standalone-wrapper.is-success{background-color:rgba(42,178,123,.1);border-color:#2ab27b}.buv-c-final-verification-step--standalone-wrapper.is-failure{background-color:rgba(208,2,27,.1);border-color:#d0021b}.buv-c-final-verification-step--standalone-wrapper.is-test{background-color:rgba(245,166,35,.1);border-color:#f5a623}.buv-c-final-verification-step--standalone{margin:0 0 5px 30px;white-space:unset}.buv-c-final-verification-step--standalone.is-failure{margin-bottom:0}.buv-c-final-verification-step--standalone::after{left:-30px}.buv-c-verification-substep.is-final{display:none;line-height:1.35}.buv-c-verification-substep.is-final.is-visible{display:block}.buv-c-verification-substep::after{display:none}.buv-u-excluded-from-flow{position:absolute}.buv-u-full-width{width:100%}.buv-c-suite-verification-status{margin-left:30px;font-weight:400}.buv-c-suite-verification-status.is-visible{font-size:13px}.buv-c-suite-verification-status.is-visible::after{width:20px;height:20px;left:-28px}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>'])));const Khe=Qce((function({isTestChain:e,status:t}){const r=["buv-c-final-verification-step","buv-c-suite-verification-status","is-visible",`is-${t}`,e?"is-test":""].join(" "),n=function(e,t){let r="signatureStatusSuccess";return e&&(r="signatureStatusTestSuccess"),t===pp.FAILURE&&(r="signatureStatusFailure"),na("text",r)}(e,t);return ze`
      ${Hhe}
      <a class$='${r}' title$='${n}'>
          <span class='buv-u-visually-hidden'>${n}</span>
          <slot></slot>
      </a>
  `}),{mapStateToProps:(e,t)=>({isTestChain:mce(e,parseInt(t.index,10)),status:che(e,t.suiteType)}),ownProps:{suiteType:String,index:String}});window.customElements.define("buv-suite-verification-status",Khe);const Vhe=Qce((function({recipientName:e,issuedOn:t,issueDate:r,issuerName:n,issuerProfileDomain:i=[],issuerProfileUrl:a=[],issuerPublicKey:o=[],transactionId:s=[],direction:u,hideRecipientName:c,signatureSuiteType:l=[]}){const f=[];c||f.push({title:na("text.recipient"),value:e}),f.push({title:na("text.issueDate"),value:ze`<time datetime$='${t}'>${r}</time>`},{title:na("text.issuerName"),value:n||na("errors.noIssuerName")});for(let e=0;e<o.length;e++){let t="";o.length>1&&(t=`${sa(e+1)} `),l[e]&&f.push({title:`${t}${na("text.signatureSuiteType")}`,value:ze`<buv-suite-verification-status suiteType$='${l[e]}' index$='${e}'>
            ${l[e]}
        </buv-suite-verification-status>`}),i[e]&&f.push({title:`${t}${na("text.issuerProfileDomain")}`,value:ze`<a href$='${a[e]}' target="_blank">${i[e]}</a>`}),o[e]&&f.push({title:`${t}${na("text.issuerPublicKey")}`,value:o[e]}),s[e]&&f.push({title:`${t}${na("text.transactionId")}`,value:s[e]})}const h="column"===u,A=f.map((e=>function({title:e,value:t,isDisplayColumn:r,renderInline:n=!1}){const i=["buv-c-certificate-details__group",r?"":"buv-c-certificate-details__group--row"].join(" "),a=["buv-c-certificate-details__title",r?"":"buv-o-text-11"].join(" "),o=["buv-c-certificate-details__value",n?"buv-c-certificate-details--inline":""].join(" ");return ze`<div class$='${i}'>
    <dt class$='${a}'>${e}</dt>
    <dd class$='${o}'>${t}</dd>
  </div>`}({...e,isDisplayColumn:h}))),d=["buv-c-certificate-details","buv-o-text-13",h?"buv-c-certificate-details--column":""].join(" ");return ze`
    ${Qhe}
    <dl class$='${d}'>
        ${A}
    </dl>
  `}),{mapStateToProps:e=>({recipientName:sce(e),issueDate:oce(e),issuedOn:ace(e),issuerName:cce(e),transactionId:vce(e),issuerPublicKey:_ce(e),issuerProfileDomain:Ece(e),issuerProfileUrl:Bce(e),signatureSuiteType:Sce(e)}),ownProps:{direction:String,hideRecipientName:Boolean}});var zhe;window.customElements.define("buv-certificate-details",Vhe);var qhe,Ghe,Whe=ze(zhe||(zhe=_(['<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate--fixed-width{max-width:460px;min-width:0;margin:0 auto}.buv-c-full-certificate{box-shadow:0 1px 5px rgba(0,0,0,.15);padding:20px;background-color:#fff;display:block;font-family:serif;text-align:center;color:#49555f;font-size:12px;overflow:auto;word-wrap:break-word;height:100vh;max-height:calc(100vh - 150px);line-height:initial}.buv-c-full-certificate section{max-width:100%;padding:0}.buv-c-full-certificate img{max-width:100%;height:auto;width:inherit}@media only screen and (min-width: 640px){.buv-c-full-certificate{font-size:16px}}.buv-c-full-certificate__button{margin-top:15px}.buv-c-full-certificate__details{display:flex;justify-content:space-between;margin-top:15px}.buv-c-full-certificate__details-list{min-width:calc(100% - 190px);width:calc(100% - 105px)}.buv-c-full-certificate .buv-c-full-certificate-img{max-width:125px;max-height:125px}.buv-c-full-certificate__titles::before,.buv-c-full-certificate__titles::after{content:" ";display:block;background-color:#edf1f4;width:30%;text-align:center;margin:20px auto;height:2px}.buv-c-full-certificate__title{font-weight:normal;margin:0}.buv-c-full-certificate__title--name{color:#000;font-size:30px;margin-bottom:10px}.buv-c-full-certificate__title--main{font-size:21px;margin-bottom:10px}.buv-c-full-certificate__title--sub{font-size:16px;font-style:italic}.buv-c-full-certificate__description{margin:0 0 40px;line-height:1.5}.buv-c-full-certificate-signatures{list-style-type:none;display:flex;justify-content:space-around;width:100%;margin:0 0 20px;padding:0}.buv-c-full-certificate-signatures__signature{margin-right:30px;display:flex;flex-direction:column;justify-content:center}.buv-c-full-certificate-signatures__signature:last-child{margin:0}.buv-c-full-certificate-img--secondary{max-width:150px;max-height:150px}</style>'])));var Jhe=Qce((function(e){var t=e.hasCertificateDefinition,r=e.certificateImage,n=e.certificateTitle,i=e.certificateSeal,a=e.certificateSignatures,o=e.certificateSubtitle,s=e.certificateDescription,u=e.recipientName,c=e.issuerName;if(!t)return null;var l=a.map((function(e){return ze(qhe||(qhe=_(["\n    <li class='buv-c-full-certificate-signatures__signature'>\n        <img class='buv-c-full-certificate-img--secondary' src='","' alt='"," ","'/>\n        <span class='buv-o-text-12'>","</span>\n    </li>\n  "])),e.image,na("text.signed"),e.jobTitle,e.jobTitle)}));return ze(Ghe||(Ghe=_(["\n    ","\n    <section class='buv-c-full-certificate'>\n      <img class='buv-c-full-certificate-img' src='","' alt='","'/>\n      <div class='buv-c-full-certificate__titles'>\n        <h1 class='buv-c-full-certificate__title  buv-c-full-certificate__title--name'>","</h1>\n        <h2 class='buv-c-full-certificate__title  buv-c-full-certificate__title--main'>","</h2>\n        <h3 class='buv-c-full-certificate__title  buv-c-full-certificate__title--sub'>","</h3>\n      </div>\n      <p class='buv-c-full-certificate__description'>","</p>\n      <ul class='buv-c-full-certificate-signatures'>\n        ","\n      </ul>\n      <img class='buv-c-full-certificate-img--secondary' src='","' alt='"," ","'/>\n    </section>\n  "])),Whe,r,n,u,n,o,s,l,i,na("text.certified"),c)}),{mapStateToProps:function(e){return{hasCertificateDefinition:!!nce(e),certificateImage:Ice(e),certificateTitle:uce(e),certificateSubtitle:Pce(e),certificateDescription:Tce(e),certificateSeal:Lce(e),certificateSignatures:Oce(e),recipientName:sce(e),issuerName:cce(e)}}});function Xhe(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Yhe(e,t){for(var r=e.length-1;r>=0;r--)!0===t(e[r])&&e.splice(r,1)}function $he(e){throw new Error("Unhandled case for value: '".concat(e,"'"))}window.customElements.define("buv-full-certificate-v1",Jhe);var Zhe=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,r=this.getClass(),n=this.whitespaceRegex,i=r?r.split(n):[],a=e.split(n);t=a.shift();)-1===Xhe(i,t)&&i.push(t);return this.getAttrs().class=i.join(" "),this},e.prototype.removeClass=function(e){for(var t,r=this.getClass(),n=this.whitespaceRegex,i=r?r.split(n):[],a=e.split(n);i.length&&(t=a.shift());){var o=Xhe(i,t);-1!==o&&i.splice(o,1)}return this.getAttrs().class=i.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+'="'+e[r]+'"');return t.join(" ")},e}();var eAe=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new Zhe({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},r=this.createCssClass(e);return r&&(t.class=r),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var r=[t],n=e.getCssClassSuffixes(),i=0,a=n.length;i<a;i++)r.push(t+"-"+n[i]);return r.join(" ")}return""},e.prototype.processAnchorText=function(e){return e=this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var r=t.length,n=t.location;return"smart"===n?function(e,t,r){var n,i;null==r?(r="&hellip;",i=3,n=8):(i=r.length,n=r.length);var a=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},o=function(e,t){var n=t/2,i=Math.ceil(n),a=-1*Math.floor(n),o="";return a<0&&(o=e.substr(a)),e.substr(0,i)+r+o};if(e.length<=t)return e;var s=t-i,u=function(e){var t={},r=e,n=r.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],r=r.substr(n[0].length)),(n=r.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=n[1],r=r.substr(n[0].length)),(n=r.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=n[1],r=r.substr(n[0].length)),(n=r.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=n[1],r=r.substr(n[0].length)),(n=r.match(/^#(.*?)$/i))&&(t.fragment=n[1]),t}(e);if(u.query){var c=u.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(u.query=u.query.substr(0,c[1].length),e=a(u))}if(e.length<=t)return e;if(u.host&&(u.host=u.host.replace(/^www\./,""),e=a(u)),e.length<=t)return e;var l="";if(u.host&&(l+=u.host),l.length>=s)return u.host.length==t?(u.host.substr(0,t-i)+r).substr(0,s+n):o(l,s).substr(0,s+n);var f="";if(u.path&&(f+="/"+u.path),u.query&&(f+="?"+u.query),f){if((l+f).length>=s)return(l+f).length==t?(l+f).substr(0,t):(l+o(f,s-l.length)).substr(0,s+n);l+=f}if(u.fragment){var h="#"+u.fragment;if((l+h).length>=s)return(l+h).length==t?(l+h).substr(0,t):(l+o(h,s-l.length)).substr(0,s+n);l+=h}if(u.scheme&&u.host){var A=u.scheme+"://";if((l+A).length<s)return(A+l).substr(0,t)}if(l.length<=t)return l;var d="";return s>0&&(d=l.substr(-1*Math.floor(s/2))),(l.substr(0,Math.ceil(s/2))+r+d).substr(0,s+n)}(e,r):"middle"===n?function(e,t,r){if(e.length<=t)return e;var n,i;null==r?(r="&hellip;",n=8,i=3):(n=r.length,i=r.length);var a=t-i,o="";return a>0&&(o=e.substr(-1*Math.floor(a/2))),(e.substr(0,Math.ceil(a/2))+r+o).substr(0,a+n)}(e,r):function(e,t,r){return function(e,t,r){var n;return e.length>t&&(null==r?(r="&hellip;",n=3):n=r.length,e=e.substring(0,t-n)+r),e}(e,t,r)}(e,r)},e}(),tAe=function(){function e(e){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.getType()]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),rAe=function(e,t){return rAe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},rAe(e,t)};function nAe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}rAe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var iAe,aAe=function(){return aAe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aAe.apply(this,arguments)},oAe=function(e){function t(t){var r=e.call(this,t)||this;return r.email="",r.email=t.email,r}return nAe(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(tAe),sAe=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="",r.hashtag="",r.serviceName=t.serviceName,r.hashtag=t.hashtag,r}return nAe(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;case"tiktok":return"https://www.tiktok.com/tag/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t}(tAe),uAe=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="twitter",r.mention="",r.mention=t.mention,r.serviceName=t.serviceName,r}return nAe(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),r=this.getServiceName();return r&&t.push(r),t},t}(tAe),cAe=function(e){function t(t){var r=e.call(this,t)||this;return r.number="",r.plusSign=!1,r.number=t.number,r.plusSign=t.plusSign,r}return nAe(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(tAe),lAe=function(e){function t(t){var r=e.call(this,t)||this;return r.url="",r.urlMatchType="scheme",r.protocolUrlMatch=!1,r.protocolRelativeMatch=!1,r.stripPrefix={scheme:!0,www:!0},r.stripTrailingSlash=!0,r.decodePercentEncoding=!0,r.schemePrefixRegex=/^(https?:\/\/)?/i,r.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,r.protocolRelativeRegex=/^\/\//,r.protocolPrepended=!1,r.urlMatchType=t.urlMatchType,r.url=t.url,r.protocolUrlMatch=t.protocolUrlMatch,r.protocolRelativeMatch=t.protocolRelativeMatch,r.stripPrefix=t.stripPrefix,r.stripTrailingSlash=t.stripTrailingSlash,r.decodePercentEncoding=t.decodePercentEncoding,r}return nAe(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")},t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")},t.prototype.stripProtocolRelativePrefix=function(e){return e.replace(this.protocolRelativeRegex,"")},t.prototype.removeTrailingSlash=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}},t}(tAe),fAe=function(e){this.__jsduckDummyDocProp=null,this.tagBuilder=e.tagBuilder},hAe=/[A-Za-z]/,AAe=/[\d]/,dAe=/[\D]/,pAe=/\s/,vAe=/['"]/,gAe=/[\x00-\x1F\x7F]/,yAe=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,mAe=yAe+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,bAe=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,wAe=mAe+bAe,xAe=mAe+bAe,kAe="(?:["+bAe+"]{1,3}\\.){3}["+bAe+"]{1,3}",_Ae="["+xAe+"](?:["+xAe+"\\-]{0,61}["+xAe+"])?",BAe=function(e){return"(?=("+_Ae+"))\\"+e},EAe=function(e){return"(?:"+BAe(e)+"(?:\\."+BAe(e+1)+"){0,126}|"+kAe+")"},SAe=new RegExp("[".concat(xAe,"]")),CAe=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermgensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|travelchannel|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|university|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi||abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|||||||||abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo||||||||||||||aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|duck|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip||||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)/,IAe=new RegExp("[".concat(xAe,"!#$%&'*+/=?^_`{|}~-]")),PAe=new RegExp("^".concat(CAe.source,"$")),TAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPartCharRegex=IAe,t.strictTldRegex=PAe,t}return nAe(t,e),t.prototype.parseMatches=function(e){for(var t=this.tagBuilder,r=this.localPartCharRegex,n=this.strictTldRegex,i=[],a=e.length,o=new OAe,s={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},u=0,c=0,l=o;u<a;){var f=e.charAt(u);switch(c){case 0:h(f);break;case 1:A(e.charAt(u-1),f);break;case 2:d(f);break;case 3:p(f);break;case 4:v(f);break;case 5:g(f);break;case 6:y(f);break;case 7:m(f);break;default:$he(c)}u++}return x(),i;function h(e){"m"===e?b(1):r.test(e)&&b()}function A(e,t){":"===e?r.test(t)?(c=2,l=new OAe(aAe(aAe({},l),{hasMailtoPrefix:!0}))):w():s[e]===t||(r.test(t)?c=2:"."===t?c=3:"@"===t?c=4:w())}function d(e){"."===e?c=3:"@"===e?c=4:r.test(e)||w()}function p(e){"."===e||"@"===e?w():r.test(e)?c=2:w()}function v(e){SAe.test(e)?c=5:w()}function g(e){"."===e?c=7:"-"===e?c=6:SAe.test(e)||x()}function y(e){"-"===e||"."===e?x():SAe.test(e)?c=5:x()}function m(e){"."===e||"-"===e?x():SAe.test(e)?(c=5,l=new OAe(aAe(aAe({},l),{hasDomainDot:!0}))):x()}function b(e){void 0===e&&(e=2),c=e,l=new OAe({idx:u})}function w(){c=0,l=o}function x(){if(l.hasDomainDot){var r=e.slice(l.idx,u);/[-.]$/.test(r)&&(r=r.slice(0,-1));var a=l.hasMailtoPrefix?r.slice("mailto:".length):r;(function(e){var t=(e.split(".").pop()||"").toLowerCase();return n.test(t)})(a)&&i.push(new oAe({tagBuilder:t,matchedText:r,offset:l.idx,email:a}))}w()}},t}(fAe),OAe=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.hasMailtoPrefix=!!e.hasMailtoPrefix,this.hasDomainDot=!!e.hasDomainDot},LAe=function(){function e(){}return e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},e.containsMultipleDots=function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),r=t&&t[0].toLowerCase();return"javascript:"!==r&&"vbscript:"!==r},e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&(!this.hasFullProtocolRegex.test(t)&&!this.hasWordCharAfterProtocolRegex.test(e))},e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+yAe+"]"),e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,e}(),NAe=(iAe=new RegExp("[/?#](?:["+xAe+"\\-+&@#/%=~_()|'$*\\[\\]{}?!:,.;^]*["+xAe+"\\-+&@#/%=~_()|'$*\\[\\]{}])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,EAe(2),")","|","(","(//)?",/(?:www\.)/.source,EAe(6),")","|","(","(//)?",EAe(10)+"\\.",CAe.source,"(?![-"+wAe+"])",")",")","(?::[0-9]+)?","(?:"+iAe.source+")?"].join(""),"gi")),MAe=new RegExp("["+xAe+"]"),UAe=function(e){function t(t){var r=e.call(this,t)||this;return r.stripPrefix={scheme:!0,www:!0},r.stripTrailingSlash=!0,r.decodePercentEncoding=!0,r.matcherRegex=NAe,r.wordCharRegExp=MAe,r.stripPrefix=t.stripPrefix,r.stripTrailingSlash=t.stripTrailingSlash,r.decodePercentEncoding=t.decodePercentEncoding,r}return nAe(t,e),t.prototype.parseMatches=function(e){for(var t,r=this.matcherRegex,n=this.stripPrefix,i=this.stripTrailingSlash,a=this.decodePercentEncoding,o=this.tagBuilder,s=[],u=function(){var r=t[0],u=t[1],l=t[4],f=t[5],h=t[9],A=t.index,d=f||h,p=e.charAt(A-1);if(!LAe.isValid(r,u))return"continue";if(A>0&&"@"===p)return"continue";if(A>0&&d&&c.wordCharRegExp.test(p))return"continue";if(/\?$/.test(r)&&(r=r.substr(0,r.length-1)),c.matchHasUnbalancedClosingParen(r))r=r.substr(0,r.length-1);else{var v=c.matchHasInvalidCharAfterTld(r,u);v>-1&&(r=r.substr(0,v))}var g=["http://","https://"].find((function(e){return!!u&&-1!==u.indexOf(e)}));if(g){var y=r.indexOf(g);r=r.substr(y),u=u.substr(y),A+=y}var m=u?"scheme":l?"www":"tld",b=!!u;s.push(new lAe({tagBuilder:o,matchedText:r,offset:A,urlMatchType:m,url:r,protocolUrlMatch:b,protocolRelativeMatch:!!d,stripPrefix:n,stripTrailingSlash:i,decodePercentEncoding:a}))},c=this;null!==(t=r.exec(e));)u();return s},t.prototype.matchHasUnbalancedClosingParen=function(e){var t,r=e.charAt(e.length-1);if(")"===r)t="(";else if("]"===r)t="[";else{if("}"!==r)return!1;t="{"}for(var n=0,i=0,a=e.length-1;i<a;i++){var o=e.charAt(i);o===t?n++:o===r&&(n=Math.max(n-1,0))}return 0===n},t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var r=0;t&&(r=e.indexOf(":"),e=e.slice(r));var n=new RegExp("^((.?//)?[-."+xAe+"]*[-"+xAe+"]\\.[-"+xAe+"]+)").exec(e);return null===n?-1:(r+=n[1].length,e=e.slice(n[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(e)?r:-1)},t}(fAe),FAe=new RegExp("#[_".concat(xAe,"]{1,139}(?![_").concat(xAe,"])"),"g"),RAe=new RegExp("[^"+xAe+"]"),DAe=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="twitter",r.matcherRegex=FAe,r.nonWordCharRegex=RAe,r.serviceName=t.serviceName,r}return nAe(t,e),t.prototype.parseMatches=function(e){for(var t,r=this.matcherRegex,n=this.nonWordCharRegex,i=this.serviceName,a=this.tagBuilder,o=[];null!==(t=r.exec(e));){var s=t.index,u=e.charAt(s-1);if(0===s||n.test(u)){var c=t[0],l=t[0].slice(1);o.push(new sAe({tagBuilder:a,matchedText:c,offset:s,serviceName:i,hashtag:l}))}}return o},t}(fAe),jAe=new RegExp("".concat(/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]{1}-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source),"g"),QAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.matcherRegex=jAe,t}return nAe(t,e),t.prototype.parseMatches=function(e){for(var t,r=this.matcherRegex,n=this.tagBuilder,i=[];null!==(t=r.exec(e));){var a=t[0],o=a.replace(/[^0-9,;#]/g,""),s=!(!t[1]&&!t[2]),u=0==t.index?"":e.substr(t.index-1,1),c=e.substr(t.index+a.length,1),l=!u.match(/\d/)&&!c.match(/\d/);this.testMatch(t[3])&&this.testMatch(a)&&l&&i.push(new cAe({tagBuilder:n,matchedText:a,offset:t.index,number:o,plusSign:s}))}return i},t.prototype.testMatch=function(e){return dAe.test(e)},t}(fAe),HAe=new RegExp("@[_".concat(xAe,"]{1,50}(?![_").concat(xAe,"])"),"g"),KAe=new RegExp("@[_.".concat(xAe,"]{1,30}(?![_").concat(xAe,"])"),"g"),VAe=new RegExp("@[-_.".concat(xAe,"]{1,50}(?![-_").concat(xAe,"])"),"g"),zAe=new RegExp("@[_.".concat(xAe,"]{1,23}[_").concat(xAe,"](?![_").concat(xAe,"])"),"g"),qAe=new RegExp("[^"+xAe+"]"),GAe=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="twitter",r.matcherRegexes={twitter:HAe,instagram:KAe,soundcloud:VAe,tiktok:zAe},r.nonWordCharRegex=qAe,r.serviceName=t.serviceName,r}return nAe(t,e),t.prototype.parseMatches=function(e){var t,r=this.serviceName,n=this.matcherRegexes[this.serviceName],i=this.nonWordCharRegex,a=this.tagBuilder,o=[];if(!n)return o;for(;null!==(t=n.exec(e));){var s=t.index,u=e.charAt(s-1);if(0===s||i.test(u)){var c=t[0].replace(/\.+$/g,""),l=c.slice(1);o.push(new uAe({tagBuilder:a,matchedText:c,offset:s,serviceName:r,mention:l}))}}return o},t}(fAe);function WAe(e,t){for(var r,n=t.onOpenTag,i=t.onCloseTag,a=t.onText,o=t.onComment,s=t.onDoctype,u=new JAe,c=0,l=e.length,f=0,h=0,A=u;c<l;){var d=e.charAt(c);switch(f){case 0:p(d);break;case 1:v(d);break;case 2:y(d);break;case 3:g(d);break;case 4:m(d);break;case 5:b(d);break;case 6:w(d);break;case 7:x(d);break;case 8:k(d);break;case 9:_(d);break;case 10:B(d);break;case 11:E(d);break;case 12:S(d);break;case 13:C();break;case 14:I(d);break;case 15:P(d);break;case 16:T(d);break;case 17:O(d);break;case 18:L(d);break;case 19:N(d);break;case 20:M(d);break;default:$he(f)}c++}function p(e){"<"===e&&F()}function v(e){"!"===e?f=13:"/"===e?(f=2,A=new JAe(aAe(aAe({},A),{isClosing:!0}))):"<"===e?F():hAe.test(e)?(f=3,A=new JAe(aAe(aAe({},A),{isOpening:!0}))):(f=0,A=u)}function g(e){pAe.test(e)?(A=new JAe(aAe(aAe({},A),{name:D()})),f=4):"<"===e?F():"/"===e?(A=new JAe(aAe(aAe({},A),{name:D()})),f=12):">"===e?(A=new JAe(aAe(aAe({},A),{name:D()})),R()):hAe.test(e)||AAe.test(e)||":"===e||U()}function y(e){">"===e?U():hAe.test(e)?f=3:U()}function m(e){pAe.test(e)||("/"===e?f=12:">"===e?R():"<"===e?F():"="===e||vAe.test(e)||gAe.test(e)?U():f=5)}function b(e){pAe.test(e)?f=6:"/"===e?f=12:"="===e?f=7:">"===e?R():"<"===e?F():vAe.test(e)&&U()}function w(e){pAe.test(e)||("/"===e?f=12:"="===e?f=7:">"===e?R():"<"===e?F():vAe.test(e)?U():f=5)}function x(e){pAe.test(e)||('"'===e?f=8:"'"===e?f=9:/[>=`]/.test(e)?U():"<"===e?F():f=10)}function k(e){'"'===e&&(f=11)}function _(e){"'"===e&&(f=11)}function B(e){pAe.test(e)?f=4:">"===e?R():"<"===e&&F()}function E(e){pAe.test(e)?f=4:"/"===e?f=12:">"===e?R():"<"===e?F():(f=4,c--)}function S(e){">"===e?(A=new JAe(aAe(aAe({},A),{isClosing:!0})),R()):f=4}function C(t){"--"===e.substr(c,2)?(c+=2,A=new JAe(aAe(aAe({},A),{type:"comment"})),f=14):"DOCTYPE"===e.substr(c,7).toUpperCase()?(c+=7,A=new JAe(aAe(aAe({},A),{type:"doctype"})),f=20):U()}function I(e){"-"===e?f=15:">"===e?U():f=16}function P(e){"-"===e?f=18:">"===e?U():f=16}function T(e){"-"===e&&(f=17)}function O(e){f="-"===e?18:16}function L(e){">"===e?R():"!"===e?f=19:"-"===e||(f=16)}function N(e){"-"===e?f=17:">"===e?R():f=16}function M(e){">"===e?R():"<"===e&&F()}function U(){f=0,A=u}function F(){f=1,A=new JAe({idx:c})}function R(){var t=e.slice(h,A.idx);t&&a(t,h),"comment"===A.type?o(A.idx):"doctype"===A.type?s(A.idx):(A.isOpening&&n(A.name,A.idx),A.isClosing&&i(A.name,A.idx)),U(),h=c+1}function D(){var t=A.idx+(A.isClosing?2:1);return e.slice(t,c).toLowerCase()}h<c&&(r=e.slice(h,c),a(r,h),h=c+1)}var JAe=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing},XAe=function(){function e(t){void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"==typeof t.email?t.email:this.email,this.phone="boolean"==typeof t.phone?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var r=this.mention;if(!1!==r&&-1===["twitter","instagram","soundcloud","tiktok"].indexOf(r))throw new Error("invalid `mention` cfg '".concat(r,"' - see docs"));var n=this.hashtag;if(!1!==n&&-1===["twitter","facebook","instagram","tiktok"].indexOf(n))throw new Error("invalid `hashtag` cfg '".concat(n,"' - see docs"));this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,r){return new e(r).link(t)},e.parse=function(t,r){return new e(r).parse(t)},e.prototype.normalizeUrlsCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},e.prototype.normalizeStripPrefixCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},e.prototype.normalizeTruncateCfg=function(e){return"number"==typeof e?{length:e,location:"end"}:function(e,t){for(var r in t)t.hasOwnProperty(r)&&void 0===e[r]&&(e[r]=t[r]);return e}(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},e.prototype.parse=function(e){var t=this,r=["a","style","script"],n=0,i=[];return WAe(e,{onOpenTag:function(e){r.indexOf(e)>=0&&n++},onText:function(e,r){if(0===n){var a=function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var r,n=[],i=0;r=t.exec(e);)n.push(e.substring(i,r.index)),n.push(r[0]),i=r.index+r[0].length;return n.push(e.substring(i)),n}(e,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),o=r;a.forEach((function(e,r){if(r%2==0){var n=t.parseText(e,o);i.push.apply(i,n)}o+=e.length}))}},onCloseTag:function(e){r.indexOf(e)>=0&&(n=Math.max(n-1,0))},onComment:function(e){},onDoctype:function(e){}}),i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},e.prototype.compactMatches=function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;){var r=e[t],n=r.getOffset(),i=r.getMatchedText().length,a=n+i;if(t+1<e.length){if(e[t+1].getOffset()===n){var o=e[t+1].getMatchedText().length>i?t:t+1;e.splice(o,1);continue}if(e[t+1].getOffset()<a){e.splice(t+1,1);continue}}t++}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||Yhe(e,(function(e){return"hashtag"===e.getType()})),this.email||Yhe(e,(function(e){return"email"===e.getType()})),this.phone||Yhe(e,(function(e){return"phone"===e.getType()})),this.mention||Yhe(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||Yhe(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.wwwMatches||Yhe(e,(function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()})),this.urls.tldMatches||Yhe(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),e},e.prototype.parseText=function(e,t){void 0===t&&(t=0),t=t||0;for(var r=this.getMatchers(),n=[],i=0,a=r.length;i<a;i++){for(var o=r[i].parseMatches(e),s=0,u=o.length;s<u;s++)o[s].setOffset(t+o[s].getOffset());n.push.apply(n,o)}return n},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),r=[],n=0,i=0,a=t.length;i<a;i++){var o=t[i];r.push(e.substring(n,o.getOffset())),r.push(this.createMatchReturnVal(o)),n=o.getOffset()+o.getMatchedText().length}return r.push(e.substring(n)),r.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof Zhe?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new DAe({tagBuilder:e,serviceName:this.hashtag}),new TAe({tagBuilder:e}),new QAe({tagBuilder:e}),new GAe({tagBuilder:e,serviceName:this.mention}),new UAe({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new eAe({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="3.15.0",e.AnchorTagBuilder=eAe,e.HtmlTag=Zhe,e.matcher={Email:TAe,Hashtag:DAe,Matcher:fAe,Mention:GAe,Phone:QAe,Url:UAe},e.match={Email:oAe,Hashtag:sAe,Match:tAe,Mention:uAe,Phone:cAe,Url:lAe},e}();function YAe(e){return XAe.link(e,{stripPrefix:!1,email:!1,phone:!1})}const $Ae=Qce((function({clickableUrls:e,hasCertificateDefinition:t,displayHTML:r}){return t?ze`
    ${jhe}
    ${r?function(e,t){const r=["buv-c-full-certificate","qa-fullscreen-certificate"];Vse.certificates.displayHtmlHasNoWidthConstraint(e)&&r.push("buv-c-certificate--fixed-width");const n=t?YAe(e):e;return ze`<section class$=${r.join(" ")}>${Dhe(n)}</section>`}(r,e):ze`<buv-full-certificate-v1></buv-full-certificate-v1>`}
    <div class='buv-c-full-certificate__details'>
      <buv-certificate-details class='buv-c-full-certificate__details-list'></buv-certificate-details>
      <buv-final-verification-step class='buv-c-fullscreen-certificate__verification-status' isVisible hideLink standalone>
        <buv-verify-button type='link'>${na("text.verifyAgain")}</buv-verify-button>
      </buv-final-verification-step>
    </div>
  `:null}),{mapStateToProps:e=>({hasCertificateDefinition:!!nce(e),displayHTML:fce(e),clickableUrls:ole(e)})});var ZAe;window.customElements.define("buv-full-certificate",$Ae);var ede=ze(ZAe||(ZAe=_(["<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate--fixed-width{max-width:460px;min-width:0;margin:0 auto}.buv-c-fullscreen-certificate{z-index:200;position:fixed;top:0;left:0;background-color:#fff;width:100vw;height:100vh;overflow:auto;box-sizing:border-box}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate{padding-top:170px}}.buv-c-fullscreen-certificate-header{box-shadow:0 1px 5px rgba(0,0,0,.15);width:100%;background-color:#fff}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate-header{position:fixed;top:0;z-index:10}}.buv-c-fullscreen-certificate-header__content{max-width:1440px;margin:0 auto;padding:20px;display:flex;align-items:center;position:relative;box-sizing:border-box}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate-header__content{flex-direction:column;justify-content:left;align-items:unset}}.buv-c-fullscreen-certificate__title{margin:0 30px 0 0}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__title{margin-bottom:10px}}.buv-c-fullscreen-certificate__close{top:27px;right:20px}.buv-c-fullscreen-certificate__content{padding:20px;display:flex;max-width:1440px;margin:20px auto 0}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__content{flex-direction:column-reverse;margin-top:0}}.buv-c-fullscreen-certificate__details{display:flex;flex-grow:1;flex-direction:column;max-width:280px;min-width:220px;margin-right:20px}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__details{max-width:100vw;margin:20px 0 0}}.buv-c-fullscreen-certificate__verification-status{margin-bottom:15px}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__verification-status{position:absolute;top:90px;width:calc(100% - 40px);margin:0}}.buv-c-fullscreen-certificate__details-item{margin-top:5px}.buv-c-fullscreen-certificate__separator{margin-top:30px;padding-top:30px;border-top:1px solid #f1f2f3}.buv-c-fullscreen-certificate__certificate{box-shadow:0 1px 5px rgba(0,0,0,.15);padding:20px;background-color:#fff;font-family:serif;text-align:center;color:#49555f;font-size:12px;word-wrap:break-word;min-height:calc(100vh - 145px);box-sizing:border-box;margin:0 auto;min-width:600px;line-height:initial}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__certificate{min-width:unset;width:100%;overflow:auto}}.buv-c-fullscreen-certificate__verify-other{margin-top:20px}</style>"])));const tde=Qce((function({clickableUrls:e,hasCertificateDefinition:t,recipientName:r,displayHTML:n,onClose:i,disableDownloadPdf:a}){if(!t)return null;const o=["buv-c-fullscreen-certificate__certificate","qa-fullscreen-certificate"];return n&&Vse.certificates.displayHtmlHasNoWidthConstraint(n)&&o.push("buv-c-certificate--fixed-width"),ze`
    ${ede}
    <section class='buv-c-fullscreen-certificate'>
      <header class='buv-c-fullscreen-certificate-header'>
        <div class='buv-c-fullscreen-certificate-header__content'>
          <h1 class='buv-c-fullscreen-certificate__title'>${r}</h1>
          ${Zle({onClick:i,className:"buv-c-fullscreen-certificate__close"})}
        </div>  
      </header>
      <section class='buv-c-fullscreen-certificate__content'>
        <div class='buv-c-fullscreen-certificate__details'>
          <buv-final-verification-step class='buv-c-fullscreen-certificate__verification-status' isVisible hideLink standalone>
            <buv-verify-button type='link'>${na("text.verifyAgain")}</buv-verify-button>
          </buv-final-verification-step>
          <buv-certificate-details direction='column' hideRecipientName></buv-certificate-details>
          <buv-metadata class='buv-c-fullscreen-certificate__details-item  buv-c-fullscreen-certificate__separator' display='plaintext'></buv-metadata>
          ${a?"":ze`<buv-download-pdf-link class='buv-c-fullscreen-certificate__details-item' display='plaintext'></buv-download-pdf-link>`}
          <buv-download-link class='buv-c-fullscreen-certificate__details-item' display='plaintext'></buv-download-link>
          <buv-social-share class='buv-c-fullscreen-certificate__details-item' display='plaintext'></buv-social-share>
          ${aa({className:"buv-c-fullscreen-certificate__separator",showMotto:!0})}
          <buv-verify-other-certificate class='buv-c-fullscreen-certificate__verify-other'></buv-verify-other-certificate>
        </div>
        <div class$=${o.join(" ")}>
          ${n?function(e,t){const r=t?YAe(e):e;return ze`${Dhe(r)}`}(n,e):ze`<buv-full-certificate-v1></buv-full-certificate-v1>`}
        </div>
      </section>
    </section>
  `}),{mapDispatchToProps:{onClose:Ofe},mapStateToProps:e=>({recipientName:sce(e),hasCertificateDefinition:!!nce(e),displayHTML:fce(e),clickableUrls:ole(e),disableDownloadPdf:Zce(e)})});var rde,nde,ide,ade,ode;window.customElements.define("buv-fullscreen-certificate",tde);var sde=function(e){f(n,e);var t=w(n);function n(){var e;return s(this,n),(e=t.call(this)).hasRenderedOnce=!1,e}return c(n,[{key:"_firstRendered",value:function(){this.onLoad(this._props),this.hasRenderedOnce=!0}},{key:"_propertiesChanged",value:function(e,t,r){this._props=e,k(h(n.prototype),"_propertiesChanged",this).call(this,e,t,r),t.src!==r.src&&this.hasRenderedOnce&&this.onLoad({src:t.src}),t.explorerAPIs&&!r.explorerAPIs&&this.onLoad({explorerAPIs:t.explorerAPIs})}},{key:"renderCertificate",value:function(e){switch(e.displayMode){case Uce:return ze(rde||(rde=_(["<buv-full-certificate></buv-full-certificate>"])));case"fullscreen":return ze(nde||(nde=_(["<buv-fullscreen-certificate></buv-fullscreen-certificate>"])));default:return ze(ide||(ide=_(["<buv-card-certificate></buv-card-certificate>"])))}}},{key:"_render",value:function(e){var t=e.hasCertificate?"buv-c-verifier-body  buv-c-verifier-body--padded":"";return ze(ade||(ade=_(["\n      ","\n      <section class='buv-c-verifier-main'>\n        <buv-drag-and-drop>\n          <div class='buv-c-verifier-layout'>\n            <section class$='","'>\n              ","\n              <buv-certificate-input></buv-certificate-input>\n              <buv-action-menu></buv-action-menu>\n              ","\n              <buv-verification-modal></buv-verification-modal>\n            </section>\n            <buv-footer interactive></buv-footer>\n          </div>\n        </buv-drag-and-drop>\n      </section>\n    "])),Lhe,t,the(e.errorMessage,!0),this.renderCertificate(e))}}],[{key:"properties",get:function(){return r({onLoad:Function,errorMessage:String,hasCertificate:Boolean},gle)}}]),n}(Xe);function ude(e){return e.errorMessage}window.customElements.define("buv-raw",sde);const cde={onLoad:function(e={}){return function(t){const r=function(e){return Object.keys(gle).reduce((function(t,r){return e[r]&&(t[r]=e[r]),t}),{})}(e),{src:n,locale:i}=r;t({type:dt,payload:{options:r}}),Vse.certificates.isPathToCertificateValidURI(n)?t(hle(n)):function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(n)&&t(fle(JSON.parse(n))),mle(i)}}},lde=Qce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ze(ode||(ode=_(["<buv-raw\n          src='","'\n          onLoad='","'\n          errorMessage='","'\n          hasCertificate='","'\n          disableAutoVerify='","'\n          disableVerify='","'\n          allowDownload='","'\n          disableDownloadPdf='","'\n          allowSocialShare='","'\n          displayMode='","'\n          showMetadata='","'\n          clickableUrls='","'\n          theme='","'\n          locale='","'\n          explorerAPIs='","'\n          didResolverUrl='","'\n        ></buv-raw>"])),e.src,e.onLoad,e.errorMessage,e.hasCertificate,e["disable-auto-verify"],e["disable-verify"],e["allow-download"],e["disable-download-pdf"],e["allow-social-share"],e["display-mode"],e["show-metadata"],e["clickable-urls"],e.theme,e.locale,e.explorerAPIs,e["did-resolver-url"])}),{mapDispatchToProps:cde,mapStateToProps:e=>({errorMessage:ude(e),hasCertificate:!!nce(e)}),ownProps:{...sde.properties,...vle}});window.customElements.define("blockcerts-verifier",lde);var fde={exports:{}};
/*! @license DOMPurify 2.3.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.8/LICENSE */!function(e,t){e.exports=function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,r){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,r)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function n(e,i,a){return n=r()?Reflect.construct:function(e,r,n){var i=[null];i.push.apply(i,r);var a=new(Function.bind.apply(e,i));return n&&t(a,n.prototype),a},n.apply(null,arguments)}function i(e){return a(e)||o(e)||s(e)||c()}function a(e){if(Array.isArray(e))return u(e)}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,f=Object.setPrototypeOf,h=Object.isFrozen,A=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,p=Object.freeze,v=Object.seal,g=Object.create,y="undefined"!=typeof Reflect&&Reflect,m=y.apply,b=y.construct;m||(m=function(e,t,r){return e.apply(t,r)}),p||(p=function(e){return e}),v||(v=function(e){return e}),b||(b=function(e,t){return n(e,i(t))});var w=T(Array.prototype.forEach),x=T(Array.prototype.pop),k=T(Array.prototype.push),_=T(String.prototype.toLowerCase),B=T(String.prototype.match),E=T(String.prototype.replace),S=T(String.prototype.indexOf),C=T(String.prototype.trim),I=T(RegExp.prototype.test),P=O(TypeError);function T(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return m(e,t,n)}}function O(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(e,r)}}function L(e,t){f&&f(e,null);for(var r=t.length;r--;){var n=t[r];if("string"==typeof n){var i=_(n);i!==n&&(h(t)||(t[r]=i),n=i)}e[n]=!0}return e}function N(e){var t,r=g(null);for(t in e)m(l,e,[t])&&(r[t]=e[t]);return r}function M(e,t){for(;null!==e;){var r=d(e,t);if(r){if(r.get)return T(r.get);if("function"==typeof r.value)return T(r.value)}e=A(e)}function n(e){return console.warn("fallback value for",e),null}return n}var U=p(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=p(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=p(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=p(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=p(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Q=p(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=p(["#text"]),K=p(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=p(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=p(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q=p(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=v(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=v(/<%[\w\W]*|[\w\W]*%>/gm),J=v(/^data-[\-\w.\u00B7-\uFFFF]/),X=v(/^aria-[\-\w]+$/),Y=v(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$=v(/^(?:\w+script|data):/i),Z=v(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=v(/^html$/i),te=function(){return"undefined"==typeof window?null:window},re=function(t,r){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var a="dompurify"+(n?"#"+n:"");try{return t.createPolicy(a,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),r=function(e){return ne(e)};if(r.version="2.3.8",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,a=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,u=t.Node,c=t.Element,l=t.NodeFilter,f=t.NamedNodeMap,h=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,A=t.HTMLFormElement,d=t.DOMParser,v=t.trustedTypes,g=c.prototype,y=M(g,"cloneNode"),m=M(g,"nextSibling"),b=M(g,"childNodes"),T=M(g,"parentNode");if("function"==typeof s){var O=a.createElement("template");O.content&&O.content.ownerDocument&&(a=O.content.ownerDocument)}var ie=re(v,n),ae=ie?ie.createHTML(""):"",oe=a,se=oe.implementation,ue=oe.createNodeIterator,ce=oe.createDocumentFragment,le=oe.getElementsByTagName,fe=n.importNode,he={};try{he=N(a).documentMode?a.documentMode:{}}catch(e){}var Ae={};r.isSupported="function"==typeof T&&se&&void 0!==se.createHTMLDocument&&9!==he;var de,pe,ve=G,ge=W,ye=J,me=X,be=$,we=Z,xe=Y,ke=null,_e=L({},[].concat(i(U),i(F),i(R),i(j),i(H))),Be=null,Ee=L({},[].concat(i(K),i(V),i(z),i(q))),Se=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Ie=null,Pe=!0,Te=!0,Oe=!1,Le=!1,Ne=!1,Me=!1,Ue=!1,Fe=!1,Re=!1,De=!1,je=!0,Qe=!0,He=!1,Ke={},Ve=null,ze=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qe=null,Ge=L({},["audio","video","img","source","image","track"]),We=null,Je=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xe="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",$e="http://www.w3.org/1999/xhtml",Ze=$e,et=!1,tt=["application/xhtml+xml","text/html"],rt="text/html",nt=null,it=a.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},ot=function(t){nt&&nt===t||(t&&"object"===e(t)||(t={}),t=N(t),ke="ALLOWED_TAGS"in t?L({},t.ALLOWED_TAGS):_e,Be="ALLOWED_ATTR"in t?L({},t.ALLOWED_ATTR):Ee,We="ADD_URI_SAFE_ATTR"in t?L(N(Je),t.ADD_URI_SAFE_ATTR):Je,qe="ADD_DATA_URI_TAGS"in t?L(N(Ge),t.ADD_DATA_URI_TAGS):Ge,Ve="FORBID_CONTENTS"in t?L({},t.FORBID_CONTENTS):ze,Ce="FORBID_TAGS"in t?L({},t.FORBID_TAGS):{},Ie="FORBID_ATTR"in t?L({},t.FORBID_ATTR):{},Ke="USE_PROFILES"in t&&t.USE_PROFILES,Pe=!1!==t.ALLOW_ARIA_ATTR,Te=!1!==t.ALLOW_DATA_ATTR,Oe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=t.SAFE_FOR_TEMPLATES||!1,Ne=t.WHOLE_DOCUMENT||!1,Fe=t.RETURN_DOM||!1,Re=t.RETURN_DOM_FRAGMENT||!1,De=t.RETURN_TRUSTED_TYPE||!1,Ue=t.FORCE_BODY||!1,je=!1!==t.SANITIZE_DOM,Qe=!1!==t.KEEP_CONTENT,He=t.IN_PLACE||!1,xe=t.ALLOWED_URI_REGEXP||xe,Ze=t.NAMESPACE||$e,t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&at(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de=de=-1===tt.indexOf(t.PARSER_MEDIA_TYPE)?rt:t.PARSER_MEDIA_TYPE,pe="application/xhtml+xml"===de?function(e){return e}:_,Le&&(Te=!1),Re&&(Fe=!0),Ke&&(ke=L({},i(H)),Be=[],!0===Ke.html&&(L(ke,U),L(Be,K)),!0===Ke.svg&&(L(ke,F),L(Be,V),L(Be,q)),!0===Ke.svgFilters&&(L(ke,R),L(Be,V),L(Be,q)),!0===Ke.mathMl&&(L(ke,j),L(Be,z),L(Be,q))),t.ADD_TAGS&&(ke===_e&&(ke=N(ke)),L(ke,t.ADD_TAGS)),t.ADD_ATTR&&(Be===Ee&&(Be=N(Be)),L(Be,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&L(We,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(Ve===ze&&(Ve=N(Ve)),L(Ve,t.FORBID_CONTENTS)),Qe&&(ke["#text"]=!0),Ne&&L(ke,["html","head","body"]),ke.table&&(L(ke,["tbody"]),delete Ce.tbody),p&&p(t),nt=t)},st=L({},["mi","mo","mn","ms","mtext"]),ut=L({},["foreignobject","desc","title","annotation-xml"]),ct=L({},["title","style","font","a","script"]),lt=L({},F);L(lt,R),L(lt,D);var ft=L({},j);L(ft,Q);var ht=function(e){var t=T(e);t&&t.tagName||(t={namespaceURI:$e,tagName:"template"});var r=_(e.tagName),n=_(t.tagName);return e.namespaceURI===Ye?t.namespaceURI===$e?"svg"===r:t.namespaceURI===Xe?"svg"===r&&("annotation-xml"===n||st[n]):Boolean(lt[r]):e.namespaceURI===Xe?t.namespaceURI===$e?"math"===r:t.namespaceURI===Ye?"math"===r&&ut[n]:Boolean(ft[r]):e.namespaceURI===$e&&!(t.namespaceURI===Ye&&!ut[n])&&!(t.namespaceURI===Xe&&!st[n])&&!ft[r]&&(ct[r]||!lt[r])},At=function(e){k(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},dt=function(e,t){try{k(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){k(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Be[e])if(Fe||Re)try{At(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},pt=function(e){var t,r;if(Ue)e="<remove></remove>"+e;else{var n=B(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===de&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ie?ie.createHTML(e):e;if(Ze===$e)try{t=(new d).parseFromString(i,de)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=et?"":i}catch(e){}}var o=t.body||t.documentElement;return e&&r&&o.insertBefore(a.createTextNode(r),o.childNodes[0]||null),Ze===$e?le.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:o},vt=function(e){return ue.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},gt=function(e){return e instanceof A&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function(t){return"object"===e(u)?t instanceof u:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},mt=function(e,t,n){Ae[e]&&w(Ae[e],(function(e){e.call(r,t,n,nt)}))},bt=function(e){var t;if(mt("beforeSanitizeElements",e,null),gt(e))return At(e),!0;if(I(/[\u0080-\uFFFF]/,e.nodeName))return At(e),!0;var n=pe(e.nodeName);if(mt("uponSanitizeElement",e,{tagName:n,allowedTags:ke}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&I(/<[/\w]/g,e.innerHTML)&&I(/<[/\w]/g,e.textContent))return At(e),!0;if("select"===n&&I(/<template/i,e.innerHTML))return At(e),!0;if(!ke[n]||Ce[n]){if(!Ce[n]&&xt(n)){if(Se.tagNameCheck instanceof RegExp&&I(Se.tagNameCheck,n))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(n))return!1}if(Qe&&!Ve[n]){var i=T(e)||e.parentNode,a=b(e)||e.childNodes;if(a&&i)for(var o=a.length-1;o>=0;--o)i.insertBefore(y(a[o],!0),m(e))}return At(e),!0}return e instanceof c&&!ht(e)?(At(e),!0):"noscript"!==n&&"noembed"!==n||!I(/<\/no(script|embed)/i,e.innerHTML)?(Le&&3===e.nodeType&&(t=e.textContent,t=E(t,ve," "),t=E(t,ge," "),e.textContent!==t&&(k(r.removed,{element:e.cloneNode()}),e.textContent=t)),mt("afterSanitizeElements",e,null),!1):(At(e),!0)},wt=function(e,t,r){if(je&&("id"===t||"name"===t)&&(r in a||r in it))return!1;if(Te&&!Ie[t]&&I(ye,t));else if(Pe&&I(me,t));else if(!Be[t]||Ie[t]){if(!(xt(e)&&(Se.tagNameCheck instanceof RegExp&&I(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&I(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&I(Se.tagNameCheck,r)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(r))))return!1}else if(We[t]);else if(I(xe,E(r,we,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(r,"data:")||!qe[e])if(Oe&&!I(be,E(r,we,"")));else if(r)return!1;return!0},xt=function(e){return e.indexOf("-")>0},kt=function(e){var t,n,i,a;mt("beforeSanitizeAttributes",e,null);var o=e.attributes;if(o){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Be};for(a=o.length;a--;){var u=t=o[a],c=u.name,l=u.namespaceURI;if(n="value"===c?t.value:C(t.value),i=pe(c),s.attrName=i,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,mt("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr&&(dt(c,e),s.keepAttr))if(I(/\/>/i,n))dt(c,e);else{Le&&(n=E(n,ve," "),n=E(n,ge," "));var f=pe(e.nodeName);if(wt(f,i,n))try{l?e.setAttributeNS(l,c,n):e.setAttribute(c,n),x(r.removed)}catch(e){}}}mt("afterSanitizeAttributes",e,null)}},_t=function e(t){var r,n=vt(t);for(mt("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)mt("uponSanitizeShadowNode",r,null),bt(r)||(r.content instanceof o&&e(r.content),kt(r));mt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(i,a){var s,c,l,f,h;if((et=!i)&&(i="\x3c!--\x3e"),"string"!=typeof i&&!yt(i)){if("function"!=typeof i.toString)throw P("toString is not a function");if("string"!=typeof(i=i.toString()))throw P("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof i)return t.toStaticHTML(i);if(yt(i))return t.toStaticHTML(i.outerHTML)}return i}if(Me||ot(a),r.removed=[],"string"==typeof i&&(He=!1),He){if(i.nodeName){var A=pe(i.nodeName);if(!ke[A]||Ce[A])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof u)1===(c=(s=pt("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!Fe&&!Le&&!Ne&&-1===i.indexOf("<"))return ie&&De?ie.createHTML(i):i;if(!(s=pt(i)))return Fe?null:De?ae:""}s&&Ue&&At(s.firstChild);for(var d=vt(He?i:s);l=d.nextNode();)3===l.nodeType&&l===f||bt(l)||(l.content instanceof o&&_t(l.content),kt(l),f=l);if(f=null,He)return i;if(Fe){if(Re)for(h=ce.call(s.ownerDocument);s.firstChild;)h.appendChild(s.firstChild);else h=s;return Be.shadowroot&&(h=fe.call(n,h,!0)),h}var p=Ne?s.outerHTML:s.innerHTML;return Ne&&ke["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&I(ee,s.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+p),Le&&(p=E(p,ve," "),p=E(p,ge," ")),ie&&De?ie.createHTML(p):p},r.setConfig=function(e){ot(e),Me=!0},r.clearConfig=function(){nt=null,Me=!1},r.isValidAttribute=function(e,t,r){nt||ot({});var n=pe(e),i=pe(t);return wt(n,i,r)},r.addHook=function(e,t){"function"==typeof t&&(Ae[e]=Ae[e]||[],k(Ae[e],t))},r.removeHook=function(e){if(Ae[e])return x(Ae[e])},r.removeHooks=function(e){Ae[e]&&(Ae[e]=[])},r.removeAllHooks=function(){Ae={}},r}return ne()}()}(fde);var hde=e({__proto__:null,default:fde.exports},[fde.exports]),Ade=function(e){return e&&e.Math==Math&&e},dde=Ade("object"==("undefined"==typeof globalThis?"undefined":i(globalThis))&&globalThis)||Ade("object"==("undefined"==typeof window?"undefined":i(window))&&window)||Ade("object"==("undefined"==typeof self?"undefined":i(self))&&self)||Ade("object"==i(Nt)&&Nt)||function(){return this}()||Function("return this")(),pde={},vde=function(e){try{return!!e()}catch(e){return!0}},gde=!vde((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),yde=!vde((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),mde=yde,bde=Function.prototype.call,wde=mde?bde.bind(bde):function(){return bde.apply(bde,arguments)},xde={},kde={}.propertyIsEnumerable,_de=Object.getOwnPropertyDescriptor,Bde=_de&&!kde.call({1:2},1);xde.f=Bde?function(e){var t=_de(this,e);return!!t&&t.enumerable}:kde;var Ede,Sde,Cde=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ide=yde,Pde=Function.prototype,Tde=Pde.bind,Ode=Pde.call,Lde=Ide&&Tde.bind(Ode,Ode),Nde=Ide?function(e){return e&&Lde(e)}:function(e){return e&&function(){return Ode.apply(e,arguments)}},Mde=Nde,Ude=Mde({}.toString),Fde=Mde("".slice),Rde=function(e){return Fde(Ude(e),8,-1)},Dde=vde,jde=Rde,Qde=Object,Hde=Nde("".split),Kde=Dde((function(){return!Qde("z").propertyIsEnumerable(0)}))?function(e){return"String"==jde(e)?Hde(e,""):Qde(e)}:Qde,Vde=TypeError,zde=function(e){if(null==e)throw Vde("Can't call method on "+e);return e},qde=Kde,Gde=zde,Wde=function(e){return qde(Gde(e))},Jde=function(e){return"function"==typeof e},Xde=Jde,Yde=function(e){return"object"==i(e)?null!==e:Xde(e)},$de=dde,Zde=Jde,epe=function(e){return Zde(e)?e:void 0},tpe=function(e,t){return arguments.length<2?epe($de[e]):$de[e]&&$de[e][t]},rpe=Nde({}.isPrototypeOf),npe=tpe("navigator","userAgent")||"",ipe=dde,ape=npe,ope=ipe.process,spe=ipe.Deno,upe=ope&&ope.versions||spe&&spe.version,cpe=upe&&upe.v8;cpe&&(Sde=(Ede=cpe.split("."))[0]>0&&Ede[0]<4?1:+(Ede[0]+Ede[1])),!Sde&&ape&&(!(Ede=ape.match(/Edge\/(\d+)/))||Ede[1]>=74)&&(Ede=ape.match(/Chrome\/(\d+)/))&&(Sde=+Ede[1]);var lpe=Sde,fpe=lpe,hpe=vde,Ape=!!Object.getOwnPropertySymbols&&!hpe((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&fpe&&fpe<41})),dpe=Ape&&!Symbol.sham&&"symbol"==i(Symbol.iterator),ppe=tpe,vpe=Jde,gpe=rpe,ype=Object,mpe=dpe?function(e){return"symbol"==i(e)}:function(e){var t=ppe("Symbol");return vpe(t)&&gpe(t.prototype,ype(e))},bpe=String,wpe=function(e){try{return bpe(e)}catch(e){return"Object"}},xpe=Jde,kpe=wpe,_pe=TypeError,Bpe=function(e){if(xpe(e))return e;throw _pe(kpe(e)+" is not a function")},Epe=Bpe,Spe=function(e,t){var r=e[t];return null==r?void 0:Epe(r)},Cpe=wde,Ipe=Jde,Ppe=Yde,Tpe=TypeError,Ope={exports:{}},Lpe=dde,Npe=Object.defineProperty,Mpe=function(e,t){try{Npe(Lpe,e,{value:t,configurable:!0,writable:!0})}catch(r){Lpe[e]=t}return t},Upe=Mpe,Fpe="__core-js_shared__",Rpe=dde[Fpe]||Upe(Fpe,{}),Dpe=Rpe;(Ope.exports=function(e,t){return Dpe[e]||(Dpe[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.0",mode:"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.0/LICENSE",source:"https://github.com/zloirock/core-js"});var jpe=zde,Qpe=Object,Hpe=function(e){return Qpe(jpe(e))},Kpe=Hpe,Vpe=Nde({}.hasOwnProperty),zpe=Object.hasOwn||function(e,t){return Vpe(Kpe(e),t)},qpe=Nde,Gpe=0,Wpe=Math.random(),Jpe=qpe(1..toString),Xpe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Jpe(++Gpe+Wpe,36)},Ype=dde,$pe=Ope.exports,Zpe=zpe,eve=Xpe,tve=Ape,rve=dpe,nve=$pe("wks"),ive=Ype.Symbol,ave=ive&&ive.for,ove=rve?ive:ive&&ive.withoutSetter||eve,sve=function(e){if(!Zpe(nve,e)||!tve&&"string"!=typeof nve[e]){var t="Symbol."+e;tve&&Zpe(ive,e)?nve[e]=ive[e]:nve[e]=rve&&ave?ave(t):ove(t)}return nve[e]},uve=wde,cve=Yde,lve=mpe,fve=Spe,hve=function(e,t){var r,n;if("string"===t&&Ipe(r=e.toString)&&!Ppe(n=Cpe(r,e)))return n;if(Ipe(r=e.valueOf)&&!Ppe(n=Cpe(r,e)))return n;if("string"!==t&&Ipe(r=e.toString)&&!Ppe(n=Cpe(r,e)))return n;throw Tpe("Can't convert object to primitive value")},Ave=TypeError,dve=sve("toPrimitive"),pve=function(e,t){if(!cve(e)||lve(e))return e;var r,n=fve(e,dve);if(n){if(void 0===t&&(t="default"),r=uve(n,e,t),!cve(r)||lve(r))return r;throw Ave("Can't convert object to primitive value")}return void 0===t&&(t="number"),hve(e,t)},vve=mpe,gve=function(e){var t=pve(e,"string");return vve(t)?t:t+""},yve=Yde,mve=dde.document,bve=yve(mve)&&yve(mve.createElement),wve=function(e){return bve?mve.createElement(e):{}},xve=wve,kve=!gde&&!vde((function(){return 7!=Object.defineProperty(xve("div"),"a",{get:function(){return 7}}).a})),_ve=gde,Bve=wde,Eve=xde,Sve=Cde,Cve=Wde,Ive=gve,Pve=zpe,Tve=kve,Ove=Object.getOwnPropertyDescriptor;pde.f=_ve?Ove:function(e,t){if(e=Cve(e),t=Ive(t),Tve)try{return Ove(e,t)}catch(e){}if(Pve(e,t))return Sve(!Bve(Eve.f,e,t),e[t])};var Lve={},Nve=gde&&vde((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Mve=Yde,Uve=String,Fve=TypeError,Rve=function(e){if(Mve(e))return e;throw Fve(Uve(e)+" is not an object")},Dve=gde,jve=kve,Qve=Nve,Hve=Rve,Kve=gve,Vve=TypeError,zve=Object.defineProperty,qve=Object.getOwnPropertyDescriptor,Gve="enumerable",Wve="configurable",Jve="writable";Lve.f=Dve?Qve?function(e,t,r){if(Hve(e),t=Kve(t),Hve(r),"function"==typeof e&&"prototype"===t&&"value"in r&&Jve in r&&!r.writable){var n=qve(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:Wve in r?r.configurable:n.configurable,enumerable:Gve in r?r.enumerable:n.enumerable,writable:!1})}return zve(e,t,r)}:zve:function(e,t,r){if(Hve(e),t=Kve(t),Hve(r),jve)try{return zve(e,t,r)}catch(e){}if("get"in r||"set"in r)throw Vve("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var Xve=Lve,Yve=Cde,$ve=gde?function(e,t,r){return Xve.f(e,t,Yve(1,r))}:function(e,t,r){return e[t]=r,e},Zve={exports:{}},ege=gde,tge=zpe,rge=Function.prototype,nge=ege&&Object.getOwnPropertyDescriptor,ige=tge(rge,"name"),age={EXISTS:ige,PROPER:ige&&"something"===function(){}.name,CONFIGURABLE:ige&&(!ege||ege&&nge(rge,"name").configurable)},oge=Jde,sge=Rpe,uge=Nde(Function.toString);oge(sge.inspectSource)||(sge.inspectSource=function(e){return uge(e)});var cge,lge,fge,hge=sge.inspectSource,Age=Jde,dge=hge,pge=dde.WeakMap,vge=Age(pge)&&/native code/.test(dge(pge)),gge=Ope.exports,yge=Xpe,mge=gge("keys"),bge=function(e){return mge[e]||(mge[e]=yge(e))},wge={},xge=vge,kge=dde,_ge=Nde,Bge=Yde,Ege=$ve,Sge=zpe,Cge=Rpe,Ige=bge,Pge=wge,Tge="Object already initialized",Oge=kge.TypeError,Lge=kge.WeakMap;if(xge||Cge.state){var Nge=Cge.state||(Cge.state=new Lge),Mge=_ge(Nge.get),Uge=_ge(Nge.has),Fge=_ge(Nge.set);cge=function(e,t){if(Uge(Nge,e))throw new Oge(Tge);return t.facade=e,Fge(Nge,e,t),t},lge=function(e){return Mge(Nge,e)||{}},fge=function(e){return Uge(Nge,e)}}else{var Rge=Ige("state");Pge[Rge]=!0,cge=function(e,t){if(Sge(e,Rge))throw new Oge(Tge);return t.facade=e,Ege(e,Rge,t),t},lge=function(e){return Sge(e,Rge)?e[Rge]:{}},fge=function(e){return Sge(e,Rge)}}var Dge={set:cge,get:lge,has:fge,enforce:function(e){return fge(e)?lge(e):cge(e,{})},getterFor:function(e){return function(t){var r;if(!Bge(t)||(r=lge(t)).type!==e)throw Oge("Incompatible receiver, "+e+" required");return r}}},jge=vde,Qge=Jde,Hge=zpe,Kge=gde,Vge=age.CONFIGURABLE,zge=hge,qge=Dge.enforce,Gge=Dge.get,Wge=Object.defineProperty,Jge=Kge&&!jge((function(){return 8!==Wge((function(){}),"length",{value:8}).length})),Xge=String(String).split("String"),Yge=Zve.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Hge(e,"name")||Vge&&e.name!==t)&&Wge(e,"name",{value:t,configurable:!0}),Jge&&r&&Hge(r,"arity")&&e.length!==r.arity&&Wge(e,"length",{value:r.arity});try{r&&Hge(r,"constructor")&&r.constructor?Kge&&Wge(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=qge(e);return Hge(n,"source")||(n.source=Xge.join("string"==typeof t?t:"")),e};Function.prototype.toString=Yge((function(){return Qge(this)&&Gge(this).source||zge(this)}),"toString");var $ge=Jde,Zge=Lve,eye=Zve.exports,tye=Mpe,rye=function(e,t,r,n){n||(n={});var i=n.enumerable,a=void 0!==n.name?n.name:t;return $ge(r)&&eye(r,a,n),n.global?i?e[t]=r:tye(t,r):(n.unsafe?e[t]&&(i=!0):delete e[t],i?e[t]=r:Zge.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})),e},nye={},iye=Math.ceil,aye=Math.floor,oye=Math.trunc||function(e){var t=+e;return(t>0?aye:iye)(t)},sye=oye,uye=function(e){var t=+e;return t!=t||0===t?0:sye(t)},cye=uye,lye=Math.max,fye=Math.min,hye=function(e,t){var r=cye(e);return r<0?lye(r+t,0):fye(r,t)},Aye=uye,dye=Math.min,pye=function(e){return e>0?dye(Aye(e),9007199254740991):0},vye=pye,gye=function(e){return vye(e.length)},yye=Wde,mye=hye,bye=gye,wye=function(e){return function(t,r,n){var i,a=yye(t),o=bye(a),s=mye(n,o);if(e&&r!=r){for(;o>s;)if((i=a[s++])!=i)return!0}else for(;o>s;s++)if((e||s in a)&&a[s]===r)return e||s||0;return!e&&-1}},xye={includes:wye(!0),indexOf:wye(!1)},kye=zpe,_ye=Wde,Bye=xye.indexOf,Eye=wge,Sye=Nde([].push),Cye=function(e,t){var r,n=_ye(e),i=0,a=[];for(r in n)!kye(Eye,r)&&kye(n,r)&&Sye(a,r);for(;t.length>i;)kye(n,r=t[i++])&&(~Bye(a,r)||Sye(a,r));return a},Iye=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pye=Cye,Tye=Iye.concat("length","prototype");nye.f=Object.getOwnPropertyNames||function(e){return Pye(e,Tye)};var Oye={};Oye.f=Object.getOwnPropertySymbols;var Lye=tpe,Nye=nye,Mye=Oye,Uye=Rve,Fye=Nde([].concat),Rye=Lye("Reflect","ownKeys")||function(e){var t=Nye.f(Uye(e)),r=Mye.f;return r?Fye(t,r(e)):t},Dye=zpe,jye=Rye,Qye=pde,Hye=Lve,Kye=vde,Vye=Jde,zye=/#|\.prototype\./,qye=function(e,t){var r=Wye[Gye(e)];return r==Xye||r!=Jye&&(Vye(t)?Kye(t):!!t)},Gye=qye.normalize=function(e){return String(e).replace(zye,".").toLowerCase()},Wye=qye.data={},Jye=qye.NATIVE="N",Xye=qye.POLYFILL="P",Yye=qye,$ye=dde,Zye=pde.f,eme=$ve,tme=rye,rme=Mpe,nme=function(e,t,r){for(var n=jye(t),i=Hye.f,a=Qye.f,o=0;o<n.length;o++){var s=n[o];Dye(e,s)||r&&Dye(r,s)||i(e,s,a(t,s))}},ime=Yye,ame=function(e,t){var r,n,a,o,s,u=e.target,c=e.global,l=e.stat;if(r=c?$ye:l?$ye[u]||rme(u,{}):($ye[u]||{}).prototype)for(n in t){if(o=t[n],a=e.dontCallGetSet?(s=Zye(r,n))&&s.value:r[n],!ime(c?n:u+(l?".":"#")+n,e.forced)&&void 0!==a){if(i(o)==i(a))continue;nme(o,a)}(e.sham||a&&a.sham)&&eme(o,"sham",!0),tme(r,n,o,e)}},ome="process"==Rde(dde.process),sme=Jde,ume=String,cme=TypeError,lme=Nde,fme=Rve,hme=function(e){if("object"==i(e)||sme(e))return e;throw cme("Can't set "+ume(e)+" as a prototype")},Ame=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=lme(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return fme(r),hme(n),t?e(r,n):r.__proto__=n,r}}():void 0),dme=Lve.f,pme=zpe,vme=sve("toStringTag"),gme=function(e,t,r){e&&!r&&(e=e.prototype),e&&!pme(e,vme)&&dme(e,vme,{configurable:!0,value:t})},yme=tpe,mme=Lve,bme=gde,wme=sve("species"),xme=rpe,kme=TypeError,_me={};_me[sve("toStringTag")]="z";var Bme="[object z]"===String(_me),Eme=Jde,Sme=Rde,Cme=sve("toStringTag"),Ime=Object,Pme="Arguments"==Sme(function(){return arguments}()),Tme=Bme?Sme:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Ime(e),Cme))?r:Pme?Sme(t):"Object"==(n=Sme(t))&&Eme(t.callee)?"Arguments":n},Ome=Nde,Lme=vde,Nme=Jde,Mme=Tme,Ume=hge,Fme=function(){},Rme=[],Dme=tpe("Reflect","construct"),jme=/^\s*(?:class|function)\b/,Qme=Ome(jme.exec),Hme=!jme.exec(Fme),Kme=function(e){if(!Nme(e))return!1;try{return Dme(Fme,Rme,e),!0}catch(e){return!1}},Vme=function(e){if(!Nme(e))return!1;switch(Mme(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Hme||!!Qme(jme,Ume(e))}catch(e){return!0}};Vme.sham=!0;var zme,qme,Gme,Wme,Jme=!Dme||Lme((function(){var e;return Kme(Kme.call)||!Kme(Object)||!Kme((function(){e=!0}))||e}))?Vme:Kme,Xme=Jme,Yme=wpe,$me=TypeError,Zme=Rve,ebe=function(e){if(Xme(e))return e;throw $me(Yme(e)+" is not a constructor")},tbe=sve("species"),rbe=function(e,t){var r,n=Zme(e).constructor;return void 0===n||null==(r=Zme(n)[tbe])?t:ebe(r)},nbe=yde,ibe=Function.prototype,abe=ibe.apply,obe=ibe.call,sbe="object"==("undefined"==typeof Reflect?"undefined":i(Reflect))&&Reflect.apply||(nbe?obe.bind(abe):function(){return obe.apply(abe,arguments)}),ube=Bpe,cbe=yde,lbe=Nde(Nde.bind),fbe=function(e,t){return ube(e),void 0===t?e:cbe?lbe(e,t):function(){return e.apply(t,arguments)}},hbe=tpe("document","documentElement"),Abe=Nde([].slice),dbe=TypeError,pbe=/(?:ipad|iphone|ipod).*applewebkit/i.test(npe),vbe=dde,gbe=sbe,ybe=fbe,mbe=Jde,bbe=zpe,wbe=vde,xbe=hbe,kbe=Abe,_be=wve,Bbe=function(e,t){if(e<t)throw dbe("Not enough arguments");return e},Ebe=pbe,Sbe=ome,Cbe=vbe.setImmediate,Ibe=vbe.clearImmediate,Pbe=vbe.process,Tbe=vbe.Dispatch,Obe=vbe.Function,Lbe=vbe.MessageChannel,Nbe=vbe.String,Mbe=0,Ube={},Fbe="onreadystatechange";try{zme=vbe.location}catch(e){}var Rbe=function(e){if(bbe(Ube,e)){var t=Ube[e];delete Ube[e],t()}},Dbe=function(e){return function(){Rbe(e)}},jbe=function(e){Rbe(e.data)},Qbe=function(e){vbe.postMessage(Nbe(e),zme.protocol+"//"+zme.host)};Cbe&&Ibe||(Cbe=function(e){Bbe(arguments.length,1);var t=mbe(e)?e:Obe(e),r=kbe(arguments,1);return Ube[++Mbe]=function(){gbe(t,void 0,r)},qme(Mbe),Mbe},Ibe=function(e){delete Ube[e]},Sbe?qme=function(e){Pbe.nextTick(Dbe(e))}:Tbe&&Tbe.now?qme=function(e){Tbe.now(Dbe(e))}:Lbe&&!Ebe?(Wme=(Gme=new Lbe).port2,Gme.port1.onmessage=jbe,qme=ybe(Wme.postMessage,Wme)):vbe.addEventListener&&mbe(vbe.postMessage)&&!vbe.importScripts&&zme&&"file:"!==zme.protocol&&!wbe(Qbe)?(qme=Qbe,vbe.addEventListener("message",jbe,!1)):qme=Fbe in _be("script")?function(e){xbe.appendChild(_be("script")).onreadystatechange=function(){xbe.removeChild(this),Rbe(e)}}:function(e){setTimeout(Dbe(e),0)});var Hbe,Kbe,Vbe,zbe,qbe,Gbe,Wbe,Jbe,Xbe={set:Cbe,clear:Ibe},Ybe=dde,$be=/ipad|iphone|ipod/i.test(npe)&&void 0!==Ybe.Pebble,Zbe=/web0s(?!.*chrome)/i.test(npe),ewe=dde,twe=fbe,rwe=pde.f,nwe=Xbe.set,iwe=pbe,awe=$be,owe=Zbe,swe=ome,uwe=ewe.MutationObserver||ewe.WebKitMutationObserver,cwe=ewe.document,lwe=ewe.process,fwe=ewe.Promise,hwe=rwe(ewe,"queueMicrotask"),Awe=hwe&&hwe.value;Awe||(Hbe=function(){var e,t;for(swe&&(e=lwe.domain)&&e.exit();Kbe;){t=Kbe.fn,Kbe=Kbe.next;try{t()}catch(e){throw Kbe?zbe():Vbe=void 0,e}}Vbe=void 0,e&&e.enter()},iwe||swe||owe||!uwe||!cwe?!awe&&fwe&&fwe.resolve?((Wbe=fwe.resolve(void 0)).constructor=fwe,Jbe=twe(Wbe.then,Wbe),zbe=function(){Jbe(Hbe)}):swe?zbe=function(){lwe.nextTick(Hbe)}:(nwe=twe(nwe,ewe),zbe=function(){nwe(Hbe)}):(qbe=!0,Gbe=cwe.createTextNode(""),new uwe(Hbe).observe(Gbe,{characterData:!0}),zbe=function(){Gbe.data=qbe=!qbe}));var dwe=Awe||function(e){var t={fn:e,next:void 0};Vbe&&(Vbe.next=t),Kbe||(Kbe=t,zbe()),Vbe=t},pwe=dde,vwe=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},gwe=function(){this.head=null,this.tail=null};gwe.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var ywe=gwe,mwe=dde.Promise,bwe="object"==("undefined"==typeof window?"undefined":i(window))&&"object"!=("undefined"==typeof Deno?"undefined":i(Deno)),wwe=dde,xwe=mwe,kwe=Jde,_we=Yye,Bwe=hge,Ewe=sve,Swe=bwe,Cwe=lpe;xwe&&xwe.prototype;var Iwe=Ewe("species"),Pwe=!1,Twe=kwe(wwe.PromiseRejectionEvent),Owe=_we("Promise",(function(){var e=Bwe(xwe),t=e!==String(xwe);if(!t&&66===Cwe)return!0;if(Cwe>=51&&/native code/.test(e))return!1;var r=new xwe((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[Iwe]=n,!(Pwe=r.then((function(){}))instanceof n)||!t&&Swe&&!Twe})),Lwe={CONSTRUCTOR:Owe,REJECTION_EVENT:Twe,SUBCLASSING:Pwe},Nwe={},Mwe=Bpe,Uwe=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Mwe(t),this.reject=Mwe(r)};Nwe.f=function(e){return new Uwe(e)};var Fwe,Rwe,Dwe,jwe=ame,Qwe=ome,Hwe=dde,Kwe=wde,Vwe=rye,zwe=Ame,qwe=gme,Gwe=function(e){var t=yme(e),r=mme.f;bme&&t&&!t[wme]&&r(t,wme,{configurable:!0,get:function(){return this}})},Wwe=Bpe,Jwe=Jde,Xwe=Yde,Ywe=function(e,t){if(xme(t,e))return e;throw kme("Incorrect invocation")},$we=rbe,Zwe=Xbe.set,exe=dwe,txe=function(e,t){var r=pwe.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))},rxe=vwe,nxe=ywe,ixe=Dge,axe=mwe,oxe=Nwe,sxe="Promise",uxe=Lwe.CONSTRUCTOR,cxe=Lwe.REJECTION_EVENT,lxe=Lwe.SUBCLASSING,fxe=ixe.getterFor(sxe),hxe=ixe.set,Axe=axe&&axe.prototype,dxe=axe,pxe=Axe,vxe=Hwe.TypeError,gxe=Hwe.document,yxe=Hwe.process,mxe=oxe.f,bxe=mxe,wxe=!!(gxe&&gxe.createEvent&&Hwe.dispatchEvent),xxe="unhandledrejection",kxe=function(e){var t;return!(!Xwe(e)||!Jwe(t=e.then))&&t},_xe=function(e,t){var r,n,i,a=t.value,o=1==t.state,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(o||(2===t.rejection&&Ixe(t),t.rejection=1),!0===s?r=a:(l&&l.enter(),r=s(a),l&&(l.exit(),i=!0)),r===e.promise?c(vxe("Promise-chain cycle")):(n=kxe(r))?Kwe(n,r,u,c):u(r)):c(a)}catch(e){l&&!i&&l.exit(),c(e)}},Bxe=function(e,t){e.notified||(e.notified=!0,exe((function(){for(var r,n=e.reactions;r=n.get();)_xe(r,e);e.notified=!1,t&&!e.rejection&&Sxe(e)})))},Exe=function(e,t,r){var n,i;wxe?((n=gxe.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),Hwe.dispatchEvent(n)):n={promise:t,reason:r},!cxe&&(i=Hwe["on"+e])?i(n):e===xxe&&txe("Unhandled promise rejection",r)},Sxe=function(e){Kwe(Zwe,Hwe,(function(){var t,r=e.facade,n=e.value;if(Cxe(e)&&(t=rxe((function(){Qwe?yxe.emit("unhandledRejection",n,r):Exe(xxe,r,n)})),e.rejection=Qwe||Cxe(e)?2:1,t.error))throw t.value}))},Cxe=function(e){return 1!==e.rejection&&!e.parent},Ixe=function(e){Kwe(Zwe,Hwe,(function(){var t=e.facade;Qwe?yxe.emit("rejectionHandled",t):Exe("rejectionhandled",t,e.value)}))},Pxe=function(e,t,r){return function(n){e(t,n,r)}},Txe=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Bxe(e,!0))},Oxe=function e(t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===r)throw vxe("Promise can't be resolved itself");var i=kxe(r);i?exe((function(){var n={done:!1};try{Kwe(i,r,Pxe(e,n,t),Pxe(Txe,n,t))}catch(e){Txe(n,e,t)}})):(t.value=r,t.state=1,Bxe(t,!1))}catch(e){Txe({done:!1},e,t)}}};if(uxe&&(pxe=(dxe=function(e){Ywe(this,pxe),Wwe(e),Kwe(Fwe,this);var t=fxe(this);try{e(Pxe(Oxe,t),Pxe(Txe,t))}catch(e){Txe(t,e)}}).prototype,(Fwe=function(e){hxe(this,{type:sxe,done:!1,notified:!1,parent:!1,reactions:new nxe,rejection:!1,state:0,value:void 0})}).prototype=Vwe(pxe,"then",(function(e,t){var r=fxe(this),n=mxe($we(this,dxe));return r.parent=!0,n.ok=!Jwe(e)||e,n.fail=Jwe(t)&&t,n.domain=Qwe?yxe.domain:void 0,0==r.state?r.reactions.add(n):exe((function(){_xe(n,r)})),n.promise})),Rwe=function(){var e=new Fwe,t=fxe(e);this.promise=e,this.resolve=Pxe(Oxe,t),this.reject=Pxe(Txe,t)},oxe.f=mxe=function(e){return e===dxe||undefined===e?new Rwe(e):bxe(e)},Jwe(axe)&&Axe!==Object.prototype)){Dwe=Axe.then,lxe||Vwe(Axe,"then",(function(e,t){var r=this;return new dxe((function(e,t){Kwe(Dwe,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete Axe.constructor}catch(e){}zwe&&zwe(Axe,pxe)}jwe({global:!0,constructor:!0,wrap:!0,forced:uxe},{Promise:dxe}),qwe(dxe,sxe,!1),Gwe(sxe);var Lxe={},Nxe=Lxe,Mxe=sve("iterator"),Uxe=Array.prototype,Fxe=Tme,Rxe=Spe,Dxe=Lxe,jxe=sve("iterator"),Qxe=function(e){if(null!=e)return Rxe(e,jxe)||Rxe(e,"@@iterator")||Dxe[Fxe(e)]},Hxe=wde,Kxe=Bpe,Vxe=Rve,zxe=wpe,qxe=Qxe,Gxe=TypeError,Wxe=wde,Jxe=Rve,Xxe=Spe,Yxe=fbe,$xe=wde,Zxe=Rve,eke=wpe,tke=function(e){return void 0!==e&&(Nxe.Array===e||Uxe[Mxe]===e)},rke=gye,nke=rpe,ike=function(e,t){var r=arguments.length<2?qxe(e):t;if(Kxe(r))return Vxe(Hxe(r,e));throw Gxe(zxe(e)+" is not iterable")},ake=Qxe,oke=function(e,t,r){var n,i;Jxe(e);try{if(!(n=Xxe(e,"return"))){if("throw"===t)throw r;return r}n=Wxe(n,e)}catch(e){i=!0,n=e}if("throw"===t)throw r;if(i)throw n;return Jxe(n),r},ske=TypeError,uke=function(e,t){this.stopped=e,this.result=t},cke=uke.prototype,lke=function(e,t,r){var n,a,o,s,u,c,l,f=r&&r.that,h=!(!r||!r.AS_ENTRIES),A=!(!r||!r.IS_ITERATOR),d=!(!r||!r.INTERRUPTED),p=Yxe(t,f),v=function(e){return n&&oke(n,"normal",e),new uke(!0,e)},g=function(e){return h?(Zxe(e),d?p(e[0],e[1],v):p(e[0],e[1])):d?p(e,v):p(e)};if(A)n=e;else{if(!(a=ake(e)))throw ske(eke(e)+" is not iterable");if(tke(a)){for(o=0,s=rke(e);s>o;o++)if((u=g(e[o]))&&nke(cke,u))return u;return new uke(!1)}n=ike(e,a)}for(c=n.next;!(l=$xe(c,n)).done;){try{u=g(l.value)}catch(e){oke(n,"throw",e)}if("object"==i(u)&&u&&nke(cke,u))return u}return new uke(!1)},fke=sve("iterator"),hke=!1;try{var Ake=0,dke={next:function(){return{done:!!Ake++}},return:function(){hke=!0}};dke[fke]=function(){return this},Array.from(dke,(function(){throw 2}))}catch(e){}var pke=mwe,vke=function(e,t){if(!t&&!hke)return!1;var r=!1;try{var n={};n[fke]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},gke=Lwe.CONSTRUCTOR||!vke((function(e){pke.all(e).then(void 0,(function(){}))})),yke=wde,mke=Bpe,bke=Nwe,wke=vwe,xke=lke;ame({target:"Promise",stat:!0,forced:gke},{all:function(e){var t=this,r=bke.f(t),n=r.resolve,i=r.reject,a=wke((function(){var r=mke(t.resolve),a=[],o=0,s=1;xke(e,(function(e){var u=o++,c=!1;s++,yke(r,t,e).then((function(e){c||(c=!0,a[u]=e,--s||n(a))}),i)})),--s||n(a)}));return a.error&&i(a.value),r.promise}});var kke=ame,_ke=Lwe.CONSTRUCTOR,Bke=mwe,Eke=tpe,Ske=Jde,Cke=rye,Ike=Bke&&Bke.prototype;if(kke({target:"Promise",proto:!0,forced:_ke,real:!0},{catch:function(e){return this.then(void 0,e)}}),Ske(Bke)){var Pke=Eke("Promise").prototype.catch;Ike.catch!==Pke&&Cke(Ike,"catch",Pke,{unsafe:!0})}var Tke=wde,Oke=Bpe,Lke=Nwe,Nke=vwe,Mke=lke;ame({target:"Promise",stat:!0,forced:gke},{race:function(e){var t=this,r=Lke.f(t),n=r.reject,i=Nke((function(){var i=Oke(t.resolve);Mke(e,(function(e){Tke(i,t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var Uke=wde,Fke=Nwe;ame({target:"Promise",stat:!0,forced:Lwe.CONSTRUCTOR},{reject:function(e){var t=Fke.f(this);return Uke(t.reject,void 0,e),t.promise}});var Rke=Rve,Dke=Yde,jke=Nwe,Qke=ame,Hke=Lwe.CONSTRUCTOR,Kke=function(e,t){if(Rke(e),Dke(t)&&t.constructor===e)return t;var r=jke.f(e);return(0,r.resolve)(t),r.promise};tpe("Promise"),Qke({target:"Promise",stat:!0,forced:Hke},{resolve:function(e){return Kke(this,e)}});var Vke={exports:{}};!function(e){function t(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,u,"next",e)}function u(e){t(o,i,a,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(Vke);var zke=Mt(Vke.exports),qke=Tme,Gke=String,Wke=function(e){if("Symbol"===qke(e))throw TypeError("Cannot convert a Symbol value to a string");return Gke(e)},Jke=Rve,Xke=function(){var e=Jke(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Yke=vde,$ke=dde.RegExp,Zke=Yke((function(){var e=$ke("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),e_e=Zke||Yke((function(){return!$ke("a","y").sticky})),t_e=Zke||Yke((function(){var e=$ke("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),r_e={BROKEN_CARET:t_e,MISSED_STICKY:e_e,UNSUPPORTED_Y:Zke},n_e={},i_e=Cye,a_e=Iye,o_e=Object.keys||function(e){return i_e(e,a_e)},s_e=gde,u_e=Nve,c_e=Lve,l_e=Rve,f_e=Wde,h_e=o_e;n_e.f=s_e&&!u_e?Object.defineProperties:function(e,t){l_e(e);for(var r,n=f_e(t),i=h_e(t),a=i.length,o=0;a>o;)c_e.f(e,r=i[o++],n[r]);return e};var A_e,d_e=Rve,p_e=n_e,v_e=Iye,g_e=wge,y_e=hbe,m_e=wve,b_e=bge("IE_PROTO"),w_e=function(){},x_e=function(e){return"<script>"+e+"</"+"script>"},k_e=function(e){e.write(x_e("")),e.close();var t=e.parentWindow.Object;return e=null,t},__e=function(){try{A_e=new ActiveXObject("htmlfile")}catch(e){}var e,t;__e="undefined"!=typeof document?document.domain&&A_e?k_e(A_e):((t=m_e("iframe")).style.display="none",y_e.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(x_e("document.F=Object")),e.close(),e.F):k_e(A_e);for(var r=v_e.length;r--;)delete __e.prototype[v_e[r]];return __e()};g_e[b_e]=!0;var B_e,E_e,S_e=Object.create||function(e,t){var r;return null!==e?(w_e.prototype=d_e(e),r=new w_e,w_e.prototype=null,r[b_e]=e):r=__e(),void 0===t?r:p_e.f(r,t)},C_e=vde,I_e=dde.RegExp,P_e=C_e((function(){var e=I_e(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),T_e=vde,O_e=dde.RegExp,L_e=T_e((function(){var e=O_e("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),N_e=wde,M_e=Nde,U_e=Wke,F_e=Xke,R_e=r_e,D_e=Ope.exports,j_e=S_e,Q_e=Dge.get,H_e=P_e,K_e=L_e,V_e=D_e("native-string-replace",String.prototype.replace),z_e=RegExp.prototype.exec,q_e=z_e,G_e=M_e("".charAt),W_e=M_e("".indexOf),J_e=M_e("".replace),X_e=M_e("".slice),Y_e=(E_e=/b*/g,N_e(z_e,B_e=/a/,"a"),N_e(z_e,E_e,"a"),0!==B_e.lastIndex||0!==E_e.lastIndex),$_e=R_e.BROKEN_CARET,Z_e=void 0!==/()??/.exec("")[1];(Y_e||Z_e||$_e||H_e||K_e)&&(q_e=function(e){var t,r,n,i,a,o,s,u=this,c=Q_e(u),l=U_e(e),f=c.raw;if(f)return f.lastIndex=u.lastIndex,t=N_e(q_e,f,l),u.lastIndex=f.lastIndex,t;var h=c.groups,A=$_e&&u.sticky,d=N_e(F_e,u),p=u.source,v=0,g=l;if(A&&(d=J_e(d,"y",""),-1===W_e(d,"g")&&(d+="g"),g=X_e(l,u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==G_e(l,u.lastIndex-1))&&(p="(?: "+p+")",g=" "+g,v++),r=new RegExp("^(?:"+p+")",d)),Z_e&&(r=new RegExp("^"+p+"$(?!\\s)",d)),Y_e&&(n=u.lastIndex),i=N_e(z_e,A?r:u,g),A?i?(i.input=X_e(i.input,v),i[0]=X_e(i[0],v),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:Y_e&&i&&(u.lastIndex=u.global?i.index+i[0].length:n),Z_e&&i&&i.length>1&&N_e(V_e,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&h)for(i.groups=o=j_e(null),a=0;a<h.length;a++)o[(s=h[a])[0]]=i[s[1]];return i});var eBe=q_e;ame({target:"RegExp",proto:!0,forced:/./.exec!==eBe},{exec:eBe});var tBe=Nde,rBe=rye,nBe=eBe,iBe=vde,aBe=sve,oBe=$ve,sBe=aBe("species"),uBe=RegExp.prototype,cBe=function(e,t,r,n){var i=aBe(e),a=!iBe((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),o=a&&!iBe((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[sBe]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!a||!o||r){var s=tBe(/./[i]),u=t(i,""[e],(function(e,t,r,n,i){var o=tBe(e),u=t.exec;return u===nBe||u===uBe.exec?a&&!i?{done:!0,value:s(t,r,n)}:{done:!0,value:o(r,t,n)}:{done:!1}}));rBe(String.prototype,e,u[0]),rBe(uBe,i,u[1])}n&&oBe(uBe[i],"sham",!0)},lBe=Nde,fBe=uye,hBe=Wke,ABe=zde,dBe=lBe("".charAt),pBe=lBe("".charCodeAt),vBe=lBe("".slice),gBe=function(e){return function(t,r){var n,i,a=hBe(ABe(t)),o=fBe(r),s=a.length;return o<0||o>=s?e?"":void 0:(n=pBe(a,o))<55296||n>56319||o+1===s||(i=pBe(a,o+1))<56320||i>57343?e?dBe(a,o):n:e?vBe(a,o,o+2):i-56320+(n-55296<<10)+65536}},yBe={codeAt:gBe(!1),charAt:gBe(!0)}.charAt,mBe=function(e,t,r){return t+(r?yBe(e,t).length:1)},bBe=wde,wBe=Rve,xBe=Jde,kBe=Rde,_Be=eBe,BBe=TypeError,EBe=function(e,t){var r=e.exec;if(xBe(r)){var n=bBe(r,e,t);return null!==n&&wBe(n),n}if("RegExp"===kBe(e))return bBe(_Be,e,t);throw BBe("RegExp#exec called on incompatible receiver")},SBe=wde,CBe=Rve,IBe=pye,PBe=Wke,TBe=zde,OBe=Spe,LBe=mBe,NBe=EBe;cBe("match",(function(e,t,r){return[function(t){var r=TBe(this),n=null==t?void 0:OBe(t,e);return n?SBe(n,t,r):new RegExp(t)[e](PBe(r))},function(e){var n=CBe(this),i=PBe(e),a=r(t,n,i);if(a.done)return a.value;if(!n.global)return NBe(n,i);var o=n.unicode;n.lastIndex=0;for(var s,u=[],c=0;null!==(s=NBe(n,i));){var l=PBe(s[0]);u[c]=l,""===l&&(n.lastIndex=LBe(i,IBe(n.lastIndex),o)),c++}return 0===c?null:u}]}));var MBe=Nde,UBe=Hpe,FBe=Math.floor,RBe=MBe("".charAt),DBe=MBe("".replace),jBe=MBe("".slice),QBe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,HBe=/\$([$&'`]|\d{1,2})/g,KBe=sbe,VBe=wde,zBe=Nde,qBe=cBe,GBe=vde,WBe=Rve,JBe=Jde,XBe=uye,YBe=pye,$Be=Wke,ZBe=zde,eEe=mBe,tEe=Spe,rEe=function(e,t,r,n,i,a){var o=r+e.length,s=n.length,u=HBe;return void 0!==i&&(i=UBe(i),u=QBe),DBe(a,u,(function(a,u){var c;switch(RBe(u,0)){case"$":return"$";case"&":return e;case"`":return jBe(t,0,r);case"'":return jBe(t,o);case"<":c=i[jBe(u,1,-1)];break;default:var l=+u;if(0===l)return a;if(l>s){var f=FBe(l/10);return 0===f?a:f<=s?void 0===n[f-1]?RBe(u,1):n[f-1]+RBe(u,1):a}c=n[l-1]}return void 0===c?"":c}))},nEe=EBe,iEe=sve("replace"),aEe=Math.max,oEe=Math.min,sEe=zBe([].concat),uEe=zBe([].push),cEe=zBe("".indexOf),lEe=zBe("".slice),fEe=function(e){return void 0===e?e:String(e)},hEe="$0"==="a".replace(/./,"$0"),AEe=!!/./[iEe]&&""===/./[iEe]("a","$0"),dEe=!GBe((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));qBe("replace",(function(e,t,r){var n=AEe?"$":"$0";return[function(e,r){var n=ZBe(this),i=null==e?void 0:tEe(e,iEe);return i?VBe(i,e,n,r):VBe(t,$Be(n),e,r)},function(e,i){var a=WBe(this),o=$Be(e);if("string"==typeof i&&-1===cEe(i,n)&&-1===cEe(i,"$<")){var s=r(t,a,o,i);if(s.done)return s.value}var u=JBe(i);u||(i=$Be(i));var c=a.global;if(c){var l=a.unicode;a.lastIndex=0}for(var f=[];;){var h=nEe(a,o);if(null===h)break;if(uEe(f,h),!c)break;""===$Be(h[0])&&(a.lastIndex=eEe(o,YBe(a.lastIndex),l))}for(var A="",d=0,p=0;p<f.length;p++){for(var v=$Be((h=f[p])[0]),g=aEe(oEe(XBe(h.index),o.length),0),y=[],m=1;m<h.length;m++)uEe(y,fEe(h[m]));var b=h.groups;if(u){var w=sEe([v],y,g,o);void 0!==b&&uEe(w,b);var x=$Be(KBe(i,void 0,w))}else x=rEe(v,o,g,y,b,i);g>=d&&(A+=lEe(o,d,g)+x,d=g+v.length)}return A+lEe(o,d)}]}),!dEe||!hEe||AEe);var pEe,vEe=Yde,gEe=Rde,yEe=sve("match"),mEe=function(e){var t;return vEe(e)&&(void 0!==(t=e[yEe])?!!t:"RegExp"==gEe(e))},bEe=mEe,wEe=TypeError,xEe=function(e){if(bEe(e))throw wEe("The method doesn't accept regular expressions");return e},kEe=sve("match"),_Ee=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[kEe]=!1,"/./"[e](t)}catch(e){}}return!1},BEe=ame,EEe=Nde,SEe=pde.f,CEe=pye,IEe=Wke,PEe=xEe,TEe=zde,OEe=_Ee,LEe=EEe("".startsWith),NEe=EEe("".slice),MEe=Math.min,UEe=OEe("startsWith");BEe({target:"String",proto:!0,forced:!!(UEe||(pEe=SEe(String.prototype,"startsWith"),!pEe||pEe.writable))&&!UEe},{startsWith:function(e){var t=IEe(TEe(this));PEe(e);var r=CEe(MEe(arguments.length>1?arguments[1]:void 0,t.length)),n=IEe(e);return LEe?LEe(t,n,r):NEe(t,r,r+n.length)===n}});var FEe=sve,REe=S_e,DEe=Lve.f,jEe=FEe("unscopables"),QEe=Array.prototype;null==QEe[jEe]&&DEe(QEe,jEe,{configurable:!0,value:REe(null)});var HEe,KEe,VEe,zEe=!vde((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),qEe=zpe,GEe=Jde,WEe=Hpe,JEe=zEe,XEe=bge("IE_PROTO"),YEe=Object,$Ee=YEe.prototype,ZEe=JEe?YEe.getPrototypeOf:function(e){var t=WEe(e);if(qEe(t,XEe))return t[XEe];var r=t.constructor;return GEe(r)&&t instanceof r?r.prototype:t instanceof YEe?$Ee:null},eSe=vde,tSe=Jde,rSe=ZEe,nSe=rye,iSe=sve("iterator"),aSe=!1;[].keys&&("next"in(VEe=[].keys())?(KEe=rSe(rSe(VEe)))!==Object.prototype&&(HEe=KEe):aSe=!0);var oSe=null==HEe||eSe((function(){var e={};return HEe[iSe].call(e)!==e}));oSe&&(HEe={}),tSe(HEe[iSe])||nSe(HEe,iSe,(function(){return this}));var sSe={IteratorPrototype:HEe,BUGGY_SAFARI_ITERATORS:aSe},uSe=sSe.IteratorPrototype,cSe=S_e,lSe=Cde,fSe=gme,hSe=Lxe,ASe=function(){return this},dSe=ame,pSe=wde,vSe=Jde,gSe=function(e,t,r,n){var i=t+" Iterator";return e.prototype=cSe(uSe,{next:lSe(+!n,r)}),fSe(e,i,!1),hSe[i]=ASe,e},ySe=ZEe,mSe=Ame,bSe=gme,wSe=$ve,xSe=rye,kSe=Lxe,_Se=age.PROPER,BSe=age.CONFIGURABLE,ESe=sSe.IteratorPrototype,SSe=sSe.BUGGY_SAFARI_ITERATORS,CSe=sve("iterator"),ISe="keys",PSe="values",TSe="entries",OSe=function(){return this},LSe=Wde,NSe=function(e){QEe[jEe][e]=!0},MSe=Lxe,USe=Dge,FSe=Lve.f,RSe=function(e,t,r,n,i,a,o){gSe(r,t,n);var s,u,c,l=function(e){if(e===i&&p)return p;if(!SSe&&e in A)return A[e];switch(e){case ISe:case PSe:case TSe:return function(){return new r(this,e)}}return function(){return new r(this)}},f=t+" Iterator",h=!1,A=e.prototype,d=A[CSe]||A["@@iterator"]||i&&A[i],p=!SSe&&d||l(i),v="Array"==t&&A.entries||d;if(v&&(s=ySe(v.call(new e)))!==Object.prototype&&s.next&&(ySe(s)!==ESe&&(mSe?mSe(s,ESe):vSe(s[CSe])||xSe(s,CSe,OSe)),bSe(s,f,!0)),_Se&&i==PSe&&d&&d.name!==PSe&&(BSe?wSe(A,"name",PSe):(h=!0,p=function(){return pSe(d,this)})),i)if(u={values:l(PSe),keys:a?p:l(ISe),entries:l(TSe)},o)for(c in u)(SSe||h||!(c in A))&&xSe(A,c,u[c]);else dSe({target:t,proto:!0,forced:SSe||h},u);return A[CSe]!==p&&xSe(A,CSe,p,{name:i}),kSe[t]=p,u},DSe=gde,jSe="Array Iterator",QSe=USe.set,HSe=USe.getterFor(jSe),KSe=RSe(Array,"Array",(function(e,t){QSe(this,{type:jSe,target:LSe(e),index:0,kind:t})}),(function(){var e=HSe(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),VSe=MSe.Arguments=MSe.Array;if(NSe("keys"),NSe("values"),NSe("entries"),DSe&&"values"!==VSe.name)try{FSe(VSe,"name",{value:"values"})}catch(e){}var zSe=wve("span").classList,qSe=zSe&&zSe.constructor&&zSe.constructor.prototype,GSe=qSe===Object.prototype?void 0:qSe,WSe=dde,JSe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},XSe=GSe,YSe=KSe,$Se=$ve,ZSe=sve,eCe=ZSe("iterator"),tCe=ZSe("toStringTag"),rCe=YSe.values,nCe=function(e,t){if(e){if(e[eCe]!==rCe)try{$Se(e,eCe,rCe)}catch(t){e[eCe]=rCe}if(e[tCe]||$Se(e,tCe,t),JSe[t])for(var r in YSe)if(e[r]!==YSe[r])try{$Se(e,r,YSe[r])}catch(t){e[r]=YSe[r]}}};for(var iCe in JSe)nCe(WSe[iCe]&&WSe[iCe].prototype,iCe);nCe(XSe,"DOMTokenList");var aCe={exports:{}};!function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(aCe);var oCe=Mt(aCe.exports),sCe=Bpe,uCe=Hpe,cCe=Kde,lCe=gye,fCe=TypeError,hCe=function(e){return function(t,r,n,i){sCe(r);var a=uCe(t),o=cCe(a),s=lCe(a),u=e?s-1:0,c=e?-1:1;if(n<2)for(;;){if(u in o){i=o[u],u+=c;break}if(u+=c,e?u<0:s<=u)throw fCe("Reduce of empty array with no initial value")}for(;e?u>=0:s>u;u+=c)u in o&&(i=r(i,o[u],u,a));return i}},ACe={left:hCe(!1),right:hCe(!0)},dCe=vde,pCe=function(e,t){var r=[][e];return!!r&&dCe((function(){r.call(null,t||function(){return 1},1)}))},vCe=ACe.left,gCe=lpe,yCe=ome;ame({target:"Array",proto:!0,forced:!pCe("reduce")||!yCe&&gCe>79&&gCe<83},{reduce:function(e){var t=arguments.length;return vCe(this,e,t,t>1?arguments[1]:void 0)}});var mCe=ame,bCe=Nde,wCe=pde.f,xCe=pye,kCe=Wke,_Ce=xEe,BCe=zde,ECe=_Ee,SCe=bCe("".endsWith),CCe=bCe("".slice),ICe=Math.min,PCe=ECe("endsWith"),TCe=!PCe&&!!function(){var e=wCe(String.prototype,"endsWith");return e&&!e.writable}();mCe({target:"String",proto:!0,forced:!TCe&&!PCe},{endsWith:function(e){var t=kCe(BCe(this));_Ce(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:ICe(xCe(r),n),a=kCe(e);return SCe?SCe(t,a,i):CCe(t,i-a.length,i)===a}});var OCe=gve,LCe=Lve,NCe=Cde,MCe=hye,UCe=gye,FCe=function(e,t,r){var n=OCe(t);n in e?LCe.f(e,n,NCe(0,r)):e[n]=r},RCe=Array,DCe=Math.max,jCe=sbe,QCe=wde,HCe=Nde,KCe=cBe,VCe=mEe,zCe=Rve,qCe=zde,GCe=rbe,WCe=mBe,JCe=pye,XCe=Wke,YCe=Spe,$Ce=function(e,t,r){for(var n=UCe(e),i=MCe(t,n),a=MCe(void 0===r?n:r,n),o=RCe(DCe(a-i,0)),s=0;i<a;i++,s++)FCe(o,s,e[i]);return o.length=s,o},ZCe=EBe,eIe=eBe,tIe=vde,rIe=r_e.UNSUPPORTED_Y,nIe=4294967295,iIe=Math.min,aIe=[].push,oIe=HCe(/./.exec),sIe=HCe(aIe),uIe=HCe("".slice),cIe=!tIe((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));KCe("split",(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=XCe(qCe(this)),i=void 0===r?nIe:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!VCe(e))return QCe(t,n,e,i);for(var a,o,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,c+"g");(a=QCe(eIe,f,n))&&!((o=f.lastIndex)>l&&(sIe(u,uIe(n,l,a.index)),a.length>1&&a.index<n.length&&jCe(aIe,u,$Ce(a,1)),s=a[0].length,l=o,u.length>=i));)f.lastIndex===a.index&&f.lastIndex++;return l===n.length?!s&&oIe(f,"")||sIe(u,""):sIe(u,uIe(n,l)),u.length>i?$Ce(u,0,i):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:QCe(t,this,e,r)}:t,[function(t,r){var i=qCe(this),a=null==t?void 0:YCe(t,e);return a?QCe(a,t,i,r):QCe(n,XCe(i),t,r)},function(e,i){var a=zCe(this),o=XCe(e),s=r(n,a,o,i,n!==t);if(s.done)return s.value;var u=GCe(a,RegExp),c=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(rIe?"g":"y"),f=new u(rIe?"^(?:"+a.source+")":a,l),h=void 0===i?nIe:i>>>0;if(0===h)return[];if(0===o.length)return null===ZCe(f,o)?[o]:[];for(var A=0,d=0,p=[];d<o.length;){f.lastIndex=rIe?0:d;var v,g=ZCe(f,rIe?uIe(o,d):o);if(null===g||(v=iIe(JCe(f.lastIndex+(rIe?d:0)),o.length))===A)d=WCe(o,d,c);else{if(sIe(p,uIe(o,A,d)),p.length===h)return p;for(var y=1;y<=g.length-1;y++)if(sIe(p,g[y]),p.length===h)return p;d=A=v}}return sIe(p,uIe(o,A)),p}]}),!cIe,rIe);var lIe={exports:{}},fIe={exports:{}};(function(){var e,t,r,n,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?fIe.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(fIe.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var e;return 1e9*(e=t())[0]+e[1]},n=e(),a=1e9*process.uptime(),i=n-a):Date.now?(fIe.exports=function(){return Date.now()-r},r=Date.now()):(fIe.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(Nt);for(var hIe=fIe.exports,AIe="undefined"==typeof window?Nt:window,dIe=["moz","webkit"],pIe="AnimationFrame",vIe=AIe["request"+pIe],gIe=AIe["cancel"+pIe]||AIe["cancelRequest"+pIe],yIe=0;!vIe&&yIe<dIe.length;yIe++)vIe=AIe[dIe[yIe]+"Request"+pIe],gIe=AIe[dIe[yIe]+"Cancel"+pIe]||AIe[dIe[yIe]+"CancelRequest"+pIe];if(!vIe||!gIe){var mIe=0,bIe=0,wIe=[];vIe=function(e){if(0===wIe.length){var t=hIe(),r=Math.max(0,16.666666666666668-(t-mIe));mIe=r+t,setTimeout((function(){var e=wIe.slice(0);wIe.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(mIe)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return wIe.push({handle:++bIe,callback:e,cancelled:!1}),bIe},gIe=function(e){for(var t=0;t<wIe.length;t++)wIe[t].handle===e&&(wIe[t].cancelled=!0)}}lIe.exports=function(e){return vIe.call(AIe,e)},lIe.exports.cancel=function(){gIe.apply(AIe,arguments)},lIe.exports.polyfill=function(e){e||(e=AIe),e.requestAnimationFrame=vIe,e.cancelAnimationFrame=gIe};var xIe="\t\n\v\f\r \u2028\u2029\ufeff",kIe=zde,_Ie=Wke,BIe=Nde("".replace),EIe="[\t\n\v\f\r \u2028\u2029\ufeff]",SIe=RegExp("^"+EIe+EIe+"*"),CIe=RegExp(EIe+EIe+"*$"),IIe=function(e){return function(t){var r=_Ie(kIe(t));return 1&e&&(r=BIe(r,SIe,"")),2&e&&(r=BIe(r,CIe,"")),r}},PIe={start:IIe(1),end:IIe(2),trim:IIe(3)},TIe=age.PROPER,OIe=vde,LIe=xIe,NIe=PIe.trim;ame({target:"String",proto:!0,forced:function(e){return OIe((function(){return!!LIe[e]()||""!==""[e]()||TIe&&LIe[e].name!==e}))}("trim")},{trim:function(){return NIe(this)}});var MIe=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);if(o){var s=a(o);this.r=s[0],this.g=s[1],this.b=s[2],s.length>3&&(this.alpha=s[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r},this.getHelpXML=function(){for(var e=new Array,n=0;n<r.length;n++)for(var i=r[n].example,a=0;a<i.length;a++)e[e.length]=i[a];for(var o in t)e[e.length]=o;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(n=0;n<e.length;n++)try{var u=document.createElement("li"),c=new RGBColor(e[n]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+c.toHex()+"; color:"+c.toHex(),l.appendChild(document.createTextNode("test"));var f=document.createTextNode(" "+e[n]+" -> "+c.toRGB()+" -> "+c.toHex());u.appendChild(l),u.appendChild(f),s.appendChild(u)}catch(e){}return s}},UIe=ame,FIe=xye.indexOf,RIe=pCe,DIe=Nde([].indexOf),jIe=!!DIe&&1/DIe([1],1,-0)<0,QIe=RIe("indexOf");UIe({target:"Array",proto:!0,forced:jIe||!QIe},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return jIe?DIe(this,e,t)||0:FIe(this,e,t)}});var HIe=ame,KIe=xEe,VIe=zde,zIe=Wke,qIe=_Ee,GIe=Nde("".indexOf);HIe({target:"String",proto:!0,forced:!qIe("includes")},{includes:function(e){return!!~GIe(zIe(VIe(this)),zIe(KIe(e)),arguments.length>1?arguments[1]:void 0)}});var WIe=Rde,JIe=ame,XIe=Array.isArray||function(e){return"Array"==WIe(e)},YIe=Nde([].reverse),$Ie=[1,2];JIe({target:"Array",proto:!0,forced:String($Ie)===String($Ie.reverse())},{reverse:function(){return XIe(this)&&(this.length=this.length),YIe(this)}});
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
var ZIe=function(e,t){return(ZIe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function ePe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ZIe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function tPe(e,t){var r=e[0],n=e[1];return[r*Math.cos(t)-n*Math.sin(t),r*Math.sin(t)+n*Math.cos(t)]}function rPe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++)if("number"!=typeof e[r])throw new Error("assertNumbers arguments["+r+"] is not a number. "+i(e[r])+" == typeof "+e[r]);return!0}var nPe=Math.PI;function iPe(e,t,r){e.lArcFlag=0===e.lArcFlag?0:1,e.sweepFlag=0===e.sweepFlag?0:1;var n=e.rX,i=e.rY,a=e.x,o=e.y;n=Math.abs(e.rX),i=Math.abs(e.rY);var s=tPe([(t-a)/2,(r-o)/2],-e.xRot/180*nPe),u=s[0],c=s[1],l=Math.pow(u,2)/Math.pow(n,2)+Math.pow(c,2)/Math.pow(i,2);1<l&&(n*=Math.sqrt(l),i*=Math.sqrt(l)),e.rX=n,e.rY=i;var f=Math.pow(n,2)*Math.pow(c,2)+Math.pow(i,2)*Math.pow(u,2),h=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-f)/f)),A=n*c/i*h,d=-i*u/n*h,p=tPe([A,d],e.xRot/180*nPe);e.cX=p[0]+(t+a)/2,e.cY=p[1]+(r+o)/2,e.phi1=Math.atan2((c-d)/i,(u-A)/n),e.phi2=Math.atan2((-c-d)/i,(-u-A)/n),0===e.sweepFlag&&e.phi2>e.phi1&&(e.phi2-=2*nPe),1===e.sweepFlag&&e.phi2<e.phi1&&(e.phi2+=2*nPe),e.phi1*=180/nPe,e.phi2*=180/nPe}function aPe(e,t,r){rPe(e,t,r);var n=e*e+t*t-r*r;if(0>n)return[];if(0===n)return[[e*r/(e*e+t*t),t*r/(e*e+t*t)]];var i=Math.sqrt(n);return[[(e*r+t*i)/(e*e+t*t),(t*r-e*i)/(e*e+t*t)],[(e*r-t*i)/(e*e+t*t),(t*r+e*i)/(e*e+t*t)]]}var oPe,sPe=Math.PI/180;function uPe(e,t,r){return(1-r)*e+r*t}function cPe(e,t,r,n){return e+Math.cos(n/180*nPe)*t+Math.sin(n/180*nPe)*r}function lPe(e,t,r,n){var i=1e-6,a=t-e,o=r-t,s=3*a+3*(n-r)-6*o,u=6*(o-a),c=3*a;return Math.abs(s)<i?[-c/u]:function(e,t,r){void 0===r&&(r=1e-6);var n=e*e/4-t;if(n<-r)return[];if(n<=r)return[-e/2];var i=Math.sqrt(n);return[-e/2-i,-e/2+i]}(u/s,c/s,i)}function fPe(e,t,r,n,i){var a=1-i;return e*(a*a*a)+t*(3*a*a*i)+r*(3*a*i*i)+n*(i*i*i)}!function(e){function t(){return i((function(e,t,r){return e.relative&&(void 0!==e.x1&&(e.x1+=t),void 0!==e.y1&&(e.y1+=r),void 0!==e.x2&&(e.x2+=t),void 0!==e.y2&&(e.y2+=r),void 0!==e.x&&(e.x+=t),void 0!==e.y&&(e.y+=r),e.relative=!1),e}))}function r(){var e=NaN,t=NaN,r=NaN,n=NaN;return i((function(i,a,o){return i.type&gPe.SMOOTH_CURVE_TO&&(i.type=gPe.CURVE_TO,e=isNaN(e)?a:e,t=isNaN(t)?o:t,i.x1=i.relative?a-e:2*a-e,i.y1=i.relative?o-t:2*o-t),i.type&gPe.CURVE_TO?(e=i.relative?a+i.x2:i.x2,t=i.relative?o+i.y2:i.y2):(e=NaN,t=NaN),i.type&gPe.SMOOTH_QUAD_TO&&(i.type=gPe.QUAD_TO,r=isNaN(r)?a:r,n=isNaN(n)?o:n,i.x1=i.relative?a-r:2*a-r,i.y1=i.relative?o-n:2*o-n),i.type&gPe.QUAD_TO?(r=i.relative?a+i.x1:i.x1,n=i.relative?o+i.y1:i.y1):(r=NaN,n=NaN),i}))}function n(){var e=NaN,t=NaN;return i((function(r,n,i){if(r.type&gPe.SMOOTH_QUAD_TO&&(r.type=gPe.QUAD_TO,e=isNaN(e)?n:e,t=isNaN(t)?i:t,r.x1=r.relative?n-e:2*n-e,r.y1=r.relative?i-t:2*i-t),r.type&gPe.QUAD_TO){e=r.relative?n+r.x1:r.x1,t=r.relative?i+r.y1:r.y1;var a=r.x1,o=r.y1;r.type=gPe.CURVE_TO,r.x1=((r.relative?0:n)+2*a)/3,r.y1=((r.relative?0:i)+2*o)/3,r.x2=(r.x+2*a)/3,r.y2=(r.y+2*o)/3}else e=NaN,t=NaN;return r}))}function i(e){var t=0,r=0,n=NaN,i=NaN;return function(a){if(isNaN(n)&&!(a.type&gPe.MOVE_TO))throw new Error("path must start with moveto");var o=e(a,t,r,n,i);return a.type&gPe.CLOSE_PATH&&(t=n,r=i),void 0!==a.x&&(t=a.relative?t+a.x:a.x),void 0!==a.y&&(r=a.relative?r+a.y:a.y),a.type&gPe.MOVE_TO&&(n=t,i=r),o}}function a(e,t,r,n,a,o){return rPe(e,t,r,n,a,o),i((function(i,s,u,c){var l=i.x1,f=i.x2,h=i.relative&&!isNaN(c),A=void 0!==i.x?i.x:h?0:s,d=void 0!==i.y?i.y:h?0:u;function p(e){return e*e}i.type&gPe.HORIZ_LINE_TO&&0!==t&&(i.type=gPe.LINE_TO,i.y=i.relative?0:u),i.type&gPe.VERT_LINE_TO&&0!==r&&(i.type=gPe.LINE_TO,i.x=i.relative?0:s),void 0!==i.x&&(i.x=i.x*e+d*r+(h?0:a)),void 0!==i.y&&(i.y=A*t+i.y*n+(h?0:o)),void 0!==i.x1&&(i.x1=i.x1*e+i.y1*r+(h?0:a)),void 0!==i.y1&&(i.y1=l*t+i.y1*n+(h?0:o)),void 0!==i.x2&&(i.x2=i.x2*e+i.y2*r+(h?0:a)),void 0!==i.y2&&(i.y2=f*t+i.y2*n+(h?0:o));var v=e*n-t*r;if(void 0!==i.xRot&&(1!==e||0!==t||0!==r||1!==n))if(0===v)delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag,i.type=gPe.LINE_TO;else{var g=i.xRot*Math.PI/180,y=Math.sin(g),m=Math.cos(g),b=1/p(i.rX),w=1/p(i.rY),x=p(m)*b+p(y)*w,k=2*y*m*(b-w),_=p(y)*b+p(m)*w,B=x*n*n-k*t*n+_*t*t,E=k*(e*n+t*r)-2*(x*r*n+_*e*t),S=x*r*r-k*e*r+_*e*e,C=(Math.atan2(E,B-S)+Math.PI)%Math.PI/2,I=Math.sin(C),P=Math.cos(C);i.rX=Math.abs(v)/Math.sqrt(B*p(P)+E*I*P+S*p(I)),i.rY=Math.abs(v)/Math.sqrt(B*p(I)-E*I*P+S*p(P)),i.xRot=180*C/Math.PI}return void 0!==i.sweepFlag&&0>v&&(i.sweepFlag=+!i.sweepFlag),i}))}e.ROUND=function(e){function t(t){return Math.round(t*e)/e}return void 0===e&&(e=1e13),rPe(e),function(e){return void 0!==e.x1&&(e.x1=t(e.x1)),void 0!==e.y1&&(e.y1=t(e.y1)),void 0!==e.x2&&(e.x2=t(e.x2)),void 0!==e.y2&&(e.y2=t(e.y2)),void 0!==e.x&&(e.x=t(e.x)),void 0!==e.y&&(e.y=t(e.y)),void 0!==e.rX&&(e.rX=t(e.rX)),void 0!==e.rY&&(e.rY=t(e.rY)),e}},e.TO_ABS=t,e.TO_REL=function(){return i((function(e,t,r){return e.relative||(void 0!==e.x1&&(e.x1-=t),void 0!==e.y1&&(e.y1-=r),void 0!==e.x2&&(e.x2-=t),void 0!==e.y2&&(e.y2-=r),void 0!==e.x&&(e.x-=t),void 0!==e.y&&(e.y-=r),e.relative=!0),e}))},e.NORMALIZE_HVZ=function(e,t,r){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),i((function(n,i,a,o,s){if(isNaN(o)&&!(n.type&gPe.MOVE_TO))throw new Error("path must start with moveto");return t&&n.type&gPe.HORIZ_LINE_TO&&(n.type=gPe.LINE_TO,n.y=n.relative?0:a),r&&n.type&gPe.VERT_LINE_TO&&(n.type=gPe.LINE_TO,n.x=n.relative?0:i),e&&n.type&gPe.CLOSE_PATH&&(n.type=gPe.LINE_TO,n.x=n.relative?o-i:o,n.y=n.relative?s-a:s),n.type&gPe.ARC&&(0===n.rX||0===n.rY)&&(n.type=gPe.LINE_TO,delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag),n}))},e.NORMALIZE_ST=r,e.QT_TO_C=n,e.INFO=i,e.SANITIZE=function(e){void 0===e&&(e=0),rPe(e);var t=NaN,r=NaN,n=NaN,a=NaN;return i((function(i,o,s,u,c){var l=Math.abs,f=!1,h=0,A=0;if(i.type&gPe.SMOOTH_CURVE_TO&&(h=isNaN(t)?0:o-t,A=isNaN(r)?0:s-r),i.type&(gPe.CURVE_TO|gPe.SMOOTH_CURVE_TO)?(t=i.relative?o+i.x2:i.x2,r=i.relative?s+i.y2:i.y2):(t=NaN,r=NaN),i.type&gPe.SMOOTH_QUAD_TO?(n=isNaN(n)?o:2*o-n,a=isNaN(a)?s:2*s-a):i.type&gPe.QUAD_TO?(n=i.relative?o+i.x1:i.x1,a=i.relative?s+i.y1:i.y2):(n=NaN,a=NaN),i.type&gPe.LINE_COMMANDS||i.type&gPe.ARC&&(0===i.rX||0===i.rY||!i.lArcFlag)||i.type&gPe.CURVE_TO||i.type&gPe.SMOOTH_CURVE_TO||i.type&gPe.QUAD_TO||i.type&gPe.SMOOTH_QUAD_TO){var d=void 0===i.x?0:i.relative?i.x:i.x-o,p=void 0===i.y?0:i.relative?i.y:i.y-s;h=isNaN(n)?void 0===i.x1?h:i.relative?i.x:i.x1-o:n-o,A=isNaN(a)?void 0===i.y1?A:i.relative?i.y:i.y1-s:a-s;var v=void 0===i.x2?0:i.relative?i.x:i.x2-o,g=void 0===i.y2?0:i.relative?i.y:i.y2-s;l(d)<=e&&l(p)<=e&&l(h)<=e&&l(A)<=e&&l(v)<=e&&l(g)<=e&&(f=!0)}return i.type&gPe.CLOSE_PATH&&l(o-u)<=e&&l(s-c)<=e&&(f=!0),f?[]:i}))},e.MATRIX=a,e.ROTATE=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),rPe(e,t,r);var n=Math.sin(e),i=Math.cos(e);return a(i,n,-n,i,t-t*i+r*n,r-t*n-r*i)},e.TRANSLATE=function(e,t){return void 0===t&&(t=0),rPe(e,t),a(1,0,0,1,e,t)},e.SCALE=function(e,t){return void 0===t&&(t=e),rPe(e,t),a(e,0,0,t,0,0)},e.SKEW_X=function(e){return rPe(e),a(1,0,Math.atan(e),1,0,0)},e.SKEW_Y=function(e){return rPe(e),a(1,Math.atan(e),0,1,0,0)},e.X_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),rPe(e),a(-1,0,0,1,e,0)},e.Y_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),rPe(e),a(1,0,0,-1,0,e)},e.A_TO_C=function(){return i((function(e,t,r){return gPe.ARC===e.type?function(e,t,r){var n,i,a,o;e.cX||iPe(e,t,r);for(var s=Math.min(e.phi1,e.phi2),u=Math.max(e.phi1,e.phi2)-s,c=Math.ceil(u/90),l=new Array(c),f=t,h=r,A=0;A<c;A++){var d=uPe(e.phi1,e.phi2,A/c),p=uPe(e.phi1,e.phi2,(A+1)/c),v=p-d,g=4/3*Math.tan(v*sPe/4),y=[Math.cos(d*sPe)-g*Math.sin(d*sPe),Math.sin(d*sPe)+g*Math.cos(d*sPe)],m=y[0],b=y[1],w=[Math.cos(p*sPe),Math.sin(p*sPe)],x=w[0],k=w[1],_=[x+g*Math.sin(p*sPe),k-g*Math.cos(p*sPe)],B=_[0],E=_[1];l[A]={relative:e.relative,type:gPe.CURVE_TO};var S=function(t,r){var n=tPe([t*e.rX,r*e.rY],e.xRot),i=n[0],a=n[1];return[e.cX+i,e.cY+a]};n=S(m,b),l[A].x1=n[0],l[A].y1=n[1],i=S(B,E),l[A].x2=i[0],l[A].y2=i[1],a=S(x,k),l[A].x=a[0],l[A].y=a[1],e.relative&&(l[A].x1-=f,l[A].y1-=h,l[A].x2-=f,l[A].y2-=h,l[A].x-=f,l[A].y-=h),f=(o=[l[A].x,l[A].y])[0],h=o[1]}return l}(e,e.relative?0:t,e.relative?0:r):e}))},e.ANNOTATE_ARCS=function(){return i((function(e,t,r){return e.relative&&(t=0,r=0),gPe.ARC===e.type&&iPe(e,t,r),e}))},e.CLONE=function(){return function(e){var t={};for(var r in e)t[r]=e[r];return t}},e.CALCULATE_BOUNDS=function(){var e=t(),a=n(),o=r(),s=i((function(t,r,n){var i=o(a(e(function(e){var t={};for(var r in e)t[r]=e[r];return t}(t))));function u(e){e>s.maxX&&(s.maxX=e),e<s.minX&&(s.minX=e)}function c(e){e>s.maxY&&(s.maxY=e),e<s.minY&&(s.minY=e)}if(i.type&gPe.DRAWING_COMMANDS&&(u(r),c(n)),i.type&gPe.HORIZ_LINE_TO&&u(i.x),i.type&gPe.VERT_LINE_TO&&c(i.y),i.type&gPe.LINE_TO&&(u(i.x),c(i.y)),i.type&gPe.CURVE_TO){u(i.x),c(i.y);for(var l=0,f=lPe(r,i.x1,i.x2,i.x);l<f.length;l++)0<(S=f[l])&&1>S&&u(fPe(r,i.x1,i.x2,i.x,S));for(var h=0,A=lPe(n,i.y1,i.y2,i.y);h<A.length;h++)0<(S=A[h])&&1>S&&c(fPe(n,i.y1,i.y2,i.y,S))}if(i.type&gPe.ARC){u(i.x),c(i.y),iPe(i,r,n);for(var d=i.xRot/180*Math.PI,p=Math.cos(d)*i.rX,v=Math.sin(d)*i.rX,g=-Math.sin(d)*i.rY,y=Math.cos(d)*i.rY,m=i.phi1<i.phi2?[i.phi1,i.phi2]:-180>i.phi2?[i.phi2+360,i.phi1+360]:[i.phi2,i.phi1],b=m[0],w=m[1],x=function(e){var t=e[0],r=e[1],n=180*Math.atan2(r,t)/Math.PI;return n<b?n+360:n},k=0,_=aPe(g,-p,0).map(x);k<_.length;k++)(S=_[k])>b&&S<w&&u(cPe(i.cX,p,g,S));for(var B=0,E=aPe(y,-v,0).map(x);B<E.length;B++){var S;(S=E[B])>b&&S<w&&c(cPe(i.cY,v,y,S))}}return t}));return s.minX=1/0,s.maxX=-1/0,s.minY=1/0,s.maxY=-1/0,s}}(oPe||(oPe={}));var hPe,APe=function(){function e(){}return e.prototype.round=function(e){return this.transform(oPe.ROUND(e))},e.prototype.toAbs=function(){return this.transform(oPe.TO_ABS())},e.prototype.toRel=function(){return this.transform(oPe.TO_REL())},e.prototype.normalizeHVZ=function(e,t,r){return this.transform(oPe.NORMALIZE_HVZ(e,t,r))},e.prototype.normalizeST=function(){return this.transform(oPe.NORMALIZE_ST())},e.prototype.qtToC=function(){return this.transform(oPe.QT_TO_C())},e.prototype.aToC=function(){return this.transform(oPe.A_TO_C())},e.prototype.sanitize=function(e){return this.transform(oPe.SANITIZE(e))},e.prototype.translate=function(e,t){return this.transform(oPe.TRANSLATE(e,t))},e.prototype.scale=function(e,t){return this.transform(oPe.SCALE(e,t))},e.prototype.rotate=function(e,t,r){return this.transform(oPe.ROTATE(e,t,r))},e.prototype.matrix=function(e,t,r,n,i,a){return this.transform(oPe.MATRIX(e,t,r,n,i,a))},e.prototype.skewX=function(e){return this.transform(oPe.SKEW_X(e))},e.prototype.skewY=function(e){return this.transform(oPe.SKEW_Y(e))},e.prototype.xSymmetry=function(e){return this.transform(oPe.X_AXIS_SYMMETRY(e))},e.prototype.ySymmetry=function(e){return this.transform(oPe.Y_AXIS_SYMMETRY(e))},e.prototype.annotateArcs=function(){return this.transform(oPe.ANNOTATE_ARCS())},e}(),dPe=function(e){return" "===e||"\t"===e||"\r"===e||"\n"===e},pPe=function(e){return"0".charCodeAt(0)<=e.charCodeAt(0)&&e.charCodeAt(0)<="9".charCodeAt(0)},vPe=function(e){function t(){var t=e.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return ePe(t,e),t.prototype.finish=function(e){if(void 0===e&&(e=[]),this.parse(" ",e),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},t.prototype.parse=function(e,t){var r=this;void 0===t&&(t=[]);for(var n=function(e){t.push(e),r.curArgs.length=0,r.canParseCommandOrComma=!0},i=0;i<e.length;i++){var a=e[i],o=!(this.curCommandType!==gPe.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),s=pPe(a)&&("0"===this.curNumber&&"0"===a||o);if(!pPe(a)||s)if("e"!==a&&"E"!==a)if("-"!==a&&"+"!==a||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==a||this.curNumberHasExp||this.curNumberHasDecimal||o){if(this.curNumber&&-1!==this.curCommandType){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+i);if(this.curCommandType===gPe.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+i+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+i+'"');this.curArgs.push(u),this.curArgs.length===yPe[this.curCommandType]&&(gPe.HORIZ_LINE_TO===this.curCommandType?n({type:gPe.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):gPe.VERT_LINE_TO===this.curCommandType?n({type:gPe.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===gPe.MOVE_TO||this.curCommandType===gPe.LINE_TO||this.curCommandType===gPe.SMOOTH_QUAD_TO?(n({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),gPe.MOVE_TO===this.curCommandType&&(this.curCommandType=gPe.LINE_TO)):this.curCommandType===gPe.CURVE_TO?n({type:gPe.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===gPe.SMOOTH_CURVE_TO?n({type:gPe.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===gPe.QUAD_TO?n({type:gPe.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===gPe.ARC&&n({type:gPe.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!dPe(a))if(","===a&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==a&&"-"!==a&&"."!==a)if(s)this.curNumber=a,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+i+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+i+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==a&&"Z"!==a)if("h"===a||"H"===a)this.curCommandType=gPe.HORIZ_LINE_TO,this.curCommandRelative="h"===a;else if("v"===a||"V"===a)this.curCommandType=gPe.VERT_LINE_TO,this.curCommandRelative="v"===a;else if("m"===a||"M"===a)this.curCommandType=gPe.MOVE_TO,this.curCommandRelative="m"===a;else if("l"===a||"L"===a)this.curCommandType=gPe.LINE_TO,this.curCommandRelative="l"===a;else if("c"===a||"C"===a)this.curCommandType=gPe.CURVE_TO,this.curCommandRelative="c"===a;else if("s"===a||"S"===a)this.curCommandType=gPe.SMOOTH_CURVE_TO,this.curCommandRelative="s"===a;else if("q"===a||"Q"===a)this.curCommandType=gPe.QUAD_TO,this.curCommandRelative="q"===a;else if("t"===a||"T"===a)this.curCommandType=gPe.SMOOTH_QUAD_TO,this.curCommandRelative="t"===a;else{if("a"!==a&&"A"!==a)throw new SyntaxError('Unexpected character "'+a+'" at index '+i+".");this.curCommandType=gPe.ARC,this.curCommandRelative="a"===a}else t.push({type:gPe.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal="."===a}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0;else this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp}return t},t.prototype.transform=function(e){return Object.create(this,{parse:{value:function(t,r){void 0===r&&(r=[]);for(var n=0,i=Object.getPrototypeOf(this).parse.call(this,t);n<i.length;n++){var a=i[n],o=e(a);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return r}}})},t}(APe),gPe=function(e){function t(r){var n=e.call(this)||this;return n.commands="string"==typeof r?t.parse(r):r,n}return ePe(t,e),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var e=oPe.CALCULATE_BOUNDS();return this.transform(e),e},t.prototype.transform=function(e){for(var t=[],r=0,n=this.commands;r<n.length;r++){var i=e(n[r]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return this.commands=t,this},t.encode=function(e){return function(e){var t="";Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var n=e[r];if(n.type===gPe.CLOSE_PATH)t+="z";else if(n.type===gPe.HORIZ_LINE_TO)t+=(n.relative?"h":"H")+n.x;else if(n.type===gPe.VERT_LINE_TO)t+=(n.relative?"v":"V")+n.y;else if(n.type===gPe.MOVE_TO)t+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===gPe.LINE_TO)t+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===gPe.CURVE_TO)t+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===gPe.SMOOTH_CURVE_TO)t+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===gPe.QUAD_TO)t+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===gPe.SMOOTH_QUAD_TO)t+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==gPe.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+r+".");t+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return t}(e)},t.parse=function(e){var t=new vPe,r=[];return t.parse(e,r),t.finish(r),r},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(APe),yPe=((hPe={})[gPe.MOVE_TO]=2,hPe[gPe.LINE_TO]=2,hPe[gPe.HORIZ_LINE_TO]=1,hPe[gPe.VERT_LINE_TO]=1,hPe[gPe.CLOSE_PATH]=0,hPe[gPe.QUAD_TO]=4,hPe[gPe.SMOOTH_QUAD_TO]=2,hPe[gPe.CURVE_TO]=6,hPe[gPe.SMOOTH_CURVE_TO]=4,hPe[gPe.ARC]=7,hPe),mPe=wde,bPe=zpe,wPe=rpe,xPe=Xke,kPe=RegExp.prototype,_Pe=age.PROPER,BPe=rye,EPe=Rve,SPe=Wke,CPe=vde,IPe=function(e){var t=e.flags;return void 0!==t||"flags"in kPe||bPe(e,"flags")||!wPe(kPe,e)?t:mPe(xPe,e)},PPe="toString",TPe=RegExp.prototype.toString,OPe=CPe((function(){return"/a/b"!=TPe.call({source:"a",flags:"b"})})),LPe=_Pe&&TPe.name!=PPe;function NPe(e){return NPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NPe(e)}(OPe||LPe)&&BPe(RegExp.prototype,PPe,(function(){var e=EPe(this);return"/"+SPe(e.source)+"/"+SPe(IPe(e))}),{unsafe:!0});
/**
  * StackBlur - a fast almost Gaussian Blur For Canvas
  *
  * In case you find this class useful - especially in commercial projects -
  * I am not totally unhappy for a small donation to my PayPal account
  * mario@quasimondo.de
  *
  * Or support me on flattr:
  * {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.
  *
  * @module StackBlur
  * @author Mario Klingemann
  * Contact: mario@quasimondo.com
  * Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}
  * Twitter: @quasimondo
  *
  * @copyright (c) 2010 Mario Klingemann
  *
  * Permission is hereby granted, free of charge, to any person
  * obtaining a copy of this software and associated documentation
  * files (the "Software"), to deal in the Software without
  * restriction, including without limitation the rights to use,
  * copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the
  * Software is furnished to do so, subject to the following
  * conditions:
  *
  * The above copyright notice and this permission notice shall be
  * included in all copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  * OTHER DEALINGS IN THE SOFTWARE.
  */
var MPe=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],UPe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function FPe(e,t,r,n,i,a){if(!(isNaN(a)||a<1)){a|=0;var o=function(e,t,r,n,i){if("string"==typeof e&&(e=document.getElementById(e)),!e||"object"!==NPe(e)||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var a=e.getContext("2d");try{return a.getImageData(t,r,n,i)}catch(e){throw new Error("unable to access image data: "+e)}}(e,t,r,n,i);o=function(e,t,r,n,i,a){for(var o,s=e.data,u=2*a+1,c=n-1,l=i-1,f=a+1,h=f*(f+1)/2,A=new RPe,d=A,p=1;p<u;p++)d=d.next=new RPe,p===f&&(o=d);d.next=A;for(var v=null,g=null,y=0,m=0,b=MPe[a],w=UPe[a],x=0;x<i;x++){d=A;for(var k=s[m],_=s[m+1],B=s[m+2],E=s[m+3],S=0;S<f;S++)d.r=k,d.g=_,d.b=B,d.a=E,d=d.next;for(var C=0,I=0,P=0,T=0,O=f*k,L=f*_,N=f*B,M=f*E,U=h*k,F=h*_,R=h*B,D=h*E,j=1;j<f;j++){var Q=m+((c<j?c:j)<<2),H=s[Q],K=s[Q+1],V=s[Q+2],z=s[Q+3],q=f-j;U+=(d.r=H)*q,F+=(d.g=K)*q,R+=(d.b=V)*q,D+=(d.a=z)*q,C+=H,I+=K,P+=V,T+=z,d=d.next}v=A,g=o;for(var G=0;G<n;G++){var W=D*b>>w;if(s[m+3]=W,0!==W){var J=255/W;s[m]=(U*b>>w)*J,s[m+1]=(F*b>>w)*J,s[m+2]=(R*b>>w)*J}else s[m]=s[m+1]=s[m+2]=0;U-=O,F-=L,R-=N,D-=M,O-=v.r,L-=v.g,N-=v.b,M-=v.a;var X=G+a+1;X=y+(X<c?X:c)<<2,U+=C+=v.r=s[X],F+=I+=v.g=s[X+1],R+=P+=v.b=s[X+2],D+=T+=v.a=s[X+3],v=v.next;var Y=g,$=Y.r,Z=Y.g,ee=Y.b,te=Y.a;O+=$,L+=Z,N+=ee,M+=te,C-=$,I-=Z,P-=ee,T-=te,g=g.next,m+=4}y+=n}for(var re=0;re<n;re++){var ne=s[m=re<<2],ie=s[m+1],ae=s[m+2],oe=s[m+3],se=f*ne,ue=f*ie,ce=f*ae,le=f*oe,fe=h*ne,he=h*ie,Ae=h*ae,de=h*oe;d=A;for(var pe=0;pe<f;pe++)d.r=ne,d.g=ie,d.b=ae,d.a=oe,d=d.next;for(var ve=n,ge=0,ye=0,me=0,be=0,we=1;we<=a;we++){m=ve+re<<2;var xe=f-we;fe+=(d.r=ne=s[m])*xe,he+=(d.g=ie=s[m+1])*xe,Ae+=(d.b=ae=s[m+2])*xe,de+=(d.a=oe=s[m+3])*xe,be+=ne,ge+=ie,ye+=ae,me+=oe,d=d.next,we<l&&(ve+=n)}m=re,v=A,g=o;for(var ke=0;ke<i;ke++){var _e=m<<2;s[_e+3]=oe=de*b>>w,oe>0?(oe=255/oe,s[_e]=(fe*b>>w)*oe,s[_e+1]=(he*b>>w)*oe,s[_e+2]=(Ae*b>>w)*oe):s[_e]=s[_e+1]=s[_e+2]=0,fe-=se,he-=ue,Ae-=ce,de-=le,se-=v.r,ue-=v.g,ce-=v.b,le-=v.a,_e=re+((_e=ke+f)<l?_e:l)*n<<2,fe+=be+=v.r=s[_e],he+=ge+=v.g=s[_e+1],Ae+=ye+=v.b=s[_e+2],de+=me+=v.a=s[_e+3],v=v.next,se+=ne=g.r,ue+=ie=g.g,ce+=ae=g.b,le+=oe=g.a,be-=ne,ge-=ie,ye-=ae,me-=oe,g=g.next,m+=n}}return e}(o,0,0,n,i,a),e.getContext("2d").putImageData(o,t,r)}}var RPe=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var DPe=Object.freeze({__proto__:null,offscreen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.DOMParser,r={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas:function(e,t){return new OffscreenCanvas(e,t)},createImage:function(e){return zke(n().mark((function t(){var r,i,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.blob();case 5:return i=t.sent,t.next=8,createImageBitmap(i);case 8:return a=t.sent,t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))()}};return"undefined"==typeof DOMParser&&void 0!==t||Reflect.deleteProperty(r,"DOMParser"),r},node:function(e){var t=e.DOMParser,r=e.canvas;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,fetch:e.fetch,createCanvas:r.createCanvas,createImage:r.loadImage}}});function jPe(e){return e.replace(/(?!\u3000)\s+/gm," ")}function QPe(e){return e.replace(/^[\n \t]+/,"")}function HPe(e){return e.replace(/[\n \t]+$/,"")}function KPe(e){return((e||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var VPe=/^[A-Z-]+$/;function zPe(e){return VPe.test(e)?e.toLowerCase():e}function qPe(e){var t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(e)||[];return t[2]||t[3]||t[4]}function GPe(e){if(!e.startsWith("rgb"))return e;var t=3;return e.replace(/\d+(\.\d+)?/g,(function(e,r){return t--&&r?String(Math.round(parseFloat(e))):e}))}var WPe=/(\[[^\]]+\])/g,JPe=/(#[^\s+>~.[:]+)/g,XPe=/(\.[^\s+>~.[:]+)/g,YPe=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,$Pe=/(:[\w-]+\([^)]*\))/gi,ZPe=/(:[^\s+>~.[:]+)/g,eTe=/([^\s+>~.[:]+)/g;function tTe(e,t){var r=t.exec(e);return r?[e.replace(t," "),r.length]:[e,0]}function rTe(e){var t=[0,0,0],r=e.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0,i=B(tTe(r,WPe),2);r=i[0],n=i[1],t[1]+=n;var a=B(tTe(r,JPe),2);r=a[0],n=a[1],t[0]+=n;var o=B(tTe(r,XPe),2);r=o[0],n=o[1],t[1]+=n;var s=B(tTe(r,YPe),2);r=s[0],n=s[1],t[2]+=n;var u=B(tTe(r,$Pe),2);r=u[0],n=u[1],t[1]+=n;var c=B(tTe(r,ZPe),2);r=c[0],n=c[1],t[1]+=n;var l=B(tTe(r=r.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),eTe),2);return r=l[0],n=l[1],t[2]+=n,t.join("")}var nTe=1e-8;function iTe(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function aTe(e,t){return(e[0]*t[0]+e[1]*t[1])/(iTe(e)*iTe(t))}function oTe(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(aTe(e,t))}function sTe(e){return e*e*e}function uTe(e){return 3*e*e*(1-e)}function cTe(e){return 3*e*(1-e)*(1-e)}function lTe(e){return(1-e)*(1-e)*(1-e)}function fTe(e){return e*e}function hTe(e){return 2*e*(1-e)}function ATe(e){return(1-e)*(1-e)}var dTe=function(){function e(t,r,n){s(this,e),this.document=t,this.name=r,this.value=n,this.isNormalizedColor=!1}return c(e,[{key:"split",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",r=this.document,n=this.name;return jPe(this.getString()).trim().split(t).map((function(t){return new e(r,n,t)}))}},{key:"hasValue",value:function(e){var t=this.value;return null!==t&&""!==t&&(e||0!==t)&&void 0!==t}},{key:"isString",value:function(e){var t=this.value,r="string"==typeof t;return r&&e?e.test(t):r}},{key:"isUrlDefinition",value:function(){return this.isString(/^url\(/)}},{key:"isPixels",value:function(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}},{key:"setValue",value:function(e){return this.value=e,this}},{key:"getValue",value:function(e){return void 0===e||this.hasValue()?this.value:e}},{key:"getNumber",value:function(e){if(!this.hasValue())return void 0===e?0:parseFloat(e);var t=this.value,r=parseFloat(t);return this.isString(/%$/)&&(r/=100),r}},{key:"getString",value:function(e){return void 0===e||this.hasValue()?void 0===this.value?"":String(this.value):String(e)}},{key:"getColor",value:function(e){var t=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=GPe(t),this.value=t),t}},{key:"getDpi",value:function(){return 96}},{key:"getRem",value:function(){return this.document.rootEmSize}},{key:"getEm",value:function(){return this.document.emSize}},{key:"getUnits",value:function(){return this.getString().replace(/[0-9.-]/g,"")}},{key:"getPixels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var r="boolean"==typeof e?[void 0,e]:[e],n=B(r,2),i=n[0],a=n[1],o=this.document.screen.viewPort;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(o.computeSize("x"),o.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(o.computeSize("x"),o.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*o.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*o.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&a:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*o.computeSize(i);default:var s=this.getNumber();return t&&s<1?s*o.computeSize(i):s}}},{key:"getMilliseconds",value:function(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}},{key:"getRadians",value:function(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}},{key:"getDefinition",value:function(){var e=this.getString(),t=/#([^)'"]+)/.exec(e);return t&&(t=t[1]),t||(t=e),this.document.definitions[t]}},{key:"getFillStyleDefinition",value:function(e,t){var r=this.getDefinition();if(!r)return null;if("function"==typeof r.createGradient)return r.createGradient(this.document.ctx,e,t);if("function"==typeof r.createPattern){if(r.getHrefAttribute().hasValue()){var n=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),n.hasValue()&&r.getAttribute("patternTransform",!0).setValue(n.value)}return r.createPattern(this.document.ctx,e,t)}return null}},{key:"getTextBaseline",value:function(){return this.hasValue()?e.textBaselineMapping[this.getString()]:null}},{key:"addOpacity",value:function(t){for(var r=this.getColor(),n=r.length,i=0,a=0;a<n&&(","===r[a]&&i++,3!==i);a++);if(t.hasValue()&&this.isString()&&3!==i){var o=new MIe(r);o.ok&&(o.alpha=t.getNumber(),r=o.toRGBA())}return new e(this.document,this.name,r)}}],[{key:"empty",value:function(t){return new e(t,"EMPTY","")}}]),e}();dTe.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};var pTe=function(){function e(){s(this,e),this.viewPorts=[]}return c(e,[{key:"clear",value:function(){this.viewPorts=[]}},{key:"setCurrent",value:function(e,t){this.viewPorts.push({width:e,height:t})}},{key:"removeCurrent",value:function(){this.viewPorts.pop()}},{key:"getCurrent",value:function(){var e=this.viewPorts;return e[e.length-1]}},{key:"width",get:function(){return this.getCurrent().width}},{key:"height",get:function(){return this.getCurrent().height}},{key:"computeSize",value:function(e){return"number"==typeof e?e:"x"===e?this.width:"y"===e?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}]),e}(),vTe=function(){function e(t,r){s(this,e),this.x=t,this.y=r}return c(e,[{key:"angleTo",value:function(e){return Math.atan2(e.y-this.y,e.x-this.x)}},{key:"applyTransform",value:function(e){var t=this.x,r=this.y,n=t*e[0]+r*e[2]+e[4],i=t*e[1]+r*e[3]+e[5];this.x=n,this.y=i}}],[{key:"parse",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=KPe(t),i=B(n,2),a=i[0],o=void 0===a?r:a,s=i[1],u=void 0===s?r:s;return new e(o,u)}},{key:"parseScale",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=KPe(t),i=B(n,2),a=i[0],o=void 0===a?r:a,s=i[1],u=void 0===s?o:s;return new e(o,u)}},{key:"parsePath",value:function(t){for(var r=KPe(t),n=r.length,i=[],a=0;a<n;a+=2)i.push(new e(r[a],r[a+1]));return i}}]),e}(),gTe=function(){function e(t){s(this,e),this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}return c(e,[{key:"isWorking",value:function(){return this.working}},{key:"start",value:function(){if(!this.working){var e=this.screen,t=this.onClick,r=this.onMouseMove,n=e.ctx.canvas;n.onclick=t,n.onmousemove=r,this.working=!0}}},{key:"stop",value:function(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}},{key:"hasEvents",value:function(){return this.working&&this.events.length>0}},{key:"runEvents",value:function(){if(this.working){var e=this.screen,t=this.events,r=this.eventElements,n=e.ctx.canvas.style;n&&(n.cursor=""),t.forEach((function(e,t){for(var n=e.run,i=r[t];i;)n(i),i=i.parent})),this.events=[],this.eventElements=[]}}},{key:"checkPath",value:function(e,t){if(this.working&&t){var r=this.events,n=this.eventElements;r.forEach((function(r,i){var a=r.x,o=r.y;!n[i]&&t.isPointInPath&&t.isPointInPath(a,o)&&(n[i]=e)}))}}},{key:"checkBoundingBox",value:function(e,t){if(this.working&&t){var r=this.events,n=this.eventElements;r.forEach((function(r,i){var a=r.x,o=r.y;!n[i]&&t.isPointInBox(a,o)&&(n[i]=e)}))}}},{key:"mapXY",value:function(e,t){for(var r=this.screen,n=r.window,i=r.ctx,a=new vTe(e,t),o=i.canvas;o;)a.x-=o.offsetLeft,a.y-=o.offsetTop,o=o.offsetParent;return n.scrollX&&(a.x+=n.scrollX),n.scrollY&&(a.y+=n.scrollY),a}},{key:"onClick",value:function(e){var t=this.mapXY(e.clientX,e.clientY),r=t.x,n=t.y;this.events.push({type:"onclick",x:r,y:n,run:function(e){e.onClick&&e.onClick()}})}},{key:"onMouseMove",value:function(e){var t=this.mapXY(e.clientX,e.clientY),r=t.x,n=t.y;this.events.push({type:"onmousemove",x:r,y:n,run:function(e){e.onMouseMove&&e.onMouseMove()}})}}]),e}(),yTe="undefined"!=typeof window?window:null,mTe="undefined"!=typeof fetch?fetch.bind(void 0):null,bTe=function(){function e(t){s(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.fetch,i=void 0===n?mTe:n,a=r.window,o=void 0===a?yTe:a;this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new pTe,this.mouse=new gTe(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=o,this.fetch=i}return c(e,[{key:"wait",value:function(e){this.waits.push(e)}},{key:"ready",value:function(){return this.readyPromise?this.readyPromise:Promise.resolve()}},{key:"isReady",value:function(){if(this.isReadyLock)return!0;var e=this.waits.every((function(e){return e()}));return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}},{key:"setDefaults",value:function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}},{key:"setViewBox",value:function(e){var t=e.document,r=e.ctx,n=e.aspectRatio,i=e.width,a=e.desiredWidth,o=e.height,s=e.desiredHeight,u=e.minX,c=void 0===u?0:u,l=e.minY,f=void 0===l?0:l,h=e.refX,A=e.refY,d=e.clip,p=void 0!==d&&d,v=e.clipX,g=void 0===v?0:v,y=e.clipY,m=void 0===y?0:y,b=B(jPe(n).replace(/^defer\s/,"").split(" "),2),w=b[0]||"xMidYMid",x=b[1]||"meet",k=i/a,_=o/s,E=Math.min(k,_),S=Math.max(k,_),C=a,I=s;"meet"===x&&(C*=E,I*=E),"slice"===x&&(C*=S,I*=S);var P=new dTe(t,"refX",h),T=new dTe(t,"refY",A),O=P.hasValue()&&T.hasValue();if(O&&r.translate(-E*P.getPixels("x"),-E*T.getPixels("y")),p){var L=E*g,N=E*m;r.beginPath(),r.moveTo(L,N),r.lineTo(i,N),r.lineTo(i,o),r.lineTo(L,o),r.closePath(),r.clip()}if(!O){var M="meet"===x&&E===_,U="slice"===x&&S===_,F="meet"===x&&E===k,R="slice"===x&&S===k;w.startsWith("xMid")&&(M||U)&&r.translate(i/2-C/2,0),w.endsWith("YMid")&&(F||R)&&r.translate(0,o/2-I/2),w.startsWith("xMax")&&(M||U)&&r.translate(i-C,0),w.endsWith("YMax")&&(F||R)&&r.translate(0,o-I)}switch(!0){case"none"===w:r.scale(k,_);break;case"meet"===x:r.scale(E,E);break;case"slice"===x:r.scale(S,S)}r.translate(-c,-f)}},{key:"start",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.enableRedraw,i=void 0!==n&&n,a=r.ignoreMouse,o=void 0!==a&&a,s=r.ignoreAnimation,u=void 0!==s&&s,c=r.ignoreDimensions,l=void 0!==c&&c,f=r.ignoreClear,h=void 0!==f&&f,A=r.forceRedraw,d=r.scaleWidth,p=r.scaleHeight,v=r.offsetX,g=r.offsetY,y=this.FRAMERATE,m=this.mouse,b=1e3/y;if(this.frameDuration=b,this.readyPromise=new Promise((function(e){t.resolveReady=e})),this.isReady()&&this.render(e,l,h,d,p,v,g),i){var w=Date.now(),x=w,k=0,_=function r(){w=Date.now(),(k=w-x)>=b&&(x=w-k%b,t.shouldUpdate(u,A)&&(t.render(e,l,h,d,p,v,g),m.runEvents())),t.intervalId=lIe.exports(r)};o||m.start(),this.intervalId=lIe.exports(_)}}},{key:"stop",value:function(){this.intervalId&&(lIe.exports.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}},{key:"shouldUpdate",value:function(e,t){if(!e){var r=this.frameDuration,n=this.animations.reduce((function(e,t){return t.update(r)||e}),!1);if(n)return!0}return!("function"!=typeof t||!t())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}},{key:"render",value:function(e,t,r,n,i,a,o){var s=this.CLIENT_WIDTH,u=this.CLIENT_HEIGHT,c=this.viewPort,l=this.ctx,f=this.isFirstRender,h=l.canvas;c.clear(),h.width&&h.height?c.setCurrent(h.width,h.height):c.setCurrent(s,u);var A=e.getStyle("width"),d=e.getStyle("height");!t&&(f||"number"!=typeof n&&"number"!=typeof i)&&(A.hasValue()&&(h.width=A.getPixels("x"),h.style&&(h.style.width="".concat(h.width,"px"))),d.hasValue()&&(h.height=d.getPixels("y"),h.style&&(h.style.height="".concat(h.height,"px"))));var p=h.clientWidth||h.width,v=h.clientHeight||h.height;if(t&&A.hasValue()&&d.hasValue()&&(p=A.getPixels("x"),v=d.getPixels("y")),c.setCurrent(p,v),"number"==typeof a&&e.getAttribute("x",!0).setValue(a),"number"==typeof o&&e.getAttribute("y",!0).setValue(o),"number"==typeof n||"number"==typeof i){var g=KPe(e.getAttribute("viewBox").getString()),y=0,m=0;if("number"==typeof n){var b=e.getStyle("width");b.hasValue()?y=b.getPixels("x")/n:isNaN(g[2])||(y=g[2]/n)}if("number"==typeof i){var w=e.getStyle("height");w.hasValue()?m=w.getPixels("y")/i:isNaN(g[3])||(m=g[3]/i)}y||(y=m),m||(m=y),e.getAttribute("width",!0).setValue(n),e.getAttribute("height",!0).setValue(i);var x=e.getStyle("transform",!0,!0);x.setValue("".concat(x.getString()," scale(").concat(1/y,", ").concat(1/m,")"))}r||l.clearRect(0,0,p,v),e.render(l),f&&(this.isFirstRender=!1)}}]),e}();bTe.defaultWindow=yTe,bTe.defaultFetch=mTe;var wTe=bTe.defaultFetch,xTe="undefined"!=typeof DOMParser?DOMParser:null,kTe=function(){function e(){s(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.fetch,n=void 0===r?wTe:r,i=t.DOMParser,a=void 0===i?xTe:i;this.fetch=n,this.DOMParser=a}return c(e,[{key:"parse",value:function(e){var t=this;return zke(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.startsWith("<")){r.next=2;break}return r.abrupt("return",t.parseFromString(e));case 2:return r.abrupt("return",t.load(e));case 3:case"end":return r.stop()}}),r)})))()}},{key:"parseFromString",value:function(e){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(e,"image/svg+xml"))}catch(r){return this.checkDocument(t.parseFromString(e,"text/xml"))}}},{key:"checkDocument",value:function(e){var t=e.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return e}},{key:"load",value:function(e){var t=this;return zke(n().mark((function r(){var i,a;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.fetch(e);case 2:return i=r.sent,r.next=5,i.text();case 5:return a=r.sent,r.abrupt("return",t.parseFromString(a));case 7:case"end":return r.stop()}}),r)})))()}}]),e}(),_Te=function(){function e(t,r){s(this,e),this.type="translate",this.point=null,this.point=vTe.parse(r)}return c(e,[{key:"apply",value:function(e){var t=this.point,r=t.x,n=t.y;e.translate(r||0,n||0)}},{key:"unapply",value:function(e){var t=this.point,r=t.x,n=t.y;e.translate(-1*r||0,-1*n||0)}},{key:"applyToPoint",value:function(e){var t=this.point,r=t.x,n=t.y;e.applyTransform([1,0,0,1,r||0,n||0])}}]),e}(),BTe=function(){function e(t,r,n){s(this,e),this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var i=KPe(r);this.angle=new dTe(t,"angle",i[0]),this.originX=n[0],this.originY=n[1],this.cx=i[1]||0,this.cy=i[2]||0}return c(e,[{key:"apply",value:function(e){var t=this.cx,r=this.cy,n=this.originX,i=this.originY,a=this.angle,o=t+n.getPixels("x"),s=r+i.getPixels("y");e.translate(o,s),e.rotate(a.getRadians()),e.translate(-o,-s)}},{key:"unapply",value:function(e){var t=this.cx,r=this.cy,n=this.originX,i=this.originY,a=this.angle,o=t+n.getPixels("x"),s=r+i.getPixels("y");e.translate(o,s),e.rotate(-1*a.getRadians()),e.translate(-o,-s)}},{key:"applyToPoint",value:function(e){var t=this.cx,r=this.cy,n=this.angle.getRadians();e.applyTransform([1,0,0,1,t||0,r||0]),e.applyTransform([Math.cos(n),Math.sin(n),-Math.sin(n),Math.cos(n),0,0]),e.applyTransform([1,0,0,1,-t||0,-r||0])}}]),e}(),ETe=function(){function e(t,r,n){s(this,e),this.type="scale",this.scale=null,this.originX=null,this.originY=null;var i=vTe.parseScale(r);0!==i.x&&0!==i.y||(i.x=nTe,i.y=nTe),this.scale=i,this.originX=n[0],this.originY=n[1]}return c(e,[{key:"apply",value:function(e){var t=this.scale,r=t.x,n=t.y,i=this.originX,a=this.originY,o=i.getPixels("x"),s=a.getPixels("y");e.translate(o,s),e.scale(r,n||r),e.translate(-o,-s)}},{key:"unapply",value:function(e){var t=this.scale,r=t.x,n=t.y,i=this.originX,a=this.originY,o=i.getPixels("x"),s=a.getPixels("y");e.translate(o,s),e.scale(1/r,1/n||r),e.translate(-o,-s)}},{key:"applyToPoint",value:function(e){var t=this.scale,r=t.x,n=t.y;e.applyTransform([r||0,0,0,n||0,0,0])}}]),e}(),STe=function(){function e(t,r,n){s(this,e),this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=KPe(r),this.originX=n[0],this.originY=n[1]}return c(e,[{key:"apply",value:function(e){var t=this.originX,r=this.originY,n=this.matrix,i=t.getPixels("x"),a=r.getPixels("y");e.translate(i,a),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),e.translate(-i,-a)}},{key:"unapply",value:function(e){var t=this.originX,r=this.originY,n=this.matrix,i=n[0],a=n[2],o=n[4],s=n[1],u=n[3],c=n[5],l=1/(i*(1*u-0*c)-a*(1*s-0*c)+o*(0*s-0*u)),f=t.getPixels("x"),h=r.getPixels("y");e.translate(f,h),e.transform(l*(1*u-0*c),l*(0*c-1*s),l*(0*o-1*a),l*(1*i-0*o),l*(a*c-o*u),l*(o*s-i*c)),e.translate(-f,-h)}},{key:"applyToPoint",value:function(e){e.applyTransform(this.matrix)}}]),e}(),CTe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="skew",a.angle=null,a.angle=new dTe(e,"angle",n),a}return c(r)}(STe),ITe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="skewX",a.matrix=[1,0,Math.tan(a.angle.getRadians()),1,0,0],a}return c(r)}(CTe),PTe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="skewY",a.matrix=[1,Math.tan(a.angle.getRadians()),0,1,0,0],a}return c(r)}(CTe);var TTe=function(){function e(t,r,n){var i=this;s(this,e),this.document=t,this.transforms=[];var a=function(e){return jPe(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(r);a.forEach((function(t){if("none"!==t){var r=function(e){var t=B(e.split("("),2),r=t[0],n=t[1];return[r.trim(),n.trim().replace(")","")]}(t),a=B(r,2),o=a[0],s=a[1],u=e.transformTypes[o];void 0!==u&&i.transforms.push(new u(i.document,s,n))}}))}return c(e,[{key:"apply",value:function(e){for(var t=this.transforms,r=t.length,n=0;n<r;n++)t[n].apply(e)}},{key:"unapply",value:function(e){for(var t=this.transforms,r=t.length-1;r>=0;r--)t[r].unapply(e)}},{key:"applyToPoint",value:function(e){for(var t=this.transforms,r=t.length,n=0;n<r;n++)t[n].applyToPoint(e)}}],[{key:"fromElement",value:function(t,r){var n=r.getStyle("transform",!1,!0),i=B(r.getStyle("transform-origin",!1,!0).split(),2),a=i[0],o=i[1],s=[a,void 0===o?a:o];return n.hasValue()?new e(t,n.getString(),s):null}}]),e}();TTe.transformTypes={translate:_Te,rotate:BTe,scale:ETe,matrix:STe,skewX:ITe,skewY:PTe};var OTe=function(){function e(t,r){var n=this;s(this,e);var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=t,this.node=r,this.captureTextNodes=i,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],r&&1===r.nodeType){if(Array.from(r.attributes).forEach((function(e){var r=zPe(e.nodeName);n.attributes[r]=new dTe(t,r,e.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var a=this.getAttribute("style").getString().split(";").map((function(e){return e.trim()}));a.forEach((function(e){if(e){var r=e.split(":").map((function(e){return e.trim()})),i=B(r,2),a=i[0],o=i[1];n.styles[a]=new dTe(t,a,o)}}))}var o=t.definitions,u=this.getAttribute("id");u.hasValue()&&(o[u.getString()]||(o[u.getString()]=this)),Array.from(r.childNodes).forEach((function(e){if(1===e.nodeType)n.addChild(e);else if(i&&(3===e.nodeType||4===e.nodeType)){var r=t.createTextNode(e);r.getText().length>0&&n.addChild(r)}}))}}return c(e,[{key:"getAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.attributes[e];if(!r&&t){var n=new dTe(this.document,e,"");return this.attributes[e]=n,n}return r||dTe.empty(this.document)}},{key:"getHrefAttribute",value:function(){for(var e in this.attributes)if("href"===e||e.endsWith(":href"))return this.attributes[e];return dTe.empty(this.document)}},{key:"getStyle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.styles[e];if(n)return n;var i=this.getAttribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i,i;if(!r){var a=this.parent;if(a){var o=a.getStyle(e);if(null!=o&&o.hasValue())return o}}if(t){var s=new dTe(this.document,e,"");return this.styles[e]=s,s}return n||dTe.empty(this.document)}},{key:"render",value:function(e){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(e.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else if("none"!==this.getStyle("filter").getValue("none")){var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}},{key:"setContext",value:function(e){}},{key:"applyEffects",value:function(e){var t=TTe.fromElement(this.document,this);t&&t.apply(e);var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var n=r.getDefinition();n&&n.apply(e)}}},{key:"clearContext",value:function(e){}},{key:"renderChildren",value:function(e){this.children.forEach((function(t){t.render(e)}))}},{key:"addChild",value:function(t){var r=t instanceof e?t:this.document.createElement(t);r.parent=this,e.ignoreChildTypes.includes(r.type)||this.children.push(r)}},{key:"matchesSelector",value:function(e){var t,r=this.node;if("function"==typeof r.matches)return r.matches(e);var n=null===(t=r.getAttribute)||void 0===t?void 0:t.call(r,"class");return!(!n||""===n)&&n.split(" ").some((function(t){return".".concat(t)===e}))}},{key:"addStylesFromStyleDefinition",value:function(){var e=this.document,t=e.styles,r=e.stylesSpecificity;for(var n in t)if(!n.startsWith("@")&&this.matchesSelector(n)){var i=t[n],a=r[n];if(i)for(var o in i){var s=this.stylesSpecificity[o];void 0===s&&(s="000"),a>=s&&(this.styles[o]=i[o],this.stylesSpecificity[o]=a)}}}},{key:"removeStyles",value:function(e,t){return t.reduce((function(t,r){var n=e.getStyle(r);if(!n.hasValue())return t;var i=n.getString();return n.setValue(""),[].concat(S(t),[[r,i]])}),[])}},{key:"restoreStyles",value:function(e,t){t.forEach((function(t){var r=B(t,2),n=r[0],i=r[1];e.getStyle(n,!0).setValue(i)}))}},{key:"isFirstChild",value:function(){var e;return 0===(null===(e=this.parent)||void 0===e?void 0:e.children.indexOf(this))}}]),e}();OTe.ignoreChildTypes=["title"];var LTe=function(e){f(r,e);var t=w(r);function r(e,n,i){return s(this,r),t.call(this,e,n,i)}return c(r)}(OTe);function NTe(e){var t=e.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function MTe(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function UTe(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}var FTe=function(){function e(t,r,n,i,a,o){s(this,e);var u=o?"string"==typeof o?e.parse(o):o:{};this.fontFamily=a||u.fontFamily,this.fontSize=i||u.fontSize,this.fontStyle=t||u.fontStyle,this.fontWeight=n||u.fontWeight,this.fontVariant=r||u.fontVariant}return c(e,[{key:"toString",value:function(){return[MTe(this.fontStyle),this.fontVariant,UTe(this.fontWeight),this.fontSize,(e=this.fontFamily,"undefined"==typeof process?e:e.trim().split(",").map(NTe).join(","))].join(" ").trim();var e}}],[{key:"parse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n="",i="",a="",o="",s="",u=jPe(t).trim().split(" "),c={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return u.forEach((function(t){switch(!0){case!c.fontStyle&&e.styles.includes(t):"inherit"!==t&&(n=t),c.fontStyle=!0;break;case!c.fontVariant&&e.variants.includes(t):"inherit"!==t&&(i=t),c.fontStyle=!0,c.fontVariant=!0;break;case!c.fontWeight&&e.weights.includes(t):"inherit"!==t&&(a=t),c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0;break;case!c.fontSize:if("inherit"!==t){var r=B(t.split("/"),1);o=r[0]}c.fontStyle=!0,c.fontVariant=!0,c.fontWeight=!0,c.fontSize=!0;break;default:"inherit"!==t&&(s+=t)}})),new e(n,i,a,o,s,r)}}]),e}();FTe.styles="normal|italic|oblique|inherit",FTe.variants="normal|small-caps|inherit",FTe.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";var RTe=function(){function e(){s(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=t,this.y1=r,this.x2=n,this.y2=i,this.addPoint(t,r),this.addPoint(n,i)}return c(e,[{key:"x",get:function(){return this.x1}},{key:"y",get:function(){return this.y1}},{key:"width",get:function(){return this.x2-this.x1}},{key:"height",get:function(){return this.y2-this.y1}},{key:"addPoint",value:function(e,t){void 0!==e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),void 0!==t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}},{key:"addX",value:function(e){this.addPoint(e,null)}},{key:"addY",value:function(e){this.addPoint(null,e)}},{key:"addBoundingBox",value:function(e){if(e){var t=e.x1,r=e.y1,n=e.x2,i=e.y2;this.addPoint(t,r),this.addPoint(n,i)}}},{key:"sumCubic",value:function(e,t,r,n,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*r+3*(1-e)*Math.pow(e,2)*n+Math.pow(e,3)*i}},{key:"bezierCurveAdd",value:function(e,t,r,n,i){var a=6*t-12*r+6*n,o=-3*t+9*r-9*n+3*i,s=3*r-3*t;if(0!==o){var u=Math.pow(a,2)-4*s*o;if(!(u<0)){var c=(-a+Math.sqrt(u))/(2*o);0<c&&c<1&&(e?this.addX(this.sumCubic(c,t,r,n,i)):this.addY(this.sumCubic(c,t,r,n,i)));var l=(-a-Math.sqrt(u))/(2*o);0<l&&l<1&&(e?this.addX(this.sumCubic(l,t,r,n,i)):this.addY(this.sumCubic(l,t,r,n,i)))}}else{if(0===a)return;var f=-s/a;0<f&&f<1&&(e?this.addX(this.sumCubic(f,t,r,n,i)):this.addY(this.sumCubic(f,t,r,n,i)))}}},{key:"addBezierCurve",value:function(e,t,r,n,i,a,o,s){this.addPoint(e,t),this.addPoint(o,s),this.bezierCurveAdd(!0,e,r,i,o),this.bezierCurveAdd(!1,t,n,a,s)}},{key:"addQuadraticCurve",value:function(e,t,r,n,i,a){var o=e+2/3*(r-e),s=t+2/3*(n-t),u=o+1/3*(i-e),c=s+1/3*(a-t);this.addBezierCurve(e,t,o,u,s,c,i,a)}},{key:"isPointInBox",value:function(e,t){var r=this.x1,n=this.y1,i=this.x2,a=this.y2;return r<=e&&e<=i&&n<=t&&t<=a}}]),e}(),DTe=function(e){f(r,e);var t=w(r);function r(e){var n;return s(this,r),(n=t.call(this,e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,""))).control=null,n.start=null,n.current=null,n.command=null,n.commands=n.commands,n.i=-1,n.previousCommand=null,n.points=[],n.angles=[],n}return c(r,[{key:"reset",value:function(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new vTe(0,0),this.control=new vTe(0,0),this.current=new vTe(0,0),this.points=[],this.angles=[]}},{key:"isEnd",value:function(){return this.i>=this.commands.length-1}},{key:"next",value:function(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}},{key:"getPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",r=new vTe(this.command[e],this.command[t]);return this.makeAbsolute(r)}},{key:"getAsControlPoint",value:function(e,t){var r=this.getPoint(e,t);return this.control=r,r}},{key:"getAsCurrentPoint",value:function(e,t){var r=this.getPoint(e,t);return this.current=r,r}},{key:"getReflectedControlPoint",value:function(){var e=this.previousCommand.type;if(e!==gPe.CURVE_TO&&e!==gPe.SMOOTH_CURVE_TO&&e!==gPe.QUAD_TO&&e!==gPe.SMOOTH_QUAD_TO)return this.current;var t=this.current,r=t.x,n=t.y,i=this.control,a=i.x,o=i.y;return new vTe(2*r-a,2*n-o)}},{key:"makeAbsolute",value:function(e){if(this.command.relative){var t=this.current,r=t.x,n=t.y;e.x+=r,e.y+=n}return e}},{key:"addMarker",value:function(e,t,r){var n=this.points,i=this.angles;r&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=n[n.length-1].angleTo(r)),this.addMarkerAngle(e,t?t.angleTo(e):null)}},{key:"addMarkerAngle",value:function(e,t){this.points.push(e),this.angles.push(t)}},{key:"getMarkerPoints",value:function(){return this.points}},{key:"getMarkerAngles",value:function(){for(var e=this.angles,t=e.length,r=0;r<t;r++)if(!e[r])for(var n=r+1;n<t;n++)if(e[n]){e[r]=e[n];break}return e}}]),r}(gPe),jTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).modifiedEmSizeStack=!1,e}return c(r,[{key:"calculateOpacity",value:function(){for(var e=1,t=this;t;){var r=t.getStyle("opacity",!1,!0);r.hasValue(!0)&&(e*=r.getNumber()),t=t.parent}return e}},{key:"setContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var r=this.getStyle("fill"),n=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),a=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var o=r.getFillStyleDefinition(this,n);o&&(e.fillStyle=o)}else if(r.hasValue()){"currentColor"===r.getString()&&r.setValue(this.getStyle("color").getColor());var s=r.getColor();"inherit"!==s&&(e.fillStyle="none"===s?"rgba(0,0,0,0)":s)}if(n.hasValue()){var u=new dTe(this.document,"fill",e.fillStyle).addOpacity(n).getColor();e.fillStyle=u}if(i.isUrlDefinition()){var c=i.getFillStyleDefinition(this,a);c&&(e.strokeStyle=c)}else if(i.hasValue()){"currentColor"===i.getString()&&i.setValue(this.getStyle("color").getColor());var l=i.getString();"inherit"!==l&&(e.strokeStyle="none"===l?"rgba(0,0,0,0)":l)}if(a.hasValue()){var f=new dTe(this.document,"stroke",e.strokeStyle).addOpacity(a).getString();e.strokeStyle=f}var h=this.getStyle("stroke-width");if(h.hasValue()){var A=h.getPixels();e.lineWidth=A||nTe}var d=this.getStyle("stroke-linecap"),p=this.getStyle("stroke-linejoin"),v=this.getStyle("stroke-miterlimit"),g=this.getStyle("stroke-dasharray"),y=this.getStyle("stroke-dashoffset");if(d.hasValue()&&(e.lineCap=d.getString()),p.hasValue()&&(e.lineJoin=p.getString()),v.hasValue()&&(e.miterLimit=v.getNumber()),g.hasValue()&&"none"!==g.getString()){var m=KPe(g.getString());void 0!==e.setLineDash?e.setLineDash(m):void 0!==e.webkitLineDash?e.webkitLineDash=m:void 0===e.mozDash||1===m.length&&0===m[0]||(e.mozDash=m);var b=y.getPixels();void 0!==e.lineDashOffset?e.lineDashOffset=b:void 0!==e.webkitLineDashOffset?e.webkitLineDashOffset=b:void 0!==e.mozDashOffset&&(e.mozDashOffset=b)}}if(this.modifiedEmSizeStack=!1,void 0!==e.font){var w=this.getStyle("font"),x=this.getStyle("font-style"),k=this.getStyle("font-variant"),_=this.getStyle("font-weight"),B=this.getStyle("font-size"),E=this.getStyle("font-family"),S=new FTe(x.getString(),k.getString(),_.getString(),B.hasValue()?"".concat(B.getPixels(!0),"px"):"",E.getString(),FTe.parse(w.getString(),e.font));x.setValue(S.fontStyle),k.setValue(S.fontVariant),_.setValue(S.fontWeight),B.setValue(S.fontSize),E.setValue(S.fontFamily),e.font=S.toString(),B.isPixels()&&(this.document.emSize=B.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}},{key:"clearContext",value:function(e){k(h(r.prototype),"clearContext",this).call(this,e),this.modifiedEmSizeStack&&this.document.popEmSize()}}]),r}(OTe),QTe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="path",a.pathParser=null,a.pathParser=new DTe(a.getAttribute("d").getString()),a}return c(r,[{key:"path",value:function(e){var t=this.pathParser,r=new RTe;for(t.reset(),e&&e.beginPath();!t.isEnd();)switch(t.next().type){case DTe.MOVE_TO:this.pathM(e,r);break;case DTe.LINE_TO:this.pathL(e,r);break;case DTe.HORIZ_LINE_TO:this.pathH(e,r);break;case DTe.VERT_LINE_TO:this.pathV(e,r);break;case DTe.CURVE_TO:this.pathC(e,r);break;case DTe.SMOOTH_CURVE_TO:this.pathS(e,r);break;case DTe.QUAD_TO:this.pathQ(e,r);break;case DTe.SMOOTH_QUAD_TO:this.pathT(e,r);break;case DTe.ARC:this.pathA(e,r);break;case DTe.CLOSE_PATH:this.pathZ(e,r)}return r}},{key:"getBoundingBox",value:function(e){return this.path()}},{key:"getMarkers",value:function(){var e=this.pathParser,t=e.getMarkerPoints(),r=e.getMarkerAngles(),n=t.map((function(e,t){return[e,r[t]]}));return n}},{key:"renderChildren",value:function(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var t=this.getStyle("fill-rule");""!==e.fillStyle&&("inherit"!==t.getString("inherit")?e.fill(t.getString()):e.fill()),""!==e.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var r=this.getMarkers();if(r){var n=r.length-1,i=this.getStyle("marker-start"),a=this.getStyle("marker-mid"),o=this.getStyle("marker-end");if(i.isUrlDefinition()){var s=i.getDefinition(),u=B(r[0],2),c=u[0],l=u[1];s.render(e,c,l)}if(a.isUrlDefinition())for(var f=a.getDefinition(),h=1;h<n;h++){var A=B(r[h],2),d=A[0],p=A[1];f.render(e,d,p)}if(o.isUrlDefinition()){var v=o.getDefinition(),g=B(r[n],2),y=g[0],m=g[1];v.render(e,y,m)}}}},{key:"pathM",value:function(e,t){var n=this.pathParser,i=r.pathM(n).point,a=i.x,o=i.y;n.addMarker(i),t.addPoint(a,o),e&&e.moveTo(a,o)}},{key:"pathL",value:function(e,t){var n=this.pathParser,i=r.pathL(n),a=i.current,o=i.point,s=o.x,u=o.y;n.addMarker(o,a),t.addPoint(s,u),e&&e.lineTo(s,u)}},{key:"pathH",value:function(e,t){var n=this.pathParser,i=r.pathH(n),a=i.current,o=i.point,s=o.x,u=o.y;n.addMarker(o,a),t.addPoint(s,u),e&&e.lineTo(s,u)}},{key:"pathV",value:function(e,t){var n=this.pathParser,i=r.pathV(n),a=i.current,o=i.point,s=o.x,u=o.y;n.addMarker(o,a),t.addPoint(s,u),e&&e.lineTo(s,u)}},{key:"pathC",value:function(e,t){var n=this.pathParser,i=r.pathC(n),a=i.current,o=i.point,s=i.controlPoint,u=i.currentPoint;n.addMarker(u,s,o),t.addBezierCurve(a.x,a.y,o.x,o.y,s.x,s.y,u.x,u.y),e&&e.bezierCurveTo(o.x,o.y,s.x,s.y,u.x,u.y)}},{key:"pathS",value:function(e,t){var n=this.pathParser,i=r.pathS(n),a=i.current,o=i.point,s=i.controlPoint,u=i.currentPoint;n.addMarker(u,s,o),t.addBezierCurve(a.x,a.y,o.x,o.y,s.x,s.y,u.x,u.y),e&&e.bezierCurveTo(o.x,o.y,s.x,s.y,u.x,u.y)}},{key:"pathQ",value:function(e,t){var n=this.pathParser,i=r.pathQ(n),a=i.current,o=i.controlPoint,s=i.currentPoint;n.addMarker(s,o,o),t.addQuadraticCurve(a.x,a.y,o.x,o.y,s.x,s.y),e&&e.quadraticCurveTo(o.x,o.y,s.x,s.y)}},{key:"pathT",value:function(e,t){var n=this.pathParser,i=r.pathT(n),a=i.current,o=i.controlPoint,s=i.currentPoint;n.addMarker(s,o,o),t.addQuadraticCurve(a.x,a.y,o.x,o.y,s.x,s.y),e&&e.quadraticCurveTo(o.x,o.y,s.x,s.y)}},{key:"pathA",value:function(e,t){var n=this.pathParser,i=r.pathA(n),a=i.currentPoint,o=i.rX,s=i.rY,u=i.sweepFlag,c=i.xAxisRotation,l=i.centp,f=i.a1,h=i.ad,A=1-u?1:-1,d=f+A*(h/2),p=new vTe(l.x+o*Math.cos(d),l.y+s*Math.sin(d));if(n.addMarkerAngle(p,d-A*Math.PI/2),n.addMarkerAngle(a,d-A*Math.PI),t.addPoint(a.x,a.y),e&&!isNaN(f)&&!isNaN(h)){var v=o>s?o:s,g=o>s?1:o/s,y=o>s?s/o:1;e.translate(l.x,l.y),e.rotate(c),e.scale(g,y),e.arc(0,0,v,f,f+h,Boolean(1-u)),e.scale(1/g,1/y),e.rotate(-c),e.translate(-l.x,-l.y)}}},{key:"pathZ",value:function(e,t){r.pathZ(this.pathParser),e&&t.x1!==t.x2&&t.y1!==t.y2&&e.closePath()}}],[{key:"pathM",value:function(e){var t=e.getAsCurrentPoint();return e.start=e.current,{point:t}}},{key:"pathL",value:function(e){return{current:e.current,point:e.getAsCurrentPoint()}}},{key:"pathH",value:function(e){var t=e.current,r=e.command,n=new vTe((r.relative?t.x:0)+r.x,t.y);return e.current=n,{current:t,point:n}}},{key:"pathV",value:function(e){var t=e.current,r=e.command,n=new vTe(t.x,(r.relative?t.y:0)+r.y);return e.current=n,{current:t,point:n}}},{key:"pathC",value:function(e){return{current:e.current,point:e.getPoint("x1","y1"),controlPoint:e.getAsControlPoint("x2","y2"),currentPoint:e.getAsCurrentPoint()}}},{key:"pathS",value:function(e){return{current:e.current,point:e.getReflectedControlPoint(),controlPoint:e.getAsControlPoint("x2","y2"),currentPoint:e.getAsCurrentPoint()}}},{key:"pathQ",value:function(e){return{current:e.current,controlPoint:e.getAsControlPoint("x1","y1"),currentPoint:e.getAsCurrentPoint()}}},{key:"pathT",value:function(e){var t=e.current,r=e.getReflectedControlPoint();return e.control=r,{current:t,controlPoint:r,currentPoint:e.getAsCurrentPoint()}}},{key:"pathA",value:function(e){var t=e.current,r=e.command,n=r.rX,i=r.rY,a=r.xRot,o=r.lArcFlag,s=r.sweepFlag,u=a*(Math.PI/180),c=e.getAsCurrentPoint(),l=new vTe(Math.cos(u)*(t.x-c.x)/2+Math.sin(u)*(t.y-c.y)/2,-Math.sin(u)*(t.x-c.x)/2+Math.cos(u)*(t.y-c.y)/2),f=Math.pow(l.x,2)/Math.pow(n,2)+Math.pow(l.y,2)/Math.pow(i,2);f>1&&(n*=Math.sqrt(f),i*=Math.sqrt(f));var h=(o===s?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(i,2)-Math.pow(n,2)*Math.pow(l.y,2)-Math.pow(i,2)*Math.pow(l.x,2))/(Math.pow(n,2)*Math.pow(l.y,2)+Math.pow(i,2)*Math.pow(l.x,2)));isNaN(h)&&(h=0);var A=new vTe(h*n*l.y/i,h*-i*l.x/n),d=new vTe((t.x+c.x)/2+Math.cos(u)*A.x-Math.sin(u)*A.y,(t.y+c.y)/2+Math.sin(u)*A.x+Math.cos(u)*A.y),p=oTe([1,0],[(l.x-A.x)/n,(l.y-A.y)/i]),v=[(l.x-A.x)/n,(l.y-A.y)/i],g=[(-l.x-A.x)/n,(-l.y-A.y)/i],y=oTe(v,g);return aTe(v,g)<=-1&&(y=Math.PI),aTe(v,g)>=1&&(y=0),{currentPoint:c,rX:n,rY:i,sweepFlag:s,xAxisRotation:u,centp:d,a1:p,ad:y}}},{key:"pathZ",value:function(e){e.current=e.start}}]),r}(jTe),HTe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="glyph",a.horizAdvX=a.getAttribute("horiz-adv-x").getNumber(),a.unicode=a.getAttribute("unicode").getString(),a.arabicForm=a.getAttribute("arabic-form").getString(),a}return c(r)}(QTe),KTe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,(this instanceof r?this.constructor:void 0)===r||i)).type="text",a.x=0,a.y=0,a.measureCache=-1,a}return c(r,[{key:"setContext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];k(h(r.prototype),"setContext",this).call(this,e,t);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(e.textBaseline=n)}},{key:"initializeCoordinates",value:function(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}},{key:"getBoundingBox",value:function(e){var t=this;if("text"!==this.type)return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var r=null;return this.children.forEach((function(n,i){var a=t.getChildBoundingBox(e,t,t,i);r?r.addBoundingBox(a):r=a})),r}},{key:"getFontSize",value:function(){var e=this.document,t=this.parent,r=FTe.parse(e.ctx.font).fontSize;return t.getStyle("font-size").getNumber(r)}},{key:"getTElementBoundingBox",value:function(e){var t=this.getFontSize();return new RTe(this.x,this.y-t,this.x+this.measureText(e),this.y)}},{key:"getGlyph",value:function(e,t,r){var n=t[r],i=null;if(e.isArabic){var a=t.length,o=t[r-1],s=t[r+1],u="isolated";if((0===r||" "===o)&&r<a-1&&" "!==s&&(u="terminal"),r>0&&" "!==o&&r<a-1&&" "!==s&&(u="medial"),r>0&&" "!==o&&(r===a-1||" "===s)&&(u="initial"),void 0!==e.glyphs[n]){var c=e.glyphs[n];i=c instanceof HTe?c:c[u]}}else i=e.glyphs[n];return i||(i=e.missingGlyph),i}},{key:"getText",value:function(){return""}},{key:"getTextFromNode",value:function(e){var t=e||this.node,r=Array.from(t.parentNode.childNodes),n=r.indexOf(t),i=r.length-1,a=jPe(t.textContent||"");return 0===n&&(a=QPe(a)),n===i&&(a=HPe(a)),a}},{key:"renderChildren",value:function(e){var t=this;if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((function(r,n){t.renderChild(e,t,t,n)}));var r=this.document.screen.mouse;r.isWorking()&&r.checkBoundingBox(this,this.getBoundingBox(e))}else this.renderTElementChildren(e)}},{key:"renderTElementChildren",value:function(e){var t=this.document,r=this.parent,n=this.getText(),i=r.getStyle("font-family").getDefinition();if(i)for(var a=i.fontFace.unitsPerEm,o=FTe.parse(t.ctx.font),s=r.getStyle("font-size").getNumber(o.fontSize),u=r.getStyle("font-style").getString(o.fontStyle),c=s/a,l=i.isRTL?n.split("").reverse().join(""):n,f=KPe(r.getAttribute("dx").getString()),h=l.length,A=0;A<h;A++){var d=this.getGlyph(i,l,A);e.translate(this.x,this.y),e.scale(c,-c);var p=e.lineWidth;e.lineWidth=e.lineWidth*a/s,"italic"===u&&e.transform(1,0,.4,1,0,0),d.render(e),"italic"===u&&e.transform(1,0,-.4,1,0,0),e.lineWidth=p,e.scale(1/c,-1/c),e.translate(-this.x,-this.y),this.x+=s*(d.horizAdvX||i.horizAdvX)/a,void 0===f[A]||isNaN(f[A])||(this.x+=f[A])}else{var v=this.x,g=this.y;e.fillStyle&&e.fillText(n,v,g),e.strokeStyle&&e.strokeText(n,v,g)}}},{key:"applyAnchoring",value:function(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],t=e.getStyle("text-anchor").getString("start"),r=0;r="start"===t?e.x-this.minX:"end"===t?e.x-this.maxX:e.x-(this.minX+this.maxX)/2;for(var n=this.textChunkStart;n<this.leafTexts.length;n++)this.leafTexts[n].x+=r;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}},{key:"adjustChildCoordinatesRecursive",value:function(e){var t=this;this.children.forEach((function(r,n){t.adjustChildCoordinatesRecursiveCore(e,t,t,n)})),this.applyAnchoring()}},{key:"adjustChildCoordinatesRecursiveCore",value:function(e,t,r,n){var i=r.children[n];i.children.length>0?i.children.forEach((function(r,n){t.adjustChildCoordinatesRecursiveCore(e,t,i,n)})):this.adjustChildCoordinates(e,t,r,n)}},{key:"adjustChildCoordinates",value:function(e,t,r,n){var i=r.children[n];if("function"!=typeof i.measureText)return i;e.save(),i.setContext(e,!0);var a=i.getAttribute("x"),o=i.getAttribute("y"),s=i.getAttribute("dx"),u=i.getAttribute("dy"),c=i.getStyle("font-family").getDefinition(),l=Boolean(c)&&c.isRTL;0===n&&(a.hasValue()||a.setValue(i.getInheritedAttribute("x")),o.hasValue()||o.setValue(i.getInheritedAttribute("y")),s.hasValue()||s.setValue(i.getInheritedAttribute("dx")),u.hasValue()||u.setValue(i.getInheritedAttribute("dy")));var f=i.measureText(e);return l&&(t.x-=f),a.hasValue()?(t.applyAnchoring(),i.x=a.getPixels("x"),s.hasValue()&&(i.x+=s.getPixels("x"))):(s.hasValue()&&(t.x+=s.getPixels("x")),i.x=t.x),t.x=i.x,l||(t.x+=f),o.hasValue()?(i.y=o.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(t.y+=u.getPixels("y")),i.y=t.y),t.y=i.y,t.leafTexts.push(i),t.minX=Math.min(t.minX,i.x,i.x+f),t.maxX=Math.max(t.maxX,i.x,i.x+f),i.clearContext(e),e.restore(),i}},{key:"getChildBoundingBox",value:function(e,t,r,n){var i=r.children[n];if("function"!=typeof i.getBoundingBox)return null;var a=i.getBoundingBox(e);return a?(i.children.forEach((function(r,n){var o=t.getChildBoundingBox(e,t,i,n);a.addBoundingBox(o)})),a):null}},{key:"renderChild",value:function(e,t,r,n){var i=r.children[n];i.render(e),i.children.forEach((function(r,n){t.renderChild(e,t,i,n)}))}},{key:"measureText",value:function(e){var t=this.measureCache;if(~t)return t;var r=this.getText(),n=this.measureTargetText(e,r);return this.measureCache=n,n}},{key:"measureTargetText",value:function(e,t){if(!t.length)return 0;var r=this.parent,n=r.getStyle("font-family").getDefinition();if(n){for(var i=this.getFontSize(),a=n.isRTL?t.split("").reverse().join(""):t,o=KPe(r.getAttribute("dx").getString()),s=a.length,u=0,c=0;c<s;c++){u+=(this.getGlyph(n,a,c).horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,void 0===o[c]||isNaN(o[c])||(u+=o[c])}return u}if(!e.measureText)return 10*t.length;e.save(),this.setContext(e,!0);var l=e.measureText(t).width;return this.clearContext(e),e.restore(),l}},{key:"getInheritedAttribute",value:function(e){for(var t=this;t instanceof r&&t.isFirstChild();){var n=t.parent.getAttribute(e);if(n.hasValue(!0))return n.getValue("0");t=t.parent}return null}}]),r}(jTe),VTe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,(this instanceof r?this.constructor:void 0)===r||i)).type="tspan",a.text=a.children.length>0?"":a.getTextFromNode(),a}return c(r,[{key:"getText",value:function(){return this.text}}]),r}(KTe),zTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="textNode",e}return c(r)}(VTe),qTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="svg",e.root=!1,e}return c(r,[{key:"setContext",value:function(e){var t,n=this.document,i=n.screen,a=n.window,o=e.canvas;if(i.setDefaults(e),o.style&&void 0!==e.font&&a&&void 0!==a.getComputedStyle){e.font=a.getComputedStyle(o).getPropertyValue("font");var s=new dTe(n,"fontSize",FTe.parse(e.font).fontSize);s.hasValue()&&(n.rootEmSize=s.getPixels("y"),n.emSize=n.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var u=i.viewPort,c=u.width,l=u.height;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var f=this.getAttribute("refX"),A=this.getAttribute("refY"),d=this.getAttribute("viewBox"),p=d.hasValue()?KPe(d.getString()):null,v=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),g=0,y=0,m=0,b=0;p&&(g=p[0],y=p[1]),this.root||(c=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y"),"marker"===this.type&&(m=g,b=y,g=0,y=0)),i.viewPort.setCurrent(c,l),!this.node||this.parent&&"foreignObject"!==(null===(t=this.node.parentNode)||void 0===t?void 0:t.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),k(h(r.prototype),"setContext",this).call(this,e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),p&&(c=p[2],l=p[3]),n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:c,height:i.viewPort.height,desiredHeight:l,minX:g,minY:y,refX:f.getValue(),refY:A.getValue(),clip:v,clipX:m,clipY:b}),p&&(i.viewPort.removeCurrent(),i.viewPort.setCurrent(c,l))}},{key:"clearContext",value:function(e){k(h(r.prototype),"clearContext",this).call(this,e),this.document.screen.viewPort.removeCurrent()}},{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getAttribute("width",!0),i=this.getAttribute("height",!0),a=this.getAttribute("viewBox"),o=this.getAttribute("style"),s=n.getNumber(0),u=i.getNumber(0);if(r)if("string"==typeof r)this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var c=this.getAttribute("preserveAspectRatio");c.hasValue()&&c.setValue(c.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(n.setValue(e),i.setValue(t),a.hasValue()||a.setValue("0 0 ".concat(s||e," ").concat(u||t)),o.hasValue()){var l=this.getStyle("width"),f=this.getStyle("height");l.hasValue()&&l.setValue("".concat(e,"px")),f.hasValue()&&f.setValue("".concat(t,"px"))}}}]),r}(jTe),GTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="rect",e}return c(r,[{key:"path",value:function(e){var t=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),n=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),a=this.getAttribute("rx"),o=this.getAttribute("ry"),s=a.getPixels("x"),u=o.getPixels("y");if(a.hasValue()&&!o.hasValue()&&(u=s),o.hasValue()&&!a.hasValue()&&(s=u),s=Math.min(s,n/2),u=Math.min(u,i/2),e){var c=(Math.sqrt(2)-1)/3*4;e.beginPath(),i>0&&n>0&&(e.moveTo(t+s,r),e.lineTo(t+n-s,r),e.bezierCurveTo(t+n-s+c*s,r,t+n,r+u-c*u,t+n,r+u),e.lineTo(t+n,r+i-u),e.bezierCurveTo(t+n,r+i-u+c*u,t+n-s+c*s,r+i,t+n-s,r+i),e.lineTo(t+s,r+i),e.bezierCurveTo(t+s-c*s,r+i,t,r+i-u+c*u,t,r+i-u),e.lineTo(t,r+u),e.bezierCurveTo(t,r+u-c*u,t+s-c*s,r,t+s,r),e.closePath())}return new RTe(t,r,t+n,r+i)}},{key:"getMarkers",value:function(){return null}}]),r}(QTe),WTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="circle",e}return c(r,[{key:"path",value:function(e){var t=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),n=this.getAttribute("r").getPixels();return e&&n>0&&(e.beginPath(),e.arc(t,r,n,0,2*Math.PI,!1),e.closePath()),new RTe(t-n,r-n,t+n,r+n)}},{key:"getMarkers",value:function(){return null}}]),r}(QTe),JTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="ellipse",e}return c(r,[{key:"path",value:function(e){var t=(Math.sqrt(2)-1)/3*4,r=this.getAttribute("rx").getPixels("x"),n=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y");return e&&r>0&&n>0&&(e.beginPath(),e.moveTo(i+r,a),e.bezierCurveTo(i+r,a+t*n,i+t*r,a+n,i,a+n),e.bezierCurveTo(i-t*r,a+n,i-r,a+t*n,i-r,a),e.bezierCurveTo(i-r,a-t*n,i-t*r,a-n,i,a-n),e.bezierCurveTo(i+t*r,a-n,i+r,a-t*n,i+r,a),e.closePath()),new RTe(i-r,a-n,i+r,a+n)}},{key:"getMarkers",value:function(){return null}}]),r}(QTe),XTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="line",e}return c(r,[{key:"getPoints",value:function(){return[new vTe(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new vTe(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}},{key:"path",value:function(e){var t=B(this.getPoints(),2),r=t[0],n=r.x,i=r.y,a=t[1],o=a.x,s=a.y;return e&&(e.beginPath(),e.moveTo(n,i),e.lineTo(o,s)),new RTe(n,i,o,s)}},{key:"getMarkers",value:function(){var e=B(this.getPoints(),2),t=e[0],r=e[1],n=t.angleTo(r);return[[t,n],[r,n]]}}]),r}(QTe),YTe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="polyline",a.points=[],a.points=vTe.parsePath(a.getAttribute("points").getString()),a}return c(r,[{key:"path",value:function(e){var t=this.points,r=B(t,1)[0],n=r.x,i=r.y,a=new RTe(n,i);return e&&(e.beginPath(),e.moveTo(n,i)),t.forEach((function(t){var r=t.x,n=t.y;a.addPoint(r,n),e&&e.lineTo(r,n)})),a}},{key:"getMarkers",value:function(){var e=this.points,t=e.length-1,r=[];return e.forEach((function(n,i){i!==t&&r.push([n,n.angleTo(e[i+1])])})),r.length>0&&r.push([e[e.length-1],r[r.length-1][1]]),r}}]),r}(QTe),$Te=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="polygon",e}return c(r,[{key:"path",value:function(e){var t=k(h(r.prototype),"path",this).call(this,e),n=B(this.points,1)[0],i=n.x,a=n.y;return e&&(e.lineTo(i,a),e.closePath()),t}}]),r}(YTe),ZTe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="pattern",e}return c(r,[{key:"createPattern",value:function(e,t,r){var n=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),a=new qTe(this.document,null);a.attributes.viewBox=new dTe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new dTe(this.document,"width","".concat(n,"px")),a.attributes.height=new dTe(this.document,"height","".concat(i,"px")),a.attributes.transform=new dTe(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children;var o=this.document.createCanvas(n,i),s=o.getContext("2d"),u=this.getAttribute("x"),c=this.getAttribute("y");u.hasValue()&&c.hasValue()&&s.translate(u.getPixels("x",!0),c.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(var l=-1;l<=1;l++)for(var f=-1;f<=1;f++)s.save(),a.attributes.x=new dTe(this.document,"x",l*o.width),a.attributes.y=new dTe(this.document,"y",f*o.height),a.render(s),s.restore();return e.createPattern(o,"repeat")}}]),r}(OTe),eOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="marker",e}return c(r,[{key:"render",value:function(e,t,r){if(t){var n=t.x,i=t.y,a=this.getAttribute("orient").getString("auto"),o=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(n,i),"auto"===a&&e.rotate(r),"strokeWidth"===o&&e.scale(e.lineWidth,e.lineWidth),e.save();var s=new qTe(this.document,null);s.type=this.type,s.attributes.viewBox=new dTe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),s.attributes.refX=new dTe(this.document,"refX",this.getAttribute("refX").getValue()),s.attributes.refY=new dTe(this.document,"refY",this.getAttribute("refY").getValue()),s.attributes.width=new dTe(this.document,"width",this.getAttribute("markerWidth").getValue()),s.attributes.height=new dTe(this.document,"height",this.getAttribute("markerHeight").getValue()),s.attributes.overflow=new dTe(this.document,"overflow",this.getAttribute("overflow").getValue()),s.attributes.fill=new dTe(this.document,"fill",this.getAttribute("fill").getColor("black")),s.attributes.stroke=new dTe(this.document,"stroke",this.getAttribute("stroke").getValue("none")),s.children=this.children,s.render(e),e.restore(),"strokeWidth"===o&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"===a&&e.rotate(-r),e.translate(-n,-i)}}}]),r}(OTe),tOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="defs",e}return c(r,[{key:"render",value:function(){}}]),r}(OTe),rOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="g",e}return c(r,[{key:"getBoundingBox",value:function(e){var t=new RTe;return this.children.forEach((function(r){t.addBoundingBox(r.getBoundingBox(e))})),t}}]),r}(jTe),nOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).attributesToInherit=["gradientUnits"],a.stops=[];var o=m(a),u=o.stops;return o.children.forEach((function(e){"stop"===e.type&&u.push(e)})),a}return c(r,[{key:"getGradientUnits",value:function(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}},{key:"createGradient",value:function(e,t,r){var n=this,i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(i));var a=i.stops,o=this.getGradient(e,t);if(!o)return this.addParentOpacity(r,a[a.length-1].color);if(a.forEach((function(e){o.addColorStop(e.offset,n.addParentOpacity(r,e.color))})),this.getAttribute("gradientTransform").hasValue()){var s=this.document,u=s.screen,c=u.MAX_VIRTUAL_PIXELS,l=B(u.viewPort.viewPorts,1)[0],f=new GTe(s,null);f.attributes.x=new dTe(s,"x",-c/3),f.attributes.y=new dTe(s,"y",-c/3),f.attributes.width=new dTe(s,"width",c),f.attributes.height=new dTe(s,"height",c);var h=new rOe(s,null);h.attributes.transform=new dTe(s,"transform",this.getAttribute("gradientTransform").getValue()),h.children=[f];var A=new qTe(s,null);A.attributes.x=new dTe(s,"x",0),A.attributes.y=new dTe(s,"y",0),A.attributes.width=new dTe(s,"width",l.width),A.attributes.height=new dTe(s,"height",l.height),A.children=[h];var d=s.createCanvas(l.width,l.height),p=d.getContext("2d");return p.fillStyle=o,A.render(p),p.createPattern(d,"no-repeat")}return o}},{key:"inheritStopContainer",value:function(e){var t=this;this.attributesToInherit.forEach((function(r){!t.getAttribute(r).hasValue()&&e.getAttribute(r).hasValue()&&t.getAttribute(r,!0).setValue(e.getAttribute(r).getValue())}))}},{key:"addParentOpacity",value:function(e,t){return e.hasValue()?new dTe(this.document,"color",t).addOpacity(e).getColor():t}}]),r}(OTe),iOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="linearGradient",a.attributesToInherit.push("x1","y1","x2","y2"),a}return c(r,[{key:"getGradient",value:function(e,t){var r="objectBoundingBox"===this.getGradientUnits(),n=r?t.getBoundingBox(e):null;if(r&&!n)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=r?n.x+n.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),a=r?n.y+n.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),o=r?n.x+n.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),s=r?n.y+n.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===o&&a===s?null:e.createLinearGradient(i,a,o,s)}}]),r}(nOe),aOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="radialGradient",a.attributesToInherit.push("cx","cy","r","fx","fy","fr"),a}return c(r,[{key:"getGradient",value:function(e,t){var r="objectBoundingBox"===this.getGradientUnits(),n=t.getBoundingBox(e);if(r&&!n)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=r?n.x+n.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),a=r?n.y+n.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),o=i,s=a;this.getAttribute("fx").hasValue()&&(o=r?n.x+n.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(s=r?n.y+n.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=r?(n.width+n.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),c=this.getAttribute("fr").getPixels();return e.createRadialGradient(o,s,c,i,a,u)}}]),r}(nOe),oOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="stop";var o=Math.max(0,Math.min(1,a.getAttribute("offset").getNumber())),u=a.getStyle("stop-opacity"),c=a.getStyle("stop-color",!0);return""===c.getString()&&c.setValue("#000"),u.hasValue()&&(c=c.addOpacity(u)),a.offset=o,a.color=c.getColor(),a}return c(r)}(OTe),sOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="animate",a.duration=0,a.initialValue=null,a.initialUnits="",a.removed=!1,a.frozen=!1,e.screen.animations.push(m(a)),a.begin=a.getAttribute("begin").getMilliseconds(),a.maxDuration=a.begin+a.getAttribute("dur").getMilliseconds(),a.from=a.getAttribute("from"),a.to=a.getAttribute("to"),a.values=new dTe(e,"values",null);var o=a.getAttribute("values");return o.hasValue()&&a.values.setValue(o.getString().split(";")),a}return c(r,[{key:"getProperty",value:function(){var e=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return"CSS"===e?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}},{key:"calcValue",value:function(){var e=this.initialUnits,t=this.getProgress(),r=t.progress,n=t.from,i=t.to,a=n.getNumber()+(i.getNumber()-n.getNumber())*r;return"%"===e&&(a*=100),"".concat(a).concat(e)}},{key:"update",value:function(e){var t=this.parent,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var n=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==n||this.frozen){if("remove"===n&&!this.removed)return this.removed=!0,r.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=r.getString();return!1}this.duration+=e;var i=!1;if(this.begin<this.duration){var a=this.calcValue(),o=this.getAttribute("type");if(o.hasValue()){var s=o.getString();a="".concat(s,"(").concat(a,")")}r.setValue(a),i=!0}return i}},{key:"getProgress",value:function(){var e=this.document,t=this.values,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var n=r.progress*(t.getValue().length-1),i=Math.floor(n),a=Math.ceil(n);r.from=new dTe(e,"from",parseFloat(t.getValue()[i])),r.to=new dTe(e,"to",parseFloat(t.getValue()[a])),r.progress=(n-i)/(a-i)}else r.from=this.from,r.to=this.to;return r}}]),r}(OTe),uOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="animateColor",e}return c(r,[{key:"calcValue",value:function(){var e=this.getProgress(),t=e.progress,r=e.from,n=e.to,i=new MIe(r.getColor()),a=new MIe(n.getColor());if(i.ok&&a.ok){var o=i.r+(a.r-i.r)*t,s=i.g+(a.g-i.g)*t,u=i.b+(a.b-i.b)*t;return"rgb(".concat(Math.floor(o),", ").concat(Math.floor(s),", ").concat(Math.floor(u),")")}return this.getAttribute("from").getColor()}}]),r}(sOe),cOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="animateTransform",e}return c(r,[{key:"calcValue",value:function(){var e=this.getProgress(),t=e.progress,r=e.from,n=e.to,i=KPe(r.getString()),a=KPe(n.getString()),o=i.map((function(e,r){return e+(a[r]-e)*t})).join(" ");return o}}]),r}(sOe),lOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="font",a.glyphs={},a.horizAdvX=a.getAttribute("horiz-adv-x").getNumber();var o,u=e.definitions,c=L(m(a).children);try{for(c.s();!(o=c.n()).done;){var l=o.value;switch(l.type){case"font-face":a.fontFace=l;var f=l.getStyle("font-family");f.hasValue()&&(u[f.getString()]=m(a));break;case"missing-glyph":a.missingGlyph=l;break;case"glyph":var h=l;h.arabicForm?(a.isRTL=!0,a.isArabic=!0,void 0===a.glyphs[h.unicode]&&(a.glyphs[h.unicode]={}),a.glyphs[h.unicode][h.arabicForm]=h):a.glyphs[h.unicode]=h}}}catch(e){c.e(e)}finally{c.f()}return a}return c(r,[{key:"render",value:function(){}}]),r}(OTe),fOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="font-face",a.ascent=a.getAttribute("ascent").getNumber(),a.descent=a.getAttribute("descent").getNumber(),a.unitsPerEm=a.getAttribute("units-per-em").getNumber(),a}return c(r)}(OTe),hOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="missing-glyph",e.horizAdvX=0,e}return c(r)}(QTe),AOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="tref",e}return c(r,[{key:"getText",value:function(){var e=this.getHrefAttribute().getDefinition();if(e){var t=e.children[0];if(t)return t.getText()}return""}}]),r}(KTe),dOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="a";var o=n.childNodes,u=o[0],c=o.length>0&&Array.from(o).every((function(e){return 3===e.nodeType}));return a.hasText=c,a.text=c?a.getTextFromNode(u):"",a}return c(r,[{key:"getText",value:function(){return this.text}},{key:"renderChildren",value:function(e){if(this.hasText){k(h(r.prototype),"renderChildren",this).call(this,e);var t=this.document,n=this.x,i=this.y,a=t.screen.mouse,o=new dTe(t,"fontSize",FTe.parse(t.ctx.font).fontSize);a.isWorking()&&a.checkBoundingBox(this,new RTe(n,i-o.getPixels("y"),n+this.measureText(e),i))}else if(this.children.length>0){var s=new rOe(this.document,null);s.children=this.children,s.parent=this,s.render(e)}}},{key:"onClick",value:function(){var e=this.document.window;e&&e.open(this.getHrefAttribute().getString())}},{key:"onMouseMove",value:function(){this.document.ctx.canvas.style.cursor="pointer"}}]),r}(KTe);function pOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vOe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pOe(Object(r),!0).forEach((function(t){oCe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="textPath",a.textWidth=0,a.textHeight=0,a.pathLength=-1,a.glyphInfo=null,a.letterSpacingCache=[],a.measuresCache=new Map([["",0]]);var o=a.getHrefAttribute().getDefinition();return a.text=a.getTextFromNode(),a.dataArray=a.parsePathData(o),a}return c(r,[{key:"getText",value:function(){return this.text}},{key:"path",value:function(e){var t=this.dataArray;e&&e.beginPath(),t.forEach((function(t){var r=t.type,n=t.points;switch(r){case DTe.LINE_TO:e&&e.lineTo(n[0],n[1]);break;case DTe.MOVE_TO:e&&e.moveTo(n[0],n[1]);break;case DTe.CURVE_TO:e&&e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case DTe.QUAD_TO:e&&e.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case DTe.ARC:var i=B(n,8),a=i[0],o=i[1],s=i[2],u=i[3],c=i[4],l=i[5],f=i[6],h=i[7],A=s>u?s:u,d=s>u?1:s/u,p=s>u?u/s:1;e&&(e.translate(a,o),e.rotate(f),e.scale(d,p),e.arc(0,0,A,c,c+l,Boolean(1-h)),e.scale(1/d,1/p),e.rotate(-f),e.translate(-a,-o));break;case DTe.CLOSE_PATH:e&&e.closePath()}}))}},{key:"renderChildren",value:function(e){this.setTextData(e),e.save();var t=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),n=this.glyphInfo,i=e.fillStyle;"underline"===t&&e.beginPath(),n.forEach((function(n,i){var a=n.p0,o=n.p1,s=n.rotation,u=n.text;e.save(),e.translate(a.x,a.y),e.rotate(s),e.fillStyle&&e.fillText(u,0,0),e.strokeStyle&&e.strokeText(u,0,0),e.restore(),"underline"===t&&(0===i&&e.moveTo(a.x,a.y+r/8),e.lineTo(o.x,o.y+r/5))})),"underline"===t&&(e.lineWidth=r/20,e.strokeStyle=i,e.stroke(),e.closePath()),e.restore()}},{key:"getLetterSpacingAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[e]||0}},{key:"findSegmentToFitChar",value:function(e,t,r,n,i,a,o,s,u){var c=a,l=this.measureText(e,s);" "===s&&"justify"===t&&r<n&&(l+=(n-r)/i),u>-1&&(c+=this.getLetterSpacingAt(u));var f=this.textHeight/20,h=this.getEquidistantPointOnPath(c,f,0),A=this.getEquidistantPointOnPath(c+l,f,0),d={p0:h,p1:A},p=h&&A?Math.atan2(A.y-h.y,A.x-h.x):0;if(o){var v=Math.cos(Math.PI/2+p)*o,g=Math.cos(-p)*o;d.p0=vOe(vOe({},h),{},{x:h.x+v,y:h.y+g}),d.p1=vOe(vOe({},A),{},{x:A.x+v,y:A.y+g})}return{offset:c+=l,segment:d,rotation:p}}},{key:"measureText",value:function(e,t){var r=this.measuresCache,n=t||this.getText();if(r.has(n))return r.get(n);var i=this.measureTargetText(e,n);return r.set(n,i),i}},{key:"setTextData",value:function(e){var t=this;if(!this.glyphInfo){var r=this.getText(),n=r.split(""),i=r.split(" ").length-1,a=this.parent.getAttribute("dx").split().map((function(e){return e.getPixels("x")})),o=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),u=this.getStyle("letter-spacing"),c=this.parent.getStyle("letter-spacing"),l=0;u.hasValue()&&"inherit"!==u.getValue()?u.hasValue()&&"initial"!==u.getValue()&&"unset"!==u.getValue()&&(l=u.getPixels()):l=c.getPixels();var f=[],h=r.length;this.letterSpacingCache=f;for(var A=0;A<h;A++)f.push(void 0!==a[A]?a[A]:l);var d=f.reduce((function(e,t,r){return 0===r?0:e+t||0}),0),p=this.measureText(e),v=Math.max(p+d,0);this.textWidth=p,this.textHeight=this.getFontSize(),this.glyphInfo=[];var g=this.getPathLength(),y=this.getStyle("startOffset").getNumber(0)*g,m=0;"middle"!==s&&"center"!==s||(m=-v/2),"end"!==s&&"right"!==s||(m=-v),m+=y,n.forEach((function(r,a){var u=t.findSegmentToFitChar(e,s,v,g,i,m,o,r,a),c=u.offset,l=u.segment,f=u.rotation;m=c,l.p0&&l.p1&&t.glyphInfo.push({text:n[a],p0:l.p0,p1:l.p1,rotation:f})}))}}},{key:"parsePathData",value:function(e){if(this.pathLength=-1,!e)return[];var t=[],r=e.pathParser;for(r.reset();!r.isEnd();){var n=r.current,i=n?n.x:0,a=n?n.y:0,o=r.next(),s=o.type,u=[];switch(o.type){case DTe.MOVE_TO:this.pathM(r,u);break;case DTe.LINE_TO:s=this.pathL(r,u);break;case DTe.HORIZ_LINE_TO:s=this.pathH(r,u);break;case DTe.VERT_LINE_TO:s=this.pathV(r,u);break;case DTe.CURVE_TO:this.pathC(r,u);break;case DTe.SMOOTH_CURVE_TO:s=this.pathS(r,u);break;case DTe.QUAD_TO:this.pathQ(r,u);break;case DTe.SMOOTH_QUAD_TO:s=this.pathT(r,u);break;case DTe.ARC:u=this.pathA(r);break;case DTe.CLOSE_PATH:QTe.pathZ(r)}o.type!==DTe.CLOSE_PATH?t.push({type:s,points:u,start:{x:i,y:a},pathLength:this.calcLength(i,a,s,u)}):t.push({type:DTe.CLOSE_PATH,points:[],pathLength:0})}return t}},{key:"pathM",value:function(e,t){var r=QTe.pathM(e).point,n=r.x,i=r.y;t.push(n,i)}},{key:"pathL",value:function(e,t){var r=QTe.pathL(e).point,n=r.x,i=r.y;return t.push(n,i),DTe.LINE_TO}},{key:"pathH",value:function(e,t){var r=QTe.pathH(e).point,n=r.x,i=r.y;return t.push(n,i),DTe.LINE_TO}},{key:"pathV",value:function(e,t){var r=QTe.pathV(e).point,n=r.x,i=r.y;return t.push(n,i),DTe.LINE_TO}},{key:"pathC",value:function(e,t){var r=QTe.pathC(e),n=r.point,i=r.controlPoint,a=r.currentPoint;t.push(n.x,n.y,i.x,i.y,a.x,a.y)}},{key:"pathS",value:function(e,t){var r=QTe.pathS(e),n=r.point,i=r.controlPoint,a=r.currentPoint;return t.push(n.x,n.y,i.x,i.y,a.x,a.y),DTe.CURVE_TO}},{key:"pathQ",value:function(e,t){var r=QTe.pathQ(e),n=r.controlPoint,i=r.currentPoint;t.push(n.x,n.y,i.x,i.y)}},{key:"pathT",value:function(e,t){var r=QTe.pathT(e),n=r.controlPoint,i=r.currentPoint;return t.push(n.x,n.y,i.x,i.y),DTe.QUAD_TO}},{key:"pathA",value:function(e){var t=QTe.pathA(e),r=t.rX,n=t.rY,i=t.sweepFlag,a=t.xAxisRotation,o=t.centp,s=t.a1,u=t.ad;return 0===i&&u>0&&(u-=2*Math.PI),1===i&&u<0&&(u+=2*Math.PI),[o.x,o.y,r,n,s,u,a,i]}},{key:"calcLength",value:function(e,t,r,n){var i=0,a=null,o=null,s=0;switch(r){case DTe.LINE_TO:return this.getLineLength(e,t,n[0],n[1]);case DTe.CURVE_TO:for(i=0,a=this.getPointOnCubicBezier(0,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),s=.01;s<=1;s+=.01)o=this.getPointOnCubicBezier(s,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return i;case DTe.QUAD_TO:for(i=0,a=this.getPointOnQuadraticBezier(0,e,t,n[0],n[1],n[2],n[3]),s=.01;s<=1;s+=.01)o=this.getPointOnQuadraticBezier(s,e,t,n[0],n[1],n[2],n[3]),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return i;case DTe.ARC:i=0;var u=n[4],c=n[5],l=n[4]+c,f=Math.PI/180;if(Math.abs(u-l)<f&&(f=Math.abs(u-l)),a=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],u,0),c<0)for(s=u-f;s>l;s-=f)o=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;else for(s=u+f;s<l;s+=f)o=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],s,0),i+=this.getLineLength(a.x,a.y,o.x,o.y),a=o;return o=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),i+=this.getLineLength(a.x,a.y,o.x,o.y)}return 0}},{key:"getPointOnLine",value:function(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,s=(i-r)/(n-t+nTe),u=Math.sqrt(e*e/(1+s*s));n<t&&(u*=-1);var c=s*u,l=null;if(n===t)l={x:a,y:o+c};else if((o-r)/(a-t+nTe)===s)l={x:a+u,y:o+c};else{var f=0,h=0,A=this.getLineLength(t,r,n,i);if(A<nTe)return null;var d=(a-t)*(n-t)+(o-r)*(i-r);f=t+(d/=A*A)*(n-t),h=r+d*(i-r);var p=this.getLineLength(a,o,f,h),v=Math.sqrt(e*e-p*p);u=Math.sqrt(v*v/(1+s*s)),n<t&&(u*=-1),l={x:f+u,y:h+(c=s*u)}}return l}},{key:"getPointOnPath",value:function(e){var t=this.getPathLength(),r=0,n=null;if(e<-5e-5||e-5e-5>t)return null;var i,a=L(this.dataArray);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!o||!(o.pathLength<5e-5||r+o.pathLength+5e-5<e)){var s=e-r,u=0;switch(o.type){case DTe.LINE_TO:n=this.getPointOnLine(s,o.start.x,o.start.y,o.points[0],o.points[1],o.start.x,o.start.y);break;case DTe.ARC:var c=o.points[4],l=o.points[5],f=o.points[4]+l;if(u=c+s/o.pathLength*l,l<0&&u<f||l>=0&&u>f)break;n=this.getPointOnEllipticalArc(o.points[0],o.points[1],o.points[2],o.points[3],u,o.points[6]);break;case DTe.CURVE_TO:(u=s/o.pathLength)>1&&(u=1),n=this.getPointOnCubicBezier(u,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3],o.points[4],o.points[5]);break;case DTe.QUAD_TO:(u=s/o.pathLength)>1&&(u=1),n=this.getPointOnQuadraticBezier(u,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3])}if(n)return n;break}r+=o.pathLength}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"getLineLength",value:function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))}},{key:"getPathLength",value:function(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((function(e,t){return t.pathLength>0?e+t.pathLength:e}),0)),this.pathLength}},{key:"getPointOnCubicBezier",value:function(e,t,r,n,i,a,o,s,u){return{x:s*sTe(e)+a*uTe(e)+n*cTe(e)+t*lTe(e),y:u*sTe(e)+o*uTe(e)+i*cTe(e)+r*lTe(e)}}},{key:"getPointOnQuadraticBezier",value:function(e,t,r,n,i,a,o){return{x:a*fTe(e)+n*hTe(e)+t*ATe(e),y:o*fTe(e)+i*hTe(e)+r*ATe(e)}}},{key:"getPointOnEllipticalArc",value:function(e,t,r,n,i,a){var o=Math.cos(a),s=Math.sin(a),u=r*Math.cos(i),c=n*Math.sin(i);return{x:e+(u*o-c*s),y:t+(u*s+c*o)}}},{key:"buildEquidistantCache",value:function(e,t){var r=this.getPathLength(),n=t||.25,i=e||r/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==n){this.equidistantCache={step:i,precision:n,points:[]};for(var a=0,o=0;o<=r;o+=n){var s=this.getPointOnPath(o),u=this.getPointOnPath(o+n);s&&u&&((a+=this.getLineLength(s.x,s.y,u.x,u.y))>=i&&(this.equidistantCache.points.push({x:s.x,y:s.y,distance:o}),a-=i))}}}},{key:"getEquidistantPointOnPath",value:function(e,t,r){if(this.buildEquidistantCache(t,r),e<0||e-this.getPathLength()>5e-5)return null;var n=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[n]||null}}]),r}(KTe),yOe=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i,mOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="image",a.loaded=!1;var o=a.getHrefAttribute().getString();if(!o)return b(a);var u=o.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(o);return e.images.push(m(a)),u?a.loadSvg(o):a.loadImage(o),a.isSvg=u,a}return c(r,[{key:"loadImage",value:function(e){var t=this;return zke(n().mark((function r(){var i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.document.createImage(e);case 3:i=r.sent,t.image=i,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error('Error while loading image "'.concat(e,'":'),r.t0);case 10:t.loaded=!0;case 11:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},{key:"loadSvg",value:function(e){var t=this;return zke(n().mark((function r(){var i,a,o,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(i=yOe.exec(e))){r.next=6;break}a=i[5],"base64"===i[4]?t.image=atob(a):t.image=decodeURIComponent(a),r.next=19;break;case 6:return r.prev=6,r.next=9,t.document.fetch(e);case 9:return o=r.sent,r.next=12,o.text();case 12:s=r.sent,t.image=s,r.next=19;break;case 16:r.prev=16,r.t0=r.catch(6),console.error('Error while loading image "'.concat(e,'":'),r.t0);case 19:t.loaded=!0;case 20:case"end":return r.stop()}}),r,null,[[6,16]])})))()}},{key:"renderChildren",value:function(e){var t=this.document,r=this.image,n=this.loaded,i=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(n&&r&&o&&s){if(e.save(),e.translate(i,a),this.isSvg){var u=t.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:o,scaleHeight:s});u.document.documentElement.parent=this,u.render()}else{var c=this.image;t.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:o,desiredWidth:c.width,height:s,desiredHeight:c.height}),this.loaded&&(void 0===c.complete||c.complete)&&e.drawImage(c,0,0)}e.restore()}}},{key:"getBoundingBox",value:function(){var e=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),n=this.getStyle("height").getPixels("y");return new RTe(e,t,e+r,t+n)}}]),r}(jTe),bOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="symbol",e}return c(r,[{key:"render",value:function(e){}}]),r}(jTe),wOe=function(){function e(t){s(this,e),this.document=t,this.loaded=!1,t.fonts.push(this)}return c(e,[{key:"load",value:function(e,t){var r=this;return zke(n().mark((function i(){var a,o,s;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=r.document,n.next=4,a.canvg.parser.load(t);case 4:o=n.sent,s=o.getElementsByTagName("font"),Array.from(s).forEach((function(t){var r=a.createElement(t);a.definitions[e]=r})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error('Error while loading font "'.concat(t,'":'),n.t0);case 12:r.loaded=!0;case 13:case"end":return n.stop()}}),i,null,[[0,9]])})))()}}]),e}(),xOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="style";var o=jPe(Array.from(n.childNodes).map((function(e){return e.textContent})).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,""));return o.split("}").forEach((function(t){var r=t.trim();if(r){var n=r.split("{"),i=n[0].split(","),a=n[1].split(";");i.forEach((function(t){var r=t.trim();if(r){var n=e.styles[r]||{};if(a.forEach((function(t){var r=t.indexOf(":"),i=t.substr(0,r).trim(),a=t.substr(r+1,t.length-r).trim();i&&a&&(n[i]=new dTe(e,i,a))})),e.styles[r]=n,e.stylesSpecificity[r]=rTe(r),"@font-face"===r){var i=n["font-family"].getString().replace(/"|'/g,"");n.src.getString().split(",").forEach((function(t){if(t.indexOf('format("svg")')>0){var r=qPe(t);r&&new wOe(e).load(i,r)}}))}}}))}})),a}return c(r)}(OTe);xOe.parseExternalUrl=qPe;var kOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="use",e}return c(r,[{key:"setContext",value:function(e){k(h(r.prototype),"setContext",this).call(this,e);var t=this.getAttribute("x"),n=this.getAttribute("y");t.hasValue()&&e.translate(t.getPixels("x"),0),n.hasValue()&&e.translate(0,n.getPixels("y"))}},{key:"path",value:function(e){var t=this.element;t&&t.path(e)}},{key:"renderChildren",value:function(e){var t=this.document,r=this.element;if(r){var n=r;if("symbol"===r.type&&((n=new qTe(t,null)).attributes.viewBox=new dTe(t,"viewBox",r.getAttribute("viewBox").getString()),n.attributes.preserveAspectRatio=new dTe(t,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),n.attributes.overflow=new dTe(t,"overflow",r.getAttribute("overflow").getString()),n.children=r.children,r.styles.opacity=new dTe(t,"opacity",this.calculateOpacity())),"svg"===n.type){var i=this.getStyle("width",!1,!0),a=this.getStyle("height",!1,!0);i.hasValue()&&(n.attributes.width=new dTe(t,"width",i.getString())),a.hasValue()&&(n.attributes.height=new dTe(t,"height",a.getString()))}var o=n.parent;n.parent=this,n.render(e),n.parent=o}}},{key:"getBoundingBox",value:function(e){var t=this.element;return t?t.getBoundingBox(e):null}},{key:"elementTransform",value:function(){var e=this.document,t=this.element;return TTe.fromElement(e,t)}},{key:"element",get:function(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}]),r}(jTe);function _Oe(e,t,r,n,i,a){return e[r*n*4+4*t+a]}function BOe(e,t,r,n,i,a,o){e[r*n*4+4*t+a]=o}function EOe(e,t,r){return e[t]*r}function SOe(e,t,r,n){return t+Math.cos(e)*r+Math.sin(e)*n}var COe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;s(this,r),(a=t.call(this,e,n,i)).type="feColorMatrix";var o=KPe(a.getAttribute("values").getString());switch(a.getAttribute("type").getString("matrix")){case"saturate":var u=o[0];o=[.213+.787*u,.715-.715*u,.072-.072*u,0,0,.213-.213*u,.715+.285*u,.072-.072*u,0,0,.213-.213*u,.715-.715*u,.072+.928*u,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var c=o[0]*Math.PI/180;o=[SOe(c,.213,.787,-.213),SOe(c,.715,-.715,-.715),SOe(c,.072,-.072,.928),0,0,SOe(c,.213,-.213,.143),SOe(c,.715,.285,.14),SOe(c,.072,-.072,-.283),0,0,SOe(c,.213,-.213,-.787),SOe(c,.715,-.715,.715),SOe(c,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}return a.matrix=o,a.includeOpacity=a.getAttribute("includeOpacity").hasValue(),a}return c(r,[{key:"apply",value:function(e,t,r,n,i){for(var a=this.includeOpacity,o=this.matrix,s=e.getImageData(0,0,n,i),u=0;u<i;u++)for(var c=0;c<n;c++){var l=_Oe(s.data,c,u,n,0,0),f=_Oe(s.data,c,u,n,0,1),h=_Oe(s.data,c,u,n,0,2),A=_Oe(s.data,c,u,n,0,3),d=EOe(o,0,l)+EOe(o,1,f)+EOe(o,2,h)+EOe(o,3,A)+EOe(o,4,1),p=EOe(o,5,l)+EOe(o,6,f)+EOe(o,7,h)+EOe(o,8,A)+EOe(o,9,1),v=EOe(o,10,l)+EOe(o,11,f)+EOe(o,12,h)+EOe(o,13,A)+EOe(o,14,1),g=EOe(o,15,l)+EOe(o,16,f)+EOe(o,17,h)+EOe(o,18,A)+EOe(o,19,1);a&&(d=0,p=0,v=0,g*=A/255),BOe(s.data,c,u,n,0,0,d),BOe(s.data,c,u,n,0,1,p),BOe(s.data,c,u,n,0,2,v),BOe(s.data,c,u,n,0,3,g)}e.clearRect(0,0,n,i),e.putImageData(s,0,0)}}]),r}(OTe),IOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="mask",e}return c(r,[{key:"apply",value:function(e,t){var n=this.document,i=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!o&&!s){var u=new RTe;this.children.forEach((function(t){u.addBoundingBox(t.getBoundingBox(e))})),i=Math.floor(u.x1),a=Math.floor(u.y1),o=Math.floor(u.width),s=Math.floor(u.height)}var c=this.removeStyles(t,r.ignoreStyles),l=n.createCanvas(i+o,a+s),f=l.getContext("2d");n.screen.setDefaults(f),this.renderChildren(f),new COe(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(f,0,0,i+o,a+s);var h=n.createCanvas(i+o,a+s),A=h.getContext("2d");n.screen.setDefaults(A),t.render(A),A.globalCompositeOperation="destination-in",A.fillStyle=f.createPattern(l,"no-repeat"),A.fillRect(0,0,i+o,a+s),e.fillStyle=A.createPattern(h,"no-repeat"),e.fillRect(0,0,i+o,a+s),this.restoreStyles(t,c)}},{key:"render",value:function(e){}}]),r}(OTe);IOe.ignoreStyles=["mask","transform","clip-path"];var POe=function(){},TOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="clipPath",e}return c(r,[{key:"apply",value:function(e){var t=this.document,r=Reflect.getPrototypeOf(e),n=e.beginPath,i=e.closePath;r&&(r.beginPath=POe,r.closePath=POe),Reflect.apply(n,e,[]),this.children.forEach((function(n){if(void 0!==n.path){var a=void 0!==n.elementTransform?n.elementTransform():null;a||(a=TTe.fromElement(t,n)),a&&a.apply(e),n.path(e),r&&(r.closePath=i),a&&a.unapply(e)}})),Reflect.apply(i,e,[]),e.clip(),r&&(r.beginPath=n,r.closePath=i)}},{key:"render",value:function(e){}}]),r}(OTe),OOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="filter",e}return c(r,[{key:"apply",value:function(e,t){var n=this.document,i=this.children,a=t.getBoundingBox(e);if(a){var o=0,s=0;i.forEach((function(e){var t=e.extraFilterDistance||0;o=Math.max(o,t),s=Math.max(s,t)}));var u=Math.floor(a.width),c=Math.floor(a.height),l=u+2*o,f=c+2*s;if(!(l<1||f<1)){var h=Math.floor(a.x),A=Math.floor(a.y),d=this.removeStyles(t,r.ignoreStyles),p=n.createCanvas(l,f),v=p.getContext("2d");n.screen.setDefaults(v),v.translate(-h+o,-A+s),t.render(v),i.forEach((function(e){"function"==typeof e.apply&&e.apply(v,0,0,l,f)})),e.drawImage(p,0,0,l,f,h-o,A-s,l,f),this.restoreStyles(t,d)}}}},{key:"render",value:function(e){}}]),r}(OTe);OOe.ignoreStyles=["filter","transform","clip-path"];var LOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="feDropShadow",a.addStylesFromStyleDefinition(),a}return c(r,[{key:"apply",value:function(e,t,r,n,i){}}]),r}(OTe),NOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="feMorphology",e}return c(r,[{key:"apply",value:function(e,t,r,n,i){}}]),r}(OTe),MOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="feComposite",e}return c(r,[{key:"apply",value:function(e,t,r,n,i){}}]),r}(OTe),UOe=function(e){f(r,e);var t=w(r);function r(e,n,i){var a;return s(this,r),(a=t.call(this,e,n,i)).type="feGaussianBlur",a.blurRadius=Math.floor(a.getAttribute("stdDeviation").getNumber()),a.extraFilterDistance=a.blurRadius,a}return c(r,[{key:"apply",value:function(e,t,r,n,i){var a=this.document,o=this.blurRadius,s=a.window?a.window.document.body:null,u=e.canvas;u.id=a.getUniqueId(),s&&(u.style.display="none",s.appendChild(u)),FPe(u,t,r,n,i,o),s&&s.removeChild(u)}}]),r}(OTe),FOe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="title",e}return c(r)}(OTe),ROe=function(e){f(r,e);var t=w(r);function r(){var e;return s(this,r),(e=t.apply(this,arguments)).type="desc",e}return c(r)}(OTe),DOe={svg:qTe,rect:GTe,circle:WTe,ellipse:JTe,line:XTe,polyline:YTe,polygon:$Te,path:QTe,pattern:ZTe,marker:eOe,defs:tOe,linearGradient:iOe,radialGradient:aOe,stop:oOe,animate:sOe,animateColor:uOe,animateTransform:cOe,font:lOe,"font-face":fOe,"missing-glyph":hOe,glyph:HTe,text:KTe,tspan:VTe,tref:AOe,a:dOe,textPath:gOe,image:mOe,g:rOe,symbol:bOe,style:xOe,use:kOe,mask:IOe,clipPath:TOe,filter:OOe,feDropShadow:LOe,feMorphology:NOe,feComposite:MOe,feColorMatrix:COe,feGaussianBlur:UOe,title:FOe,desc:ROe};function jOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QOe(){return QOe=zke(n().mark((function e(t){var r,i,a=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]&&a[1],i=document.createElement("img"),r&&(i.crossOrigin="Anonymous"),e.abrupt("return",new Promise((function(e,r){i.onload=function(){e(i)},i.onerror=function(e,t,n,i,a){r(a)},i.src=t})));case 4:case"end":return e.stop()}}),e)}))),QOe.apply(this,arguments)}var HOe=function(){function e(t){s(this,e);var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.rootEmSize,i=void 0===n?12:n,a=r.emSize,o=void 0===a?12:a,u=r.createCanvas,c=void 0===u?e.createCanvas:u,l=r.createImage,f=void 0===l?e.createImage:l,h=r.anonymousCrossOrigin;this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=i,this.emSize=o,this.createCanvas=c,this.createImage=this.bindCreateImage(f,h),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}return c(e,[{key:"bindCreateImage",value:function(e,t){return"boolean"==typeof t?function(r,n){return e(r,"boolean"==typeof n?n:t)}:e}},{key:"window",get:function(){return this.screen.window}},{key:"fetch",get:function(){return this.screen.fetch}},{key:"ctx",get:function(){return this.screen.ctx}},{key:"emSize",get:function(){var e=this.emSizeStack;return e[e.length-1]},set:function(e){this.emSizeStack.push(e)}},{key:"popEmSize",value:function(){this.emSizeStack.pop()}},{key:"getUniqueId",value:function(){return"canvg".concat(++this.uniqueId)}},{key:"isImagesLoaded",value:function(){return this.images.every((function(e){return e.loaded}))}},{key:"isFontsLoaded",value:function(){return this.fonts.every((function(e){return e.loaded}))}},{key:"createDocumentElement",value:function(e){var t=this.createElement(e.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}},{key:"createElement",value:function(t){var r=t.nodeName.replace(/^[^:]+:/,""),n=e.elementTypes[r];return void 0!==n?new n(this,t):new LTe(this,t)}},{key:"createTextNode",value:function(e){return new zTe(this,e)}},{key:"setViewBox",value:function(e){this.screen.setViewBox(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jOe(Object(r),!0).forEach((function(t){oCe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({document:this},e))}}]),e}();function KOe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function VOe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KOe(Object(r),!0).forEach((function(t){oCe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KOe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}HOe.createCanvas=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r},HOe.createImage=function(e){return QOe.apply(this,arguments)},HOe.elementTypes=DOe;var zOe=function(){function e(t,r){s(this,e);var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new kTe(n),this.screen=new bTe(t,n),this.options=n;var i=new HOe(this,n),a=i.createDocumentElement(r);this.document=i,this.documentElement=a}return c(e,[{key:"fork",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.from(t,r,VOe(VOe({},this.options),n))}},{key:"forkString",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.fromString(t,r,VOe(VOe({},this.options),n))}},{key:"ready",value:function(){return this.screen.ready()}},{key:"isReady",value:function(){return this.screen.isReady()}},{key:"render",value:function(){var e=arguments,t=this;return zke(n().mark((function r(){var i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},t.start(VOe({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},i)),r.next=4,t.ready();case 4:t.stop();case 5:case"end":return r.stop()}}),r)})))()}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.documentElement,r=this.screen,n=this.options;r.start(t,VOe(VOe({enableRedraw:!0},n),e))}},{key:"stop",value:function(){this.screen.stop()}},{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(e,t,r)}}],[{key:"from",value:function(t,r){var i=arguments;return zke(n().mark((function a(){var o,s,u;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.length>2&&void 0!==i[2]?i[2]:{},s=new kTe(o),n.next=4,s.parse(r);case 4:return u=n.sent,n.abrupt("return",new e(t,u,o));case 6:case"end":return n.stop()}}),a)})))()}},{key:"fromString",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new kTe(n),a=i.parseFromString(r);return new e(t,a,n)}}]),e}(),qOe=Object.freeze({__proto__:null,AElement:dOe,AnimateColorElement:uOe,AnimateElement:sOe,AnimateTransformElement:cOe,BoundingBox:RTe,CB1:sTe,CB2:uTe,CB3:cTe,CB4:lTe,Canvg:zOe,CircleElement:WTe,ClipPathElement:TOe,DefsElement:tOe,DescElement:ROe,Document:HOe,Element:OTe,EllipseElement:JTe,FeColorMatrixElement:COe,FeCompositeElement:MOe,FeDropShadowElement:LOe,FeGaussianBlurElement:UOe,FeMorphologyElement:NOe,FilterElement:OOe,Font:FTe,FontElement:lOe,FontFaceElement:fOe,GElement:rOe,GlyphElement:HTe,GradientElement:nOe,ImageElement:mOe,LineElement:XTe,LinearGradientElement:iOe,MarkerElement:eOe,MaskElement:IOe,Matrix:STe,MissingGlyphElement:hOe,Mouse:gTe,PSEUDO_ZERO:nTe,Parser:kTe,PathElement:QTe,PathParser:DTe,PatternElement:ZTe,Point:vTe,PolygonElement:$Te,PolylineElement:YTe,Property:dTe,QB1:fTe,QB2:hTe,QB3:ATe,RadialGradientElement:aOe,RectElement:GTe,RenderedElement:jTe,Rotate:BTe,SVGElement:qTe,SVGFontLoader:wOe,Scale:ETe,Screen:bTe,Skew:CTe,SkewX:ITe,SkewY:PTe,StopElement:oOe,StyleElement:xOe,SymbolElement:bOe,TRefElement:AOe,TSpanElement:VTe,TextElement:KTe,TextPathElement:gOe,TitleElement:FOe,Transform:TTe,Translate:_Te,UnknownElement:LTe,UseElement:kOe,ViewPort:pTe,compressSpaces:jPe,default:zOe,getSelectorSpecificity:rTe,normalizeAttributeName:zPe,normalizeColor:GPe,parseExternalUrl:qPe,presets:DPe,toNumbers:KPe,trimLeft:QPe,trimRight:HPe,vectorMagnitude:iTe,vectorsAngle:oTe,vectorsRatio:aTe})}();
