!function(){"use strict";function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(r){if("default"!==r&&!(r in e)){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}))})),Object.freeze(e)}var t="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==t&&t,r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function A(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function p(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=f(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(p)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),A(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),A(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),A(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];w.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var _=t.DOMException;try{new _}catch(e){(_=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function B(e,r){return new Promise((function(n,o){var a=new v(e,r);if(a.signal&&a.signal.aborted)return o(new _("Aborted","AbortError"));var c=new XMLHttpRequest;function u(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var i="response"in c?c.response:c.responseText;setTimeout((function(){n(new w(i,r))}),0)},c.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){o(new _("Aborted","AbortError"))}),0)},c.open(a.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&(i?c.responseType="blob":s&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!r||"object"!=typeof r.headers||r.headers instanceof h?a.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(r.headers).forEach((function(e){c.setRequestHeader(e,l(r.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",u),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",u)}),c.send(void 0===a._bodyInit?null:a._bodyInit)}))}B.polyfill=!0,t.fetch||(t.fetch=B,t.Headers=h,t.Request=v,t.Response=w),Uint8Array.prototype.fill||(Uint8Array.prototype.fill=function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=n>>0,o=i<0?Math.max(r+i,0):Math.min(i,r),s=arguments[2],a=void 0===s?r:s>>0,c=a<0?Math.max(r+a,0):Math.min(a,r);o<c;)t[o]=e,o++;return t})
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */,window.JSCompiler_renameProperty=function(e,t){return e};
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
let E=0;const S=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let r=E++;return function(n){let i=n.__mixinSet;if(i&&i[r])return n;let o=t,s=o.get(n);if(!s){s=e(n),o.set(n,s);let t=Object.create(s.__mixinSet||i||null);t[r]=!0,s.__mixinSet=t}return s}};
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
let C=0,I=0,k=[],P=0,T=!1,O=document.createTextNode("");new window.MutationObserver((function(){T=!1;const e=k.length;for(let t=0;t<e;t++){let e=k[t];if(e)try{e()}catch(e){setTimeout((()=>{throw e}))}}k.splice(0,e),I+=e})).observe(O,{characterData:!0});const L={run:e=>(T||(T=!0,O.textContent=P++),k.push(e),C++),cancel(e){const t=e-I;if(t>=0){if(!k[t])throw new Error("invalid async handle: "+e);k[t]=null}}},N=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e,U=L,F=S((e=>class extends e{static createProperties(e){const t=this.prototype;for(let r in e)r in t||t._createPropertyAccessor(r)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let t=this.__dataAttributes[e];return t||(t=this.constructor.attributeNameForProperty(e),this.__dataAttributes[t]=e),t}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this.__data[e]},set:t?function(){}:function(t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,r){let n=this.__data[e],i=this._shouldPropertyChange(e,t,n);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=n),this.__data[e]=t,this.__dataPending[e]=t),i}_isPropertyPending(e){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(e))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,U.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const e=this.__data,t=this.__dataPending,r=this.__dataOld;this._shouldPropertiesChange(e,t,r)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,r)),this.__dataCounter--}_shouldPropertiesChange(e,t,r){return Boolean(t)}_propertiesChanged(e,t,r){}_shouldPropertyChange(e,t,r){return r!==t&&(r==r||t==t)}attributeChangedCallback(e,t,r,n){t!==r&&this._attributeToProperty(e,r),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,r,n)}_attributeToProperty(e,t,r){if(!this.__serializing){const n=this.__dataAttributes,i=n&&n[e]||e;this[i]=this._deserializeValue(t,r||this.constructor.typeForProperty(i))}}_propertyToAttribute(e,t,r){this.__serializing=!0,r=arguments.length<3?this[e]:r,this._valueToNodeAttribute(this,r,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,r){const n=this._serializeValue(t);"class"!==r&&"name"!==r&&"slot"!==r||(e=N(e)),void 0===n?e.removeAttribute(r):e.setAttribute(r,n)}_serializeValue(e){return"boolean"==typeof e?e?"":void 0:null!=e?e.toString():void 0}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}}));
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */const M=S((e=>{const t=F(e);function r(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof i?t:null}function n(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const r=e.properties;r&&(t=
/**
  @license
  Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */
function(e){const t={};for(let r in e){const n=e[r];t[r]="function"==typeof n?{type:n}:n}return t}(r))}e.__ownProperties=t}return e.__ownProperties}class i extends t{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const e=this._properties;this.__observedAttributes=e?Object.keys(e).map((e=>this.prototype._addPropertyToAttributeMap(e))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=r(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=n(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=r(this);this.__properties=Object.assign({},e&&e._properties,n(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i})),R=new Map;
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */class D{constructor(e,t,r,n=ee){this.strings=e,this.values=t,this.type=r,this.partCallback=n}getHTML(){const e=this.strings.length-1;let t="",r=!0;for(let n=0;n<e;n++){const e=this.strings[n];t+=e;const i=V(e);r=i>-1?i<e.length:r,t+=r?Q:j}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const j=`{{lit-${String(Math.random()).slice(2)}}}`,Q=`\x3c!--${j}--\x3e`,H=new RegExp(`${j}|${Q}`),K=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function V(e){const t=e.lastIndexOf(">");return e.indexOf("<",t+1)>-1?e.length:t}class z{constructor(e,t,r,n,i){this.type=e,this.index=t,this.name=r,this.rawName=n,this.strings=i}}const q=e=>-1!==e.index;class G{constructor(e,t){this.parts=[],this.element=t;const r=this.element.content,n=document.createTreeWalker(r,133,null,!1);let i=-1,o=0;const s=[];let a,c;for(;n.nextNode();){i++,a=c;const t=c=n.currentNode;if(1===t.nodeType){if(!t.hasAttributes())continue;const r=t.attributes;let n=0;for(let e=0;e<r.length;e++)r[e].value.indexOf(j)>=0&&n++;for(;n-- >0;){const n=e.strings[o],s=K.exec(n)[1],a=r.getNamedItem(s),c=a.value.split(H);this.parts.push(new z("attribute",i,a.name,s,c)),t.removeAttribute(a.name),o+=c.length-1}}else if(3===t.nodeType){const e=t.nodeValue;if(e.indexOf(j)<0)continue;const r=t.parentNode,n=e.split(H),a=n.length-1;o+=a;for(let e=0;e<a;e++)r.insertBefore(""===n[e]?document.createComment(""):document.createTextNode(n[e]),t),this.parts.push(new z("node",i++));r.insertBefore(""===n[a]?document.createComment(""):document.createTextNode(n[a]),t),s.push(t)}else if(8===t.nodeType&&t.nodeValue===j){const e=t.parentNode,r=t.previousSibling;null===r||r!==a||r.nodeType!==Node.TEXT_NODE?e.insertBefore(document.createComment(""),t):i--,this.parts.push(new z("node",i++)),s.push(t),null===t.nextSibling?e.insertBefore(document.createComment(""),t):i--,c=a,o++}}for(const e of s)e.parentNode.removeChild(e)}}const W=(e,t)=>$(t)?(t=t(e),J):null===t?void 0:t,$=e=>"function"==typeof e&&!0===e.__litDirective,J={},X=e=>null===e||!("object"==typeof e||"function"==typeof e);class Y{constructor(e,t,r,n){this.instance=e,this.element=t,this.name=r,this.strings=n,this.size=n.length-1,this._previousValues=[]}_interpolate(e,t){const r=this.strings,n=r.length-1;let i="";for(let o=0;o<n;o++){i+=r[o];const n=W(this,e[t+o]);if(n&&n!==J&&(Array.isArray(n)||"string"!=typeof n&&n[Symbol.iterator]))for(const e of n)i+=e;else i+=n}return i+r[n]}_equalToPreviousValues(e,t){for(let r=t;r<t+this.size;r++)if(this._previousValues[r]!==e[r]||!X(e[r]))return!1;return!0}setValue(e,t){if(this._equalToPreviousValues(e,t))return;const r=this.strings;let n;2===r.length&&""===r[0]&&""===r[1]?(n=W(this,e[t]),Array.isArray(n)&&(n=n.join(""))):n=this._interpolate(e,t),n!==J&&this.element.setAttribute(this.name,n),this._previousValues=e}}class Z{constructor(e,t,r){this.instance=e,this.startNode=t,this.endNode=r,this._previousValue=void 0}setValue(e){if((e=W(this,e))!==J)if(X(e)){if(e===this._previousValue)return;this._setText(e)}else e instanceof D?this._setTemplateResult(e):Array.isArray(e)||e[Symbol.iterator]?this._setIterable(e):e instanceof Node?this._setNode(e):void 0!==e.then?this._setPromise(e):this._setText(e)}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_setNode(e){this._previousValue!==e&&(this.clear(),this._insert(e),this._previousValue=e)}_setText(e){const t=this.startNode.nextSibling;e=void 0===e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._setNode(document.createTextNode(e)),this._previousValue=e}_setTemplateResult(e){const t=this.instance._getTemplate(e);let r;this._previousValue&&this._previousValue.template===t?r=this._previousValue:(r=new te(t,this.instance._partCallback,this.instance._getTemplate),this._setNode(r._clone()),this._previousValue=r),r.update(e.values)}_setIterable(e){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const t=this._previousValue;let r=0;for(const n of e){let e=t[r];if(void 0===e){let n=this.startNode;if(r>0){n=t[r-1].endNode=document.createTextNode(""),this._insert(n)}e=new Z(this.instance,n,this.endNode),t.push(e)}e.setValue(n),r++}if(0===r)this.clear(),this._previousValue=void 0;else if(r<t.length){const e=t[r-1];t.length=r,this.clear(e.endNode.previousSibling),e.endNode=this.endNode}}_setPromise(e){this._previousValue=e,e.then((t=>{this._previousValue===e&&this.setValue(t)}))}clear(e=this.startNode){re(this.startNode.parentNode,e.nextSibling,this.endNode)}}const ee=(e,t,r)=>{if("attribute"===t.type)return new Y(e,r,t.name,t.strings);if("node"===t.type)return new Z(e,r,r.nextSibling);throw new Error(`Unknown part type ${t.type}`)};class te{constructor(e,t,r){this._parts=[],this.template=e,this._partCallback=t,this._getTemplate=r}update(e){let t=0;for(const r of this._parts)r?void 0===r.size?(r.setValue(e[t]),t++):(r.setValue(e,t),t+=r.size):t++}_clone(){const e=this.template.element.content.cloneNode(!0),t=this.template.parts;if(t.length>0){const r=document.createTreeWalker(e,133,null,!1);let n=-1;for(let e=0;e<t.length;e++){const i=t[e],o=q(i);if(o)for(;n<i.index;)n++,r.nextNode();this._parts.push(o?this._partCallback(this,i,r.currentNode):void 0)}}return e}}const re=(e,t,r=null)=>{let n=t;for(;n!==r;){const t=n.nextSibling;e.removeChild(n),n=t}},ne=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT;
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */const ie=e=>{let t=1;const r=document.createTreeWalker(e,ne,null,!1);for(;r.nextNode();)t++;return t},oe=(e,t=-1)=>{for(let r=t+1;r<e.length;r++){const t=e[r];if(q(t))return r}return-1};
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
const se=(e,t)=>`${e}--${t}`,ae=["html","svg"];function ce(e){ae.forEach((t=>{const r=R.get(se(t,e));void 0!==r&&r.forEach((e=>{const{element:{content:t}}=e,r=t.querySelectorAll("style");!function(e,t){const{element:{content:r},parts:n}=e,i=document.createTreeWalker(r,ne,null,!1);let o=0,s=n[0],a=-1,c=0;const u=[];let l=null;for(;i.nextNode();){a++;const e=i.currentNode;for(e.previousSibling===l&&(l=null),t.has(e)&&(u.push(e),null===l&&(l=e)),null!==l&&c++;void 0!==s&&s.index===a;)s.index=null!==l?-1:s.index-c,s=n[++o]}u.forEach((e=>e.parentNode.removeChild(e)))}(e,new Set(Array.from(r)))}))}))}const ue=new Set,le=(e,t,r)=>{if(!ue.has(r)){ue.add(r);const n=document.createElement("template");if(Array.from(e.querySelectorAll("style")).forEach((e=>{n.content.appendChild(e)})),window.ShadyCSS.prepareTemplateStyles(n,r),ce(r),window.ShadyCSS.nativeShadow){const r=n.content.querySelector("style");null!==r&&(e.insertBefore(r,e.firstChild),function(e,t,r=null){const{element:{content:n},parts:i}=e;if(null==r)return void n.appendChild(t);const o=document.createTreeWalker(n,ne,null,!1);let s=oe(i),a=0,c=-1;for(;o.nextNode();)for(c++,o.currentNode===r&&(r.parentNode.insertBefore(t,r),a=ie(t));-1!==s&&i[s].index===c;){if(a>0){for(;-1!==s;)i[s].index+=a,s=oe(i,s);return}s=oe(i,s)}}(t,r.cloneNode(!0),t.element.content.firstChild))}}};function Ae(e,t,r){const n=(e=>t=>{const r=se(t.type,e);let n=R.get(r);void 0===n&&(n=new Map,R.set(r,n));let i=n.get(t.strings);if(void 0===i){const r=t.getTemplateElement();"object"==typeof window.ShadyCSS&&window.ShadyCSS.prepareTemplateDom(r,e),i=new G(t,r),n.set(t.strings,i)}return i})(r),i=n(e);let o=t.__templateInstance;if(void 0!==o&&o.template===i&&o._partCallback===e.partCallback)return void o.update(e.values);o=new te(i,e.partCallback,n),t.__templateInstance=o;const s=o._clone();o.update(e.values);const a=t instanceof ShadowRoot?t.host:void 0;void 0!==a&&"object"==typeof window.ShadyCSS&&(le(s,i,r),window.ShadyCSS.styleElement(a)),re(t,t.firstChild),t.appendChild(s)}
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */const he=(e,...t)=>new D(e,t,"html",fe),fe=(e,t,r)=>{if("attribute"===t.type){if("on-"===t.rawName.substr(0,3)){const n=t.rawName.slice(3);return new ge(e,r,n)}const n=t.name.substr(t.name.length-1);if("$"===n){const n=t.name.slice(0,-1);return new Y(e,r,n,t.strings)}if("?"===n){const n=t.name.slice(0,-1);return new de(e,r,n,t.strings)}return new pe(e,r,t.rawName,t.strings)}return ee(e,t,r)};class de extends Y{setValue(e,t){const r=this.strings;if(2!==r.length||""!==r[0]||""!==r[1])throw new Error("boolean attributes can only contain a single expression");{const r=W(this,e[t]);if(r===J)return;r?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}}class pe extends Y{setValue(e,t){const r=this.strings;let n;this._equalToPreviousValues(e,t)||(n=2===r.length&&""===r[0]&&""===r[1]?W(this,e[t]):this._interpolate(e,t),n!==J&&(this.element[this.name]=n),this._previousValues=e)}}class ge{constructor(e,t,r){this.instance=e,this.element=t,this.eventName=r}setValue(e){const t=W(this,e);t!==this._listener&&(null==t?this.element.removeEventListener(this.eventName,this):null==this._listener&&this.element.addEventListener(this.eventName,this),this._listener=t)}handleEvent(e){"function"==typeof this._listener?this._listener.call(this.element,e):"function"==typeof this._listener.handleEvent&&this._listener.handleEvent(e)}}class me extends(M(HTMLElement)){constructor(){super(...arguments),this.__renderComplete=null,this.__resolveRenderComplete=null,this.__isInvalid=!1,this.__isChanging=!1}ready(){this._root=this._createRoot(),super.ready(),this._firstRendered()}_firstRendered(){}_createRoot(){return this.attachShadow({mode:"open"})}_shouldPropertiesChange(e,t,r){const n=this._shouldRender(e,t,r);return!n&&this.__resolveRenderComplete&&this.__resolveRenderComplete(!1),n}_shouldRender(e,t,r){return!0}_propertiesChanged(e,t,r){super._propertiesChanged(e,t,r);const n=this._render(e);n&&void 0!==this._root&&this._applyRender(n,this._root),this._didRender(e,t,r),this.__resolveRenderComplete&&this.__resolveRenderComplete(!0)}_flushProperties(){this.__isChanging=!0,this.__isInvalid=!1,super._flushProperties(),this.__isChanging=!1}_shouldPropertyChange(e,t,r){const n=super._shouldPropertyChange(e,t,r);return n&&this.__isChanging&&console.trace(`Setting properties in response to other properties changing considered harmful. Setting '${e}' from '${this._getProperty(e)}' to '${t}'.`),n}_render(e){throw new Error("_render() not implemented")}_applyRender(e,t){Ae(e,t,this.localName)}_didRender(e,t,r){}_requestRender(){this._invalidateProperties()}_invalidateProperties(){this.__isInvalid=!0,super._invalidateProperties()}get renderComplete(){return this.__renderComplete||(this.__renderComplete=new Promise((e=>{this.__resolveRenderComplete=t=>{this.__resolveRenderComplete=this.__renderComplete=null,e(t)}})),!this.__isInvalid&&this.__resolveRenderComplete&&Promise.resolve().then((()=>this.__resolveRenderComplete(!1)))),this.__renderComplete}}
/**
  @license
  Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
  This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
  The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
  The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
  Code distributed by Google as part of the polymer project is also
  subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
  */const ye=e=>t=>class extends t{connectedCallback(){this.__storeUnsubscribe=e.subscribe((()=>this._stateChanged(e.getState()))),this._stateChanged(e.getState()),super.connectedCallback&&super.connectedCallback()}disconnectedCallback(){this.__storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}_stateChanged(e){throw new Error("_stateChanged() not implemented")}};function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _e="function"==typeof Symbol&&Symbol.observable||"@@observable",Be=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ee={INIT:"@@redux/INIT"+Be(),REPLACE:"@@redux/REPLACE"+Be(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Be()}};function Se(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ce(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(xe(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(xe(1));return r(Ce)(e,t)}if("function"!=typeof e)throw new Error(xe(2));var i=e,o=t,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function l(){if(c)throw new Error(xe(3));return o}function A(e){if("function"!=typeof e)throw new Error(xe(4));if(c)throw new Error(xe(5));var t=!0;return u(),a.push(e),function(){if(t){if(c)throw new Error(xe(6));t=!1,u();var r=a.indexOf(e);a.splice(r,1),s=null}}}function h(e){if(!Se(e))throw new Error(xe(7));if(void 0===e.type)throw new Error(xe(8));if(c)throw new Error(xe(9));try{c=!0,o=i(o,e)}finally{c=!1}for(var t=s=a,r=0;r<t.length;r++){(0,t[r])()}return e}function f(e){if("function"!=typeof e)throw new Error(xe(10));i=e,h({type:Ee.REPLACE})}function d(){var e,t=A;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(xe(11));function r(){e.next&&e.next(l())}return r(),{unsubscribe:t(r)}}})[_e]=function(){return this},e}return h({type:Ee.INIT}),(n={dispatch:h,subscribe:A,getState:l,replaceReducer:f})[_e]=d,n}function Ie(e,t){return function(){return t(e.apply(this,arguments))}}function ke(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Pe(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var Te=Pe();function Oe(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function Le(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}Te.withExtraArgument=Pe,Oe((function e(t,r,n){e.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:r,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}),Le),Oe((function e(t,r){e.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}),Le),Oe((function e(t,r){e.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:r,enumerable:!0})}),Le),Oe((function e(t,r,n){e.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:r,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}),Le);const Ne="AUTO_VERIFY",Ue="INITIALIZE",Fe="UPDATE_CERTIFICATE_DEFINITION",Me="RESET_CERTIFICATE_DEFINITION",Re="UPDATE_CERTIFICATE_URL",De="VALIDATE_URL_INPUT",je="CLEAR_VERIFIED_STEPS",Qe="STEP_VERIFIED",He="UPDATE_PARENT_STEP_STATUS",Ke="UPDATE_VERIFICATION_STATUS",Ve="UPDATE_FINAL_STEP",ze="SET_ERROR_MESSAGE",qe="SHOW_VERIFICATION_MODAL",Ge="UPDATE_IS_GENERATING_PDF";const We={get:(e,t)=>{const r=t in e?e[t]:null;return r||console.warn("the service does not exist",t),r}};var $e;!function(e){e.TEXT_HTML="text/html",e.IMAGE_PNG="image/png",e.IMAGE_JPEG="image/jpeg",e.IMAGE_GIF="image/gif",e.IMAGE_BMP="image/bmp",e.APPLICATION_PDF="application/pdf"}($e||($e={}));const Je=["text","image","signature","variable"];function Xe(e){const t=(new DOMParser).parseFromString(e,$e.TEXT_HTML);return t.body.childElementCount===t.body.querySelectorAll(Je.map((e=>`section[class*="${e}"]`)).join(", ")).length}const Ye="?format=json";function Ze(e){const{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}}var et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rt={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(rt);var nt=tt(rt.exports),it=Uint8Array,ot=Uint16Array,st=Uint32Array,at=new it([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ct=new it([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ut=new it([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lt=function(e,t){for(var r=new ot(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new st(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return[r,i]},At=lt(at,2),ht=At[0],ft=At[1];ht[28]=258,ft[258]=28;for(var dt=lt(ct,0),pt=dt[0],gt=dt[1],mt=new ot(32768),yt=0;yt<32768;++yt){var vt=(43690&yt)>>>1|(21845&yt)<<1;vt=(61680&(vt=(52428&vt)>>>2|(13107&vt)<<2))>>>4|(3855&vt)<<4,mt[yt]=((65280&vt)>>>8|(255&vt)<<8)>>>1}var bt=function(e,t,r){for(var n=e.length,i=0,o=new ot(t);i<n;++i)++o[e[i]-1];var s,a=new ot(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(r){s=new ot(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],A=a[e[i]-1]++<<l,h=A|(1<<l)-1;A<=h;++A)s[mt[A]>>>c]=u}else for(s=new ot(n),i=0;i<n;++i)s[i]=mt[a[e[i]-1]++]>>>15-e[i];return s},wt=new it(288);for(yt=0;yt<144;++yt)wt[yt]=8;for(yt=144;yt<256;++yt)wt[yt]=9;for(yt=256;yt<280;++yt)wt[yt]=7;for(yt=280;yt<288;++yt)wt[yt]=8;var xt=new it(32);for(yt=0;yt<32;++yt)xt[yt]=5;var _t=bt(wt,9,0),Bt=bt(wt,9,1),Et=bt(xt,5,0),St=bt(xt,5,1),Ct=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},It=function(e,t,r){var n=t/8>>0;return(e[n]|e[n+1]<<8)>>>(7&t)&r},kt=function(e,t){var r=t/8>>0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(7&t)},Pt=function(e){return(e/8>>0)+(7&e&&1)},Tt=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof ot?ot:e instanceof st?st:it)(r-t);return n.set(e.subarray(t,r)),n},Ot=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8},Lt=function(e,t,r){r<<=7&t;var n=t/8>>0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Nt=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,o=r.slice();if(!i)return[new it(0),0];if(1==i){var s=new it(r[0].s+1);return s[r[0].s]=1,[s,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var a=r[0],c=r[1],u=0,l=1,A=2;for(r[0]={s:-1,f:a.f+c.f,l:a,r:c};l!=i-1;)a=r[r[u].f<r[A].f?u++:A++],c=r[u!=l&&r[u].f<r[A].f?u++:A++],r[l++]={s:-1,f:a.f+c.f,l:a,r:c};var h=o[0].s;for(n=1;n<i;++n)o[n].s>h&&(h=o[n].s);var f=new ot(h+1),d=Ut(r[l-1],f,0);if(d>t){n=0;var p=0,g=d-t,m=1<<g;for(o.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));n<i;++n){var y=o[n].s;if(!(f[y]>t))break;p+=m-(1<<d-f[y]),f[y]=t}for(p>>>=g;p>0;){var v=o[n].s;f[v]<t?p-=1<<t-f[v]++-1:++n}for(;n>=0&&p;--n){var b=o[n].s;f[b]==t&&(--f[b],++p)}d=t}return[new it(f),d]},Ut=function(e,t,r){return-1==e.s?Math.max(Ut(e.l,t,r+1),Ut(e.r,t,r+1)):t[e.s]=r},Ft=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ot(++t),n=0,i=e[0],o=1,s=function(e){r[n++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[r.subarray(0,n),t]},Mt=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Rt=function(e,t,r){var n=r.length,i=Pt(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<n;++o)e[i+o+4]=r[o];return 8*(i+4+n)},Dt=function(e,t,r,n,i,o,s,a,c,u,l){Ot(t,l++,r),++i[256];for(var A=Nt(i,15),h=A[0],f=A[1],d=Nt(o,15),p=d[0],g=d[1],m=Ft(h),y=m[0],v=m[1],b=Ft(p),w=b[0],x=b[1],_=new ot(19),B=0;B<y.length;++B)_[31&y[B]]++;for(B=0;B<w.length;++B)_[31&w[B]]++;for(var E=Nt(_,7),S=E[0],C=E[1],I=19;I>4&&!S[ut[I-1]];--I);var k,P,T,O,L=u+5<<3,N=Mt(i,wt)+Mt(o,xt)+s,U=Mt(i,h)+Mt(o,p)+s+14+3*I+Mt(_,S)+(2*_[16]+3*_[17]+7*_[18]);if(L<=N&&L<=U)return Rt(t,l,e.subarray(c,c+u));if(Ot(t,l,1+(U<N)),l+=2,U<N){k=bt(h,f,0),P=h,T=bt(p,g,0),O=p;var F=bt(S,C,0);Ot(t,l,v-257),Ot(t,l+5,x-1),Ot(t,l+10,I-4),l+=14;for(B=0;B<I;++B)Ot(t,l+3*B,S[ut[B]]);l+=3*I;for(var M=[y,w],R=0;R<2;++R){var D=M[R];for(B=0;B<D.length;++B){var j=31&D[B];Ot(t,l,F[j]),l+=S[j],j>15&&(Ot(t,l,D[B]>>>5&127),l+=D[B]>>>12)}}}else k=_t,P=wt,T=Et,O=xt;for(B=0;B<a;++B)if(n[B]>255){j=n[B]>>>18&31;Lt(t,l,k[j+257]),l+=P[j+257],j>7&&(Ot(t,l,n[B]>>>23&31),l+=at[j]);var Q=31&n[B];Lt(t,l,T[Q]),l+=O[Q],Q>3&&(Lt(t,l,n[B]>>>5&8191),l+=ct[Q])}else Lt(t,l,k[n[B]]),l+=P[n[B]];return Lt(t,l,k[256]),l+P[256]},jt=new st([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qt=new it(0),Ht=function(e,t,r,n,i){return function(e,t,r,n,i,o){var s=e.length,a=new it(n+s+5*(1+Math.floor(s/7e3))+i),c=a.subarray(n,a.length-i),u=0;if(!t||s<8)for(var l=0;l<=s;l+=65535){var A=l+65535;A<s?u=Rt(c,u,e.subarray(l,A)):(c[l]=o,u=Rt(c,u,e.subarray(l,s)))}else{for(var h=jt[t-1],f=h>>>13,d=8191&h,p=(1<<r)-1,g=new ot(32768),m=new ot(p+1),y=Math.ceil(r/3),v=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<v)&p},w=new st(25e3),x=new ot(288),_=new ot(32),B=0,E=0,S=(l=0,0),C=0,I=0;l<s;++l){var k=b(l),P=32767&l,T=m[k];if(g[P]=T,m[k]=P,C<=l){var O=s-l;if((B>7e3||S>24576)&&O>423){u=Dt(e,c,0,w,x,_,E,S,I,l-I,u),S=B=E=0,I=l;for(var L=0;L<286;++L)x[L]=0;for(L=0;L<30;++L)_[L]=0}var N=2,U=0,F=d,M=P-T&32767;if(O>2&&k==b(l-M))for(var R=Math.min(f,O)-1,D=Math.min(32767,l),j=Math.min(258,O);M<=D&&--F&&P!=T;){if(e[l+N]==e[l+N-M]){for(var Q=0;Q<j&&e[l+Q]==e[l+Q-M];++Q);if(Q>N){if(N=Q,U=M,Q>R)break;var H=Math.min(M,Q-2),K=0;for(L=0;L<H;++L){var V=l-M+L+32768&32767,z=V-g[V]+32768&32767;z>K&&(K=z,T=V)}}}M+=(P=T)-(T=g[P])+32768&32767}if(U){w[S++]=268435456|ft[N]<<18|gt[U];var q=31&ft[N],G=31&gt[U];E+=at[q]+ct[G],++x[257+q],++_[G],C=l+N,++B}else w[S++]=e[l],++x[e[l]]}}u=Dt(e,c,o,w,x,_,E,S,I,l-I,u),o||(u=Rt(c,u,Qt))}return Tt(a,0,n+Pt(u)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)};function Kt(e,t){void 0===t&&(t={});var r=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,o=r.length,s=0;s!=o;){for(var a=Math.min(s+5552,o);s<a;++s)i+=n+=r[s];n%=65521,i%=65521}e=n,t=i},d:function(){return(e>>>8<<16|(255&t)<<8|t>>>8)+2*((255&e)<<23)}}}();r.p(e);var n=Ht(e,t,2,4);return function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)}(n,t),function(e,t,r){for(;r;++t)e[t]=r,r>>>=8}(n,n.length-4,r.d()),n}function Vt(e,t){return function(e,t,r){var n=e.length,i=!t||r,o=!r||r.i;r||(r={}),t||(t=new it(3*n));var s=function(e){var r=t.length;if(e>r){var n=new it(Math.max(2*r,e));n.set(t),t=n}},a=r.f||0,c=r.p||0,u=r.b||0,l=r.l,A=r.d,h=r.m,f=r.n,d=8*n;do{if(!l){r.f=a=It(e,c,1);var p=It(e,c+1,3);if(c+=3,!p){var g=e[(C=Pt(c)+4)-4]|e[C-3]<<8,m=C+g;if(m>n){if(o)throw"unexpected EOF";break}i&&s(u+g),t.set(e.subarray(C,m),u),r.b=u+=g,r.p=c=8*m;continue}if(1==p)l=Bt,A=St,h=9,f=5;else{if(2!=p)throw"invalid block type";var y=It(e,c,31)+257,v=It(e,c+10,15)+4,b=y+It(e,c+5,31)+1;c+=14;for(var w=new it(b),x=new it(19),_=0;_<v;++_)x[ut[_]]=It(e,c+3*_,7);c+=3*v;var B=Ct(x),E=(1<<B)-1;if(!o&&c+b*(B+7)>d)break;var S=bt(x,B,1);for(_=0;_<b;){var C,I=S[It(e,c,E)];if(c+=15&I,(C=I>>>4)<16)w[_++]=C;else{var k=0,P=0;for(16==C?(P=3+It(e,c,3),c+=2,k=w[_-1]):17==C?(P=3+It(e,c,7),c+=3):18==C&&(P=11+It(e,c,127),c+=7);P--;)w[_++]=k}}var T=w.subarray(0,y),O=w.subarray(y);h=Ct(T),f=Ct(O),l=bt(T,h,1),A=bt(O,f,1)}if(c>d)throw"unexpected EOF"}i&&s(u+131072);for(var L=(1<<h)-1,N=(1<<f)-1,U=h+f+18;o||c+U<d;){var F=(k=l[kt(e,c)&L])>>>4;if((c+=15&k)>d)throw"unexpected EOF";if(!k)throw"invalid length/literal";if(F<256)t[u++]=F;else{if(256==F){l=null;break}var M=F-254;if(F>264){var R=at[_=F-257];M=It(e,c,(1<<R)-1)+ht[_],c+=R}var D=A[kt(e,c)&N],j=D>>>4;if(!D)throw"invalid distance";if(c+=15&D,O=pt[j],j>3&&(R=ct[j],O+=kt(e,c)&(1<<R)-1,c+=R),c>d)throw"unexpected EOF";i&&s(u+131072);for(var Q=u+M;u<Q;u+=4)t[u]=t[u-O],t[u+1]=t[u+1-O],t[u+2]=t[u+2-O],t[u+3]=t[u+3-O];u=Q}}r.l=l,r.p=c,r.b=u,l&&(a=1,r.m=h,r.d=A,r.n=f)}while(!a);return u==t.length?t:Tt(t,0,u)}((function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"}(e),e.subarray(2,-4)),t)}
/** @license
   *
   * jsPDF - PDF Document creation from JavaScript
   * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
   *                      CommitID 00000000
   *
   * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2015-2021 yWorks GmbH, http://www.yworks.com
   *               2015-2021 Lukas Holl√§nder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
   *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, https://github.com/willowsystems
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   */var zt=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function qt(){zt.console&&"function"==typeof zt.console.log&&zt.console.log.apply(zt.console,arguments)}var Gt={log:qt,warn:function(e){zt.console&&("function"==typeof zt.console.warn?zt.console.warn.apply(zt.console,arguments):qt.call(null,arguments))},error:function(e){zt.console&&("function"==typeof zt.console.error?zt.console.error.apply(zt.console,arguments):qt(e))}};function Wt(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Zt(n.response,t,r)},n.onerror=function(){Gt.error("could not download file")},n.send()}function $t(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function Jt(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Xt,Yt,Zt=zt.saveAs||("object"!==("undefined"==typeof window?"undefined":nt(window))||window!==zt?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=zt.URL||zt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?$t(i.href)?Wt(e,t,r):Jt(i,i.target="_blank"):Jt(i)):(i.href=n.createObjectURL(e),setTimeout((function(){n.revokeObjectURL(i.href)}),4e4),setTimeout((function(){Jt(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if($t(e))Wt(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout((function(){Jt(n)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==nt(t)&&(Gt.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return Wt(e,t,r);var i="application/octet-stream"===e.type,o=/constructor/i.test(zt.HTMLElement)||zt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&"object"===("undefined"==typeof FileReader?"undefined":nt(FileReader))){var a=new FileReader;a.onloadend=function(){var e=a.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},a.readAsDataURL(e)}else{var c=zt.URL||zt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout((function(){c.revokeObjectURL(u)}),4e4)}});
/**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
   * @license Use it if you like it
   */function er(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,s=i.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}
/**
   * @license
   * Joseph Myers does not specify a particular license for his work.
   *
   * Author: Joseph Myers
   * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
   *
   * Modified by: Owen Leong
   */function tr(e,t){var r=e[0],n=e[1],i=e[2],o=e[3];r=nr(r,n,i,o,t[0],7,-680876936),o=nr(o,r,n,i,t[1],12,-389564586),i=nr(i,o,r,n,t[2],17,606105819),n=nr(n,i,o,r,t[3],22,-1044525330),r=nr(r,n,i,o,t[4],7,-176418897),o=nr(o,r,n,i,t[5],12,1200080426),i=nr(i,o,r,n,t[6],17,-1473231341),n=nr(n,i,o,r,t[7],22,-45705983),r=nr(r,n,i,o,t[8],7,1770035416),o=nr(o,r,n,i,t[9],12,-1958414417),i=nr(i,o,r,n,t[10],17,-42063),n=nr(n,i,o,r,t[11],22,-1990404162),r=nr(r,n,i,o,t[12],7,1804603682),o=nr(o,r,n,i,t[13],12,-40341101),i=nr(i,o,r,n,t[14],17,-1502002290),r=ir(r,n=nr(n,i,o,r,t[15],22,1236535329),i,o,t[1],5,-165796510),o=ir(o,r,n,i,t[6],9,-1069501632),i=ir(i,o,r,n,t[11],14,643717713),n=ir(n,i,o,r,t[0],20,-373897302),r=ir(r,n,i,o,t[5],5,-701558691),o=ir(o,r,n,i,t[10],9,38016083),i=ir(i,o,r,n,t[15],14,-660478335),n=ir(n,i,o,r,t[4],20,-405537848),r=ir(r,n,i,o,t[9],5,568446438),o=ir(o,r,n,i,t[14],9,-1019803690),i=ir(i,o,r,n,t[3],14,-187363961),n=ir(n,i,o,r,t[8],20,1163531501),r=ir(r,n,i,o,t[13],5,-1444681467),o=ir(o,r,n,i,t[2],9,-51403784),i=ir(i,o,r,n,t[7],14,1735328473),r=or(r,n=ir(n,i,o,r,t[12],20,-1926607734),i,o,t[5],4,-378558),o=or(o,r,n,i,t[8],11,-2022574463),i=or(i,o,r,n,t[11],16,1839030562),n=or(n,i,o,r,t[14],23,-35309556),r=or(r,n,i,o,t[1],4,-1530992060),o=or(o,r,n,i,t[4],11,1272893353),i=or(i,o,r,n,t[7],16,-155497632),n=or(n,i,o,r,t[10],23,-1094730640),r=or(r,n,i,o,t[13],4,681279174),o=or(o,r,n,i,t[0],11,-358537222),i=or(i,o,r,n,t[3],16,-722521979),n=or(n,i,o,r,t[6],23,76029189),r=or(r,n,i,o,t[9],4,-640364487),o=or(o,r,n,i,t[12],11,-421815835),i=or(i,o,r,n,t[15],16,530742520),r=sr(r,n=or(n,i,o,r,t[2],23,-995338651),i,o,t[0],6,-198630844),o=sr(o,r,n,i,t[7],10,1126891415),i=sr(i,o,r,n,t[14],15,-1416354905),n=sr(n,i,o,r,t[5],21,-57434055),r=sr(r,n,i,o,t[12],6,1700485571),o=sr(o,r,n,i,t[3],10,-1894986606),i=sr(i,o,r,n,t[10],15,-1051523),n=sr(n,i,o,r,t[1],21,-2054922799),r=sr(r,n,i,o,t[8],6,1873313359),o=sr(o,r,n,i,t[15],10,-30611744),i=sr(i,o,r,n,t[6],15,-1560198380),n=sr(n,i,o,r,t[13],21,1309151649),r=sr(r,n,i,o,t[4],6,-145523070),o=sr(o,r,n,i,t[11],10,-1120210379),i=sr(i,o,r,n,t[2],15,718787259),n=sr(n,i,o,r,t[9],21,-343485551),e[0]=dr(r,e[0]),e[1]=dr(n,e[1]),e[2]=dr(i,e[2]),e[3]=dr(o,e[3])}function rr(e,t,r,n,i,o){return t=dr(dr(t,e),dr(n,o)),dr(t<<i|t>>>32-i,r)}function nr(e,t,r,n,i,o,s){return rr(t&r|~t&n,e,t,i,o,s)}function ir(e,t,r,n,i,o,s){return rr(t&n|r&~n,e,t,i,o,s)}function or(e,t,r,n,i,o,s){return rr(t^r^n,e,t,i,o,s)}function sr(e,t,r,n,i,o,s){return rr(r^(t|~n),e,t,i,o,s)}function ar(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)tr(n,cr(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(tr(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,tr(n,i),n}function cr(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Xt=zt.atob.bind(zt),Yt=zt.btoa.bind(zt);var ur="0123456789abcdef".split("");function lr(e){for(var t="",r=0;r<4;r++)t+=ur[e>>8*r+4&15]+ur[e>>8*r&15];return t}function Ar(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function hr(e){return ar(e).map(Ar).join("")}var fr="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=lr(e[t]);return e.join("")}(ar("hello"));function dr(e,t){if(fr){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}
/**
   * @license
   * FPDF is released under a permissive license: there is no usage restriction.
   * You may embed it freely in your application (commercial or not), with or
   * without modifications.
   *
   * Reference: http://www.fpdf.org/en/script/script37.php
   */function pr(e,t){var r,n,i,o;if(e!==r){for(var s=(i=e,o=1+(256/e.length>>0),new Array(o+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var u=0;for(c=0;c<256;c++){var l=a[c];u=(u+l+s.charCodeAt(c))%256,a[c]=a[u],a[u]=l}r=e,n=a}else a=n;var A=t.length,h=0,f=0,d="";for(c=0;c<A;c++)f=(f+(l=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=l,s=a[(a[h]+a[f])%256],d+=String.fromCharCode(t.charCodeAt(c)^s);return d}
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   * Author: Owen Leong (@owenl131)
   * Date: 15 Oct 2020
   * References:
   * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
   * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
   * http://www.fpdf.org/en/script/script37.php
   */var gr={print:4,modify:8,copy:16,"annot-forms":32};function mr(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==gr.perm)throw new Error("Invalid permission: "+e);i+=gr[e]})),this.padding="(¬øN^Nu¬äAd\0NV√ø√∫\b..\0¬∂√êh>¬Ä/\f¬©√ædSiz";var o=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=hr(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=pr(this.encryptionKey,this.padding)}function yr(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function vr(e){if("object"!==nt(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[r,!!n],i},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[r]){var s=t[r][o];try{s[0].apply(e,n)}catch(r){zt.console&&Gt.error("jsPDF PubSub Error",r.message,r)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function br(e){if(!(this instanceof br))return new br(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function wr(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xr(e,t,r,n,i){if(!(this instanceof xr))return new xr(e,t,r,n,i);this.type="axial"===e?2:3,this.coords=t,this.colors=r,wr.call(this,n,i)}function _r(e,t,r,n,i){if(!(this instanceof _r))return new _r(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,wr.call(this,n,i)}function Br(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,c=16,u="S",l=null;"object"===nt(e=e||{})&&(r=e.orientation,n=e.unit||n,i=e.format||i,o=e.compress||e.compressPdf||o,null!==(l=e.encryption||null)&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),a="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(!0===o?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=vr;var d="1.3",p=f.__private__.getPdfVersion=function(){return d};f.__private__.setPdfVersion=function(e){d=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var m=f.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},v=y.COMPAT;function b(){this.saveGraphicsState(),Y(new Oe(fe,0,0,-fe,0,Dr()*fe).toString()+" cm"),this.setFontSize(this.getFontSize()/fe),u="n",v=y.ADVANCED}function w(){this.restoreGraphicsState(),u="S",v=y.COMPAT}var x=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=v===y.COMPAT;return t&&b.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.compatAPI=function(e){var t=v===y.ADVANCED;return t&&w.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},f.isAdvancedAPI=function(){return v===y.ADVANCED};var _,B=function(e){if(v!==y.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=f.roundToPrecision=f.__private__.roundToPrecision=function(e,r){var n=t||r;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")};_=f.hpf=f.__private__.hpf="number"==typeof c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,c)}:"smart"===c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return E(e,16)};var S=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return E(e,2)},C=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return E(e,3)},I=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===y.COMPAT?e*fe:v===y.ADVANCED?e:void 0},k=function(e){return v===y.COMPAT?Dr()-e:v===y.ADVANCED?e:void 0},P=function(e){return I(k(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var T,O="00000000000000000000000000000000",L=f.__private__.getFileId=function(){return O},N=f.__private__.setFileId=function(e){return O=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():O.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==l&&(Ut=new mr(l.userPermissions,l.userPassword,l.ownerPassword,O)),O};f.setFileId=function(e){return N(e),this},f.getFileId=function(){return L()};var U=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[r,j(n),"'",j(i),"'"].join("");return["D:",e.getFullYear(),j(e.getMonth()+1),j(e.getDate()),j(e.getHours()),j(e.getMinutes()),j(e.getSeconds()),o].join("")},F=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,r,n,i,o,s,0)},M=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=U(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return T=t},R=f.__private__.getCreationDate=function(e){var t=T;return"jsDate"===e&&(t=F(T)),t};f.setCreationDate=function(e){return M(e),this},f.getCreationDate=function(e){return R(e)};var D,j=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},Q=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,K=[],V=[],z=0,q=[],G=[],W=!1,$=V,J=function(){H=0,z=0,V=[],K=[],q=[],je=Me(),Qe=Me()};f.__private__.setCustomOutputDestination=function(e){W=!0,$=e};var X=function(e){W||($=e)};f.__private__.resetCustomOutputDestination=function(){W=!1,$=V};var Y=f.__private__.out=function(e){return e=e.toString(),z+=e.length+1,$.push(e),$},Z=f.__private__.write=function(e){return Y(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},ee=f.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return te};var re=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return re=v===y.ADVANCED?e/fe:e,this};var ne,ie=f.__private__.getFontSize=f.getFontSize=function(){return v===y.COMPAT?re:re*fe},oe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return oe=e,this},f.__private__.getR2L=f.getR2L=function(){return oe};var se,ae=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};f.__private__.getZoomMode=function(){return ne};var ce,ue=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};f.__private__.getPageMode=function(){return se};var le=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ce=e};f.__private__.getLayoutMode=function(){return ce},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,r){return ae(e),le(t),ue(r),this};var Ae={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(Ae).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ae[e]},f.__private__.getDocumentProperties=function(){return Ae},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in Ae)Ae.hasOwnProperty(t)&&e[t]&&(Ae[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(Ae).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ae[e]=t};var he,fe,de,pe,ge,me={},ye={},ve=[],be={},we={},xe={},_e={},Be=null,Ee=0,Se=[],Ce=new vr(f),Ie=e.hotfixes||[],ke={},Pe={},Te=[],Oe=function e(t,r,n,i,o,s){if(!(this instanceof e))return new e(t,r,n,i,o,s);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(s)&&(s=0),this._matrix=[t,r,n,i,o,s]};Object.defineProperty(Oe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Oe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Oe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Oe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Oe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Oe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Oe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Oe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Oe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Oe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Oe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(e)},Oe.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,n=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new Oe(t,r,n,i,o,s)},Oe.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,o=this.ty,s=Math.sqrt(e*e+t*t),a=(e/=s)*r+(t/=s)*n;r-=e*a,n-=t*a;var c=Math.sqrt(r*r+n*n);return a/=c,e*(n/=c)<t*(r/=c)&&(e=-e,t=-t,a=-a,s=-s),{scale:new Oe(s,0,0,c,0,0),translate:new Oe(1,0,0,1,i,o),rotate:new Oe(e,t,-t,e,0,0),skew:new Oe(1,0,a,1,0,0)}},Oe.prototype.toString=function(e){return this.join(" ")},Oe.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,o=this.ty,s=1/(e*n-t*r),a=n*s,c=-t*s,u=-r*s,l=e*s;return new Oe(a,c,u,l,-a*i-u*o,-c*i-l*o)},Oe.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new Tr(t,r)},Oe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new Tr(e.x+e.w,e.y+e.h));return new Or(t.x,t.y,r.x-t.x,r.y-t.y)},Oe.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,i=this.tx,o=this.ty;return new Oe(e,t,r,n,i,o)},f.Matrix=Oe;var Le=f.matrixMult=function(e,t){return t.multiply(e)},Ne=new Oe(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ne;var Ue=function(e,t){if(!we[e]){var r=(t instanceof xr?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=r,we[e]=r,be[r]=t,Ce.publish("addPattern",t)}};f.ShadingPattern=xr,f.TilingPattern=_r,f.addShadingPattern=function(e,t){return B("addShadingPattern()"),Ue(e,t),this},f.beginTilingPattern=function(e){B("beginTilingPattern()"),Nr(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){B("endTilingPattern()"),t.stream=G[D].join("\n"),Ue(e,t),Ce.publish("endTilingPattern",t),Te.pop().restore()};var Fe=f.__private__.newObject=function(){var e=Me();return Re(e,!0),e},Me=f.__private__.newObjectDeferred=function(){return H++,K[H]=function(){return z},H},Re=function(e,t){return t="boolean"==typeof t&&t,K[e]=z,t&&Y(e+" 0 obj"),e},De=f.__private__.newAdditionalObject=function(){var e={objId:Me(),content:""};return q.push(e),e},je=Me(),Qe=Me(),He=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var n="#",i=0;i<3;i++)n+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return n},Ke=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,n=e.ch2,i=e.ch3,o=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var a=new er(r);if(a.ok)r=a.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var c=parseInt(r.substr(1),16);r=c>>16&255,n=c>>8&255,i=255&c}if(void 0===n||void 0===o&&r===n&&n===i)if("string"==typeof r)t=r+" "+s[0];else if(2===e.precision)t=S(r/255)+" "+s[0];else t=C(r/255)+" "+s[0];else if(void 0===o||"object"===nt(o)){if(o&&!isNaN(o.a)&&0===o.a)return["1.","1.","1.",s[1]].join(" ");if("string"==typeof r)t=[r,n,i,s[1]].join(" ");else if(2===e.precision)t=[S(r/255),S(n/255),S(i/255),s[1]].join(" ");else t=[C(r/255),C(n/255),C(i/255),s[1]].join(" ")}else if("string"==typeof r)t=[r,n,i,o,s[2]].join(" ");else if(2===e.precision)t=[S(r),S(n),S(i),S(o),s[2]].join(" ");else t=[C(r),C(n),C(i),C(o),s[2]].join(" ");return t},Ve=f.__private__.getFilters=function(){return s},ze=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||Ve(),n=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,s=e.objectId,a=function(e){return e};if(null!==l&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==l&&(a=Ut.encryptor(s,0));var c={};!0===r&&(r=["FlateEncode"]);var u=e.additionalKeyValues||[],A=(c=void 0!==Br.API.processDataByFilters?Br.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==c.data.length&&(u.push({key:"Length",value:c.data.length}),!0===i&&u.push({key:"Length1",value:o})),0!=A.length)if(A.split("/").length-1==1)u.push({key:"Filter",value:A});else{u.push({key:"Filter",value:"["+A+"]"});for(var h=0;h<u.length;h+=1)if("DecodeParms"===u[h].key){for(var f=[],d=0;d<c.reverseChain.split("/").length-1;d+=1)f.push("null");f.push(u[h].value),u[h].value="["+f.join(" ")+"]"}}Y("<<");for(var p=0;p<u.length;p++)Y("/"+u[p].key+" "+u[p].value);Y(">>"),0!==c.data.length&&(Y("stream"),Y(a(c.data)),Y("endstream"))},qe=f.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,i=e.contentsObjId;Re(n,!0),Y("<</Type /Page"),Y("/Parent "+e.rootDictionaryObjId+" 0 R"),Y("/Resources "+e.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(_(e.mediaBox.bottomLeftX))+" "+parseFloat(_(e.mediaBox.bottomLeftY))+" "+_(e.mediaBox.topRightX)+" "+_(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Y("/CropBox ["+_(e.cropBox.bottomLeftX)+" "+_(e.cropBox.bottomLeftY)+" "+_(e.cropBox.topRightX)+" "+_(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Y("/BleedBox ["+_(e.bleedBox.bottomLeftX)+" "+_(e.bleedBox.bottomLeftY)+" "+_(e.bleedBox.topRightX)+" "+_(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Y("/TrimBox ["+_(e.trimBox.bottomLeftX)+" "+_(e.trimBox.bottomLeftY)+" "+_(e.trimBox.topRightX)+" "+_(e.trimBox.topRightY)+"]"),null!==e.artBox&&Y("/ArtBox ["+_(e.artBox.bottomLeftX)+" "+_(e.artBox.bottomLeftY)+" "+_(e.artBox.topRightX)+" "+_(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Y("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:n,pageContext:Se[t],pageNumber:t,page:r}),Y("/Contents "+i+" 0 R"),Y(">>"),Y("endobj");var o=r.join("\n");return v===y.ADVANCED&&(o+="\nQ"),Re(i,!0),ze({data:o,filters:Ve(),objectId:i}),Y("endobj"),n},Ge=f.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=Ee;e++)Se[e].objId=Me(),Se[e].contentsObjId=Me();for(e=1;e<=Ee;e++)r.push(qe({number:e,data:G[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:je,resourceDictionaryObjId:Qe}));Re(je,!0),Y("<</Type /Pages");var n="/Kids [";for(t=0;t<Ee;t++)n+=r[t]+" 0 R ";Y(n+"]"),Y("/Count "+Ee),Y(">>"),Y("endobj"),Ce.publish("postPutPages")},We=function(e){Ce.publish("putFont",{font:e,out:Y,newObject:Fe,putStream:ze}),!0!==e.isAlreadyPutted&&(e.objectNumber=Fe(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+yr(e.postScriptName)),Y("/Subtype /Type1"),"string"==typeof e.encoding&&Y("/Encoding /"+e.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},$e=function(){for(var e in me)me.hasOwnProperty(e)&&(!1===A||!0===A&&h.hasOwnProperty(e))&&We(me[e])},Je=function(e){e.objectNumber=Fe();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[_(e.x),_(e.y),_(e.x+e.width),_(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");ze({data:r,additionalKeyValues:t,objectId:e.objectNumber}),Y("endobj")},Xe=function(){for(var e in ke)ke.hasOwnProperty(e)&&Je(ke[e])},Ye=function(e,t){var r,n=[],i=1/(t-1);for(r=0;r<1;r+=i)n.push(r);if(n.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var a="",c=0,u=0;u<n.length;u++){for(r=n[u];r>e[c+1].offset;)c++;var l=e[c].offset,A=(r-l)/(e[c+1].offset-l),h=e[c].color,f=e[c+1].color;a+=Q(Math.round((1-A)*h[0]+A*f[0]).toString(16))+Q(Math.round((1-A)*h[1]+A*f[1]).toString(16))+Q(Math.round((1-A)*h[2]+A*f[2]).toString(16))}return a.trim()},Ze=function(e,t){t||(t=21);var r=Fe(),n=Ye(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze({data:n,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),Y("endobj"),e.objectNumber=Fe(),Y("<< /ShadingType "+e.type),Y("/ColorSpace /DeviceRGB");var o="/Coords ["+_(parseFloat(e.coords[0]))+" "+_(parseFloat(e.coords[1]))+" ";2===e.type?o+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3])):o+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3]))+" "+_(parseFloat(e.coords[4]))+" "+_(parseFloat(e.coords[5])),Y(o+="]"),e.matrix&&Y("/Matrix ["+e.matrix.toString()+"]"),Y("/Function "+r+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},et=function(e,t){var r=Me(),n=Fe();t.push({resourcesOid:r,objectOid:n}),e.objectNumber=n;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(_).join(" ")+"]"}),i.push({key:"XStep",value:_(e.xStep)}),i.push({key:"YStep",value:_(e.yStep)}),i.push({key:"Resources",value:r+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),ze({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),Y("endobj")},tt=function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof xr?Ze(be[t]):be[t]instanceof _r&&et(be[t],e))},rt=function(e){for(var t in e.objectNumber=Fe(),Y("<<"),e)switch(t){case"opacity":Y("/ca "+S(e[t]));break;case"stroke-opacity":Y("/CA "+S(e[t]))}Y(">>"),Y("endobj")},it=function(){var e;for(e in xe)xe.hasOwnProperty(e)&&rt(xe[e])},ot=function(){for(var e in Y("/XObject <<"),ke)ke.hasOwnProperty(e)&&ke[e].objectNumber>=0&&Y("/"+e+" "+ke[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),Y(">>")},st=function(){Ut.oid=Fe(),Y("<<"),Y("/Filter /Standard"),Y("/V "+Ut.v),Y("/R "+Ut.r),Y("/U <"+Ut.toHexString(Ut.U)+">"),Y("/O <"+Ut.toHexString(Ut.O)+">"),Y("/P "+Ut.P),Y(">>"),Y("endobj")},at=function(){for(var e in Y("/Font <<"),me)me.hasOwnProperty(e)&&(!1===A||!0===A&&h.hasOwnProperty(e))&&Y("/"+e+" "+me[e].objectNumber+" 0 R");Y(">>")},ct=function(){if(Object.keys(be).length>0){for(var e in Y("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof xr&&be[e].objectNumber>=0&&Y("/"+e+" "+be[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),Y(">>")}},ut=function(e){if(Object.keys(be).length>0){for(var t in Y("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof f.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&Y("/"+t+" "+be[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),Y(">>")}},lt=function(){if(Object.keys(xe).length>0){var e;for(e in Y("/ExtGState <<"),xe)xe.hasOwnProperty(e)&&xe[e].objectNumber>=0&&Y("/"+e+" "+xe[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),Y(">>")}},At=function(e){Re(e.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),at(),ct(),ut(e.objectOid),lt(),ot(),Y(">>"),Y("endobj")},ht=function(){var e=[];$e(),it(),Xe(),tt(e),Ce.publish("putResources"),e.forEach(At),At({resourcesOid:Qe,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources")},ft=function(){Ce.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];Re(t.objId,!0),Y(t.content),Y("endobj")}Ce.publish("postPutAdditionalObjects")},dt=function(e){ye[e.fontName]=ye[e.fontName]||{},ye[e.fontName][e.fontStyle]=e.id},pt=function(e,t,r,n,i){var o={id:"F"+(Object.keys(me).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:n,isStandardFont:i||!1,metadata:{}};return Ce.publish("addFont",{font:o,instance:this}),me[o.id]=o,dt(o),o.id},gt=function(e){for(var t=0,r=te.length;t<r;t++){var n=pt.call(this,e[t][0],e[t][1],e[t][2],te[t][3],!0);!1===A&&(h[n]=!0);var i=e[t][0].split("-");dt({id:n,fontName:i[0],fontStyle:i[1]||""})}Ce.publish("addFonts",{fonts:me,dictionary:ye})},mt=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var r="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!zt.console)throw new Error(r);zt.console.error(r,e),zt.alert&&alert(r)}},e.foo.bar=e,e.foo},yt=function(e,t){var r,n,i,o,s,a,c,u,l;if(i=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&me[he].metadata&&me[he].metadata[i]&&me[he].metadata[i].encoding&&(o=me[he].metadata[i].encoding,!s&&me[he].encoding&&(s=me[he].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(c=!1,a=[],r=0,n=e.length;r<n;r++)(u=s[e.charCodeAt(r)])?a.push(String.fromCharCode(u)):a.push(e[r]),a[r].charCodeAt(0)>>8&&(c=!0);e=a.join("")}for(r=e.length;void 0===c&&0!==r;)e.charCodeAt(r-1)>>8&&(c=!0),r--;if(!c)return e;for(a=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((l=(u=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(l),a.push(u-(l<<8))}return String.fromCharCode.apply(void 0,a)},vt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return yt(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bt=f.__private__.beginPage=function(e){G[++Ee]=[],Se[Ee]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},_t(Ee),X(G[D])},wt=function(e,t){var n,o,s;switch(r=t||r,"string"==typeof e&&(n=m(e.toLowerCase()),Array.isArray(n)&&(o=n[0],s=n[1])),Array.isArray(e)&&(o=e[0]*fe,s=e[1]*fe),isNaN(o)&&(o=i[0],s=i[1]),(o>14400||s>14400)&&(Gt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),o=Math.min(14400,o),s=Math.min(14400,s)),i=[o,s],r.substr(0,1)){case"l":s>o&&(i=[s,o]);break;case"p":o>s&&(i=[s,o])}bt(i),ar(or),Y(pr),0!==Ir&&Y(Ir+" J"),0!==kr&&Y(kr+" j"),Ce.publish("addPage",{pageNumber:Ee})},xt=function(e){e>0&&e<=Ee&&(G.splice(e,1),Se.splice(e,1),Ee--,D>Ee&&(D=Ee),this.setPage(D))},_t=function(e){e>0&&e<=Ee&&(D=e)},Bt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return G.length-1},Et=function(e,t,r){var n,i=void 0;return r=r||{},e=void 0!==e?e:me[he].fontName,t=void 0!==t?t:me[he].fontStyle,n=e.toLowerCase(),void 0!==ye[n]&&void 0!==ye[n][t]?i=ye[n][t]:void 0!==ye[e]&&void 0!==ye[e][t]?i=ye[e][t]:!1===r.disableWarning&&Gt.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||r.noFallback||null==(i=ye.times[t])&&(i=ye.times.normal),i},St=f.__private__.putInfo=function(){var e=Fe(),t=function(e){return e};for(var r in null!==l&&(t=Ut.encryptor(e,0)),Y("<<"),Y("/Producer ("+vt(t("jsPDF "+Br.version))+")"),Ae)Ae.hasOwnProperty(r)&&Ae[r]&&Y("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+vt(t(Ae[r]))+")");Y("/CreationDate ("+vt(t(T))+")"),Y(">>"),Y("endobj")},Ct=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||je;switch(Fe(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+ne;"%"===r.substr(r.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&Y("/OpenAction [3 0 R /XYZ null null "+S(ne)+"]")}switch(ce||(ce="continuous"),ce){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}se&&Y("/PageMode /"+se),Ce.publish("putCatalog"),Y(">>"),Y("endobj")},It=f.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(H+1)),Y("/Root "+H+" 0 R"),Y("/Info "+(H-1)+" 0 R"),null!==l&&Y("/Encrypt "+Ut.oid+" 0 R"),Y("/ID [ <"+O+"> <"+O+"> ]"),Y(">>")},kt=f.__private__.putHeader=function(){Y("%PDF-"+d),Y("%¬∫√ü¬¨√†")},Pt=f.__private__.putXRef=function(){var e="0000000000";Y("xref"),Y("0 "+(H+1)),Y("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof K[t]?Y((e+K[t]()).slice(-10)+" 00000 n "):void 0!==K[t]?Y((e+K[t]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Tt=f.__private__.buildDocument=function(){J(),X(V),Ce.publish("buildDocument"),kt(),Ge(),ft(),ht(),null!==l&&st(),St(),Ct();var e=z;return Pt(),It(),Y("startxref"),Y(""+e),Y("%%EOF"),X(G[D]),V.join("\n")},Ot=f.__private__.getBlob=function(e){return new Blob([ee(e)],{type:"application/pdf"})},Lt=f.output=f.__private__.output=mt((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Tt();case"save":f.save(t.filename);break;case"arraybuffer":return ee(Tt());case"blob":return Ot(Tt());case"bloburi":case"bloburl":if(void 0!==zt.URL&&"function"==typeof zt.URL.createObjectURL)return zt.URL&&zt.URL.createObjectURL(Ot(Tt()))||void 0;Gt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",n=Tt();try{r=Yt(n)}catch(e){r=Yt(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(zt)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,o="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",a=zt.open();return null!==a&&a.document.write(s),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(zt)){var c='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',u=zt.open();if(null!==u){u.document.write(c);var l=this;u.document.documentElement.querySelector("#pdfViewer").onload=function(){u.document.title=t.filename,u.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(l.output("bloburl"))}}return u}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(zt))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=zt.open();if(null!==h&&(h.document.write(A),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return zt.document.location.href=this.output("datauristring",t);default:return null}})),Nt=function(e){return!0===Array.isArray(Ie)&&Ie.indexOf(e)>-1};switch(n){case"pt":fe=1;break;case"mm":fe=72/25.4;break;case"cm":fe=72/2.54;break;case"in":fe=72;break;case"px":fe=1==Nt("px_scaling")?.75:96/72;break;case"pc":case"em":fe=12;break;case"ex":fe=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);fe=n}var Ut=null;M(),N();var Ft=function(e){return null!==l?Ut.encryptor(e,0):function(e){return e}},Mt=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},Rt=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return Mt(t)},Dt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Se[D].objId,pageNumber:D,pageContext:Se[D]}};f.addPage=function(){return wt.apply(this,arguments),this},f.setPage=function(){return _t.apply(this,arguments),X.call(this,G[D]),this},f.insertPage=function(e){return this.addPage(),this.movePage(D,e),this},f.movePage=function(e,t){var r,n;if(e>t){r=G[e],n=Se[e];for(var i=e;i>t;i--)G[i]=G[i-1],Se[i]=Se[i-1];G[t]=r,Se[t]=n,this.setPage(t)}else if(e<t){r=G[e],n=Se[e];for(var o=e;o<t;o++)G[o]=G[o+1],Se[o]=Se[o+1];G[t]=r,Se[t]=n,this.setPage(t)}return this},f.deletePage=function(){return xt.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,r,n,i){var o,s,a,c,u,l,A,f,d,p=(n=n||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var g=r;r=t,t=e,e=g}if(arguments[3]instanceof Oe==0?(a=arguments[4],c=arguments[5],"object"===nt(A=arguments[3])&&null!==A||("string"==typeof a&&(c=a,a=null),"string"==typeof A&&(c=A,A=null),"number"==typeof A&&(a=A,A=null),n={flags:A,angle:a,align:c})):(B("The transform parameter of text() with a Matrix value"),d=i),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var m="",b=!1,w="number"==typeof n.lineHeightFactor?n.lineHeightFactor:ir,x=p.internal.scaleFactor;function E(e){return e=e.split("\t").join(Array(n.TabLen||9).join(" ")),vt(e,A)}function S(e){for(var t,r=e.concat(),n=[],i=r.length;i--;)"string"==typeof(t=r.shift())?n.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?n.push(t[0]):n.push([t[0],t[1],t[2]]);return n}function C(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var n,i,o=e.concat(),s=[],a=o.length;a--;)"string"==typeof(n=o.shift())?s.push(t(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(i=t(n[0],n[1],n[2]),s.push([i[0],i[1],i[2]]));r=s}return r}var k=!1,P=!0;if("string"==typeof e)k=!0;else if(Array.isArray(e)){var T=e.concat();s=[];for(var O,L=T.length;L--;)("string"!=typeof(O=T.shift())||Array.isArray(O)&&"string"!=typeof O[0])&&(P=!1);k=P}if(!1===k)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var N=re/p.internal.scaleFactor,U=N*(w-1);switch(n.baseline){case"bottom":r-=U;break;case"top":r+=N-U;break;case"hanging":r+=N-2*U;break;case"middle":r+=N/2-U}if((l=n.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(p.splitTextToSize(t,l))}),[]))),o={text:e,x:t,y:r,options:n,mutex:{pdfEscape:vt,activeFontKey:he,fonts:me,activeFontSize:re}},Ce.publish("preProcessText",o),e=o.text,a=(n=o.options).angle,d instanceof Oe==0&&a&&"number"==typeof a){a*=Math.PI/180,0===n.rotationDirection&&(a=-a),v===y.ADVANCED&&(a=-a);var F=Math.cos(a),M=Math.sin(a);d=new Oe(F,M,-M,F,0,0)}else a&&a instanceof Oe&&(d=a);v!==y.ADVANCED||d||(d=Ne),void 0!==(u=n.charSpace||Sr)&&(m+=_(I(u))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=n.horizontalScale)&&(m+=_(100*f)+" Tz\n"),n.lang;var R=-1,D=void 0!==n.renderingMode?n.renderingMode:n.stroke,j=p.internal.getCurrentPageInfo().pageContext;switch(D){case 0:case!1:case"fill":R=0;break;case 1:case!0:case"stroke":R=1;break;case 2:case"fillThenStroke":R=2;break;case 3:case"invisible":R=3;break;case 4:case"fillAndAddForClipping":R=4;break;case 5:case"strokeAndAddPathForClipping":R=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":R=6;break;case 7:case"addToPathForClipping":R=7}var Q=void 0!==j.usedRenderingMode?j.usedRenderingMode:-1;-1!==R?m+=R+" Tr\n":-1!==Q&&(m+="0 Tr\n"),-1!==R&&(j.usedRenderingMode=R),c=n.align||"left";var H,K=re*w,V=p.internal.pageSize.getWidth(),z=me[he];u=n.charSpace||Sr,l=n.maxWidth||0,A=Object.assign({autoencode:!0,noBOM:!0},n.flags);var q=[];if("[object Array]"===Object.prototype.toString.call(e)){var G;s=S(e),"left"!==c&&(H=s.map((function(e){return p.getStringUnitWidth(e,{font:z,charSpace:u,fontSize:re,doKerning:!1})*re/x})));var W,$=0;if("right"===c){t-=H[0],e=[],L=s.length;for(var J=0;J<L;J++)0===J?(W=Ar(t),G=hr(r)):(W=I($-H[J]),G=-K),e.push([s[J],W,G]),$=H[J]}else if("center"===c){t-=H[0]/2,e=[],L=s.length;for(var X=0;X<L;X++)0===X?(W=Ar(t),G=hr(r)):(W=I(($-H[X])/2),G=-K),e.push([s[X],W,G]),$=H[X]}else if("left"===c){e=[],L=s.length;for(var Z=0;Z<L;Z++)e.push(s[Z])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');e=[],L=s.length,l=0!==l?l:V;for(var ee=0;ee<L;ee++)G=0===ee?hr(r):-K,W=0===ee?Ar(t):0,ee<L-1?q.push(_(I((l-H[ee])/(s[ee].split(" ").length-1)))):q.push(0),e.push([s[ee],W,G])}}var te="boolean"==typeof n.R2L?n.R2L:oe;!0===te&&(e=C(e,(function(e,t,r){return[e.split("").reverse().join(""),t,r]}))),o={text:e,x:t,y:r,options:n,mutex:{pdfEscape:vt,activeFontKey:he,fonts:me,activeFontSize:re}},Ce.publish("postProcessText",o),e=o.text,b=o.mutex.isHex||!1;var ne=me[he].encoding;"WinAnsiEncoding"!==ne&&"StandardEncoding"!==ne||(e=C(e,(function(e,t,r){return[E(e),t,r]}))),s=S(e),e=[];for(var ie,se,ae,ce=0,ue=1,le=Array.isArray(s[0])?ue:ce,Ae="",fe=function(e,t,r){var i="";return r instanceof Oe?(r="number"==typeof n.angle?Le(r,new Oe(1,0,0,1,e,t)):Le(new Oe(1,0,0,1,e,t),r),v===y.ADVANCED&&(r=Le(new Oe(1,0,0,-1,0,0),r)),i=r.join(" ")+" Tm\n"):i=_(e)+" "+_(t)+" Td\n",i},de=0;de<s.length;de++){switch(Ae="",le){case ue:ae=(b?"<":"(")+s[de][0]+(b?">":")"),ie=parseFloat(s[de][1]),se=parseFloat(s[de][2]);break;case ce:ae=(b?"<":"(")+s[de]+(b?">":")"),ie=Ar(t),se=hr(r)}void 0!==q&&void 0!==q[de]&&(Ae=q[de]+" Tw\n"),0===de?e.push(Ae+fe(ie,se,d)+ae):le===ce?e.push(Ae+ae):le===ue&&e.push(Ae+fe(ie,se,d)+ae)}e=le===ce?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var pe="BT\n/";return pe+=he+" "+re+" Tf\n",pe+=_(re*w)+" TL\n",pe+=wr+"\n",pe+=m,pe+=e,Y(pe+="ET"),h[he]=!0,p};var jt=f.__private__.clip=f.clip=function(e){return Y("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return jt("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Y("n"),this};var Qt=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return Qt(e)&&(u=e),this};var Ht=f.__private__.getStyle=f.getStyle=function(e){var t=u;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Kt=f.close=function(){return Y("h"),this};f.stroke=function(){return Y("S"),this},f.fill=function(e){return Vt("f",e),this},f.fillEvenOdd=function(e){return Vt("f*",e),this},f.fillStroke=function(e){return Vt("B",e),this},f.fillStrokeEvenOdd=function(e){return Vt("B*",e),this};var Vt=function(e,t){"object"===nt(t)?$t(t,e):Y(e)},qt=function(e){null===e||v===y.ADVANCED&&void 0===e||(e=Ht(e),Y(e))};function Wt(e,t,r,n,i){var o=new _r(t||this.boundingBox,r||this.xStep,n||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return Ue(s,o),o}var $t=function(e,t){var r=we[e.key],n=be[r];if(n instanceof xr)Y("q"),Y(Jt(t)),n.gState&&f.setGState(n.gState),Y(e.matrix.toString()+" cm"),Y("/"+r+" sh"),Y("Q");else if(n instanceof _r){var i=new Oe(1,0,0,-1,0,Dr());e.matrix&&(i=i.multiply(e.matrix||Ne),r=Wt.call(n,e.key,e.boundingBox,e.xStep,e.yStep,i).id),Y("q"),Y("/Pattern cs"),Y("/"+r+" scn"),n.gState&&f.setGState(n.gState),Y(t),Y("Q")}},Jt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xt=f.moveTo=function(e,t){return Y(_(I(e))+" "+_(P(t))+" m"),this},tr=f.lineTo=function(e,t){return Y(_(I(e))+" "+_(P(t))+" l"),this},rr=f.curveTo=function(e,t,r,n,i,o){return Y([_(I(e)),_(P(t)),_(I(r)),_(P(n)),_(I(i)),_(P(o)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Qt(i))throw new Error("Invalid arguments passed to jsPDF.line");return v===y.COMPAT?this.lines([[r-e,n-t]],e,t,[1,1],i||"S"):this.lines([[r-e,n-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,r,n,i,o){var s,a,c,u,l,A,h,f,d,p,g,m;if("number"==typeof e&&(m=r,r=t,t=e,e=m),n=n||[1,1],o=o||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(n)||!Qt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(Xt(t,r),s=n[0],a=n[1],u=e.length,p=t,g=r,c=0;c<u;c++)2===(l=e[c]).length?(p=l[0]*s+p,g=l[1]*a+g,tr(p,g)):(A=l[0]*s+p,h=l[1]*a+g,f=l[2]*s+p,d=l[3]*a+g,p=l[4]*s+p,g=l[5]*a+g,rr(A,h,f,d,p,g));return o&&Kt(),qt(i),this},f.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.c;switch(r.op){case"m":Xt(n[0],n[1]);break;case"l":tr(n[0],n[1]);break;case"c":rr.apply(this,n);break;case"h":Kt()}}return this},f.__private__.rect=f.rect=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Qt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return v===y.COMPAT&&(n=-n),Y([_(I(e)),_(P(t)),_(I(r)),_(I(n)),"re"].join(" ")),qt(i),this},f.__private__.triangle=f.triangle=function(e,t,r,n,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(o)||!Qt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,n-t],[i-r,o-n],[e-i,t-o]],e,t,[1,1],s,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,r,n,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(o)||!Qt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*r),o=Math.min(o,.5*n),this.lines([[r-2*i,0],[i*a,0,i,o-o*a,i,o],[0,n-2*o],[0,o*a,-i*a,o,-i,o],[2*i-r,0],[-i*a,0,-i,-o*a,-i,-o],[0,2*o-n],[0,-o*a,i*a,-o,i,-o]],e+i,t,[1,1],s,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,r,n,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Qt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*r,s=4/3*(Math.SQRT2-1)*n;return Xt(e+r,t),rr(e+r,t-s,e+o,t-n,e,t-n),rr(e-o,t-n,e-r,t-s,e-r,t),rr(e-r,t+s,e-o,t+n,e,t+n),rr(e+o,t+n,e+r,t+s,e+r,t),qt(i),this},f.__private__.circle=f.circle=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||!Qt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,n)},f.setFont=function(e,t,r){return r&&(t=x(t,r)),he=Et(e,t,{disableWarning:!1}),this};var nr=f.__private__.getFont=f.getFont=function(){return me[Et.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,r={};for(e in ye)if(ye.hasOwnProperty(e))for(t in r[e]=[],ye[e])ye[e].hasOwnProperty(t)&&r[e].push(t);return r},f.addFont=function(e,t,r,n,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(r=x(r,n)),i=i||"Identity-H",pt.call(this,e,t,r,i)};var ir,or=e.lineWidth||.200025,sr=f.__private__.getLineWidth=f.getLineWidth=function(){return or},ar=f.__private__.setLineWidth=f.setLineWidth=function(e){return or=e,Y(_(I(e))+" w"),this};f.__private__.setLineDash=Br.API.setLineDash=Br.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return _(I(e))})).join(" "),t=_(I(t)),Y("["+e+"] "+t+" d"),this};var cr=f.__private__.getLineHeight=f.getLineHeight=function(){return re*ir};f.__private__.getLineHeight=f.getLineHeight=function(){return re*ir};var ur=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(ir=e),this},lr=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ir};ur(e.lineHeight);var Ar=f.__private__.getHorizontalCoordinate=function(e){return I(e)},hr=f.__private__.getVerticalCoordinate=function(e){return v===y.ADVANCED?e:Se[D].mediaBox.topRightY-Se[D].mediaBox.bottomLeftY-I(e)},fr=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return _(Ar(e))},dr=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return _(hr(e))},pr=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return He(pr)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,r,n){return pr=Ke({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"draw",precision:2}),Y(pr),this};var gr=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return He(gr)},f.__private__.setFillColor=f.setFillColor=function(e,t,r,n){return gr=Ke({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"fill",precision:2}),Y(gr),this};var wr=e.textColor||"0 g",Er=f.__private__.getTextColor=f.getTextColor=function(){return He(wr)};f.__private__.setTextColor=f.setTextColor=function(e,t,r,n){return wr=Ke({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"text",precision:3}),this};var Sr=e.charSpace,Cr=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Sr||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sr=e,this};var Ir=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ir=t,Y(t+" J"),this};var kr=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kr=t,Y(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(_(I(e))+" M"),this},f.GState=br,f.setGState=function(e){(e="string"==typeof e?xe[_e[e]]:Pr(null,e)).equals(Be)||(Y("/"+e.id+" gs"),Be=e)};var Pr=function(e,t){if(!e||!_e[e]){var r=!1;for(var n in xe)if(xe.hasOwnProperty(n)&&xe[n].equals(t)){r=!0;break}if(r)t=xe[n];else{var i="GS"+(Object.keys(xe).length+1).toString(10);xe[i]=t,t.id=i}return e&&(_e[e]=t.id),Ce.publish("addGState",t),t}};f.addGState=function(e,t){return Pr(e,t),this},f.saveGraphicsState=function(){return Y("q"),ve.push({key:he,size:re,color:wr}),this},f.restoreGraphicsState=function(){Y("Q");var e=ve.pop();return he=e.key,re=e.size,wr=e.color,Be=null,this},f.setCurrentTransformationMatrix=function(e){return Y(e.toString()+" cm"),this},f.comment=function(e){return Y("#"+e),this};var Tr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},Or=function(e,t,r,n){Tr.call(this,e,t),this.type="rect";var i=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},Lr=function(){this.page=Ee,this.currentPage=D,this.pages=G.slice(0),this.pagesContext=Se.slice(0),this.x=de,this.y=pe,this.matrix=ge,this.width=Mr(D),this.height=Dr(D),this.outputDestination=$,this.id="",this.objectNumber=-1};Lr.prototype.restore=function(){Ee=this.page,D=this.currentPage,Se=this.pagesContext,G=this.pages,de=this.x,pe=this.y,ge=this.matrix,Rr(D,this.width),jr(D,this.height),$=this.outputDestination};var Nr=function(e,t,r,n,i){Te.push(new Lr),Ee=D=0,G=[],de=e,pe=t,ge=i,bt([r,n])},Ur=function(e){if(Pe[e])Te.pop().restore();else{var t=new Lr,r="Xo"+(Object.keys(ke).length+1).toString(10);t.id=r,Pe[e]=r,ke[r]=t,Ce.publish("addFormObject",t),Te.pop().restore()}};for(var Fr in f.beginFormObject=function(e,t,r,n,i){return Nr(e,t,r,n,i),this},f.endFormObject=function(e){return Ur(e),this},f.doFormObject=function(e,t){var r=ke[Pe[e]];return Y("q"),Y(t.toString()+" cm"),Y("/"+r.id+" Do"),Y("Q"),this},f.getFormObject=function(e){var t=ke[Pe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Zt(Ot(Tt()),e),"function"==typeof Zt.unload&&zt.setTimeout&&setTimeout(Zt.unload,911),this):new Promise((function(t,r){try{var n=Zt(Ot(Tt()),e);"function"==typeof Zt.unload&&zt.setTimeout&&setTimeout(Zt.unload,911),t(n)}catch(e){r(e.message)}}))},Br.API)Br.API.hasOwnProperty(Fr)&&("events"===Fr&&Br.API.events.length?function(e,t){var r,n,i;for(i=t.length-1;-1!==i;i--)r=t[i][0],n=t[i][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(Ce,Br.API.events):f[Fr]=Br.API[Fr]);var Mr=f.getPageWidth=function(e){return(Se[e=e||D].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX)/fe},Rr=f.setPageWidth=function(e,t){Se[e].mediaBox.topRightX=t*fe+Se[e].mediaBox.bottomLeftX},Dr=f.getPageHeight=function(e){return(Se[e=e||D].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY)/fe},jr=f.setPageHeight=function(e,t){Se[e].mediaBox.topRightY=t*fe+Se[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:vt,getStyle:Ht,getFont:nr,getFontSize:ie,getCharSpace:Cr,getTextColor:Er,getLineHeight:cr,getLineHeightFactor:lr,getLineWidth:sr,write:Z,getHorizontalCoordinate:Ar,getVerticalCoordinate:hr,getCoordinateString:fr,getVerticalCoordinateString:dr,collections:{},newObject:Fe,newAdditionalObject:De,newObjectDeferred:Me,newObjectDeferredBegin:Re,getFilters:Ve,putStream:ze,events:Ce,scaleFactor:fe,pageSize:{getWidth:function(){return Mr(D)},setWidth:function(e){Rr(D,e)},getHeight:function(){return Dr(D)},setHeight:function(e){jr(D,e)}},encryptionOptions:l,encryption:Ut,getEncryptor:Ft,output:Lt,getNumberOfPages:Bt,pages:G,out:Y,f2:S,f3:C,getPageInfo:Mt,getPageInfoByObjId:Rt,getCurrentPageInfo:Dt,getPDFVersion:p,Point:Tr,Rectangle:Or,Matrix:Oe,hasHotfix:Nt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Mr(D)},set:function(e){Rr(D,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Dr(D)},set:function(e){jr(D,e)},enumerable:!0,configurable:!0}),gt.call(f,te),he="F1",wt(i,r),Ce.publish("initialized"),f}mr.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},mr.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},mr.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},mr.prototype.processOwnerPassword=function(e,t){return pr(hr(t).substr(0,5),e)},mr.prototype.encryptor=function(e,t){var r=hr(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return pr(r,e)}},br.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||nt(e)!==nt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return 0===n},Br.API={events:[]},Br.version="2.5.1";var Er=Br.API,Sr=1,Cr=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ir=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kr=function(e){return e.toFixed(2)},Pr=function(e){return e.toFixed(5)};Er.__acroform__={};var Tr=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Or=function(e){return e*Sr},Lr=function(e){var t=new Jr,r=An.internal.getHeight(e)||0,n=An.internal.getWidth(e)||0;return t.BBox=[0,0,Number(kr(n)),Number(kr(r))],t},Nr=Er.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Ur=Er.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Fr=Er.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Mr=Er.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Fr(e,t-1)},Rr=Er.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nr(e,t-1)},Dr=Er.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ur(e,t-1)},jr=Er.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],o=e[1],s=e[2],a=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(o+a)||0,c.upperRight_X=r(i+s)||0,c.upperRight_Y=n(o)||0,[Number(kr(c.lowerLeft_X)),Number(kr(c.lowerLeft_Y)),Number(kr(c.upperRight_X)),Number(kr(c.upperRight_Y))]},Qr=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Hr(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+kr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Lr(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},Hr=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var o=r,s=An.internal.getHeight(e)||0;s=s<0?-s:s;var a=An.internal.getWidth(e)||0;a=a<0?-a:a;var c=function(t,r,n){if(t+1<i.length){var o=r+" "+i[t+1][0];return Kr(o,e,n).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var u,l,A=Kr("3",e,o).height,h=e.multiline?s-o:(s-A)/2,f=h+=2,d=0,p=0,g=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+Kr(t,e,o=12).width+", FieldWidth:"+a+"\n";break}for(var m="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var b=!1;if(1!==i[v].length&&g!==i[v].length-1){if((A+2)*(y+2)+2>s)continue e;m+=i[v][g],b=!0,p=v,v--}else{m=" "==(m+=i[v][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var w=parseInt(v),x=c(w,m,o),_=v>=i.length-1;if(x&&!_){m+=" ",g=0;continue}if(x||_){if(_)p=w;else if(e.multiline&&(A+2)*(y+2)+2>s)continue e}else{if(!e.multiline)continue e;if((A+2)*(y+2)+2>s)continue e;p=w}}for(var B="",E=d;E<=p;E++){var S=i[E];if(e.multiline){if(E===p){B+=S[g]+" ",g=(g+1)%S.length;continue}if(E===d){B+=S[S.length-1]+" ";continue}}B+=S[0]+" "}switch(B=" "==B.substr(B.length-1)?B.substr(0,B.length-1):B,l=Kr(B,e,o).width,e.textAlign){case"right":u=a-l-2;break;case"center":u=(a-l)/2;break;default:u=2}t+=kr(u)+" "+kr(f)+" Td\n",t+="("+Cr(B)+") Tj\n",t+=-kr(u)+" 0 Td\n",f=-(o+2),l=0,d=b?p:p+1,y++,m=""}break}return n.text=t,n.fontSize=o,n},Kr=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Vr={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},zr=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===r.type&&e.object===r.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},qr=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Yr.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Vr)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Sr=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Xr,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.objId=void 0,n.hasAnnotation&&zr(n,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var r=!e;for(var n in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(n)){var i=e[n],o=[],s=i.Rect;if(i.Rect&&(i.Rect=jr(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=An.createDefaultAppearanceStream(i),"object"===nt(i)&&"function"==typeof i.getKeyValueListForStream&&(o=i.getKeyValueListForStream()),i.Rect=s,i.hasAppearanceStream&&!i.appearanceStreamContent){var a=Qr(i);o.push({key:"AP",value:"<</N "+a+">>"}),t.internal.acroformPlugin.xForms.push(a)}if(i.appearanceStreamContent){var c="";for(var u in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(u)){var l=i.appearanceStreamContent[u];if(c+="/"+u+" ",c+="<<",Object.keys(l).length>=1||Array.isArray(l)){for(var n in l)if(l.hasOwnProperty(n)){var A=l[n];"function"==typeof A&&(A=A.call(t,i)),c+="/"+n+" "+A+" ",t.internal.acroformPlugin.xForms.indexOf(A)>=0||t.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=l)&&(A=A.call(t,i)),c+="/"+n+" "+A,t.internal.acroformPlugin.xForms.indexOf(A)>=0||t.internal.acroformPlugin.xForms.push(A);c+=">>"}o.push({key:"AP",value:"<<\n"+c+">>"})}t.internal.putStream({additionalKeyValues:o,objectId:i.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===nt(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[n]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},Gr=Er.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(e){return e};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(0!==o&&(i+=" "),nt(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":"/"!==e[o].substr(0,1)?(void 0!==t&&r&&(n=r.internal.getEncryptor(t)),i+="("+Cr(n(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wr=function(e,t,r){var n=function(e){return e};return void 0!==t&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Cr(n(e))+")"},$r=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$r.prototype.toString=function(){return this.objId+" 0 R"},$r.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},$r.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:Gr(i,this.objId,this.scope)}):i instanceof $r?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:n,value:i}))}return e};var Jr=function(){$r.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Tr(Jr,$r);var Xr=function(){$r.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Cr(t(e))+")"}},set:function(t){e=t}})};Tr(Xr,$r);var Yr=function e(){$r.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(t,3))},set:function(e){!0===Boolean(e)?this.F=Rr(t,3):this.F=Dr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(e){n=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(e){n[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(e){n[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(e){n[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(e){n[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof an)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Cr(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/Sr:u},set:function(e){u=e}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof an||this instanceof un))return Wr(A,this.objId,this.scope)},set:function(e){e=e.toString(),A=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof nn==0?Wr(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof nn==0?"("===e.substr(0,1)?Ir(e.substr(1,e.length-2)):Ir(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof nn==1?Ir(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof nn==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof nn==0?Wr(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof nn==0?"("===e.substr(0,1)?Ir(e.substr(1,e.length-2)):Ir(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof nn==1?Ir(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof nn==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var d,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(d)return d},set:function(e){d=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,1):this.Ff=Dr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,2):this.Ff=Dr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,3):this.Ff=Dr(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Tr(Yr,$r);var Zr=function(){Yr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Gr(t,this.objId,this.scope)},set:function(e){var r,n;n=[],"string"==typeof(r=e)&&(n=function(e,t,r){r||(r=1);for(var n,i=[];n=t.exec(e);)i.push(n[r]);return i}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,18):this.Ff=Dr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Rr(this.Ff,19):this.Ff=Dr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Rr(this.Ff,20),t.sort()):this.Ff=Dr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,22):this.Ff=Dr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,23):this.Ff=Dr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,27):this.Ff=Dr(this.Ff,27)}}),this.hasAppearanceStream=!1};Tr(Zr,Yr);var en=function(){Zr.call(this),this.fontName="helvetica",this.combo=!1};Tr(en,Zr);var tn=function(){en.call(this),this.combo=!0};Tr(tn,en);var rn=function(){tn.call(this),this.edit=!0};Tr(rn,tn);var nn=function(){Yr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,15):this.Ff=Dr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,16):this.Ff=Dr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,17):this.Ff=Dr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,26):this.Ff=Dr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Cr(e(t[r]))+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===nt(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Tr(nn,Yr);var on=function(){nn.call(this),this.pushButton=!0};Tr(on,nn);var sn=function(){nn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Tr(sn,nn);var an=function(){var e,t;Yr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),n)r.push("/"+t+" ("+Cr(e(n[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===nt(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=An.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Tr(an,Yr),sn.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},sn.prototype.createOption=function(e){var t=new an;return t.Parent=this,t.optionName=e,this.Kids.push(t),hn.call(this.scope,t),t};var cn=function(){nn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=An.CheckBox.createAppearanceStream()};Tr(cn,nn);var un=function(){Yr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,13):this.Ff=Dr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,21):this.Ff=Dr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,23):this.Ff=Dr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,24):this.Ff=Dr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,25):this.Ff=Dr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,26):this.Ff=Dr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Tr(un,Yr);var ln=function(){un.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mr(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Rr(this.Ff,14):this.Ff=Dr(this.Ff,14)}}),this.password=!0};Tr(ln,un);var An={CheckBox:{createAppearanceStream:function(){return{N:{On:An.CheckBox.YesNormal},D:{On:An.CheckBox.YesPushDown,Off:An.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Lr(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=Hr(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+kr(An.internal.getWidth(e))+" "+kr(An.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+kr(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=Lr(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],o=An.internal.getHeight(e),s=An.internal.getWidth(e),a=Hr(e,e.caption);return i.push("1 g"),i.push("0 0 "+kr(s)+" "+kr(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kr(s-1)+" "+kr(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+kr(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=Lr(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kr(An.internal.getWidth(e))+" "+kr(An.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:An.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=An.RadioButton.Circle.YesNormal,t.D[e]=An.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Lr(e);t.scope=e.scope;var r=[],n=An.internal.getWidth(e)<=An.internal.getHeight(e)?An.internal.getWidth(e)/4:An.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=An.internal.Bezier_C,o=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Pr(An.internal.getWidth(e)/2)+" "+Pr(An.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=Lr(e);t.scope=e.scope;var r=[],n=An.internal.getWidth(e)<=An.internal.getHeight(e)?An.internal.getWidth(e)/4:An.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*An.internal.Bezier_C).toFixed(5)),s=Number((n*An.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pr(An.internal.getWidth(e)/2)+" "+Pr(An.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Pr(An.internal.getWidth(e)/2)+" "+Pr(An.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Lr(e);t.scope=e.scope;var r=[],n=An.internal.getWidth(e)<=An.internal.getHeight(e)?An.internal.getWidth(e)/4:An.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*An.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pr(An.internal.getWidth(e)/2)+" "+Pr(An.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:An.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=An.RadioButton.Cross.YesNormal,t.D[e]=An.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Lr(e);t.scope=e.scope;var r=[],n=An.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+kr(An.internal.getWidth(e)-2)+" "+kr(An.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(kr(n.x1.x)+" "+kr(n.x1.y)+" m"),r.push(kr(n.x2.x)+" "+kr(n.x2.y)+" l"),r.push(kr(n.x4.x)+" "+kr(n.x4.y)+" m"),r.push(kr(n.x3.x)+" "+kr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=Lr(e);t.scope=e.scope;var r=An.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+kr(An.internal.getWidth(e))+" "+kr(An.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+kr(An.internal.getWidth(e)-2)+" "+kr(An.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(kr(r.x1.x)+" "+kr(r.x1.y)+" m"),n.push(kr(r.x2.x)+" "+kr(r.x2.y)+" l"),n.push(kr(r.x4.x)+" "+kr(r.x4.y)+" m"),n.push(kr(r.x3.x)+" "+kr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Lr(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+kr(An.internal.getWidth(e))+" "+kr(An.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};An.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=An.internal.getWidth(e),r=An.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},An.internal.getWidth=function(e){var t=0;return"object"===nt(e)&&(t=Or(e.Rect[2])),t},An.internal.getHeight=function(e){var t=0;return"object"===nt(e)&&(t=Or(e.Rect[3])),t};var hn=Er.addField=function(e){if(qr(this,e),!(e instanceof Yr))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function fn(e){return e.reduce((function(e,t,r){return e[t]=r,e}),{})}Er.AcroFormChoiceField=Zr,Er.AcroFormListBox=en,Er.AcroFormComboBox=tn,Er.AcroFormEditBox=rn,Er.AcroFormButton=nn,Er.AcroFormPushButton=on,Er.AcroFormRadioButton=sn,Er.AcroFormCheckBox=cn,Er.AcroFormTextField=un,Er.AcroFormPasswordField=ln,Er.AcroFormAppearance=An,Er.AcroForm={ChoiceField:Zr,ListBox:en,ComboBox:tn,EditBox:rn,Button:nn,PushButton:on,RadioButton:sn,CheckBox:cn,TextField:un,PasswordField:ln,Appearance:An},Br.AcroForm={ChoiceField:Zr,ListBox:en,ComboBox:tn,EditBox:rn,Button:nn,PushButton:on,RadioButton:sn,CheckBox:cn,TextField:un,PasswordField:ln,Appearance:An},Br.AcroForm,function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(e,n){var i,o,s,a,c,u=t;if("RGBA"===(n=n||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(c in r)for(s=r[c],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e[o]){a=!1;break}if(!0===a){u=c;break}}else for(c in r)for(s=r[c],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e.charCodeAt(o)){a=!1;break}if(!0===a){u=c;break}}return u===t&&n!==t&&(u=n),u},i=function e(t){for(var r=this.internal.write,n=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",a=0,c=t.transparency.length;a<c;a++)s+=t.transparency[a]+" "+t.transparency[a]+" ";o.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var u=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:u,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var l="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,A={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:l,data:t.sMask};"filter"in t&&(A.filter=t.filter),e.call(this,A)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();n({data:B(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},o=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},s=function(){var e,t=this.internal.collections.addImage_images,r=this.internal.write;for(var n in t)r("/I"+(e=t[n]).index,e.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var e=this.internal.collections.addImage_images;return a.call(this),e},u=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(t){return"function"==typeof e["process"+t.toUpperCase()]},A=function(e){return"object"===nt(e)&&1===e.nodeType},h=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return Xt(unescape(n).split("base64,").pop());var i=e.loadFile(n,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(r){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;default:o="image/jpeg"}return Xt(t.toDataURL(o,1).split("base64,").pop())}},f=function(e){var t=this.internal.collections.addImage_images;if(t)for(var r in t)if(e===t[r].alias)return t[r]},d=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},p=function(e,t,r,n,i,o){var s=d.call(this,r,n,i),a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,l=c.call(this);if(r=s[0],n=s[1],l[i.index]=i,o){o*=Math.PI/180;var A=Math.cos(o),h=Math.sin(o),f=function(e){return e.toFixed(4)},p=[f(A),f(h),f(-1*h),f(A),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,a(e),u(t+n),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([a(r),"0","0",a(n),"0","0","cm"].join(" "))):this.internal.write([a(r),"0","0",a(n),a(e),u(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(x(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},b=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),r=null;if(2===t.length){var n=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(n)&&(r={mimeType:n[1],charset:n[2],data:t[1]})}return r},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},_=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},B=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=x(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,r,n,i,o,s,c,u,l;if("number"==typeof arguments[1]?(r=t,n=arguments[1],i=arguments[2],o=arguments[3],s=arguments[4],c=arguments[5],u=arguments[6],l=arguments[7]):(r=arguments[1],n=arguments[2],i=arguments[3],o=arguments[4],s=arguments[5],c=arguments[6],u=arguments[7],l=arguments[8]),"object"===nt(e=arguments[0])&&!A(e)&&"imageData"in e){var h=e;e=h.imageData,r=h.format||r||t,n=h.x||n||0,i=h.y||i||0,o=h.w||h.width||o,s=h.h||h.height||s,c=h.alias||c,u=h.compression||u,l=h.rotation||h.angle||l}var f=this.internal.getFilters();if(void 0===u&&-1!==f.indexOf("FlateEncode")&&(u="SLOW"),isNaN(n)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var d=E.call(this,e,r,c,u);return p.call(this,n,i,o,s,d,l),this};var E=function(r,i,o,s){var a,c,d;if("string"==typeof r&&n(r)===t){r=unescape(r);var p=S(r,!1);(""!==p||void 0!==(p=e.loadFile(r,!0)))&&(r=p)}if(A(r)&&(r=h(r,i)),i=n(r,i),!l(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(d=o)||0===d.length)&&(o=function(e){return"string"==typeof e||x(e)?y(e):x(e.data)?y(e.data):null}(r)),(a=f.call(this,o))||(w()&&(r instanceof Uint8Array||"RGBA"===i||(c=r,r=_(r))),a=this["process"+i.toUpperCase()](r,u.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:m.NONE}(s),c)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},S=e.__addimage__.convertBase64ToBinaryString=function(e,t){var r;t="boolean"!=typeof t||t;var n,i="";if("string"==typeof e){n=null!==(r=b(e))?r.data:e;try{i=Xt(n)}catch(e){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(r){var i,o,s="";if(A(r)&&(r=h(r)),"string"==typeof r&&n(r)===t&&(""===(s=S(r,!1))&&(s=e.loadFile(r)||""),r=s),o=n(r),!l(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!w()||r instanceof Uint8Array||(r=_(r)),!(i=this["process"+o.toUpperCase()](r)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=o,i}}(Br.API),
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Br.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var r,n,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,l=0;l<c.length&&!u;l++)switch((r=c[l]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var A=0;A<c.length;A++){r=c[A];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(d.objId),m=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+h(g(r.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+h(g(m))+") >>",d.content=i;var y=d.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+y,r.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(d.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+o(r.bounds.x)+" "+s(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var v=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(f(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var b=this.annotations._nameMap[r.options.name];r.options.pageNumber=b.page,r.options.top=b.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var w=s(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+w+" "+r.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,r,n,i){var o=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:s(e),y:a(t),w:s(e+r),h:a(t+n)},options:i,type:"link"})},e.textWithLink=function(e,t,r,n){var i,o,s=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){o=n.maxWidth;var c=this.splitTextToSize(e,o).length;i=Math.ceil(a*c)}else o=s,i=a;return this.text(e,t,r,n),r+=.2*a,"center"===n.align&&(t-=s/2),"right"===n.align&&(t-=s),this.link(t,r-a,o,i,n),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Br.API),
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var l=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&o(e)&&4==t[e.charCodeAt(0)].length},A=e.__arabicParser__.resolveLigatures=function(e){var t=0,n=r,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==n[e.charCodeAt(t)]?(o++,"number"==typeof(n=n[e.charCodeAt(t)])&&(i+=String.fromCharCode(n),n=r,o=0),t===e.length-1&&(n=r,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(n=r,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==n[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,r){return s(e)?!1===o(e)?-1:!u(e)||!s(t)&&!s(r)||!s(r)&&a(t)||a(e)&&!s(t)||a(e)&&c(t)||a(e)&&a(t)?0:l(e)&&s(t)&&!a(t)&&s(r)&&u(r)?3:a(e)||!s(r)?1:2:-1},f=function(e){var r=0,n=0,i=0,o="",a="",c="",u=(e=e||"").split("\\s+"),l=[];for(r=0;r<u.length;r+=1){for(l.push(""),n=0;n<u[r].length;n+=1)o=u[r][n],a=u[r][n-1],c=u[r][n+1],s(o)?(i=h(o,a,c),l[r]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):l[r]+=o;l[r]=A(l[r])}return l.join(" ")},d=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var n=0;for(r=[],n=0;n<t.length;n+=1)Array.isArray(t[n])?r.push([f(t[n][0]),t[n][1],t[n][2]]):r.push([f(t[n])]);e=r}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",d])}(Br.API),Br.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}));return this},
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(e){n=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Br.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){n.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,s=0,a=0,c=0,u=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var l=t.maxWidth;l>0?"string"==typeof e?e=this.splitTextToSize(e,l):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(u.splitTextToSize(t,l))}),[])):e=Array.isArray(e)?e:[e];for(var A=0;A<e.length;A++)s<(c=this.getStringUnitWidth(e[A],{font:i})*r)&&(s=c);return 0!==s&&(a=e.length),{w:s/=o,h:Math.max((a*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var i=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,c=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,u&&c&&(this.printHeaderRow(e.lineNumber,!0),e.y+=c[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,c,u,l){if(n.call(this),!c)throw new Error("No data for PDF table.");var A,h,f,d,p=[],g=[],m=[],y={},v={},b=[],w=[],x=(l=l||{}).autoSize||!1,_=!1!==l.printHeaders,B=l.css&&void 0!==l.css["font-size"]?16*l.css["font-size"]:l.fontSize||12,E=l.margins||Object.assign({width:this.getPageWidth()},t),S="number"==typeof l.padding?l.padding:3,C=l.headerBackgroundColor||"#c8c8c8",I=l.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=I,this.setFontSize(B),null==u)g=p=Object.keys(c[0]),m=p.map((function(){return"left"}));else if(Array.isArray(u)&&"object"===nt(u[0]))for(p=u.map((function(e){return e.name})),g=u.map((function(e){return e.prompt||e.name||""})),m=u.map((function(e){return e.align||"left"})),A=0;A<u.length;A+=1)v[u[A].name]=u[A].width*(19.049976/25.4);else Array.isArray(u)&&"string"==typeof u[0]&&(g=p=u,m=p.map((function(){return"left"})));if(x||Array.isArray(u)&&"string"==typeof u[0])for(A=0;A<p.length;A+=1){for(y[d=p[A]]=c.map((function(e){return e[d]})),this.setFont(void 0,"bold"),b.push(this.getTextDimensions(g[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=y[d],this.setFont(void 0,"normal"),f=0;f<h.length;f+=1)b.push(this.getTextDimensions(h[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[d]=Math.max.apply(null,b)+S+S,b=[]}if(_){var k={};for(A=0;A<p.length;A+=1)k[p[A]]={},k[p[A]].text=g[A],k[p[A]].align=m[A];var P=a.call(this,k,v);w=p.map((function(t){return new o(e,r,v[t],P,k[t].text,void 0,k[t].align)})),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var T=u.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(A=0;A<c.length;A+=1){"rowStart"in l&&l.rowStart instanceof Function&&l.rowStart({row:A,data:c[A]},this);var O=a.call(this,c[A],v);for(f=0;f<p.length;f+=1){var L=c[A][p[f]];"cellStart"in l&&l.cellStart instanceof Function&&l.cellStart({row:A,col:f,data:L},this),s.call(this,new o(e,r,v[p[f]],O,L,A+2,T[p[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var a=function(e,t){var r=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(n){var i=e[n];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[n]-r-r)}),this).map((function(e){return this.getLineHeightFactor()*e.length*n/i+r+r}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){n.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var c=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){i=this.internal.__cell__.tableHeaderRow[u].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,c.push(i)),i.lineNumber=e;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,i),this.setTextColor(l)}c.length>0&&this.setTableHeaderRow(c),this.setFont(void 0,"normal"),r=!1}}(Br.API);var dn={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pn=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],gn=fn(pn),mn=[100,200,300,400,500,600,700,800,900],yn=fn(mn);function vn(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(e){return dn[e=e||"normal"]?e:"normal"}(e.style),n=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof gn[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function bn(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var wn={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xn={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _n(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Bn(e){return e.trimLeft()}function En(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Sn(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Cn,In,kn,Pn=["times"];!function(e){var t,r,n,i,o,s,a,c,u,l=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,u=new l}]);var A=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),u.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var c=[];Object.defineProperty(this,"pageBreaks",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(e){e instanceof l&&(u=e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(e){u.path=e}});var A=[];Object.defineProperty(this,"ctxStack",{get:function(){return A},set:function(e){A=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var f=null;function d(e,t){if(null===f){var r=function(e){var t=[];return Object.keys(e).forEach((function(r){e[r].forEach((function(e){var n=null;switch(e){case"bold":n={family:r,weight:"bold"};break;case"italic":n={family:r,style:"italic"};break;case"bolditalic":n={family:r,weight:"bold",style:"italic"};break;case"":case"normal":n={family:r}}null!==n&&(n.ref={name:r,style:e},t.push(n))}))})),t}(e.getFontList());f=function(e){for(var t={},r=0;r<e.length;++r){var n=vn(e[r]),i=n.family,o=n.stretch,s=n.style,a=n.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][s]=t[i][o][s]||{},t[i][o][s][a]=n}return t}(r.concat(t))}return f}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){f=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var r=t[1],n=(t[2],t[3]),i=t[4],o=(t[5],t[6]),s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===s?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var a=function(e){var t,r,n=[],i=e.trim();if(""===i)return Pn;if(i in xn)return[xn[i]];for(;""!==i;){switch(r=null,t=(i=Bn(i)).charAt(0)){case'"':case"'":r=En(i.substring(1),t);break;default:r=Sn(i)}if(null===r)return Pn;if(n.push(r[0]),""!==(i=Bn(r[1]))&&","!==i.charAt(0))return Pn;i=i.replace(/^,/,"")}return n}(o);if(this.fontFaces){var c=function(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},wn,r.genericFontFamilies||{}),o=null,s=null,a=0;a<t.length;++a)if(i[(o=vn(t[a])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){s=e[o.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+_n(o)+"' and default family '"+n+"'.");if(s=function(e,t){if(t[e])return t[e];var r=gn[e],n=r<=gn.normal?-1:1,i=bn(t,pn,r,n);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,s),s=function(e,t){if(t[e])return t[e];for(var r=dn[e],n=0;n<r.length;++n)if(t[r[n]])return t[r[n]];throw new Error("Could not find a matching font-style for "+e)}(o.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=yn[e],n=bn(t,mn,r,e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+_n(o)+"'.");return s}(d(this.pdf,this.fontFaces),a.map((function(e){return{family:e,stretch:"normal",weight:n,style:r}})));this.pdf.setFont(c.ref.name,c.ref.style)}else{var u="";("bold"===n||parseInt(n,10)>=700||"bold"===r)&&(u="bold"),"italic"===r&&(u+="italic"),0===u.length&&(u="normal");for(var l="",A={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<a.length;h++){if(void 0!==this.pdf.internal.getFont(a[h],u,{noFallback:!0,disableWarning:!0})){l=a[h];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(a[h],"bold",{noFallback:!0,disableWarning:!0}))l=a[h],u="bold";else if(void 0!==this.pdf.internal.getFont(a[h],"normal",{noFallback:!0,disableWarning:!0})){l=a[h],u="normal";break}}if(""===l)for(var f=0;f<a.length;f++)if(A[a[f]]){l=A[a[f]];break}l=""===l?"Times":l,this.pdf.setFont(l,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};A.prototype.setLineDash=function(e){this.lineDash=e},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){b.call(this,"fill",!1)},A.prototype.stroke=function(){b.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Gt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new s(e,t)},A.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===nt(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},A.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Gt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new s(r.x,r.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},A.prototype.quadraticCurveTo=function(e,t,r,n){if(isNaN(r)||isNaN(n)||isNaN(e)||isNaN(t))throw Gt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new s(r,n)),o=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new s(i.x,i.y)},A.prototype.bezierCurveTo=function(e,t,r,n,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Gt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new s(i,o)),c=this.ctx.transform.applyToPoint(new s(e,t)),u=this.ctx.transform.applyToPoint(new s(r,n));this.path.push({type:"bct",x1:c.x,y1:c.y,x2:u.x,y2:u.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},A.prototype.arc=function(e,t,r,n,i,o){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i))throw Gt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new s(e,t));e=a.x,t=a.y;var c=this.ctx.transform.applyToPoint(new s(0,r)),u=this.ctx.transform.applyToPoint(new s(0,0));r=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2))}Math.abs(i-n)>=2*Math.PI&&(n=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:n,endAngle:i,counterclockwise:o})},A.prototype.arcTo=function(e,t,r,n,i){throw new Error("arcTo not implemented.")},A.prototype.rect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Gt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},A.prototype.fillRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Gt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,n),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},A.prototype.strokeRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Gt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");d.call(this)||(this.beginPath(),this.rect(e,t,r,n),this.stroke())},A.prototype.clearRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw Gt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,n))},A.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},A.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,r,n,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,n=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),r=parseInt(o[2]),n=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),r=parseInt(o[2]),n=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new er(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,n=e.substring(3,4),n+=n):(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),n=parseInt(n,16)}}return{r:t,g:r,b:n,a:i,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},d=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};A.prototype.fillText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw Gt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!f.call(this)){var i=N(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:r,scale:o,angle:i,align:this.textAlign,maxWidth:n})}},A.prototype.strokeText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw Gt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!d.call(this)){n=isNaN(n)?void 0:n;var i=N(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;I.call(this,{text:e,x:t,y:r,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:n})}},A.prototype.measureText=function(e){if("string"!=typeof e)throw Gt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,n=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*n/t.internal.scaleFactor,o=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new o({width:i*=Math.round(96*r/72*1e4)/1e4})},A.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Gt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},A.prototype.rotate=function(e){if(isNaN(e))throw Gt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},A.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Gt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},A.prototype.transform=function(e,t,r,n,i,o){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(i)||isNaN(o))throw Gt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new c(e,t,r,n,i,o);this.ctx.transform=this.ctx.transform.multiply(s)},A.prototype.setTransform=function(e,t,r,n,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,n=isNaN(n)?1:n,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new c(e,t,r,n,i,o)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(e,t,r,n,i,o,s,u,l){var A=this.pdf.getImageProperties(e),h=1,f=1,d=1,m=1;void 0!==n&&void 0!==u&&(d=u/n,m=l/i,h=A.width/n*u/n,f=A.height/i*l/i),void 0===o&&(o=t,s=r,t=0,r=0),void 0!==n&&void 0===u&&(u=n,l=i),void 0===n&&void 0===u&&(u=A.width,l=A.height);for(var b,x=this.ctx.transform.decompose(),_=N(x.rotate.shx),B=new c,E=(B=(B=(B=B.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new a(o-t*d,s-r*m,n*h,i*f)),S=g.call(this,E),C=[],I=0;I<S.length;I+=1)-1===C.indexOf(S[I])&&C.push(S[I]);if(v(C),this.autoPaging)for(var k=C[0],P=C[C.length-1],T=k;T<P+1;T++){this.pdf.setPage(T);var O=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===T?this.posY+this.margin[0]:this.margin[0],U=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],F=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],M=1===T?0:U+(T-2)*F;if(0!==this.ctx.clip_path.length){var R=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(b,this.posX+this.margin[3],-M+L+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=R}var D=JSON.parse(JSON.stringify(E));D=y([D],this.posX+this.margin[3],-M+L+this.ctx.prevPageLastElemOffset)[0];var j=(T>k||T<P)&&p.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,F,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",D.x,D.y,D.w,D.h,null,null,_),j&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",E.x,E.y,E.w,E.h,null,null,_)};var g=function(e,t,r){var n=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":n.push(Math.floor((e.y+i)/r)+1);break;case"arc":n.push(Math.floor((e.y+i-e.radius)/r)+1),n.push(Math.floor((e.y+i+e.radius)/r)+1);break;case"qct":var o=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);n.push(Math.floor((o.y+i)/r)+1),n.push(Math.floor((o.y+o.h+i)/r)+1);break;case"bct":var s=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);n.push(Math.floor((s.y+i)/r)+1),n.push(Math.floor((s.y+s.h+i)/r)+1);break;case"rect":n.push(Math.floor((e.y+i)/r)+1),n.push(Math.floor((e.y+e.h+i)/r)+1)}for(var a=0;a<n.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<n[a];)m.call(this);return n},m=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,n=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=n,this.lineWidth=i,this.lineJoin=o},y=function(e,t,r){for(var n=0;n<e.length;n++)switch(e[n].type){case"bct":e[n].x2+=t,e[n].y2+=r;case"qct":e[n].x1+=t,e[n].y1+=r;default:e[n].x+=t,e[n].y+=r}return e},v=function(e){return e.sort((function(e,t){return e-t}))},b=function(e,t){for(var r,n,i=this.fillStyle,o=this.strokeStyle,s=this.lineCap,a=this.lineWidth,c=Math.abs(a*this.ctx.transform.scaleX),u=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),A=JSON.parse(JSON.stringify(this.path)),h=[],f=0;f<A.length;f++)if(void 0!==A[f].x)for(var d=g.call(this,A[f]),b=0;b<d.length;b+=1)-1===h.indexOf(d[b])&&h.push(d[b]);for(var x=0;x<h.length;x++)for(;this.pdf.internal.getNumberOfPages()<h[x];)m.call(this);if(v(h),this.autoPaging)for(var _=h[0],B=h[h.length-1],E=_;E<B+1;E++){this.pdf.setPage(E),this.fillStyle=i,this.strokeStyle=o,this.lineCap=s,this.lineWidth=c,this.lineJoin=u;var S=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],C=1===E?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],k=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===E?0:I+(E-2)*k;if(0!==this.ctx.clip_path.length){var T=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(r,this.posX+this.margin[3],-P+C+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=T}if(n=JSON.parse(JSON.stringify(l)),this.path=y(n,this.posX+this.margin[3],-P+C+this.ctx.prevPageLastElemOffset),!1===t||0===E){var O=(E>_||E<B)&&p.call(this);O&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],S,k,null).clip().discardPath()),w.call(this,e,t),O&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=c,w.call(this,e,t),this.lineWidth=a;this.path=l},w=function(e,t){if(("stroke"!==e||t||!d.call(this))&&("stroke"===e||t||!f.call(this))){for(var r,n,i=[],o=this.path,s=0;s<o.length;s++){var a=o[s];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var c=i.length;if(o[s-1]&&!isNaN(o[s-1].x)&&(r=[a.x-o[s-1].x,a.y-o[s-1].y],c>0))for(;c>=0;c--)if(!0!==i[c-1].close&&!0!==i[c-1].begin){i[c-1].deltas.push(r),i[c-1].abs.push(a);break}break;case"bct":r=[a.x1-o[s-1].x,a.y1-o[s-1].y,a.x2-o[s-1].x,a.y2-o[s-1].y,a.x-o[s-1].x,a.y-o[s-1].y],i[i.length-1].deltas.push(r);break;case"qct":var u=o[s-1].x+2/3*(a.x1-o[s-1].x),l=o[s-1].y+2/3*(a.y1-o[s-1].y),A=a.x+2/3*(a.x1-a.x),h=a.y+2/3*(a.y1-a.y),p=a.x,g=a.y;r=[u-o[s-1].x,l-o[s-1].y,A-o[s-1].x,h-o[s-1].y,p-o[s-1].x,g-o[s-1].y],i[i.length-1].deltas.push(r);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}n=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,y=0;y<i.length;y++)if(i[y].arc)for(var v=i[y].abs,b=0;b<v.length;b++){var w=v[b];"arc"===w.type?B.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!m):k.call(this,w.x,w.y),m=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),m=!1;else if(!0!==i[y].begin){var x=i[y].start.x,_=i[y].start.y;P.call(this,i[y].deltas,x,_),m=!0}n&&E.call(this,n),t&&S.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},_=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(e,t,r,n,i,o,s,a,c){for(var u=O.call(this,r,n,i,o),l=0;l<u.length;l++){var A=u[l];0===l&&(c?C.call(this,A.x1+e,A.y1+t):k.call(this,A.x1+e,A.y1+t)),T.call(this,e,t,A.x2,A.y2,A.x3,A.y3,A.x4,A.y4)}a?S.call(this):E.call(this,s)},E=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},S=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(e,t){this.pdf.internal.out(r(e)+" "+n(t)+" m")},I=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r=this.pdf.getTextDimensions(e.text),n=x.call(this,e.y),i=_.call(this,n)-r.h,o=this.ctx.transform.applyToPoint(new s(e.x,n)),u=this.ctx.transform.decompose(),l=new c;l=(l=(l=l.multiply(u.translate)).multiply(u.skew)).multiply(u.scale);for(var A,h,f,d=this.ctx.transform.applyToRectangle(new a(e.x,n,r.w,r.h)),m=l.applyToRectangle(new a(e.x,i,r.w,r.h)),b=g.call(this,m),B=[],E=0;E<b.length;E+=1)-1===B.indexOf(b[E])&&B.push(b[E]);if(v(B),this.autoPaging)for(var S=B[0],C=B[B.length-1],I=S;I<C+1;I++){this.pdf.setPage(I);var k=1===I?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[2],O=T-this.margin[0],L=this.pdf.internal.pageSize.width-this.margin[1],N=L-this.margin[3],U=1===I?0:P+(I-2)*O;if(0!==this.ctx.clip_path.length){var F=this.path;A=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(A,this.posX+this.margin[3],-1*U+k),w.call(this,"fill",!0),this.path=F}var M=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-U+k+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var R="text"!==this.autoPaging;if(R||M.y+M.h<=T){if(R||M.y>=k&&M.x<=L){var D=R?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||L-M.x)[0],j=y([JSON.parse(JSON.stringify(d))],this.posX+this.margin[3],-U+k+this.ctx.prevPageLastElemOffset)[0],Q=R&&(I>S||I<C)&&p.call(this);Q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],N,O,null).clip().discardPath()),this.pdf.text(D,j.x,j.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),Q&&this.pdf.restoreGraphicsState()}}else M.y<T&&(this.ctx.prevPageLastElemOffset+=T-M.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=f)},k=function(e,t,i,o){i=i||0,o=o||0,this.pdf.internal.out(r(e+i)+" "+n(t+o)+" l")},P=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},T=function(e,r,n,s,a,c,u,l){this.pdf.internal.out([t(i(n+e)),t(o(s+r)),t(i(a+e)),t(o(c+r)),t(i(u+e)),t(o(l+r)),"c"].join(" "))},O=function(e,t,r,n){for(var i=2*Math.PI,o=Math.PI/2;t>r;)t-=i;var s=Math.abs(r-t);s<i&&n&&(s=i-s);for(var a=[],c=n?-1:1,u=t;s>1e-5;){var l=u+c*Math.min(s,o);a.push(L.call(this,e,u,l)),s-=Math.abs(l-u),u=l}return a},L=function(e,t,r){var n=(r-t)/2,i=e*Math.cos(n),o=e*Math.sin(n),s=i,a=-o,c=s*s+a*a,u=c+s*i+a*o,l=4/3*(Math.sqrt(2*c*u)-u)/(s*o-a*i),A=s-l*a,h=a+l*s,f=A,d=-h,p=n+t,g=Math.cos(p),m=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:A*g-h*m,y2:A*m+h*g,x3:f*g-d*m,y3:f*m+d*g,x4:e*Math.cos(r),y4:e*Math.sin(r)}},N=function(e){return 180*e/Math.PI},U=function(e,t,r,n,i,o){var s=e+.5*(r-e),c=t+.5*(n-t),u=i+.5*(r-i),l=o+.5*(n-o),A=Math.min(e,i,s,u),h=Math.max(e,i,s,u),f=Math.min(t,o,c,l),d=Math.max(t,o,c,l);return new a(A,f,h-A,d-f)},F=function(e,t,r,n,i,o,s,c){var u,l,A,h,f,d,p,g,m,y,v,b,w,x,_=r-e,B=n-t,E=i-r,S=o-n,C=s-i,I=c-o;for(l=0;l<41;l++)m=(p=(A=e+(u=l/40)*_)+u*((f=r+u*E)-A))+u*(f+u*(i+u*C-f)-p),y=(g=(h=t+u*B)+u*((d=n+u*S)-h))+u*(d+u*(o+u*I-d)-g),0==l?(v=m,b=y,w=m,x=y):(v=Math.min(v,m),b=Math.min(b,y),w=Math.max(w,m),x=Math.max(x,y));return new a(Math.round(v),Math.round(b),Math.round(w-v),Math.round(x-b))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(Br.API),
/**
   * @license
   * jsPDF filters PlugIn
   * Copyright (c) 2014 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(e){var t,r,n,i,o,s,a,c,u,l;for(/[^\x00-\xFF]/.test(e),r=[],n=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>n;n+=4)0!==(o=(e.charCodeAt(n)<<24)+(e.charCodeAt(n+1)<<16)+(e.charCodeAt(n+2)<<8)+e.charCodeAt(n+3))?(s=(o=((o=((o=((o=(o-(l=o%85))/85)-(u=o%85))/85)-(c=o%85))/85)-(a=o%85))/85)%85,r.push(s+33,a+33,c+33,u+33,l+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,n,i,o,s=String,a="length",c=255,u="charCodeAt",l="slice",A="replace";for(e[l](-2),e=e[l](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),n=[],i=0,o=(e+=t="uuuuu"[l](e[a]%5||5))[a];o>i;i+=5)r=52200625*(e[u](i)-33)+614125*(e[u](i+1)-33)+7225*(e[u](i+2)-33)+85*(e[u](i+3)-33)+(e[u](i+4)-33),n.push(c&r>>24,c&r>>16,c&r>>8,c&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(n,t[a]),s.fromCharCode.apply(s,n)},n=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",n=0;n<e.length;n+=2)r+=String.fromCharCode("0x"+(e[n]+e[n+1]));return r},i=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=Kt(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var s=0,a=e||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":a=r(a),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=n(a),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:a,reverseChain:c.reverse().join(" ")}}}(Br.API),
/**
   * @license
   * jsPDF fileloading PlugIn
   * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){e.loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var n=void 0;try{n=function(e,t,r){var n=new XMLHttpRequest,i=0,o=function(e){var t=e.length,r=[],n=String.fromCharCode;for(i=0;i<t;i+=1)r.push(n(255&e.charCodeAt(i)));return r.join("")};if(n.open("GET",e,!t),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(n.onload=function(){200===n.status?r(o(this.responseText)):r(void 0)}),n.send(null),t&&200===n.status)return o(n.responseText)}(e,t,r)}catch(e){}return n}(e,t,r)},e.loadImageFile=e.loadFile}(Br.API),function(e){function t(){return(zt.html2canvas?Promise.resolve(zt.html2canvas):Promise.resolve().then((function(){return Ai}))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function r(){return(zt.DOMPurify?Promise.resolve(zt.DOMPurify):Promise.resolve().then((function(){return eAe}))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var n=function(e){var t=nt(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var r=document.createElement(e);for(var n in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[n]=t.style[n];return r},o=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),n=e.convert(Promise.resolve(),r);return(n=n.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(n(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then((function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,r){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==r&&1===i.nodeType&&"SCRIPT"===i.nodeName||n.appendChild(e(i,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value),n.addEventListener("load",(function(){n.scrollTop=t.scrollTop,n.scrollLeft=t.scrollLeft}),!0)),n}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var o=0;o<r.length;++o){var s=r[o],a=s.src.find((function(e){return"truetype"===e.format}));a&&t.addFont(a.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(e){if("object"!==n(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},o.prototype.get=function(e,t){return this.then((function(){var r=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(r):r}))},o.prototype.setMargin=function(e){return this.then((function(){switch(n(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||Br.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},o.prototype.setProgress=function(e,t,r,n){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,r,n){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,n?this.progress.stack.concat(n):null)},o.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,(function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return r.updateProgress(null,e),t})).then(e,t).then((function(e){return r.updateProgress(1),e}))}))},o.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var n=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),i=r.call(n,e,t);return o.convert(i,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Br.getPageSize=function(e,t,r){if("object"===nt(e)){var n=e;e=n.orientation,t=n.unit||t,r=n.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var i,o=(""+r).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var a,c=0,u=0;if(s.hasOwnProperty(o))c=s[o][1]/i,u=s[o][0]/i;else try{c=r[1],u=r[0]}catch(e){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",u>c&&(a=u,u=c,c=a);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",c>u&&(a=u,u=c,c=a)}return{width:u,height:c,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(vn):null;var r=new o(t);return t.worker?r:r.from(e).doCallback()}}(Br.API),Br.API.addJS=function(e){return kn=e,this.internal.events.subscribe("postPutResources",(function(){Cn=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Cn+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),In=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kn+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==Cn&&void 0!==In&&this.internal.out("/Names <</JavaScript "+Cn+" 0 R>>")})),this
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */},function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),i=0;i<n.length;i++){var o=n[i],s=r.exec(o);if(null!=s){var a=s[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var l=e.internal.newObject();u.push(l);var A=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<u.length;i++)e.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var n={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var i=t.children[n];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),n>0&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var s=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(Br.API),
/**
   * @license
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,n,i,o,s){var a,c=this.decode.DCT_DECODE,u=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var r,n=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(s+=n,-1!==t.indexOf(e.charCodeAt(s+1))){r=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),o={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:r,numcomponents:e.charCodeAt(s+9)};break}n=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:e,width:a.width,height:a.height,colorSpace:s,bitsPerComponent:8,filter:c,index:r,alias:n}}return u}}(Br.API);var Tn,On,Ln,Nn,Un,Fn=function(){var e,t,r;function n(e){var t,r,n,i,o,s,a,c,u,l,A,h,f,d;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),u=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,s.delay=1e3*o/i,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((l=n-this.transparency.indexed.length)>0)for(f=0;0<=l?f<l:f>l;0<=l?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(A=this.read(t)).indexOf(0),c=String.fromCharCode.apply(String,A.slice(0,a)),this.text[c]=String.fromCharCode.apply(String,A.slice(a+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,r=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)r.push(this.data[this.pos++]);return r},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,r=new Uint8Array(this.width*this.height*t),n=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,s,a,c){var u,l,A,h,f,d,p,g,m,y,v,b,w,x,_,B,E,S,C,I,k,P=Math.ceil((i.width-o)/a),T=Math.ceil((i.height-s)/c),O=i.width==P&&i.height==T;for(x=t*P,b=O?r:new Uint8Array(x*T),d=e.length,w=0,l=0;w<T&&n<d;){switch(e[n++]){case 0:for(h=E=0;E<x;h=E+=1)b[l++]=e[n++];break;case 1:for(h=S=0;S<x;h=S+=1)u=e[n++],f=h<t?0:b[l-t],b[l++]=(u+f)%256;break;case 2:for(h=C=0;C<x;h=C+=1)u=e[n++],A=(h-h%t)/t,_=w&&b[(w-1)*x+A*t+h%t],b[l++]=(_+u)%256;break;case 3:for(h=I=0;I<x;h=I+=1)u=e[n++],A=(h-h%t)/t,f=h<t?0:b[l-t],_=w&&b[(w-1)*x+A*t+h%t],b[l++]=(u+Math.floor((f+_)/2))%256;break;case 4:for(h=k=0;k<x;h=k+=1)u=e[n++],A=(h-h%t)/t,f=h<t?0:b[l-t],0===w?_=B=0:(_=b[(w-1)*x+A*t+h%t],B=A&&b[(w-1)*x+(A-1)*t+h%t]),p=f+_-B,g=Math.abs(p-f),y=Math.abs(p-_),v=Math.abs(p-B),m=g<=y&&g<=v?f:y<=v?_:B,b[l++]=(u+m)%256;break;default:throw new Error("Invalid filter algorithm: "+e[n-1])}if(!O){var L=((s+w*c)*i.width+o)*t,N=w*x;for(h=0;h<P;h+=1){for(var U=0;U<t;U+=1)r[L++]=b[N++];L+=(a-1)*t}}w++}}return e=Vt(e),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),r},n.prototype.decodePalette=function(){var e,t,r,n,i,o,s,a,c;for(r=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+r.length),n=0,e=0,t=s=0,a=r.length;s<a;t=s+=3)i[n++]=r[t],i[n++]=r[t+1],i[n++]=r[t+2],i[n++]=null!=(c=o[e++])?c:255;return i},n.prototype.copyToImageData=function(e,t){var r,n,i,o,s,a,c,u,l,A,h;if(n=this.colors,l=null,r=this.hasAlphaChannel,this.palette.length&&(l=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),n=4,r=!0),u=(i=e.data||e).length,s=l||t,o=a=0,1===n)for(;o<u;)c=l?4*t[o/4]:a,A=s[c++],i[o++]=A,i[o++]=A,i[o++]=A,i[o++]=r?s[c++]:255,a=c;else for(;o<u;)c=l?4*t[o/4]:a,i[o++]=s[c++],i[o++]=s[c++],i[o++]=s[c++],i[o++]=r?s[c++]:255,a=c},n.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(zt)){try{t=zt.document.createElement("canvas"),r=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var n;if(!0===i())return r.width=e.width,r.height=e.height,r.clearRect(0,0,e.width,e.height),r.putImageData(e,0,0),(n=new Image).src=t.toDataURL(),n;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(t){var r,n,i,o,s,a,c,u;if(this.animation){for(u=[],n=s=0,a=(c=this.animation.frames).length;s<a;n=++s)r=c[n],i=t.createImageData(r.width,r.height),o=this.decodePixels(new Uint8Array(r.data)),this.copyToImageData(i,o),r.imageData=i,u.push(r.image=e(i));return u}},n.prototype.renderFrame=function(e,t){var r,n,i;return r=(n=this.animation.frames)[t],i=n[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===r.blendOp&&e.clearRect(r.xOffset,r.yOffset,r.width,r.height),e.drawImage(r.image,r.xOffset,r.yOffset)},n.prototype.animate=function(e){var t,r,n,i,o,s,a=this;return r=0,s=this.animation,i=s.numFrames,n=s.frames,o=s.numPlays,(t=function(){var s,c;if(s=r++%i,c=n[s],a.renderFrame(e,s),i>1&&r/i<o)return a.animation._timeout=setTimeout(t,c.delay)})()},n.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},n.prototype.render=function(e){var t,r;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(r=t.createImageData(this.width,this.height),this.copyToImageData(r,this.decodePixels()),t.putImageData(r,0,0))},n}();
/**
   * @license
   *
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
/**
   * @license
   * (c) Dean McNamee <dean@gmail.com>, 2013.
   *
   * https://github.com/deanm/omggif
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to
   * deal in the Software without restriction, including without limitation the
   * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
   * sell copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in
   * all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
   * IN THE SOFTWARE.
   *
   * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
   * including animation and compression.  It does not rely on any specific
   * underlying system, so should run in the browser, Node, or Plask.
   */function Mn(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<1+(7&i);e[t++],e[t++];var a=null,c=null;o&&(a=t,c=s,t+=3*s);var u=!0,l=[],A=0,h=null,f=0,d=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,d=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];A=e[t++]|e[t++]<<8,h=e[t++],0==(1&p)&&(h=null),f=p>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++],w=b>>6&1,x=1<<1+(7&b),_=a,B=c,E=!1;b>>7&&(E=!0,_=t,B=x,t+=3*x);var S=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(0===C)break;t+=C}l.push({x:g,y:m,width:y,height:v,has_local_palette:E,palette_offset:_,palette_size:B,data_offset:S,data_length:t-S,transparent_index:h,interlaced:!!w,delay:A,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return d},this.frameInfo=function(e){if(e<0||e>=l.length)throw new Error("Frame index out of range.");return l[e]},this.decodeAndBlitFrameBGRA=function(t,n){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);Rn(e,i.data_offset,s,o);var a=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var u=i.width,l=r-u,A=u,h=4*(i.y*r+i.x),f=4*((i.y+i.height)*r+i.x),d=h,p=4*l;!0===i.interlaced&&(p+=4*r*7);for(var g=8,m=0,y=s.length;m<y;++m){var v=s[m];if(0===A&&(A=u,(d+=p)>=f&&(p=4*l+4*r*(g-1),d=h+(u+l)*(g<<1),g>>=1)),v===c)d+=4;else{var b=e[a+3*v],w=e[a+3*v+1],x=e[a+3*v+2];n[d++]=x,n[d++]=w,n[d++]=b,n[d++]=255}--A}},this.decodeAndBlitFrameRGBA=function(t,n){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);Rn(e,i.data_offset,s,o);var a=i.palette_offset,c=i.transparent_index;null===c&&(c=256);var u=i.width,l=r-u,A=u,h=4*(i.y*r+i.x),f=4*((i.y+i.height)*r+i.x),d=h,p=4*l;!0===i.interlaced&&(p+=4*r*7);for(var g=8,m=0,y=s.length;m<y;++m){var v=s[m];if(0===A&&(A=u,(d+=p)>=f&&(p=4*l+4*r*(g-1),d=h+(u+l)*(g<<1),g>>=1)),v===c)d+=4;else{var b=e[a+3*v],w=e[a+3*v+1],x=e[a+3*v+2];n[d++]=b,n[d++]=w,n[d++]=x,n[d++]=255}--A}}}function Rn(e,t,r,n){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,c=i+1,u=(1<<c)-1,l=0,A=0,h=0,f=e[t++],d=new Int32Array(4096),p=null;;){for(;l<16&&0!==f;)A|=e[t++]<<l,l+=8,1===f?f=e[t++]:--f;if(l<c)break;var g=A&u;if(A>>=c,l-=c,g!==o){if(g===s)break;for(var m=g<a?g:p,y=0,v=m;v>o;)v=d[v]>>8,++y;var b=v;if(h+y+(m!==g?1:0)>n)return void Gt.log("Warning, gif stream longer than expected.");r[h++]=b;var w=h+=y;for(m!==g&&(r[h++]=b),v=m;y--;)v=d[v],r[--w]=255&v,v>>=8;null!==p&&a<4096&&(d[a++]=p<<8|b,a>=u+1&&c<12&&(++c,u=u<<1|1)),p=g}else a=s+1,u=(1<<(c=i+1))-1,p=null}return h!==n&&Gt.log("Warning, gif stream shorter than expected."),r}
/**
   * @license
    Copyright (c) 2008, Adobe Systems Incorporated
    All rights reserved.

    Redistribution and use in source and binary forms, with or without 
    modification, are permitted provided that the following conditions are
    met:

    * Redistributions of source code must retain the above copyright notice, 
      this list of conditions and the following disclaimer.
    
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the distribution.
    
    * Neither the name of Adobe Systems Incorporated nor the names of its 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
    IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
    THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
    PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
    CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
    EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
    PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
    SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */function Dn(e){var t,r,n,i,o,s=Math.floor,a=new Array(64),c=new Array(64),u=new Array(64),l=new Array(64),A=new Array(65535),h=new Array(65535),f=new Array(64),d=new Array(64),p=[],g=0,m=7,y=new Array(64),v=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e,t){for(var r=0,n=0,i=new Array,o=1;o<=16;o++){for(var s=1;s<=e[o];s++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=o,n++,r++;r*=2}return i}function L(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(g|=1<<m),r--,--m<0&&(255==g?(N(255),N(0)):N(g),m=7,g=0)}function N(e){p.push(e)}function U(e){N(e>>8&255),N(255&e)}function F(e,t,r,n,i){for(var o,s=i[0],a=i[240],c=function(e,t){var r,n,i,o,s,a,c,u,l,A,h=0;for(l=0;l<8;++l){r=e[h],n=e[h+1],i=e[h+2],o=e[h+3],s=e[h+4],a=e[h+5],c=e[h+6];var d=r+(u=e[h+7]),p=r-u,g=n+c,m=n-c,y=i+a,v=i-a,b=o+s,w=o-s,x=d+b,_=d-b,B=g+y,E=g-y;e[h]=x+B,e[h+4]=x-B;var S=.707106781*(E+_);e[h+2]=_+S,e[h+6]=_-S;var C=.382683433*((x=w+v)-(E=m+p)),I=.5411961*x+C,k=1.306562965*E+C,P=.707106781*(B=v+m),T=p+P,O=p-P;e[h+5]=O+I,e[h+3]=O-I,e[h+1]=T+k,e[h+7]=T-k,h+=8}for(h=0,l=0;l<8;++l){r=e[h],n=e[h+8],i=e[h+16],o=e[h+24],s=e[h+32],a=e[h+40],c=e[h+48];var L=r+(u=e[h+56]),N=r-u,U=n+c,F=n-c,M=i+a,R=i-a,D=o+s,j=o-s,Q=L+D,H=L-D,K=U+M,V=U-M;e[h]=Q+K,e[h+32]=Q-K;var z=.707106781*(V+H);e[h+16]=H+z,e[h+48]=H-z;var q=.382683433*((Q=j+R)-(V=F+N)),G=.5411961*Q+q,W=1.306562965*V+q,$=.707106781*(K=R+F),J=N+$,X=N-$;e[h+40]=X+G,e[h+24]=X-G,e[h+8]=J+W,e[h+56]=J-W,h++}for(l=0;l<64;++l)A=e[l]*t[l],f[l]=A>0?A+.5|0:A-.5|0;return f}(e,t),u=0;u<64;++u)d[_[u]]=c[u];var l=d[0]-r;r=d[0],0==l?L(n[0]):(L(n[h[o=32767+l]]),L(A[o]));for(var p=63;p>0&&0==d[p];)p--;if(0==p)return L(s),r;for(var g,m=1;m<=p;){for(var y=m;0==d[m]&&m<=p;)++m;var v=m-y;if(v>=16){g=v>>4;for(var b=1;b<=g;++b)L(a);v&=15}o=32767+d[m],L(i[(v<<4)+h[o]]),L(A[o]),m++}return 63!=p&&L(s),r}function M(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=s((t[r]*e+50)/100);n=Math.min(Math.max(n,1),255),a[_[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var A=s((i[o]*e+50)/100);A=Math.min(Math.max(A,1),255),c[_[o]]=A}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,d=0;d<8;d++)for(var p=0;p<8;p++)u[f]=1/(a[_[f]]*h[d]*h[p]*8),l[f]=1/(c[_[f]]*h[d]*h[p]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&M(o),p=new Array,g=0,m=7,U(65496),U(65504),U(16),N(74),N(70),N(73),N(70),N(0),N(1),N(1),N(0),U(1),U(1),N(0),N(0),function(){U(65499),U(132),N(0);for(var e=0;e<64;e++)N(a[e]);N(1);for(var t=0;t<64;t++)N(c[t])}(),function(e,t){U(65472),U(17),N(8),U(t),U(e),N(3),N(1),N(17),N(0),N(2),N(17),N(1),N(3),N(17),N(1)}(e.width,e.height),function(){U(65476),U(418),N(0);for(var e=0;e<16;e++)N(B[e+1]);for(var t=0;t<=11;t++)N(E[t]);N(16);for(var r=0;r<16;r++)N(S[r+1]);for(var n=0;n<=161;n++)N(C[n]);N(1);for(var i=0;i<16;i++)N(I[i+1]);for(var o=0;o<=11;o++)N(k[o]);N(17);for(var s=0;s<16;s++)N(P[s+1]);for(var a=0;a<=161;a++)N(T[a])}(),U(65498),U(12),N(3),N(1),N(0),N(2),N(17),N(3),N(17),N(0),N(63),N(0);var s=0,A=0,h=0;g=0,m=7,this.encode.displayName="_encode_";for(var f,d,w,_,O,R,D,j,Q,H=e.data,K=e.width,V=e.height,z=4*K,q=0;q<V;){for(f=0;f<z;){for(O=z*q+f,D=-1,j=0,Q=0;Q<64;Q++)R=O+(j=Q>>3)*z+(D=4*(7&Q)),q+j>=V&&(R-=z*(q+1+j-V)),f+D>=z&&(R-=f+D-z+4),d=H[R++],w=H[R++],_=H[R++],y[Q]=(x[d]+x[w+256>>0]+x[_+512>>0]>>16)-128,v[Q]=(x[d+768>>0]+x[w+1024>>0]+x[_+1280>>0]>>16)-128,b[Q]=(x[d+1280>>0]+x[w+1536>>0]+x[_+1792>>0]>>16)-128;s=F(y,u,s,t,n),A=F(v,l,A,r,i),h=F(b,l,h,r,i),f+=32}q+=8}if(m>=0){var G=[];G[1]=m+1,G[0]=(1<<m+1)-1,L(G)}return U(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=O(B,E),r=O(I,k),n=O(S,C),i=O(P,T),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)h[32767+n]=r,A[32767+n]=[],A[32767+n][1]=r,A[32767+n][0]=n;for(var i=-(t-1);i<=-e;i++)h[32767+i]=r,A[32767+i]=[],A[32767+i][1]=r,A[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256>>0]=38470*e,x[e+512>>0]=7471*e+32768,x[e+768>>0]=-11059*e,x[e+1024>>0]=-21709*e,x[e+1280>>0]=32768*e+8421375,x[e+1536>>0]=-27439*e,x[e+1792>>0]=-5329*e}(),M(e)}
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */function jn(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Qn(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function n(e,t,r,n,i){for(var o=0;o<i;o++)e[t+o]=r[n+o]}function i(e,t,r,n){for(var i=0;i<n;i++)e[t+i]=r}function o(e){return new Int32Array(e)}function s(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function a(e,t){var r=[];return function e(r,n,i){for(var o=i[n],s=0;s<o&&(r.push(i.length>n+1?[]:new t),!(i.length<n+1));s++)e(r[s],n+1,i)}(r,0,e),r}var c=function(){var e=this;function c(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function u(e,r,n,i,o){t(!(i%n));do{e[r+(i-=n)]=o}while(0<i)}function l(e,r,n,i,s){if(t(2328>=s),512>=s)var a=o(512);else if(null==(a=o(s)))return 0;return function(e,r,n,i,s,a){var l,h,f=r,d=1<<n,p=o(16),g=o(16);for(t(0!=s),t(null!=i),t(null!=e),t(0<n),h=0;h<s;++h){if(15<i[h])return 0;++p[i[h]]}if(p[0]==s)return 0;for(g[1]=0,l=1;15>l;++l){if(p[l]>1<<l)return 0;g[l+1]=g[l]+p[l]}for(h=0;h<s;++h)l=i[h],0<i[h]&&(a[g[l]++]=h);if(1==g[15])return(i=new A).g=0,i.value=a[0],u(e,f,1,d,i),d;var m,y=-1,v=d-1,b=0,w=1,x=1,_=1<<n;for(h=0,l=1,s=2;l<=n;++l,s<<=1){if(w+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l])(i=new A).g=l,i.value=a[h++],u(e,f+b,s,_,i),b=c(b,l)}for(l=n+1,s=2;15>=l;++l,s<<=1){if(w+=x<<=1,0>(x-=p[l]))return 0;for(;0<p[l];--p[l]){if(i=new A,(b&v)!=y){for(f+=_,m=1<<(y=l)-n;15>y&&!(0>=(m-=p[y]));)++y,m<<=1;d+=_=1<<(m=y-n),e[r+(y=b&v)].g=m+n,e[r+y].value=f-r-y}i.g=l-n,i.value=a[h++],u(e,f+(b>>n),s,_,i),b=c(b,l)}}return w!=2*g[15]-1?0:d}(e,r,n,i,s,a)}function A(){this.value=this.g=0}function h(){this.value=this.g=0}function f(){this.G=s(5,A),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Rr,h)}function d(e,r,n,i){t(null!=e),t(null!=r),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=n,e.Jd=r,e.Yc=n+i,e.Zc=4<=i?n+i-4+1:n,S(e)}function p(e,t){for(var r=0;0<t--;)r|=I(e,128)<<t;return r}function g(e,t){var r=p(e,t);return C(e)?-r:r}function m(e,r,n,i){var o,s=0;for(t(null!=e),t(null!=r),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)s+=r[n+o]<<8*o;e.Ra=s,e.bb=i,e.oa=r,e.pa=n}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Qr-8>>>0,++e.bb,e.u-=8;_(e)&&(e.h=1,e.u=0)}function v(e,r){if(t(0<=r),!e.h&&r<=jr){var n=x(e)&Dr[r];return e.u+=r,y(e),n}return e.h=1,e.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Qr-1)>>>0}function _(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Qr}function B(e,t){e.u=t,e.h=_(e)}function E(e){e.u>=Hr&&(t(e.u>=Hr),y(e))}function S(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function C(e){return p(e,1)}function I(e,t){var r=e.Ca;0>e.b&&S(e);var n=e.b,i=r*t>>>8,o=(e.I>>>n>i)+0;for(o?(r-=i,e.I-=i+1<<n>>>0):r=i+1,n=r,i=0;256<=n;)i+=8,n>>=8;return n=7^i+Kr[n],e.b-=n,e.Ca=(r<<n)-1,o}function k(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r>>0&255}function P(e,t){return e[t+0]<<0|e[t+1]<<8}function T(e,t){return P(e,t)|e[t+2]<<16}function O(e,t){return P(e,t)|P(e,t+2)<<16}function L(e,r){var n=1<<r;return t(null!=e),t(0<r),e.X=o(n),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function N(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),n(r.X,0,e.X,0,1<<r.Xa)}function U(){this.X=[],this.Xa=this.Mb=0}function F(e,r,n,i){t(null!=n),t(null!=i);var o=n[0],s=i[0];return 0==o&&(o=(e*s+r/2)/r),0==s&&(s=(r*o+e/2)/e),0>=o||0>=s?0:(n[0]=o,i[0]=s,1)}function M(e,t){return e+(1<<t)-1>>>t}function R(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function D(t,r){e[r]=function(r,n,i,o,s,a,c){var u;for(u=0;u<s;++u){var l=e[t](a[c+u-1],i,o+u);a[c+u]=R(r[n+u],l)}}}function j(){this.ud=this.hd=this.jd=0}function Q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function K(e,t){return H(e+(e-t+.5>>1))}function V(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function z(e,t,r,n,i,o,s){for(n=o[s-1],r=0;r<i;++r)o[s+r]=n=R(e[t+r],n)}function q(e,t,r,n,i){var o;for(o=0;o<r;++o){var s=e[t+o],a=s>>8&255,c=16711935&(c=(c=16711935&s)+((a<<16)+a));n[i+o]=(4278255360&s)+c>>>0}}function G(e,t){t.jd=e>>0&255,t.hd=e>>8&255,t.ud=e>>16&255}function W(e,t,r,n,i,o){var s;for(s=0;s<n;++s){var a=t[r+s],c=a>>>8,u=a,l=255&(l=(l=a>>>16)+((e.jd<<24>>24)*(c<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(c<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[o+s]=(4278255360&a)+(l<<16)+u}}function $(t,r,n,i,o){e[r]=function(e,t,r,n,s,a,c,u,l){for(n=c;n<u;++n)for(c=0;c<l;++c)s[a++]=o(r[i(e[t++])])},e[t]=function(t,r,s,a,c,u,l){var A=8>>t.b,h=t.Ea,f=t.K[0],d=t.w;if(8>A)for(t=(1<<t.b)-1,d=(1<<A)-1;r<s;++r){var p,g=0;for(p=0;p<h;++p)p&t||(g=i(a[c++])),u[l++]=o(f[g&d]),g>>=A}else e["VP8LMapColor"+n](a,c,f,d,u,l,r,s,h)}}function J(e,t,r,n,i){for(r=t+r;t<r;){var o=e[t++];n[i++]=o>>16&255,n[i++]=o>>8&255,n[i++]=o>>0&255}}function X(e,t,r,n,i){for(r=t+r;t<r;){var o=e[t++];n[i++]=o>>16&255,n[i++]=o>>8&255,n[i++]=o>>0&255,n[i++]=o>>24&255}}function Y(e,t,r,n,i){for(r=t+r;t<r;){var o=(s=e[t++])>>16&240|s>>12&15,s=s>>0&240|s>>28&15;n[i++]=o,n[i++]=s}}function Z(e,t,r,n,i){for(r=t+r;t<r;){var o=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;n[i++]=o,n[i++]=s}}function ee(e,t,r,n,i){for(r=t+r;t<r;){var o=e[t++];n[i++]=o>>0&255,n[i++]=o>>8&255,n[i++]=o>>16&255}}function te(e,t,r,i,o,s){if(0==s)for(r=t+r;t<r;)k(i,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),o+=32;else n(i,o,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ne(e){return e==Kn||e==Vn||e==zn||e==qn}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ce(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ue(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function le(e,t){var r=e.T,i=t.ba.f.RGBA,o=i.eb,s=i.fb+e.ka*i.A,a=mi[t.ba.S],c=e.y,u=e.O,l=e.f,A=e.N,h=e.ea,f=e.W,d=t.cc,p=t.dc,g=t.Mc,m=t.Nc,y=e.ka,v=e.ka+e.T,b=e.U,w=b+1>>1;for(0==y?a(c,u,null,null,l,A,h,f,l,A,h,f,o,s,null,null,b):(a(t.ec,t.fc,c,u,d,p,g,m,l,A,h,f,o,s-i.A,o,s,b),++r);y+2<v;y+=2)d=l,p=A,g=h,m=f,A+=e.Rc,f+=e.Rc,s+=2*i.A,a(c,(u+=2*e.fa)-e.fa,c,u,d,p,g,m,l,A,h,f,o,s-i.A,o,s,b);return u+=e.fa,e.j+v<e.o?(n(t.ec,t.fc,c,u,b),n(t.cc,t.dc,l,A,w),n(t.Mc,t.Nc,h,f,w),r--):1&v||a(c,u,null,null,l,A,h,f,l,A,h,f,o,s+i.A,null,null,b),r}function Ae(e,r,n){var i=e.F,o=[e.J];if(null!=i){var s=e.U,a=r.ba.S,c=a==jn||a==zn;r=r.ba.f.RGBA;var u=[0],l=e.ka;u[0]=e.T,e.Kb&&(0==l?--u[0]:(--l,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-l));var A=r.eb;l=r.fb+l*r.A,e=En(i,o[0],e.width,s,u,A,l+(c?0:3),r.A),t(n==u),e&&ne(a)&&_n(A,l,c,s,u,r.A)}return 0}function he(e){var t=e.ma,r=t.ba.S,n=11>r,i=r==Mn||r==Dn||r==jn||r==Qn||12==r||ne(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Ur(t.Oa,e,i?11:12))return 0;if(i&&ne(r)&&yr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=ue,e.Kb){if(r=e.U+1>>1,t.memory=o(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=le,yr()}}else alert("todo:EmitYUV");i&&(t.Jb=Ae,n&&gr())}if(n&&!Ti){for(e=0;256>e;++e)Oi[e]=89858*(e-128)+Si>>Ei,Ui[e]=-22014*(e-128)+Si,Ni[e]=-45773*(e-128),Li[e]=113618*(e-128)+Si>>Ei;for(e=Ci;e<Ii;++e)t=76283*(e-16)+Si>>Ei,Fi[e-Ci]=ze(t,255),Mi[e-Ci]=ze(t+8>>4,15);Ti=1}return 1}function fe(e){var r=e.ma,n=e.U,i=e.T;return t(!(1&e.ka)),0>=n||0>=i?0:(n=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,n),r.Dc+=n,1)}function de(e){e.ma.memory=null}function pe(e,t,r,n){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,r[0]=v(e,14)+1,n[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+v(t,r)+1}function me(e,t){return 120<t?t-120:1<=(r=((r=Yn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function ye(e,t,r){var n=x(r),i=e[t+=255&n].g-8;return 0<i&&(B(r,r.u+8),n=x(r),t+=e[t].value,t+=n&(1<<i)-1),B(r,r.u+e[t].g),e[t].value}function ve(e,r,n){return n.g+=e.g,n.value+=e.value<<r>>>0,t(8>=n.g),e.g}function be(e,r,n){var i=e.xc;return t((r=0==i?0:e.vc[e.md*(n>>i)+(r>>i)])<e.Wb),e.Ya[r]}function we(e,r,i,o){var s=e.ab,a=e.c*r,c=e.C;r=c+r;var u=i,l=o;for(o=e.Ta,i=e.Ua;0<s--;){var A=e.gc[s],h=c,f=r,d=u,p=l,g=(l=o,u=i,A.Ea);switch(t(h<f),t(f<=A.nc),A.hc){case 2:qr(d,p,(f-h)*g,l,u);break;case 0:var m=h,y=f,v=l,b=u,w=(S=A).Ea;0==m&&(Vr(d,p,null,null,1,v,b),z(d,p+1,0,0,w-1,v,b+1),p+=w,b+=w,++m);for(var x=1<<S.b,_=x-1,B=M(w,S.b),E=S.K,S=S.w+(m>>S.b)*B;m<y;){var C=E,I=S,k=1;for(zr(d,p,v,b-w,1,v,b);k<w;){var P=(k&~_)+x;P>w&&(P=w),(0,Xr[C[I++]>>8&15])(d,p+ +k,v,b+k-w,P-k,v,b+k),k=P}p+=w,b+=w,++m&_||(S+=B)}f!=A.nc&&n(l,u-g,l,u+(f-h-1)*g,g);break;case 1:for(g=d,y=p,w=(d=A.Ea)-(b=d&~(v=(p=1<<A.b)-1)),m=M(d,A.b),x=A.K,A=A.w+(h>>A.b)*m;h<f;){for(_=x,B=A,E=new j,S=y+b,C=y+d;y<S;)G(_[B++],E),Yr(E,g,y,p,l,u),y+=p,u+=p;y<C&&(G(_[B++],E),Yr(E,g,y,w,l,u),y+=w,u+=w),++h&v||(A+=m)}break;case 3:if(d==l&&p==u&&0<A.b){for(y=l,d=g=u+(f-h)*g-(b=(f-h)*M(A.Ea,A.b)),p=l,v=u,m=[],b=(w=b)-1;0<=b;--b)m[b]=p[v+b];for(b=w-1;0<=b;--b)y[d+b]=m[b];Gr(A,h,f,l,g,l,u)}else Gr(A,h,f,d,p,l,u)}u=o,l=i}l!=i&&n(o,i,u,l,a)}function xe(e,r){var n=e.V,i=e.Ba+e.c*e.C,o=r-e.C;if(t(r<=e.l.o),t(16>=o),0<o){var s=e.l,a=e.Ta,c=e.Ua,u=s.width;if(we(e,o,n,i),o=c=[c],t((n=e.C)<(i=r)),t(s.v<s.va),i>s.o&&(i=s.o),n<s.j){var l=s.j-n;n=s.j,o[0]+=l*u}if(n>=i?n=0:(o[0]+=4*s.v,s.ka=n-s.j,s.U=s.va-s.v,s.T=i-n,n=1),n){if(c=c[0],11>(n=e.ca).S){var A=n.f.RGBA,h=(i=n.S,o=s.U,s=s.T,l=A.eb,A.A),f=s;for(A=A.fb+e.Ma*A.A;0<f--;){var d=a,p=c,g=o,m=l,y=A;switch(i){case Fn:Zr(d,p,g,m,y);break;case Mn:en(d,p,g,m,y);break;case Kn:en(d,p,g,m,y),_n(m,y,0,g,1,0);break;case Rn:nn(d,p,g,m,y);break;case Dn:te(d,p,g,m,y,1);break;case Vn:te(d,p,g,m,y,1),_n(m,y,0,g,1,0);break;case jn:te(d,p,g,m,y,0);break;case zn:te(d,p,g,m,y,0),_n(m,y,1,g,1,0);break;case Qn:tn(d,p,g,m,y);break;case qn:tn(d,p,g,m,y),Bn(m,y,g,1,0);break;case Hn:rn(d,p,g,m,y);break;default:t(0)}c+=u,A+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=n.height)}}e.C=r,t(e.C<=e.i)}function _e(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function Be(e,r,n,i,o,s){if(0!=e.Z){var a=e.qd,c=e.rd;for(t(null!=gi[e.Z]);r<n;++r)gi[e.Z](a,c,i,o,i,o,s),a=i,c=o,o+=s;e.qd=a,e.rd=c}}function Ee(e,r){var n=e.l.ma,i=0==n.Z||1==n.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(r<=e.l.o),r>i){var o=e.l.width,s=n.ca,a=n.tb+o*i,c=e.V,u=e.Ba+e.c*i,l=e.gc;t(1==e.ab),t(3==l[0].hc),$r(l[0],i,r,c,u,s,a),Be(n,i,r,s,a,o)}e.C=e.Ma=r}function Se(e,r,n,i,o,s,a){var c=e.$/i,u=e.$%i,l=e.m,A=e.s,h=n+e.$,f=h;o=n+i*o;var d=n+i*s,p=280+A.ua,g=e.Pb?c:16777216,m=0<A.ua?A.Wa:null,y=A.wc,v=h<d?be(A,u,c):null;t(e.C<s),t(d<=o);var b=!1;e:for(;;){for(;b||h<d;){var w=0;if(c>=g){var S=h-n;t((g=e).Pb),g.wd=g.m,g.xd=S,0<g.s.ua&&N(g.s.Wa,g.s.vb),g=c+ei}if(u&y||(v=be(A,u,c)),t(null!=v),v.Qb&&(r[h]=v.qb,b=!0),!b)if(E(l),v.jc){w=l,S=r;var C=h,I=v.pd[x(w)&Rr-1];t(v.jc),256>I.g?(B(w,w.u+I.g),S[C]=I.value,w=0):(B(w,w.u+I.g-256),t(256<=I.value),w=I.value),0==w&&(b=!0)}else w=ye(v.G[0],v.H[0],l);if(l.h)break;if(b||256>w){if(!b)if(v.nd)r[h]=(v.qb|w<<8)>>>0;else{if(E(l),b=ye(v.G[1],v.H[1],l),E(l),S=ye(v.G[2],v.H[2],l),C=ye(v.G[3],v.H[3],l),l.h)break;r[h]=(C<<24|b<<16|w<<8|S)>>>0}if(b=!1,++h,++u>=i&&(u=0,++c,null!=a&&c<=s&&!(c%16)&&a(e,c),null!=m))for(;f<h;)w=r[f++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else if(280>w){if(w=ge(w-256,l),S=ye(v.G[4],v.H[4],l),E(l),S=me(i,S=ge(S,l)),l.h)break;if(h-n<S||o-h<w)break e;for(C=0;C<w;++C)r[h+C]=r[h+C-S];for(h+=w,u+=w;u>=i;)u-=i,++c,null!=a&&c<=s&&!(c%16)&&a(e,c);if(t(h<=o),u&y&&(v=be(A,u,c)),null!=m)for(;f<h;)w=r[f++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else{if(!(w<p))break e;for(b=w-280,t(null!=m);f<h;)w=r[f++],m.X[(506832829*w&4294967295)>>>m.Mb]=w;w=h,t(!(b>>>(S=m).Xa)),r[w]=S.X[b],b=!0}b||t(l.h==_(l))}if(e.Pb&&l.h&&h<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&N(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=a&&a(e,c>s?s:c),e.a=0,e.$=h-n}return 1}return e.a=3,0}function Ce(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Ie(){var t=new sr;return null==t?null:(t.a=0,t.xb=pi,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),qr=q,Yr=W,Zr=J,en=X,tn=Y,rn=Z,nn=ee,e.VP8LMapColor32b=Wr,e.VP8LMapColor8b=Jr,t)}function ke(e,r,n,a,c){var u=1,h=[e],d=[r],p=a.m,g=a.s,m=null,y=0;e:for(;;){if(n)for(;u&&v(p,1);){var b=h,w=d,_=a,S=1,C=_.m,I=_.gc[_.ab],k=v(C,2);if(_.Oc&1<<k)u=0;else{switch(_.Oc|=1<<k,I.hc=k,I.Ea=b[0],I.nc=w[0],I.K=[null],++_.ab,t(4>=_.ab),k){case 0:case 1:I.b=v(C,3)+2,S=ke(M(I.Ea,I.b),M(I.nc,I.b),0,_,I.K),I.K=I.K[0];break;case 3:var P,T=v(C,8)+1,O=16<T?0:4<T?1:2<T?2:3;if(b[0]=M(I.Ea,O),I.b=O,P=S=ke(T,1,0,_,I.K)){var N,U=T,F=I,D=1<<(8>>F.b),j=o(D);if(null==j)P=0;else{var Q=F.K[0],H=F.w;for(j[0]=F.K[0][0],N=1;N<1*U;++N)j[N]=R(Q[H+N],j[N-1]);for(;N<4*D;++N)j[N]=0;F.K[0]=null,F.K[0]=j,P=1}}S=P;break;case 2:break;default:t(0)}u=S}}if(h=h[0],d=d[0],u&&v(p,1)&&!(u=1<=(y=v(p,4))&&11>=y)){a.a=3;break e}var K;if(K=u)t:{var V,z,q,G=a,W=h,$=d,J=y,X=n,Y=G.m,Z=G.s,ee=[null],te=1,re=0,ne=Zn[J];r:for(;;){if(X&&v(Y,1)){var ie=v(Y,3)+2,oe=M(W,ie),se=M($,ie),ae=oe*se;if(!ke(oe,se,0,G,ee))break r;for(ee=ee[0],Z.xc=ie,V=0;V<ae;++V){var ce=ee[V]>>8&65535;ee[V]=ce,ce>=te&&(te=ce+1)}}if(Y.h)break r;for(z=0;5>z;++z){var ue=$n[z];!z&&0<J&&(ue+=1<<J),re<ue&&(re=ue)}var le=s(te*ne,A),Ae=te,he=s(Ae,f);if(null==he)var fe=null;else t(65536>=Ae),fe=he;var de=o(re);if(null==fe||null==de||null==le){G.a=1;break r}var pe=le;for(V=q=0;V<te;++V){var ge=fe[V],me=ge.G,ye=ge.H,be=0,we=1,xe=0;for(z=0;5>z;++z){ue=$n[z],me[z]=pe,ye[z]=q,!z&&0<J&&(ue+=1<<J);n:{var _e,Be=ue,Ee=G,Ie=de,Pe=pe,Te=q,Oe=0,Le=Ee.m,Ne=v(Le,1);if(i(Ie,0,0,Be),Ne){var Ue=v(Le,1)+1,Fe=v(Le,1),Me=v(Le,0==Fe?1:8);Ie[Me]=1,2==Ue&&(Ie[Me=v(Le,8)]=1);var Re=1}else{var De=o(19),je=v(Le,4)+4;if(19<je){Ee.a=3;var Qe=0;break n}for(_e=0;_e<je;++_e)De[Xn[_e]]=v(Le,3);var He=void 0,Ke=void 0,Ve=Ee,ze=De,qe=Be,Ge=Ie,We=0,$e=Ve.m,Je=8,Xe=s(128,A);i:for(;l(Xe,0,7,ze,19);){if(v($e,1)){var Ye=2+2*v($e,3);if((He=2+v($e,Ye))>qe)break i}else He=qe;for(Ke=0;Ke<qe&&He--;){E($e);var Ze=Xe[0+(127&x($e))];B($e,$e.u+Ze.g);var et=Ze.value;if(16>et)Ge[Ke++]=et,0!=et&&(Je=et);else{var tt=16==et,rt=et-16,nt=Wn[rt],it=v($e,Gn[rt])+nt;if(Ke+it>qe)break i;for(var ot=tt?Je:0;0<it--;)Ge[Ke++]=ot}}We=1;break i}We||(Ve.a=3),Re=We}(Re=Re&&!Le.h)&&(Oe=l(Pe,Te,8,Ie,Be)),Re&&0!=Oe?Qe=Oe:(Ee.a=3,Qe=0)}if(0==Qe)break r;if(we&&1==Jn[z]&&(we=0==pe[q].g),be+=pe[q].g,q+=Qe,3>=z){var st,at=de[0];for(st=1;st<ue;++st)de[st]>at&&(at=de[st]);xe+=at}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(me[3][ye[3]+0].value<<24|me[1][ye[1]+0].value<<16|me[2][ye[2]+0].value)>>>0,0==be&&256>me[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=me[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>xe,ge.jc){var ct,ut=ge;for(ct=0;ct<Rr;++ct){var lt=ct,At=ut.pd[lt],ht=ut.G[0][ut.H[0]+lt];256<=ht.value?(At.g=ht.g+256,At.value=ht.value):(At.g=0,At.value=0,lt>>=ve(ht,8,At),lt>>=ve(ut.G[1][ut.H[1]+lt],16,At),lt>>=ve(ut.G[2][ut.H[2]+lt],0,At),ve(ut.G[3][ut.H[3]+lt],24,At))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=le,K=1;break t}K=0}if(!(u=K)){a.a=3;break e}if(0<y){if(g.ua=1<<y,!L(g.Wa,y)){a.a=1,u=0;break e}}else g.ua=0;var ft=a,dt=h,pt=d,gt=ft.s,mt=gt.xc;if(ft.c=dt,ft.i=pt,gt.md=M(dt,mt),gt.wc=0==mt?-1:(1<<mt)-1,n){a.xb=di;break e}if(null==(m=o(h*d))){a.a=1,u=0;break e}u=(u=Se(a,m,0,h,d,d,null))&&!p.h;break e}return u?(null!=c?c[0]=m:(t(null==m),t(n)),a.$=0,n||Ce(g)):Ce(g),u}function Pe(e,r){var n=e.c*e.i,i=n+r+16*r;return t(e.c<=r),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+r,1)}function Te(e,r){var n=e.C,i=r-n,o=e.V,s=e.Ba+e.c*n;for(t(r<=e.l.o);0<i;){var a=16<i?16:i,c=e.l.ma,u=e.l.width,l=u*a,A=c.ca,h=c.tb+u*n,f=e.Ta,d=e.Ua;we(e,a,o,s),Sn(f,d,A,h,l),Be(c,n,n+a,A,h,u),i-=a,o+=a*e.c,n+=a}t(n==r),e.C=e.Ma=r}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function Le(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ne(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ue(){this.Yb=function(){var e=[];return function e(t,r,n){for(var i=n[r],o=0;o<i&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));o++)e(t[o],r+1,n)}(e,0,[3,11]),e}()}function Fe(){this.jb=o(3),this.Wc=a([4,8],Ue),this.Xc=a([4,17],Ue)}function Me(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Re(){this.ld=this.La=this.dd=this.tc=0}function De(){this.Na=this.la=0}function je(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qe(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Re),this.Y=0,this.ya=Array(new Qe),this.aa=0,this.l=new qe}function Ke(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ve(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new Oe,this.Kc=new Le,this.ed=new Me,this.Qa=new Ne,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,b),this.ia=0,this.pb=s(4,je),this.Pa=new Fe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ke),this.Hd=0,this.rb=Array(new De),this.sb=0,this.wa=Array(new Re),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qe),this.L=this.aa=0,this.gd=a([4,2],Re),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ze(e,t){return 0>e?0:e>t?t:e}function qe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ve;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ni||(ni=Xe)),e}function We(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function $e(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return We(e,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,o=r.w,s=r.ha;if(4>s)return We(e,7,"Truncated header.");var a=n[o+0]|n[o+1]<<8|n[o+2]<<16,c=e.Od;if(c.Rb=!(1&a),c.td=a>>1&7,c.yd=a>>4&1,c.ub=a>>5,3<c.td)return We(e,3,"Incorrect keyframe parameters.");if(!c.yd)return We(e,4,"Frame not displayable.");o+=3,s-=3;var u=e.Kc;if(c.Rb){if(7>s)return We(e,7,"cannot parse picture header");if(!$e(n,o,s))return We(e,3,"Bad code word");u.c=16383&(n[o+4]<<8|n[o+3]),u.Td=n[o+4]>>6,u.i=16383&(n[o+6]<<8|n[o+5]),u.Ud=n[o+6]>>6,o+=7,s-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,r.width=u.c,r.height=u.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,i((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,i(a.Zb,0,0,a.Zb.length),i(a.Lb,0,0,a.Lb)}if(c.ub>s)return We(e,7,"bad partition length");d(a=e.m,n,o,c.ub),o+=c.ub,s-=c.ub,c.Rb&&(u.Ld=C(a),u.Kd=C(a)),u=e.Qa;var l,A=e.Pa;if(t(null!=a),t(null!=u),u.Cb=C(a),u.Cb){if(u.Bb=C(a),C(a)){for(u.Fb=C(a),l=0;4>l;++l)u.Zb[l]=C(a)?g(a,7):0;for(l=0;4>l;++l)u.Lb[l]=C(a)?g(a,6):0}if(u.Bb)for(l=0;3>l;++l)A.jb[l]=C(a)?p(a,8):255}else u.Bb=0;if(a.Ka)return We(e,3,"cannot parse segment header");if((u=e.ed).zd=C(a),u.Tb=p(a,6),u.wb=p(a,3),u.Pc=C(a),u.Pc&&C(a)){for(A=0;4>A;++A)C(a)&&(u.vd[A]=g(a,6));for(A=0;4>A;++A)C(a)&&(u.od[A]=g(a,6))}if(e.L=0==u.Tb?0:u.zd?1:2,a.Ka)return We(e,3,"cannot parse filter header");var h=s;if(s=l=o,o=l+h,u=h,e.Xb=(1<<p(e.m,2))-1,h<3*(A=e.Xb))n=7;else{for(l+=3*A,u-=3*A,h=0;h<A;++h){var f=n[s+0]|n[s+1]<<8|n[s+2]<<16;f>u&&(f=u),d(e.Jc[+h],n,l,f),l+=f,u-=f,s+=3}d(e.Jc[+A],n,l,u),n=l<o?0:5}if(0!=n)return We(e,n,"cannot parse partitions");for(n=p(l=e.m,7),s=C(l)?g(l,4):0,o=C(l)?g(l,4):0,u=C(l)?g(l,4):0,A=C(l)?g(l,4):0,l=C(l)?g(l,4):0,h=e.Qa,f=0;4>f;++f){if(h.Cb){var m=h.Zb[f];h.Fb||(m+=n)}else{if(0<f){e.pb[f]=e.pb[0];continue}m=n}var y=e.pb[f];y.Sc[0]=ti[ze(m+s,127)],y.Sc[1]=ri[ze(m+0,127)],y.Eb[0]=2*ti[ze(m+o,127)],y.Eb[1]=101581*ri[ze(m+u,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[ze(m+A,117)],y.Qc[1]=ri[ze(m+l,127)],y.lc=m+l}if(!c.Rb)return We(e,4,"Not a key frame.");for(C(a),c=e.Pa,n=0;4>n;++n){for(s=0;8>s;++s)for(o=0;3>o;++o)for(u=0;11>u;++u)A=I(a,ui[n][s][o][u])?p(a,8):ai[n][s][o][u],c.Wc[n][s].Yb[o][u]=A;for(s=0;17>s;++s)c.Xc[n][s]=c.Wc[n][li[s]]}return e.kc=C(a),e.kc&&(e.Bd=p(a,8)),e.cb=1}function Xe(e,t,r,n,i,o,s){var a=t[i].Yb[r];for(r=0;16>i;++i){if(!I(e,a[r+0]))return i;for(;!I(e,a[r+1]);)if(a=t[++i].Yb[0],r=0,16==i)return 16;var c=t[i+1].Yb;if(I(e,a[r+2])){var u=e,l=0;if(I(u,(h=a)[(A=r)+3]))if(I(u,h[A+6])){for(a=0,A=2*(l=I(u,h[A+8]))+(h=I(u,h[A+9+l])),l=0,h=ii[A];h[a];++a)l+=l+I(u,h[a]);l+=3+(8<<A)}else I(u,h[A+7])?(l=7+2*I(u,165),l+=I(u,145)):l=5+I(u,159);else l=I(u,h[A+4])?3+I(u,h[A+5]):2;a=c[2]}else l=1,a=c[1];c=s+oi[i],0>(u=e).b&&S(u);var A,h=u.b,f=(A=u.Ca>>1)-(u.I>>h)>>31;--u.b,u.Ca+=f,u.Ca|=1,u.I-=(A+1&f)<<h,o[c]=((l^f)-f)*n[(0<i)+0]}return 16}function Ye(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,r){if(null==e)return 0;if(null==r)return We(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var a=Di[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-a>>4,e.zb=r.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+a>>4,e.Hb=r.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var c=e.ed;for(a=0;4>a;++a){var u;if(e.Qa.Cb){var l=e.Qa.Lb[a];e.Qa.Fb||(l+=c.Tb)}else l=c.Tb;for(u=0;1>=u;++u){var A=e.gd[a][u],h=l;if(c.Pc&&(h+=c.vd[0],u&&(h+=c.od[0])),0<(h=0>h?0:63<h?63:h)){var f=h;0<c.wb&&(f=4<c.wb?f>>2:f>>1)>9-c.wb&&(f=9-c.wb),1>f&&(f=1),A.dd=f,A.tc=2*h+f,A.ld=40<=h?2:15<=h?1:0}else A.tc=0;A.La=u}}}a=0}else We(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=Qi);e:{a=e.Ic,c=4*(f=e.za);var d=32*f,p=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*f;if((A=c+832+(u=3*(16*a+Di[e.L])/2*d)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=A)a=0;else{if(A>e.Vb){if(e.Vb=0,e.Ec=o(A),e.Fc=0,null==e.Ec){a=We(e,1,"no memory during frame initialization.");break e}e.Vb=A}A=e.Ec,h=e.Fc,e.Ac=A,e.Bc=h,h+=c,e.Gd=s(d,Ke),e.Hd=0,e.rb=s(p+1,De),e.sb=1,e.wa=g?s(g,Re):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=A,e.pc=h,h+=832,e.ya=s(m,Qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(d=Di[e.L])*e.R,d=d/2*e.B,e.sa=A,e.ta=h+f,e.qa=e.sa,e.ra=e.ta+16*a*e.R+d,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+d,e.$c=0,h+=u,e.mb=l?A:null,e.nb=l?h:null,t(h+l<=e.Fc+e.Vb),Ye(e),i(e.Ac,e.Bc,0,c),a=1}}if(a){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!Tn){for(a=-255;255>=a;++a)Cn[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)In[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)kn[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Pn[255+a]=0>a?0:255<a?255:a;Tn=1}on=ut,sn=ot,cn=st,un=at,ln=ct,an=it,An=Wt,hn=$t,fn=Yt,dn=Zt,pn=Jt,gn=Xt,mn=er,yn=tr,vn=Ht,bn=Kt,wn=Vt,xn=zt,hi[0]=Bt,hi[1]=At,hi[2]=xt,hi[3]=_t,hi[4]=Et,hi[5]=Ct,hi[6]=St,hi[7]=It,hi[8]=Pt,hi[9]=kt,Ai[0]=mt,Ai[1]=ft,Ai[2]=dt,Ai[3]=pt,Ai[4]=yt,Ai[5]=vt,Ai[6]=bt,fi[0]=Nt,fi[1]=ht,fi[2]=Tt,fi[3]=Ot,fi[4]=Ft,fi[5]=Ut,fi[6]=Mt,a=1}else a=0}a&&(a=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var s,a=e.Jc[e.M&e.Xb],c=e.m,u=e;for(s=0;s<u.za;++s){var l=c,A=u,h=A.Ac,f=A.Bc+4*s,d=A.zc,p=A.ya[A.aa+s];if(A.Qa.Bb?p.$b=I(l,A.Pa.jb[0])?2+I(l,A.Pa.jb[2]):I(l,A.Pa.jb[1]):p.$b=0,A.kc&&(p.Ad=I(l,A.Bd)),p.Za=!I(l,145)+0,p.Za){var g=p.Ob,m=0;for(A=0;4>A;++A){var y,v=d[0+A];for(y=0;4>y;++y){v=ci[h[f+y]][v];for(var b=si[I(l,v[0])];0<b;)b=si[2*b+I(l,v[b])];v=-b,h[f+y]=v}n(g,m,h,f,4),m+=4,d[0+A]=v}}else v=I(l,156)?I(l,128)?1:3:I(l,163)?2:0,p.Ob[0]=v,i(h,f,v,4),i(d,0,v,4);p.Dd=I(l,142)?I(l,114)?I(l,183)?1:3:2:0}if(u.m.Ka)return We(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=a,l=(c=e).rb[c.sb-1],h=c.rb[c.sb+c.ja],s=c.ya[c.aa+c.ja],f=c.kc?s.Ad:0)l.la=h.la=0,s.Za||(l.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,x;if(l=h,h=u,f=c.Pa.Xc,d=c.ya[c.aa+c.ja],p=c.pb[d.$b],A=d.ad,g=0,m=c.rb[c.sb-1],v=y=0,i(A,g,0,384),d.Za)var _=0,B=f[3];else{b=o(16);var E=l.Na+m.Na;if(E=ni(h,f[1],E,p.Eb,0,b,0),l.Na=m.Na=(0<E)+0,1<E)on(b,0,A,g);else{var S=b[0]+3>>3;for(b=0;256>b;b+=16)A[g+b]=S}_=1,B=f[0]}var C=15&l.la,k=15&m.la;for(b=0;4>b;++b){var P=1&k;for(S=x=0;4>S;++S)C=C>>1|(P=(E=ni(h,B,E=P+(1&C),p.Sc,_,A,g))>_)<<7,x=x<<2|(3<E?3:1<E?2:0!=A[g+0]),g+=16;C>>=4,k=k>>1|P<<7,y=(y<<8|x)>>>0}for(B=C,_=k>>4,w=0;4>w;w+=2){for(x=0,C=l.la>>4+w,k=m.la>>4+w,b=0;2>b;++b){for(P=1&k,S=0;2>S;++S)E=P+(1&C),C=C>>1|(P=0<(E=ni(h,f[2],E,p.Qc,0,A,g)))<<3,x=x<<2|(3<E?3:1<E?2:0!=A[g+0]),g+=16;C>>=2,k=k>>1|P<<5}v|=x<<4*w,B|=C<<4<<w,_|=(240&k)<<w}l.la=B,m.la=_,d.Hc=y,d.Gc=v,d.ia=43690&v?0:p.ia,f=!(y|v)}if(0<c.L&&(c.wa[c.Y+c.ja]=c.gd[s.$b][s.Za],c.wa[c.Y+c.ja].La|=!f),u.Ka)return We(e,7,"Premature end-of-file encountered.")}if(Ye(e),c=r,u=1,s=(a=e).D,l=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(s.M=a.M,s.uc=l,Lr(a,s),u=1,s=(x=a.D).Nb,l=(v=Di[a.L])*a.R,h=v/2*a.B,b=16*s*a.R,S=8*s*a.B,f=a.sa,d=a.ta-l+b,p=a.qa,A=a.ra-h+S,g=a.Ha,m=a.Ia-h+S,k=0==(C=x.M),y=C>=a.Va-1,2==a.Aa&&Lr(a,x),x.uc)for(P=(E=a).D.M,t(E.D.uc),x=E.yb;x<E.Hb;++x){_=x,B=P;var T=(O=(Q=E).D).Nb;w=Q.R;var O=O.wa[O.Y+_],L=Q.sa,N=Q.ta+16*T*w+16*_,U=O.dd,F=O.tc;if(0!=F)if(t(3<=F),1==Q.L)0<_&&bn(L,N,w,F+4),O.La&&xn(L,N,w,F),0<B&&vn(L,N,w,F+4),O.La&&wn(L,N,w,F);else{var M=Q.B,R=Q.qa,D=Q.ra+8*T*M+8*_,j=Q.Ha,Q=Q.Ia+8*T*M+8*_;T=O.ld,0<_&&(hn(L,N,w,F+4,U,T),dn(R,D,j,Q,M,F+4,U,T)),O.La&&(gn(L,N,w,F,U,T),yn(R,D,j,Q,M,F,U,T)),0<B&&(An(L,N,w,F+4,U,T),fn(R,D,j,Q,M,F+4,U,T)),O.La&&(pn(L,N,w,F,U,T),mn(R,D,j,Q,M,F,U,T))}}if(a.ia&&alert("todo:DitherRow"),null!=c.put){if(x=16*C,C=16*(C+1),k?(c.y=a.sa,c.O=a.ta+b,c.f=a.qa,c.N=a.ra+S,c.ea=a.Ha,c.W=a.Ia+S):(x-=v,c.y=f,c.O=d,c.f=p,c.N=A,c.ea=g,c.W=m),y||(C-=v),C>c.o&&(C=c.o),c.F=null,c.J=null,null!=a.Fa&&0<a.Fa.length&&x<C&&(c.J=Ar(a,c,x,C-x),c.F=a.mb,null==c.F&&0==c.F.length)){u=We(a,3,"Could not decode alpha data.");break e}x<c.j&&(v=c.j-x,x=c.j,t(!(1&v)),c.O+=a.R*v,c.N+=a.B*(v>>1),c.W+=a.B*(v>>1),null!=c.F&&(c.J+=c.width*v)),x<C&&(c.O+=c.v,c.N+=c.v>>1,c.W+=c.v>>1,null!=c.F&&(c.J+=c.v),c.ka=x-c.j,c.U=c.va-c.v,c.T=C-x,u=c.put(c))}s+1!=a.Ic||y||(n(a.sa,a.ta-l,f,d+16*a.R,l),n(a.qa,a.ra-h,p,A+8*a.B,h),n(a.Ha,a.Ia-h,g,m+8*a.B,h))}if(!u)return We(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),a&=1}return a?(e.cb=0,a):0}function et(e,t,r,n,i){i=e[t+r+32*n]+(i>>3),e[t+r+32*n]=-256&i?0>i?0:255:i}function tt(e,t,r,n,i,o){et(e,t,0,r,n+i),et(e,t,1,r,n+o),et(e,t,2,r,n-o),et(e,t,3,r,n-i)}function rt(e){return(20091*e>>16)+e}function nt(e,t,r,n){var i,s=0,a=o(16);for(i=0;4>i;++i){var c=e[t+0]+e[t+8],u=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-rt(e[t+12]),A=rt(e[t+4])+(35468*e[t+12]>>16);a[s+0]=c+A,a[s+1]=u+l,a[s+2]=u-l,a[s+3]=c-A,s+=4,t++}for(i=s=0;4>i;++i)c=(e=a[s+0]+4)+a[s+8],u=e-a[s+8],l=(35468*a[s+4]>>16)-rt(a[s+12]),et(r,n,0,0,c+(A=rt(a[s+4])+(35468*a[s+12]>>16))),et(r,n,1,0,u+l),et(r,n,2,0,u-l),et(r,n,3,0,c-A),s++,n+=32}function it(e,t,r,n){var i=e[t+0]+4,o=35468*e[t+4]>>16,s=rt(e[t+4]),a=35468*e[t+1]>>16;tt(r,n,0,i+s,e=rt(e[t+1]),a),tt(r,n,1,i+o,e,a),tt(r,n,2,i-o,e,a),tt(r,n,3,i-s,e,a)}function ot(e,t,r,n,i){nt(e,t,r,n),i&&nt(e,t+16,r,n+4)}function st(e,t,r,n){sn(e,t+0,r,n,1),sn(e,t+32,r,n+128,1)}function at(e,t,r,n){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(r,n,t,i,e)}function ct(e,t,r,n){e[t+0]&&un(e,t+0,r,n),e[t+16]&&un(e,t+16,r,n+4),e[t+32]&&un(e,t+32,r,n+128),e[t+48]&&un(e,t+48,r,n+128+4)}function ut(e,t,r,n){var i,s=o(16);for(i=0;4>i;++i){var a=e[t+0+i]+e[t+12+i],c=e[t+4+i]+e[t+8+i],u=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];s[0+i]=a+c,s[8+i]=a-c,s[4+i]=l+u,s[12+i]=l-u}for(i=0;4>i;++i)a=(e=s[0+4*i]+3)+s[3+4*i],c=s[1+4*i]+s[2+4*i],u=s[1+4*i]-s[2+4*i],l=e-s[3+4*i],r[n+0]=a+c>>3,r[n+16]=l+u>>3,r[n+32]=a-c>>3,r[n+48]=l-u>>3,n+=64}function lt(e,t,r){var n,i=t-32,o=Nn,s=255-e[i-1];for(n=0;n<r;++n){var a,c=o,u=s+e[t-1];for(a=0;a<r;++a)e[t+a]=c[u+e[i+a]];t+=32}}function At(e,t){lt(e,t,4)}function ht(e,t){lt(e,t,8)}function ft(e,t){lt(e,t,16)}function dt(e,t){var r;for(r=0;16>r;++r)n(e,t+32*r,e,t-32,16)}function pt(e,t){var r;for(r=16;0<r;--r)i(e,t,e[t-1],16),t+=32}function gt(e,t,r){var n;for(n=0;16>n;++n)i(t,r+32*n,e,16)}function mt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];gt(n>>5,e,t)}function yt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];gt(n>>4,e,t)}function vt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];gt(n>>4,e,t)}function bt(e,t){gt(128,e,t)}function wt(e,t,r){return e+2*t+r+2>>2}function xt(e,t){var r,i=t-32;for(i=new Uint8Array([wt(e[i-1],e[i+0],e[i+1]),wt(e[i+0],e[i+1],e[i+2]),wt(e[i+1],e[i+2],e[i+3]),wt(e[i+2],e[i+3],e[i+4])]),r=0;4>r;++r)n(e,t+32*r,i,0,i.length)}function _t(e,t){var r=e[t-1],n=e[t-1+32],i=e[t-1+64],o=e[t-1+96];k(e,t+0,16843009*wt(e[t-1-32],r,n)),k(e,t+32,16843009*wt(r,n,i)),k(e,t+64,16843009*wt(n,i,o)),k(e,t+96,16843009*wt(i,o,o))}function Bt(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)i(e,t+32*r,n,4)}function Et(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+96]=wt(n,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=wt(r,n,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=wt(o,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=wt(s,o,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=wt(a,s,o),e[t+3+32]=e[t+2+0]=wt(c,a,s),e[t+3+0]=wt(u,c,a)}function St(e,t){var r=e[t+1-32],n=e[t+2-32],i=e[t+3-32],o=e[t+4-32],s=e[t+5-32],a=e[t+6-32],c=e[t+7-32];e[t+0+0]=wt(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=wt(r,n,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=wt(n,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=wt(i,o,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=wt(o,s,a),e[t+3+64]=e[t+2+96]=wt(s,a,c),e[t+3+96]=wt(a,c,c)}function Ct(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=o+s+1>>1,e[t+1+0]=e[t+2+64]=s+a+1>>1,e[t+2+0]=e[t+3+64]=a+c+1>>1,e[t+3+0]=c+u+1>>1,e[t+0+96]=wt(i,n,r),e[t+0+64]=wt(n,r,o),e[t+0+32]=e[t+1+96]=wt(r,o,s),e[t+1+32]=e[t+2+96]=wt(o,s,a),e[t+2+32]=e[t+3+96]=wt(s,a,c),e[t+3+32]=wt(a,c,u)}function It(e,t){var r=e[t+0-32],n=e[t+1-32],i=e[t+2-32],o=e[t+3-32],s=e[t+4-32],a=e[t+5-32],c=e[t+6-32],u=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+s+1>>1,e[t+0+32]=wt(r,n,i),e[t+1+32]=e[t+0+96]=wt(n,i,o),e[t+2+32]=e[t+1+96]=wt(i,o,s),e[t+3+32]=e[t+2+96]=wt(o,s,a),e[t+3+64]=wt(s,a,c),e[t+3+96]=wt(a,c,u)}function kt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=wt(r,n,i),e[t+3+0]=e[t+1+32]=wt(n,i,o),e[t+3+32]=e[t+1+64]=wt(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Pt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],o=e[t-1+96],s=e[t-1-32],a=e[t+0-32],c=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=r+s+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=i+n+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=wt(a,c,u),e[t+2+0]=wt(s,a,c),e[t+1+0]=e[t+3+32]=wt(r,s,a),e[t+1+32]=e[t+3+64]=wt(n,r,s),e[t+1+64]=e[t+3+96]=wt(i,n,r),e[t+1+96]=wt(o,i,n)}function Tt(e,t){var r;for(r=0;8>r;++r)n(e,t+32*r,e,t-32,8)}function Ot(e,t){var r;for(r=0;8>r;++r)i(e,t,e[t-1],8),t+=32}function Lt(e,t,r){var n;for(n=0;8>n;++n)i(t,r+32*n,e,8)}function Nt(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Lt(n>>4,e,t)}function Ut(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Lt(n>>3,e,t)}function Ft(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Lt(n>>3,e,t)}function Mt(e,t){Lt(128,e,t)}function Rt(e,t,r){var n=e[t-r],i=e[t+0],o=3*(i-n)+On[1020+e[t-2*r]-e[t+r]],s=Ln[112+(o+4>>3)];e[t-r]=Nn[255+n+Ln[112+(o+3>>3)]],e[t+0]=Nn[255+i-s]}function Dt(e,t,r,n){var i=e[t+0],o=e[t+r];return Un[255+e[t-2*r]-e[t-r]]>n||Un[255+o-i]>n}function jt(e,t,r,n){return 4*Un[255+e[t-r]-e[t+0]]+Un[255+e[t-2*r]-e[t+r]]<=n}function Qt(e,t,r,n,i){var o=e[t-3*r],s=e[t-2*r],a=e[t-r],c=e[t+0],u=e[t+r],l=e[t+2*r],A=e[t+3*r];return 4*Un[255+a-c]+Un[255+s-u]>n?0:Un[255+e[t-4*r]-o]<=i&&Un[255+o-s]<=i&&Un[255+s-a]<=i&&Un[255+A-l]<=i&&Un[255+l-u]<=i&&Un[255+u-c]<=i}function Ht(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)jt(e,t+n,r,i)&&Rt(e,t+n,r)}function Kt(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)jt(e,t+n*r,1,i)&&Rt(e,t+n*r,1)}function Vt(e,t,r,n){var i;for(i=3;0<i;--i)Ht(e,t+=4*r,r,n)}function zt(e,t,r,n){var i;for(i=3;0<i;--i)Kt(e,t+=4,r,n)}function qt(e,t,r,n,i,o,s,a){for(o=2*o+1;0<i--;){if(Qt(e,t,r,o,s))if(Dt(e,t,r,a))Rt(e,t,r);else{var c=e,u=t,l=r,A=c[u-2*l],h=c[u-l],f=c[u+0],d=c[u+l],p=c[u+2*l],g=27*(y=On[1020+3*(f-h)+On[1020+A-d]])+63>>7,m=18*y+63>>7,y=9*y+63>>7;c[u-3*l]=Nn[255+c[u-3*l]+y],c[u-2*l]=Nn[255+A+m],c[u-l]=Nn[255+h+g],c[u+0]=Nn[255+f-g],c[u+l]=Nn[255+d-m],c[u+2*l]=Nn[255+p-y]}t+=n}}function Gt(e,t,r,n,i,o,s,a){for(o=2*o+1;0<i--;){if(Qt(e,t,r,o,s))if(Dt(e,t,r,a))Rt(e,t,r);else{var c=e,u=t,l=r,A=c[u-l],h=c[u+0],f=c[u+l],d=Ln[112+(4+(p=3*(h-A))>>3)],p=Ln[112+(p+3>>3)],g=d+1>>1;c[u-2*l]=Nn[255+c[u-2*l]+g],c[u-l]=Nn[255+A+p],c[u+0]=Nn[255+h-d],c[u+l]=Nn[255+f-g]}t+=n}}function Wt(e,t,r,n,i,o){qt(e,t,r,1,16,n,i,o)}function $t(e,t,r,n,i,o){qt(e,t,1,r,16,n,i,o)}function Jt(e,t,r,n,i,o){var s;for(s=3;0<s;--s)Gt(e,t+=4*r,r,1,16,n,i,o)}function Xt(e,t,r,n,i,o){var s;for(s=3;0<s;--s)Gt(e,t+=4,1,r,16,n,i,o)}function Yt(e,t,r,n,i,o,s,a){qt(e,t,i,1,8,o,s,a),qt(r,n,i,1,8,o,s,a)}function Zt(e,t,r,n,i,o,s,a){qt(e,t,1,i,8,o,s,a),qt(r,n,1,i,8,o,s,a)}function er(e,t,r,n,i,o,s,a){Gt(e,t+4*i,i,1,8,o,s,a),Gt(r,n+4*i,i,1,8,o,s,a)}function tr(e,t,r,n,i,o,s,a){Gt(e,t+4,1,i,8,o,s,a),Gt(r,n+4,1,i,8,o,s,a)}function rr(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ce,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function or(){this.ua=0,this.Wa=new U,this.vb=new U,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new A}function sr(){this.xb=this.a=0,this.l=new qe,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new or,this.ab=0,this.gc=s(4,ir),this.Oc=0}function ar(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cr(e,t,r,n,i,o,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)i[o+t]=e+r[n+t]&255,e=i[o+t]}function ur(e,t,r,n,i,o,s){var a;if(null==e)cr(null,null,r,n,i,o,s);else for(a=0;a<s;++a)i[o+a]=e[t+a]+r[n+a]&255}function lr(e,t,r,n,i,o,s){if(null==e)cr(null,null,r,n,i,o,s);else{var a,c=e[t+0],u=c,l=c;for(a=0;a<s;++a)u=l+(c=e[t+a])-u,l=r[n+a]+(-256&u?0>u?0:255:u)&255,u=c,i[o+a]=l}}function Ar(e,r,i,s){var a=r.width,c=r.o;if(t(null!=e&&null!=r),0>i||0>=s||i+s>c)return null;if(!e.Cc){if(null==e.ga){var u;if(e.ga=new ar,(u=null==e.ga)||(u=r.width*r.o,t(0==e.Gb.length),e.Gb=o(u),e.Uc=0,null==e.Gb?u=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,u=1),u=!u),!u){u=e.ga;var l=e.Fa,A=e.P,h=e.qc,f=e.mb,d=e.nb,p=A+1,g=h-1,y=u.l;if(t(null!=l&&null!=f&&null!=r),gi[0]=null,gi[1]=cr,gi[2]=ur,gi[3]=lr,u.ca=f,u.tb=d,u.c=r.width,u.i=r.height,t(0<u.c&&0<u.i),1>=h)r=0;else if(u.$a=l[A+0]>>0&3,u.Z=l[A+0]>>2&3,u.Lc=l[A+0]>>4&3,A=l[A+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||A)r=0;else if(y.put=fe,y.ac=he,y.bc=de,y.ma=u,y.width=r.width,y.height=r.height,y.Da=r.Da,y.v=r.v,y.va=r.va,y.j=r.j,y.o=r.o,u.$a)e:{t(1==u.$a),r=Ie();t:for(;;){if(null==r){r=0;break e}if(t(null!=u),u.mc=r,r.c=u.c,r.i=u.i,r.l=u.l,r.l.ma=u,r.l.width=u.c,r.l.height=u.i,r.a=0,m(r.m,l,p,g),!ke(u.c,u.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&_e(r.s)?(u.ic=1,l=r.c*r.i,r.Ta=null,r.Ua=0,r.V=o(l),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(u.ic=0,r=Pe(r,u.c)),!r)break t;r=1;break e}u.mc=null,r=0}else r=g>=u.c*u.i;u=!r}if(u)return null;1!=e.ga.Lc?e.Ga=0:s=c-i}t(null!=e.ga),t(i+s<=c);e:{if(r=(l=e.ga).c,c=l.l.o,0==l.$a){if(p=e.rc,g=e.Vc,y=e.Fa,A=e.P+1+i*r,h=e.mb,f=e.nb+i*r,t(A<=e.P+e.qc),0!=l.Z)for(t(null!=gi[l.Z]),u=0;u<s;++u)gi[l.Z](p,g,y,A,h,f,r),p=h,g=f,f+=r,A+=r;else for(u=0;u<s;++u)n(h,f,y,A,r),p=h,g=f,f+=r,A+=r;e.rc=p,e.Vc=g}else{if(t(null!=l.mc),r=i+s,t(null!=(u=l.mc)),t(r<=u.i),u.C>=r)r=1;else if(l.ic||gr(),l.ic){l=u.V,p=u.Ba,g=u.c;var v=u.i,b=(y=1,A=u.$/g,h=u.$%g,f=u.m,d=u.s,u.$),w=g*v,x=g*r,B=d.wc,S=b<x?be(d,h,A):null;t(b<=w),t(r<=v),t(_e(d));t:for(;;){for(;!f.h&&b<x;){if(h&B||(S=be(d,h,A)),t(null!=S),E(f),256>(v=ye(S.G[0],S.H[0],f)))l[p+b]=v,++b,++h>=g&&(h=0,++A<=r&&!(A%16)&&Ee(u,A));else{if(!(280>v)){y=0;break t}v=ge(v-256,f);var C,I=ye(S.G[4],S.H[4],f);if(E(f),!(b>=(I=me(g,I=ge(I,f)))&&w-b>=v)){y=0;break t}for(C=0;C<v;++C)l[p+b+C]=l[p+b+C-I];for(b+=v,h+=v;h>=g;)h-=g,++A<=r&&!(A%16)&&Ee(u,A);b<x&&h&B&&(S=be(d,h,A))}t(f.h==_(f))}Ee(u,A>r?r:A);break t}!y||f.h&&b<w?(y=0,u.a=f.h?5:3):u.$=b,r=y}else r=Se(u,u.V,u.Ba,u.c,u.i,r,Te);if(!r){s=0;break e}}i+s>=c&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*a}function hr(e,t,r,n,i,o){for(;0<i--;){var s,a=e,c=t+(r?1:0),u=e,l=t+(r?0:3);for(s=0;s<n;++s){var A=u[l+4*s];255!=A&&(A*=32897,a[c+4*s+0]=a[c+4*s+0]*A>>23,a[c+4*s+1]=a[c+4*s+1]*A>>23,a[c+4*s+2]=a[c+4*s+2]*A>>23)}t+=o}}function fr(e,t,r,n,i){for(;0<n--;){var o;for(o=0;o<r;++o){var s=e[t+2*o+0],a=15&(u=e[t+2*o+1]),c=4369*a,u=(240&u|u>>4)*c>>16;e[t+2*o+0]=(240&s|s>>4)*c>>16&240|(15&s|s<<4)*c>>16>>4&15,e[t+2*o+1]=240&u|a}t+=i}}function dr(e,t,r,n,i,o,s,a){var c,u,l=255;for(u=0;u<i;++u){for(c=0;c<n;++c){var A=e[t+c];o[s+4*c]=A,l&=A}t+=r,s+=a}return 255!=l}function pr(e,t,r,n,i){var o;for(o=0;o<i;++o)r[n+o]=e[t+o]>>8}function gr(){_n=hr,Bn=fr,En=dr,Sn=pr}function mr(r,n,i){e[r]=function(e,r,o,s,a,c,u,l,A,h,f,d,p,g,m,y,v){var b,w=v-1>>1,x=a[c+0]|u[l+0]<<16,_=A[h+0]|f[d+0]<<16;t(null!=e);var B=3*x+_+131074>>2;for(n(e[r+0],255&B,B>>16,p,g),null!=o&&(B=3*_+x+131074>>2,n(o[s+0],255&B,B>>16,m,y)),b=1;b<=w;++b){var E=a[c+b]|u[l+b]<<16,S=A[h+b]|f[d+b]<<16,C=x+E+_+S+524296,I=C+2*(E+_)>>3;B=I+x>>1,x=(C=C+2*(x+S)>>3)+E>>1,n(e[r+2*b-1],255&B,B>>16,p,g+(2*b-1)*i),n(e[r+2*b-0],255&x,x>>16,p,g+(2*b-0)*i),null!=o&&(B=C+_>>1,x=I+S>>1,n(o[s+2*b-1],255&B,B>>16,m,y+(2*b-1)*i),n(o[s+2*b+0],255&x,x>>16,m,y+(2*b+0)*i)),x=E,_=S}1&v||(B=3*x+_+131074>>2,n(e[r+v-1],255&B,B>>16,p,g+(v-1)*i),null!=o&&(B=3*_+x+131074>>2,n(o[s+v-1],255&B,B>>16,m,y+(v-1)*i)))}}function yr(){mi[Fn]=yi,mi[Mn]=bi,mi[Rn]=vi,mi[Dn]=wi,mi[jn]=xi,mi[Qn]=_i,mi[Hn]=Bi,mi[Kn]=bi,mi[Vn]=wi,mi[zn]=xi,mi[qn]=_i}function vr(e){return e&~Pi?0>e?0:255:e>>ki}function br(e,t){return vr((19077*e>>8)+(26149*t>>8)-14234)}function wr(e,t,r){return vr((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function xr(e,t){return vr((19077*e>>8)+(33050*t>>8)-17685)}function _r(e,t,r,n,i){n[i+0]=br(e,r),n[i+1]=wr(e,t,r),n[i+2]=xr(e,t)}function Br(e,t,r,n,i){n[i+0]=xr(e,t),n[i+1]=wr(e,t,r),n[i+2]=br(e,r)}function Er(e,t,r,n,i){var o=wr(e,t,r);t=o<<3&224|xr(e,t)>>3,n[i+0]=248&br(e,r)|o>>5,n[i+1]=t}function Sr(e,t,r,n,i){var o=240&xr(e,t)|15;n[i+0]=240&br(e,r)|wr(e,t,r)>>4,n[i+1]=o}function Cr(e,t,r,n,i){n[i+0]=255,_r(e,t,r,n,i+1)}function Ir(e,t,r,n,i){Br(e,t,r,n,i),n[i+3]=255}function kr(e,t,r,n,i){_r(e,t,r,n,i),n[i+3]=255}function ze(e,t){return 0>e?0:e>t?t:e}function Pr(t,r,n){e[t]=function(e,t,i,o,s,a,c,u,l){for(var A=u+(-2&l)*n;u!=A;)r(e[t+0],i[o+0],s[a+0],c,u),r(e[t+1],i[o+0],s[a+0],c,u+n),t+=2,++o,++a,u+=2*n;1&l&&r(e[t+0],i[o+0],s[a+0],c,u)}}function Tr(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Or(e,t,r,n,i){switch(e>>>30){case 3:sn(t,r,n,i,0);break;case 2:an(t,r,n,i);break;case 1:un(t,r,n,i)}}function Lr(e,t){var r,o,s=t.M,a=t.Nb,c=e.oc,u=e.pc+40,l=e.oc,A=e.pc+584,h=e.oc,f=e.pc+600;for(r=0;16>r;++r)c[u+32*r-1]=129;for(r=0;8>r;++r)l[A+32*r-1]=129,h[f+32*r-1]=129;for(0<s?c[u-1-32]=l[A-1-32]=h[f-1-32]=129:(i(c,u-32-1,127,21),i(l,A-32-1,127,9),i(h,f-32-1,127,9)),o=0;o<e.za;++o){var d=t.ya[t.aa+o];if(0<o){for(r=-1;16>r;++r)n(c,u+32*r-4,c,u+32*r+12,4);for(r=-1;8>r;++r)n(l,A+32*r-4,l,A+32*r+4,4),n(h,f+32*r-4,h,f+32*r+4,4)}var p=e.Gd,g=e.Hd+o,m=d.ad,y=d.Hc;if(0<s&&(n(c,u-32,p[g].y,0,16),n(l,A-32,p[g].f,0,8),n(h,f-32,p[g].ea,0,8)),d.Za){var v=c,b=u-32+16;for(0<s&&(o>=e.za-1?i(v,b,p[g].y[15],4):n(v,b,p[g+1].y,0,4)),r=0;4>r;r++)v[b+128+r]=v[b+256+r]=v[b+384+r]=v[b+0+r];for(r=0;16>r;++r,y<<=2)v=c,b=u+Ri[r],hi[d.Ob[r]](v,b),Or(y,m,16*+r,v,b)}else if(v=Tr(o,s,d.Ob[0]),Ai[v](c,u),0!=y)for(r=0;16>r;++r,y<<=2)Or(y,m,16*+r,c,u+Ri[r]);for(r=d.Gc,v=Tr(o,s,d.Dd),fi[v](l,A),fi[v](h,f),y=m,v=l,b=A,255&(d=r>>0)&&(170&d?cn(y,256,v,b):ln(y,256,v,b)),d=h,y=f,255&(r>>=8)&&(170&r?cn(m,320,d,y):ln(m,320,d,y)),s<e.Ub-1&&(n(p[g].y,0,c,u+480,16),n(p[g].f,0,l,A+224,8),n(p[g].ea,0,h,f+224,8)),r=8*a*e.B,p=e.sa,g=e.ta+16*o+16*a*e.R,m=e.qa,d=e.ra+8*o+r,y=e.Ha,v=e.Ia+8*o+r,r=0;16>r;++r)n(p,g+r*e.R,c,u+32*r,16);for(r=0;8>r;++r)n(m,d+r*e.B,l,A+32*r,8),n(y,v+r*e.B,h,f+32*r,8)}}function Nr(e,n,i,o,s,a,c,u,l){var A=[0],h=[0],f=0,d=null!=l?l.kd:0,p=null!=l?l:new nr;if(null==e||12>i)return 7;p.data=e,p.w=n,p.ha=i,n=[n],i=[i],p.gb=[p.gb];e:{var g=n,y=i,v=p.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!r(e,g[0],"RIFF")){if(r(e,g[0]+8,"WEBP")){v=3;break e}var b=O(e,g[0]+4);if(12>b||4294967286<b){v=3;break e}if(d&&b>y[0]-8){v=7;break e}v[0]=b,g[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(b=0<p.gb[0],i=i[0];;){e:{var x=e;y=n,v=i;var _=A,B=h,E=g=[0];if((I=f=[f])[0]=0,8>v[0])v=7;else{if(!r(x,y[0],"VP8X")){if(10!=O(x,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var S=O(x,y[0]+8),C=1+T(x,y[0]+12);if(2147483648<=C*(x=1+T(x,y[0]+15))){v=3;break e}null!=E&&(E[0]=S),null!=_&&(_[0]=C),null!=B&&(B[0]=x),y[0]+=18,v[0]-=18,I[0]=1}v=0}}if(f=f[0],g=g[0],0!=v)return v;if(y=!!(2&g),!b&&f)return 3;if(null!=a&&(a[0]=!!(16&g)),null!=c&&(c[0]=y),null!=u&&(u[0]=0),c=A[0],g=h[0],f&&y&&null==l){v=0;break}if(4>i){v=7;break}if(b&&f||!b&&!f&&!r(e,n[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{S=e,v=n,b=i;var I=p.gb;_=p.na,B=p.P,E=p.Sa,C=22,t(null!=S),t(null!=b),x=v[0];var k=b[0];for(t(null!=_),t(null!=E),_[0]=null,B[0]=null,E[0]=0;;){if(v[0]=x,b[0]=k,8>k){v=7;break e}var P=O(S,x+4);if(4294967286<P){v=3;break e}var L=8+P+1&-2;if(C+=L,0<I&&C>I){v=3;break e}if(!r(S,x,"VP8 ")||!r(S,x,"VP8L")){v=0;break e}if(k[0]<L){v=7;break e}r(S,x,"ALPH")||(_[0]=S,B[0]=x+8,E[0]=P),x+=L,k-=L}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=v)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];e:if(I=e,v=n,b=i,_=p.gb[0],B=p.Ja,E=p.xa,S=v[0],x=!r(I,S,"VP8 "),C=!r(I,S,"VP8L"),t(null!=I),t(null!=b),t(null!=B),t(null!=E),8>b[0])v=7;else{if(x||C){if(I=O(I,S+4),12<=_&&I>_-12){v=3;break e}if(d&&I>b[0]-8){v=7;break e}B[0]=I,v[0]+=8,b[0]-=8,E[0]=C}else E[0]=5<=b[0]&&47==I[S+0]&&!(I[S+4]>>5),B[0]=b[0];v=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],n=n[0],0!=v)break;if(4294967286<p.Ja)return 3;if(null==u||y||(u[0]=p.xa?2:1),c=[c],g=[g],p.xa){if(5>i){v=7;break}u=c,d=g,y=a,null==e||5>i?e=0:5<=i&&47==e[n+0]&&!(e[n+4]>>5)?(b=[0],I=[0],_=[0],m(B=new w,e,n,i),pe(B,b,I,_)?(null!=u&&(u[0]=b[0]),null!=d&&(d[0]=I[0]),null!=y&&(y[0]=_[0]),e=1):e=0):e=0}else{if(10>i){v=7;break}u=g,null==e||10>i||!$e(e,n+3,i-3)?e=0:(d=e[n+0]|e[n+1]<<8|e[n+2]<<16,y=16383&(e[n+7]<<8|e[n+6]),e=16383&(e[n+9]<<8|e[n+8]),1&d||3<(d>>1&7)||!(d>>4&1)||d>>5>=p.Ja||!y||!e?e=0:(c&&(c[0]=y),u&&(u[0]=e),e=1))}if(!e)return 3;if(c=c[0],g=g[0],f&&(A[0]!=c||h[0]!=g))return 3;null!=l&&(l[0]=p,l.offset=n-l.w,t(4294967286>n-l.w),t(l.offset==l.ha-i));break}return 0==v||7==v&&f&&null==l?(null!=a&&(a[0]|=null!=p.na&&0<p.na.length),null!=o&&(o[0]=c),null!=s&&(s[0]=g),0):v}function Ur(e,t,r){var n=t.width,i=t.height,o=0,s=0,a=n,c=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,c=e.bd,o=e.v,s=e.j,11>r||(o&=-2,s&=-2),0>o||0>s||0>=a||0>=c||o+a>n||s+c>i))return 0;if(t.v=o,t.j=s,t.va=o+a,t.o=s+c,t.U=a,t.T=c,t.da=null!=e&&0<e.da,t.da){if(!F(a,c,r=[e.ib],o=[e.hb]))return 0;t.ib=r[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*i/4,t.Kb=0),1}function Fr(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Mr(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var i=r.cd,s=r.bd,a=-2&r.v,c=-2&r.j;if(0>a||0>c||0>=i||0>=s||a+i>e||c+s>t)return 2;e=i,t=s}if(r.da){if(!F(e,t,i=[r.ib],s=[r.hb]))return 2;e=i[0],t=s[0]}}n.width=e,n.height=t;e:{var u=n.width,l=n.height;if(e=n.S,0>=u||0>=l||!(e>=Fn&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){a=s=i=t=0;var A=(c=u*Hi[e])*l;if(11>e||(s=(l+1)/2*(t=(u+1)/2),12==e&&(a=(i=u)*l)),null==(l=o(A+2*s+a))){e=1;break e}n.sd=l,11>e?((u=n.f.RGBA).eb=l,u.fb=0,u.A=c,u.size=A):((u=n.f.kb).y=l,u.O=0,u.fa=c,u.Fd=A,u.f=l,u.N=0+A,u.Ab=t,u.Cd=s,u.ea=l,u.W=0+A+s,u.Db=t,u.Ed=s,12==e&&(u.F=l,u.J=0+A+2*s),u.Tc=a,u.lb=i)}if(t=1,i=n.S,s=n.width,a=n.height,i>=Fn&&13>i)if(11>i)e=n.f.RGBA,t&=(c=Math.abs(e.A))*(a-1)+s<=e.size,t&=c>=s*Hi[i],t&=null!=e.eb;else{e=n.f.kb,c=(s+1)/2,A=(a+1)/2,u=Math.abs(e.fa),l=Math.abs(e.Ab);var h=Math.abs(e.Db),f=Math.abs(e.lb),d=f*(a-1)+s;t&=u*(a-1)+s<=e.Fd,t&=l*(A-1)+c<=e.Cd,t=(t&=h*(A-1)+c<=e.Ed)&u>=s&l>=c&h>=c,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=s,t&=d<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Fr(n)),e}var Rr=64,Dr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jr=24,Qr=32,Hr=8,Kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];D("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return Q(Q(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return Q(e,t[r-1])},e.Predictor7=function(e,t,r){return Q(e,t[r+0])},e.Predictor8=function(e,t,r){return Q(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return Q(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return Q(Q(e,t[r-1]),Q(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var n=t[r+0];return 0>=V(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+V(n>>16&255,e>>16&255,t>>16&255)+V(n>>8&255,e>>8&255,t>>8&255)+V(255&n,255&e,255&t)?n:e},e.Predictor12=function(e,t,r){var n=t[r+0];return(H((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|H((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|H((255&e)+(255&n)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var n=t[r-1];return(K((e=Q(e,t[r+0]))>>24&255,n>>24&255)<<24|K(e>>16&255,n>>16&255)<<16|K(e>>8&255,n>>8&255)<<8|K(e>>0&255,n>>0&255))>>>0};var Vr=e.PredictorAdd0;e.PredictorAdd1=z,D("Predictor2","PredictorAdd2"),D("Predictor3","PredictorAdd3"),D("Predictor4","PredictorAdd4"),D("Predictor5","PredictorAdd5"),D("Predictor6","PredictorAdd6"),D("Predictor7","PredictorAdd7"),D("Predictor8","PredictorAdd8"),D("Predictor9","PredictorAdd9"),D("Predictor10","PredictorAdd10"),D("Predictor11","PredictorAdd11"),D("Predictor12","PredictorAdd12"),D("Predictor13","PredictorAdd13");var zr=e.PredictorAdd2;$("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),$("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var qr,Gr=e.ColorIndexInverseTransform,Wr=e.MapARGB,$r=e.VP8LColorIndexInverseTransformAlpha,Jr=e.MapAlpha,Xr=e.VP8LPredictorsAdd=[];Xr.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Yr,Zr,en,tn,rn,nn,on,sn,an,cn,un,ln,An,hn,fn,dn,pn,gn,mn,yn,vn,bn,wn,xn,_n,Bn,En,Sn,Cn=o(511),In=o(2041),kn=o(225),Pn=o(767),Tn=0,On=In,Ln=kn,Nn=Pn,Un=Cn,Fn=0,Mn=1,Rn=2,Dn=3,jn=4,Qn=5,Hn=6,Kn=7,Vn=8,zn=9,qn=10,Gn=[2,3,7],Wn=[3,3,11],$n=[280,256,256,256,40],Jn=[0,1,1,1,0],Xn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ri=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ci=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ui=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],li=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ai=[],hi=[],fi=[],di=1,pi=2,gi=[],mi=[];mr("UpsampleRgbLinePair",_r,3),mr("UpsampleBgrLinePair",Br,3),mr("UpsampleRgbaLinePair",kr,4),mr("UpsampleBgraLinePair",Ir,4),mr("UpsampleArgbLinePair",Cr,4),mr("UpsampleRgba4444LinePair",Sr,2),mr("UpsampleRgb565LinePair",Er,2);var yi=e.UpsampleRgbLinePair,vi=e.UpsampleBgrLinePair,bi=e.UpsampleRgbaLinePair,wi=e.UpsampleBgraLinePair,xi=e.UpsampleArgbLinePair,_i=e.UpsampleRgba4444LinePair,Bi=e.UpsampleRgb565LinePair,Ei=16,Si=1<<Ei-1,Ci=-227,Ii=482,ki=6,Pi=(256<<ki)-1,Ti=0,Oi=o(256),Li=o(256),Ni=o(256),Ui=o(256),Fi=o(Ii-Ci),Mi=o(Ii-Ci);Pr("YuvToRgbRow",_r,3),Pr("YuvToBgrRow",Br,3),Pr("YuvToRgbaRow",kr,4),Pr("YuvToBgraRow",Ir,4),Pr("YuvToArgbRow",Cr,4),Pr("YuvToRgba4444Row",Sr,2),Pr("YuvToRgb565Row",Er,2);var Ri=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Di=[0,2,8],ji=[8,7,6,4,4,2,2,2,1,1,1,1],Qi=1;this.WebPDecodeRGBA=function(e,r,n,i,o){var s=Mn,a=new rr,c=new se;a.ba=c,c.S=s,c.width=[c.width],c.height=[c.height];var u=c.width,l=c.height,A=new ae;if(null==A||null==e)var h=2;else t(null!=A),h=Nr(e,r,n,A.width,A.height,A.Pd,A.Qd,A.format,null);if(0!=h?u=0:(null!=u&&(u[0]=A.width[0]),null!=l&&(l[0]=A.height[0]),u=1),u){c.width=c.width[0],c.height=c.height[0],null!=i&&(i[0]=c.width),null!=o&&(o[0]=c.height);e:{if(i=new qe,(o=new nr).data=e,o.w=r,o.ha=n,o.kd=1,r=[0],t(null!=o),(0==(e=Nr(o.data,o.w,o.ha,null,null,null,r,null,o))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=a),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=fe,i.ac=he,i.bc=de,i.ma=a,o.xa){if(null==(e=Ie())){a=1;break e}if(function(e,r){var n=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,m(e.m,r.data,r.w,r.ha),!pe(e.m,n,i,o)){e.a=3;break t}if(e.xb=pi,r.width=n[0],r.height=i[0],!ke(n[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(r=Mr(i.width,i.height,a.Oa,a.ba))){t:{i=e;r:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(n=i.l)),t(null!=(o=n.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Ur(o.Oa,n,Dn)){i.a=2;break r}if(!Pe(i,n.width))break r;if(n.da)break r;if((n.da||ne(i.ca.S))&&gr(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&gr()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!L(i.s.vb,i.s.Wa.Xa)){i.a=1;break r}i.xb=0}if(!Se(i,i.V,i.Ba,i.c,i.i,n.o,xe))break r;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(r=e.a)}else r=e.a}else{if(null==(e=new Ge)){a=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Je(e,i)){if(0==(r=Mr(i.width,i.height,a.Oa,a.ba))){if(e.Aa=0,n=a.Oa,t(null!=(o=e)),null!=n){if(0<(u=0>(u=n.Md)?0:100<u?255:255*u/100)){for(l=A=0;4>l;++l)12>(h=o.pb[l]).lc&&(h.ia=u*ji[0>h.lc?0:h.lc]>>3),A|=h.ia;A&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=n.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Ze(e,i)||(r=e.a)}}else r=e.a}0==r&&null!=a.Oa&&a.Oa.fd&&(r=Fr(a.ba))}a=r}s=0!=a?null:11>s?c.f.RGBA.eb:c.f.kb.y}else s=null;return s};var Hi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function l(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16)>>>0}function A(e,t){return(e[t+0]<<0|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new c;var h=[0],f=[0],d=[],p=new c,g=e,m=function(e,t){var r={},n=0,i=!1,o=0,s=0;if(r.frames=[],!
/** @license
     * Copyright (c) 2017 Dominik Homberger
    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    https://webpjs.appspot.com
    WebPRiffParser dominikhlbg@gmail.com
    */
function(e,t,r,n){for(var i=0;i<4;i++)if(e[t+i]!="RIFF".charCodeAt(i))return!0;return!1}(e,t)){var a,c;for(A(e,t+=4),t+=8;t<e.length;){var h=u(e,t),f=A(e,t+=4);t+=4;var d=f+(1&f);switch(h){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(m=r.frames[n]).src_off=i?s:t-8,m.src_size=o+f+8,n++,i&&(i=!1,o=0,s=0);break;case"VP8X":(m=r.header={}).feature_flags=e[t];var p=t+4;m.canvas_width=1+l(e,p),p+=3,m.canvas_height=1+l(e,p),p+=3;break;case"ALPH":i=!0,o=d+8,s=t-8;break;case"ANIM":(m=r.header).bgcolor=A(e,t),p=t+4,m.loop_count=(a=e)[(c=p)+0]<<0|a[c+1]<<8,p+=2;break;case"ANMF":var g,m;(m=r.frames[n]={}).offset_x=2*l(e,t),t+=3,m.offset_y=2*l(e,t),t+=3,m.width=1+l(e,t),t+=3,m.height=1+l(e,t),t+=3,m.duration=l(e,t),t+=3,g=e[t++],m.dispose=1&g,m.blend=g>>1&1}"ANMF"!=h&&(t+=d)}return r}}(g,0);m.response=g,m.rgbaoutput=!0,m.dataurl=!1;var y=m.header?m.header:null,v=m.frames?m.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],f=[y.canvas_width];for(var b=0;b<v.length&&0!=v[b].blend;b++);}var w=v[0],x=p.WebPDecodeRGBA(g,w.src_off,w.src_size,f,h);w.rgba=x,w.imgwidth=f[0],w.imgheight=h[0];for(var _=0;_<f[0]*h[0]*4;_++)d[_]=x[_];return this.width=f,this.height=h,this.data=d,this}!function(e){var t=function(t,n,c,u){var l=4,A=o;switch(u){case e.image_compression.FAST:l=1,A=i;break;case e.image_compression.MEDIUM:l=6,A=s;break;case e.image_compression.SLOW:l=9,A=a}var h=Kt(t=r(t,n,c,A),{level:l});return e.__addimage__.arrayBufferToBinaryString(h)},r=function(e,t,r,n){for(var i,o,s,a=e.length/t,c=new Uint8Array(e.length+a),A=u(),h=0;h<a;h+=1){if(s=h*t,i=e.subarray(s,s+t),n)c.set(n(i,r,o),s+h);else{for(var f,d=A.length,p=[];f<d;f+=1)p[f]=A[f](i,r,o);var g=l(p.concat());c.set(p[g],s+h)}o=i}return c},n=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var r,n=[],i=e.length;n[0]=1;for(var o=0;o<i;o+=1)r=e[o-t]||0,n[o+1]=e[o]-r+256&255;return n},o=function(e,t,r){var n,i=[],o=e.length;i[0]=2;for(var s=0;s<o;s+=1)n=r&&r[s]||0,i[s+1]=e[s]-n+256&255;return i},s=function(e,t,r){var n,i,o=[],s=e.length;o[0]=3;for(var a=0;a<s;a+=1)n=e[a-t]||0,i=r&&r[a]||0,o[a+1]=e[a]+256-(n+i>>>1)&255;return o},a=function(e,t,r){var n,i,o,s,a=[],u=e.length;a[0]=4;for(var l=0;l<u;l+=1)n=e[l-t]||0,i=r&&r[l]||0,o=r&&r[l-t]||0,s=c(n,i,o),a[l+1]=e[l]-s+256&255;return a},c=function(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),o=Math.abs(e+t-r-r);return n<=i&&n<=o?e:i<=o?t:r},u=function(){return[n,i,o,s,a]},l=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(r,n,i,o){var s,a,c,u,l,A,h,f,d,p,g,m,y,v,b,w=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){if(r=(c=new Fn(r)).imgData,a=c.bits,s=c.colorSpace,l=c.colors,-1!==[4,6].indexOf(c.colorType)){if(8===c.bits){d=(f=32==c.pixelBitlength?new Uint32Array(c.decodePixels().buffer):16==c.pixelBitlength?new Uint16Array(c.decodePixels().buffer):new Uint8Array(c.decodePixels().buffer)).length,g=new Uint8Array(d*c.colors),p=new Uint8Array(d);var _,B=c.pixelBitlength-c.bits;for(v=0,b=0;v<d;v++){for(y=f[v],_=0;_<B;)g[b++]=y>>>_&255,_+=c.bits;p[v]=y>>>_&255}}if(16===c.bits){d=(f=new Uint32Array(c.decodePixels().buffer)).length,g=new Uint8Array(d*(32/c.pixelBitlength)*c.colors),p=new Uint8Array(d*(32/c.pixelBitlength)),m=c.colors>1,v=0,b=0;for(var E=0;v<d;)y=f[v++],g[b++]=y>>>0&255,m&&(g[b++]=y>>>16&255,y=f[v++],g[b++]=y>>>0&255),p[E++]=y>>>16&255;a=8}o!==e.image_compression.NONE?(r=t(g,c.width*c.colors,c.colors,o),h=t(p,c.width,1,o)):(r=g,h=p,w=void 0)}if(3===c.colorType&&(s=this.color_spaces.INDEXED,A=c.palette,c.transparency.indexed)){var S=c.transparency.indexed,C=0;for(v=0,d=S.length;v<d;++v)C+=S[v];if((C/=255)==d-1&&-1!==S.indexOf(0))u=[S.indexOf(0)];else if(C!==d){for(f=c.decodePixels(),p=new Uint8Array(f.length),v=0,d=f.length;v<d;v++)p[v]=S[f[v]];h=t(p,c.width,1)}}var I=function(t){var r;switch(t){case e.image_compression.FAST:r=11;break;case e.image_compression.MEDIUM:r=13;break;case e.image_compression.SLOW:r=14;break;default:r=12}return r}(o);return w===this.decode.FLATE_DECODE&&(x="/Predictor "+I+" "),x+="/Colors "+l+" /BitsPerComponent "+a+" /Columns "+c.width,(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:i,data:r,index:n,filter:w,decodeParameters:x,transparency:u,palette:A,sMask:h,predictor:I,width:c.width,height:c.height,bitsPerComponent:a,colorSpace:s}}}}(Br.API),function(e){e.processGIF89A=function(t,r,n,i){var o=new Mn(t),s=o.width,a=o.height,c=[];o.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:a},l=new Dn(100).encode(u,100);return e.processJPEG.call(this,l,r,n,i)},e.processGIF87A=e.processGIF89A}(Br.API),jn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},jn.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){Gt.log("bit decode error:"+e)}},jn.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[o>>7-a&1];this.data[s+4*a]=c.blue,this.data[s+4*a+1]=c.green,this.data[s+4*a+2]=c.red,this.data[s+4*a+3]=255}0!==r&&(this.pos+=4-r)}},jn.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,a=o>>4,c=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},jn.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},jn.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,c=(o>>10&t)/t*255|0,u=o>>15?255:0,l=n*this.width*4+4*i;this.data[l]=c,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=u}this.pos+=e}},jn.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,l=i*this.width*4+4*o;this.data[l]=u,this.data[l+1]=c,this.data[l+2]=a,this.data[l+3]=255}this.pos+=e}},jn.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},jn.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=s}},jn.prototype.getData=function(){return this.data},
/**
   * @license
   * Copyright (c) 2018 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){e.processBMP=function(t,r,n,i){var o=new jn(t,!1),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new Dn(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(Br.API),Qn.prototype.getData=function(){return this.data},
/**
   * @license
   * Copyright (c) 2019 Aras Abbasi
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){e.processWEBP=function(t,r,n,i){var o=new Qn(t),s=o.width,a=o.height,c={data:o.getData(),width:s,height:a},u=new Dn(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(Br.API),Br.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,c=0,u=0;u<i;u+=4){var l=n[u],A=n[u+1],h=n[u+2],f=n[u+3];o[a++]=l,o[a++]=A,o[a++]=h,s[c++]=f}var d=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:d,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Br.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Tn=Br.API,On=Tn.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,l=u.fof?u.fof:1,A=!1!==t.doKerning,h=0,f=e.length,d=0,p=a[0]||c,g=[];for(r=0;r<f;r++)n=e.charCodeAt(r),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/o)||0)/1e3):(h=A&&"object"===nt(u[n])&&!isNaN(parseInt(u[n][d],10))?u[n][d]/l:0,g.push((a[n]||p)/c+h)),d=n;return g},Ln=Tn.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Tn.processArabic&&(e=Tn.processArabic(e)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(e,r,i)/r:On.apply(this,arguments).reduce((function(e,t){return e+t}),0)},Nn=function(e,t,r,n){for(var i=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<r;)a+=t[o],o++;i.push(e.slice(0,o));var c=o;for(a=0;o!==s;)a+t[o]>n&&(i.push(e.slice(c,o)),a=0,c=o),a+=t[o],o++;return c!==o&&i.push(e.slice(c,o)),i},Un=function(e,t,r){r||(r={});var n,i,o,s,a,c,u,l=[],A=[l],h=r.textIndent||0,f=0,d=0,p=e.split(" "),g=On.apply(this,[" ",r])[0];if(c=-1===r.lineIndent?p[0].length+2:r.lineIndent||0){var m=Array(c).join(" "),y=[];p.map((function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):y.push(e[0])})),p=y,c=Ln.apply(this,[m,r])}for(o=0,s=p.length;o<s;o++){var v=0;if(n=p[o],c&&"\n"==n[0]&&(n=n.substr(1),v=1),h+f+(d=(i=On.apply(this,[n,r])).reduce((function(e,t){return e+t}),0))>t||v){if(d>t){for(a=Nn.apply(this,[n,i,t-(h+f),t]),l.push(a.shift()),l=[a.pop()];a.length;)A.push([a.shift()]);d=i.slice(n.length-(l[0]?l[0].length:0)).reduce((function(e,t){return e+t}),0)}else l=[n];A.push(l),h=d+c,f=g}else l.push(n),h+=f+d,f=g}return u=c?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},A.map(u)},Tn.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var a,c,u=[];for(a=0,c=n.length;a<c;a++)u=u.concat(Un.apply(this,[n[a],s,o]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var o=function(e){return"0x"+parseInt(e,10).toString(16)},s=e.__fontmetrics__.compress=function(e){var t,r,i,a,c=["{"];for(var u in e){if(t=e[u],isNaN(parseInt(u,10))?r="'"+u+"'":(u=parseInt(u,10),r=(r=o(u).slice(2)).slice(0,-1)+n[r.slice(-1)]),"number"==typeof t)t<0?(i=o(t).slice(3),a="-"):(i=o(t).slice(2),a=""),i=a+i.slice(0,-1)+n[i.slice(-1)];else{if("object"!==nt(t))throw new Error("Don't know what to do with value type "+nt(t)+".");i=s(t)}c.push(r+i)}return c.push("}"),c.join("")},a=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,o,s={},a=1,c=s,u=[],l="",A="",h=e.length-1,f=1;f<h;f+=1)"'"==(o=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(u.push([c,i]),c={},i=void 0):"}"==o?((n=u.pop())[0][n[1]]=c,i=void 0,c=n[0]):"-"==o?a=-1:void 0===i?r.hasOwnProperty(o)?(l+=r[o],i=parseInt(l,16)*a,a=1,l=""):l+=o:r.hasOwnProperty(o)?(A+=r[o],c[i]=parseInt(A,16)*a,a=1,i=void 0,A=""):A+=o;return s},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},l={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=l.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode.encoding=n,t.encoding=n.codePages[0])}])}(Br.API),
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(n=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(r,n){n=/^\x00\x01\x00\x00/.test(n)?t(n):t(Xt(n)),r.metadata=e.API.TTFFont.open(n),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}(i,n)}}])}(Br),
/** @license
   * Copyright (c) 2012 Willow Systems Corporation, https://github.com/willowsystems
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */
function(e){function t(){return(zt.canvg?Promise.resolve(zt.canvg):Promise.resolve().then((function(){return Nke}))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Br.API.addSvgAsImage=function(e,r,n,i,o,s,a,c){if(isNaN(r)||isNaN(n))throw Gt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Gt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var l=u.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then((function(t){return t.fromString(l,e,A)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(A)})).then((function(){h.addImage(u.toDataURL("image/jpeg",1),r,n,i,o,a,c)}))}}(),Br.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Br.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),c=[],u=0,l=0,A=0;function h(e,t){var r,n=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=a.length;for(A=0;A<f;A+=1)r[a[A]].value=r[a[A]].defaultValue,r[a[A]].explicitSet=!1}if("object"===nt(e))for(i in e)if(o=e[i],h(a,i)&&void 0!==o){if("boolean"===r[i].type&&"boolean"==typeof o)r[i].value=o;else if("name"===r[i].type&&h(r[i].valueSet,o))r[i].value=o;else if("integer"===r[i].type&&Number.isInteger(o))r[i].value=o;else if("array"===r[i].type){for(u=0;u<o.length;u+=1)if(n=!0,1===o[u].length&&"number"==typeof o[u][0])c.push(String(o[u]-1));else if(o[u].length>1){for(l=0;l<o[u].length;l+=1)"number"!=typeof o[u][l]&&(n=!1);!0===n&&c.push([o[u][0]-1,o[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this
/** ====================================================================
   * @license
   * jsPDF XMP metadata plugin
   * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
   *
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   * ====================================================================
   */},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),s=r.length+n.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+r+n+i+o),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Br.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,n=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],s=0,a=e.length;s<a;++s){if(r=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(s),-1==n.indexOf(r)&&(n.push(r),n.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return o.join("");r=r.toString(16),o.push(i[4-r.length],r)}return o.join("")},n=function(e){var t,r,n,i,o,s,a;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],s=0,a=(r=Object.keys(e).sort((function(e,t){return e-t}))).length;s<a;s++)t=r[s],n.length>=100&&(o+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),n.push("<"+t+"><"+i+">"));return n.length&&(o+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,i=t.out,o=t.newObject,s=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var a=r.metadata.Unicode.widths,c=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),u="",l=0;l<c.length;l++)u+=String.fromCharCode(c[l]);var A=o();s({data:u,addLength1:!0,objectId:A}),i("endobj");var h=o();s({data:n(r.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var f=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+yr(r.fontName)),i("/FontFile2 "+A+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),i("/Flags "+r.metadata.flags),i("/StemV "+r.metadata.stemV),i("/ItalicAngle "+r.metadata.italicAngle),i("/Ascent "+r.metadata.ascender),i("/Descent "+r.metadata.decender),i("/CapHeight "+r.metadata.capHeight),i(">>"),i("endobj");var d=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+yr(r.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+r.encoding+")"),i(">>"),i(">>"),i("endobj"),r.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+yr(r.fontName)),i("/Encoding /"+r.encoding),i("/DescendantFonts ["+d+" 0 R]"),i(">>"),i("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,i=t.out,o=t.newObject,s=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var a=r.metadata.rawData,c="",u=0;u<a.length;u++)c+=String.fromCharCode(a[u]);var l=o();s({data:c,addLength1:!0,objectId:l}),i("endobj");var A=o();s({data:n(r.metadata.toUnicode),addLength1:!0,objectId:A}),i("endobj");var h=o();i("<<"),i("/Descent "+r.metadata.decender),i("/CapHeight "+r.metadata.capHeight),i("/StemV "+r.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),i("/FontName /"+yr(r.fontName)),i("/ItalicAngle "+r.metadata.italicAngle),i("/Ascent "+r.metadata.ascender),i(">>"),i("endobj"),r.objectNumber=o();for(var f=0;f<r.metadata.hmtx.widths.length;f++)r.metadata.hmtx.widths[f]=parseInt(r.metadata.hmtx.widths[f]*(1e3/r.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+yr(r.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),i("endobj"),r.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,n=e.text||"",i=e.x,o=e.y,s=e.options||{},a=e.mutex||{},c=a.pdfEscape,u=a.activeFontKey,l=a.fonts,A=u,h="",f=0,d="",p=l[A].encoding;if("Identity-H"!==l[A].encoding)return{text:n,x:i,y:o,options:s,mutex:a};for(d=n,A=u,Array.isArray(n)&&(d=n[0]),f=0;f<d.length;f+=1)l[A].metadata.hasOwnProperty("cmap")&&(t=l[A].metadata.cmap.unicode.codeMap[d[f].charCodeAt(0)]),t||d[f].charCodeAt(0)<256&&l[A].metadata.hasOwnProperty("Unicode")?h+=d[f]:h+="";var g="";return parseInt(A.slice(1))<14||"WinAnsiEncoding"===p?g=c(h,A).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===p&&(g=r(h,l[A])),a.isHex=!0,{text:g,x:i,y:o,options:s,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],n={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?r.push([i(Object.assign({},n,{text:t[o][0]})).text,t[o][1],t[o][2]]):r.push(i(Object.assign({},n,{text:t[o]})).text);e.text=r}else e.text=i(Object.assign({},n,{text:t})).text}])}(Br),
/**
   * @license
   * jsPDF virtual FileSystem functionality
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Br.API),
/**
   * @license
   * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
   * MIT License
   */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,n,i,o,s,a,c,u=t,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},d=["(",")","(","<",">","<","[","]","[","{","}","{","¬´","¬ª","¬´","‚Äπ","‚Ä∫","‚Äπ","‚ÅÖ","‚ÅÜ","‚ÅÖ","‚ÅΩ","‚Åæ","‚ÅΩ","‚Çç","‚Çé","‚Çç","‚â§","‚â•","‚â§","‚å©","‚å™","‚å©","Ôπô","Ôπö","Ôπô","Ôπõ","Ôπú","Ôπõ","Ôπù","Ôπû","Ôπù","Ôπ§","Ôπ•","Ôπ§"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),r=t>>8,n=f[r];return void 0!==n?u[256*n+(255&t)]:252===r||253===r?"AL":p.test(r)?"L":8===r?"R":"N"},v=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=y(e.charAt(r))))return!1;if("R"===t)return!0}return!1},b=function(e,t,s,a){var c,u,l,A,h=t[a];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(c=s[a-1])&&"AN"!==c||"EN"!==(u=t[a+1])&&"AN"!==u?h="N":g&&(u="AN"),h=u===c?u:"N";break;case"ES":h="EN"===(c=a>0?s[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===s[a-1]){h="EN";break}if(g){h="N";break}for(l=a+1,A=t.length;l<A&&"ET"===t[l];)l++;h=l<A&&"EN"===t[l]?"EN":"N";break;case"NSM":if(i&&!o){for(A=t.length,l=a+1;l<A&&"NSM"===t[l];)l++;if(l<A){var f=e[a],d=f>=1425&&f<=2303||64286===f;if(c=t[l],d&&("R"===c||"AL"===c)){h="R";break}}}h=a<1||"B"===(c=t[a-1])?"N":s[a-1];break;case"B":g=!1,r=!0,h=m;break;case"S":n=!0,h="N"}return h},w=function(e,t,r){var n=e.split("");return r&&x(n,r,{hiLevel:m}),n.reverse(),t&&t.reverse(),n.join("")},x=function(e,t,i){var o,s,a,c,u,f=-1,d=e.length,p=0,v=[],w=m?A:l,x=[];for(g=!1,r=!1,n=!1,s=0;s<d;s++)x[s]=y(e[s]);for(a=0;a<d;a++){if(u=p,v[a]=b(e,x,v,a),o=240&(p=w[u][h[v[a]]]),p&=15,t[a]=c=w[p][5],o>0)if(16===o){for(s=f;s<a;s++)t[s]=1;f=-1}else f=-1;if(w[p][6])-1===f&&(f=a);else if(f>-1){for(s=f;s<a;s++)t[s]=c;f=-1}"B"===x[a]&&(t[a]=0),i.hiLevel|=c}n&&function(e,t,r){for(var n=0;n<r;n++)if("S"===e[n]){t[n]=m;for(var i=n-1;i>=0&&"WS"===e[i];i--)t[i]=m}}(x,t,d)},_=function(e,t,n,i,o){if(!(o.hiLevel<e)){if(1===e&&1===m&&!r)return t.reverse(),void(n&&n.reverse());for(var s,a,c,u,l=t.length,A=0;A<l;){if(i[A]>=e){for(c=A+1;c<l&&i[c]>=e;)c++;for(u=A,a=c-1;u<a;u++,a--)s=t[u],t[u]=t[a],t[a]=s,n&&(s=n[u],n[u]=n[a],n[a]=s);A=c}A++}}},B=function(e,t,r){var n=e.split(""),i={hiLevel:m};return r||(r=[]),x(n,r,i),function(e,t,r){if(0!==r.hiLevel&&c)for(var n,i=0;i<e.length;i++)1===t[i]&&(n=d.indexOf(e[i]))>=0&&(e[i]=d[n+1])}(n,r,i),_(2,n,t,r,i),_(1,n,t,r,i),n.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===o&&(o=v(e)),void 0===a&&(a=v(e))}(e,t),i||!s||a)if(i&&s&&o^a)m=o?1:0,e=w(e,t,r);else if(!i&&s&&a)m=o?1:0,e=B(e,t,r),e=w(e,t);else if(!i||o||s||a){if(i&&!s&&o^a)e=w(e,t),o?(m=0,e=B(e,t,r)):(m=1,e=B(e,t,r),e=w(e,t));else if(i&&o&&!s&&a)m=1,e=B(e,t,r),e=w(e,t);else if(!i&&!s&&o^a){var n=c;o?(m=1,e=B(e,t,r),m=0,c=!1,e=B(e,t,r),c=n):(m=0,e=B(e,t,r),e=w(e,t),m=1,c=!1,e=B(e,t,r),c=n,e=w(e,t))}}else m=0,e=B(e,t,r);else m=o?1:0,e=B(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,s=e.isOutputVisual,o=e.isInputRtl,a=e.isOutputRtl,c=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,n=(e.x,e.y,e.options||{}),i=(e.mutex,n.lang,[]);if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,r.setOptions(n),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([r.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([r.doBidiReorder(t[o])]);e.text=i}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(Br),Br.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Kn(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ci(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Vn(this.contents),this.head=new Gn(this),this.name=new ei(this),this.cmap=new $n(this),this.toUnicode={},this.hhea=new Jn(this),this.maxp=new ti(this),this.hmtx=new ri(this),this.post=new Yn(this),this.os2=new Xn(this),this.loca=new ai(this),this.glyf=new ii(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,n,i;for(i=[],t=0,r=(n=this.bbox).length;t<r;t++)e=n[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),0!=(32768&(t=n>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var n,i,o,s;for(o=0,i=0,s=(e=""+e).length;0<=s?i<s:i>s;i=0<=s?++i:--i)n=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var Hn,Kn=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,n,i,o,s,a;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*i+65536*o+256*s+a},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(this.writeByte(t));return i},e}(),Vn=function(){var e;function t(e){var t,r,n;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,n=this.tableCount;0<=n?r<n:r>n;r=0<=n?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,n,i,o,s,a,c,u,l,A,h,f,d;for(d in h=Object.keys(t).length,a=Math.log(2),l=16*Math.floor(Math.log(h)/a),o=Math.floor(l/a),u=16*h-l,(n=new Kn).writeInt(this.scalarType),n.writeShort(h),n.writeShort(l),n.writeShort(o),n.writeShort(u),i=16*h,c=n.pos+i,s=null,f=[],t)for(A=t[d],n.writeString(d),n.writeInt(e(A)),n.writeInt(c),n.writeInt(A.length),f=f.concat(A),"head"===d&&(s=c),c+=A.length;c%4;)f.push(0),c++;return n.write(f),r=2981146554-e(n.data),n.pos=s+8,n.writeUInt32(r),n.data},e=function(e){var t,r,n,i;for(e=ni.call(e);e.length%4;)e.push(0);for(n=new Kn(e),r=0,t=0,i=e.length;t<i;t=t+=4)r+=n.readUInt32();return 4294967295&r},t}(),zn={}.hasOwnProperty,qn=function(e,t){for(var r in t)zn.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Hn=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Gn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new Kn).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),Wn=function(){function e(e,t){var r,n,i,o,s,a,c,u,l,A,h,f,d,p,g,m,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),l=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(h=e.readUInt16(),A=h/2,e.pos+=6,i=function(){var t,r;for(r=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,d=function(){var t,r;for(r=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)r.push(e.readUInt16());return r}(),c=function(){var t,r;for(r=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)r.push(e.readUInt16());return r}(),u=function(){var t,r;for(r=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)r.push(e.readUInt16());return r}(),n=(this.length-e.pos+this.offset)/2,s=function(){var t,r;for(r=[],a=t=0;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt16());return r}(),a=g=0,y=i.length;g<y;a=++g)for(p=i[a],r=m=f=d[a];f<=p?m<=p:m>=p;r=f<=p?++m:--m)0===u[a]?o=r+c[a]:0!==(o=s[u[a]/2+(r-f)-(A-a)]||0)&&(o+=c[a]),this.codeMap[r]=65535&o}e.pos=l}return e.encode=function(e,t){var r,n,i,o,s,a,c,u,l,A,h,f,d,p,g,m,y,v,b,w,x,_,B,E,S,C,I,k,P,T,O,L,N,U,F,M,R,D,j,Q,H,K,V,z,q,G;switch(k=new Kn,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(d=0,p=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),m={0:0},i={},P=0,N=o.length;P<N;P++)null==m[V=e[n=o[P]]]&&(m[V]=++d),i[n]={old:e[n],new:m[e[n]]},p[n]=m[e[n]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(p),{charMap:i,subtable:k.data,maxGlyphID:d+1};case"unicode":for(C=[],l=[],y=0,m={},r={},g=c=null,T=0,U=o.length;T<U;T++)null==m[b=e[n=o[T]]]&&(m[b]=++y),r[n]={old:b,new:m[b]},s=m[b]-n,null!=g&&s===c||(g&&l.push(g),C.push(n),c=s),g=n;for(g&&l.push(g),l.push(65535),C.push(65535),E=2*(B=C.length),_=2*Math.pow(Math.log(B)/Math.LN2,2),A=Math.log(_/2)/Math.LN2,x=2*B-_,a=[],w=[],h=[],f=O=0,F=C.length;O<F;f=++O){if(S=C[f],u=l[f],65535===S){a.push(0),w.push(0);break}if(S-(I=r[S].new)>=32768)for(a.push(0),w.push(2*(h.length+B-f)),n=L=S;S<=u?L<=u:L>=u;n=S<=u?++L:--L)h.push(r[n].new);else a.push(I-S),w.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*B+2*h.length),k.writeUInt16(0),k.writeUInt16(E),k.writeUInt16(_),k.writeUInt16(A),k.writeUInt16(x),H=0,M=l.length;H<M;H++)n=l[H],k.writeUInt16(n);for(k.writeUInt16(0),K=0,R=C.length;K<R;K++)n=C[K],k.writeUInt16(n);for(z=0,D=a.length;z<D;z++)s=a[z],k.writeUInt16(s);for(q=0,j=w.length;q<j;q++)v=w[q],k.writeUInt16(v);for(G=0,Q=h.length;G<Q;G++)d=h[G],k.writeUInt16(d);return{charMap:r,subtable:k.data,maxGlyphID:y+1}}},e}(),$n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new Wn(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var r,n;return null==t&&(t="macroman"),r=Wn.encode(e,t),(n=new Kn).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},t}(),Jn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Xn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Yn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="post",t.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,n;for(n=[],i=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;i=0<=r?++t:--t)n.push(e.readUInt32());return n}.call(this)}},t}(),Zn=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ei=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="name",t.prototype.parse=function(e){var t,r,n,i,o,s,a,c,u,l,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(a={},i=u=0,l=r.length;u<l;i=++u)n=r[i],e.pos=n.offset,c=e.readString(n.length),o=new Zn(c,n),null==a[A=n.nameID]&&(a[A]=[]),a[n.nameID].push(o);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),ti=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),ri=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,r,n,i,o,s,a;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,i;for(i=[],t=r=0;0<=n?r<n:r>n;t=0<=n?++r:--r)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,r,n;for(n=[],e=0,t=(r=this.metrics).length;e<t;e++)i=r[e],n.push(i.advance);return n}.call(this),r=this.widths[this.widths.length-1],a=[],t=o=0;0<=n?o<n:o>n;t=0<=n?++o:--o)a.push(this.widths.push(r));return a},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),ni=[].slice,ii=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,r,n,i,o,s,a,c,u,l;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),0===(n=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,o=(s=new Kn(t.read(n))).readShort(),c=s.readShort(),l=s.readShort(),a=s.readShort(),u=s.readShort(),this.cache[e]=-1===o?new si(s,c,l,a,u):new oi(s,o,c,l,a,u),this.cache[e]))},t.prototype.encode=function(e,t,r){var n,i,o,s,a;for(o=[],i=[],s=0,a=t.length;s<a;s++)n=e[t[s]],i.push(o.length),n&&(o=o.concat(n.encode(r)));return i.push(o.length),{table:o,offsets:i}},t}(),oi=function(){function e(e,t,r,n,i,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),si=function(){function e(e,t,r,n,i){var o,s;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new Kn(ni.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),ai=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qn(t,Hn),t.prototype.tag="loca",t.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=2)n.push(2*e.readUInt16());return n}.call(this):function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=4)n.push(e.readUInt32());return n}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,i=0,o=0;o<r.length;++o)if(r[o]=n,i<t.length&&t[i]==o){++i,r[o]=n;var s=this.offsets[o],a=this.offsets[o+1]-s;a>0&&(n+=a)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),ci=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,n,i;for(t in n=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=n[r];return e},e.prototype.glyphsFor=function(e){var t,r,n,i,o,s,a;for(n={},o=0,s=e.length;o<s;o++)n[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],n)(null!=(r=n[i])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in a=this.glyphsFor(t))r=a[i],n[i]=r;return n},e.prototype.encode=function(e,t){var r,n,i,o,s,a,c,u,l,A,h,f,d,p,g;for(n in r=$n.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),h={0:0},g=r.charMap)h[(a=g[n]).old]=a.new;for(f in A=r.maxGlyphID,o)f in h||(h[f]=A++);return u=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(h),l=Object.keys(u).sort((function(e,t){return e-t})),d=function(){var e,t,r;for(r=[],e=0,t=l.length;e<t;e++)s=l[e],r.push(u[s]);return r}(),i=this.font.glyf.encode(o,d,h),c=this.font.loca.encode(i.offsets,d),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();Br.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var n,i,o,s;if(Array.isArray(r))return"["+function(){var e,i,o;for(o=[],e=0,i=r.length;e<i;e++)n=r[e],o.push(t.convert(n));return o}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(i in o=["<<"],r)s=r[i],o.push("/"+i+" "+t.convert(s));return o.push(">>"),o.join("\n")}return""+r},t}();var ui={exports:{}};
/*!
   * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
   * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
   * Released under MIT License
   */ui.exports=function(){
/*! *****************************************************************************
  	    Copyright (c) Microsoft Corporation.

  	    Permission to use, copy, modify, and/or distribute this software for any
  	    purpose with or without fee is hereby granted.

  	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  	    PERFORMANCE OF THIS SOFTWARE.
  	    ***************************************************************************** */
var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};function t(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function n(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):i(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function i(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return c([e,t])}}function c(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||t)}for(var s=function(){function e(e,t,r,n){this.left=e,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find((function(e){return 0!==e.width}));return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return s.fromClientRect(e,t.getBoundingClientRect())},c=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new s(0,0,n,i)},u=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,o="";++i<r;){var s=e[i];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(i+1===r||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<A.length;f++)h[A.charCodeAt(f)]=f;for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256),g=0;g<d.length;g++)p[d.charCodeAt(g)]=g;for(var m=function(e){var t,r,n,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),l=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<a;t+=4)r=p[e.charCodeAt(t)],n=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],o=p[e.charCodeAt(t+3)],l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u},y=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},v=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},b=5,w=11,x=2,_=65536>>b,B=(1<<b)-1,E=_+(1024>>b)+32,S=65536>>w,C=(1<<w-b)-1,I=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},k=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},P=function(e,t){var r=m(e),n=Array.isArray(r)?v(r):new Uint32Array(r),i=Array.isArray(r)?y(r):new Uint16Array(r),o=24,s=I(i,o/2,n[4]/2),a=2===n[5]?I(i,(o+n[4])/2):k(n,Math.ceil((o+n[4])/4));return new T(n[0],n[1],n[2],n[3],s,a)},T=function(){function e(e,t,r,n,i,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>b])<<x)+(e&B),this.data[t];if(e<=65535)return t=((t=this.index[_+(e-55296>>b)])<<x)+(e&B),this.data[t];if(e<this.highStart)return t=E-S+(e>>w),t=this.index[t],t+=e>>b&C,t=((t=this.index[t])<<x)+(e&B),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L="undefined"==typeof Uint8Array?[]:new Uint8Array(256),N=0;N<O.length;N++)L[O.charCodeAt(N)]=N;var U=50,F=1,M=2,R=3,D=4,j=5,Q=7,H=8,K=9,V=10,z=11,q=12,G=13,W=14,$=15,J=16,X=17,Y=18,Z=19,ee=20,te=21,re=22,ne=23,ie=24,oe=25,se=26,ae=27,ce=28,ue=29,le=30,Ae=31,he=32,fe=33,de=34,pe=35,ge=36,me=37,ye=38,ve=39,be=40,we=41,xe=42,_e=43,Be=[9001,65288],Ee="!",Se="√ó",Ce="√∑",Ie=P("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),ke=[le,ge],Pe=[F,M,R,j],Te=[V,H],Oe=[ae,se],Le=Pe.concat(Te),Ne=[ye,ve,be,de,pe],Ue=[$,G],Fe=function(e,t){void 0===t&&(t="strict");var r=[],n=[],i=[];return e.forEach((function(e,o){var s=Ie.get(e);if(s>U?(i.push(!0),s-=U):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return n.push(o),r.push(J);if(s===D||s===z){if(0===o)return n.push(o),r.push(le);var a=r[o-1];return-1===Le.indexOf(a)?(n.push(n[o-1]),r.push(a)):(n.push(o),r.push(le))}return n.push(o),s===Ae?r.push("strict"===t?te:me):s===xe||s===ue?r.push(le):s===_e?e>=131072&&e<=196605||e>=196608&&e<=262141?r.push(me):r.push(le):void r.push(s)})),[n,r,i]},Me=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=r;o<=n.length;){if((c=n[++o])===t)return!0;if(c!==V)break}if(i===V)for(o=r;o>0;){var s=n[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=r;a<=n.length;){var c;if((c=n[++a])===t)return!0;if(c!==V)break}if(s!==V)break}return!1},Re=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n!==V)return n;r--}return 0},De=function(e,t,r,n,i){if(0===r[n])return Se;var o=n-1;if(Array.isArray(i)&&!0===i[o])return Se;var s=o-1,a=o+1,c=t[o],u=s>=0?t[s]:0,l=t[a];if(c===M&&l===R)return Se;if(-1!==Pe.indexOf(c))return Ee;if(-1!==Pe.indexOf(l))return Se;if(-1!==Te.indexOf(l))return Se;if(Re(o,t)===H)return Ce;if(Ie.get(e[o])===z)return Se;if((c===he||c===fe)&&Ie.get(e[a])===z)return Se;if(c===Q||l===Q)return Se;if(c===K)return Se;if(-1===[V,G,$].indexOf(c)&&l===K)return Se;if(-1!==[X,Y,Z,ie,ce].indexOf(l))return Se;if(Re(o,t)===re)return Se;if(Me(ne,re,o,t))return Se;if(Me([X,Y],te,o,t))return Se;if(Me(q,q,o,t))return Se;if(c===V)return Ce;if(c===ne||l===ne)return Se;if(l===J||c===J)return Ce;if(-1!==[G,$,te].indexOf(l)||c===W)return Se;if(u===ge&&-1!==Ue.indexOf(c))return Se;if(c===ce&&l===ge)return Se;if(l===ee)return Se;if(-1!==ke.indexOf(l)&&c===oe||-1!==ke.indexOf(c)&&l===oe)return Se;if(c===ae&&-1!==[me,he,fe].indexOf(l)||-1!==[me,he,fe].indexOf(c)&&l===se)return Se;if(-1!==ke.indexOf(c)&&-1!==Oe.indexOf(l)||-1!==Oe.indexOf(c)&&-1!==ke.indexOf(l))return Se;if(-1!==[ae,se].indexOf(c)&&(l===oe||-1!==[re,$].indexOf(l)&&t[a+1]===oe)||-1!==[re,$].indexOf(c)&&l===oe||c===oe&&-1!==[oe,ce,ie].indexOf(l))return Se;if(-1!==[oe,ce,ie,X,Y].indexOf(l))for(var A=o;A>=0;){if((h=t[A])===oe)return Se;if(-1===[ce,ie].indexOf(h))break;A--}if(-1!==[ae,se].indexOf(l))for(A=-1!==[X,Y].indexOf(c)?s:o;A>=0;){var h;if((h=t[A])===oe)return Se;if(-1===[ce,ie].indexOf(h))break;A--}if(ye===c&&-1!==[ye,ve,de,pe].indexOf(l)||-1!==[ve,de].indexOf(c)&&-1!==[ve,be].indexOf(l)||-1!==[be,pe].indexOf(c)&&l===be)return Se;if(-1!==Ne.indexOf(c)&&-1!==[ee,se].indexOf(l)||-1!==Ne.indexOf(l)&&c===ae)return Se;if(-1!==ke.indexOf(c)&&-1!==ke.indexOf(l))return Se;if(c===ie&&-1!==ke.indexOf(l))return Se;if(-1!==ke.concat(oe).indexOf(c)&&l===re&&-1===Be.indexOf(e[a])||-1!==ke.concat(oe).indexOf(l)&&c===Y)return Se;if(c===we&&l===we){for(var f=r[o],d=1;f>0&&t[--f]===we;)d++;if(d%2!=0)return Se}return c===he&&l===fe?Se:Ce},je=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Fe(e,t.lineBreak),n=r[0],i=r[1],o=r[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[oe,le,xe].indexOf(e)?me:e})));var s="keep-all"===t.wordBreak?o.map((function(t,r){return t&&e[r]>=19968&&e[r]<=40959})):void 0;return[n,i,s]},Qe=function(){function e(e,t,r,n){this.codePoints=e,this.required=t===Ee,this.start=r,this.end=n}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var r=u(e),n=je(r,t),i=n[0],o=n[1],s=n[2],a=r.length,c=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var e=Se;l<a&&(e=De(r,o,i,++l,s))===Se;);if(e!==Se||l===a){var t=new Qe(r,e,c,l);return c=l,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,Ve=2,ze=4,qe=8,Ge=10,We=47,$e=92,Je=9,Xe=32,Ye=34,Ze=61,et=35,tt=36,rt=37,nt=39,it=40,ot=41,st=95,at=45,ct=33,ut=60,lt=62,At=64,ht=91,ft=93,dt=61,pt=123,gt=63,mt=125,yt=124,vt=126,bt=128,wt=65533,xt=42,_t=43,Bt=44,Et=58,St=59,Ct=46,It=0,kt=8,Pt=11,Tt=14,Ot=31,Lt=127,Nt=-1,Ut=48,Ft=97,Mt=101,Rt=102,Dt=117,jt=122,Qt=65,Ht=69,Kt=70,Vt=85,zt=90,qt=function(e){return e>=Ut&&e<=57},Gt=function(e){return e>=55296&&e<=57343},Wt=function(e){return qt(e)||e>=Qt&&e<=Kt||e>=Ft&&e<=Rt},$t=function(e){return e>=Ft&&e<=jt},Jt=function(e){return e>=Qt&&e<=zt},Xt=function(e){return $t(e)||Jt(e)},Yt=function(e){return e>=bt},Zt=function(e){return e===Ge||e===Je||e===Xe},er=function(e){return Xt(e)||Yt(e)||e===st},tr=function(e){return er(e)||qt(e)||e===at},rr=function(e){return e>=It&&e<=kt||e===Pt||e>=Tt&&e<=Ot||e===Lt},nr=function(e,t){return e===$e&&t!==Ge},ir=function(e,t,r){return e===at?er(t)||nr(t,r):!!er(e)||!(e!==$e||!nr(e,t))},or=function(e,t,r){return e===_t||e===at?!!qt(t)||t===Ct&&qt(r):qt(e===Ct?t:e)},sr=function(e){var t=0,r=1;e[t]!==_t&&e[t]!==at||(e[t]===at&&(r=-1),t++);for(var n=[];qt(e[t]);)n.push(e[t++]);var i=n.length?parseInt(l.apply(void 0,n),10):0;e[t]===Ct&&t++;for(var o=[];qt(e[t]);)o.push(e[t++]);var s=o.length,a=s?parseInt(l.apply(void 0,o),10):0;e[t]!==Ht&&e[t]!==Mt||t++;var c=1;e[t]!==_t&&e[t]!==at||(e[t]===at&&(c=-1),t++);for(var u=[];qt(e[t]);)u.push(e[t++]);var A=u.length?parseInt(l.apply(void 0,u),10):0;return r*(i+a*Math.pow(10,-s))*Math.pow(10,c*A)},ar={type:2},cr={type:3},ur={type:4},lr={type:13},Ar={type:8},hr={type:21},fr={type:9},dr={type:10},pr={type:11},gr={type:12},mr={type:14},yr={type:23},vr={type:1},br={type:25},wr={type:24},xr={type:26},_r={type:27},Br={type:28},Er={type:29},Sr={type:31},Cr={type:32},Ir=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(u(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Cr;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ye:return this.consumeStringToken(Ye);case et:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(tr(t)||nr(r,n)){var i=ir(t,r,n)?Ve:Ke;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),lr;break;case nt:return this.consumeStringToken(nt);case it:return ar;case ot:return cr;case xt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),mr;break;case _t:if(or(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Bt:return ur;case at:var o=e,s=this.peekCodePoint(0),a=this.peekCodePoint(1);if(or(o,s,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ir(o,s,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(s===at&&a===lt)return this.consumeCodePoint(),this.consumeCodePoint(),wr;break;case Ct:if(or(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case We:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===xt&&(c=this.consumeCodePoint())===We)return this.consumeToken();if(c===Nt)return this.consumeToken()}break;case Et:return xr;case St:return _r;case ut:if(this.peekCodePoint(0)===ct&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),br;break;case At:var u=this.peekCodePoint(0),A=this.peekCodePoint(1),h=this.peekCodePoint(2);if(ir(u,A,h))return{type:7,value:this.consumeName()};break;case ht:return Br;case $e:if(nr(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ft:return Er;case dt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),Ar;break;case pt:return pr;case mt:return gr;case Dt:case Vt:var f=this.peekCodePoint(0),d=this.peekCodePoint(1);return f!==_t||!Wt(d)&&d!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fr;if(this.peekCodePoint(0)===yt)return this.consumeCodePoint(),hr;break;case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),dr;break;case Nt:return Cr}return Zt(e)?(this.consumeWhiteSpace(),Sr):qt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):er(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Wt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r)return{type:30,start:parseInt(l.apply(void 0,e.map((function(e){return e===gt?Ut:e}))),16),end:parseInt(l.apply(void 0,e.map((function(e){return e===gt?Kt:e}))),16)};var n=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===at&&Wt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];Wt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:n,end:parseInt(l.apply(void 0,i),16)}}return{type:30,start:n,end:n}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===nt||t===Ye){var r=this.consumeStringToken(this.consumeCodePoint());return 0===r.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===ot)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),yr)}for(;;){var n=this.consumeCodePoint();if(n===Nt||n===ot)return{type:22,value:l.apply(void 0,e)};if(Zt(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===ot?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yr);if(n===Ye||n===nt||n===it||rr(n))return this.consumeBadUrlRemnants(),yr;if(n===$e){if(!nr(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yr;e.push(this.consumeEscapedCodePoint())}else e.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ot||e===Nt)return;nr(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var n=Math.min(t,e);r+=l.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(e){for(var t="",r=0;;){var n=this._value[r];if(n===Nt||void 0===n||n===e)return{type:0,value:t+=this.consumeStringSlice(r)};if(n===Ge)return this._value.splice(0,r),vr;if(n===$e){var i=this._value[r+1];i!==Nt&&void 0!==i&&(i===Ge?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):nr(n,i)&&(t+=this.consumeStringSlice(r),t+=l(this.consumeEscapedCodePoint()),r=-1))}r++}},e.prototype.consumeNumber=function(){var e=[],t=ze,r=this.peekCodePoint(0);for(r!==_t&&r!==at||e.push(this.consumeCodePoint());qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===Ct&&qt(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=qe;qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Ht||r===Mt)&&((n===_t||n===at)&&qt(i)||qt(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=qe;qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[sr(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return ir(n,i,o)?{type:15,number:t,flags:r,unit:this.consumeName()}:n===rt?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Wt(e)){for(var t=l(e);Wt(this.peekCodePoint(0))&&t.length<6;)t+=l(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return 0===r||Gt(r)||r>1114111?wt:r}return e===Nt?wt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tr(t))e+=l(t);else{if(!nr(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),kr=function(){function e(e){this._tokens=e}return e.create=function(t){var r=new Ir;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(32===r.type||Rr(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(32===r.type||3===r.type)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Cr:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Pr=function(e){return 15===e.type},Tr=function(e){return 17===e.type},Or=function(e){return 20===e.type},Lr=function(e){return 0===e.type},Nr=function(e,t){return Or(e)&&e.value===t},Ur=function(e){return 31!==e.type},Fr=function(e){return 31!==e.type&&4!==e.type},Mr=function(e){var t=[],r=[];return e.forEach((function(e){if(4===e.type){if(0===r.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(r),void(r=[])}31!==e.type&&r.push(e)})),r.length&&t.push(r),t},Rr=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Dr=function(e){return 17===e.type||15===e.type},jr=function(e){return 16===e.type||Dr(e)},Qr=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Hr={type:17,number:0,flags:ze},Kr={type:16,number:50,flags:ze},Vr={type:16,number:100,flags:ze},zr=function(e,t,r){var n=e[0],i=e[1];return[qr(n,t),qr(void 0!==i?i:n,r)]},qr=function(e,t){if(16===e.type)return e.number/100*t;if(Pr(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gr="deg",Wr="grad",$r="rad",Jr="turn",Xr={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gr:return Math.PI*t.number/180;case Wr:return Math.PI/200*t.number;case $r:return t.number;case Jr:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Yr=function(e){return 15===e.type&&(e.unit===Gr||e.unit===Wr||e.unit===$r||e.unit===Jr)},Zr=function(e){switch(e.filter(Or).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Hr,Hr];case"to top":case"bottom":return en(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Hr,Vr];case"to right":case"left":return en(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vr,Vr];case"to bottom":case"top":return en(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vr,Hr];case"to left":case"right":return en(270)}return 0},en=function(e){return Math.PI*e/180},tn={name:"color",parse:function(e,t){if(18===t.type){var r=ln[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(5===t.type){if(3===t.value.length){var n=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return on(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){n=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);var s=t.value.substring(3,4);return on(parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(s+s,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),on(parseInt(n,16),parseInt(i,16),parseInt(o,16),1);if(8===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),s=t.value.substring(6,8),on(parseInt(n,16),parseInt(i,16),parseInt(o,16),parseInt(s,16)/255)}if(20===t.type){var a=hn[t.value.toUpperCase()];if(void 0!==a)return a}return hn.TRANSPARENT}},rn=function(e){return 0==(255&e)},nn=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},on=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(255*n)<<0)>>>0},sn=function(e,t){if(17===e.type)return e.number;if(16===e.type){var r=3===t?1:255;return 3===t?e.number/100*r:Math.round(e.number/100*r)}return 0},an=function(e,t){var r=t.filter(Fr);if(3===r.length){var n=r.map(sn),i=n[0],o=n[1],s=n[2];return on(i,o,s,1)}if(4===r.length){var a=r.map(sn),c=(i=a[0],o=a[1],s=a[2],a[3]);return on(i,o,s,c)}return 0};function cn(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<.5?t:r<2/3?6*(t-e)*(2/3-r)+e:e}var un=function(e,t){var r=t.filter(Fr),n=r[0],i=r[1],o=r[2],s=r[3],a=(17===n.type?en(n.number):Xr.parse(e,n))/(2*Math.PI),c=jr(i)?i.number/100:0,u=jr(o)?o.number/100:0,l=void 0!==s&&jr(s)?qr(s,1):1;if(0===c)return on(255*u,255*u,255*u,1);var A=u<=.5?u*(c+1):u+c-u*c,h=2*u-A,f=cn(h,A,a+1/3),d=cn(h,A,a),p=cn(h,A,a-1/3);return on(255*f,255*d,255*p,l)},ln={hsl:un,hsla:un,rgb:an,rgba:an},An=function(e,t){return tn.parse(e,kr.create(t).parseComponentValue())},hn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},fn={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Or(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},dn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pn=function(e,t){var r=tn.parse(e,t[0]),n=t[1];return n&&jr(n)?{color:r,stop:n}:{color:r,stop:null}},gn=function(e,t){var r=e[0],n=e[e.length-1];null===r.stop&&(r.stop=Hr),null===n.stop&&(n.stop=Vr);for(var i=[],o=0,s=0;s<e.length;s++){var a=e[s].stop;if(null!==a){var c=qr(a,t);c>o?i.push(c):i.push(o),o=c}else i.push(null)}var u=null;for(s=0;s<i.length;s++){var l=i[s];if(null===l)null===u&&(u=s);else if(null!==u){for(var A=s-u,h=(l-i[u-1])/(A+1),f=1;f<=A;f++)i[u+f-1]=h*f;u=null}}return e.map((function(e,r){return{color:e.color,stop:Math.max(Math.min(1,i[r]/t),0)}}))},mn=function(e,t,r){var n=t/2,i=r/2,o=qr(e[0],t)-n,s=i-qr(e[1],r);return(Math.atan2(s,o)+2*Math.PI)%(2*Math.PI)},yn=function(e,t,r){var n="number"==typeof e?e:mn(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),o=t/2,s=r/2,a=i/2,c=Math.sin(n-Math.PI/2)*a,u=Math.cos(n-Math.PI/2)*a;return[i,o-u,o+u,s-c,s+c]},vn=function(e,t){return Math.sqrt(e*e+t*t)},bn=function(e,t,r,n,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],s=t[1],a=vn(r-o,n-s);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},wn=function(e,t,r,n,i){var o=0,s=0;switch(e.size){case 0:0===e.shape?o=s=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):1===e.shape&&(o=Math.min(Math.abs(t),Math.abs(t-n)),s=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(0===e.shape)o=s=Math.min(vn(t,r),vn(t,r-i),vn(t-n,r),vn(t-n,r-i));else if(1===e.shape){var a=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),c=bn(n,i,t,r,!0),u=c[0],l=c[1];s=a*(o=vn(u-t,(l-r)/a))}break;case 1:0===e.shape?o=s=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):1===e.shape&&(o=Math.max(Math.abs(t),Math.abs(t-n)),s=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(0===e.shape)o=s=Math.max(vn(t,r),vn(t,r-i),vn(t-n,r),vn(t-n,r-i));else if(1===e.shape){a=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n));var A=bn(n,i,t,r,!1);u=A[0],l=A[1],s=a*(o=vn(u-t,(l-r)/a))}}return Array.isArray(e.size)&&(o=qr(e.size[0],n),s=2===e.size.length?qr(e.size[1],i):o),[o,s]},xn=function(e,t){var r=en(180),n=[];return Mr(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&"to"===o.value)return void(r=Zr(t));if(Yr(o))return void(r=Xr.parse(e,o))}var s=pn(e,t);n.push(s)})),{angle:r,stops:n,type:1}},_n=function(e,t){var r=en(180),n=[];return Mr(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(r=Zr(t));if(Yr(o))return void(r=(Xr.parse(e,o)+en(270))%en(360))}var s=pn(e,t);n.push(s)})),{angle:r,stops:n,type:1}},Bn=function(e,t){var r=en(180),n=[],i=1,o=0,s=3,a=[];return Mr(t).forEach((function(t,r){var o=t[0];if(0===r){if(Or(o)&&"linear"===o.value)return void(i=1);if(Or(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var s=tn.parse(e,o.values[0]);n.push({stop:Hr,color:s})}else if("to"===o.name)s=tn.parse(e,o.values[0]),n.push({stop:Vr,color:s});else if("color-stop"===o.name){var a=o.values.filter(Fr);if(2===a.length){s=tn.parse(e,a[1]);var c=a[0];Tr(c)&&n.push({stop:{type:16,number:100*c.number,flags:c.flags},color:s})}}})),1===i?{angle:(r+en(180))%en(360),stops:n,type:i}:{size:s,shape:o,stops:n,position:a,type:i}},En="closest-side",Sn="farthest-side",Cn="closest-corner",In="farthest-corner",kn="circle",Pn="ellipse",Tn="cover",On="contain",Ln=function(e,t){var r=0,n=3,i=[],o=[];return Mr(t).forEach((function(t,s){var a=!0;if(0===s){var c=!1;a=t.reduce((function(e,t){if(c)if(Or(t))switch(t.value){case"center":return o.push(Kr),e;case"top":case"left":return o.push(Hr),e;case"right":case"bottom":return o.push(Vr),e}else(jr(t)||Dr(t))&&o.push(t);else if(Or(t))switch(t.value){case kn:return r=0,!1;case Pn:return r=1,!1;case"at":return c=!0,!1;case En:return n=0,!1;case Tn:case Sn:return n=1,!1;case On:case Cn:return n=2,!1;case In:return n=3,!1}else if(Dr(t)||jr(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e}),a)}if(a){var u=pn(e,t);i.push(u)}})),{size:n,shape:r,stops:i,position:o,type:2}},Nn=function(e,t){var r=0,n=3,i=[],o=[];return Mr(t).forEach((function(t,s){var a=!0;if(0===s?a=t.reduce((function(e,t){if(Or(t))switch(t.value){case"center":return o.push(Kr),!1;case"top":case"left":return o.push(Hr),!1;case"right":case"bottom":return o.push(Vr),!1}else if(jr(t)||Dr(t))return o.push(t),!1;return e}),a):1===s&&(a=t.reduce((function(e,t){if(Or(t))switch(t.value){case kn:return r=0,!1;case Pn:return r=1,!1;case On:case En:return n=0,!1;case Sn:return n=1,!1;case Cn:return n=2,!1;case Tn:case In:return n=3,!1}else if(Dr(t)||jr(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e}),a)),a){var c=pn(e,t);i.push(c)}})),{size:n,shape:r,stops:i,position:o,type:2}},Un=function(e){return 1===e.type},Fn=function(e){return 2===e.type},Mn={name:"image",parse:function(e,t){if(22===t.type){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(18===t.type){var n=jn[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Rn(e){return!(20===e.type&&"none"===e.value||18===e.type&&!jn[e.name])}var Dn,jn={"linear-gradient":xn,"-moz-linear-gradient":_n,"-ms-linear-gradient":_n,"-o-linear-gradient":_n,"-webkit-linear-gradient":_n,"radial-gradient":Ln,"-moz-radial-gradient":Nn,"-ms-radial-gradient":Nn,"-o-radial-gradient":Nn,"-webkit-radial-gradient":Nn,"-webkit-gradient":Bn},Qn={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var r=t[0];return 20===r.type&&"none"===r.value?[]:t.filter((function(e){return Fr(e)&&Rn(e)})).map((function(t){return Mn.parse(e,t)}))}},Hn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Or(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Kn={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Mr(t).map((function(e){return e.filter(jr)})).map(Qr)}},Vn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Mr(t).map((function(e){return e.filter(Or).map((function(e){return e.value})).join(" ")})).map(zn)}},zn=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Dn||(Dn={}));var qn,Gn={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Mr(t).map((function(e){return e.filter(Wn)}))}},Wn=function(e){return Or(e)||jr(e)},$n=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Jn=$n("top"),Xn=$n("right"),Yn=$n("bottom"),Zn=$n("left"),ei=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Qr(t.filter(jr))}}},ti=ei("top-left"),ri=ei("top-right"),ni=ei("bottom-right"),ii=ei("bottom-left"),oi=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},si=oi("top"),ai=oi("right"),ci=oi("bottom"),ui=oi("left"),li=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Pr(t)?t.number:0}}},Ai=li("top"),hi=li("right"),fi=li("bottom"),di=li("left"),pi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},mi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Or).reduce((function(e,t){return e|yi(t.value)}),0)}},yi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(qn||(qn={}));var wi,xi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?qn.STRICT:qn.NORMAL}},_i={name:"line-height",initialValue:"normal",prefix:!1,type:4},Bi=function(e,t){return Or(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:jr(e)?qr(e,t):t},Ei={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Mn.parse(e,t)}},Si={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ii=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},ki=Ii("top"),Pi=Ii("right"),Ti=Ii("bottom"),Oi=Ii("left"),Li={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Or).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Ni={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ui=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Fi=Ui("top"),Mi=Ui("right"),Ri=Ui("bottom"),Di=Ui("left"),ji={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Qi={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Hi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Nr(t[0],"none")?[]:Mr(t).map((function(t){for(var r={color:hn.TRANSPARENT,offsetX:Hr,offsetY:Hr,blur:Hr},n=0,i=0;i<t.length;i++){var o=t[i];Dr(o)?(0===n?r.offsetX=o:1===n?r.offsetY=o:r.blur=o,n++):r.color=tn.parse(e,o)}return r}))}},Ki={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Vi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var r=Gi[t.name];if(void 0===r)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},zi=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},qi=function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),r=t[0],n=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],a=t[13];return t[14],t[15],16===t.length?[r,n,i,o,s,a]:null},Gi={matrix:zi,matrix3d:qi},Wi={type:16,number:50,flags:ze},$i=[Wi,Wi],Ji={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(jr);return 2!==r.length?$i:[r[0],r[1]]}},Xi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(wi||(wi={}));for(var Yi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return wi.BREAK_ALL;case"keep-all":return wi.KEEP_ALL;default:return wi.NORMAL}}},Zi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Tr(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},eo={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},to={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Tr(t)?t.number:1}},ro={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},no={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Or).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},io={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach((function(e){switch(e.type){case 20:case 0:r.push(e.value);break;case 17:r.push(e.number.toString());break;case 4:n.push(r.join(" ")),r.length=0}})),r.length&&n.push(r.join(" ")),n.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},oo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},so={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Tr(t)?t.number:Or(t)&&"bold"===t.value?700:400}},ao={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Or).map((function(e){return e.value}))}},co={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},uo=function(e,t){return 0!=(e&t)},lo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var r=t[0];return 20===r.type&&"none"===r.value?[]:t}},Ao={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var r=t[0];if(20===r.type&&"none"===r.value)return null;for(var n=[],i=t.filter(Ur),o=0;o<i.length;o++){var s=i[o],a=i[o+1];if(20===s.type){var c=a&&Tr(a)?a.number:1;n.push({counter:s.value,increment:c})}}return n}},ho={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var r=[],n=t.filter(Ur),i=0;i<n.length;i++){var o=n[i],s=n[i+1];if(Or(o)&&"none"!==o.value){var a=s&&Tr(s)?s.number:0;r.push({counter:o.value,reset:a})}}return r}},fo={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Pr).map((function(t){return eo.parse(e,t)}))}},po={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var r=t[0];if(20===r.type&&"none"===r.value)return null;var n=[],i=t.filter(Lr);if(i.length%2!=0)return null;for(var o=0;o<i.length;o+=2){var s=i[o].value,a=i[o+1].value;n.push({open:s,close:a})}return n}},go=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},mo={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Nr(t[0],"none")?[]:Mr(t).map((function(t){for(var r={color:255,offsetX:Hr,offsetY:Hr,blur:Hr,spread:Hr,inset:!1},n=0,i=0;i<t.length;i++){var o=t[i];Nr(o,"inset")?r.inset=!0:Dr(o)?(0===n?r.offsetX=o:1===n?r.offsetY=o:2===n?r.blur=o:r.spread=o,n++):r.color=tn.parse(e,o)}return r}))}},yo={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Or).forEach((function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),r.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n}},vo={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},bo={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Pr(t)?t.number:0}},wo=function(){function e(e,t){var r,n;this.animationDuration=Bo(e,fo,t.animationDuration),this.backgroundClip=Bo(e,fn,t.backgroundClip),this.backgroundColor=Bo(e,dn,t.backgroundColor),this.backgroundImage=Bo(e,Qn,t.backgroundImage),this.backgroundOrigin=Bo(e,Hn,t.backgroundOrigin),this.backgroundPosition=Bo(e,Kn,t.backgroundPosition),this.backgroundRepeat=Bo(e,Vn,t.backgroundRepeat),this.backgroundSize=Bo(e,Gn,t.backgroundSize),this.borderTopColor=Bo(e,Jn,t.borderTopColor),this.borderRightColor=Bo(e,Xn,t.borderRightColor),this.borderBottomColor=Bo(e,Yn,t.borderBottomColor),this.borderLeftColor=Bo(e,Zn,t.borderLeftColor),this.borderTopLeftRadius=Bo(e,ti,t.borderTopLeftRadius),this.borderTopRightRadius=Bo(e,ri,t.borderTopRightRadius),this.borderBottomRightRadius=Bo(e,ni,t.borderBottomRightRadius),this.borderBottomLeftRadius=Bo(e,ii,t.borderBottomLeftRadius),this.borderTopStyle=Bo(e,si,t.borderTopStyle),this.borderRightStyle=Bo(e,ai,t.borderRightStyle),this.borderBottomStyle=Bo(e,ci,t.borderBottomStyle),this.borderLeftStyle=Bo(e,ui,t.borderLeftStyle),this.borderTopWidth=Bo(e,Ai,t.borderTopWidth),this.borderRightWidth=Bo(e,hi,t.borderRightWidth),this.borderBottomWidth=Bo(e,fi,t.borderBottomWidth),this.borderLeftWidth=Bo(e,di,t.borderLeftWidth),this.boxShadow=Bo(e,mo,t.boxShadow),this.color=Bo(e,pi,t.color),this.direction=Bo(e,gi,t.direction),this.display=Bo(e,mi,t.display),this.float=Bo(e,vi,t.cssFloat),this.fontFamily=Bo(e,io,t.fontFamily),this.fontSize=Bo(e,oo,t.fontSize),this.fontStyle=Bo(e,co,t.fontStyle),this.fontVariant=Bo(e,ao,t.fontVariant),this.fontWeight=Bo(e,so,t.fontWeight),this.letterSpacing=Bo(e,bi,t.letterSpacing),this.lineBreak=Bo(e,xi,t.lineBreak),this.lineHeight=Bo(e,_i,t.lineHeight),this.listStyleImage=Bo(e,Ei,t.listStyleImage),this.listStylePosition=Bo(e,Si,t.listStylePosition),this.listStyleType=Bo(e,Ci,t.listStyleType),this.marginTop=Bo(e,ki,t.marginTop),this.marginRight=Bo(e,Pi,t.marginRight),this.marginBottom=Bo(e,Ti,t.marginBottom),this.marginLeft=Bo(e,Oi,t.marginLeft),this.opacity=Bo(e,to,t.opacity);var i=Bo(e,Li,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Bo(e,Ni,t.overflowWrap),this.paddingTop=Bo(e,Fi,t.paddingTop),this.paddingRight=Bo(e,Mi,t.paddingRight),this.paddingBottom=Bo(e,Ri,t.paddingBottom),this.paddingLeft=Bo(e,Di,t.paddingLeft),this.paintOrder=Bo(e,yo,t.paintOrder),this.position=Bo(e,Qi,t.position),this.textAlign=Bo(e,ji,t.textAlign),this.textDecorationColor=Bo(e,ro,null!==(r=t.textDecorationColor)&&void 0!==r?r:t.color),this.textDecorationLine=Bo(e,no,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=Bo(e,Hi,t.textShadow),this.textTransform=Bo(e,Ki,t.textTransform),this.transform=Bo(e,Vi,t.transform),this.transformOrigin=Bo(e,Ji,t.transformOrigin),this.visibility=Bo(e,Xi,t.visibility),this.webkitTextStrokeColor=Bo(e,vo,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bo(e,bo,t.webkitTextStrokeWidth),this.wordBreak=Bo(e,Yi,t.wordBreak),this.zIndex=Bo(e,Zi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rn(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return uo(this.display,4)||uo(this.display,33554432)||uo(this.display,268435456)||uo(this.display,536870912)||uo(this.display,67108864)||uo(this.display,134217728)},e}(),xo=function(){function e(e,t){this.content=Bo(e,lo,t.content),this.quotes=Bo(e,po,t.quotes)}return e}(),_o=function(){function e(e,t){this.counterIncrement=Bo(e,Ao,t.counterIncrement),this.counterReset=Bo(e,ho,t.counterReset)}return e}(),Bo=function(e,t,r){var n=new Ir,i=null!=r?r.toString():t.initialValue;n.write(i);var o=new kr(n.read());switch(t.type){case 2:var s=o.parseComponentValue();return t.parse(e,Or(s)?s.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return Xr.parse(e,o.parseComponentValue());case"color":return tn.parse(e,o.parseComponentValue());case"image":return Mn.parse(e,o.parseComponentValue());case"length":var a=o.parseComponentValue();return Dr(a)?a:Hr;case"length-percentage":var c=o.parseComponentValue();return jr(c)?c:Hr;case"time":return eo.parse(e,o.parseComponentValue())}}},Eo="data-html2canvas-debug",So=function(e){switch(e.getAttribute(Eo)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Co=function(e,t){var r=So(e);return 1===r||t===r},Io=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Co(t,3),this.styles=new wo(e,window.getComputedStyle(t,null)),pa(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),Co(t,4)&&(this.flags|=16)}return e}(),ko="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",To="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Oo=0;Oo<Po.length;Oo++)To[Po.charCodeAt(Oo)]=Oo;for(var Lo=function(e){var t,r,n,i,o,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),l=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<a;t+=4)r=To[e.charCodeAt(t)],n=To[e.charCodeAt(t+1)],i=To[e.charCodeAt(t+2)],o=To[e.charCodeAt(t+3)],l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u},No=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Uo=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Fo=5,Mo=11,Ro=2,Do=65536>>Fo,jo=(1<<Fo)-1,Qo=Do+(1024>>Fo)+32,Ho=65536>>Mo,Ko=(1<<Mo-Fo)-1,Vo=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},zo=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},qo=function(e,t){var r=Lo(e),n=Array.isArray(r)?Uo(r):new Uint32Array(r),i=Array.isArray(r)?No(r):new Uint16Array(r),o=24,s=Vo(i,o/2,n[4]/2),a=2===n[5]?Vo(i,(o+n[4])/2):zo(n,Math.ceil((o+n[4])/4));return new Go(n[0],n[1],n[2],n[3],s,a)},Go=function(){function e(e,t,r,n,i,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Fo])<<Ro)+(e&jo),this.data[t];if(e<=65535)return t=((t=this.index[Do+(e-55296>>Fo)])<<Ro)+(e&jo),this.data[t];if(e<this.highStart)return t=Qo-Ho+(e>>Mo),t=this.index[t],t+=e>>Fo&Ko,t=((t=this.index[t])<<Ro)+(e&jo),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$o="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Jo=0;Jo<Wo.length;Jo++)$o[Wo.charCodeAt(Jo)]=Jo;var Xo,Yo=1,Zo=2,es=3,ts=4,rs=5,ns=7,is=8,os=9,ss=10,as=11,cs=12,us=13,ls=14,As=15,hs=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t},fs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,o="";++i<r;){var s=e[i];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(i+1===r||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},ds=qo(ko),ps="√ó",gs="√∑",ms=function(e){return ds.get(e)},ys=function(e,t,r){var n=r-2,i=t[n],o=t[r-1],s=t[r];if(o===Zo&&s===es)return ps;if(o===Zo||o===es||o===ts)return gs;if(s===Zo||s===es||s===ts)return gs;if(o===is&&-1!==[is,os,as,cs].indexOf(s))return ps;if(!(o!==as&&o!==os||s!==os&&s!==ss))return ps;if((o===cs||o===ss)&&s===ss)return ps;if(s===us||s===rs)return ps;if(s===ns)return ps;if(o===Yo)return ps;if(o===us&&s===ls){for(;i===rs;)i=t[--n];if(i===ls)return ps}if(o===As&&s===As){for(var a=0;i===As;)a++,i=t[--n];if(a%2==0)return ps}return gs},vs=function(e){var t=hs(e),r=t.length,n=0,i=0,o=t.map(ms);return{next:function(){if(n>=r)return{done:!0,value:null};for(var e=ps;n<r&&(e=ys(t,o,++n))===ps;);if(e!==ps||n===r){var s=fs.apply(null,t.slice(i,n));return i=n,{value:s,done:!1}}return{done:!0,value:null}}}},bs=function(e){for(var t,r=vs(e),n=[];!(t=r.next()).done;)t.value&&n.push(t.value.slice());return n},ws=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(n),o===t)return!0}}return!1},xs=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=t.firstChild,i=u(n.data).map((function(e){return l(e)})),o=0,s={},a=i.every((function(e,t){r.setStart(n,o),r.setEnd(n,o+e.length);var i=r.getBoundingClientRect();o+=e.length;var a=i.x>s.x||i.y>s.y;return s=i,0===t||a}));return e.body.removeChild(t),a},_s=function(){return void 0!==(new Image).crossOrigin},Bs=function(){return"string"==typeof(new XMLHttpRequest).responseType},Es=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch(e){return!1}return!0},Ss=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Cs=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,o=t.toDataURL();i.src=o;var s=Is(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),ks(s).then((function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var s=e.createElement("div");return s.style.backgroundImage="url("+o+")",s.style.height=r+"px",Ss(i)?ks(Is(r,r,0,0,s)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),Ss(n.getImageData(0,0,r,r).data)})).catch((function(){return!1}))},Is=function(e,t,r,n,i){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},ks=function(e){return new Promise((function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ps={get SUPPORT_RANGE_BOUNDS(){var e=ws(document);return Object.defineProperty(Ps,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ps.SUPPORT_RANGE_BOUNDS&&xs(document);return Object.defineProperty(Ps,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Es(document);return Object.defineProperty(Ps,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?Cs(document):Promise.resolve(!1);return Object.defineProperty(Ps,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=_s();return Object.defineProperty(Ps,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Bs();return Object.defineProperty(Ps,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ps,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ps,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ts=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Os=function(e,t,r,n){var i=Ms(t,r),o=[],a=0;return i.forEach((function(t){if(r.textDecorationLine.length||t.trim().length>0)if(Ps.SUPPORT_RANGE_BOUNDS){var i=Ns(n,a,t.length).getClientRects();if(i.length>1){var c=Us(t),u=0;c.forEach((function(t){o.push(new Ts(t,s.fromDOMRectList(e,Ns(n,u+a,t.length).getClientRects()))),u+=t.length}))}else o.push(new Ts(t,s.fromDOMRectList(e,i)))}else{var l=n.splitText(t.length);o.push(new Ts(t,Ls(e,n))),n=l}else Ps.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));a+=t.length})),o},Ls=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var o=a(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),o}}return s.EMPTY},Ns=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},Us=function(e){if(Ps.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return bs(e)},Fs=function(e,t){if(Ps.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map((function(e){return e.segment}))}return Ds(e,t)},Ms=function(e,t){return 0!==t.letterSpacing?Us(e):Fs(e,t)},Rs=[32,160,4961,65792,65793,4153,4241],Ds=function(e,t){for(var r,n=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],o=function(){if(r.value){var e=r.value.slice(),t=u(e),n="";t.forEach((function(e){-1===Rs.indexOf(e)?n+=l(e):(n.length&&i.push(n),i.push(l(e)),n="")})),n.length&&i.push(n)}};!(r=n.next()).done;)o();return i},js=function(){function e(e,t,r){this.text=Qs(t.data,r.textTransform),this.textBounds=Os(e,this.text,r,t)}return e}(),Qs=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Hs,Ks);case 2:return e.toUpperCase();default:return e}},Hs=/(^|\s|:|-|\(|\))([a-z])/g,Ks=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Vs=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return t(r,e),r}(Io),zs=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return t(r,e),r}(Io),qs=function(e){function r(t,r){var n=e.call(this,t,r)||this,i=new XMLSerializer,o=a(t,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t(r,e),r}(Io),Gs=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return t(r,e),r}(Io),Ws=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed="boolean"==typeof r.reversed&&!0===r.reversed,n}return t(r,e),r}(Io),$s=[{type:15,flags:0,unit:"px",number:3}],Js=[{type:16,flags:0,number:50}],Xs=function(e){return e.width>e.height?new s(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new s(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ys=function(e){var t=e.type===ta?new Array(e.value.length+1).join("‚Ä¢"):e.value;return 0===t.length?e.placeholder||"":t},Zs="checkbox",ea="radio",ta="password",ra=707406591,na=function(e){function r(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=Ys(r),n.type!==Zs&&n.type!==ea||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=Xs(n.bounds)),n.type){case Zs:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=$s;break;case ea:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Js}return n}return t(r,e),r}(Io),ia=function(e){function r(t,r){var n=e.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return t(r,e),r}(Io),oa=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return t(r,e),r}(Io),sa=function(e){function r(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=la(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?An(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):hn.TRANSPARENT,o=r.contentWindow.document.body?An(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):hn.TRANSPARENT;n.backgroundColor=rn(i)?rn(o)?n.styles.backgroundColor:o:i}}catch(e){}return n}return t(r,e),r}(Io),aa=["OL","UL","MENU"],ca=function(e,t,r,n){for(var i=t.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,fa(i)&&i.data.trim().length>0)r.textNodes.push(new js(e,i,r.styles));else if(da(i))if(Ta(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return ca(e,t,r,n)}));else{var s=ua(e,i);s.styles.isVisible()&&(Aa(i,s,n)?s.flags|=4:ha(s.styles)&&(s.flags|=2),-1!==aa.indexOf(i.tagName)&&(s.flags|=8),r.elements.push(s),i.slot,i.shadowRoot?ca(e,i.shadowRoot,s,n):ka(i)||wa(i)||Pa(i)||ca(e,i,s,n))}},ua=function(e,t){return Ea(t)?new Vs(e,t):_a(t)?new zs(e,t):wa(t)?new qs(e,t):ma(t)?new Gs(e,t):ya(t)?new Ws(e,t):va(t)?new na(e,t):Pa(t)?new ia(e,t):ka(t)?new oa(e,t):Sa(t)?new sa(e,t):new Io(e,t)},la=function(e,t){var r=ua(e,t);return r.flags|=4,ca(e,t,r,r),r},Aa=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||xa(e)&&r.styles.isTransparent()},ha=function(e){return e.isPositioned()||e.isFloating()},fa=function(e){return e.nodeType===Node.TEXT_NODE},da=function(e){return e.nodeType===Node.ELEMENT_NODE},pa=function(e){return da(e)&&void 0!==e.style&&!ga(e)},ga=function(e){return"object"==typeof e.className},ma=function(e){return"LI"===e.tagName},ya=function(e){return"OL"===e.tagName},va=function(e){return"INPUT"===e.tagName},ba=function(e){return"HTML"===e.tagName},wa=function(e){return"svg"===e.tagName},xa=function(e){return"BODY"===e.tagName},_a=function(e){return"CANVAS"===e.tagName},Ba=function(e){return"VIDEO"===e.tagName},Ea=function(e){return"IMG"===e.tagName},Sa=function(e){return"IFRAME"===e.tagName},Ca=function(e){return"STYLE"===e.tagName},Ia=function(e){return"SCRIPT"===e.tagName},ka=function(e){return"TEXTAREA"===e.tagName},Pa=function(e){return"SELECT"===e.tagName},Ta=function(e){return"SLOT"===e.tagName},Oa=function(e){return e.tagName.indexOf("-")>0},La=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,r=e.counterIncrement,n=e.counterReset,i=!0;null!==r&&r.forEach((function(e){var r=t.counters[e.counter];r&&0!==e.increment&&(i=!1,r.length||r.push(1),r[Math.max(0,r.length-1)]+=e.increment)}));var o=[];return i&&n.forEach((function(e){var r=t.counters[e.counter];o.push(e.counter),r||(r=t.counters[e.counter]=[]),r.push(e.reset)})),o},e}(),Na={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ua={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["’î","’ì","’í","’ë","’ê","’è","’é","’ç","’å","’ã","’ä","’â","’à","’á","’Ü","’Ö","’Ñ","’É","’Ç","’Å","’Ä","‘ø","‘æ","‘Ω","‘º","‘ª","‘∫","‘π","‘∏","‘∑","‘∂","‘µ","‘¥","‘≥","‘≤","‘±"]},Fa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["◊ô◊≥","◊ò◊≥","◊ó◊≥","◊ñ◊≥","◊ï◊≥","◊î◊≥","◊ì◊≥","◊í◊≥","◊ë◊≥","◊ê◊≥","◊™","◊©","◊®","◊ß","◊¶","◊§","◊¢","◊°","◊†","◊û","◊ú","◊õ","◊ô◊ò","◊ô◊ó","◊ô◊ñ","◊ò◊ñ","◊ò◊ï","◊ô","◊ò","◊ó","◊ñ","◊ï","◊î","◊ì","◊í","◊ë","◊ê"]},Ma={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["·Éµ","·É∞","·ÉØ","·É¥","·ÉÆ","·É≠","·É¨","·É´","·É™","·É©","·É®","·Éß","·É¶","·É•","·É§","·É≥","·É¢","·É°","·É†","·Éü","·Éû","·Éù","·É≤","·Éú","·Éõ","·Éö","·Éô","·Éò","·Éó","·É±","·Éñ","·Éï","·Éî","·Éì","·Éí","·Éë","·Éê"]},Ra=function(e,t,r,n,i,o){return e<t||e>r?Xa(e,i,o.length>0):n.integers.reduce((function(t,r,i){for(;e>=r;)e-=r,t+=n.values[i];return t}),"")+o},Da=function(e,t,r,n){var i="";do{r||e--,i=n(e)+i,e/=t}while(e*t>=t);return i},ja=function(e,t,r,n,i){var o=r-t+1;return(e<0?"-":"")+(Da(Math.abs(e),o,n,(function(e){return l(Math.floor(e%o)+t)}))+i)},Qa=function(e,t,r){void 0===r&&(r=". ");var n=t.length;return Da(Math.abs(e),n,!1,(function(e){return t[Math.floor(e%n)]}))+r},Ha=1,Ka=2,Va=4,za=8,qa=function(e,t,r,n,i,o){if(e<-9999||e>9999)return Xa(e,4,i.length>0);var s=Math.abs(e),a=i;if(0===s)return t[0]+a;for(var c=0;s>0&&c<=4;c++){var u=s%10;0===u&&uo(o,Ha)&&""!==a?a=t[u]+a:u>1||1===u&&0===c||1===u&&1===c&&uo(o,Ka)||1===u&&1===c&&uo(o,Va)&&e>100||1===u&&c>1&&uo(o,za)?a=t[u]+(c>0?r[c-1]:"")+a:1===u&&c>0&&(a=r[c-1]+a),s=Math.floor(s/10)}return(e<0?n:"")+a},Ga="ÂçÅÁôæÂçÉËê¨",Wa="Êãæ‰Ω∞‰ªüËê¨",$a="„Éû„Ç§„Éä„Çπ",Ja="ÎßàÏù¥ÎÑàÏä§",Xa=function(e,t,r){var n=r?". ":"",i=r?"„ÄÅ":"",o=r?", ":"",s=r?" ":"";switch(t){case 0:return"‚Ä¢"+s;case 1:return"‚ó¶"+s;case 2:return"‚óæ"+s;case 5:var a=ja(e,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return Qa(e,"„Äá‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù",i);case 6:return Ra(e,1,3999,Na,3,n).toLowerCase();case 7:return Ra(e,1,3999,Na,3,n);case 8:return ja(e,945,969,!1,n);case 9:return ja(e,97,122,!1,n);case 10:return ja(e,65,90,!1,n);case 11:return ja(e,1632,1641,!0,n);case 12:case 49:return Ra(e,1,9999,Ua,3,n);case 35:return Ra(e,1,9999,Ua,3,n).toLowerCase();case 13:return ja(e,2534,2543,!0,n);case 14:case 30:return ja(e,6112,6121,!0,n);case 15:return Qa(e,"Â≠ê‰∏ëÂØÖÂçØËæ∞Â∑≥ÂçàÊú™Áî≥ÈÖâÊàå‰∫•",i);case 16:return Qa(e,"Áî≤‰πô‰∏ô‰∏ÅÊàäÂ∑±Â∫öËæõÂ£¨Áô∏",i);case 17:case 48:return qa(e,"Èõ∂‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù",Ga,"Ë≤†",i,Ka|Va|za);case 47:return qa(e,"Èõ∂Â£πË≤≥ÂèÉËÇÜ‰ºçÈô∏ÊüíÊçåÁéñ",Wa,"Ë≤†",i,Ha|Ka|Va|za);case 42:return qa(e,"Èõ∂‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù",Ga,"Ë¥ü",i,Ka|Va|za);case 41:return qa(e,"Èõ∂Â£πË¥∞ÂèÅËÇÜ‰ºçÈôÜÊüíÊçåÁéñ",Wa,"Ë¥ü",i,Ha|Ka|Va|za);case 26:return qa(e,"„Äá‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù","ÂçÅÁôæÂçÉ‰∏á",$a,i,0);case 25:return qa(e,"Èõ∂Â£±ÂºêÂèÇÂõõ‰ºçÂÖ≠‰∏ÉÂÖ´‰πù","ÊãæÁôæÂçÉ‰∏á",$a,i,Ha|Ka|Va);case 31:return qa(e,"ÏòÅÏùºÏù¥ÏÇºÏÇ¨Ïò§Ïú°Ïπ†ÌåîÍµ¨","Ïã≠Î∞±Ï≤úÎßå",Ja,o,Ha|Ka|Va);case 33:return qa(e,"Èõ∂‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù","ÂçÅÁôæÂçÉËê¨",Ja,o,0);case 32:return qa(e,"Èõ∂Â£πË≤≥ÂèÉÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πù","ÊãæÁôæÂçÉ",Ja,o,Ha|Ka|Va);case 18:return ja(e,2406,2415,!0,n);case 20:return Ra(e,1,19999,Ma,3,n);case 21:return ja(e,2790,2799,!0,n);case 22:return ja(e,2662,2671,!0,n);case 22:return Ra(e,1,10999,Fa,3,n);case 23:return Qa(e,"„ÅÇ„ÅÑ„ÅÜ„Åà„Åä„Åã„Åç„Åè„Åë„Åì„Åï„Åó„Åô„Åõ„Åù„Åü„Å°„Å§„Å¶„Å®„Å™„Å´„Å¨„Å≠„ÅÆ„ÅØ„Å≤„Åµ„Å∏„Åª„Åæ„Åø„ÇÄ„ÇÅ„ÇÇ„ÇÑ„ÇÜ„Çà„Çâ„Çä„Çã„Çå„Çç„Çè„Çê„Çë„Çí„Çì");case 24:return Qa(e,"„ÅÑ„Çç„ÅØ„Å´„Åª„Å∏„Å®„Å°„Çä„Å¨„Çã„Çí„Çè„Åã„Çà„Åü„Çå„Åù„Å§„Å≠„Å™„Çâ„ÇÄ„ÅÜ„Çê„ÅÆ„Åä„Åè„ÇÑ„Åæ„Åë„Åµ„Åì„Åà„Å¶„ÅÇ„Åï„Åç„ÇÜ„ÇÅ„Åø„Åó„Çë„Å≤„ÇÇ„Åõ„Åô");case 27:return ja(e,3302,3311,!0,n);case 28:return Qa(e,"„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É∞„É±„É≤„É≥",i);case 29:return Qa(e,"„Ç§„É≠„Éè„Éã„Éõ„Éò„Éà„ÉÅ„É™„Éå„É´„É≤„ÉØ„Ç´„É®„Çø„É¨„ÇΩ„ÉÑ„Éç„Éä„É©„É†„Ç¶„É∞„Éé„Ç™„ÇØ„É§„Éû„Ç±„Éï„Ç≥„Ç®„ÉÜ„Ç¢„Çµ„Ç≠„É¶„É°„Éü„Ç∑„É±„Éí„É¢„Çª„Çπ",i);case 34:return ja(e,3792,3801,!0,n);case 37:return ja(e,6160,6169,!0,n);case 38:return ja(e,4160,4169,!0,n);case 39:return ja(e,2918,2927,!0,n);case 40:return ja(e,1776,1785,!0,n);case 43:return ja(e,3046,3055,!0,n);case 44:return ja(e,3174,3183,!0,n);case 45:return ja(e,3664,3673,!0,n);case 46:return ja(e,3872,3881,!0,n);default:return ja(e,48,57,!0,n)}},Ya="data-html2canvas-ignore",Za=function(){function e(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new La,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var r=this,o=tc(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,c=o.contentWindow,u=c.document,l=ic(o).then((function(){return n(r,void 0,void 0,(function(){var e,r;return i(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(uc),c&&(c.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||c.scrollY===t.top&&c.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-t.left,c.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(r=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,nc(u)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(u,r)})).then((function(){return o}))]:[2,o]}}))}))}));return u.open(),u.write(ac(document.doctype)+"<html></html>"),cc(this.referenceElement.ownerDocument,s,a),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),l},e.prototype.createElementClone=function(e){if(Co(e,2),_a(e))return this.createCanvasClone(e);if(Ba(e))return this.createVideoClone(e);if(Ca(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Ea(t)&&(Ea(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Oa(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return sc(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),n=e.cloneNode(!1);return n.textContent=r,n}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var i=e.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var s=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(s){var a=s.getContextAttributes();!1===(null==a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return n}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},e.prototype.appendChildNode=function(e,t,r){da(t)&&(Ia(t)||t.hasAttribute(Ya)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&da(t)&&Ca(t)||e.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(e,t,r){for(var n=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(da(i)&&Ta(i)&&"function"==typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(e){return n.appendChildNode(t,e,r)}))}else this.appendChildNode(t,i,r)},e.prototype.cloneNode=function(e,t){if(fa(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&da(e)&&(pa(e)||ga(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var i=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),s=r.getComputedStyle(e,":after");this.referenceElement===e&&pa(n)&&(this.clonedReferenceElement=n),xa(n)&&pc(n);var a=this.counters.parse(new _o(this.context,i)),c=this.resolvePseudoContent(e,n,o,Xo.BEFORE);Oa(e)&&(t=!0),Ba(e)||this.cloneChildNodes(e,n,t),c&&n.insertBefore(c,n.firstChild);var u=this.resolvePseudoContent(e,n,s,Xo.AFTER);return u&&n.appendChild(u),this.counters.pop(a),(i&&(this.options.copyStyles||ga(e))&&!Sa(e)||t)&&sc(i,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(ka(e)||Pa(e))&&(ka(n)||Pa(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,r,n){var i=this;if(r){var o=r.content,s=t.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==r.display){this.counters.parse(new _o(this.context,r));var a=new xo(this.context,r),c=s.createElement("html2canvaspseudoelement");sc(r,c),a.content.forEach((function(t){if(0===t.type)c.appendChild(s.createTextNode(t.value));else if(22===t.type){var r=s.createElement("img");r.src=t.value,r.style.opacity="1",c.appendChild(r)}else if(18===t.type){if("attr"===t.name){var n=t.values.filter(Or);n.length&&c.appendChild(s.createTextNode(e.getAttribute(n[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Fr),u=o[0],l=o[1];if(u&&Or(u)){var A=i.counters.getCounterValue(u.value),h=l&&Or(l)?Ci.parse(i.context,l.value):3;c.appendChild(s.createTextNode(Xa(A,h,!1)))}}else if("counters"===t.name){var f=t.values.filter(Fr),d=(u=f[0],f[1]);if(l=f[2],u&&Or(u)){var p=i.counters.getCounterValues(u.value),g=l&&Or(l)?Ci.parse(i.context,l.value):3,m=d&&0===d.type?d.value:"",y=p.map((function(e){return Xa(e,g,!1)})).join(m);c.appendChild(s.createTextNode(y))}}}else if(20===t.type)switch(t.value){case"open-quote":c.appendChild(s.createTextNode(go(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(s.createTextNode(go(a.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(s.createTextNode(t.value))}})),c.className=hc+" "+fc;var u=n===Xo.BEFORE?" "+hc:" "+fc;return ga(t)?t.className.baseValue+=u:t.className+=u,c}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Xo||(Xo={}));var ec,tc=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(Ya,"true"),e.body.appendChild(r),r},rc=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},nc=function(e){return Promise.all([].slice.call(e.images,0).map(rc))},ic=function(e){return new Promise((function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var r=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(r),t(e))}),50)}}))},oc=["all","d","content"],sc=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);-1===oc.indexOf(n)&&t.style.setProperty(n,e.getPropertyValue(n))}return t},ac=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},cc=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},uc=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},lc=":before",Ac=":after",hc="___html2canvas___pseudoelement_before",fc="___html2canvas___pseudoelement_after",dc='{\n    content: "" !important;\n    display: none !important;\n}',pc=function(e){gc(e,"."+hc+lc+dc+"\n         ."+fc+Ac+dc)},gc=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},mc=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),yc=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Ec(e)||xc(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return n(this,void 0,void 0,(function(){var t,r,n,o,s=this;return i(this,(function(i){switch(i.label){case 0:return t=mc.isSameOrigin(e),r=!_c(e)&&!0===this._options.useCORS&&Ps.SUPPORT_CORS_IMAGES&&!t,n=!_c(e)&&!t&&!Ec(e)&&"string"==typeof this._options.proxy&&Ps.SUPPORT_CORS_XHR&&!r,t||!1!==this._options.allowTaint||_c(e)||Ec(e)||n||r?(o=e,n?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,(Bc(o)||r)&&(n.crossOrigin="anonymous"),n.src=o,!0===n.complete&&setTimeout((function(){return e(n)}),500),s._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise((function(i,o){var s=Ps.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===s)i(a.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(a.response)}else o("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=o;var c=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),t._options.imageTimeout){var u=t._options.imageTimeout;a.timeout=u,a.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+n)}}a.send()}))},e}(),vc=/^data:image\/svg\+xml/i,bc=/^data:image\/.*;base64,/i,wc=/^data:image\/.*/i,xc=function(e){return Ps.SUPPORT_SVG_DRAWING||!Sc(e)},_c=function(e){return wc.test(e)},Bc=function(e){return bc.test(e)},Ec=function(e){return"blob"===e.substr(0,4)},Sc=function(e){return"svg"===e.substr(-3).toLowerCase()||vc.test(e)},Cc=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Ic=function(e,t,r){return new Cc(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},kc=function(){function e(e,t,r,n){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(t,r){var n=Ic(this.start,this.startControl,t),i=Ic(this.startControl,this.endControl,t),o=Ic(this.endControl,this.end,t),s=Ic(n,i,t),a=Ic(i,o,t),c=Ic(s,a,t);return r?new e(this.start,n,s,c):new e(c,a,o,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Pc=function(e){return 1===e.type},Tc=function(){function e(e){var t=e.styles,r=e.bounds,n=zr(t.borderTopLeftRadius,r.width,r.height),i=n[0],o=n[1],s=zr(t.borderTopRightRadius,r.width,r.height),a=s[0],c=s[1],u=zr(t.borderBottomRightRadius,r.width,r.height),l=u[0],A=u[1],h=zr(t.borderBottomLeftRadius,r.width,r.height),f=h[0],d=h[1],p=[];p.push((i+a)/r.width),p.push((f+l)/r.width),p.push((o+d)/r.height),p.push((c+A)/r.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,o/=g,a/=g,c/=g,l/=g,A/=g,f/=g,d/=g);var m=r.width-a,y=r.height-A,v=r.width-l,b=r.height-d,w=t.borderTopWidth,x=t.borderRightWidth,_=t.borderBottomWidth,B=t.borderLeftWidth,E=qr(t.paddingTop,e.bounds.width),S=qr(t.paddingRight,e.bounds.width),C=qr(t.paddingBottom,e.bounds.width),I=qr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Oc(r.left+B/3,r.top+w/3,i-B/3,o-w/3,ec.TOP_LEFT):new Cc(r.left+B/3,r.top+w/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Oc(r.left+m,r.top+w/3,a-x/3,c-w/3,ec.TOP_RIGHT):new Cc(r.left+r.width-x/3,r.top+w/3),this.bottomRightBorderDoubleOuterBox=l>0||A>0?Oc(r.left+v,r.top+y,l-x/3,A-_/3,ec.BOTTOM_RIGHT):new Cc(r.left+r.width-x/3,r.top+r.height-_/3),this.bottomLeftBorderDoubleOuterBox=f>0||d>0?Oc(r.left+B/3,r.top+b,f-B/3,d-_/3,ec.BOTTOM_LEFT):new Cc(r.left+B/3,r.top+r.height-_/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Oc(r.left+2*B/3,r.top+2*w/3,i-2*B/3,o-2*w/3,ec.TOP_LEFT):new Cc(r.left+2*B/3,r.top+2*w/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Oc(r.left+m,r.top+2*w/3,a-2*x/3,c-2*w/3,ec.TOP_RIGHT):new Cc(r.left+r.width-2*x/3,r.top+2*w/3),this.bottomRightBorderDoubleInnerBox=l>0||A>0?Oc(r.left+v,r.top+y,l-2*x/3,A-2*_/3,ec.BOTTOM_RIGHT):new Cc(r.left+r.width-2*x/3,r.top+r.height-2*_/3),this.bottomLeftBorderDoubleInnerBox=f>0||d>0?Oc(r.left+2*B/3,r.top+b,f-2*B/3,d-2*_/3,ec.BOTTOM_LEFT):new Cc(r.left+2*B/3,r.top+r.height-2*_/3),this.topLeftBorderStroke=i>0||o>0?Oc(r.left+B/2,r.top+w/2,i-B/2,o-w/2,ec.TOP_LEFT):new Cc(r.left+B/2,r.top+w/2),this.topRightBorderStroke=i>0||o>0?Oc(r.left+m,r.top+w/2,a-x/2,c-w/2,ec.TOP_RIGHT):new Cc(r.left+r.width-x/2,r.top+w/2),this.bottomRightBorderStroke=l>0||A>0?Oc(r.left+v,r.top+y,l-x/2,A-_/2,ec.BOTTOM_RIGHT):new Cc(r.left+r.width-x/2,r.top+r.height-_/2),this.bottomLeftBorderStroke=f>0||d>0?Oc(r.left+B/2,r.top+b,f-B/2,d-_/2,ec.BOTTOM_LEFT):new Cc(r.left+B/2,r.top+r.height-_/2),this.topLeftBorderBox=i>0||o>0?Oc(r.left,r.top,i,o,ec.TOP_LEFT):new Cc(r.left,r.top),this.topRightBorderBox=a>0||c>0?Oc(r.left+m,r.top,a,c,ec.TOP_RIGHT):new Cc(r.left+r.width,r.top),this.bottomRightBorderBox=l>0||A>0?Oc(r.left+v,r.top+y,l,A,ec.BOTTOM_RIGHT):new Cc(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=f>0||d>0?Oc(r.left,r.top+b,f,d,ec.BOTTOM_LEFT):new Cc(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||o>0?Oc(r.left+B,r.top+w,Math.max(0,i-B),Math.max(0,o-w),ec.TOP_LEFT):new Cc(r.left+B,r.top+w),this.topRightPaddingBox=a>0||c>0?Oc(r.left+Math.min(m,r.width-x),r.top+w,m>r.width+x?0:Math.max(0,a-x),Math.max(0,c-w),ec.TOP_RIGHT):new Cc(r.left+r.width-x,r.top+w),this.bottomRightPaddingBox=l>0||A>0?Oc(r.left+Math.min(v,r.width-B),r.top+Math.min(y,r.height-_),Math.max(0,l-x),Math.max(0,A-_),ec.BOTTOM_RIGHT):new Cc(r.left+r.width-x,r.top+r.height-_),this.bottomLeftPaddingBox=f>0||d>0?Oc(r.left+B,r.top+Math.min(b,r.height-_),Math.max(0,f-B),Math.max(0,d-_),ec.BOTTOM_LEFT):new Cc(r.left+B,r.top+r.height-_),this.topLeftContentBox=i>0||o>0?Oc(r.left+B+I,r.top+w+E,Math.max(0,i-(B+I)),Math.max(0,o-(w+E)),ec.TOP_LEFT):new Cc(r.left+B+I,r.top+w+E),this.topRightContentBox=a>0||c>0?Oc(r.left+Math.min(m,r.width+B+I),r.top+w+E,m>r.width+B+I?0:a-B+I,c-(w+E),ec.TOP_RIGHT):new Cc(r.left+r.width-(x+S),r.top+w+E),this.bottomRightContentBox=l>0||A>0?Oc(r.left+Math.min(v,r.width-(B+I)),r.top+Math.min(y,r.height+w+E),Math.max(0,l-(x+S)),A-(_+C),ec.BOTTOM_RIGHT):new Cc(r.left+r.width-(x+S),r.top+r.height-(_+C)),this.bottomLeftContentBox=f>0||d>0?Oc(r.left+B+I,r.top+b,Math.max(0,f-(B+I)),d-(_+C),ec.BOTTOM_LEFT):new Cc(r.left+B+I,r.top+r.height-(_+C))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(ec||(ec={}));var Oc=function(e,t,r,n,i){var o=(Math.sqrt(2)-1)/3*4,s=r*o,a=n*o,c=e+r,u=t+n;switch(i){case ec.TOP_LEFT:return new kc(new Cc(e,u),new Cc(e,u-a),new Cc(c-s,t),new Cc(c,t));case ec.TOP_RIGHT:return new kc(new Cc(e,t),new Cc(e+s,t),new Cc(c,u-a),new Cc(c,u));case ec.BOTTOM_RIGHT:return new kc(new Cc(c,t),new Cc(c,t+a),new Cc(e+s,u),new Cc(e,u));case ec.BOTTOM_LEFT:default:return new kc(new Cc(c,u),new Cc(c-s,u),new Cc(e,t+a),new Cc(e,t))}},Lc=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Nc=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Uc=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Fc=function(){function e(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),Mc=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Rc=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Dc=function(e){return 0===e.type},jc=function(e){return 1===e.type},Qc=function(e){return 2===e.type},Hc=function(e,t){return e.length===t.length&&e.some((function(e,r){return e===t[r]}))},Kc=function(e,t,r,n,i){return e.map((function(e,o){switch(o){case 0:return e.add(t,r);case 1:return e.add(t+n,r);case 2:return e.add(t+n,r+i);case 3:return e.add(t,r+i)}return e}))},Vc=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),zc=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Tc(this.container),this.container.styles.opacity<1&&this.effects.push(new Rc(this.container.styles.opacity)),null!==this.container.styles.transform){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Fc(r,n,i))}if(0!==this.container.styles.overflowX){var o=Lc(this.curves),s=Uc(this.curves);Hc(o,s)?this.effects.push(new Mc(o,6)):(this.effects.push(new Mc(o,2)),this.effects.push(new Mc(s,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter((function(e){return!jc(e)}));if(t||0!==r.container.styles.position||!r.parent){if(n.unshift.apply(n,i),t=-1===[2,3].indexOf(r.container.styles.position),0!==r.container.styles.overflowX){var o=Lc(r.curves),s=Uc(r.curves);Hc(o,s)||n.unshift(new Mc(s,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter((function(t){return uo(t.target,e)}))},e}(),qc=function(e,t,r,n){e.container.elements.forEach((function(i){var o=uo(i.flags,4),s=uo(i.flags,2),a=new zc(i,e);uo(i.styles.display,2048)&&n.push(a);var c=uo(i.flags,8)?[]:n;if(o||s){var u=o||i.styles.isPositioned()?r:t,l=new Vc(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var h=0;u.negativeZIndex.some((function(e,t){return A>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),u.negativeZIndex.splice(h,0,l)}else if(A>0){var f=0;u.positiveZIndex.some((function(e,t){return A>=e.element.container.styles.zIndex.order?(f=t+1,!1):f>0})),u.positiveZIndex.splice(f,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);qc(a,l,o?l:r,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),qc(a,t,r,c);uo(i.flags,8)&&Gc(i,c)}))},Gc=function(e,t){for(var r=e instanceof Ws?e.start:1,n=e instanceof Ws&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof Gs&&"number"==typeof o.container.value&&0!==o.container.value&&(r=o.container.value),o.listValue=Xa(r,o.container.styles.listStyleType,!0),r+=n?-1:1}},Wc=function(e){var t=new zc(e,null),r=new Vc(t),n=[];return qc(t,r,r,n),Gc(t.container,n),r},$c=function(e,t){switch(t){case 0:return eu(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return eu(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return eu(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return eu(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Jc=function(e,t){switch(t){case 0:return eu(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return eu(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return eu(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return eu(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Xc=function(e,t){switch(t){case 0:return eu(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return eu(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return eu(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return eu(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Yc=function(e,t){switch(t){case 0:return Zc(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Zc(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Zc(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Zc(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Zc=function(e,t){var r=[];return Pc(e)?r.push(e.subdivide(.5,!1)):r.push(e),Pc(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},eu=function(e,t,r,n){var i=[];return Pc(e)?i.push(e.subdivide(.5,!1)):i.push(e),Pc(r)?i.push(r.subdivide(.5,!0)):i.push(r),Pc(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Pc(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},tu=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},ru=function(e){var t=e.styles,r=e.bounds,n=qr(t.paddingLeft,r.width),i=qr(t.paddingRight,r.width),o=qr(t.paddingTop,r.width),s=qr(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+o+s))},nu=function(e,t){return 0===e?t.bounds:2===e?ru(t):tu(t)},iu=function(e,t){return 0===e?t.bounds:2===e?ru(t):tu(t)},ou=function(e,t,r){var n=nu(uu(e.styles.backgroundOrigin,t),e),i=iu(uu(e.styles.backgroundClip,t),e),o=cu(uu(e.styles.backgroundSize,t),r,n),s=o[0],a=o[1],c=zr(uu(e.styles.backgroundPosition,t),n.width-s,n.height-a);return[lu(uu(e.styles.backgroundRepeat,t),c,o,n,i),Math.round(n.left+c[0]),Math.round(n.top+c[1]),s,a]},su=function(e){return Or(e)&&e.value===Dn.AUTO},au=function(e){return"number"==typeof e},cu=function(e,t,r){var n=t[0],i=t[1],o=t[2],s=e[0],a=e[1];if(!s)return[0,0];if(jr(s)&&a&&jr(a))return[qr(s,r.width),qr(a,r.height)];var c=au(o);if(Or(s)&&(s.value===Dn.CONTAIN||s.value===Dn.COVER))return au(o)?r.width/r.height<o!=(s.value===Dn.COVER)?[r.width,r.width/o]:[r.height*o,r.height]:[r.width,r.height];var u=au(n),l=au(i),A=u||l;if(su(s)&&(!a||su(a)))return u&&l?[n,i]:c||A?A&&c?[u?n:i*o,l?i:n/o]:[u?n:r.width,l?i:r.height]:[r.width,r.height];if(c){var h=0,f=0;return jr(s)?h=qr(s,r.width):jr(a)&&(f=qr(a,r.height)),su(s)?h=f*o:a&&!su(a)||(f=h/o),[h,f]}var d=null,p=null;if(jr(s)?d=qr(s,r.width):a&&jr(a)&&(p=qr(a,r.height)),null===d||a&&!su(a)||(p=u&&l?d/n*i:r.height),null!==p&&su(s)&&(d=u&&l?p/i*n:r.width),null!==d&&null!==p)return[d,p];throw new Error("Unable to calculate background-size for element")},uu=function(e,t){var r=e[t];return void 0===r?e[0]:r},lu=function(e,t,r,n,i){var o=t[0],s=t[1],a=r[0],c=r[1];switch(e){case 2:return[new Cc(Math.round(n.left),Math.round(n.top+s)),new Cc(Math.round(n.left+n.width),Math.round(n.top+s)),new Cc(Math.round(n.left+n.width),Math.round(c+n.top+s)),new Cc(Math.round(n.left),Math.round(c+n.top+s))];case 3:return[new Cc(Math.round(n.left+o),Math.round(n.top)),new Cc(Math.round(n.left+o+a),Math.round(n.top)),new Cc(Math.round(n.left+o+a),Math.round(n.height+n.top)),new Cc(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new Cc(Math.round(n.left+o),Math.round(n.top+s)),new Cc(Math.round(n.left+o+a),Math.round(n.top+s)),new Cc(Math.round(n.left+o+a),Math.round(n.top+s+c)),new Cc(Math.round(n.left+o),Math.round(n.top+s+c))];default:return[new Cc(Math.round(i.left),Math.round(i.top)),new Cc(Math.round(i.left+i.width),Math.round(i.top)),new Cc(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Cc(Math.round(i.left),Math.round(i.height+i.top))]}},Au="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",hu="Hidden Text",fu=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),n.src=Au,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(hu)),r.appendChild(i),r.appendChild(n);var s=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(hu)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:s,middle:a}},e.prototype.getMetrics=function(e,t){var r=e+" "+t;return void 0===this._data[r]&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},e}(),du=function(){function e(e,t){this.context=e,this.options=t}return e}(),pu=1e4,gu=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new fu(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return t(r,e),r.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},r.prototype.applyEffect=function(e){this.ctx.save(),Qc(e)&&(this.ctx.globalAlpha=e.opacity),Dc(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),jc(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},r.prototype.renderNode=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return uo(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},r.prototype.renderTextWithLetterSpacing=function(e,t,r){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+r):Us(e.text).reduce((function(t,i){return n.ctx.fillText(i,t,e.bounds.top+r),t+n.ctx.measureText(i).width}),e.bounds.left)},r.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),r=wu(e.fontFamily).join(", "),n=Pr(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,n,r].join(" "),r,n]},r.prototype.renderTextNode=function(e,t){return n(this,void 0,void 0,(function(){var r,n,o,s,a,c,u,l,A=this;return i(this,(function(i){return r=this.createFontStyle(t),n=r[0],o=r[1],s=r[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(o,s),c=a.baseline,u=a.middle,l=t.paintOrder,e.textBounds.forEach((function(e){l.forEach((function(r){switch(r){case 0:A.ctx.fillStyle=nn(t.color),A.renderTextWithLetterSpacing(e,t.letterSpacing,c);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(r){A.ctx.shadowColor=nn(r.color),A.ctx.shadowOffsetX=r.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=r.offsetY.number*A.options.scale,A.ctx.shadowBlur=r.blur.number,A.renderTextWithLetterSpacing(e,t.letterSpacing,c)})),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),t.textDecorationLine.length&&(A.ctx.fillStyle=nn(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+c),e.bounds.width,1);break;case 2:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:A.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+u),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(A.ctx.strokeStyle=nn(t.webkitTextStrokeColor),A.ctx.lineWidth=t.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+c)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter"}}))})),[2]}))}))},r.prototype.renderReplacedElement=function(e,t,r){if(r&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var n=ru(e),i=Uc(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,(function(){var t,n,o,a,c,u,l,A,h,f,d,p,g,m,y,v,b,w;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,n=e.curves,o=t.styles,a=0,c=t.textNodes,i.label=1;case 1:return a<c.length?(u=c[a],[4,this.renderTextNode(u,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof Vs))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=i.sent(),this.renderReplacedElement(t,n,y),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof zs&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof qs))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=i.sent(),this.renderReplacedElement(t,n,y),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof sa&&t.tree?[4,new r(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=i.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof na&&(A=Math.min(t.bounds.width,t.bounds.height),t.type===Zs?t.checked&&(this.ctx.save(),this.path([new Cc(t.bounds.left+.39363*A,t.bounds.top+.79*A),new Cc(t.bounds.left+.16*A,t.bounds.top+.5549*A),new Cc(t.bounds.left+.27347*A,t.bounds.top+.44071*A),new Cc(t.bounds.left+.39694*A,t.bounds.top+.5649*A),new Cc(t.bounds.left+.72983*A,t.bounds.top+.23*A),new Cc(t.bounds.left+.84*A,t.bounds.top+.34085*A),new Cc(t.bounds.left+.39363*A,t.bounds.top+.79*A)]),this.ctx.fillStyle=nn(ra),this.ctx.fill(),this.ctx.restore()):t.type===ea&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+A/2,t.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=nn(ra),this.ctx.fill(),this.ctx.restore())),mu(t)&&t.value.length){switch(h=this.createFontStyle(o),b=h[0],f=h[1],d=this.fontMetrics.getMetrics(b,f).baseline,this.ctx.font=b,this.ctx.fillStyle=nn(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vu(t.styles.textAlign),w=ru(t),p=0,t.styles.textAlign){case 1:p+=w.width/2;break;case 2:p+=w.width}g=w.add(p,0,0,-w.height/2+1),this.ctx.save(),this.path([new Cc(w.left,w.top),new Cc(w.left+w.width,w.top),new Cc(w.left+w.width,w.top+w.height),new Cc(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ts(t.value,g),o.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!uo(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];y=void 0,v=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=i.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(b=this.createFontStyle(o)[0],this.ctx.font=b,this.ctx.fillStyle=nn(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new s(t.bounds.left,t.bounds.top+qr(t.styles.paddingTop,t.bounds.width),t.bounds.width,Bi(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ts(e.listValue,w),o.letterSpacing,Bi(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},r.prototype.renderStackContent=function(e){return n(this,void 0,void 0,(function(){var t,r,n,o,s,a,c,u,l,A,h,f,d,p,g;return i(this,(function(i){switch(i.label){case 0:return uo(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,r=e.negativeZIndex,i.label=2;case 2:return t<r.length?(g=r[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),n=0,o=e.nonInlineLevel,i.label=7;case 7:return n<o.length?(g=o[n],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return n++,[3,7];case 10:s=0,a=e.nonPositionedFloats,i.label=11;case 11:return s<a.length?(g=a[s],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return s++,[3,11];case 14:c=0,u=e.nonPositionedInlineLevel,i.label=15;case 15:return c<u.length?(g=u[c],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return c++,[3,15];case 18:l=0,A=e.inlineLevel,i.label=19;case 19:return l<A.length?(g=A[l],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:h=0,f=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:d=0,p=e.positiveZIndex,i.label=27;case 27:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},r.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},r.prototype.formatPath=function(e){var t=this;e.forEach((function(e,r){var n=Pc(e)?e.start:e;0===r?t.ctx.moveTo(n.x,n.y):t.ctx.lineTo(n.x,n.y),Pc(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},r.prototype.renderRepeat=function(e,t,r,n){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(r,n),this.ctx.fill(),this.ctx.translate(-r,-n)},r.prototype.resizeImage=function(e,t,r){var n;if(e.width===t&&e.height===r)return e;var i=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,r),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,r),i},r.prototype.renderBackgroundImage=function(e){return n(this,void 0,void 0,(function(){var t,r,n,o,s,a;return i(this,(function(c){switch(c.label){case 0:t=e.styles.backgroundImage.length-1,r=function(r){var o,s,a,c,u,l,A,h,f,d,p,g,m,y,v,b,w,x,_,B,E,S,C,I,k,P,T,O,L,N,U;return i(this,(function(i){switch(i.label){case 0:if(0!==r.type)return[3,5];o=void 0,s=r.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.context.cache.match(s)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),n.context.logger.error("Error loading background-image "+s),[3,4];case 4:return o&&(a=ou(e,t,[o.width,o.height,o.width/o.height]),b=a[0],S=a[1],C=a[2],_=a[3],B=a[4],y=n.ctx.createPattern(n.resizeImage(o,_,B),"repeat"),n.renderRepeat(b,y,S,C)),[3,6];case 5:Un(r)?(c=ou(e,t,[null,null,null]),b=c[0],S=c[1],C=c[2],_=c[3],B=c[4],u=yn(r.angle,_,B),l=u[0],A=u[1],h=u[2],f=u[3],d=u[4],(p=document.createElement("canvas")).width=_,p.height=B,g=p.getContext("2d"),m=g.createLinearGradient(A,f,h,d),gn(r.stops,l).forEach((function(e){return m.addColorStop(e.stop,nn(e.color))})),g.fillStyle=m,g.fillRect(0,0,_,B),_>0&&B>0&&(y=n.ctx.createPattern(p,"repeat"),n.renderRepeat(b,y,S,C))):Fn(r)&&(v=ou(e,t,[null,null,null]),b=v[0],w=v[1],x=v[2],_=v[3],B=v[4],E=0===r.position.length?[Kr]:r.position,S=qr(E[0],_),C=qr(E[E.length-1],B),I=wn(r,S,C,_,B),k=I[0],P=I[1],k>0&&P>0&&(T=n.ctx.createRadialGradient(w+S,x+C,0,w+S,x+C,k),gn(r.stops,2*k).forEach((function(e){return T.addColorStop(e.stop,nn(e.color))})),n.path(b),n.ctx.fillStyle=T,k!==P?(O=e.bounds.left+.5*e.bounds.width,L=e.bounds.top+.5*e.bounds.height,U=1/(N=P/k),n.ctx.save(),n.ctx.translate(O,L),n.ctx.transform(1,0,0,N,0,0),n.ctx.translate(-O,-L),n.ctx.fillRect(w,U*(x-L)+L,_,B*U),n.ctx.restore()):n.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},n=this,o=0,s=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<s.length?(a=s[o],[5,r(a)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},r.prototype.renderSolidBorder=function(e,t,r){return n(this,void 0,void 0,(function(){return i(this,(function(n){return this.path($c(r,t)),this.ctx.fillStyle=nn(e),this.ctx.fill(),[2]}))}))},r.prototype.renderDoubleBorder=function(e,t,r,o){return n(this,void 0,void 0,(function(){var n,s;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,r,o)]:[3,2];case 1:return i.sent(),[2];case 2:return n=Jc(o,r),this.path(n),this.ctx.fillStyle=nn(e),this.ctx.fill(),s=Xc(o,r),this.path(s),this.ctx.fill(),[2]}}))}))},r.prototype.renderNodeBackgroundAndBorders=function(e){return n(this,void 0,void 0,(function(){var t,r,n,o,s,a,c,u,l=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,r=!rn(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=yu(uu(t.backgroundClip,0),e.curves),r||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rn(t.backgroundColor)||(this.ctx.fillStyle=nn(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){l.ctx.save();var r=Lc(e.curves),n=t.inset?0:pu,i=Kc(r,-n+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(l.path(r),l.ctx.clip(),l.mask(i)):(l.mask(r),l.ctx.clip(),l.path(i)),l.ctx.shadowOffsetX=t.offsetX.number+n,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=nn(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?nn(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),i.label=2;case 2:s=0,a=0,c=n,i.label=3;case 3:return a<c.length?0!==(u=c[a]).style&&!rn(u.color)&&u.width>0?2!==u.style?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,s,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==u.style?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,s,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==u.style?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,s,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,s,e.curves)];case 10:i.sent(),i.label=11;case 11:s++,i.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},r.prototype.renderDashedDottedBorder=function(e,t,r,o,s){return n(this,void 0,void 0,(function(){var n,a,c,u,l,A,h,f,d,p,g,m,y,v,b,w;return i(this,(function(i){return this.ctx.save(),n=Yc(o,r),a=$c(o,r),2===s&&(this.path(a),this.ctx.clip()),Pc(a[0])?(c=a[0].start.x,u=a[0].start.y):(c=a[0].x,u=a[0].y),Pc(a[1])?(l=a[1].end.x,A=a[1].end.y):(l=a[1].x,A=a[1].y),h=0===r||2===r?Math.abs(c-l):Math.abs(u-A),this.ctx.beginPath(),3===s?this.formatPath(n):this.formatPath(a.slice(0,2)),f=t<3?3*t:2*t,d=t<3?2*t:t,3===s&&(f=t,d=t),p=!0,h<=2*f?p=!1:h<=2*f+d?(f*=g=h/(2*f+d),d*=g):(m=Math.floor((h+d)/(f+d)),y=(h-m*f)/(m-1),d=(v=(h-(m+1)*f)/m)<=0||Math.abs(d-y)<Math.abs(d-v)?y:v),p&&(3===s?this.ctx.setLineDash([0,f+d]):this.ctx.setLineDash([f,d])),3===s?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=nn(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===s&&(Pc(a[0])&&(b=a[3],w=a[0],this.ctx.beginPath(),this.formatPath([new Cc(b.end.x,b.end.y),new Cc(w.start.x,w.start.y)]),this.ctx.stroke()),Pc(a[1])&&(b=a[1],w=a[2],this.ctx.beginPath(),this.formatPath([new Cc(b.end.x,b.end.y),new Cc(w.start.x,w.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},r.prototype.render=function(e){return n(this,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Wc(e),[4,this.renderStack(t)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},r}(du),mu=function(e){return e instanceof oa||e instanceof ia||e instanceof na&&e.type!==ea&&e.type!==Zs},yu=function(e,t){switch(e){case 0:return Lc(t);case 2:return Nc(t);default:return Uc(t)}},vu=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},bu=["-apple-system","system-ui"],wu=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===bu.indexOf(e)})):e},xu=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return t(r,e),r.prototype.render=function(e){return n(this,void 0,void 0,(function(){var t,r;return i(this,(function(n){switch(n.label){case 0:return t=Is(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,_u(t)];case 1:return r=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},r}(du),_u=function(e){return new Promise((function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Bu=function(){function e(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Eu=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Bu({id:this.instanceName,enabled:t.logging}),this.cache=null!==(n=t.cache)&&void 0!==n?n:new yc(this,t)}return e.instanceCount=1,e}(),Su=function(e,t){return void 0===t&&(t={}),Cu(e,t)};"undefined"!=typeof window&&mc.setContext(window);var Cu=function(e,t){return n(void 0,void 0,void 0,(function(){var n,o,u,l,A,h,f,d,p,g,m,y,v,b,w,x,_,B,E,S,C,I,k,P,T,O,L,N,U,F,M,R,D,j,Q,H,K,V;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=n.defaultView))throw new Error("Document is not attached to a Window");return u={allowTaint:null!==(I=t.allowTaint)&&void 0!==I&&I,imageTimeout:null!==(k=t.imageTimeout)&&void 0!==k?k:15e3,proxy:t.proxy,useCORS:null!==(P=t.useCORS)&&void 0!==P&&P},l=r({logging:null===(T=t.logging)||void 0===T||T,cache:t.cache},u),A={windowWidth:null!==(O=t.windowWidth)&&void 0!==O?O:o.innerWidth,windowHeight:null!==(L=t.windowHeight)&&void 0!==L?L:o.innerHeight,scrollX:null!==(N=t.scrollX)&&void 0!==N?N:o.pageXOffset,scrollY:null!==(U=t.scrollY)&&void 0!==U?U:o.pageYOffset},h=new s(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),f=new Eu(l,h),d=null!==(F=t.foreignObjectRendering)&&void 0!==F&&F,p={allowTaint:null!==(M=t.allowTaint)&&void 0!==M&&M,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},f.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),g=new Za(f,e,p),(m=g.clonedReferenceElement)?[4,g.toIFrame(n,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=i.sent(),v=xa(m)||ba(m)?c(m.ownerDocument):a(f,m),b=v.width,w=v.height,x=v.left,_=v.top,B=Iu(f,m,t.backgroundColor),E={canvas:t.canvas,backgroundColor:B,scale:null!==(D=null!==(R=t.scale)&&void 0!==R?R:o.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(j=t.x)&&void 0!==j?j:0)+x,y:(null!==(Q=t.y)&&void 0!==Q?Q:0)+_,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(b),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(w)},d?(f.logger.debug("Document cloned, using foreign object rendering"),[4,new xu(f,E).render(m)]):[3,3];case 2:return S=i.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+x+","+_+" with size "+b+"x"+w+" using computed rendering"),f.logger.debug("Starting DOM parsing"),C=la(f,m),B===C.styles.backgroundColor&&(C.styles.backgroundColor=hn.TRANSPARENT),f.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new gu(f,E).render(C)];case 4:S=i.sent(),i.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(Za.destroy(y)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,S]}}))}))},Iu=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?An(e,getComputedStyle(n.documentElement).backgroundColor):hn.TRANSPARENT,o=n.body?An(e,getComputedStyle(n.body).backgroundColor):hn.TRANSPARENT,s="string"==typeof r?An(e,r):null===r?hn.TRANSPARENT:4294967295;return t===n.documentElement?rn(i)?rn(o)?s:o:i:s};return Su}();var li=ui.exports,Ai=e({__proto__:null,default:li},[ui.exports]);const hi="FAST";function fi(e,t){return e>t?"landscape":"portrait"}function di(e,t,r,n,i,o,s){return e.addImage({imageData:t,format:"PNG",x:i,y:o,width:r,height:n,compression:s}),e}async function pi({pdf:e,pageHTMLElement:t,width:r,height:n,margin:i=0}){const o={width:r+2*i,height:n+2*i},s=(await li(t,{scale:2})).toDataURL("image/png",1),a=fi(r,n);return e?e.addPage([o.width,o.height],a):e=new Br({unit:"px",hotfixes:["px_scaling"],format:[o.width,o.height],orientation:a}),e=di(e,s,r,n,10,10,hi)}async function gi(e,t){const{width:r,height:n}=await(async e=>await new Promise((t=>{const r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.src=e})))(t),i=fi(r,n);return e.addPage([r,n],i),di(e,t,r,n,0,0,hi)}var mi=he`<style>.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}.buv-c-logo{color:currentColor;text-decoration:none}.buv-c-logo--small{width:113px;height:16px}.buv-c-logo--medium{width:66%}.buv-c-logo__motto{font-size:12px}</style>`;const yi="en";var vi={locale:yi};const bi={en:{errors:{errorLabel:"Error",invalidBlockcerts:"Not a valid Blockcerts credential. Please check with the issuer or recipient that has provided this credential.",invalidBlockcertsUrl:"Not a valid credential URL.",invalidFormatDragAndDrop:"Only JSON files are accepted",invalidUrl:"This does not seem to be a valid URL.",noIssuerName:"No name provided",noMetadata:"No metadata specified for this record",noShareUrl:"No URL to share!",noTransactionId:"No transaction ID"},text:{brandName:"Blockcerts",blockcertsHint:"Visit Blockcerts website",by:"by",certified:"Certified by",closeButton:"Click to close",downloadLink:"Download Record in JSON format",downloadPDFLink:"Download PDF",downloadPDFLinkIsLoading:"Generating PDF...",dragAndDropHint:"(you can also drag & drop your file).",fileUpload:"Choose JSON file",issued:"Issued on",issueDate:"Issue Date",issuerName:"Issuer",issuerPublicKey:"Issuer's public key",issuerProfileDomain:"Issuer's information",item:"Item",itemPlural:"Items",metadataButton:"View Metadata",metadataTitle:"Metadata",motto:"Blockcerts, The Open Standard for Blockchain Credentials",recipient:"Recipient",share:"Share on",shareButton:"Share on Social Networks",signatureSuiteType:"Digital signature type",signatureStatusSuccess:"This signature has been successfully verified",signatureStatusTestSuccess:"This signature has been successfully verified but has been issued on a test chain",signatureStatusFailure:"This signature yielded an error during verification",signed:"Signed by",substepsListClose:"Hide",substepsListHint:"Toggle open list of substeps",transactionId:"Transaction ID",urlInput:"Enter the certificate URL",urlInputPlaceholder:"Certificate URL",verificationStepProgress:"Verifying step...",verify:"Verify",verifyAgain:"Verify again",verifyOther:"Verify another record",viewRecord:"View Record"},date:{months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],pattern:"MM DD, YYYY"},numbers:{ordinal:["th","st","nd","rd"]}},es:{errors:{errorLabel:"Error",invalidBlockcerts:"No es una credencial v√°lida de Blockcerts. Verifique con el emisor o el destinatario que ha proporcionado esta credencial.",invalidBlockcertsUrl:"No es URL de certificado valido.",invalidFormatDragAndDrop:"Solo se aceptan archivos JSON",invalidUrl:"Esto no parece ser un URL v√°lido.",noIssuerName:"No nombre comunicado",noMetadata:"No se han especificado metadatos para este registro",noShareUrl:"No hay URL para compartir!",noTransactionId:"No ID de transacci√≥n"},text:{brandName:"Blockcerts",blockcertsHint:"Visite el sitio web de Blockcerts",by:"por",certified:"Certificado por",closeButton:"Haz Click para cerrar",downloadLink:"Descarga el Registro en formato JSON",downloadPDFLink:"Descarga PDF",downloadPDFLinkIsLoading:"Generando PDF...",dragAndDropHint:"(tambi√©n puedes arrastrar y soltar tu archivo).",fileUpload:"Escoge archivo JSON",issued:"Emitido el",issueDate:"Fecha de Emisi√≥n",issuerName:"Emisor",issuerPublicKey:"Llave publica del Emisor",issuerProfileDomain:"Informaci√≥n del Emisor",item:"Elemento",itemPlural:"Elementos",metadataButton:"Ver Metadata",metadataTitle:"Metadata",motto:"Blockcerts, El Est√°ndar Abierto para Credenciales Blockchain",recipient:"Recipiente",share:"Comparte en",shareButton:"Comparte en Redes Sociales",signatureSuiteType:"Tipo de firma digital",signed:"Firmado Por",signatureStatusSuccess:"La verificaci√≥n de esta firma digital ha tenido √©xito",signatureStatusTestSuccess:"La verificaci√≥n de esta firma digital ha tenido √©xito pero se utiliz√≥ una cadena de test",signatureStatusFailure:"Error en la verificaci√≥n de esta firma digital",substepsListClose:"Esconde",substepsListHint:"Pasa lista abierta de sub-pasos",transactionId:"ID de Transacci√≥n",urlInput:"Ingrese el URL del certificado",urlInputPlaceholder:"Certificado del URL",verificationStepProgress:"Paso de verificaci√≥n...",verify:"Verifica",verifyAgain:"Verifica nuevamente",verifyOther:"Verifica otro registro",viewRecord:"Ver Registro"},date:{months:["enero","feb","marzo","abr","mayo","jun","jul","agosto","set","oct","nov","dic"],pattern:"MM DD, YYYY"},numbers:{ordinal:"¬∞"}},fr:{errors:{errorLabel:"Erreur",invalidBlockcerts:"Ceci n'est pas un certificat Blockcerts valide. Veuillez s'il vous pla√Æt contr√¥ler avec l'organisme √©metteur ou le r√©cipiendaire de ce certificat.",invalidBlockcertsUrl:"Ceci n'est pas une URL de certificat valide.",invalidFormatDragAndDrop:"Seul le format JSON est accept√©",invalidUrl:"URL invalide",noIssuerName:"Pas de nom fourni",noMetadata:"Ce certificat ne contient pas de m√©tadata",noShareUrl:"Pas d'URL √† partager!",noTransactionId:"Pas d'identifiant de transaction"},text:{brandName:"Blockcerts",blockcertsHint:"Visiter le site de Blockcerts",by:"par",certified:"Certifi√© par",closeButton:"Cliquer pour fermer",downloadLink:"T√©l√©charger le certificat au format JSON",downloadPDFLink:"T√©l√©charger au format PDF",downloadPDFLinkIsLoading:"Cr√©ation du PDF...",dragAndDropHint:"(vous pouvez aussi glisser et d√©poser votre fichier).",fileUpload:"Choisir un fichier JSON",issued:"√âmis le",issueDate:"Date d'√©mission",issuerName:"√âmetteur",issuerPublicKey:"Cl√© publique de l'√©metteur",issuerProfileDomain:"Profil de l'√©metteur",item:"point contr√¥l√©",itemPlural:"points contr√¥l√©s",metadataButton:"Voir les m√©tadata",metadataTitle:"M√©tadata",motto:"Blockcerts, The Open Standard for Blockchain Credentials",recipient:"Titulaire",share:"Partager sur",shareButton:"Partager sur les r√©seaux sociaux",signatureSuiteType:"Type de signature num√©rique",signed:"Sign√© par",signatureStatusSuccess:"Cette signature a √©t√© v√©rifi√©e avec succ√®s",signatureStatusTestSuccess:"Cette signature a √©t√© v√©rifi√©e avec succ√®s mais la blockchain utilis√©e est de test",signatureStatusFailure:"Erreur durant la v√©rification de cette signature",substepsListClose:"Fermer",substepsListHint:"Afficher les sous-√©tapes",transactionId:"Identifiant de transaction",urlInput:"Entrez l'URL du certificat",urlInputPlaceholder:"URL du certificat",verificationStepProgress:"V√©rification en cours...",verify:"V√©rifier",verifyAgain:"V√©rifier de nouveau",verifyOther:"V√©rifier un autre certificat",viewRecord:"Voir le certificat"},date:{months:["Jan","F√©v","Mar","Avr","Mai","Juin","Juil","Aout","Sept","Oct","Nov","D√©c"],pattern:"DD MM YYYY"},numbers:{ordinal:["√®me","er"]}},it:{errors:{errorLabel:"Errore",invalidBlockcerts:"Non √® una definizione valida di Blockcerts.",invalidBlockcertsUrl:"Non √® un URL di certificato valido.",invalidFormatDragAndDrop:"Sono accettati solo file JSON",invalidUrl:"Questo non sembra essere un URL valido.",noIssuerName:"No name provided",noMetadata:"Nessun Metadata specificato per questo record",noShareUrl:"Non c'√® un URL da condividere!",noTransactionId:"Nessun ID transazione"},text:{brandName:"Blockcerts",blockcertsHint:"Visita il sito Web Blockcerts",by:"da",certified:"Certificato da",closeButton:"Fai clic per chiudere",downloadLink:"Scarica il Record in formato JSON",downloadPDFLink:"Scarica in formato JSON",downloadPDFLinkIsLoading:"Generazione PDF...",dragAndDropHint:"(puoi anche trascinare il file).",fileUpload:"Scegli il file JSON",issued:"Rilasciato il",issueDate:"Data",issuerName:"Organizzazione Issuer",issuerPublicKey:"Chiave pubblica del Issuer",issuerProfileDomain:"Informazzione del Issuer",item:"Elemento",itemPlural:"Elementi",metadataButton:"Visualizza Metadata",metadataTitle:"Metadata",motto:"Blockcerts, The Open Standard for Blockchain Credentials",recipient:"Titolare",share:"Condividi",shareButton:"Condividi sui Social Network",signed:"Firmato da",signatureStatusSuccess:"This signature has been successfully verified",signatureStatusTestSuccess:"This signature has been successfully verified but has been issued on a test chain",signatureStatusFailure:"This signature yielded an error during verification",signatureSuiteType:"Digital signature type",substepsListClose:"Nascondi",substepsListHint:"Mostra gli step secondari",transactionId:"ID transazione",urlInput:"Inserisci l'URL del certificato",urlInputPlaceholder:"URL del certificato",verificationStepProgress:"Step di verifica...",verify:"Verifica",verifyAgain:"Verifica di nuovo",verifyOther:"Verifica un altro record",viewRecord:"Visualizza il Record"},date:{months:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],pattern:"DD MM YYYY"},numbers:{ordinal:"¬∞"}}};function wi(){return bi}function xi(e,t,r,n){if(!e)return"";if(e.includes(".")){const r=e.split(".");e=r[0],t=r[1]}if(!t)return"";r&&n>1&&(t+="Plural");const i=wi();return i[vi.locale]?i[vi.locale][e]?i[vi.locale][e][t]?i[vi.locale][e][t]||"":"[missing locale item data]":"[missing locale group data]":"[missing locale data]"}function _i(){return he`
    <svg class='buv-qa-logo--branded  buv-c-logo--medium' version="1.1" viewBox="0 0 686 163" xmlns="http://www.w3.org/2000/svg">
      <g fill="none" fill-rule="evenodd">
        <g transform="translate(-76 -70)">
          <g transform="translate(76 53)">
            <path d="m119.52 35.613h21.191c9.8308 0 16.935 1.4323 21.313 4.2969 4.3783 2.8646 6.5674 7.3893 6.5674 13.574 0 4.1667-1.0742 7.6334-3.2227 10.4-2.1484 2.7669-5.2409 4.5085-9.2773 5.2246v0.48828c5.013 0.94402 8.6995 2.8076 11.06 5.5908 2.36 2.7832 3.54 6.5511 3.54 11.304 0 6.4128-2.2379 11.434-6.7139 15.063-4.4759 3.6296-10.701 5.4443-18.677 5.4443h-25.781v-71.387zm11.67 29.492h11.23c4.8828 0 8.4473-0.7731 10.693-2.3193s3.3691-4.1748 3.3691-7.8857c0-3.3529-1.2126-5.778-3.6377-7.2754-2.4251-1.4974-6.2744-2.2461-11.548-2.2461h-10.107v19.727zm0 9.4727v22.607h12.402c4.8828 0 8.5693-0.93586 11.06-2.8076 2.4902-1.8718 3.7354-4.8258 3.7354-8.8623 0-3.711-1.2695-6.4616-3.8086-8.252-2.5391-1.7904-6.3965-2.6855-11.572-2.6855h-11.816zm51.346 32.422v-71.387h11.67v61.377h30.225v10.01h-41.895zm112.58-35.791c0 11.621-2.9052 20.654-8.7158 27.1-5.8106 6.4453-14.038 9.668-24.683 9.668-10.775 0-19.051-3.1982-24.829-9.5947-5.778-6.3965-8.667-15.487-8.667-27.271s2.9052-20.833 8.7158-27.148c5.8106-6.3151 14.103-9.4727 24.878-9.4727 10.612 0 18.815 3.2063 24.609 9.6191s8.6914 15.446 8.6914 27.1zm-54.492 0c0 8.7891 1.7741 15.454 5.3223 19.995 3.5482 4.541 8.8053 6.8115 15.771 6.8115 6.9336 0 12.166-2.2461 15.698-6.7383 3.5319-4.4922 5.2979-11.182 5.2979-20.068 0-8.7566-1.7497-15.397-5.249-19.922-3.4994-4.5248-8.7158-6.7871-15.649-6.7871-6.9987 0-12.28 2.2623-15.845 6.7871s-5.3467 11.165-5.3467 19.922zm97.195-26.611c-6.7058 0-11.979 2.3763-15.82 7.1289-3.8412 4.7526-5.7617 11.312-5.7617 19.678 0 8.7566 1.8473 15.381 5.542 19.873 3.6947 4.4922 9.0413 6.7383 16.04 6.7383 3.0274 0 5.957-0.3011 8.7891-0.90332 2.832-0.60222 5.778-1.3753 8.8379-2.3193v10.01c-5.599 2.1159-11.947 3.1738-19.043 3.1738-10.449 0-18.473-3.1657-24.072-9.4971-5.599-6.3314-8.3984-15.389-8.3984-27.173 0-7.4219 1.359-13.916 4.0771-19.482 2.7181-5.5664 6.6487-9.8307 11.792-12.793s11.182-4.4434 18.115-4.4434c7.2917 0 14.03 1.5299 20.215 4.5898l-4.1992 9.7168c-2.4089-1.1393-4.956-2.1403-7.6416-3.0029-2.6856-0.86263-5.5094-1.2939-8.4717-1.2939zm84.5 62.402h-13.525l-22.412-32.324-6.8848 5.6152v26.709h-11.67v-71.387h11.67v34.082c3.1901-3.9063 6.3639-7.666 9.5215-11.279l19.287-22.803h13.281c-12.468 14.649-21.403 25.081-26.807 31.299l27.539 40.088zm37.576-67.92c-8.9519 0-15.999 2.8646-21.143 8.5938s-7.7148 13.574-7.7148 23.535c0 10.189 2.4251 18.099 7.2754 23.73 4.8503 5.6315 11.784 8.4473 20.801 8.4473 5.9896 0 11.491-0.76497 16.504-2.2949v4.3945c-4.7201 1.6602-10.612 2.4902-17.676 2.4902-10.026 0-17.92-3.2389-23.682-9.7168-5.7617-6.4779-8.6426-15.527-8.6426-27.148 0-7.2592 1.3753-13.656 4.126-19.189 2.7507-5.5339 6.7057-9.8063 11.865-12.817s11.157-4.5166 17.993-4.5166c6.9662 0 13.2 1.3021 18.701 3.9062l-2.002 4.4922c-5.2084-2.6042-10.677-3.9062-16.406-3.9062zm67.654 67.92h-39.014v-71.387h39.014v4.5898h-34.033v27.002h32.129v4.5898h-32.129v30.615h34.033v4.5898zm18.143-31.104v31.104h-4.9805v-71.387h16.992c8.8542 0 15.397 1.6357 19.629 4.9072s6.3477 8.195 6.3477 14.771c0 4.7852-1.2614 8.8216-3.7842 12.109-2.5228 3.2878-6.3558 5.6478-11.499 7.0801l19.385 32.52h-5.957l-18.408-31.104h-17.725zm0-4.2969h13.623c6.0222 0 10.693-1.3428 14.014-4.0283s4.9805-6.6487 4.9805-11.89c0-5.4362-1.6276-9.3913-4.8828-11.865-3.2552-2.474-8.5612-3.7109-15.918-3.7109h-11.816v31.494zm70.047 35.4h-5.0293v-66.699h-23.193v-4.6875h51.416v4.6875h-23.193v66.699zm70.193-18.408c0 5.9571-2.1891 10.677-6.5674 14.16-4.3783 3.4831-10.197 5.2246-17.456 5.2246-8.724 0-15.413-0.96028-20.068-2.8809v-4.9805c5.1433 2.181 11.702 3.2715 19.678 3.2715 5.8594 0 10.506-1.3428 13.94-4.0283 3.4343-2.6856 5.1514-6.2093 5.1514-10.571 0-2.7018-0.56966-4.9398-1.709-6.7139-1.1393-1.7741-2.9948-3.3935-5.5664-4.8584-2.5716-1.4649-6.3476-3.0436-11.328-4.7363-7.2917-2.5065-12.329-5.2165-15.112-8.1299s-4.1748-6.7952-4.1748-11.646c0-5.3386 2.0914-9.6924 6.2744-13.062 4.183-3.3692 9.5621-5.0537 16.138-5.0537 6.7058 0 13.005 1.2695 18.896 3.8086l-1.8066 4.2969c-5.9245-2.474-11.589-3.7109-16.992-3.7109-5.2735 0-9.4726 1.2207-12.598 3.6621-3.125 2.4414-4.6875 5.7617-4.6875 9.9609 0 2.6367 0.48014 4.8014 1.4404 6.4941 0.96029 1.6927 2.5309 3.2145 4.7119 4.5654 2.181 1.3509 5.9245 2.9704 11.23 4.8584 5.5664 1.9206 9.7493 3.7842 12.549 5.5908 2.7995 1.8066 4.8421 3.8574 6.1279 6.1523 1.2858 2.2949 1.9287 5.07 1.9287 8.3252z" fill="#182650" fill-rule="nonzero"/>
            <rect transform="translate(33.5 82) rotate(90) translate(-33.5 -82)" x="28.5" y="48.5" width="10" height="67" rx="5" fill="#2AB27B"/>
            <rect transform="translate(82 82) rotate(90) translate(-82 -82)" x="77" y="77" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(53 102) rotate(90) translate(-53 -102)" x="48" y="97" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(82 42) rotate(90) translate(-82 -42)" x="77" y="37" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(5 42) rotate(90) translate(-5 -42)" y="37" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(44 22) rotate(90) translate(-44 -22)" x="39" y="17" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(34 62) rotate(90) translate(-34 -62)" x="29" y="57" width="10" height="10" rx="5" fill="#2AB27B"/>
            <rect transform="translate(73 22) rotate(90) translate(-73 -22)" x="68" y="8" width="10" height="28" rx="5" fill="#2AB27B"/>
            <rect transform="translate(14.5 22) rotate(90) translate(-14.5 -22)" x="9.5" y="7.5" width="10" height="29" rx="5" fill="#2AB27B"/>
            <rect transform="translate(68 62) rotate(90) translate(-68 -62)" x="63" y="43" width="10" height="38" rx="5" fill="#2AB27B"/>
            <rect transform="translate(9.5 62) rotate(90) translate(-9.5 -62)" x="4.5" y="52.5" width="10" height="19" rx="5" fill="#2AB27B"/>
            <rect transform="translate(77.5 102) rotate(90) translate(-77.5 -102)" x="72.5" y="92.5" width="10" height="19" rx="5" fill="#2AB27B"/>
            <rect transform="translate(19 102) rotate(90) translate(-19 -102)" x="14" y="83" width="10" height="38" rx="5" fill="#2AB27B"/>
            <rect transform="translate(43.5 42) rotate(90) translate(-43.5 -42)" x="38.5" y="18.5" width="10" height="47" rx="5" fill="#2AB27B"/>
            <path d="m10.013 172h-2.6147v-20.164h-7.1213v-2.3225h16.857v2.3225h-7.1213v20.164zm21.656 0v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762s-1.6047-1.0151-2.9377-1.0151c-1.7739 0-3.0685 0.48193-3.8837 1.4458s-1.2228 2.543-1.2228 4.7373v8.8132h-2.5532v-23.933h2.5532v7.2444c0 0.87159-0.041015 1.5945-0.12305 2.1687h0.15381c0.50244-0.81006 1.2176-1.4484 2.1456-1.9149 0.92798-0.46656 1.9867-0.69983 3.1761-0.69983 2.061 0 3.6068 0.48962 4.6373 1.4689 1.0305 0.97925 1.5458 2.5353 1.5458 4.6681v10.997h-2.5532zm14.919 0.30762c-2.4917 0-4.4579-0.75878-5.8986-2.2764-1.4407-1.5176-2.161-3.6247-2.161-6.3215 0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826s-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm39.329 3.7529c0 3.5991-0.91003 6.4292-2.7301 8.4902-1.8201 2.061-4.3502 3.0916-7.5905 3.0916-3.312 0-5.8678-1.0126-7.6674-3.0377-1.7996-2.0252-2.6993-4.8834-2.6993-8.5748 0-3.6607 0.90233-6.4984 2.707-8.5133 1.8047-2.0149 4.3681-3.0223 7.6904-3.0223 3.23 0 5.7524 1.0254 7.5674 3.0762 1.815 2.0508 2.7224 4.8808 2.7224 8.4902zm-17.919 0c0 3.0454 0.64855 5.3551 1.9457 6.9291 1.2971 1.574 3.1813 2.361 5.6525 2.361 2.4917 0 4.3733-0.78442 5.6448-2.3533 1.2715-1.5689 1.9072-3.8811 1.9072-6.9368 0-3.0249-0.63317-5.3192-1.8995-6.8829-1.2664-1.5637-3.1402-2.3456-5.6217-2.3456-2.4917 0-4.3861 0.78698-5.6832 2.361-1.2971 1.574-1.9457 3.8631-1.9457 6.8676zm30.393 11.582c-1.0972 0-2.0995-0.20251-3.007-0.60754-0.90748-0.40503-1.6688-1.028-2.2841-1.8688h-0.18457c0.12305 0.98438 0.18457 1.9175 0.18457 2.7993v6.9368h-2.5532v-24.425h2.0764l0.35376 2.3071h0.12305c0.65625-0.92286 1.4202-1.5894 2.2917-1.9995 0.87159-0.41016 1.8713-0.61523 2.9993-0.61523 2.2354 0 3.9606 0.76391 5.1757 2.2917s1.8226 3.6709 1.8226 6.4292c0 2.7686-0.61779 4.9193-1.8534 6.4523-1.2356 1.533-2.9506 2.2994-5.1449 2.2994zm-0.36914-15.304c-1.7227 0-2.9685 0.4768-3.7375 1.4304s-1.1638 2.4712-1.1843 4.5527v0.56909c0 2.3687 0.39477 4.0631 1.1843 5.0834s2.0559 1.5304 3.7991 1.5304c1.4561 0 2.5968-0.58959 3.4222-1.7688 0.82544-1.1792 1.2382-2.8044 1.2382-4.8757 0-2.1021-0.41272-3.7145-1.2382-4.8373-0.82544-1.1228-1.9867-1.6842-3.4838-1.6842zm18.949 15.304c-2.4917 0-4.4579-0.75878-5.8986-2.2764s-2.161-3.6247-2.161-6.3215c0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826-0.80494 0.16919-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm22.779 15.027v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762-0.62549-0.67676-1.6047-1.0151-2.9377-1.0151-1.7637 0-3.0557 0.4768-3.876 1.4304-0.82032 0.95362-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689 1.0254 0.97925 1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm29.054-5.9832c0 1.979-0.71777 3.5222-2.1533 4.6296-1.4356 1.1074-3.3838 1.6611-5.8447 1.6611-2.666 0-4.7168-0.3435-6.1523-1.0305v-2.5225c0.92286 0.38965 1.9277 0.69726 3.0146 0.92285 1.0869 0.22559 2.1636 0.33838 3.23 0.33838 1.7432 0 3.0557-0.33068 3.9375-0.99206 0.88184-0.66138 1.3228-1.5817 1.3228-2.7609 0-0.7793-0.15637-1.4176-0.46912-1.9149-0.31274-0.49732-0.83569-0.95617-1.5688-1.3766-0.73316-0.42041-1.8483-0.89722-3.3453-1.4304-2.0918-0.74854-3.5863-1.6355-4.4835-2.6609s-1.3458-2.3635-1.3458-4.0144c0-1.7329 0.65112-3.1121 1.9534-4.1375 1.3023-1.0254 3.0249-1.5381 5.168-1.5381 2.2354 0 4.2912 0.41015 6.1677 1.2305l-0.81518 2.2764c-1.856-0.7793-3.6606-1.1689-5.4141-1.1689-1.3843 0-2.4661 0.29736-3.2454 0.89209s-1.1689 1.4202-1.1689 2.4763c0 0.7793 0.14355 1.4176 0.43066 1.9149s0.7716 0.95361 1.4535 1.3689 1.7252 0.87414 3.13 1.3766c2.3584 0.84082 3.9811 1.7432 4.868 2.707s1.3304 2.2148 1.3304 3.7529zm9.6592 4.1836c0.45117 0 0.88696-0.033324 1.3074-0.099975s0.75366-0.13586 0.99976-0.20764v1.9534c-0.27686 0.1333-0.68445 0.24353-1.2228 0.33069-0.53833 0.087159-1.0228 0.13074-1.4535 0.13074-3.2608 0-4.8911-1.7175-4.8911-5.1526v-10.028h-2.4148v-1.2305l2.4148-1.0613 1.0767-3.5991h1.4766v3.9067h4.8911v1.9841h-4.8911v9.9207c0 1.0151 0.24096 1.7944 0.7229 2.3379s1.1433 0.81518 1.9841 0.81518zm16.042 1.7996l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613s1.9816-0.38452 2.9762-0.38452c2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072s1.3407 0.7229 2.3456 0.7229zm24.456 1.7996v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762s-1.6047-1.0151-2.9377-1.0151c-1.7637 0-3.0557 0.4768-3.876 1.4304-0.82032 0.95362-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689s1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm19.272-2.261h-0.13843c-1.1792 1.7124-2.9429 2.5686-5.291 2.5686-2.2046 0-3.9196-0.75365-5.1449-2.261-1.2253-1.5073-1.838-3.6504-1.838-6.4292 0-2.7788 0.61523-4.9372 1.8457-6.4753 1.2305-1.5381 2.9429-2.3071 5.1372-2.3071 2.2866 0 4.04 0.83056 5.2603 2.4917h0.19995l-0.10767-1.2151-0.061523-1.1843v-6.8599h2.5532v23.933h-2.0764l-0.33838-2.261zm-5.1064 0.43066c1.7432 0 3.007-0.47424 3.7914-1.4227s1.1766-2.4789 1.1766-4.5912v-0.53833c0-2.3892-0.39734-4.0939-1.192-5.1141s-2.0636-1.5304-3.8068-1.5304c-1.4971 0-2.6429 0.5819-3.4376 1.7457s-1.192 2.807-1.192 4.9296c0 2.1533 0.39477 3.7786 1.1843 4.8757 0.78955 1.0972 1.9482 1.6458 3.4761 1.6458zm23.302 1.8303l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613 0.98951-0.25635 1.9816-0.38452 2.9762-0.38452 2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072 0.55884 0.48194 1.3407 0.7229 2.3456 0.7229zm20.61-15.365c0.74854 0 1.4202 0.061523 2.0149 0.18457l-0.35376 2.3687c-0.69727-0.15381-1.3125-0.23071-1.8457-0.23071-1.3638 0-2.5301 0.5537-3.4991 1.6611-0.969 1.1074-1.4535 2.4866-1.4535 4.1375v9.0439h-2.5532v-16.857h2.1072l0.29224 3.1223h0.12305c0.62549-1.0972 1.3791-1.9431 2.261-2.5378 0.88184-0.59473 1.8508-0.89209 2.907-0.89209zm16.011 14.904h-0.13843c-1.1792 1.7124-2.9429 2.5686-5.291 2.5686-2.2046 0-3.9195-0.75365-5.1449-2.261s-1.838-3.6504-1.838-6.4292c0-2.7788 0.61523-4.9372 1.8457-6.4753 1.2305-1.5381 2.9429-2.3071 5.1372-2.3071 2.2866 0 4.04 0.83056 5.2603 2.4917h0.19995l-0.10767-1.2151-0.061524-1.1843v-6.8599h2.5532v23.933h-2.0764l-0.33838-2.261zm-5.1064 0.43066c1.7432 0 3.007-0.47424 3.7914-1.4227 0.78443-0.94849 1.1766-2.4789 1.1766-4.5912v-0.53833c0-2.3892-0.39734-4.0939-1.192-5.1141-0.79468-1.0203-2.0636-1.5304-3.8068-1.5304-1.4971 0-2.6429 0.5819-3.4376 1.7457-0.79468 1.1638-1.192 2.807-1.192 4.9296 0 2.1533 0.39477 3.7786 1.1843 4.8757 0.78956 1.0972 1.9482 1.6458 3.4761 1.6458zm24.117 1.8303h-2.6147v-22.487h12.535v2.3225h-9.9207v8.2288h9.3208v2.3225h-9.3208v9.613zm27.809-8.4441c0 2.7481-0.69213 4.8937-2.0764 6.4369-1.3843 1.5432-3.2966 2.3148-5.7371 2.3148-1.5073 0-2.8455-0.35376-4.0144-1.0613s-2.0713-1.7226-2.707-3.0454c-0.63575-1.3228-0.95361-2.8711-0.95361-4.645 0-2.7481 0.687-4.8885 2.061-6.4215 1.374-1.533 3.2812-2.2994 5.7217-2.2994 2.3584 0 4.2323 0.78442 5.6217 2.3533 1.3894 1.5689 2.0841 3.6914 2.0841 6.3677zm-12.843 0c0 2.1533 0.43066 3.7939 1.292 4.9219 0.86133 1.1279 2.1277 1.6919 3.7991 1.6919s2.9403-0.5614 3.8068-1.6842c0.86646-1.1228 1.2997-2.766 1.2997-4.9296 0-2.1431-0.43322-3.7709-1.2997-4.8834-0.86646-1.1126-2.1456-1.6688-3.8375-1.6688-1.6714 0-2.9326 0.54858-3.7837 1.6458-0.85108 1.0972-1.2766 2.7327-1.2766 4.9065zm25.009-8.7209c0.74854 0 1.4202 0.061523 2.0149 0.18457l-0.35376 2.3687c-0.69727-0.15381-1.3125-0.23071-1.8457-0.23071-1.3638 0-2.5301 0.5537-3.4991 1.6611-0.969 1.1074-1.4535 2.4866-1.4535 4.1375v9.0439h-2.5532v-16.857h2.1072l0.29224 3.1223h0.12305c0.62549-1.0972 1.3791-1.9431 2.261-2.5378 0.88184-0.59473 1.8508-0.89209 2.907-0.89209zm13.735-5.3218h6.3523c2.9839 0 5.1423 0.44604 6.4753 1.3381 1.333 0.8921 1.9995 2.302 1.9995 4.2297 0 1.333-0.3717 2.4327-1.1151 3.2992s-1.8278 1.4279-3.2531 1.6842v0.15381c3.4146 0.58448 5.1218 2.3789 5.1218 5.3833 0 2.0098-0.67931 3.5786-2.038 4.7065-1.3586 1.1279-3.2582 1.6919-5.6986 1.6919h-7.8442v-22.487zm2.6147 9.6284h4.3066c1.8457 0 3.1736-0.28967 3.9836-0.86902 0.81006-0.57935 1.2151-1.556 1.2151-2.9301 0-1.2612-0.45117-2.1713-1.3535-2.7301-0.90235-0.55884-2.3379-0.83826-4.3066-0.83826h-3.8452v7.3674zm0 2.2148v8.4133h4.6912c1.815 0 3.1813-0.35119 4.099-1.0536 0.91773-0.7024 1.3766-1.8021 1.3766-3.2992 0-1.3945-0.46911-2.4199-1.4073-3.0762-0.93824-0.65625-2.3661-0.98438-4.2836-0.98438h-4.4758zm19.964 10.644h-2.5532v-23.933h2.5532v23.933zm19.964-8.4441c0 2.7481-0.69213 4.8937-2.0764 6.4369-1.3843 1.5432-3.2966 2.3148-5.7371 2.3148-1.5073 0-2.8455-0.35376-4.0144-1.0613s-2.0713-1.7226-2.707-3.0454c-0.63575-1.3228-0.95361-2.8711-0.95361-4.645 0-2.7481 0.687-4.8885 2.061-6.4215 1.374-1.533 3.2812-2.2994 5.7217-2.2994 2.3584 0 4.2323 0.78442 5.6217 2.3533 1.3894 1.5689 2.0841 3.6914 2.0841 6.3677zm-12.843 0c0 2.1533 0.43066 3.7939 1.292 4.9219 0.86133 1.1279 2.1277 1.6919 3.7991 1.6919s2.9403-0.5614 3.8068-1.6842c0.86646-1.1228 1.2997-2.766 1.2997-4.9296 0-2.1431-0.43322-3.7709-1.2997-4.8834-0.86646-1.1126-2.1456-1.6688-3.8375-1.6688-1.6714 0-2.9326 0.54858-3.7837 1.6458-0.85108 1.0972-1.2766 2.7327-1.2766 4.9065zm24.056 8.7517c-2.4404 0-4.3297-0.75109-5.6678-2.2533-1.3381-1.5022-2.0072-3.6273-2.0072-6.3754 0-2.8198 0.67931-4.9988 2.038-6.5369 1.3586-1.5381 3.2941-2.3071 5.8063-2.3071 0.81006 0 1.6201 0.087157 2.4302 0.26148 0.81006 0.17432 1.4458 0.37939 1.9072 0.61523l-0.78442 2.1687c-0.56397-0.22559-1.1792-0.41272-1.8457-0.5614-0.66651-0.14868-1.2561-0.22302-1.7688-0.22302-3.4248 0-5.1372 2.1841-5.1372 6.5522 0 2.0713 0.41784 3.6606 1.2535 4.7681 0.8357 1.1074 2.0738 1.6611 3.7145 1.6611 1.4048 0 2.8455-0.30249 4.322-0.90747v2.261c-1.1279 0.58448-2.5481 0.87671-4.2605 0.87671zm10.782-8.9363c0.44092-0.62549 1.1125-1.4458 2.0149-2.4609l5.4448-5.7678h3.03l-6.8291 7.1829 7.3059 9.6746h-3.0916l-5.9524-7.9673-1.9226 1.6611v6.3062h-2.5225v-23.933h2.5225v12.689c0 0.56397-0.041015 1.4355-0.12305 2.6147h0.12305zm20.118 8.9363c-2.4404 0-4.3297-0.75109-5.6678-2.2533-1.3381-1.5022-2.0072-3.6273-2.0072-6.3754 0-2.8198 0.67932-4.9988 2.038-6.5369 1.3586-1.5381 3.2941-2.3071 5.8063-2.3071 0.81006 0 1.6201 0.087157 2.4302 0.26148 0.81006 0.17432 1.4458 0.37939 1.9072 0.61523l-0.78442 2.1687c-0.56397-0.22559-1.1792-0.41272-1.8457-0.5614-0.66651-0.14868-1.2561-0.22302-1.7688-0.22302-3.4248 0-5.1372 2.1841-5.1372 6.5522 0 2.0713 0.41784 3.6606 1.2535 4.7681 0.8357 1.1074 2.0738 1.6611 3.7145 1.6611 1.4048 0 2.8455-0.30249 4.322-0.90747v2.261c-1.1279 0.58448-2.5481 0.87671-4.2605 0.87671zm19.795-0.30762v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762-0.62549-0.67676-1.6047-1.0151-2.9377-1.0151-1.7739 0-3.0685 0.48193-3.8837 1.4458-0.81519 0.96387-1.2228 2.543-1.2228 4.7373v8.8132h-2.5532v-23.933h2.5532v7.2444c0 0.87159-0.041015 1.5945-0.12305 2.1687h0.15381c0.50244-0.81006 1.2176-1.4484 2.1456-1.9149s1.9867-0.69983 3.1761-0.69983c2.061 0 3.6068 0.48962 4.6373 1.4689s1.5458 2.5353 1.5458 4.6681v10.997h-2.5532zm18.165 0l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613 0.98951-0.25635 1.9816-0.38452 2.9762-0.38452 2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072 0.55884 0.48194 1.3407 0.7229 2.3456 0.7229zm15.473 1.7996h-2.5532v-16.857h2.5532v16.857zm-2.7686-21.426c0-0.58448 0.14355-1.0126 0.43066-1.2843 0.28711-0.27173 0.64599-0.40759 1.0767-0.40759 0.41016 0 0.76391 0.13843 1.0613 0.41528 0.29736 0.27686 0.44604 0.70239 0.44604 1.2766s-0.14868 1.0023-0.44604 1.2843c-0.29736 0.28198-0.65112 0.42297-1.0613 0.42297-0.43067 0-0.78955-0.14099-1.0767-0.42297-0.28711-0.28198-0.43066-0.71008-0.43066-1.2843zm19.718 21.426v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762-0.62549-0.67676-1.6047-1.0151-2.9377-1.0151-1.7637 0-3.0557 0.4768-3.876 1.4304s-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689s1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm25.994-20.472c-2.4712 0-4.422 0.82287-5.8524 2.4686-1.4304 1.6458-2.1456 3.899-2.1456 6.7599 0 2.9429 0.68957 5.2167 2.0687 6.8214s3.3453 2.4071 5.8986 2.4071c1.5689 0 3.3581-0.28198 5.3679-0.84595v2.2917c-1.5586 0.58448-3.4812 0.87671-5.7678 0.87671-3.312 0-5.8678-1.0049-7.6674-3.0146-1.7996-2.0098-2.6993-4.8655-2.6993-8.5671 0-2.3174 0.43322-4.3476 1.2997-6.0908 0.86646-1.7432 2.1174-3.0864 3.7529-4.0298 1.6355-0.94336 3.5607-1.415 5.7755-1.415 2.3584 0 4.4194 0.43066 6.1831 1.292l-1.1074 2.2456c-1.7022-0.79981-3.4043-1.1997-5.1064-1.1997zm17.55 3.3069c0.74854 0 1.4202 0.061523 2.0149 0.18457l-0.35376 2.3687c-0.69727-0.15381-1.3125-0.23071-1.8457-0.23071-1.3638 0-2.5301 0.5537-3.4991 1.6611-0.969 1.1074-1.4535 2.4866-1.4535 4.1375v9.0439h-2.5532v-16.857h2.1072l0.29224 3.1223h0.12305c0.62549-1.0972 1.3791-1.9431 2.261-2.5378 0.88184-0.59473 1.8508-0.89209 2.907-0.89209zm11.659 17.473c-2.4917 0-4.4579-0.75878-5.8986-2.2764s-2.161-3.6247-2.161-6.3215c0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826-0.80494 0.16919-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm22.718 12.766h-0.13843c-1.1792 1.7124-2.9429 2.5686-5.291 2.5686-2.2046 0-3.9196-0.75365-5.1449-2.261s-1.838-3.6504-1.838-6.4292c0-2.7788 0.61523-4.9372 1.8457-6.4753 1.2305-1.5381 2.9429-2.3071 5.1372-2.3071 2.2866 0 4.04 0.83056 5.2603 2.4917h0.19995l-0.10767-1.2151-0.061524-1.1843v-6.8599h2.5532v23.933h-2.0764l-0.33838-2.261zm-5.1064 0.43066c1.7432 0 3.007-0.47424 3.7914-1.4227 0.78443-0.94849 1.1766-2.4789 1.1766-4.5912v-0.53833c0-2.3892-0.39734-4.0939-1.192-5.1141-0.79468-1.0203-2.0636-1.5304-3.8068-1.5304-1.4971 0-2.6429 0.5819-3.4376 1.7457s-1.192 2.807-1.192 4.9296c0 2.1533 0.39477 3.7786 1.1843 4.8757 0.78955 1.0972 1.9482 1.6458 3.4761 1.6458zm20.057 2.1379c-2.4917 0-4.4579-0.75878-5.8986-2.2764s-2.161-3.6247-2.161-6.3215c0-2.7173 0.66906-4.8757 2.0072-6.4753 1.3381-1.5996 3.1351-2.3994 5.391-2.3994 2.1123 0 3.7837 0.6947 5.0142 2.0841 1.2305 1.3894 1.8457 3.2223 1.8457 5.4987v1.615h-11.613c0.05127 1.979 0.55114 3.4812 1.4996 4.5066 0.94849 1.0254 2.284 1.5381 4.0067 1.5381 1.815 0 3.6094-0.37939 5.3833-1.1382v2.2764c-0.90235 0.38965-1.756 0.66907-2.5609 0.83826-0.80494 0.16919-1.7765 0.25378-2.9147 0.25378zm-0.69214-15.335c-1.3535 0-2.4327 0.44091-3.2377 1.3228-0.80494 0.88184-1.2792 2.102-1.4227 3.6606h8.8132c0-1.6099-0.35888-2.8429-1.0767-3.6991-0.71778-0.8562-1.7432-1.2843-3.0762-1.2843zm22.779 15.027v-10.905c0-1.374-0.31274-2.3994-0.93823-3.0762s-1.6047-1.0151-2.9377-1.0151c-1.7637 0-3.0557 0.4768-3.876 1.4304-0.82032 0.95362-1.2305 2.5276-1.2305 4.7219v8.844h-2.5532v-16.857h2.0764l0.41528 2.3071h0.12305c0.52295-0.83057 1.2561-1.474 2.1995-1.9303s1.9944-0.68445 3.1531-0.68445c2.0303 0 3.5581 0.48962 4.5835 1.4689s1.5381 2.5455 1.5381 4.6989v10.997h-2.5532zm13.243-1.7996c0.45118 0 0.88696-0.033324 1.3074-0.099975 0.42041-0.066651 0.75366-0.13586 0.99976-0.20764v1.9534c-0.27686 0.1333-0.68444 0.24353-1.2228 0.33069s-1.0228 0.13074-1.4535 0.13074c-3.2608 0-4.8911-1.7175-4.8911-5.1526v-10.028h-2.4148v-1.2305l2.4148-1.0613 1.0767-3.5991h1.4766v3.9067h4.8911v1.9841h-4.8911v9.9207c0 1.0151 0.24096 1.7944 0.7229 2.3379s1.1433 0.81518 1.9841 0.81518zm8.2288 1.7996h-2.5532v-16.857h2.5532v16.857zm-2.7686-21.426c0-0.58448 0.14355-1.0126 0.43066-1.2843 0.28711-0.27173 0.64599-0.40759 1.0767-0.40759 0.41016 0 0.76391 0.13843 1.0613 0.41528 0.29736 0.27686 0.44604 0.70239 0.44604 1.2766s-0.14868 1.0023-0.44604 1.2843c-0.29736 0.28198-0.65112 0.42297-1.0613 0.42297-0.43067 0-0.78955-0.14099-1.0767-0.42297-0.28711-0.28198-0.43066-0.71008-0.43066-1.2843zm18.549 21.426l-0.50757-2.3994h-0.12305c-0.84082 1.0562-1.6791 1.7714-2.5148 2.1456-0.8357 0.37427-1.879 0.5614-3.13 0.5614-1.6714 0-2.9813-0.43066-3.9298-1.292s-1.4227-2.0867-1.4227-3.676c0-3.4043 2.7224-5.1885 8.1672-5.3525l2.8608-0.092286v-1.0459c0-1.3228-0.28454-2.2994-0.85364-2.9301-0.5691-0.63062-1.4791-0.94592-2.7301-0.94592-1.4048 0-2.9941 0.43066-4.7681 1.292l-0.78442-1.9534c0.83057-0.45117 1.7406-0.80493 2.7301-1.0613 0.98951-0.25635 1.9816-0.38452 2.9762-0.38452 2.0098 0 3.4991 0.44604 4.4681 1.3381 0.969 0.8921 1.4535 2.3225 1.4535 4.2913v11.505h-1.8918zm-5.7678-1.7996c1.5894 0 2.8378-0.43579 3.7452-1.3074 0.90748-0.87159 1.3612-2.0918 1.3612-3.6606v-1.5227l-2.5532 0.10767c-2.0303 0.071778-3.494 0.38708-4.3912 0.94592-0.89722 0.55884-1.3458 1.4278-1.3458 2.6071 0 0.92286 0.27942 1.6252 0.83826 2.1072 0.55884 0.48194 1.3407 0.7229 2.3456 0.7229zm15.473 1.7996h-2.5532v-23.933h2.5532v23.933zm16.288-4.5989c0 1.5689-0.58447 2.7788-1.7534 3.6299-1.169 0.85108-2.8096 1.2766-4.9219 1.2766-2.2354 0-3.9785-0.35376-5.2295-1.0613v-2.3687c0.81006 0.41016 1.6791 0.73315 2.6071 0.96899s1.8226 0.35376 2.684 0.35376c1.333 0 2.3584-0.21277 3.0762-0.6383s1.0767-1.0741 1.0767-1.9457c0-0.65625-0.28454-1.2176-0.85364-1.6842s-1.6791-1.0177-3.33-1.6534c-1.5689-0.58448-2.684-1.0946-3.3453-1.5304s-1.1536-0.93054-1.4766-1.4843c-0.323-0.55371-0.4845-1.2151-0.4845-1.9841 0-1.374 0.55883-2.4584 1.6765-3.2531 1.1177-0.79468 2.6506-1.192 4.5989-1.192 1.815 0 3.5889 0.36914 5.3218 1.1074l-0.90747 2.0764c-1.6919-0.69727-3.2248-1.0459-4.5989-1.0459-1.21 0-2.1226 0.1897-2.7378 0.56909-0.61524 0.3794-0.92285 0.90234-0.92285 1.5688 0 0.45117 0.11536 0.83569 0.34607 1.1536 0.23071 0.31787 0.60241 0.62036 1.1151 0.90747s1.4971 0.70239 2.9531 1.2458c1.9995 0.72803 3.3505 1.4612 4.0529 2.1995 0.7024 0.73828 1.0536 1.6663 1.0536 2.7839z" fill="#182650" fill-rule="nonzero"/>
          </g>
        </g>
      </g>
    </svg>
    <span class='buv-u-visually-hidden'>${xi("text.motto")}</span>
  `}const Bi=({className:e="",showMotto:t=!1}={className:"",showMotto:!1})=>he`
    ${mi}
    <a href='https://www.blockcerts.org' title='${xi("text.blockcertsHint")}' class$='buv-c-logo  ${e}'>
      ${t?_i():he`
    <svg class='buv-qa-logo--simple  buv-c-logo--small' viewBox="0 0 113 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs></defs>
        <g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd" fill-opacity="0.37">
          <g id="blockcerts-logo" transform="translate(0.000000, -2.000000)" fill-rule="nonzero" fill="inherit">
            <path d="M19.5,5.06256945 L22.9958467,5.06256945 C24.617584,5.06256945 25.789567,5.29884552 26.5118308,5.77140473 C27.2340946,6.24396395 27.5952211,6.99038151 27.5952211,8.01067982 C27.5952211,8.69803869 27.4180141,9.26993416 27.0635947,9.72638339 C26.7091752,10.1828327 26.1990337,10.4701229 25.5331548,10.5882627 L25.5331548,10.6688121 C26.3601335,10.8245419 26.9682758,11.1319693 27.3576002,11.5911035 C27.7469246,12.0502377 27.9415838,12.6718049 27.9415838,13.4558236 C27.9415838,14.5137118 27.5724025,15.3420205 26.8340287,15.9407745 C26.0956549,16.5395285 25.0686595,16.8389011 23.7530117,16.8389011 L19.5,16.8389011 L19.5,5.06256945 Z M21.4251322,9.92775706 L23.2777698,9.92775706 C24.0832685,9.92775706 24.6712737,9.80022169 25.0418031,9.54514712 C25.4123325,9.29007254 25.5975944,8.85645225 25.5975944,8.24427327 C25.5975944,7.69116419 25.3975653,7.29110585 24.9975009,7.04408626 C24.5974366,6.79706667 23.9624447,6.67355873 23.0925061,6.67355873 L21.4251322,6.67355873 L21.4251322,9.92775706 Z M21.4251322,11.4904167 L21.4251322,15.2198568 L23.4710886,15.2198568 C24.2765872,15.2198568 24.8847296,15.0654719 25.2955339,14.7566974 C25.7063383,14.4479229 25.9117373,13.9606036 25.9117373,13.2947247 C25.9117373,12.6825457 25.7023108,12.2287882 25.2834515,11.9334387 C24.8645922,11.6380892 24.2282578,11.4904167 23.3744292,11.4904167 L21.4251322,11.4904167 Z M29.8953916,16.8389011 L29.8953916,5.06256945 L31.8205237,5.06256945 L31.8205237,15.1876371 L36.8065356,15.1876371 L36.8065356,16.8389011 L29.8953916,16.8389011 Z M48.4665536,10.9346254 C48.4665536,12.8517122 47.9872891,14.3418624 47.0287457,15.4051206 C46.0702024,16.4683789 44.7129575,17 42.9569704,17 C41.1795033,17 39.8142036,16.4724063 38.8610302,15.417203 C37.9078567,14.3619998 37.4312772,12.8624522 37.4312772,10.9185155 C37.4312772,8.97457869 37.9105417,7.48174356 38.8690851,6.43996528 C39.8276285,5.39818701 41.1956132,4.87730568 42.9730803,4.87730568 C44.7236973,4.87730568 46.0769148,5.40624187 47.0327734,6.46413012 C47.9886317,7.52201836 48.4665536,9.01216855 48.4665536,10.9346254 Z M39.4772336,10.9346254 C39.4772336,12.384523 39.7698937,13.4840121 40.3552227,14.2331259 C40.9405517,14.9822397 41.8077923,15.3567909 42.9569704,15.3567909 C44.1007786,15.3567909 44.9639915,14.9862671 45.5466357,14.2452083 C46.1292796,13.5041496 46.4205973,12.4006329 46.4205973,10.9346254 C46.4205973,9.49009776 46.1319648,8.39463599 45.5546906,7.64820724 C44.9774165,6.90177847 44.1168884,6.52856969 42.9730803,6.52856969 C41.8185322,6.52856969 40.9472642,6.90177847 40.3592502,7.64820724 C39.7712361,8.39463599 39.4772336,9.49009776 39.4772336,10.9346254 Z M55.5110875,6.54467959 C54.4048694,6.54467959 53.5349439,6.93668306 52.9012851,7.72070175 C52.267626,8.50472046 51.9508013,9.58675743 51.9508013,10.9668451 C51.9508013,12.4113727 52.2555437,13.5041496 52.8650377,14.2452083 C53.4745317,14.9862671 54.3565394,15.3567909 55.5110875,15.3567909 C56.0104969,15.3567909 56.4937888,15.3071193 56.960978,15.2077744 C57.4281673,15.1084296 57.9141441,14.9808942 58.4189233,14.8251645 L58.4189233,16.4764285 C57.4952848,16.8254779 56.4481523,17 55.2774942,17 C53.5537269,17 52.230044,16.4777762 51.3064055,15.4333129 C50.3827671,14.3888497 49.9209548,12.894672 49.9209548,10.9507353 C49.9209548,9.72637727 50.1451485,8.65508014 50.5935427,7.73681166 C51.041937,6.81854317 51.6903538,6.11508489 52.5388124,5.6264157 C53.3872709,5.13774651 54.3833893,4.89341558 55.5271976,4.89341558 C56.7300756,4.89341558 57.841647,5.14580137 58.8619454,5.65058054 L58.1692199,7.25351487 C57.7718405,7.06556518 57.3516451,6.90044043 56.9086208,6.75813566 C56.4655966,6.6158309 55.9997568,6.54467959 55.5110875,6.54467959 Z M69.4506556,16.8389011 L67.2194355,16.8389011 L63.522215,11.5065265 L62.3864676,12.4328454 L62.3864676,16.8389011 L60.4613353,16.8389011 L60.4613353,5.06256945 L62.3864676,5.06256945 L62.3864676,10.684922 C62.9127266,10.0405231 63.4362929,9.42029843 63.9571822,8.82422942 L67.1388858,5.06256945 L69.3298314,5.06256945 C67.2731248,7.47906546 65.7990842,9.20012177 64.9076657,10.2257901 L69.4506556,16.8389011 Z M75.6494201,5.63447064 C74.1726725,5.63447064 73.0100869,6.10702277 72.1616284,7.05214121 C71.3131696,7.99725964 70.8889467,9.29140808 70.8889467,10.9346254 C70.8889467,12.6154326 71.2890051,13.9203209 72.0891337,14.8493293 C72.8892625,15.7783378 74.0330533,16.242835 75.5205409,16.242835 C76.5086192,16.242835 77.4161342,16.1166421 78.2431127,15.8642525 L78.2431127,16.5891977 C77.4644642,16.8630673 76.4925103,17 75.3272222,17 C73.673265,17 72.3710617,16.4656939 71.4205732,15.3970657 C70.4700848,14.3284374 69.9948476,12.8356023 69.9948476,10.9185155 C69.9948476,9.72100746 70.2217264,8.66582002 70.6754907,7.75292154 C71.129255,6.84002305 71.781699,6.13522229 72.6328427,5.63849812 C73.4839862,5.14177394 74.4733922,4.89341558 75.6010904,4.89341558 C76.7502684,4.89341558 77.7786064,5.108212 78.6861348,5.53781129 L78.355882,6.27886635 C77.4966834,5.84926707 76.5945384,5.63447064 75.6494201,5.63447064 Z M86.8100316,16.8389011 L80.3741293,16.8389011 L80.3741293,5.06256945 L86.8100316,5.06256945 L86.8100316,5.81973441 L81.1957339,5.81973441 L81.1957339,10.2741198 L86.4958886,10.2741198 L86.4958886,11.0312847 L81.1957339,11.0312847 L81.1957339,16.0817361 L86.8100316,16.0817361 L86.8100316,16.8389011 Z M89.8029274,11.7079002 L89.8029274,16.8389011 L88.9813228,16.8389011 L88.9813228,5.06256945 L91.7844442,5.06256945 C93.2450817,5.06256945 94.3244339,5.33240746 95.0225327,5.87209156 C95.7206316,6.41177567 96.0696758,7.22397464 96.0696758,8.30871284 C96.0696758,9.09810153 95.8615917,9.76397044 95.4454173,10.3063395 C95.0292429,10.8487086 94.396936,11.2380272 93.5484774,11.4743068 L96.7462912,16.8389011 L95.7635877,16.8389011 L92.726873,11.7079002 L89.8029274,11.7079002 Z M89.8029274,10.9990649 L92.0502574,10.9990649 C93.0437059,10.9990649 93.814288,10.7775561 94.3620271,10.3345318 C94.909766,9.8915076 95.1836315,9.23772099 95.1836315,8.37315242 C95.1836315,7.4763639 94.9151361,6.82391977 94.378137,6.41580044 C93.8411379,6.00768112 92.9658423,5.80362452 91.7522245,5.80362452 L89.8029274,5.80362452 L89.8029274,10.9990649 Z M101.358231,16.8389011 L100.528572,16.8389011 L100.528572,5.8358443 L96.7024723,5.8358443 L96.7024723,5.06256945 L105.184331,5.06256945 L105.184331,5.8358443 L101.358231,5.8358443 L101.358231,16.8389011 Z M112.9377,13.8021863 C112.9377,14.7848947 112.576573,15.5635317 111.85431,16.1381207 C111.132046,16.7127098 110.172174,17 108.974666,17 C107.535509,17 106.431992,16.8415876 105.664083,16.5247582 L105.664083,15.7031536 C106.512542,16.062943 107.594579,16.242835 108.910227,16.242835 C109.876825,16.242835 110.64338,16.0213262 111.209914,15.5783019 C111.776448,15.1352777 112.059711,14.5539849 112.059711,13.8344061 C112.059711,13.3886968 111.965737,13.0195154 111.777788,12.7268509 C111.589838,12.4341864 111.283753,12.1670334 110.859524,11.9253838 C110.435294,11.6837342 109.812385,11.4232935 108.990776,11.144054 C107.787898,10.7305647 106.956904,10.2835196 106.49777,9.80290539 C106.038636,9.32229119 105.809072,8.68192935 105.809072,7.88180069 C105.809072,7.00112214 106.154089,6.28289661 106.844133,5.72710253 C107.534177,5.17130845 108.421555,4.89341558 109.506293,4.89341558 C110.612511,4.89341558 111.651589,5.10284209 112.623557,5.52170139 L112.325524,6.23053668 C111.348186,5.82241735 110.413821,5.61836075 109.522403,5.61836075 C108.652464,5.61836075 107.959746,5.8197324 107.444226,6.22248173 C106.928707,6.62523106 106.670952,7.17296194 106.670952,7.86569079 C106.670952,8.30066007 106.750158,8.65775912 106.908573,8.93699866 C107.066987,9.2162382 107.326085,9.46728151 107.685875,9.69013615 C108.045664,9.91299077 108.663204,10.1801438 109.538513,10.4916033 C110.456781,10.8084328 111.146815,11.1158602 111.608634,11.4138947 C112.070453,11.7119292 112.407415,12.0502335 112.619529,12.4288179 C112.831644,12.8074023 112.9377,13.2651872 112.9377,13.8021863 Z" id="BLOCKCERTS"></path>
            <path d="M10.9580699,13.4113689 C10.9580699,13.8630088 10.5919434,14.2291353 10.1403035,14.2291353 L0.81776652,14.2291353 C0.366126608,14.2291353 1.20000012e-07,13.8630088 1.2000001e-07,13.4113689 C1.2000001e-07,12.959729 0.366126608,12.5936025 0.81776652,12.5936025 L10.1403035,12.5936025 C10.5919434,12.5936025 10.9580699,12.959729 10.9580699,13.4113689 Z"></path>
            <path d="M14.2291354,13.411369 C14.2291354,13.8630089 13.8630089,14.2291354 13.411369,14.2291354 C12.9597291,14.2291354 12.5936026,13.8630089 12.5936026,13.411369 C12.5936026,12.9597291 12.9597291,12.5936026 13.411369,12.5936026 C13.8630089,12.5936026 14.2291354,12.9597291 14.2291354,13.411369 Z"></path>
            <path d="M9.4860908,16.6824348 C9.4860908,17.1340748 9.11996431,17.5002012 8.6683244,17.5002012 C8.21668449,17.5002012 7.850558,17.1340748 7.850558,16.6824348 C7.850558,16.2307949 8.21668449,15.8646684 8.6683244,15.8646684 C9.11996431,15.8646684 9.4860908,16.2307949 9.4860908,16.6824348 Z"></path>
            <path d="M14.2291356,6.869238 C14.2291356,7.32087791 13.8630092,7.6870044 13.4113692,7.6870044 C12.9597293,7.6870044 12.5936028,7.32087791 12.5936028,6.869238 C12.5936028,6.41759809 12.9597293,6.0514716 13.4113692,6.0514716 C13.8630092,6.0514716 14.2291356,6.41759809 14.2291356,6.869238 Z"></path>
            <path d="M1.63553264,6.8692384 C1.63553264,7.32087831 1.26940615,7.6870048 0.81776624,7.6870048 C0.366126328,7.6870048 -1.60000013e-07,7.32087831 -1.60000013e-07,6.8692384 C-1.60000013e-07,6.41759849 0.366126328,6.051472 0.81776624,6.051472 C1.26940615,6.051472 1.63553264,6.41759849 1.63553264,6.8692384 Z"></path><rect transform="translate(7.196344, 3.598172) rotate(90.000000) translate(-7.196344, -3.598172) " x="6.37857744" y="2.78040592" width="1.6355328" height="1.6355328" rx="0.8177664"></rect>
            <path d="M6.37857804,10.1403025 C6.37857804,10.5919424 6.01245155,10.9580689 5.56081164,10.9580689 C5.10917173,10.9580689 4.74304524,10.5919424 4.74304524,10.1403025 C4.74304524,9.68866261 5.10917173,9.32253612 5.56081164,9.32253612 C6.01245155,9.32253612 6.37857804,9.68866261 6.37857804,10.1403025 Z"></path>
            <path d="M14.2291348,3.5981724 C14.2291348,4.04981231 13.8630083,4.4159388 13.4113684,4.4159388 L10.4674093,4.4159388 C10.0157694,4.4159388 9.64964292,4.04981231 9.64964292,3.5981724 C9.64964292,3.14653249 10.0157694,2.780406 10.4674093,2.780406 L13.4113684,2.780406 C13.8630083,2.780406 14.2291348,3.14653249 14.2291348,3.5981724 Z"></path><rect transform="translate(2.371523, 3.598172) rotate(90.000000) translate(-2.371523, -3.598172) " x="1.55375644" y="1.226649" width="1.6355328" height="4.74304512" rx="0.8177664"></rect>
            <path d="M14.229135,10.140303 C14.229135,10.5919429 13.8630085,10.9580694 13.4113686,10.9580694 L8.83187672,10.9580694 C8.38023681,10.9580694 8.01411032,10.5919429 8.01411032,10.140303 C8.01411032,9.68866309 8.38023681,9.3225366 8.83187672,9.3225366 L13.4113686,9.3225366 C13.8630085,9.3225366 14.229135,9.68866309 14.229135,10.140303 Z"></path>
            <path d="M3.1075118,10.1403032 C3.1075118,10.5919431 2.74138531,10.9580696 2.2897454,10.9580696 L0.81776588,10.9580696 C0.366125968,10.9580696 -5.20000015e-07,10.5919431 -5.20000015e-07,10.1403032 C-5.20000015e-07,9.68866325 0.366125968,9.32253676 0.81776588,9.32253676 L2.2897454,9.32253676 C2.74138531,9.32253676 3.1075118,9.68866325 3.1075118,10.1403032 Z"></path>
            <path d="M14.2291356,16.6824352 C14.2291356,17.1340751 13.8630091,17.5002016 13.4113692,17.5002016 L11.9393897,17.5002016 C11.4877498,17.5002016 11.1216233,17.1340751 11.1216233,16.6824352 C11.1216233,16.2307953 11.4877498,15.8646688 11.9393897,15.8646688 L13.4113692,15.8646688 C13.8630091,15.8646688 14.2291356,16.2307953 14.2291356,16.6824352 Z"></path>
            <path d="M6.2150248,16.6824353 C6.2150248,17.1340752 5.84889831,17.5002017 5.3972584,17.5002017 L0.81776656,17.5002017 C0.366126648,17.5002017 1.59999985e-07,17.1340752 1.59999985e-07,16.6824353 C1.59999985e-07,16.2307954 0.366126648,15.8646689 0.81776656,15.8646689 L5.3972584,15.8646689 C5.84889831,15.8646689 6.2150248,16.2307954 6.2150248,16.6824353 Z"></path>
            <path d="M10.9580703,6.86923768 C10.9580703,7.32087759 10.5919438,7.68700408 10.1403039,7.68700408 L4.08883256,7.68700408 C3.63719265,7.68700408 3.27106616,7.32087759 3.27106616,6.86923768 C3.27106616,6.41759777 3.63719265,6.05147128 4.08883256,6.05147128 L10.1403039,6.05147128 C10.5919438,6.05147128 10.9580703,6.41759777 10.9580703,6.86923768 Z">
            </path> 
          </g>
      </g> 
    </svg>
    <span class='buv-u-visually-hidden'>${xi("text.brandname")}</span>
  `}
    </a>`;var Ei={exports:{}};!function(e){function t(e){this.mode=n.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var i=[],o=this.data.charCodeAt(t);o>65536?(i[0]=240|(1835008&o)>>>18,i[1]=128|(258048&o)>>>12,i[2]=128|(4032&o)>>>6,i[3]=128|63&o):o>2048?(i[0]=224|(61440&o)>>>12,i[1]=128|(4032&o)>>>6,i[2]=128|63&o):o>128?(i[0]=192|(1984&o)>>>6,i[1]=128|63&o):i[0]=o,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function r(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},r.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=g.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,s=0;s<this.modules[i].length;s++){var a=1*s;this.modules[i][s]&&(n.beginFill(0,100),n.moveTo(a,o),n.lineTo(a+1,o),n.lineTo(a+1,o+1),n.lineTo(a,o+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=g.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[n+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(e){for(var t=g.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=g.getBCHTypeInfo(r),i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!e&&1==(n>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[n][s-a]){var c=!1;o<e.length&&(c=1==(e[o]>>>i&1)),g.getMask(t,n,s-a)&&(c=!c),this.modules[n][s-a]=c,-1==--i&&(o++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,n){for(var i=b.getRSBlocks(e,t),o=new w,s=0;s<n.length;s++){var a=n[s];o.put(a.mode,4),o.put(a.getLength(),g.getLengthInBits(a.mode,e)),a.write(o)}var c=0;for(s=0;s<i.length;s++)c+=i[s].dataCount;if(o.getLengthInBits()>8*c)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*c+")");for(o.getLengthInBits()+4<=8*c&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*c||(o.put(r.PAD0,8),o.getLengthInBits()>=8*c));)o.put(r.PAD1,8);return r.createBytes(o,i)},r.createBytes=function(e,t){for(var r=0,n=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var c=t[a].dataCount,u=t[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),o[a]=new Array(c);for(var l=0;l<o[a].length;l++)o[a][l]=255&e.buffer[l+r];r+=c;var A=g.getErrorCorrectPolynomial(u),h=new v(o[a],A.getLength()-1).mod(A);s[a]=new Array(A.getLength()-1);for(l=0;l<s[a].length;l++){var f=l+h.getLength()-s[a].length;s[a][l]=f>=0?h.get(f):0}}var d=0;for(l=0;l<t.length;l++)d+=t[l].totalCount;var p=new Array(d),m=0;for(l=0;l<n;l++)for(a=0;a<t.length;a++)l<o[a].length&&(p[m++]=o[a][l]);for(l=0;l<i;l++)for(a=0;a<t.length;a++)l<s[a].length&&(p[m++]=s[a][l]);return p};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i=1,o=0,s=3,a=2,c=0,u=1,l=2,A=3,h=4,f=5,d=6,p=7,g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;g.getBCHDigit(t)-g.getBCHDigit(g.G15)>=0;)t^=g.G15<<g.getBCHDigit(t)-g.getBCHDigit(g.G15);return(e<<10|t)^g.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;g.getBCHDigit(t)-g.getBCHDigit(g.G18)>=0;)t^=g.G18<<g.getBCHDigit(t)-g.getBCHDigit(g.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return g.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case c:return(t+r)%2==0;case u:return t%2==0;case l:return r%3==0;case A:return(t+r)%3==0;case h:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case f:return t*r%2+t*r%3==0;case d:return(t*r%2+t*r%3)%2==0;case p:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new v([1],0),r=0;r<e;r++)t=t.multiply(new v([1,m.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||0==a&&0==c||s==e.isDark(n+a,i+c)&&o++;o>5&&(r+=3+o-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var u=0;e.isDark(n,i)&&u++,e.isDark(n+1,i)&&u++,e.isDark(n,i+1)&&u++,e.isDark(n+1,i+1)&&u++,0!=u&&4!=u||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var l=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&l++;return r+=10*(Math.abs(100*l/t/t-50)/5)}},m={glog:function(e){if(e<1)throw new Error("glog("+e+")");return m.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return m.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)m.EXP_TABLE[y]=1<<y;for(y=8;y<256;y++)m.EXP_TABLE[y]=m.EXP_TABLE[y-4]^m.EXP_TABLE[y-5]^m.EXP_TABLE[y-6]^m.EXP_TABLE[y-8];for(y=0;y<255;y++)m.LOG_TABLE[m.EXP_TABLE[y]]=y;function v(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function b(e,t){this.totalCount=e,this.dataCount=t}function w(){this.buffer=[],this.length=0}v.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=m.gexp(m.glog(this.get(r))+m.glog(e.get(n)));return new v(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=m.glog(this.get(0))-m.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=m.gexp(m.glog(e.get(n))+t);return new v(r,0).mod(e)}},b.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b.getRSBlocks=function(e,t){var r=b.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[3*o+0],a=r[3*o+1],c=r[3*o+2],u=0;u<s;u++)i.push(new b(a,c));return i},b.getRsBlockTable=function(e,t){switch(t){case i:return b.RS_BLOCK_TABLE[4*(e-1)+0];case o:return b.RS_BLOCK_TABLE[4*(e-1)+1];case s:return b.RS_BLOCK_TABLE[4*(e-1)+2];case a:return b.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},w.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var x=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var n=this.options.content,c=function(e,t){for(var r=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),n=1,i=0,o=0,s=x.length;o<=s;o++){var a=x[o];if(!a)throw new Error("Content too long: expected "+i+" but got "+r);switch(t){case"L":i=a[0];break;case"M":i=a[1];break;case"Q":i=a[2];break;case"H":i=a[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(r<=i)break;n++}if(n>x.length)throw new Error("Content too long");return n}(n,this.options.ecl),u=function(e){switch(e){case"L":return i;case"M":return o;case"Q":return s;case"H":return a;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new r(c,u),this.qrcode.addData(n),this.qrcode.make()}_.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,i=n?"  ":"",o=n?"\r\n":"",s=t.width,a=t.height,c=r.length,u=s/(c+2*t.padding),l=a/(c+2*t.padding),A=void 0!==t.join&&!!t.join,h=void 0!==t.swap&&!!t.swap,f=void 0===t.xmlDeclaration||!!t.xmlDeclaration,d=void 0!==t.predefined&&!!t.predefined,p=d?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+o:"",g=i+'<rect x="0" y="0" width="'+s+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+o,m="",y="",v=0;v<c;v++)for(var b=0;b<c;b++){if(r[b][v]){var w=b*u+t.padding*u,x=v*l+t.padding*l;if(h){var _=w;w=x,x=_}if(A){var B=u+w,E=l+x;w=Number.isInteger(w)?Number(w):w.toFixed(2),x=Number.isInteger(x)?Number(x):x.toFixed(2),B=Number.isInteger(B)?Number(B):B.toFixed(2),y+="M"+w+","+x+" V"+(E=Number.isInteger(E)?Number(E):E.toFixed(2))+" H"+B+" V"+x+" H"+w+" Z "}else m+=d?i+'<use x="'+w.toString()+'" y="'+x.toString()+'" href="#qrmodule" />'+o:i+'<rect x="'+w.toString()+'" y="'+x.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+o}}A&&(m=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+y+'" />');var S="";switch(e.container){case"svg":f&&(S+='<?xml version="1.0" standalone="yes"?>'+o),S+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+s+'" height="'+a+'">'+o,S+=p+g+m,S+="</svg>";break;case"svg-viewbox":f&&(S+='<?xml version="1.0" standalone="yes"?>'+o),S+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+s+" "+a+'">'+o,S+=p+g+m,S+="</svg>";break;case"g":S+='<g width="'+s+'" height="'+a+'">'+o,S+=p+g+m,S+="</g>";break;default:S+=(p+g+m).replace(/^\s+/,"")}return S},_.prototype.save=function(e,t){var r=this.svg();"function"!=typeof t&&(t=function(e,t){});try{require("fs").writeFile(e,r,t)}catch(e){t(e)}},e.exports=_}(Ei);var Si=Ei.exports;const Ci=e=>e?(e=>window.btoa(e))(new Si(e).svg()):null;const Ii={height:"0",overflow:"hidden"},ki={padding:"20px","background-color":"#fff","font-family":"serif","text-align":"center",color:"#49555f","font-size":"12px","word-wrap":"break-word","min-height":"calc(100vh - 145px)","box-sizing":"border-box",margin:"0 auto","min-width":"600px","line-height":"initial",clipPath:"inset(0 100% 0 0)"},Pi={"max-width":"460px"},Ti=async(e,t,r,n,i,o,s)=>{const a=Li(Ii),c=(({certificateTitle:e="",issueDate:t="",issuerName:r="",recipientName:n="",issuerPublicKey:i="",issuerLogo:o="",qrCodeImage:s=""})=>{const a=[];(e||o)&&(a.push("<section>"),o&&a.push(`<div style="margin:0 auto;width:120px;height:120px;background-repeat:no-repeat;background-position:center;background-size:contain;background-image:url('${o}');"></div>`),e&&a.push(`<h2 style="margin:30px 0 20px">${e}</h2>`),a.push("</section>")),a.push('<section style="text-align:center">'),a.push(`<div style="margin:15px 0"><dt style="margin-bottom:5px;text-transform:uppercase;font-weight:600;">Issue Date</dt><dd style="margin:0;word-break:break-all">${t}</dd></div>`),a.push(`<div style="margin:15px 0"><dt style="margin-bottom:5px;text-transform:uppercase;font-weight:600;">Recipient</dt><dd style="margin:0;word-break:break-all">${n}</dd></div>`),a.push(`<div style="margin:15px 0"><dt style="margin-bottom:5px;text-transform:uppercase;font-weight:600;">Issuer</dt><dd style="margin:0;word-break:break-all">${r}</dd></div>`),a.push(`<div style="margin:15px 0"><dt style="margin-bottom:5px;text-transform:uppercase;font-weight:600;">Issuer's Public Key</dt><dd style="margin:0;word-break:break-all">${i}</dd></div>`),a.push("</section>"),s&&(a.push("<section>"),a.push('<span style="margin-bottom:15px;font-size:12px">Scan the QR code to verify the document.</span>'),a.push(`<div style="margin:0 auto;width:120px;height:120px;background-repeat:no-repeat;background-position:center;background-size:contain;background-image:url('data:image/svg+xml;base64,${s}');"></div>`),a.push("</section>")),a.push(`<div style="width:150px">${_i().getHTML()}</div>`);const c=document.createElement("section");return c.setAttribute("style","width:595px;height:842px;padding:40px 20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;align-items:center;font-family:'Open Sans',-apple-system,BlinkMacSystemFont,sans-serif;"),c.innerHTML=a.join(""),c})({certificateTitle:t,issueDate:r,issuerName:n,issuerLogo:i,issuerPublicKey:s,recipientName:e,qrCodeImage:Ci(o)});a.appendChild(c);const u=await pi({pageHTMLElement:c,width:595,height:842,margin:0});return Ni(a),u},Oi=async(e,t)=>{const r=Xe(t),n=Li({...ki,...Ii,...r?Pi:{}});n.insertAdjacentHTML("beforeend",t);const i=((e,t)=>t?[e]:Array.from(e.querySelectorAll(":scope > div > div")))(n,r);for(const t of i){const r=Ze(t);e=await pi({pdf:e,pageHTMLElement:t,width:r.width,height:r.height,margin:10})}return Ni(n),e},Li=e=>{const t=document.createElement("div");var r,n;return t.setAttribute("id","html2pdf-dom-container-identifier"),e&&(r=t,n=e,Object.keys(n).forEach((e=>{r.style[e]=n[e]}))),document.body.appendChild(t),t},Ni=e=>{document.body.removeChild(e)},Ui=async({contentType:e=null,contentEncoding:t="",content:r="",recipientName:n="",certificateTitle:i="",issueDate:o="",issuerName:s="",issuerLogo:a="",recordLink:c="",issuerPublicKey:u=""})=>{const l=i;let A;const h=(e=>[$e.IMAGE_GIF,$e.IMAGE_BMP,$e.IMAGE_PNG,$e.IMAGE_JPEG].includes(e))(e),f=e===$e.TEXT_HTML;if((f||h)&&(A=await Ti(n,i,o,s,a,c,u)),f)A=await Oi(A,r);else if(h)A=await gi(A,`data:${e};${t},${r}`);else{const n=function(e){return e===$e.APPLICATION_PDF?"pdf":""}($e.APPLICATION_PDF);!function(e,t,r,n,i=""){const o=`data:${t};${r},${e}`,s=document.createElement("a"),a=[n];i&&a.push(i);const c=a.join(".");s.href=o,s.download=c,s.click()}(r,e,t,l,n)}!function(e,t){e.save(t)}(A,l)};var Fi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Mi(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}var Ri={},Di="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},ji=[],Qi=[],Hi="undefined"!=typeof Uint8Array?Uint8Array:Array,Ki=!1;function Vi(){Ki=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)ji[t]=e[t],Qi[e.charCodeAt(t)]=t;Qi["-".charCodeAt(0)]=62,Qi["_".charCodeAt(0)]=63}function zi(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(ji[(i=n)>>18&63]+ji[i>>12&63]+ji[i>>6&63]+ji[63&i]);return o.join("")}function qi(e){var t;Ki||Vi();for(var r=e.length,n=r%3,i="",o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(zi(e,a,a+s>c?c:a+s));return 1===n?(t=e[r-1],i+=ji[t>>2],i+=ji[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=ji[t>>10],i+=ji[t>>4&63],i+=ji[t<<2&63],i+="="),o.push(i),o.join("")}function Gi(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,A=r?i-1:0,h=r?-1:1,f=e[t+A];for(A+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+A],A+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+A],A+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)}function Wi(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,A=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+A>=1?h/c:h*Math.pow(2,1-A))*c>=2&&(s++,c/=2),s+A>=l?(a=0,s=l):s+A>=1?(a=(t*c-1)*Math.pow(2,i),s+=A):(a=t*Math.pow(2,A-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+f]=255&s,f+=d,s/=256,u-=8);e[r+f-d]|=128*p}var $i={}.toString,Ji=Array.isArray||function(e){return"[object Array]"==$i.call(e)};eo.TYPED_ARRAY_SUPPORT=void 0===Di.TYPED_ARRAY_SUPPORT||Di.TYPED_ARRAY_SUPPORT;var Xi=Yi();function Yi(){return eo.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Zi(e,t){if(Yi()<t)throw new RangeError("Invalid typed array length");return eo.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=eo.prototype:(null===e&&(e=new eo(t)),e.length=t),e}function eo(e,t,r){if(!(eo.TYPED_ARRAY_SUPPORT||this instanceof eo))return new eo(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return no(this,e)}return to(this,e,t,r)}function to(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),eo.TYPED_ARRAY_SUPPORT?(e=t).__proto__=eo.prototype:e=io(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!eo.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|ao(t,r),i=(e=Zi(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(so(t)){var r=0|oo(t.length);return 0===(e=Zi(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?Zi(e,0):io(e,t);if("Buffer"===t.type&&Ji(t.data))return io(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function ro(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function no(e,t){if(ro(t),e=Zi(e,t<0?0:0|oo(t)),!eo.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function io(e,t){var r=t.length<0?0:0|oo(t.length);e=Zi(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function oo(e){if(e>=Yi())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Yi().toString(16)+" bytes");return 0|e}function so(e){return!(null==e||!e._isBuffer)}function ao(e,t){if(so(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return No(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Uo(e).length;default:if(n)return No(e).length;t=(""+t).toLowerCase(),n=!0}}function co(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return _o(this,t,r);case"utf8":case"utf-8":return bo(this,t,r);case"ascii":return wo(this,t,r);case"latin1":case"binary":return xo(this,t,r);case"base64":return vo(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bo(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function uo(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function lo(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=eo.from(t,n)),so(t))return 0===t.length?-1:Ao(e,t,r,n,i);if("number"==typeof t)return t&=255,eo.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Ao(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Ao(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var A=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){A=!1;break}if(A)return o}return-1}function ho(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function fo(e,t,r,n){return Fo(No(t,e.length-r),e,r,n)}function po(e,t,r,n){return Fo(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function go(e,t,r,n){return po(e,t,r,n)}function mo(e,t,r,n){return Fo(Uo(t),e,r,n)}function yo(e,t,r,n){return Fo(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function vo(e,t,r){return 0===t&&r===e.length?qi(e):qi(e.slice(t,r))}function bo(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],l=null,A=u>239?4:u>223?3:u>191?2:1;if(i+A<=r)switch(A){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,A=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=A}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function wo(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function xo(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function _o(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=Lo(e[o]);return i}function Bo(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function Eo(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function So(e,t,r,n,i,o){if(!so(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function Co(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Io(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function ko(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Po(e,t,r,n,i){return i||ko(e,0,r,4),Wi(e,t,r,n,23,4),r+4}function To(e,t,r,n,i){return i||ko(e,0,r,8),Wi(e,t,r,n,52,8),r+8}eo.poolSize=8192,eo._augment=function(e){return e.__proto__=eo.prototype,e},eo.from=function(e,t,r){return to(null,e,t,r)},eo.TYPED_ARRAY_SUPPORT&&(eo.prototype.__proto__=Uint8Array.prototype,eo.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&eo[Symbol.species]),eo.alloc=function(e,t,r){return function(e,t,r,n){return ro(t),t<=0?Zi(e,t):void 0!==r?"string"==typeof n?Zi(e,t).fill(r,n):Zi(e,t).fill(r):Zi(e,t)}(null,e,t,r)},eo.allocUnsafe=function(e){return no(null,e)},eo.allocUnsafeSlow=function(e){return no(null,e)},eo.isBuffer=Mo,eo.compare=function(e,t){if(!so(e)||!so(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},eo.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},eo.concat=function(e,t){if(!Ji(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return eo.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=eo.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!so(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},eo.byteLength=ao,eo.prototype._isBuffer=!0,eo.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)uo(this,t,t+1);return this},eo.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)uo(this,t,t+3),uo(this,t+1,t+2);return this},eo.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)uo(this,t,t+7),uo(this,t+1,t+6),uo(this,t+2,t+5),uo(this,t+3,t+4);return this},eo.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?bo(this,0,e):co.apply(this,arguments)},eo.prototype.equals=function(e){if(!so(e))throw new TypeError("Argument must be a Buffer");return this===e||0===eo.compare(this,e)},eo.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},eo.prototype.compare=function(e,t,r,n,i){if(!so(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r),l=0;l<a;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0},eo.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},eo.prototype.indexOf=function(e,t,r){return lo(this,e,t,r,!0)},eo.prototype.lastIndexOf=function(e,t,r){return lo(this,e,t,r,!1)},eo.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return ho(this,e,t,r);case"utf8":case"utf-8":return fo(this,e,t,r);case"ascii":return po(this,e,t,r);case"latin1":case"binary":return go(this,e,t,r);case"base64":return mo(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yo(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},eo.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},eo.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),eo.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=eo.prototype;else{var i=t-e;r=new eo(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},eo.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Eo(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},eo.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Eo(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},eo.prototype.readUInt8=function(e,t){return t||Eo(e,1,this.length),this[e]},eo.prototype.readUInt16LE=function(e,t){return t||Eo(e,2,this.length),this[e]|this[e+1]<<8},eo.prototype.readUInt16BE=function(e,t){return t||Eo(e,2,this.length),this[e]<<8|this[e+1]},eo.prototype.readUInt32LE=function(e,t){return t||Eo(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},eo.prototype.readUInt32BE=function(e,t){return t||Eo(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},eo.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Eo(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},eo.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Eo(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},eo.prototype.readInt8=function(e,t){return t||Eo(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},eo.prototype.readInt16LE=function(e,t){t||Eo(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},eo.prototype.readInt16BE=function(e,t){t||Eo(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},eo.prototype.readInt32LE=function(e,t){return t||Eo(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},eo.prototype.readInt32BE=function(e,t){return t||Eo(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},eo.prototype.readFloatLE=function(e,t){return t||Eo(e,4,this.length),Gi(this,e,!0,23,4)},eo.prototype.readFloatBE=function(e,t){return t||Eo(e,4,this.length),Gi(this,e,!1,23,4)},eo.prototype.readDoubleLE=function(e,t){return t||Eo(e,8,this.length),Gi(this,e,!0,52,8)},eo.prototype.readDoubleBE=function(e,t){return t||Eo(e,8,this.length),Gi(this,e,!1,52,8)},eo.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||So(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},eo.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||So(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},eo.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,1,255,0),eo.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},eo.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,2,65535,0),eo.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Co(this,e,t,!0),t+2},eo.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,2,65535,0),eo.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Co(this,e,t,!1),t+2},eo.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,4,4294967295,0),eo.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Io(this,e,t,!0),t+4},eo.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,4,4294967295,0),eo.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Io(this,e,t,!1),t+4},eo.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);So(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},eo.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);So(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},eo.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,1,127,-128),eo.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},eo.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,2,32767,-32768),eo.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Co(this,e,t,!0),t+2},eo.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,2,32767,-32768),eo.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Co(this,e,t,!1),t+2},eo.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,4,2147483647,-2147483648),eo.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Io(this,e,t,!0),t+4},eo.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||So(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),eo.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Io(this,e,t,!1),t+4},eo.prototype.writeFloatLE=function(e,t,r){return Po(this,e,t,!0,r)},eo.prototype.writeFloatBE=function(e,t,r){return Po(this,e,t,!1,r)},eo.prototype.writeDoubleLE=function(e,t,r){return To(this,e,t,!0,r)},eo.prototype.writeDoubleBE=function(e,t,r){return To(this,e,t,!1,r)},eo.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!eo.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},eo.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!eo.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=so(e)?e:No(new eo(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var Oo=/[^+\/0-9A-Za-z-_]/g;function Lo(e){return e<16?"0"+e.toString(16):e.toString(16)}function No(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Uo(e){return function(e){var t,r,n,i,o,s;Ki||Vi();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[a-2]?2:"="===e[a-1]?1:0,s=new Hi(3*a/4-o),n=o>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=Qi[e.charCodeAt(t)]<<18|Qi[e.charCodeAt(t+1)]<<12|Qi[e.charCodeAt(t+2)]<<6|Qi[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===o?(i=Qi[e.charCodeAt(t)]<<2|Qi[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===o&&(i=Qi[e.charCodeAt(t)]<<10|Qi[e.charCodeAt(t+1)]<<4|Qi[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Oo,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Fo(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Mo(e){return null!=e&&(!!e._isBuffer||Ro(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Ro(e.slice(0,0))}(e))}function Ro(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Do=Mi(Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:Xi,Buffer:eo,SlowBuffer:function(e){return+e!=e&&(e=0),eo.alloc(+e)},isBuffer:Mo})),jo={
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
read:function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,A=r?i-1:0,h=r?-1:1,f=e[t+A];for(A+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+A],A+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+A],A+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)},write:function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,A=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+A>=1?h/c:h*Math.pow(2,1-A))*c>=2&&(s++,c/=2),s+A>=l?(a=0,s=l):s+A>=1?(a=(t*c-1)*Math.pow(2,i),s+=A):(a=t*Math.pow(2,A-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+f]=255&s,f+=d,s/=256,u-=8);e[r+f-d]|=128*p}},Qo={exports:{}};!function(e){!function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,A=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,f=1e9;function d(e){var t=0|e;return e>0||e===t?t:t-1}function p(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=u-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=c==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function m(e,t,r,n){if(e<t||e>r||e!==o(e))throw Error(s+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return d(e.e/u)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function b(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}r=function e(t){var r,w,x,_,B,E,S,C,I,k,P=V.prototype={constructor:V,toString:null,valueOf:null},T=new V(1),O=20,L=4,N=-7,U=21,F=-1e7,M=1e7,R=!1,D=1,j=0,Q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"¬†",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",K=!0;function V(e,t){var r,i,s,c,A,h,f,d,p=this;if(!(p instanceof V))return new V(e,t);if(null==t){if(e&&!0===e._isBigNumber)return p.s=e.s,void(!e.c||e.e>M?p.c=p.e=null:e.e<F?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice()));if((h="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,A=e;A>=10;A/=10,c++);return void(c>M?p.c=p.e=null:(p.e=c,p.c=[e]))}d=String(e)}else{if(!n.test(d=String(e)))return x(p,d,h);p.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(c=d.indexOf("."))>-1&&(d=d.replace(".","")),(A=d.search(/e/i))>0?(c<0&&(c=A),c+=+d.slice(A+1),d=d.substring(0,A)):c<0&&(c=d.length)}else{if(m(t,2,H.length,"Base"),10==t&&K)return W(p=new V(e),O+p.e+1,L);if(d=String(e),h="number"==typeof e){if(0*e!=0)return x(p,d,h,t);if(p.s=1/e<0?(d=d.slice(1),-1):1,V.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else p.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=H.slice(0,t),c=A=0,f=d.length;A<f;A++)if(r.indexOf(i=d.charAt(A))<0){if("."==i){if(A>c){c=f;continue}}else if(!s&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){s=!0,A=-1,c=0;continue}return x(p,String(e),h,t)}h=!1,(c=(d=w(d,t,10,p.s)).indexOf("."))>-1?d=d.replace(".",""):c=d.length}for(A=0;48===d.charCodeAt(A);A++);for(f=d.length;48===d.charCodeAt(--f););if(d=d.slice(A,++f)){if(f-=A,h&&V.DEBUG&&f>15&&(e>l||e!==o(e)))throw Error(a+p.s*e);if((c=c-A-1)>M)p.c=p.e=null;else if(c<F)p.c=[p.e=0];else{if(p.e=c,p.c=[],A=(c+1)%u,c<0&&(A+=u),A<f){for(A&&p.c.push(+d.slice(0,A)),f-=u;A<f;)p.c.push(+d.slice(A,A+=u));A=u-(d=d.slice(A)).length}else A-=f;for(;A--;d+="0");p.c.push(+d)}}else p.c=[p.e=0]}function z(e,t,r,n){var i,o,s,a,c;if(null==r?r=L:m(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=p(e.c),c=1==n||2==n&&(s<=N||s>=U)?v(c,s):b(c,s,"0");else if(o=(e=W(new V(e),t,r)).e,a=(c=p(e.c)).length,1==n||2==n&&(t<=o||o<=N)){for(;a<t;c+="0",a++);c=v(c,o)}else if(t-=s,c=b(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=o-a)>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function q(e,t){for(var r,n=1,i=new V(e[0]);n<e.length;n++){if(!(r=new V(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function G(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*u-1)>M?e.c=e.e=null:r<F?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,n){var s,a,l,h,f,d,p,g=e.c,m=A;if(g){e:{for(s=1,h=g[0];h>=10;h/=10,s++);if((a=t-s)<0)a+=u,l=t,p=(f=g[d=0])/m[s-l-1]%10|0;else if((d=i((a+1)/u))>=g.length){if(!n)break e;for(;g.length<=d;g.push(0));f=p=0,s=1,l=(a%=u)-u+1}else{for(f=h=g[d],s=1;h>=10;h/=10,s++);p=(l=(a%=u)-u+s)<0?0:f/m[s-l-1]%10|0}if(n=n||t<0||null!=g[d+1]||(l<0?f:f%m[s-l-1]),n=r<4?(p||n)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||n||6==r&&(a>0?l>0?f/m[s-l]:0:g[d-1])%10&1||r==(e.s<0?8:7)),t<1||!g[0])return g.length=0,n?(t-=e.e+1,g[0]=m[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=d,h=1,d--):(g.length=d+1,h=m[u-a],g[d]=l>0?o(f/m[s-l]%m[l])*h:0),n)for(;;){if(0==d){for(a=1,l=g[0];l>=10;l/=10,a++);for(l=g[0]+=h,h=1;l>=10;l/=10,h++);a!=h&&(e.e++,g[0]==c&&(g[0]=1));break}if(g[d]+=h,g[d]!=c)break;g[d--]=0,h=1}for(a=g.length;0===g[--a];g.pop());}e.e>M?e.c=e.e=null:e.e<F&&(e.c=[e.e=0])}return e}function $(e){var t,r=e.e;return null===r?e.toString():(t=p(e.c),t=r<=N||r>=U?v(t,r):b(t,r,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(m(r=e[t],0,f,t),O=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(m(r=e[t],0,8,t),L=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(m(r[0],-f,0,t),m(r[1],0,f,t),N=r[0],U=r[1]):(m(r,-f,f,t),N=-(U=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)m(r[0],-f,-1,t),m(r[1],1,f,t),F=r[0],M=r[1];else{if(m(r,-f,f,t),!r)throw Error(s+t+" cannot be zero: "+r);F=-(M=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(s+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw R=!r,Error(s+"crypto unavailable");R=r}else R=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(m(r=e[t],0,9,t),D=r),e.hasOwnProperty(t="POW_PRECISION")&&(m(r=e[t],0,f,t),j=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(s+t+" not an object: "+r);Q=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);K="0123456789"==r.slice(0,10),H=r}}return{DECIMAL_PLACES:O,ROUNDING_MODE:L,EXPONENTIAL_AT:[N,U],RANGE:[F,M],CRYPTO:R,MODULO_MODE:D,POW_PRECISION:j,FORMAT:Q,ALPHABET:H}},V.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!V.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-f&&i<=f&&i===o(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%u)<1&&(t+=u),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=c||r!==o(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},V.maximum=V.max=function(){return q(arguments,P.lt)},V.minimum=V.min=function(){return q(arguments,P.gt)},V.random=(_=9007199254740992,B=Math.random()*_&2097151?function(){return o(Math.random()*_)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,a,c,l=0,h=[],d=new V(T);if(null==e?e=O:m(e,0,f),a=i(e/u),R)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));l<a;)(c=131072*t[l]+(t[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[l]=r[0],t[l+1]=r[1]):(h.push(c%1e14),l+=2);l=a/2}else{if(!crypto.randomBytes)throw R=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);l<a;)(c=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(h.push(c%1e14),l+=7);l=a/7}if(!R)for(;l<a;)(c=B())<9e15&&(h[l++]=c%1e14);for(a=h[--l],e%=u,a&&e&&(c=A[u-e],h[l]=o(a/c)*c);0===h[l];h.pop(),l--);if(l<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=u);for(l=1,c=h[0];c>=10;c/=10,l++);l<u&&(n-=u-l)}return d.e=n,d.c=h,d}),V.sum=function(){for(var e=1,t=arguments,r=new V(t[0]);e<t.length;)r=r.plus(t[e++]);return r},w=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,a){var c,u,l,A,h,f,d,g,m=n.indexOf("."),y=O,v=L;for(m>=0&&(A=j,j=0,n=n.replace(".",""),f=(g=new V(i)).pow(n.length-m),j=A,g.c=t(b(p(f.c),f.e,"0"),10,o,e),g.e=g.c.length),l=A=(d=t(n,i,o,a?(c=H,e):(c=e,H))).length;0==d[--A];d.pop());if(!d[0])return c.charAt(0);if(m<0?--l:(f.c=d,f.e=l,f.s=s,d=(f=r(f,g,y,v,o)).c,h=f.r,l=f.e),m=d[u=l+y+1],A=o/2,h=h||u<0||null!=d[u+1],h=v<4?(null!=m||h)&&(0==v||v==(f.s<0?3:2)):m>A||m==A&&(4==v||h||6==v&&1&d[u-1]||v==(f.s<0?8:7)),u<1||!d[0])n=h?b(c.charAt(1),-y,c.charAt(0)):c.charAt(0);else{if(d.length=u,h)for(--o;++d[--u]>o;)d[u]=0,u||(++l,d=[1].concat(d));for(A=d.length;!d[--A];);for(m=0,n="";m<=A;n+=c.charAt(d[m++]));n=b(n,l,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,o,s,a=0,c=e.length,u=t%h,l=t/h|0;for(e=e.slice();c--;)a=((i=u*(o=e[c]%h)+(n=l*o+(s=e[c]/h|0)*u)%h*h+a)/r|0)+(n/h|0)+l*s,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,a,l){var A,h,f,p,g,m,y,v,b,w,x,_,B,E,S,C,I,k=n.s==i.s?1:-1,P=n.c,T=i.c;if(!(P&&P[0]&&T&&T[0]))return new V(n.s&&i.s&&(P?!T||P[0]!=T[0]:T)?P&&0==P[0]||!T?0*k:k/0:NaN);for(b=(v=new V(k)).c=[],k=s+(h=n.e-i.e)+1,l||(l=c,h=d(n.e/u)-d(i.e/u),k=k/u|0),f=0;T[f]==(P[f]||0);f++);if(T[f]>(P[f]||0)&&h--,k<0)b.push(1),p=!0;else{for(E=P.length,C=T.length,f=0,k+=2,(g=o(l/(T[0]+1)))>1&&(T=e(T,g,l),P=e(P,g,l),C=T.length,E=P.length),B=C,x=(w=P.slice(0,C)).length;x<C;w[x++]=0);I=T.slice(),I=[0].concat(I),S=T[0],T[1]>=l/2&&S++;do{if(g=0,(A=t(T,w,C,x))<0){if(_=w[0],C!=x&&(_=_*l+(w[1]||0)),(g=o(_/S))>1)for(g>=l&&(g=l-1),y=(m=e(T,g,l)).length,x=w.length;1==t(m,w,y,x);)g--,r(m,C<y?I:T,y,l),y=m.length,A=1;else 0==g&&(A=g=1),y=(m=T.slice()).length;if(y<x&&(m=[0].concat(m)),r(w,m,x,l),x=w.length,-1==A)for(;t(T,w,C,x)<1;)g++,r(w,C<x?I:T,x,l),x=w.length}else 0===A&&(g++,w=[0]);b[f++]=g,w[0]?w[x++]=P[B]||0:(w=[P[B]],x=1)}while((B++<E||null!=w[0])&&k--);p=null!=w[0],b[0]||b.splice(0,1)}if(l==c){for(f=1,k=b[0];k>=10;k/=10,f++);W(v,s+(v.e=f+h*u-1)+1,a,p)}else v.e=h,v.r=+p;return v}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,C=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,k=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,r,n){var i,o=r?t:t.replace(k,"");if(I.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(E,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,o=o.replace(S,"$1").replace(C,"0.$1")),t!=o))return new V(o,i);if(V.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return g(this,new V(e,t))},P.decimalPlaces=P.dp=function(e,t){var r,n,i,o=this;if(null!=e)return m(e,0,f),null==t?t=L:m(t,0,8),W(new V(o),e+o.e+1,t);if(!(r=o.c))return null;if(n=((i=r.length-1)-d(this.e/u))*u,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},P.dividedBy=P.div=function(e,t){return r(this,new V(e,t),O,L)},P.dividedToIntegerBy=P.idiv=function(e,t){return r(this,new V(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var r,n,a,c,l,A,h,f,d=this;if((e=new V(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+$(e));if(null!=t&&(t=new V(t)),l=e.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!e.c||!e.c[0])return f=new V(Math.pow(+$(d),l?2-y(e):+$(e))),t?f.mod(t):f;if(A=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(n=!A&&d.isInteger()&&t.isInteger())&&(d=d.mod(t))}else{if(e.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||l&&d.c[1]>=24e7:d.c[0]<8e13||l&&d.c[0]<=9999975e7)))return c=d.s<0&&y(e)?-0:0,d.e>-1&&(c=1/c),new V(A?1/c:c);j&&(c=i(j/u+2))}for(l?(r=new V(.5),A&&(e.s=1),h=y(e)):h=(a=Math.abs(+$(e)))%2,f=new V(T);;){if(h){if(!(f=f.times(d)).c)break;c?f.c.length>c&&(f.c.length=c):n&&(f=f.mod(t))}if(a){if(0===(a=o(a/2)))break;h=a%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)h=y(e);else{if(0==(a=+$(e)))break;h=a%2}d=d.times(d),c?d.c&&d.c.length>c&&(d.c.length=c):n&&(d=d.mod(t))}return n?f:(A&&(f=T.div(f)),t?f.mod(t):c?W(f,j,L,void 0):f)},P.integerValue=function(e){var t=new V(this);return null==e?e=L:m(e,0,8),W(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===g(this,new V(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return g(this,new V(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=g(this,new V(e,t)))||0===t},P.isInteger=function(){return!!this.c&&d(this.e/u)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return g(this,new V(e,t))<0},P.isLessThanOrEqualTo=P.lte=function(e,t){return-1===(t=g(this,new V(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var r,n,i,o,s=this,a=s.s;if(t=(e=new V(e,t)).s,!a||!t)return new V(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/u,A=e.e/u,h=s.c,f=e.c;if(!l||!A){if(!h||!f)return h?(e.s=-t,e):new V(f?s:NaN);if(!h[0]||!f[0])return f[0]?(e.s=-t,e):new V(h[0]?s:3==L?-0:0)}if(l=d(l),A=d(A),h=h.slice(),a=l-A){for((o=a<0)?(a=-a,i=h):(A=l,i=f),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=h.length)<(t=f.length))?a:t,a=t=0;t<n;t++)if(h[t]!=f[t]){o=h[t]<f[t];break}if(o&&(i=h,h=f,f=i,e.s=-e.s),(t=(n=f.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=c-1;n>a;){if(h[--n]<f[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=c}h[n]-=f[n]}for(;0==h[0];h.splice(0,1),--A);return h[0]?G(e,h,A):(e.s=3==L?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var n,i,o=this;return e=new V(e,t),!o.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||o.c&&!o.c[0]?new V(o):(9==D?(i=e.s,e.s=1,n=r(o,e,0,3),e.s=i,n.s*=i):n=r(o,e,0,D),(e=o.minus(n.times(e))).c[0]||1!=D||(e.s=o.s),e)},P.multipliedBy=P.times=function(e,t){var r,n,i,o,s,a,l,A,f,p,g,m,y,v,b,w=this,x=w.c,_=(e=new V(e,t)).c;if(!(x&&_&&x[0]&&_[0]))return!w.s||!e.s||x&&!x[0]&&!_||_&&!_[0]&&!x?e.c=e.e=e.s=null:(e.s*=w.s,x&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=d(w.e/u)+d(e.e/u),e.s*=w.s,(l=x.length)<(p=_.length)&&(y=x,x=_,_=y,i=l,l=p,p=i),i=l+p,y=[];i--;y.push(0));for(v=c,b=h,i=p;--i>=0;){for(r=0,g=_[i]%b,m=_[i]/b|0,o=i+(s=l);o>i;)r=((A=g*(A=x[--s]%b)+(a=m*A+(f=x[s]/b|0)*g)%b*b+y[o]+r)/v|0)+(a/b|0)+m*f,y[o--]=A%v;y[o]=r}return r?++n:y.splice(0,1),G(e,y,n)},P.negated=function(){var e=new V(this);return e.s=-e.s||null,e},P.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new V(e,t)).s,!i||!t)return new V(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/u,s=e.e/u,a=n.c,l=e.c;if(!o||!s){if(!a||!l)return new V(i/0);if(!a[0]||!l[0])return l[0]?e:new V(a[0]?n:0*i)}if(o=d(o),s=d(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=l):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=l.length)<0&&(r=l,l=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),G(e,a,s)},P.precision=P.sd=function(e,t){var r,n,i,o=this;if(null!=e&&e!==!!e)return m(e,1,f),null==t?t=L:m(t,0,8),W(new V(o),e,t);if(!(r=o.c))return null;if(n=(i=r.length-1)*u+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&o.e+1>n&&(n=o.e+1),n},P.shiftedBy=function(e){return m(e,-9007199254740991,l),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,n,i,o,s=this,a=s.c,c=s.s,u=s.e,l=O+4,A=new V("0.5");if(1!==c||!a||!a[0])return new V(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(c=Math.sqrt(+$(s)))||c==1/0?(((t=p(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=d((u+1)/2)-(u<0||u%2),n=new V(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new V(c+""),n.c[0])for((c=(u=n.e)+l)<3&&(c=0);;)if(o=n,n=A.times(o.plus(r(s,o,l,1))),p(o.c).slice(0,c)===(t=p(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(n,n.e+O+2,1),e=!n.times(n).eq(s));break}if(!i&&(W(o,o.e+O+2,0),o.times(o).eq(s))){n=o;break}l+=4,c+=4,i=1}return W(n,n.e+O+1,L,e)},P.toExponential=function(e,t){return null!=e&&(m(e,0,f),e++),z(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(m(e,0,f),e=e+this.e+1),z(this,e,t)},P.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=Q;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var o,a=n.split("."),c=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",A=a[0],h=a[1],f=i.s<0,d=f?A.slice(1):A,p=d.length;if(u&&(o=c,c=u,u=o,p-=o),c>0&&p>0){for(o=p%c||c,A=d.substr(0,o);o<p;o+=c)A+=l+d.substr(o,c);u>0&&(A+=l+d.slice(o)),f&&(A="-"+A)}n=h?A+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):A}return(r.prefix||"")+n+(r.suffix||"")},P.toFraction=function(e){var t,n,i,o,a,c,l,h,f,d,g,m,y=this,v=y.c;if(null!=e&&(!(l=new V(e)).isInteger()&&(l.c||1!==l.s)||l.lt(T)))throw Error(s+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+$(l));if(!v)return new V(y);for(t=new V(T),f=n=new V(T),i=h=new V(T),m=p(v),a=t.e=m.length-y.e-1,t.c[0]=A[(c=a%u)<0?u+c:c],e=!e||l.comparedTo(t)>0?a>0?t:f:l,c=M,M=1/0,l=new V(m),h.c[0]=0;d=r(l,t,0,1),1!=(o=n.plus(d.times(i))).comparedTo(e);)n=i,i=o,f=h.plus(d.times(o=f)),h=o,t=l.minus(d.times(o=t)),l=o;return o=r(e.minus(n),i,0,1),h=h.plus(o.times(f)),n=n.plus(o.times(i)),h.s=f.s=y.s,g=r(f,i,a*=2,L).minus(y).abs().comparedTo(r(h,n,a,L).minus(y).abs())<1?[f,i]:[h,n],M=c,g},P.toNumber=function(){return+$(this)},P.toPrecision=function(e,t){return null!=e&&m(e,1,f),z(this,e,t,2)},P.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=N||i>=U?v(p(r.c),i):b(p(r.c),i,"0"):10===e&&K?t=b(p((r=W(new V(r),O+i+1,L)).c),r.e,"0"):(m(e,2,H.length,"Base"),t=w(b(p(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return $(this)},P._isBigNumber=!0,null!=t&&V.set(t),V}(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=r)}(Fi)}(Qo);var Ho={},Ko={};const Vo=Qo.exports.BigNumber;Ko.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},Ko.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},Ko.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},Ko.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},Ko.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},Ko.SHIFT32=Math.pow(2,32),Ko.SHIFT16=Math.pow(2,16),Ko.MAX_SAFE_HIGH=2097151,Ko.NEG_ONE=new Vo(-1),Ko.TEN=new Vo(10),Ko.TWO=new Vo(2),Ko.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5},function(e){const{Buffer:t}=Do,r=Qo.exports.BigNumber,n=Ko,i=n.SHIFT32,o=n.SHIFT16;function s(e){return e<16?"0"+e.toString(16):e.toString(16)}e.parseHalf=function(e){var t,r,n;return n=128&e[0]?-1:1,t=(124&e[0])>>2,r=(3&e[0])<<8|e[1],t?31===t?n*(r?NaN:1/0):n*Math.pow(2,t-25)*(1024+r):5.960464477539063e-8*n*r},e.arrayBufferToBignumber=function(e){const t=e.byteLength;let n="";for(let r=0;r<t;r++)n+=s(e[r]);return new r(n,16)},e.buildMap=e=>{const t=new Map,r=Object.keys(e),n=r.length;for(let i=0;i<n;i++)t.set(r[i],e[r[i]]);return t},e.buildInt32=(e,t)=>e*o+t,e.buildInt64=(t,n,o,s)=>{const a=e.buildInt32(t,n),c=e.buildInt32(o,s);return a>2097151?new r(a).times(i).plus(c):a*i+c},e.writeHalf=function(e,r){const n=t.allocUnsafe(4);n.writeFloatBE(r,0);const i=n.readUInt32BE(0);if(0!=(8191&i))return!1;var o=i>>16&32768;const s=i>>23&255,a=8388607&i;if(s>=113&&s<=142)o+=(s-112<<10)+(a>>13);else{if(!(s>=103&&s<113))return!1;if(a&(1<<126-s)-1)return!1;o+=a+8388608>>126-s}return e.writeUInt16BE(o,0),!0},e.keySorter=function(e,t){var r=e[0].byteLength,n=t[0].byteLength;return r>n?1:n>r?-1:e[0].compare(t[0])},e.isNegativeZero=e=>0===e&&1/e<0,e.nextPowerOf2=e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}}(Ho);const zo=Ko,qo=zo.MT,Go=zo.SIMPLE,Wo=zo.SYMS;class $o{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,qo.SIMPLE_FLOAT)}static isSimple(e){return e instanceof $o}static decode(e,t){switch(null==t&&(t=!0),e){case Go.FALSE:return!1;case Go.TRUE:return!0;case Go.NULL:return t?null:Wo.NULL;case Go.UNDEFINED:return t?void 0:Wo.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return Wo.BREAK;default:return new $o(e)}}}var Jo=$o;class Xo{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var t,r;if("function"!=typeof(r=null!=e?e[this.tag]:void 0)&&"function"!=typeof(r=Xo["_tag"+this.tag]))return this;try{return r.call(Xo,this.value)}catch(e){return t=e,this.err=t,this}}}var Yo=Xo;const Zo=self.location?self.location.protocol+"//"+self.location.host:"",es=self.URL;var ts={URLWithLegacySupport:class{constructor(e="",t=Zo){this.super=new es(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:Zo,format:function(e){if("string"==typeof e)return new es(e).toString();if(!(e instanceof es)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",s=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),c=e.hash||"",u=e.pathname||"";return`${i}${t||r}${o||s+n}${e.path||u+a}${c}`}}};const{URLWithLegacySupport:rs,format:ns}=ts,{URLWithLegacySupport:is,format:os,URLSearchParams:ss,defaultBase:as}=ts;var cs={URL:is,URLSearchParams:ss,format:os,relative:(e,t={},r={},n)=>{let i,o=t.protocol?t.protocol.replace(":",""):"http";o=(r[o]||n||o)+":";try{i=new rs(e)}catch(e){i={}}const s=Object.assign({},t,{protocol:o||i.protocol,host:t.host||i.host});return new rs(e,ns(s)).toString()},defaultBase:as};const{Buffer:us}=Do,ls=jo,As=Qo.exports.BigNumber,hs=Ho,fs=Ko,ds=Jo,ps=Yo,{URL:gs}=cs;class ms{constructor(e){!(e=e||{}).size||e.size<65536?e.size=65536:e.size=hs.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=us.from(this._heap),this._reset(),this._knownTags=Object.assign({0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>hs.arrayBufferToBignumber(e),3:e=>fs.NEG_ONE.minus(hs.arrayBufferToBignumber(e)),4:e=>fs.TEN.pow(e[0]).times(e[1]),5:e=>fs.TWO.pow(e[0]).times(e[1]),32:e=>new gs(e),35:e=>new RegExp(e)},e.tags),this.parser=function(e,t,r){"use asm";var n=new e.Uint8Array(r),i=t.pushInt,o=t.pushInt32,s=t.pushInt32Neg,a=t.pushInt64,c=t.pushInt64Neg,u=t.pushFloat,l=t.pushFloatSingle,A=t.pushFloatDouble,h=t.pushTrue,f=t.pushFalse,d=t.pushUndefined,p=t.pushNull,g=t.pushInfinity,m=t.pushInfinityNeg,y=t.pushNaN,v=t.pushNaNNeg,b=t.pushArrayStart,w=t.pushArrayStartFixed,x=t.pushArrayStartFixed32,_=t.pushArrayStartFixed64,B=t.pushObjectStart,E=t.pushObjectStartFixed,S=t.pushObjectStartFixed32,C=t.pushObjectStartFixed64,I=t.pushByteString,k=t.pushByteStringStart,P=t.pushUtf8String,T=t.pushUtf8StringStart,O=t.pushSimpleUnassigned,L=t.pushTagStart,N=t.pushTagStart4,U=t.pushTagStart8,F=t.pushTagUnassigned,M=t.pushBreak,R=e.Math.pow,D=0,j=0,Q=0;function H(e){e=e|0;D=0;j=e;while((D|0)<(j|0)){Q=Je[n[D]&255](n[D]|0)|0;if((Q|0)>0){break}}return Q|0}function K(e){e=e|0;if(((D|0)+(e|0)|0)<(j|0)){return 0}return 1}function V(e){e=e|0;return n[e|0]<<8|n[e+1|0]|0}function z(e){e=e|0;return n[e|0]<<24|n[e+1|0]<<16|n[e+2|0]<<8|n[e+3|0]|0}function q(e){e=e|0;i(e|0);D=D+1|0;return 0}function G(e){e=e|0;if(K(1)|0){return 1}i(n[D+1|0]|0);D=D+2|0;return 0}function W(e){e=e|0;if(K(2)|0){return 1}i(V(D+1|0)|0);D=D+3|0;return 0}function $(e){e=e|0;if(K(4)|0){return 1}o(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function J(e){e=e|0;if(K(8)|0){return 1}a(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function X(e){e=e|0;i(-1-(e-32|0)|0);D=D+1|0;return 0}function Y(e){e=e|0;if(K(1)|0){return 1}i(-1-(n[D+1|0]|0)|0);D=D+2|0;return 0}function Z(e){e=e|0;var t=0;if(K(2)|0){return 1}t=V(D+1|0)|0;i(-1-(t|0)|0);D=D+3|0;return 0}function ee(e){e=e|0;if(K(4)|0){return 1}s(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function te(e){e=e|0;if(K(8)|0){return 1}c(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function re(e){e=e|0;var t=0;var r=0;var n=0;n=e-64|0;if(K(n|0)|0){return 1}t=D+1|0;r=(D+1|0)+(n|0)|0;I(t|0,r|0);D=r|0;return 0}function ne(e){e=e|0;var t=0;var r=0;var i=0;if(K(1)|0){return 1}i=n[D+1|0]|0;t=D+2|0;r=(D+2|0)+(i|0)|0;if(K(i+1|0)|0){return 1}I(t|0,r|0);D=r|0;return 0}function ie(e){e=e|0;var t=0;var r=0;var n=0;if(K(2)|0){return 1}n=V(D+1|0)|0;t=D+3|0;r=(D+3|0)+(n|0)|0;if(K(n+2|0)|0){return 1}I(t|0,r|0);D=r|0;return 0}function oe(e){e=e|0;var t=0;var r=0;var n=0;if(K(4)|0){return 1}n=z(D+1|0)|0;t=D+5|0;r=(D+5|0)+(n|0)|0;if(K(n+4|0)|0){return 1}I(t|0,r|0);D=r|0;return 0}function se(e){e=e|0;return 1}function ae(e){e=e|0;k();D=D+1|0;return 0}function ce(e){e=e|0;var t=0;var r=0;var n=0;n=e-96|0;if(K(n|0)|0){return 1}t=D+1|0;r=(D+1|0)+(n|0)|0;P(t|0,r|0);D=r|0;return 0}function ue(e){e=e|0;var t=0;var r=0;var i=0;if(K(1)|0){return 1}i=n[D+1|0]|0;t=D+2|0;r=(D+2|0)+(i|0)|0;if(K(i+1|0)|0){return 1}P(t|0,r|0);D=r|0;return 0}function le(e){e=e|0;var t=0;var r=0;var n=0;if(K(2)|0){return 1}n=V(D+1|0)|0;t=D+3|0;r=(D+3|0)+(n|0)|0;if(K(n+2|0)|0){return 1}P(t|0,r|0);D=r|0;return 0}function Ae(e){e=e|0;var t=0;var r=0;var n=0;if(K(4)|0){return 1}n=z(D+1|0)|0;t=D+5|0;r=(D+5|0)+(n|0)|0;if(K(n+4|0)|0){return 1}P(t|0,r|0);D=r|0;return 0}function he(e){e=e|0;return 1}function fe(e){e=e|0;T();D=D+1|0;return 0}function de(e){e=e|0;w(e-128|0);D=D+1|0;return 0}function pe(e){e=e|0;if(K(1)|0){return 1}w(n[D+1|0]|0);D=D+2|0;return 0}function ge(e){e=e|0;if(K(2)|0){return 1}w(V(D+1|0)|0);D=D+3|0;return 0}function me(e){e=e|0;if(K(4)|0){return 1}x(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function ye(e){e=e|0;if(K(8)|0){return 1}_(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function ve(e){e=e|0;b();D=D+1|0;return 0}function be(e){e=e|0;var t=0;t=e-160|0;if(K(t|0)|0){return 1}E(t|0);D=D+1|0;return 0}function we(e){e=e|0;if(K(1)|0){return 1}E(n[D+1|0]|0);D=D+2|0;return 0}function xe(e){e=e|0;if(K(2)|0){return 1}E(V(D+1|0)|0);D=D+3|0;return 0}function _e(e){e=e|0;if(K(4)|0){return 1}S(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function Be(e){e=e|0;if(K(8)|0){return 1}C(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function Ee(e){e=e|0;B();D=D+1|0;return 0}function Se(e){e=e|0;L(e-192|0|0);D=D+1|0;return 0}function Ce(e){e|0;L(e|0);D=D+1|0;return 0}function Ie(e){e|0;L(e|0);D=D+1|0;return 0}function ke(e){e|0;L(e|0);D=D+1|0;return 0}function Pe(e){e|0;L(e|0);D=D+1|0;return 0}function Te(e){e=e|0;L(e-192|0|0);D=D+1|0;return 0}function Oe(e){e|0;L(e|0);D=D+1|0;return 0}function Le(e){e|0;L(e|0);D=D+1|0;return 0}function Ne(e){e|0;L(e|0);D=D+1|0;return 0}function Ue(e){e=e|0;if(K(1)|0){return 1}L(n[D+1|0]|0);D=D+2|0;return 0}function Fe(e){e=e|0;if(K(2)|0){return 1}L(V(D+1|0)|0);D=D+3|0;return 0}function Me(e){e=e|0;if(K(4)|0){return 1}N(V(D+1|0)|0,V(D+3|0)|0);D=D+5|0;return 0}function Re(e){e=e|0;if(K(8)|0){return 1}U(V(D+1|0)|0,V(D+3|0)|0,V(D+5|0)|0,V(D+7|0)|0);D=D+9|0;return 0}function De(e){e=e|0;O((e|0)-224|0);D=D+1|0;return 0}function je(e){e=e|0;f();D=D+1|0;return 0}function Qe(e){e=e|0;h();D=D+1|0;return 0}function He(e){e=e|0;p();D=D+1|0;return 0}function Ke(e){e=e|0;d();D=D+1|0;return 0}function Ve(e){e=e|0;if(K(1)|0){return 1}O(n[D+1|0]|0);D=D+2|0;return 0}function ze(e){e=e|0;var t=0;var r=0;var i=1.0;var o=0.0;var s=0.0;var a=0.0;if(K(2)|0){return 1}t=n[D+1|0]|0;r=n[D+2|0]|0;if((t|0)&0x80){i=-1.0}o=+(((t|0)&0x7C)>>2);s=+(((t|0)&0x03)<<8|r);if(+o==0.0){u(+(+i*+5.9604644775390625e-8*+s))}else if(+o==31.0){if(+i==1.0){if(+s>0.0){y()}else{g()}}else{if(+s>0.0){v()}else{m()}}}else{u(+(+i*R(+2,+(+o-25.0))*+(1024.0+s)))}D=D+3|0;return 0}function qe(e){e=e|0;if(K(4)|0){return 1}l(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0);D=D+5|0;return 0}function Ge(e){e=e|0;if(K(8)|0){return 1}A(n[D+1|0]|0,n[D+2|0]|0,n[D+3|0]|0,n[D+4|0]|0,n[D+5|0]|0,n[D+6|0]|0,n[D+7|0]|0,n[D+8|0]|0);D=D+9|0;return 0}function We(e){e=e|0;return 1}function $e(e){e=e|0;M();D=D+1|0;return 0}var Je=[q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,G,W,$,J,We,We,We,We,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,Y,Z,ee,te,We,We,We,We,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,re,ne,ie,oe,se,We,We,We,ae,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ce,ue,le,Ae,he,We,We,We,fe,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,de,pe,ge,me,ye,We,We,We,ve,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,be,we,xe,_e,Be,We,We,We,Ee,Se,Se,Se,Se,Se,Se,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Ue,Fe,Me,Re,We,We,We,We,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,De,je,Qe,He,Ke,Ve,ze,qe,Ge,We,We,We,$e];return{parse:H}}(Fi,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case fs.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case fs.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case fs.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case fs.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case fs.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case fs.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===fs.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}_push(e,t){const r=this._currentParent;switch(r.values++,r.type){case fs.PARENT.ARRAY:case fs.PARENT.BYTE_STRING:case fs.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case fs.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,"string"!=typeof r.tmpKey&&(r.type=fs.PARENT.MAP,r.ref=hs.buildMap(r.ref)));break;case fs.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case fs.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:fs.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){const r=this._knownTags[e];return r?r(t):new ps(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return us.concat(e)}createByteStringFromHeap(e,t){return e===t?us.alloc(0):us.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return hs.buildInt32(e,t)}createInt64(e,t,r,n){return hs.buildInt64(e,t,r,n)}createFloat(e){return e}createFloatSingle(e,t,r,n){return ls.read([e,t,r,n],0,!1,23,4)}createFloatDouble(e,t,r,n,i,o,s,a){return ls.read([e,t,r,n,i,o,s,a],0,!1,52,8)}createInt32Neg(e,t){return-1-hs.buildInt32(e,t)}createInt64Neg(e,t,r,n){const i=hs.buildInt32(e,t),o=hs.buildInt32(r,n);return i>fs.MAX_SAFE_HIGH?fs.NEG_ONE.minus(new As(i).times(fs.SHIFT32).plus(o)):-1-(i*fs.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new ds(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,r,n){this._push(this.createInt64(e,t,r,n))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,r,n){this._push(this.createFloatSingle(e,t,r,n))}pushFloatDouble(e,t,r,n,i,o,s,a){this._push(this.createFloatDouble(e,t,r,n,i,o,s,a))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,r,n){this._push(this.createInt64Neg(e,t,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],fs.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){const r=hs.buildInt32(e,t);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,t,r,n){const i=hs.buildInt64(e,t,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){const r=hs.buildInt32(e,t);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,t,r,n){const i=hs.buildInt64(e,t,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:fs.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:fs.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:fs.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(hs.buildInt32(e,t))}pushTagStart8(e,t,r,n){this.pushTagStart(hs.buildInt64(e,t,r,n))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){0!==e?this._createParent({},fs.PARENT.OBJECT,e):this._push(this.createObject({}))}_createArrayStartFixed(e){0!==e?this._createParent(new Array(e),fs.PARENT.ARRAY,e):this._push(this.createArray([]))}_decode(e){if(0===e.byteLength)throw new Error("Input too short");this._reset(),this._heap8.set(e);const t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(0===this._res.length)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){return"string"==typeof e&&(e=us.from(e,t||"hex")),new ms({size:e.length}).decodeFirst(e)}static decodeAll(e,t){return"string"==typeof e&&(e=us.from(e,t||"hex")),new ms({size:e.length}).decodeAll(e)}}ms.decodeFirst=ms.decode;var ys=ms;const{Buffer:vs}=Do,bs=ys,ws=Ho;class xs extends bs{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,r,n){return super.createInt64(e,t,r,n).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,r,n){return super.createInt64Neg(e,t,r,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const t=super.createFloat(e);return ws.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,r,n){return`${super.createFloatSingle(e,t,r,n)}_2`}createFloatDouble(e,t,r,n,i,o,s,a){return`${super.createFloatDouble(e,t,r,n,i,o,s,a)}_3`}createByteString(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,t){return`h'${vs.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){const r=super.createArray(e,t);return-1===t?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,t){const r=super.createMap(e),n=Array.from(r.keys()).reduce(Bs(r),"");return-1===t?`{_ ${n}}`:`{${n}}`}createObject(e,t){const r=super.createObject(e),n=Object.keys(r).reduce(Bs(r),"");return-1===t?`{_ ${n}}`:`{${n}}`}createUtf8String(e,t){const r=e.join(", ");return-1===t?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,t){return`"${vs.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){return"string"==typeof e&&(e=vs.from(e,t||"hex")),(new xs).decodeFirst(e)}}var _s=xs;function Bs(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:Es}=Do,{URL:Ss}=cs,Cs=Qo.exports.BigNumber,Is=Ho,ks=Ko,Ps=ks.MT,Ts=ks.NUMBYTES,Os=ks.SHIFT32,Ls=ks.SYMS,Ns=ks.TAG,Us=ks.MT.SIMPLE_FLOAT<<5|ks.NUMBYTES.TWO,Fs=ks.MT.SIMPLE_FLOAT<<5|ks.NUMBYTES.FOUR,Ms=ks.MT.SIMPLE_FLOAT<<5|ks.NUMBYTES.EIGHT,Rs=ks.MT.SIMPLE_FLOAT<<5|ks.SIMPLE.TRUE,Ds=ks.MT.SIMPLE_FLOAT<<5|ks.SIMPLE.FALSE,js=ks.MT.SIMPLE_FLOAT<<5|ks.SIMPLE.UNDEFINED,Qs=ks.MT.SIMPLE_FLOAT<<5|ks.SIMPLE.NULL,Hs=new Cs("0x20000000000000"),Ks=Es.from("f97e00","hex"),Vs=Es.from("f9fc00","hex"),zs=Es.from("f97c00","hex");class qs{constructor(e){e=e||{},this.streaming="function"==typeof e.stream,this.onData=e.stream,this.semanticTypes=[[Ss,this._pushUrl],[Cs,this._pushBigNumber]];const t=e.genTypes||[],r=t.length;for(let e=0;e<r;e++)this.addSemanticType(t[e][0],t[e][1]);this._reset()}addSemanticType(e,t){const r=this.semanticTypes.length;for(let n=0;n<r;n++)if(this.semanticTypes[n][0]===e){const e=this.semanticTypes[n][1];return this.semanticTypes[n][1]=t,e}return this.semanticTypes.push([e,t]),null}push(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(Ks)}_pushInfinity(e){const t=e<0?Vs:zs;return this.push(t)}_pushFloat(e){const t=Es.allocUnsafe(2);if(Is.writeHalf(t,e)&&Is.parseHalf(t)===e)return this._pushUInt8(Us)&&this.push(t);const r=Es.allocUnsafe(4);return r.writeFloatBE(e,0),r.readFloatBE(0)===e?this._pushUInt8(Fs)&&this.push(r):this._pushUInt8(Ms)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const n=t<<5;return e<24?this._pushUInt8(n|e):e<=255?this._pushUInt8(n|Ts.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(n|Ts.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(n|Ts.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|Ts.EIGHT)&&this._pushUInt32BE(Math.floor(e/Os))&&this._pushUInt32BE(e%Os):t===Ps.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,Ps.NEG_INT,e):this._pushInt(e,Ps.POS_INT)}_pushNumber(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=Es.byteLength(e,"utf8");return this._pushInt(t,Ps.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?Rs:Ds)}_pushUndefined(e){return this._pushUInt8(js)}_pushArray(e,t){const r=t.length;if(!e._pushInt(r,Ps.ARRAY))return!1;for(let n=0;n<r;n++)if(!e.pushAny(t[n]))return!1;return!0}_pushTag(e){return this._pushInt(e,Ps.TAG)}_pushDate(e,t){return e._pushTag(Ns.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,Ps.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(Ns.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,Ps.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(Ns.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=Ns.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=Ns.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);const n=Es.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,n)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(Ns.DECIMAL_FRAC)||!e._pushInt(2,Ps.ARRAY))return!1;const r=t.decimalPlaces(),n=t.multipliedBy(new Cs(10).pow(r));return!!e._pushIntNum(-r)&&(n.abs().isLessThan(Hs)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}_pushMap(e,t){return!!e._pushInt(t.size,Ps.MAP)&&this._pushRawMap(t.size,Array.from(t))}_pushObject(e){if(!e)return this._pushUInt8(Qs);for(var t=this.semanticTypes.length,r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);var n=e.encodeCBOR;if("function"==typeof n)return n.call(e,this);var i=Object.keys(e),o=i.length;return!!this._pushInt(o,Ps.MAP)&&this._pushRawMap(o,i.map((t=>[t,e[t]])))}_pushRawMap(e,t){t=t.map((function(e){return e[0]=qs.encode(e[0]),e})).sort(Is.keySorter);for(var r=0;r<e;r++){if(!this.push(t[r][0]))return!1;if(!this.pushAny(t[r][1]))return!1}return!0}write(e){return this.pushAny(e)}pushAny(e){var t=function(e){return{}.toString.call(e).slice(8,-1)}(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,Es.isBuffer(e)?e:Es.from(e));case"Null":return this._pushUInt8(Qs);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case Ls.NULL:return this._pushObject(null);case Ls.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(0===this.offset)return null;for(var e=this.result,t=this.resultLength,r=this.resultMethod,n=this.offset,i=0,o=0;o<n;o++)i+=t[o];var s=Es.allocUnsafe(i),a=0,c=0;for(o=0;o<n;o++){switch(c=t[o],r[o]){case 0:e[o].copy(s,a);break;case 1:s.writeUInt8(e[o],a,!0);break;case 2:s.writeUInt16BE(e[o],a,!0);break;case 3:s.writeUInt32BE(e[o],a,!0);break;case 4:s.writeDoubleBE(e[o],a,!0);break;case 5:s.write(e[o],a,c,"utf8");break;default:throw new Error("unkown method")}a+=c}var u=s;return this._reset(),u}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const t=new qs;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}}var Gs=qs;function Ws(e){if("string"==typeof e)return(new TextEncoder).encode(e);if(!(e instanceof Uint8Array))throw new TypeError('"data" be a string or Uint8Array.');return e}
/*!
   * Copyright (c) 2019 Digital Bazaar, Inc. All rights reserved.
   */!function(e){e.Diagnose=_s,e.Decoder=ys,e.Encoder=Gs,e.Simple=Jo,e.Tagged=Yo,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}}(Ri);class $s{registeredCodecs;constructor(){this.registeredCodecs={}}async encode({data:e,urls:t,codecs:r=["mh-sha2-256","mb-base58-btc"],meta:n={}}){if(void 0===e&&void 0===t)throw new Error("Either `data` or `urls` must be provided.");if(void 0===r)throw new Error("The hashlink creation `codecs` must be provided.");void 0!==t&&(Array.isArray(t)||(t=[t]),t.forEach((e=>{if("string"!=typeof e)throw new Error(`URL "${e}" must be a string.`)})),n={...n,url:t});const i=await r.reduce((async(e,t)=>{const r=this.registeredCodecs[t];if(void 0===r)throw new Error(`Unknown cryptographic hash encoder "${t}".`);return r.encode(await e)}),e),o=new Map;n.url&&o.set(15,n.url),n["content-type"]&&o.set(14,n["content-type"]),n.experimental&&o.set(13,n.experimental),n.transform&&o.set(12,n.transform);const s=new TextDecoder;let a="hl:"+s.decode(i);if(o.size>0){const e=r[r.length-1],t=new Uint8Array(Ri.encode(o));a+=":"+s.decode(await this.registeredCodecs[e].encode(t))}return a}async decode({hashlink:e}){const t=e.split(":"),r={hashName:"unknown",hashValue:null,meta:{}};if(t.length<2)throw new Error(`Hashlink "${e}" is invalid; it must contain at least one colon.`);if(t.length>3)throw new Error(`Hashlink "${e}" is invalid; it contains more than two colons.`);const n=Ws(t[1]),i=this._findDecoder(n),o=i.decode(n),s=this._findDecoder(o);if(r.hashName=s.name,r.hashValue=s.decode(o),3===t.length){const e=Ws(t[2]),n=i.decode(e),o=Ri.decode(n);o.has(15)&&(r.meta.url=o.get(15)),o.has(14)&&(r.meta["content-type"]=o.get(14)),o.has(13)&&(r.meta.experimental=o.get(13)),o.has(12)&&(r.meta.transform=o.get(12))}return r}async verify({data:e,hashlink:t}){const r=t.split(":");if(r.length>3)throw new Error(`Hashlink "${t}" is invalid; it contains more than two colons.`);const n=Ws(r[1]),i=this._findDecoder(n),o=i.decode(n),s=this._findDecoder(o),a=[];if(3===r.length){const e=Ws(r[2]),t=i.decode(e),n=Ri.decode(t);n.has(12)&&a.push(...n.get(12))}a.push(s.algorithm,i.algorithm);const c=(await this.encode({data:e,codecs:a})).split(":");return r[1]===c[1]}use(e){this.registeredCodecs[e.algorithm]=e}_findDecoder(e){const t=Object.values(this.registeredCodecs).find((t=>t.identifier.every(((t,r)=>t===e[r]))));if(!t)throw new Error("Could not determine decoder for: "+e);return t}}const Js={};function Xs(e){return(4294967296+e).toString(16).substring(1)}var Ys={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,r){let n="\n"+e+" = ";for(let i=0;i<t.length;i+=2){if(32===r)n+=Xs(t[i]).toUpperCase(),n+=" ",n+=Xs(t[i+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);n+=Xs(t[i+1]).toUpperCase(),n+=Xs(t[i]).toUpperCase()}i%6==4?n+="\n"+new Array(e.length+4).join(" "):i<t.length-2&&(n+=" ")}console.log(n)},testSpeed:function(e,t,r){let n=(new Date).getTime();const i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;const o=(new Date).getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let o=0;o<r;o++){const r=e(i),o=(new Date).getTime(),s=o-n;n=o,console.log("Hashed in "+s+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}};const Zs=Ys;function ea(e,t,r){const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function ta(e,t,r,n){let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function ra(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function na(e,t,r,n,i,o){const s=aa[i],a=aa[i+1],c=aa[o],u=aa[o+1];ea(sa,e,t),ta(sa,e,s,a);let l=sa[n]^sa[e],A=sa[n+1]^sa[e+1];sa[n]=A,sa[n+1]=l,ea(sa,r,n),l=sa[t]^sa[r],A=sa[t+1]^sa[r+1],sa[t]=l>>>24^A<<8,sa[t+1]=A>>>24^l<<8,ea(sa,e,t),ta(sa,e,c,u),l=sa[n]^sa[e],A=sa[n+1]^sa[e+1],sa[n]=l>>>16^A<<16,sa[n+1]=A>>>16^l<<16,ea(sa,r,n),l=sa[t]^sa[r],A=sa[t+1]^sa[r+1],sa[t]=A>>>31^l<<1,sa[t+1]=l>>>31^A<<1}const ia=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),oa=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),sa=new Uint32Array(32),aa=new Uint32Array(32);function ca(e,t){let r=0;for(r=0;r<16;r++)sa[r]=e.h[r],sa[r+16]=ia[r];for(sa[24]=sa[24]^e.t,sa[25]=sa[25]^e.t/4294967296,t&&(sa[28]=~sa[28],sa[29]=~sa[29]),r=0;r<32;r++)aa[r]=ra(e.b,4*r);for(r=0;r<12;r++)na(0,8,16,24,oa[16*r+0],oa[16*r+1]),na(2,10,18,26,oa[16*r+2],oa[16*r+3]),na(4,12,20,28,oa[16*r+4],oa[16*r+5]),na(6,14,22,30,oa[16*r+6],oa[16*r+7]),na(0,10,20,30,oa[16*r+8],oa[16*r+9]),na(2,12,22,24,oa[16*r+10],oa[16*r+11]),na(4,14,16,26,oa[16*r+12],oa[16*r+13]),na(6,8,18,28,oa[16*r+14],oa[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^sa[r]^sa[r+16]}const ua=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function la(e,t,r,n){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};ua.fill(0),ua[0]=e,t&&(ua[1]=t.length),ua[2]=1,ua[3]=1,r&&ua.set(r,32),n&&ua.set(n,48);for(let e=0;e<16;e++)i.h[e]=ia[e]^ra(ua,4*e);return t&&(Aa(i,t),i.c=128),i}function Aa(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,ca(e,!1),e.c=0),e.b[e.c++]=t[r]}function ha(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;ca(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function fa(e,t,r,n,i){r=r||64,e=Zs.normalizeInput(e),n&&(n=Zs.normalizeInput(n)),i&&(i=Zs.normalizeInput(i));const o=la(r,t,n,i);return Aa(o,e),ha(o)}var da={blake2b:fa,blake2bHex:function(e,t,r,n,i){const o=fa(e,t,r,n,i);return Zs.toHex(o)},blake2bInit:la,blake2bUpdate:Aa,blake2bFinal:ha};const pa=Ys;function ga(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function ma(e,t,r,n,i,o){wa[e]=wa[e]+wa[t]+i,wa[n]=ya(wa[n]^wa[e],16),wa[r]=wa[r]+wa[n],wa[t]=ya(wa[t]^wa[r],12),wa[e]=wa[e]+wa[t]+o,wa[n]=ya(wa[n]^wa[e],8),wa[r]=wa[r]+wa[n],wa[t]=ya(wa[t]^wa[r],7)}function ya(e,t){return e>>>t^e<<32-t}const va=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ba=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),wa=new Uint32Array(16),xa=new Uint32Array(16);function _a(e,t){let r=0;for(r=0;r<8;r++)wa[r]=e.h[r],wa[r+8]=va[r];for(wa[12]^=e.t,wa[13]^=e.t/4294967296,t&&(wa[14]=~wa[14]),r=0;r<16;r++)xa[r]=ga(e.b,4*r);for(r=0;r<10;r++)ma(0,4,8,12,xa[ba[16*r+0]],xa[ba[16*r+1]]),ma(1,5,9,13,xa[ba[16*r+2]],xa[ba[16*r+3]]),ma(2,6,10,14,xa[ba[16*r+4]],xa[ba[16*r+5]]),ma(3,7,11,15,xa[ba[16*r+6]],xa[ba[16*r+7]]),ma(0,5,10,15,xa[ba[16*r+8]],xa[ba[16*r+9]]),ma(1,6,11,12,xa[ba[16*r+10]],xa[ba[16*r+11]]),ma(2,7,8,13,xa[ba[16*r+12]],xa[ba[16*r+13]]),ma(3,4,9,14,xa[ba[16*r+14]],xa[ba[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=wa[r]^wa[r+8]}function Ba(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(va),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(Ea(n,t),n.c=64),n}function Ea(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,_a(e,!1),e.c=0),e.b[e.c++]=t[r]}function Sa(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;_a(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function Ca(e,t,r){r=r||32,e=pa.normalizeInput(e);const n=Ba(r,t);return Ea(n,e),Sa(n)}var Ia,ka,Pa={blake2s:Ca,blake2sHex:function(e,t,r){const n=Ca(e,t,r);return pa.toHex(n)},blake2sInit:Ba,blake2sUpdate:Ea,blake2sFinal:Sa},Ta={blake2b:da.blake2b,blake2bHex:da.blake2bHex,blake2bInit:da.blake2bInit,blake2bUpdate:da.blake2bUpdate,blake2bFinal:da.blake2bFinal,blake2s:Pa.blake2s,blake2sHex:Pa.blake2sHex,blake2sInit:Pa.blake2sInit,blake2sUpdate:Pa.blake2sUpdate,blake2sFinal:Pa.blake2sFinal},Oa=self.crypto||self.msCrypto;
/*!
   * Copyright (c) 2019 Digital Bazaar, Inc. All rights reserved.
   */
class La{identifier;algorithm;name}class Na extends La{constructor(){super(),this.identifier=new Uint8Array([18,32]),this.algorithm="mh-sha2-256",this.name="sha2-256"}async encode(e){const t=new Uint8Array(await Oa.subtle.digest({name:"SHA-256"},e)),r=new Uint8Array(t.byteLength+this.identifier.byteLength);return r.set(this.identifier,0),r.set(t,this.identifier.byteLength),r}decode(e){return e.slice(this.identifier.length)}}class Ua extends La{constructor(){super(),this.identifier=new Uint8Array([178,8,8]),this.algorithm="mh-blake2b-64",this.name="blake2b-64"}async encode(e){const t=Ta.blake2b(e,null,8),r=new Uint8Array(t.byteLength+this.identifier.byteLength);return r.set(this.identifier,0),r.set(t,this.identifier.byteLength),r}decode(e){return e.slice(this.identifier.length)}}class Fa extends La{constructor(){super(),this.identifier=new Uint8Array([122]),this.algorithm="mb-base58-btc",this.name="base58-btc"}async encode(e){return new Uint8Array(Ws("z"+function(e,t){return function(e,t,r){if(!(e instanceof Uint8Array))throw new TypeError('"input" must be a Uint8Array.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');if(0===e.length)return"";let n="",i=0;const o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){let t=e[i];for(let e=0;e<a.length;++e)t+=a[e]<<8,a[e]=t%o,t=t/o|0;for(;t>0;)a.push(t%o),t=t/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=t[a[i]];if(r){const e=new RegExp(".{1,"+r+"}","g");n=n.match(e).join("\r\n")}return n}(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t)}(e)))}decode(e){return function(e){return function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if(0===e.length)return new Uint8Array;let r=Js[t];if(!r){r=Js[t]=[];for(let e=0;e<t.length;++e)r[t.charCodeAt(e)]=e}e=e.replace(/\s/g,"");const n=t.length,i=t.charAt(0),o=[0];for(let t=0;t<e.length;t++){const i=r[e.charCodeAt(t)];if(void 0===i)return;let s=i;for(let e=0;e<o.length;++e)s+=o[e]*n,o[e]=255&s,s>>=8;for(;s>0;)o.push(255&s),s>>=8}for(let t=0;e[t]===i&&t<e.length-1;++t)o.push(0);return new Uint8Array(o.reverse())}
/*!
   * Copyright (c) 2019-2020 Digital Bazaar, Inc. All rights reserved.
   */(e,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}(new TextDecoder("utf-8").decode(e.slice(1)))}}class Ma{hl;hashlinkTable={};constructor(){this.hl=new $s,this.hl.use(new Na),this.hl.use(new Ua),this.hl.use(new Fa)}async decode(e,t){const r=await this.hl.decode({hashlink:e});if(!r.meta&&!r.meta.url?.length)throw new Error("unparseable document, no url provided as meta data");return this.hashlinkTable[e]=r,t?.(r.meta.url[0]),r}async verifyHashlinkTable(){const e=Object.keys(this.hashlinkTable);for(let t=0;t<e.length;t++)await this.verify(e[t]).catch((e=>console.log("caught an hashlink exception",e)));return!0}async verify(e){const t=await this.getSourceUrlFromHashlink(e);let r;await fetch(t).then((async e=>await e.text())).then((e=>{r=e}));const n=new TextEncoder,i=await this.hl.verify({data:n.encode(r),hashlink:e});if(!i)throw new Error(`Hashlink ${e} does not match data from url ${t}`);return console.log(`hashlink ${e} bound to ${t} was successfully verified`),i}async getSourceUrlFromHashlink(e){let t;return t=this.hashlinkTable[e]?this.hashlinkTable[e]:await this.decode(e),this.getMetaUrl(t)}getMetaUrl(e){return e.meta.url[0]}}function Ra(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}function Da(e){return"string"==typeof e}!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(Ia||(Ia={})),function(e){e.V1_1="1.1",e.V1_2="1.2",e.V2_0="2.0",e.V3_0_alpha="3.0-alpha",e.V3_0_beta="3.0-beta",e.V3_0="3.0"}(ka||(ka={}));var ja,Qa=ka;!function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(ja||(ja={}));const Ha={[ja.Bitcoin]:{code:ja.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}},[ja.Ethmain]:{code:ja.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}},[ja.Ethropst]:{code:ja.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}},[ja.Ethrinkeby]:{code:ja.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}},[ja.Mocknet]:{code:ja.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}},[ja.Regtest]:{code:ja.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}},[ja.Testnet]:{code:ja.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}};var Ka;!function(e){e.mainnet="mainnet",e.testnet="testnet"}(Ka||(Ka={}));var Va={"@context":{id:"@id",type:"@type",extensions:"https://w3id.org/openbadges/extensions#",obi:"https://w3id.org/openbadges#",validation:"obi:validation",cred:"https://w3id.org/credentials#",dc:"http://purl.org/dc/terms/",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",AlignmentObject:"schema:AlignmentObject",CryptographicKey:"sec:Key",Endorsement:"cred:Credential",Assertion:"obi:Assertion",BadgeClass:"obi:BadgeClass",Criteria:"obi:Criteria",Evidence:"obi:Evidence",Extension:"obi:Extension",FrameValidation:"obi:FrameValidation",IdentityObject:"obi:IdentityObject",Image:"obi:Image",HostedBadge:"obi:HostedBadge",hosted:"obi:HostedBadge",Issuer:"obi:Issuer",Profile:"obi:Profile",RevocationList:"obi:RevocationList",SignedBadge:"obi:SignedBadge",signed:"obi:SignedBadge",TypeValidation:"obi:TypeValidation",VerificationObject:"obi:VerificationObject",author:{"@id":"schema:author","@type":"@id"},caption:{"@id":"schema:caption"},claim:{"@id":"cred:claim","@type":"@id"},created:{"@id":"dc:created","@type":"xsd:dateTime"},creator:{"@id":"dc:creator","@type":"@id"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},endorsement:{"@id":"cred:credential","@type":"@id"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},genre:{"@id":"schema:genre"},image:{"@id":"schema:image","@type":"@id"},name:{"@id":"schema:name"},owner:{"@id":"sec:owner","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},publicKeyPem:{"@id":"sec:publicKeyPem"},related:{"@id":"dc:relation","@type":"@id"},startsWith:{"@id":"http://purl.org/dqm-vocabulary/v1/dqm#startsWith"},tags:{"@id":"schema:keywords"},targetDescription:{"@id":"schema:targetDescription"},targetFramework:{"@id":"schema:targetFramework"},targetName:{"@id":"schema:targetName"},targetUrl:{"@id":"schema:targetUrl"},telephone:{"@id":"schema:telephone"},url:{"@id":"schema:url","@type":"@id"},version:{"@id":"schema:version"},alignment:{"@id":"obi:alignment","@type":"@id"},allowedOrigins:{"@id":"obi:allowedOrigins"},audience:{"@id":"obi:audience"},badge:{"@id":"obi:badge","@type":"@id"},criteria:{"@id":"obi:criteria","@type":"@id"},endorsementComment:{"@id":"obi:endorsementComment"},evidence:{"@id":"obi:evidence","@type":"@id"},hashed:{"@id":"obi:hashed","@type":"xsd:boolean"},identity:{"@id":"obi:identityHash"},issuedOn:{"@id":"obi:issueDate","@type":"xsd:dateTime"},issuer:{"@id":"obi:issuer","@type":"@id"},narrative:{"@id":"obi:narrative"},recipient:{"@id":"obi:recipient","@type":"@id"},revocationList:{"@id":"obi:revocationList","@type":"@id"},revocationReason:{"@id":"obi:revocationReason"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},revokedAssertions:{"@id":"obi:revoked"},salt:{"@id":"obi:salt"},targetCode:{"@id":"obi:targetCode"},uid:{"@id":"obi:uid"},validatesType:"obi:validatesType",validationFrame:"obi:validationFrame",validationSchema:"obi:validationSchema",verification:{"@id":"obi:verify","@type":"@id"},verificationProperty:{"@id":"obi:verificationProperty"},verify:"verification"}},za={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2017:"sec:MerkleProof2017",RecipientProfile:"bc:RecipientProfile",SignatureLine:"bc:SignatureLine",MerkleProofVerification2017:"bc:MerkleProofVerification2017",recipientProfile:"bc:recipientProfile",signatureLines:"bc:signatureLines",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},subtitle:"bc:subtitle",jobTitle:"schema:jobTitle",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},CryptographicKey:"sec:Key",signature:"sec:signature",verification:{"@id":"obi:verify","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"},"obi:validation":[{"obi:validatesType":"RecipientProfile","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0/recipientSchema.json"},{"obi:validatesType":"SignatureLine","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0/signatureLineSchema.json"},{"obi:validatesType":"MerkleProof2017","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0/merkleProof2017Schema.json"}]},qa={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2017:"sec:MerkleProof2017",RecipientProfile:"bc:RecipientProfile",SignatureLine:"bc:SignatureLine",MerkleProofVerification2017:"bc:MerkleProofVerification2017",recipientProfile:"bc:recipientProfile",signatureLines:"bc:signatureLines",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},subtitle:"bc:subtitle",jobTitle:"schema:jobTitle",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},CryptographicKey:"sec:Key",signature:"sec:signature",verification:{"@id":"obi:verify","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"},"obi:validation":[{"obi:validatesType":"RecipientProfile","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.1/recipientSchema.json"},{"obi:validatesType":"SignatureLine","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.1/signatureLineSchema.json"},{"obi:validatesType":"MerkleProof2017","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.1/merkleProof2017Schema.json"}]},Ga={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",cp:"https://w3id.org/chainpoint#",vc:"https://www.w3.org/2018/credentials/v1",schema:"https://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2019:"sec:MerkleProof2019",BlockcertsCredential:"bc:BlockcertsCredential",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},metadata:"bc:metadata",display:{"@id":"bc:display","@context":{id:"@id",type:"@type",contentMediaType:{"@id":"bc:contentMediaType"},contentEncoding:{"@id":"bc:contentEncoding"},content:{"@id":"bc:content"}}},CryptographicKey:"sec:Key",domain:"sec:domain",nonce:"sec:nonce",proofValue:"sec:proofValue",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},created:{"@id":"https://purl.org/dc/terms/created","@type":"xsd:dateTime"},challenge:"sec:challenge",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},name:{"@id":"schema:name"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},publicKey:{"@id":"sec:publicKey"},url:{"@id":"schema:url"},image:{"@id":"schema:image"},criteria:{"@id":"schema:criteria"},claim:{"@id":"schema:claim"}}};const Wa={};Wa["https://w3id.org/openbadges/v2"]=Va,Wa["https://openbadgespec.org/v2/context.json"]=Va,Wa["https://www.w3.org/2018/credentials/v1"]={"@context":{"@version":1.1,id:"@id",type:"@type",VerifiableCredential:{"@id":"https://www.w3.org/2018/credentials#VerifiableCredential","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",credentialSchema:{"@id":"cred:credentialSchema","@type":"@id","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",JsonSchemaValidator2018:"cred:JsonSchemaValidator2018"}},credentialStatus:{"@id":"cred:credentialStatus","@type":"@id"},credentialSubject:{"@id":"cred:credentialSubject","@type":"@id"},evidence:{"@id":"cred:evidence","@type":"@id"},expirationDate:{"@id":"cred:expirationDate","@type":"xsd:dateTime"},holder:{"@id":"cred:holder","@type":"@id"},issued:{"@id":"cred:issued","@type":"xsd:dateTime"},issuer:{"@id":"cred:issuer","@type":"@id"},issuanceDate:{"@id":"cred:issuanceDate","@type":"xsd:dateTime"},proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},refreshService:{"@id":"cred:refreshService","@type":"@id","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",ManualRefreshService2018:"cred:ManualRefreshService2018"}},termsOfUse:{"@id":"cred:termsOfUse","@type":"@id"},validFrom:{"@id":"cred:validFrom","@type":"xsd:dateTime"},validUntil:{"@id":"cred:validUntil","@type":"xsd:dateTime"}}},VerifiablePresentation:{"@id":"https://www.w3.org/2018/credentials#VerifiablePresentation","@context":{"@version":1.1,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",sec:"https://w3id.org/security#",holder:{"@id":"cred:holder","@type":"@id"},proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},verifiableCredential:{"@id":"cred:verifiableCredential","@type":"@id","@container":"@graph"}}},EcdsaSecp256k1Signature2019:{"@id":"https://w3id.org/security#EcdsaSecp256k1Signature2019","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},EcdsaSecp256r1Signature2019:{"@id":"https://w3id.org/security#EcdsaSecp256r1Signature2019","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},Ed25519Signature2018:{"@id":"https://w3id.org/security#Ed25519Signature2018","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},RsaSignature2018:{"@id":"https://w3id.org/security#RsaSignature2018","@context":{"@version":1.1,challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"}}},Wa["https://w3id.org/blockcerts/schema/2.0/context.json"]=za,Wa["https://www.blockcerts.org/schema/2.0/context.json"]=za,Wa["https://w3id.org/blockcerts/v2"]=za,Wa["https://w3id.org/blockcerts/schema/2.1/context.json"]=qa,Wa["https://www.blockcerts.org/schema/2.1/context.json"]=qa,Wa["https://w3id.org/blockcerts/v2.1"]=qa,Wa["https://w3id.org/blockcerts/schema/3.0/context.json"]=Ga,Wa["https://www.blockcerts.org/schema/3.0/context.json"]=Ga,Wa["https://w3id.org/blockcerts/v3"]=Ga;var $a={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2017:"sec:MerkleProof2017",RecipientProfile:"bc:RecipientProfile",SignatureLine:"bc:SignatureLine",MerkleProofVerification2017:"bc:MerkleProofVerification2017",recipientProfile:"bc:recipientProfile",signatureLines:"bc:signatureLines",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},subtitle:"bc:subtitle",jobTitle:"schema:jobTitle",creator:{"@id":"dc:creator","@type":"@id"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},revoked:{"@id":"sec:expiration","@type":"xsd:dateTime"},CryptographicKey:"sec:Key",signature:"sec:signature",verification:"bc:verification",publicKeys:"bc:publicKeys",ChainpointSHA256v2:"cp:ChainpointSHA256v2",BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"},"obi:validation":[{"obi:validatesType":"RecipientProfile","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0-alpha/recipientSchema.json"},{"obi:validatesType":"SignatureLine","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0-alpha/signatureLineSchema.json"},{"obi:validatesType":"MerkleProof2017","obi:validationSchema":"https://w3id.org/blockcerts/schema/2.0-alpha/merkleProof2017Schema.json"}]},Ja={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",cp:"https://w3id.org/chainpoint#",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2019:"sec:MerkleProof2019",BlockcertsCredential:"bc:BlockcertsCredential",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},CryptographicKey:"sec:Key",domain:"sec:domain",nonce:"sec:nonce",proofValue:"sec:proofValue",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},created:{"@id":"bc:created","@type":"xsd:dateTime"},name:{"@id":"schema:name"}}},Xa={"@context":{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",cp:"https://w3id.org/chainpoint#",vc:"https://www.w3.org/2018/credentials/v1",schema:"https://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",MerkleProof2019:"sec:MerkleProof2019",BlockcertsCredential:"bc:BlockcertsCredential",introductionUrl:{"@id":"bc:introductionUrl","@type":"@id"},metadata:"bc:metadata",display:{"@id":"bc:display","@context":{id:"@id",type:"@type",contentMediaType:{"@id":"bc:contentMediaType","@type":"@id"},contentEncoding:{"@id":"bc:contentEncoding","@type":"@id"},content:{"@id":"bc:content","@type":"@id"}}},CryptographicKey:"sec:Key",domain:"sec:domain",nonce:"sec:nonce",proofValue:"sec:proofValue",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},created:{"@id":"https://purl.org/dc/terms/created","@type":"xsd:dateTime"},challenge:"sec:challenge",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},name:{"@id":"schema:name"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},publicKey:{"@id":"sec:publicKey","@type":"@id"},url:{"@id":"schema:url","@type":"@id"},image:{"@id":"schema:image","@type":"@id"}}};Wa["https://w3id.org/blockcerts/schema/2.0-alpha/context.json"]=$a,Wa["https://www.blockcerts.org/schema/2.0-alpha/context.json"]=$a,Wa["https://www.blockcerts.org/schema/3.0-alpha/context.json"]=Ja,Wa["https://w3id.org/blockcerts/schema/3.0-alpha/context.json"]=Ja,Wa["https://w3id.org/blockcerts/v3.0-alpha"]=Ja,Wa["https://www.blockcerts.org/schema/3.0-beta/context.json"]=Xa,Wa["https://w3id.org/blockcerts/schema/3.0-beta/context.json"]=Xa,Wa["https://w3id.org/blockcerts/v3.0-beta"]=Xa,Wa["https://w3id.org/security/suites/ed25519-2020/v1"]={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2020:{"@id":"https://w3id.org/security#Ed25519VerificationKey2020","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyMultibase:{"@id":"https://w3id.org/security#publicKeyMultibase","@type":"https://w3id.org/security#multibase"}}},Ed25519Signature2020:{"@id":"https://w3id.org/security#Ed25519Signature2020","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},proofValue:{"@id":"https://w3id.org/security#proofValue","@type":"https://w3id.org/security#multibase"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}};const Ya={locale:"en-US"};var Za=Object.freeze({__proto__:null,isMainnet:function(e){return Ra(e,"1")||Ra(e,"ecdsa-koblitz-pubkey:1")}}),ec={locale:"en-US"},tc={"en-US":{steps:{formatValidationLabel:"Format validation",formatValidationLabelPending:"Validating format",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"Status check",statusCheckLabelPending:"Checking record status"},subSteps:{getTransactionIdLabel:"Get transaction ID",getTransactionIdLabelPending:"Getting transaction ID",computeLocalHashLabel:"Compute local hash",computeLocalHashLabelPending:"Computing local hash",fetchRemoteHashLabel:"Fetch remote hash",fetchRemoteHashLabelPending:"Fetching remote hash",getIssuerProfileLabel:"Get issuer profile",getIssuerProfileLabelPending:"Getting issuer profile",parseIssuerKeysLabel:"Parse issuer keys",parseIssuerKeysLabelPending:"Parsing issuer keys",compareHashesLabel:"Compare hashes",compareHashesLabelPending:"Comparing hashes",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Check Merkle Root",checkMerkleRootLabelPending:"Checking Merkle Root",checkReceiptLabel:"Check Receipt",checkReceiptLabelPending:"Checking Receipt",checkAuthenticityLabel:"Check Authenticity",checkAuthenticityLabelPending:"Checking Authenticity",checkRevokedStatusLabel:"Check Revoked Status",checkRevokedStatusLabelPending:"Checking Revoked Status",checkExpiresDateLabel:"Check Expiration Date",checkExpiresDateLabelPending:"Checking Expiration Date",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"Reason given:",reason:"This certificate has been revoked by the issuer."},success:{mocknet:{label:"This Mocknet credential passed all checks",description:"Mocknet credentials are used for test purposes only. They are not recorded on a blockchain, and they should not be considered verified Blockcerts."},blockchain:{label:"Verified",description:"This is a valid ${chain} certificate.",linkText:"View transaction link"},multisign:{label:"Verified",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"This is not a valid certificate",couldNotConfirmTx:"Could not confirm the transaction",ensureHashesEqual:"Computed hash does not match remote hash",ensureMerkleRootEqual:"Merkle root does not match remote hash.",ensureNotExpired:"This certificate has expired.",ensureValidReceipt:"The receipt is malformed. There was a problem navigating the merkle tree in the receipt.",failedJsonLdNormalization:"Failed JSON-LD normalization",foundUnmappedFields:"Found unmapped fields during JSON-LD normalization",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Didn't recognize chain value",getIssuerProfile:"Unable to get issuer profile",getRevokedAssertions:"Unable to get revocation assertions",getTransactionId:"Cannot verify this certificate without a transaction ID to compare against.",invalidMerkleReceipt:"Invalid Merkle Receipt. Proof hash did not match Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Cannot verify this certificate without a transaction ID to compare against.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"Unable to parse JSON out of issuer identification data.",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}},fr:{steps:{formatValidationLabel:"Validation du format",formatValidationLabelPending:"Validation du format",signatureVerificationLabel:"V√©rification de la preuve",signatureVerificationLabelPending:"V√©rification de la preuve",identityVerificationLabel:"V√©rification de l'identit√©",identityVerificationLabelPending:"V√©rification de l'identit√©",statusCheckLabel:"V√©rification du status",statusCheckLabelPending:"V√©rification du status"},subSteps:{getTransactionIdLabel:"Obtention de l'identifiant de transaction",getTransactionIdLabelPending:"Obtention de l'identifiant de transaction",computeLocalHashLabel:"Calcul du hash local",computeLocalHashLabelPending:"Calcul du hash local",fetchRemoteHashLabel:"R√©cup√©ration du hash distant",fetchRemoteHashLabelPending:"R√©cup√©ration du hash distant",getIssuerProfileLabel:"Obtention du profil de l'√©metteur",getIssuerProfileLabelPending:"Obtention du profil de l'√©metteur",parseIssuerKeysLabel:"Traitement des cl√©s de l'√©metteur",parseIssuerKeysLabelPending:"Traitement des cl√©s de l'√©metteur",compareHashesLabel:"Comparaison des hash",compareHashesLabelPending:"Comparaison des hashs",checkDocumentSignatureLabel:"V√©rification de la signature du document",checkDocumentSignatureLabelPending:"V√©rification de la signature du document",checkMerkleRootLabel:"V√©rification du Merkle Root",checkMerkleRootLabelPending:"V√©rification du  Merkle Root",checkReceiptLabel:"V√©rification du re√ßu",checkReceiptLabelPending:"V√©rification du re√ßu",checkAuthenticityLabel:"V√©rification de l'authenticit√©",checkAuthenticityLabelPending:"V√©rification de l'authenticit√©",checkRevokedStatusLabel:"V√©rification du status de r√©vocation",checkRevokedStatusLabelPending:"V√©rification du status de r√©vocation",checkExpiresDateLabel:"V√©rification de la date d'expiration",checkExpiresDateLabelPending:"V√©rification de la date d'expiration",controlVerificationMethodLabel:"Contr√¥le de la M√©thode de V√©rification",controlVerificationMethodLabelPending:"Contr√¥le de la M√©thode de V√©rification",retrieveVerificationMethodPublicKeyLabel:"Extraction de la cl√© publique depuis le document DID",retrieveVerificationMethodPublicKeyLabelPending:"Extraction de la cl√© publique depuis le document DID",deriveIssuingAddressFromPublicKeyLabel:"D√©rivation de l'adresse d'√©mission depuis la cl√© publique",deriveIssuingAddressFromPublicKeyLabelPending:"D√©rivation de l'adresse d'√©mission depuis la cl√© publique",compareIssuingAddressLabel:"Comparaison des adresses",compareIssuingAddressLabelPending:"Comparaison des adresses",checkImagesIntegrityLabel:"V√©rification de l'Int√©grit√© des Images",checkImagesIntegrityLabelPending:"V√©rification de l'Int√©grit√© des Images"},revocation:{preReason:"Raison :",reason:"Ce certificat a √©t√© r√©voqu√© par l'√©metteur."},success:{mocknet:{label:"Cet enregistrement Mocknet a √©t√© v√©rifi√©",description:"Le mode Mocknet est utilis√© √† des fins de tests uniquement. Ce Blockcert n'a pas √©t√© enregistr√© sur une blockchain, et en tant que tel ne peut pas √™tre consid√©r√© un Blockcert valide."},blockchain:{label:"V√©rifi√©",description:"Ceci est un certificat ${chain} valide.",linkText:"Voir la transaction"},multisign:{label:"V√©rifi√©",description:"Toutes les signatures num√©riques de ce certificat ont √©t√© v√©rifi√©es avec succ√®s."}},errors:{certificateNotValid:"Certificat invalide",couldNotConfirmTx:"Impossible de confirmer la transaction",ensureHashesEqual:"Calcul du hash local diff√©rent du hash distant",ensureMerkleRootEqual:"Le Merkle root ne correspond pas au hash distant",ensureNotExpired:"Certificat expir√©",ensureValidReceipt:"Erreur d'√©criture du re√ßu. Un probl√®me est survenu lors de la navigation de l'arbre Merkle du re√ßu.",failedJsonLdNormalization:"Erreur de normalisation JSON-LD",foundUnmappedFields:"Champs non li√©s d√©couverts durant la normalisation JSON-LD",identityErrorBaseMessage:"Identit√© de l'√©metteur invalide",deriveIssuingAddressFromPublicKey:"Cette blockchain n'est pas support√©e pour la v√©rification de l'identit√© d√©centralis√©e.",controlVerificationMethod:"Le document d'identit√© de l'√©metteur ne correspond pas √† la m√©thode de v√©rification.",retrieveVerificationMethodPublicKey:"Le document d'identit√© de l'√©metteur ne fait pas mention de la m√©thode de v√©rification.",compareIssuingAddress:"La m√©thode de v√©rification n'a pas permis d'√©tablir l'identit√© de l'√©metteur.",invalidIssuingAddressCreationTime:"L'adresse d'√©mission utilis√©e a √©t√© cr√©√©e apr√®s la transaction d'enregistrement.",invalidIssuingAddressRevoked:"L'adresse d'√©mission utilis√©e a √©t√© d√©commissionn√©e par l'√©metteur avant la transaction d'enregistrement.",invalidIssuingAddressExpired:"L'adresse d'√©mission utilis√©e a expir√© avant la transaction.",invalidIssuingAddressUnknown:"L'adresse utilis√©e pour √©mettre ce Blockcerts n'appartient √† l'√©metteur d√©clar√©.",getChain:"Valeur de chaine non reconnue",getIssuerProfile:"Profil de l'√©metteur indisponible",getRevokedAssertions:"Impossible d'obtenir les raisons de revocation",getTransactionId:"Impossible de v√©rifier ce certificat sans un identifiant de transaction valide",invalidMerkleReceipt:"Re√ßu Merkle invalide. Hash de preuve diff√©rent du Merkle root",invalidMerkleVersion:"La version du Merkle utilis√© est incompatible avec la version Blockcerts.",isTransactionIdValid:"Impossible de v√©rifier ce certificat sans un identifiant de transaction valide",issuerProfileNotSet:"l'URL de l'√©metteur n'est pas d√©finie",issuerProfileInvalid:"le document distant ne semble pas √™tre un profil d'√©metteur valide",parseIssuerKeys:"Impossible de lire le JSON d'identification de l'√©metteur",checkImagesIntegrity:"La v√©rification des images a prouv√© que le contenu a √©t√© modifi√© apr√®s l'√©mission."}},es:{steps:{formatValidationLabel:"Validaci√≥n de formato",formatValidationLabelPending:"Validando el formato",signatureVerificationLabel:"Verificar prueba",signatureVerificationLabelPending:"Verificando prueba",identityVerificationLabel:"Verificar identitad",identityVerificationLabelPending:"Verificando identitad",statusCheckLabel:"Estado de Verificaci√≥n",statusCheckLabelPending:"Verificando Estado de Grabaci√≥n"},subSteps:{getTransactionIdLabel:"Obtener Identificaci√≥n de Transacci√≥n",getTransactionIdLabelPending:"Obteniendo Identificaci√≥n de Transacci√≥n",computeLocalHashLabel:"Calcular cadena binaria local",computeLocalHashLabelPending:"Calculando cadena binaria local",fetchRemoteHashLabel:"Obtener cadena binaria remota",fetchRemoteHashLabelPending:"Obeniendo cadena binaria remota",getIssuerProfileLabel:"Obtener perfil de emisor",getIssuerProfileLabelPending:"Obteniendo perfil de emisor",parseIssuerKeysLabel:"Analizar claves del emisor",parseIssuerKeysLabelPending:"Analizando claves del emisor",compareHashesLabel:"Comparar cadenas binarias",compareHashesLabelPending:"Comparando cadenas binarias",checkDocumentSignatureLabel:"Controlar firma del documento",checkDocumentSignatureLabelPending:"Controlando firma del documento",checkMerkleRootLabel:"Verificar Merkle Root",checkMerkleRootLabelPending:"Verificando Merkle Root",checkReceiptLabel:"Verificar Recibo",checkReceiptLabelPending:"Verificando Recibo",checkAuthenticityLabel:"Verificar Autenticidad",checkAuthenticityLabelPending:"Verificando Autenticidad",checkRevokedStatusLabel:"Verificar Estado de Revocaci√≥n",checkRevokedStatusLabelPending:"Verificando Estado de Revocaci√≥n",checkExpiresDateLabel:"Verificar Fechas de Expiraci√≥n",checkExpiresDateLabelPending:"Verificando Fechas de Expiraci√≥n",controlVerificationMethodLabel:"Controlar Metodo de Verificaci√≥n",controlVerificationMethodLabelPending:"Controlando Metodo de Verificaci√≥n",retrieveVerificationMethodPublicKeyLabel:"Extraer la llave p√∫blica desde el documento DID",retrieveVerificationMethodPublicKeyLabelPending:"Extraendo la llave p√∫blica desde el documento DID",deriveIssuingAddressFromPublicKeyLabel:"Derivar la direcci√≥n del emisor desde la llave p√∫blica",deriveIssuingAddressFromPublicKeyLabelPending:"Derivando la direcci√≥n del emisor desde la llave p√∫blica",compareIssuingAddressLabel:"Comparar direcciones",compareIssuingAddressLabelPending:"Comparando direcciones",checkImagesIntegrityLabel:"Comprobar Integridad de las Imagens",checkImagesIntegrityLabelPending:"Comprobando Integridad de las Imagens"},revocation:{preReason:"Raz√≥n dada:",reason:"Este certificado ha sido revocado por el emisor"},success:{mocknet:{label:"Esta credencial de Mocknet pas√≥ todas las comprobaciones",description:"Las credenciales de Mocknet se usan solo con fines de prueba. No se graban en una cadena de bloques, y no se deben considerar Blockcerts Verificados."},blockchain:{label:"Verificado",description:"Este es un certificado v√°lido de ${chain}.",linkText:"Ver enlace de transacci√≥n"},multisign:{label:"Verificado",description:"Todas las firmas digitales de este certificado han verificado con √©xito."}},errors:{certificateNotValid:"Este no es un certificado v√°lido",couldNotConfirmTx:"No se ha podido confirmar la transacci√≥n",ensureHashesEqual:"La cadena binaria calculada no corresponde con la cadena binaria remota",ensureMerkleRootEqual:"La ra√≠z Merkle no corresponde con la cadena binaria remota",ensureNotExpired:"Este certificado ha expirado",ensureValidReceipt:"El recibo est√° malformado. Hubo un problema navegando el √°rbol Merkle en el recibo",failedJsonLdNormalization:"La normalizaci√≥n del JSON-LD ha fallado",foundUnmappedFields:"Se han encontrado campos no mapeados durante la normalizaci√≥n de JSON-LD",identityErrorBaseMessage:"Identitad del emisor inv√°lida",deriveIssuingAddressFromPublicKey:"No se puede validar la identitad decentalisada con esta cadena binaria.",controlVerificationMethod:"El documento de identitad del emisor no corresponde al metodo de verificaci√≥n.",retrieveVerificationMethodPublicKey:"El documento de identitad del emisor no hace constar al metodo de verificaci√≥n.",compareIssuingAddress:"El metodo de verificaci√≥n no corresponde a la identitad del emisor.",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Valor de cadena no reconocido",getIssuerProfile:"No se ha podido obtener el perfil del emisor",getRevokedAssertions:"No se ha podido obtener aseveraciones de revocaci√≥n",getTransactionId:"No se puede verificar este certificado sin una identificaci√≥n de transacci√≥n que sirva como comparaci√≥n",invalidMerkleReceipt:"Recibo Merkle inv√°lido. La cadena binaria de prueba no corresponde con la ra√≠z Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"No se puede verificar este certificado sin una identificaci√≥n de transacci√≥n que sirva como comparaci√≥n",issuerProfileNotSet:"URL del emisor no definido",issuerProfileInvalid:"el documento recogido no parece ser un perfil de emisor valido",parseIssuerKeys:"No se ha podido analizar el JSON de la informaci√≥n de identificaci√≥n del emisor",checkImagesIntegrity:"La verificaci√≥n de la integridad de los imagens prov√≥ alteraci√≥n del contenido despu√©s de la emisi√≥n."}},mt:{steps:{formatValidationLabel:"Validazzjoni tal-format",formatValidationLabelPending:"Il-format qed jiƒ°i vvalidat",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"Status check",statusCheckLabelPending:"Ir-record status qed jiƒ°i ƒãƒãekkjat"},subSteps:{getTransactionIdLabel:"Ikseb l-ID ta' tran≈ºazzjoni",getTransactionIdLabelPending:"L-ID ta' tran≈ºazzjoni qed tiƒ°i mni≈º≈ºla",computeLocalHashLabel:"Ikkalkula l-hash lokali",computeLocalHashLabelPending:"Il-hash lokali qed jiƒ°i kkalkulat",fetchRemoteHashLabel:"Fittex ir-remote hash",fetchRemoteHashLabelPending:"Ir-remote hash qed jiƒ°i mfittex",getIssuerProfileLabel:"Ikseb il-profil tal-emittent",getIssuerProfileLabelPending:"Il-profil tal-emittent qed jiƒ°i mni≈º≈ºel",parseIssuerKeysLabel:"Estratta ƒã-ƒãwievet tal-emittent",parseIssuerKeysLabelPending:"Iƒã-ƒãwievet tal-emittent qed jiƒ°u estratti",compareHashesLabel:"Ikkumpara l-hashes",compareHashesLabelPending:"Il-hashes qed jiƒ°u kkomparati",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Iƒãƒãekkja l-Merkle Root",checkMerkleRootLabelPending:"Il-Merkle Root Qed Tiƒ°i ƒäƒãekkjata",checkReceiptLabel:"Iƒãƒãekkja l-Irƒãevuta",checkReceiptLabelPending:"L-Irƒãevuta Qed Tiƒ°i ƒäƒãekkjata",checkAuthenticityLabel:"Iƒãƒãekkja l-Awtentiƒãit√†",checkAuthenticityLabelPending:"L-Awtentiƒãit√† Qed Tiƒ°i ƒäƒãekkjata",checkRevokedStatusLabel:"Iƒãƒãekkja l-Istatus Revokat",checkRevokedStatusLabelPending:"L-Istatus Revokat Qed Jiƒ°i ƒäƒãekkjat",checkExpiresDateLabel:"Iƒãƒãekkja d-Data ta' Skadenza",checkExpiresDateLabelPending:"Id-Data ta' Skadenza Qed Tiƒ°i ƒäƒãekkjata",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"Raƒ°uni mogƒßtija:",reason:"Dan iƒã-ƒãertifikat ƒ°ie revokat mill-emittent."},success:{mocknet:{label:"Din il-kredenzjali tal-Mocknet gƒßaddiet il-kontrolli kollha",description:"Il-kredenzjali tal-Mocknet jintu≈ºaw biss gƒßal skopijiet ta 'ttestjar. Dawn mhumiex irreƒ°istrati fuq blockchain, u ma gƒßandhomx jiƒ°u kkunsidrati bƒßala blockcerts verifikati."},blockchain:{label:"Ivverifikat",description:"Dan huwa ƒãertifikat ${chain} huwa validu.",linkText:"Ara l-link tat-transazzjoni"},multisign:{label:"Ivverifikat",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"Dan mhux ƒãertifikat validu",couldNotConfirmTx:"Ma setgƒßetx tiƒ°i kkonfermata t-tran≈ºazzjoni",ensureHashesEqual:"Il-hash ikkalkulat ma jikkorrispondix mar-remote hash",ensureMerkleRootEqual:"Merkle root ma taqbilx mar-remote hash",ensureNotExpired:"Dan iƒã-ƒãertifikat skada",ensureValidReceipt:"L-irƒãevuta hija malformata. Kien hemm problema fin-navigazzjoni tal-merkle tree fl-irƒãevuta",failedJsonLdNormalization:"In-normalizzazzjoni ta' JSON-LD ma rnexxietx",foundUnmappedFields:"Instabu unmapped fields matul in-normalizzazzjoni JSON-LD",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"L-indirizz elettroniku tal-ƒßruƒ° speƒãifikat inƒßoloq wara li seƒßƒßet it-tran≈ºazzjoni.",invalidIssuingAddressRevoked:"L-indirizz elettroniku tal-ƒßruƒ° speƒãifikat ƒ°ie revokat mill-emittent qabel ma seƒßƒßet it-tran≈ºazzjoni.",invalidIssuingAddressExpired:"L-indirizz elettroniku tal-ƒßruƒ° speƒãifikat skada qabel ma seƒßƒßet it-tran≈ºazzjoni.",invalidIssuingAddressUnknown:"L-indirizz elettroniku u≈ºat biex jinƒßarƒ°u dawn il-Blockcerts ma jappartjenix gƒßall-emittent mitlub.",getChain:"Iƒã-chain value ma ntgƒßarafx",getIssuerProfile:"Mhux possibbli jinkiseb il-profil tal-emittent",getRevokedAssertions:"Mhux possibbli jinkisbu dikjarazzjonijiet revokati",getTransactionId:"Dan iƒã-ƒãertifikat ma jistax jiƒ°i vverifikat mingƒßajr ID ta' tran≈ºazzjoni mqabbla miegƒßu",invalidMerkleReceipt:"Irƒãevuta Merkle invalida. Il-proof hash ma kienx jaqbel mal-Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Dan iƒã-ƒãertifikat ma jistax jiƒ°i vverifikat mingƒßajr ID ta' tran≈ºazzjoni mqabbla miegƒßu",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"Ma jistax jiƒ°i estratt JSON mid-data tal-identifikazzjoni tal-emittent",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}},"it-IT":{steps:{formatValidationLabel:"Convalidare formato",formatValidationLabelPending:"Convalida formato",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"Verificare stato",statusCheckLabelPending:"Verifica stato del record"},subSteps:{getTransactionIdLabel:"Ottenere ID transazione",getTransactionIdLabelPending:"Ottieni ID transazione",computeLocalHashLabel:"Calcolare hash locale",computeLocalHashLabelPending:"Calcola hash locale",fetchRemoteHashLabel:"Recuperare hash remoto",fetchRemoteHashLabelPending:"Recupera hash remoto",getIssuerProfileLabel:"Ottenere profilo issuer",getIssuerProfileLabelPending:"Ottieni profilo issuer",parseIssuerKeysLabel:"Analizzare chiavi issuer",parseIssuerKeysLabelPending:"Analizza chiavi issuer",compareHashesLabel:"Confrontare gli hash",compareHashesLabelPending:"Confronto hash",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Controllare radice di Merkle",checkMerkleRootLabelPending:"Controllo radice di Merkle",checkReceiptLabel:"Verificare ricevuta",checkReceiptLabelPending:"Verifica ricevuta",checkAuthenticityLabel:"Verificare autenticit√†",checkAuthenticityLabelPending:"Verifica autenticit√†",checkRevokedStatusLabel:"Verificare stato revocato",checkRevokedStatusLabelPending:"Verifica stato revocato",checkExpiresDateLabel:"Verificare data di scadenza",checkExpiresDateLabelPending:"Verifica data di scadenza",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"Motivo indicato:",reason:"Questo certificato √® stato revocato dall'emittente."},success:{mocknet:{label:"Questo Blockcert simulato ha superato tutti i controlli.",description:"La modalit√† Mocknet √® utilizzata solo dagli emittenti per testare il loro flusso di lavoro localmente. Questo Blockcert non √® stato registrato su una blockchain e non dovrebbe essere considerato un Blockcert verificato."},blockchain:{label:"Verificato",description:"Questo √® un certificato ${chain} valido.",linkText:"Vedi la transazione"},multisign:{label:"Verificato",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"Questo non √® un certificato valido",couldNotConfirmTx:"Impossibile confermare la transazione",ensureHashesEqual:"L'hash calcolato non corrisponde all'hash remoto",ensureMerkleRootEqual:"La radice di Merkle non corrisponde all'hash remoto.",ensureNotExpired:"Questo certificato √® scaduto.",ensureValidReceipt:"La ricevuta √® malformata. C'√® stato un problema nella navigazione dell'albero di Merkle nella ricevuta.",failedJsonLdNormalization:"Normalizzazione JSON-LD fallita",foundUnmappedFields:"Campi non mappati trovati durante la normalizzazione JSON-LD",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Il valore della catena non √® stato riconosciuto",getIssuerProfile:"Impossibile ottenere il profilo dell'emittente",getRevokedAssertions:"Impossibile ottenere le asserzioni di revoca",getTransactionId:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",invalidMerkleReceipt:"Ricevuta Merkle non valida. L'hash di prova non corrisponde alla radice di Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"Impossibile analizzare JSON dai dati di identificazione dell'emittente.",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}},ja:{steps:{formatValidationLabel:"„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÅÆÊ§úË®º",formatValidationLabelPending:"„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÇíÊ§úË®º„Åó„Å¶„ÅÑ„Åæ„Åô",signatureVerificationLabel:"Proof Verification",signatureVerificationLabelPending:"Verifying Proof",identityVerificationLabel:"Identity verification",identityVerificationLabelPending:"Verifying identity",statusCheckLabel:"„Çπ„ÉÜ„Éº„Çø„Çπ„ÅÆÁ¢∫Ë™ç",statusCheckLabelPending:"„Çπ„ÉÜ„Éº„Çø„Çπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô"},subSteps:{getTransactionIdLabel:"ÂèñÂºïID„ÅÆÂèñÂæó",getTransactionIdLabelPending:"ÂèñÂºïID„ÇíÂèñÂæó„Åó„Å¶„ÅÑ„Åæ„Åô",computeLocalHashLabel:"„É≠„Éº„Ç´„É´„Éè„ÉÉ„Ç∑„É•„ÅÆÁÆóÂá∫",computeLocalHashLabelPending:"„É≠„Éº„Ç´„É´„Éè„ÉÉ„Ç∑„É•„ÇíÁÆóÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô",fetchRemoteHashLabel:"„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„ÅÆ„Éï„Çß„ÉÉ„ÉÅ",fetchRemoteHashLabelPending:"„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„Çí„Éï„Çß„ÉÉ„ÉÅ„Åó„Å¶„ÅÑ„Åæ„Åô",getIssuerProfileLabel:"Áô∫Ë°åËÄÖ„Éó„É≠„Éï„Ç£„Éº„É´„ÅÆÂèñÂæó",getIssuerProfileLabelPending:"Áô∫Ë°åËÄÖ„Éó„É≠„Éï„Ç£„Éº„É´„ÇíÂèñÂæó„Åó„Å¶„ÅÑ„Åæ„Åô",parseIssuerKeysLabel:"Áô∫Ë°åËÄÖ„ÅÆÈçµ„ÅÆ„Éë„Éº„Çπ",parseIssuerKeysLabelPending:"Áô∫Ë°åËÄÖ„ÅÆÈçµ„Çí„Éë„Éº„Çπ„Åó„Å¶„ÅÑ„Åæ„Åô",compareHashesLabel:"„Éè„ÉÉ„Ç∑„É•„ÅÆÁÖßÂêà",compareHashesLabelPending:"„Éè„ÉÉ„Ç∑„É•„ÇíÁÖßÂêà„Åó„Å¶„ÅÑ„Åæ„Åô",checkDocumentSignatureLabel:"Check document signature",checkDocumentSignatureLabelPending:"Checking document signature",checkMerkleRootLabel:"Merkle Root„ÅÆÁ¢∫Ë™ç",checkMerkleRootLabelPending:"Merkle Root„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkReceiptLabel:"„É¨„Ç∑„Éº„Éà„ÅÆÁ¢∫Ë™ç",checkReceiptLabelPending:"„É¨„Ç∑„Éº„Éà„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkAuthenticityLabel:"ÁúüÊ≠£ÊÄß„ÅÆÁ¢∫Ë™ç",checkAuthenticityLabelPending:"ÁúüÊ≠£ÊÄß„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkRevokedStatusLabel:"ÂèñÊ∂à„Çπ„ÉÜ„Éº„Çø„Çπ„ÅÆÁ¢∫Ë™ç",checkRevokedStatusLabelPending:"ÂèñÊ∂à„Çπ„ÉÜ„Éº„Çø„Çπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkExpiresDateLabel:"ÊúâÂäπÊúüÈôê„ÅÆÁ¢∫Ë™ç",checkExpiresDateLabelPending:"ÊúâÂäπÊúüÈôê„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",controlVerificationMethodLabel:"Control Verification Method",controlVerificationMethodLabelPending:"Controlling Verification Method",retrieveVerificationMethodPublicKeyLabel:"Extract Public Key from DID Document",retrieveVerificationMethodPublicKeyLabelPending:"Extracting Public Key from DID Document",deriveIssuingAddressFromPublicKeyLabel:"Derive Issuing Address from Public Key",deriveIssuingAddressFromPublicKeyLabelPending:"Deriving Issuing Address from Public Key",compareIssuingAddressLabel:"Compare addresses",compareIssuingAddressLabelPending:"Comparing addresses",checkImagesIntegrityLabel:"Verify Images Integrity",checkImagesIntegrityLabelPending:"Verifying Images Integrity"},revocation:{preReason:"ÁêÜÁî±Ôºö",reason:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅØÁô∫Ë°åËÄÖ„Å´„Çà„Å£„Å¶Âèñ„ÇäÊ∂à„Åï„Çå„Åæ„Åó„Åü„ÄÇ"},success:{mocknet:{label:"„Åì„ÅÆMocknet„ÅÆË®ºÊòéÊõ∏„ÅØÂÖ®„Å¶„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„ÇíÈÄöÈÅé„Åó„Åæ„Åó„Åü„ÄÇ",description:"Mocknet„ÅÆË®ºÊòéÊõ∏„ÅØ„ÉÜ„Çπ„ÉàÁî®„ÅÆ„ÇÇ„ÅÆ„Åß„Åô„ÄÇ„Éñ„É≠„ÉÉ„ÇØ„ÉÅ„Çß„Éº„É≥„Å´Ë®òÈå≤„Åï„Çå„Åæ„Åõ„Çì„Åó„ÄÅË™çË®ºÊ∏à„Åø„ÅÆBlockcert„Å®„Åó„Å¶Êâ±„Çè„Çå„Åæ„Åõ„Çì„ÄÇ"},blockchain:{label:"Ë™çË®º„Åï„Çå„Åæ„Åó„Åü",description:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅØÊúâÂäπ„Å™${chain}Ë®ºÊòéÊõ∏„Åß„Åô„ÄÇ",linkText:"ÂèñÂºï„ÇíÁ¢∫Ë™ç„Åô„Çã"},multisign:{label:"Ë™çË®º„Åï„Çå„Åæ„Åó„Åü",description:"All the signatures of this certificate have successfully verified."}},errors:{certificateNotValid:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅØÊúâÂäπ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì",couldNotConfirmTx:"ÂèñÂºï„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü",ensureHashesEqual:"ÁÆóÂá∫„Åï„Çå„Åü„Éè„ÉÉ„Ç∑„É•„Åå„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„Å®‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",ensureMerkleRootEqual:"Merkle root„Åå„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„Å®‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",ensureNotExpired:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅÆÊúâÂäπÊúüÈôê„ÅåÂàá„Çå„Å¶„ÅÑ„Åæ„Åô",ensureValidReceipt:"„É¨„Ç∑„Éº„Éà„ÅåÁï∞Â∏∏„Åß„Åô„ÄÇ„É¨„Ç∑„Éº„ÉàÂÜÖ„ÅÆMerkle tree„ÇíËæø„ÇãÈöõ„Å´ÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ",failedJsonLdNormalization:"JSON-LD„ÅÆÊ≠£Ë¶èÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü",foundUnmappedFields:"JSON-LD„ÅÆÊ≠£Ë¶èÂåñÊôÇ„Å´„Éû„ÉÉ„Éó„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„Éï„Ç£„Éº„É´„Éâ„ÇíÊ§úÂá∫„Åó„Åæ„Åó„Åü",identityErrorBaseMessage:"Issuer identity mismatch",deriveIssuingAddressFromPublicKey:"Unsupported blockchain for DID verification",controlVerificationMethod:"The identity document provided by the issuer does not match the verification method",retrieveVerificationMethodPublicKey:"The identity document provided by the issuer does not reference the verification method",compareIssuingAddress:"The provided verification method does not match the issuer identity",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"„ÉÅ„Çß„Éº„É≥„ÅÆÂÄ§„ÇíË™çË≠ò„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü",getIssuerProfile:"Áô∫Ë°åËÄÖ„Éó„É≠„Éï„Ç£„Éº„É´„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì",getRevokedAssertions:"ÂèñÊ∂àassertions„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì",getTransactionId:"ÁÖßÂêà„ÅÆ„Åü„ÇÅ„ÅÆÂèñÂºïID„Åå„Å™„ÅÑ„Åü„ÇÅ„ÄÅ„Åì„ÅÆË®ºÊòéÊõ∏„ÇíË™çË®º„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",invalidMerkleReceipt:"Merkle„É¨„Ç∑„Éº„Éà„ÅåÁÑ°Âäπ„Åß„Åô„ÄÇË®ºÊòé„Éè„ÉÉ„Ç∑„É•„ÅåMerkle root„Å®‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"ÁÖßÂêà„Åô„Çã„Åü„ÇÅ„ÅÆÂèñÂºïID„Åå„Å™„ÅÑ„Åü„ÇÅ„ÄÅ„Åì„ÅÆË®ºÊòéÊõ∏„ÇíË™çË®º„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",parseIssuerKeys:"Áô∫Ë°åËÄÖË≠òÂà•„Éá„Éº„Çø„Åã„ÇâJSON„Çí„Éë„Éº„Çπ„Åß„Åç„Åæ„Åõ„Çì",checkImagesIntegrity:"Image integrity verification proved that the content was modified after issuance."}}};function rc(e,t){return e&&t?tc[ec.locale]?tc[ec.locale][e]?tc[ec.locale][e][t]?tc[ec.locale][e][t]||"":"[missing locale item data]":"[missing locale group data]":"[missing locale data]":""}var nc=Object.freeze({__proto__:null,detectLocale:function(){return navigator.language||Ya.locale},ensureIsSupported:function(e){let t;const r=pd.i18n.getSupportedLanguages().map((e=>e.toLowerCase()));if(t=r.includes(e.toLowerCase()),!t){const n=e.substr(0,2).toLowerCase(),i=r.map((e=>e.split("-")[0])).indexOf(n);t=i>-1,t&&(e=r[i])}return t||(e=Ya.locale),function(e){const t=e.split("-");return t.length>1?`${t[0].toLowerCase()}-${t[1].toUpperCase()}`:t[0].toLowerCase()}(e)},getText:rc,getSupportedLanguages:function(){return Object.keys(tc)}});function ic(e=""){return Za.isMainnet(e)?Ha.bitcoin:Ha.testnet}function oc(e){const t=Object.keys(Ha).map((e=>Ha[e])).find((t=>t.signatureValue===e));if(void 0===t)throw new Error(rc("errors","getChain"));return t}class sc{publicKey;created;revoked;expires;constructor(e,t,r,n){this.publicKey=e,this.created=t,this.revoked=r,this.expires=n}}class ac{image;jobTitle;name;constructor(e,t,r){this.image=e,this.jobTitle=t,this.name=r}}class cc extends Error{stepCode;constructor(e,t){super(t),this.stepCode=e}}const uc=tc[ec.locale];var lc,Ac;function hc(){return{[lc.formatValidation]:{code:lc.formatValidation,label:uc.steps.formatValidationLabel,labelPending:uc.steps.formatValidationLabelPending,subSteps:[]},[lc.proofVerification]:{code:lc.proofVerification,label:uc.steps.signatureVerificationLabel,labelPending:uc.steps.signatureVerificationLabelPending,subSteps:[]},[lc.identityVerification]:{code:lc.identityVerification,label:uc.steps.identityVerificationLabel,labelPending:uc.steps.identityVerificationLabelPending,subSteps:[]},[lc.statusCheck]:{code:lc.statusCheck,label:uc.steps.statusCheckLabel,labelPending:uc.steps.statusCheckLabelPending,subSteps:[]}}}function fc(e,t){const r=e.findIndex((e=>e===t));r>-1&&e.splice(r,1)}!function(e){e.formatValidation="formatValidation",e.proofVerification="proofVerification",e.identityVerification="identityVerification",e.statusCheck="statusCheck",e.final="final"}(lc||(lc={})),function(e){e.checkImagesIntegrity="checkImagesIntegrity",e.checkRevokedStatus="checkRevokedStatus",e.checkExpiresDate="checkExpiresDate",e.controlVerificationMethod="controlVerificationMethod"}(Ac||(Ac={})),Object.freeze({__proto__:null,final:"final",get VerificationSteps(){return lc},get SUB_STEPS(){return Ac},default:hc});const dc={[lc.formatValidation]:[Ac.checkImagesIntegrity],[lc.proofVerification]:[],[lc.identityVerification]:[Ac.controlVerificationMethod],[lc.statusCheck]:[Ac.checkRevokedStatus,Ac.checkExpiresDate]};function pc(e,t){return dc[e].filter((e=>t.includes(e))).map((t=>pd.verifier.convertToVerificationSubsteps(e,t)))}function gc(e){const t=hc();return Object.keys(t).map((r=>({...t[r],subSteps:pc(r,e)})))}var mc,yc,vc=Object.freeze({__proto__:null,getChain:function(e,t){const r=t||null;if(r?.anchors){const e=r.anchors[0];if(e.chain)return oc(e.chain);if("string"==typeof e)return function(e){const t={btc:{chainName:Ha.bitcoin.name},eth:{chainName:Ha.ethmain.name}},r=e.split(":"),n=r.findIndex((e=>Object.keys(t).includes(e)));if(n>-1){const e=r[n],i=r[n+1],o=t[e].chainName.toLowerCase()+function(e){const t=e.substr(0,1),r=e.substr(1,e.length-1);return t.toUpperCase()+r.toLowerCase()}(i);return oc(o)}return ic()}(e)}return ic(e)},generateRevocationReason:function(e){return e=(e=e.trim()).length>0?` ${rc("revocation","preReason")} ${e}${"."!==e.slice(-1)?".":""}`:"",`${rc("revocation","reason")}${e}`},getTransactionId:function(e={}){try{const{anchors:t}=e,r=t[0];if(r.sourceId)return r.sourceId;if("string"==typeof r)return r.split(":").pop()}catch(e){throw new cc("",rc("errors","getTransactionId"))}},getTransactionLink:function(e,t){return e&&t?{rawTransactionLink:t.transactionTemplates.raw.replace("{transaction_id}",e),transactionLink:t.transactionTemplates.full.replace("{transaction_id}",e)}:null},getVerificationMap:function(e=!1){const t=function(e){const t=Object.values(Ac);return e||fc(t,Ac.controlVerificationMethod),t}(e);return{verificationProcess:t,verificationMap:gc(t)}}}),bc=Object.freeze({__proto__:null,isMockChain:function(e){if(e){const t="string"==typeof e?e:e.code;return!!Object.keys(Ha).some((e=>e===t))&&!!Ha[t].test}return!1}});!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(mc||(mc={})),function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(yc||(yc={}));const wc={[yc.Bitcoin]:{code:yc.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}},[yc.Ethmain]:{code:yc.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}},[yc.Ethropst]:{code:yc.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}},[yc.Ethrinkeby]:{code:yc.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}},[yc.Mocknet]:{code:yc.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}},[yc.Regtest]:{code:yc.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}},[yc.Testnet]:{code:yc.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}};function xc(e){return e!==wc.bitcoin.code&&e!==wc.ethmain.code}function _c(e,t,r=[]){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if((e=Array.from(e)).length<t)throw new Error("Could not retrieve tx data");const n=e.map(((e,t)=>e.then((()=>t)).catch((e=>{throw t}))));return Promise.race(n).then((n=>(e.splice(n,1)[0].then((e=>r.push(e))),1===t?r:_c(e,t-1,r)))).catch((n=>(e.splice(n,1),_c(e,t,r))))}))}function Bc({explorerAPI:e,transactionIdPlaceholder:t="{transaction_id}",transactionId:r="",isTestApi:n=!1}){const{serviceURL:i}=e;let o="string"==typeof i?i:n?i.test:i.main;return o=o.replace(t,r),o=function(e,t){if(!t.key)return e;if(t.key&&!t.keyPropertyName)throw new Error(`No keyPropertyName defined for explorerAPI ${t.serviceName}`);return function(e,t,r){const n=e.includes("?")?"&":"?";return`${e}${n}${t}=${r}`}(e,t.keyPropertyName,t.key)}(o,e),o}function Ec(){throw new Error("setTimeout has not been defined")}function Sc(){throw new Error("clearTimeout has not been defined")}var Cc=Ec,Ic=Sc;function kc(e){if(Cc===setTimeout)return setTimeout(e,0);if((Cc===Ec||!Cc)&&setTimeout)return Cc=setTimeout,setTimeout(e,0);try{return Cc(e,0)}catch(t){try{return Cc.call(null,e,0)}catch(t){return Cc.call(this,e,0)}}}"function"==typeof Di.setTimeout&&(Cc=setTimeout),"function"==typeof Di.clearTimeout&&(Ic=clearTimeout);var Pc,Tc=[],Oc=!1,Lc=-1;function Nc(){Oc&&Pc&&(Oc=!1,Pc.length?Tc=Pc.concat(Tc):Lc=-1,Tc.length&&Uc())}function Uc(){if(!Oc){var e=kc(Nc);Oc=!0;for(var t=Tc.length;t;){for(Pc=Tc,Tc=[];++Lc<t;)Pc&&Pc[Lc].run();Lc=-1,t=Tc.length}Pc=null,Oc=!1,function(e){if(Ic===clearTimeout)return clearTimeout(e);if((Ic===Sc||!Ic)&&clearTimeout)return Ic=clearTimeout,clearTimeout(e);try{Ic(e)}catch(t){try{return Ic.call(null,e)}catch(t){return Ic.call(this,e)}}}(e)}}function Fc(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Tc.push(new Mc(e,t)),1!==Tc.length||Oc||kc(Uc)}function Mc(e,t){this.fun=e,this.array=t}function Rc(){}Mc.prototype.run=function(){this.fun.apply(null,this.array)};var Dc=Rc,jc=Rc,Qc=Rc,Hc=Rc,Kc=Rc,Vc=Rc,zc=Rc,qc=Di.performance||{},Gc=qc.now||qc.mozNow||qc.msNow||qc.oNow||qc.webkitNow||function(){return(new Date).getTime()},Wc=new Date,$c={nextTick:Fc,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Dc,addListener:jc,once:Qc,off:Hc,removeListener:Kc,removeAllListeners:Vc,emit:zc,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*Gc.call(qc),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Wc)/1e3}},Jc=/[^\x20-\x7E]/,Xc=/[\x2E\u3002\uFF0E\uFF61]/g,Yc={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Zc=Math.floor,eu=String.fromCharCode;
/*! https://mths.be/punycode v1.4.1 by @mathias */function tu(e){throw new RangeError(Yc[e])}function ru(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function nu(e,t,r){var n=0;for(e=r?Zc(e/700):e>>1,e+=Zc(e/t);e>455;n+=36)e=Zc(e/35);return Zc(n+36*e/(e+38))}function iu(e){return function(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}((e=e.replace(Xc,".")).split("."),(function(e){return Jc.test(e)?"xn--"+function(e){var t,r,n,i,o,s,a,c,u,l,A,h,f,d,p,g=[];for(e=function(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}(e),h=e.length,t=128,r=0,o=72,s=0;s<h;++s)(A=e[s])<128&&g.push(eu(A));for(n=i=g.length,i&&g.push("-");n<h;){for(a=2147483647,s=0;s<h;++s)(A=e[s])>=t&&A<a&&(a=A);for(a-t>Zc((2147483647-r)/(f=n+1))&&tu("overflow"),r+=(a-t)*f,t=a,s=0;s<h;++s)if((A=e[s])<t&&++r>2147483647&&tu("overflow"),A==t){for(c=r,u=36;!(c<(l=u<=o?1:u>=o+26?26:u-o));u+=36)p=c-l,d=36-l,g.push(eu(ru(l+p%d,0))),c=Zc(p/d);g.push(eu(ru(c,0))),o=nu(r,f,n==i),r=0,++n}++r,++t}return g.join("")}(e):e})).join(".");return n+i}(e)}var ou="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},su=/%[sdj%]/g;function au(e){if(!_u(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(hu(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(su,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])bu(s)||!Cu(s)?o+=" "+s:o+=" "+hu(s);return o}function cu(e,t){if(Eu(Di.process))return function(){return cu(e,t).apply(this,arguments)};if(!0===$c.noDeprecation)return e;var r=!1;return function(){if(!r){if($c.throwDeprecation)throw new Error(t);$c.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}}var uu,lu={};function Au(e){return Eu(uu)&&(uu=$c.env.NODE_DEBUG||""),e=e.toUpperCase(),lu[e]||(new RegExp("\\b"+e+"\\b","i").test(uu)?lu[e]=function(){var t=au.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:lu[e]=function(){}),lu[e]}function hu(e,t){var r={seen:[],stylize:du};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),vu(t)?r.showHidden=t:t&&Ru(r,t),Eu(r.showHidden)&&(r.showHidden=!1),Eu(r.depth)&&(r.depth=2),Eu(r.colors)&&(r.colors=!1),Eu(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=fu),pu(r,e,r.depth)}function fu(e,t){var r=hu.styles[t];return r?"["+hu.colors[r][0]+"m"+e+"["+hu.colors[r][1]+"m":e}function du(e,t){return e}function pu(e,t,r){if(e.customInspect&&t&&Pu(t.inspect)&&t.inspect!==hu&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return _u(n)||(n=pu(e,n,r)),n}var i=function(e,t){if(Eu(t))return e.stylize("undefined","undefined");if(_u(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return xu(t)?e.stylize(""+t,"number"):vu(t)?e.stylize(""+t,"boolean"):bu(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),ku(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return gu(t);if(0===o.length){if(Pu(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Su(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Iu(t))return e.stylize(Date.prototype.toString.call(t),"date");if(ku(t))return gu(t)}var c,u="",l=!1,A=["{","}"];return yu(t)&&(l=!0,A=["[","]"]),Pu(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),Su(t)&&(u=" "+RegExp.prototype.toString.call(t)),Iu(t)&&(u=" "+Date.prototype.toUTCString.call(t)),ku(t)&&(u=" "+gu(t)),0!==o.length||l&&0!=t.length?r<0?Su(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=l?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)Du(t,String(s))?o.push(mu(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(mu(e,t,r,n,i,!0))})),o}(e,t,r,s,o):o.map((function(n){return mu(e,t,r,s,n,l)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(c,u,A)):A[0]+u+A[1]}function gu(e){return"["+Error.prototype.toString.call(e)+"]"}function mu(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),Du(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=bu(r)?pu(e,c.value,null):pu(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),Eu(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function yu(e){return Array.isArray(e)}function vu(e){return"boolean"==typeof e}function bu(e){return null===e}function wu(e){return null==e}function xu(e){return"number"==typeof e}function _u(e){return"string"==typeof e}function Bu(e){return"symbol"==typeof e}function Eu(e){return void 0===e}function Su(e){return Cu(e)&&"[object RegExp]"===Lu(e)}function Cu(e){return"object"==typeof e&&null!==e}function Iu(e){return Cu(e)&&"[object Date]"===Lu(e)}function ku(e){return Cu(e)&&("[object Error]"===Lu(e)||e instanceof Error)}function Pu(e){return"function"==typeof e}function Tu(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Ou(e){return Mo(e)}function Lu(e){return Object.prototype.toString.call(e)}function Nu(e){return e<10?"0"+e.toString(10):e.toString(10)}hu.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},hu.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Uu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Fu(){var e=new Date,t=[Nu(e.getHours()),Nu(e.getMinutes()),Nu(e.getSeconds())].join(":");return[e.getDate(),Uu[e.getMonth()],t].join(" ")}function Mu(){console.log("%s - %s",Fu(),au.apply(null,arguments))}function Ru(e,t){if(!t||!Cu(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Du(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ju={inherits:ou,_extend:Ru,log:Mu,isBuffer:Ou,isPrimitive:Tu,isFunction:Pu,isError:ku,isDate:Iu,isObject:Cu,isRegExp:Su,isUndefined:Eu,isSymbol:Bu,isString:_u,isNumber:xu,isNullOrUndefined:wu,isNull:bu,isBoolean:vu,isArray:yu,inspect:hu,deprecate:cu,format:au,debuglog:Au},Qu=Object.freeze({__proto__:null,format:au,deprecate:cu,debuglog:Au,inspect:hu,isArray:yu,isBoolean:vu,isNull:bu,isNullOrUndefined:wu,isNumber:xu,isString:_u,isSymbol:Bu,isUndefined:Eu,isRegExp:Su,isObject:Cu,isDate:Iu,isError:ku,isFunction:Pu,isPrimitive:Tu,isBuffer:Ou,log:Mu,inherits:ou,_extend:Ru,default:ju});function Hu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ku=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Vu(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function zu(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var qu=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function Gu(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var u,l,A,h,f=e[c].replace(o,"%20"),d=f.indexOf(r);d>=0?(u=f.substr(0,d),l=f.substr(d+1)):(u=f,l=""),A=decodeURIComponent(u),h=decodeURIComponent(l),Hu(i,A)?Ku(i[A])?i[A].push(h):i[A]=[i[A],h]:i[A]=h}return i}var Wu={parse:cl,resolve:hl,resolveObject:fl,format:ll,Url:$u};function $u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ju=/^([a-z0-9.+-]+:)/i,Xu=/:[0-9]*$/,Yu=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Zu=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),el=["'"].concat(Zu),tl=["%","/","?",";","#"].concat(el),rl=["/","?","#"],nl=/^[+a-z0-9A-Z_-]{0,63}$/,il=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ol={javascript:!0,"javascript:":!0},sl={javascript:!0,"javascript:":!0},al={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function cl(e,t,r){if(e&&Cu(e)&&e instanceof $u)return e;var n=new $u;return n.parse(e,t,r),n}function ul(e,t,r,n){if(!_u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",s=t.split(o);s[0]=s[0].replace(/\\/g,"/");var a=t=s.join(o);if(a=a.trim(),!n&&1===t.split("#").length){var c=Yu.exec(a);if(c)return e.path=a,e.href=a,e.pathname=c[1],c[2]?(e.search=c[2],e.query=r?Gu(e.search.substr(1)):e.search.substr(1)):r&&(e.search="",e.query={}),e}var u,l,A,h,f=Ju.exec(a);if(f){var d=(f=f[0]).toLowerCase();e.protocol=d,a=a.substr(f.length)}if(n||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===a.substr(0,2);!p||f&&sl[f]||(a=a.substr(2),e.slashes=!0)}if(!sl[f]&&(p||f&&!al[f])){var g,m,y=-1;for(u=0;u<rl.length;u++)-1!==(l=a.indexOf(rl[u]))&&(-1===y||l<y)&&(y=l);for(-1!==(m=-1===y?a.lastIndexOf("@"):a.lastIndexOf("@",y))&&(g=a.slice(0,m),a=a.slice(m+1),e.auth=decodeURIComponent(g)),y=-1,u=0;u<tl.length;u++)-1!==(l=a.indexOf(tl[u]))&&(-1===y||l<y)&&(y=l);-1===y&&(y=a.length),e.host=a.slice(0,y),a=a.slice(y),dl(e),e.hostname=e.hostname||"";var v="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!v){var b=e.hostname.split(/\./);for(u=0,A=b.length;u<A;u++){var w=b[u];if(w&&!w.match(nl)){for(var x="",_=0,B=w.length;_<B;_++)w.charCodeAt(_)>127?x+="x":x+=w[_];if(!x.match(nl)){var E=b.slice(0,u),S=b.slice(u+1),C=w.match(il);C&&(E.push(C[1]),S.unshift(C[2])),S.length&&(a="/"+S.join(".")+a),e.hostname=E.join(".");break}}}}e.hostname.length>255?e.hostname="":e.hostname=e.hostname.toLowerCase(),v||(e.hostname=iu(e.hostname)),h=e.port?":"+e.port:"";var I=e.hostname||"";e.host=I+h,e.href+=e.host,v&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!ol[d])for(u=0,A=el.length;u<A;u++){var k=el[u];if(-1!==a.indexOf(k)){var P=encodeURIComponent(k);P===k&&(P=escape(k)),a=a.split(k).join(P)}}var T=a.indexOf("#");-1!==T&&(e.hash=a.substr(T),a=a.slice(0,T));var O=a.indexOf("?");if(-1!==O?(e.search=a.substr(O),e.query=a.substr(O+1),r&&(e.query=Gu(e.query)),a=a.slice(0,O)):r&&(e.search="",e.query={}),a&&(e.pathname=a),al[d]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){h=e.pathname||"";var L=e.search||"";e.path=h+L}return e.href=Al(e),e}function ll(e){return _u(e)&&(e=ul({},e)),Al(e)}function Al(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",i=e.hash||"",o=!1,s="";e.host?o=t+e.host:e.hostname&&(o=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(o+=":"+e.port)),e.query&&Cu(e.query)&&Object.keys(e.query).length&&(s=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?zu(qu(e),(function(n){var i=encodeURIComponent(Vu(n))+r;return Ku(e[n])?zu(e[n],(function(e){return i+encodeURIComponent(Vu(e))})).join(t):i+encodeURIComponent(Vu(e[n]))})).join(t):""}(e.query));var a=e.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||al[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),r+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i}function hl(e,t){return cl(e,!1,!0).resolve(t)}function fl(e,t){return e?cl(e,!1,!0).resolveObject(t):t}function dl(e){var t=e.host,r=Xu.exec(t);r&&(":"!==(r=r[0])&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}$u.prototype.parse=function(e,t,r){return ul(this,e,t,r)},$u.prototype.format=function(){return Al(this)},$u.prototype.resolve=function(e){return this.resolveObject(cl(e,!1,!0)).format()},$u.prototype.resolveObject=function(e){if(_u(e)){var t=new $u;t.parse(e,!1,!0),e=t}for(var r,n=new $u,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(n[u]=e[u])}return al[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!al[e.protocol]){for(var l=Object.keys(e),A=0;A<l.length;A++){var h=l[A];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||sl[e.protocol])n.pathname=e.pathname;else{for(r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",d=n.search||"";n.path=f+d}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var p,g=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=m||g||n.host&&e.pathname,v=y,b=n.pathname&&n.pathname.split("/")||[],w=n.protocol&&!al[n.protocol];if(r=e.pathname&&e.pathname.split("/")||[],w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),y=y&&(""===r[0]||""===b[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=r;else if(r.length)b||(b=[]),b.pop(),b=b.concat(r),n.search=e.search,n.query=e.query;else if(!wu(e.search))return w&&(n.hostname=n.host=b.shift(),(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),n.search=e.search,n.query=e.query,bu(n.pathname)&&bu(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=b.slice(-1)[0],_=(n.host||e.host||b.length>1)&&("."===x||".."===x)||""===x,B=0,E=b.length;E>=0;E--)"."===(x=b[E])?b.splice(E,1):".."===x?(b.splice(E,1),B++):B&&(b.splice(E,1),B--);if(!y&&!v)for(;B--;B)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),_&&"/"!==b.join("/").substr(-1)&&b.push("");var S=""===b[0]||b[0]&&"/"===b[0].charAt(0);return w&&(n.hostname=n.host=S?"":b.length?b.shift():"",(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),(y=y||n.host&&b.length)&&!S&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),bu(n.pathname)&&bu(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},$u.prototype.parseHost=function(){return dl(this)};var pl,gl,ml=Mi(Object.freeze({__proto__:null,parse:cl,resolve:hl,resolveObject:fl,format:ll,default:Wu,Url:$u})),yl=Mi(Object.freeze({__proto__:null,default:{}})),vl=Il(Di.fetch)&&Il(Di.ReadableStream);function bl(e){gl||(gl=new Di.XMLHttpRequest).open("GET",Di.location.host?"/":"https://example.com");try{return gl.responseType=e,gl.responseType===e}catch(e){return!1}}var wl=void 0!==Di.ArrayBuffer,xl=wl&&Il(Di.ArrayBuffer.prototype.slice),_l=wl&&bl("arraybuffer"),Bl=!vl&&xl&&bl("ms-stream"),El=!vl&&wl&&bl("moz-chunked-arraybuffer"),Sl=Il(gl.overrideMimeType),Cl=Il(Di.VBArray);function Il(e){return"function"==typeof e}function kl(){}function Pl(){Pl.init.call(this)}function Tl(e){return void 0===e._maxListeners?Pl.defaultMaxListeners:e._maxListeners}function Ol(e,t,r){if(t)e.call(r);else for(var n=e.length,i=jl(e,n),o=0;o<n;++o)i[o].call(r)}function Ll(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=jl(e,i),s=0;s<i;++s)o[s].call(r,n)}function Nl(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=jl(e,o),a=0;a<o;++a)s[a].call(r,n,i)}function Ul(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,a=jl(e,s),c=0;c<s;++c)a[c].call(r,n,i,o)}function Fl(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=jl(e,i),s=0;s<i;++s)o[s].apply(r,n)}function Ml(e,t,r,n){var i,o,s,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]):(o=e._events=new kl,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=Tl(e))&&i>0&&s.length>i){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[t]=r,++e._eventsCount;return e}function Rl(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function Dl(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function jl(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}gl=null,kl.prototype=Object.create(null),Pl.EventEmitter=Pl,Pl.usingDomains=!1,Pl.prototype.domain=void 0,Pl.prototype._events=void 0,Pl.prototype._maxListeners=void 0,Pl.defaultMaxListeners=10,Pl.init=function(){this.domain=null,Pl.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new kl,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Pl.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},Pl.prototype.getMaxListeners=function(){return Tl(this)},Pl.prototype.emit=function(e){var t,r,n,i,o,s,a,c="error"===e;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(t=arguments[1],!a){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:Ol(r,l,this);break;case 2:Ll(r,l,this,arguments[1]);break;case 3:Nl(r,l,this,arguments[1],arguments[2]);break;case 4:Ul(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];Fl(r,l,this,i)}return!0},Pl.prototype.addListener=function(e,t){return Ml(this,e,t,!1)},Pl.prototype.on=Pl.prototype.addListener,Pl.prototype.prependListener=function(e,t){return Ml(this,e,t,!0)},Pl.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,Rl(this,e,t)),this},Pl.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,Rl(this,e,t)),this},Pl.prototype.removeListener=function(e,t){var r,n,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new kl:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new kl,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,s||t)}return this},Pl.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new kl,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new kl:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new kl,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},Pl.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},Pl.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Dl.call(e,t)},Pl.prototype.listenerCount=Dl,Pl.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var Ql=Object.freeze({__proto__:null,default:Pl,EventEmitter:Pl});function Hl(){this.head=null,this.tail=null,this.length=0}Hl.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},Hl.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},Hl.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},Hl.prototype.clear=function(){this.head=this.tail=null,this.length=0},Hl.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},Hl.prototype.concat=function(e){if(0===this.length)return eo.alloc(0);if(1===this.length)return this.head.data;for(var t=eo.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Kl=eo.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Vl(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Kl(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=ql;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Gl;break;default:return void(this.write=zl)}this.charBuffer=new eo(6),this.charReceived=0,this.charLength=0}function zl(e){return e.toString(this.encoding)}function ql(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Gl(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}Vl.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(n=t.charCodeAt(i))>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},Vl.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},Vl.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var Wl=Object.freeze({__proto__:null,StringDecoder:Vl});Xl.ReadableState=Jl;var $l=Au("stream");function Jl(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof BA&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Hl,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Vl(e.encoding),this.encoding=e.encoding)}function Xl(e){if(!(this instanceof Xl))return new Xl(e);this._readableState=new Jl(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),Pl.call(this)}function Yl(e,t,r,n,i){var o=function(e,t){var r=null;return Mo(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(t,r);if(o)e.emit("error",o);else if(null===r)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,eA(e)}}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;!t.decoder||i||n||(r=t.decoder.write(r),c=!t.objectMode&&0===r.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&eA(e))),function(e,t){t.readingMore||(t.readingMore=!0,Fc(rA,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}function Zl(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function eA(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||($l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Fc(tA,e):tA(e))}function tA(e){$l("emit readable"),e.emit("readable"),oA(e)}function rA(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&($l("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function nA(e){$l("readable nexttick read 0"),e.read(0)}function iA(e,t){t.reading||($l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),oA(e),t.flowing&&!t.reading&&e.read(0)}function oA(e){var t=e._readableState;for($l("flow",t.flowing);t.flowing&&null!==e.read(););}function sA(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=eo.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0==(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function aA(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Fc(cA,t,e))}function cA(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function uA(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function lA(){}function AA(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function hA(e,t){Object.defineProperty(this,"buffer",{get:cu((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof BA&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?Fc(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var o=mA(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||gA(e,r),n?Fc(pA,e,r,o,i):pA(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new bA(this)}function fA(e){if(!(this instanceof fA||this instanceof BA))return new fA(e);this._writableState=new hA(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),Pl.call(this)}function dA(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function pA(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),vA(e,t)}function gA(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;dA(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new bA(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(dA(e,t,!1,t.objectMode?1:a.length,a,c,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function mA(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function yA(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function vA(e,t){var r=mA(t);return r&&(0===t.pendingcb?(yA(e,t),t.finished=!0,e.emit("finish")):yA(e,t)),r}function bA(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}ou(Xl,Pl),Xl.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=eo.from(e,t),t=""),Yl(this,r,e,t,!1)},Xl.prototype.unshift=function(e){return Yl(this,this._readableState,e,"",!0)},Xl.prototype.isPaused=function(){return!1===this._readableState.flowing},Xl.prototype.setEncoding=function(e){return this._readableState.decoder=new Vl(e),this._readableState.encoding=e,this},Xl.prototype.read=function(e){$l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return $l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?aA(this):eA(this),null;if(0===(e=Zl(e,t))&&t.ended)return 0===t.length&&aA(this),null;var n,i=t.needReadable;return $l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&$l("length less than watermark",i=!0),t.ended||t.reading?$l("reading or ended",i=!1):i&&($l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Zl(r,t))),null===(n=e>0?sA(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&aA(this)),null!==n&&this.emit("data",n),n},Xl.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Xl.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,$l("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end?u:s;function o(e){$l("onunpipe"),e===r&&u()}function s(){$l("onend"),e.end()}n.endEmitted?Fc(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;$l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,oA(e))}}(r);e.on("drain",a);var c=!1;function u(){$l("cleanup"),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("drain",a),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),r.removeListener("data",A),c=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}var l=!1;function A(t){$l("ondata"),l=!1,!1!==e.write(t)||l||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==uA(n.pipes,e))&&!c&&($l("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function h(t){$l("onerror",t),p(),e.removeListener("error",h),0===function(e,t){return e.listeners("error").length}(e)&&e.emit("error",t)}function f(){e.removeListener("finish",d),p()}function d(){$l("onfinish"),e.removeListener("close",f),p()}function p(){$l("unpipe"),r.unpipe(e)}return r.on("data",A),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",d),e.emit("pipe",r),n.flowing||($l("pipe resume"),r.resume()),e},Xl.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=uA(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},Xl.prototype.on=function(e,t){var r=Pl.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&eA(this):Fc(nA,this))}return r},Xl.prototype.addListener=Xl.prototype.on,Xl.prototype.resume=function(){var e=this._readableState;return e.flowing||($l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Fc(iA,e,t))}(this,e)),this},Xl.prototype.pause=function(){return $l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&($l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Xl.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if($l("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){$l("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r])}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){$l("wrapped _read",t),r&&(r=!1,e.resume())},n},Xl._fromList=sA,fA.WritableState=hA,ou(fA,Pl),hA.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},fA.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},fA.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),eo.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=lA),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),Fc(t,r)}(this,r):function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):eo.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),Fc(n,o),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=eo.from(t,r)),t}(t,r,n),eo.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new AA(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else dA(e,t,!1,o,r,n,i);return s}(this,n,e,t,r)),i},fA.prototype.cork=function(){this._writableState.corked++},fA.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||gA(this,e))},fA.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},fA.prototype._write=function(e,t,r){r(new Error("not implemented"))},fA.prototype._writev=null,fA.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,vA(e,t),r&&(t.finished?Fc(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},ou(BA,Xl);for(var wA=Object.keys(fA.prototype),xA=0;xA<wA.length;xA++){var _A=wA[xA];BA.prototype[_A]||(BA.prototype[_A]=fA.prototype[_A])}function BA(e){if(!(this instanceof BA))return new BA(e);Xl.call(this,e),fA.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",EA)}function EA(){this.allowHalfOpen||this._writableState.ended||Fc(SA,this)}function SA(e){e.end()}function CA(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function IA(e){if(!(this instanceof IA))return new IA(e);BA.call(this,e),this._transformState=new CA(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){kA(t,e)})):kA(t)}))}function kA(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function PA(e){if(!(this instanceof PA))return new PA(e);IA.call(this,e)}function TA(){Pl.call(this)}ou(IA,BA),IA.prototype.push=function(e,t){return this._transformState.needTransform=!1,BA.prototype.push.call(this,e,t)},IA.prototype._transform=function(e,t,r){throw new Error("Not implemented")},IA.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},IA.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},ou(PA,IA),PA.prototype._transform=function(e,t,r){r(null,e)},ou(TA,Pl),TA.Readable=Xl,TA.Writable=fA,TA.Duplex=BA,TA.Transform=IA,TA.PassThrough=PA,TA.Stream=TA,TA.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===Pl.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var OA=Object.freeze({__proto__:null,default:TA,Readable:Xl,Writable:fA,Duplex:BA,Transform:IA,PassThrough:PA,Stream:TA});function LA(e,t,r){var n,i=this;if(Xl.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",(function(){Fc((function(){i.emit("close")}))})),"fetch"===r){i._fetchResponse=t,i.url=t.url,i.statusCode=t.status,i.statusMessage=t.statusText;for(var o,s,a=t.headers[Symbol.iterator]();o=(s=a.next()).value,!s.done;)i.headers[o[0].toLowerCase()]=o[1],i.rawHeaders.push(o[0],o[1]);var c=t.body.getReader();(n=function(){c.read().then((function(e){i._destroyed||(e.done?i.push(null):(i.push(new eo(e.value)),n()))}))})()}else if(i._xhr=e,i._pos=0,i.url=e.responseURL,i.statusCode=e.status,i.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===i.headers[r]&&(i.headers[r]=[]),i.headers[r].push(t[2])):void 0!==i.headers[r]?i.headers[r]+=", "+t[2]:i.headers[r]=t[2],i.rawHeaders.push(t[1],t[2])}})),i._charset="x-user-defined",!Sl){var u=i.rawHeaders["mime-type"];if(u){var l=u.match(/;\s*charset=([^;])(;|$)/);l&&(i._charset=l[1].toLowerCase())}i._charset||(i._charset="utf-8")}}function NA(e){var t,r=this;fA.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new eo(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!Sl;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return vl&&t?"fetch":El?"moz-chunked-arraybuffer":Bl?"ms-stream":_l&&e?"arraybuffer":Cl&&e?"text:vbarray":"text"}(t,n),r.on("finish",(function(){r._onFinish()}))}ou(LA,Xl),LA.prototype._read=function(){},LA.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(4!==t.readyState)break;try{r=new Di.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new eo(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if("x-user-defined"===e._charset){for(var i=new eo(n.length),o=0;o<n.length;o++)i[o]=255&n.charCodeAt(o);e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(4!==t.readyState||!t.response)break;r=t.response,e.push(new eo(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,3!==t.readyState||!r)break;e.push(new eo(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,3!==t.readyState)break;var s=new Di.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(new eo(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(r)}4===e._xhr.readyState&&"ms-stream"!==e._mode&&e.push(null)},ou(NA,fA);var UA=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];function FA(e,t){"string"==typeof e&&(e=cl(e));var r=-1===Di.location.protocol.search(/^https?:$/)?"http:":"",n=e.protocol||r,i=e.hostname||e.host,o=e.port,s=e.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(o?":"+o:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new NA(e);return t&&a.on("response",t),a}function MA(e,t){var r=FA(e,t);return r.end(),r}function RA(){}NA.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===UA.indexOf(r)&&(this._headers[r]={name:e,value:t})},NA.prototype.getHeader=function(e){return this._headers[e.toLowerCase()].value},NA.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},NA.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,n=e._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(t=function(){if(void 0!==pl)return pl;try{new Di.Blob([new ArrayBuffer(1)]),pl=!0}catch(e){pl=!1}return pl}()?new Di.Blob(e._body.map((function(e){return function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(Mo(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}(e)})),{type:(n["content-type"]||{}).value||""}):eo.concat(e._body).toString()),"fetch"===e._mode){var i=Object.keys(n).map((function(e){return[n[e].name,n[e].value]}));Di.fetch(e._opts.url,{method:e._opts.method,headers:i,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){e.emit("error",t)}))}else{var o=e._xhr=new Di.XMLHttpRequest;try{o.open(e._opts.method,e._opts.url,!0)}catch(t){return void Fc((function(){e.emit("error",t)}))}"responseType"in o&&(o.responseType=e._mode.split(":")[0]),"withCredentials"in o&&(o.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(n).forEach((function(e){o.setRequestHeader(n[e].name,n[e].value)})),e._response=null,o.onreadystatechange=function(){switch(o.readyState){case 3:case 4:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(o.onprogress=function(){e._onXHRProgress()}),o.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{o.send(t)}catch(t){return void Fc((function(){e.emit("error",t)}))}}}},NA.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},NA.prototype._connect=function(){var e=this;e._destroyed||(e._response=new LA(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},NA.prototype._write=function(e,t,r){this._body.push(e),r()},NA.prototype.abort=NA.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},NA.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),fA.prototype.end.call(this,e,t,r)},NA.prototype.flushHeaders=function(){},NA.prototype.setTimeout=function(){},NA.prototype.setNoDelay=function(){},NA.prototype.setSocketKeepAlive=function(){},RA.defaultMaxSockets=4;var DA=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],jA={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},QA={request:FA,get:MA,Agent:RA,METHODS:DA,STATUS_CODES:jA},HA=Mi(Object.freeze({__proto__:null,request:FA,get:MA,Agent:RA,METHODS:DA,STATUS_CODES:jA,default:QA})),KA=ml,VA=yl.spawn,zA=yl,qA=function(){var e,t,r=this,n=HA,i=HA,o={},s=!1,a={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},c={},u={},l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],A=["TRACE","TRACK","CONNECT"],h=!1,f=!1,d={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1,this.open=function(e,t,r,n,i){if(this.abort(),f=!1,!function(e){return e&&-1===A.indexOf(e)}(e))throw new Error("SecurityError: Request method not allowed");o={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},p(this.OPENED)},this.setDisableHeaderCheck=function(e){s=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(function(e){return s||e&&-1===l.indexOf(e.toLowerCase())}(e)){if(h)throw new Error("INVALID_STATE_ERR: send flag is true");e=u[e.toLowerCase()]||e,u[e.toLowerCase()]=e,c[e]=c[e]?c[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&t&&t.headers&&t.headers[e.toLowerCase()]&&!f?t.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||f)return"";var e="";for(var r in t.headers)"set-cookie"!==r&&"set-cookie2"!==r&&(e+=r+": "+t.headers[r]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&u[e.toLowerCase()]?c[u[e.toLowerCase()]]:""},this.send=function(s){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(h)throw new Error("INVALID_STATE_ERR: send has already been called");var l,A=!1,d=!1,g=KA.parse(o.url);switch(g.protocol){case"https:":A=!0;case"http:":l=g.hostname;break;case"file:":d=!0;break;case void 0:case null:case"":l="localhost";break;default:throw new Error("Protocol not supported.")}if(d){if("GET"!==o.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(o.async)zA.readFile(g.pathname,"utf8",(function(e,t){e?r.handleError(e):(r.status=200,r.responseText=t,p(r.DONE))}));else try{this.responseText=zA.readFileSync(g.pathname,"utf8"),this.status=200,p(r.DONE)}catch(e){this.handleError(e)}}else{var m=g.port||(A?443:80),y=g.pathname+(g.search?g.search:"");for(var v in a)u[v.toLowerCase()]||(c[v]=a[v]);if(c.Host=l,A&&443===m||80===m||(c.Host+=":"+g.port),o.user){void 0===o.password&&(o.password="");var b=new eo(o.user+":"+o.password);c.Authorization="Basic "+b.toString("base64")}"GET"===o.method||"HEAD"===o.method?s=null:s?(c["Content-Length"]=Mo(s)?s.length:eo.byteLength(s),c["Content-Type"]||(c["Content-Type"]="text/plain;charset=UTF-8")):"POST"===o.method&&(c["Content-Length"]=0);var w={host:l,port:m,path:y,method:o.method,headers:c,agent:!1,withCredentials:r.withCredentials};if(f=!1,o.async){var x=A?i.request:n.request;h=!0,r.dispatchEvent("readystatechange");var _=function(e){r.handleError(e)};e=x(w,(function n(i){if(301!==(t=i).statusCode&&302!==t.statusCode&&303!==t.statusCode&&307!==t.statusCode)t.setEncoding("utf8"),p(r.HEADERS_RECEIVED),r.status=t.statusCode,t.on("data",(function(e){e&&(r.responseText+=e),h&&p(r.LOADING)})),t.on("end",(function(){h&&(p(r.DONE),h=!1)})),t.on("error",(function(e){r.handleError(e)}));else{o.url=t.headers.location;var s=KA.parse(o.url);l=s.hostname;var a={hostname:s.hostname,port:s.port,path:s.path,method:303===t.statusCode?"GET":o.method,headers:c,withCredentials:r.withCredentials};(e=x(a,n).on("error",_)).end()}})).on("error",_),s&&e.write(s),e.end(),r.dispatchEvent("loadstart")}else{var B=".node-xmlhttprequest-content-"+$c.pid,E=".node-xmlhttprequest-sync-"+$c.pid;zA.writeFileSync(E,"","utf8");for(var S="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(A?"s":"")+".request;var options = "+JSON.stringify(w)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+B+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+E+"');});response.on('error', function(error) {fs.writeFileSync('"+B+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+E+"');});}).on('error', function(error) {fs.writeFileSync('"+B+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+E+"');});"+(s?"req.write('"+JSON.stringify(s).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",C=VA($c.argv[0],["-e",S]);zA.existsSync(E););var I=JSON.parse(zA.readFileSync(B,"utf8"));C.stdin.end(),zA.unlinkSync(B),I.err?r.handleError(I.err):(t=I.data,r.status=I.data.statusCode,r.responseText=I.data.text,p(r.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,f=!0,p(this.DONE),this.dispatchEvent("error")},this.abort=function(){e&&(e.abort(),e=null),c=a,this.status=0,this.responseText="",this.responseXML="",f=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!h||this.readyState===this.DONE||(h=!1,p(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in d||(d[e]=[]),d[e].push(t)},this.removeEventListener=function(e,t){e in d&&(d[e]=d[e].filter((function(e){return e!==t})))},this.dispatchEvent=function(e){if("function"==typeof r["on"+e]&&r["on"+e](),e in d)for(var t=0,n=d[e].length;t<n;t++)d[e][t].call(r)};var p=function(e){e!=r.LOADING&&r.readyState===e||(r.readyState=e,(o.async||r.readyState<r.OPENED||r.readyState===r.DONE)&&r.dispatchEvent("readystatechange"),r.readyState!==r.DONE||f||(r.dispatchEvent("load"),r.dispatchEvent("loadend")))}};function GA(e){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return yield new Promise(((t,r)=>{let{url:n}=e;n||r(new Error("URL is missing")),"http://"!==n.substr(0,7)||e.forceHttp||(console.warn(`Upgrading requested url ${n} to https protocol.`),n=n.replace("http://","https://"));const i=new("undefined"==typeof XMLHttpRequest?qA:XMLHttpRequest);e["bearer-token"]&&i.setRequestHeader("Authorization",`Bearer ${e["bearer-token"]}`),i.onload=()=>{if(i.status>=200&&i.status<300)t(i.responseText);else{console.log(i.responseText);const e=`Error fetching url:${n}; status code:${i.status}`;r(new Error(e))}},i.ontimeout=e=>{console.log("ontimeout",e)},i.onreadystatechange=()=>{404===i.status&&r(new Error(`Error fetching url:${n}; status code:${i.status}`))},i.onerror=()=>{console.error(`Request failed with error ${i.responseText}`),r(new Error(i.responseText))},i.open(e.method||"GET",n),e.body?i.send(JSON.stringify(e.body)):i.send()}))}))}function WA(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}function $A(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(WA(e,n))return e.slice(n.length)}return e}var JA=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const XA="https://api.etherscan.io/api?module=proxy",YA="https://api-ropsten.etherscan.io/api?module=proxy",ZA={serviceURL:{main:`${XA}&action=eth_getTransactionByHash&txhash={transaction_id}`,test:`${YA}&action=eth_getTransactionByHash&txhash={transaction_id}`},serviceName:mc.etherscan,parsingFunction:function({jsonResponse:e,chain:t,key:r,keyPropertyName:n}){return JA(this,void 0,void 0,(function*(){const i={serviceURL:{main:`${XA}&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}`,test:`${YA}&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}`}},o={serviceURL:{main:`${XA}&action=eth_blockNumber`,test:`${YA}&action=eth_blockNumber`}},s=yield function(e,t){return JA(this,void 0,void 0,(function*(){const s=e.result.blockNumber,a=Bc({explorerAPI:Object.assign(Object.assign({},i),{key:r,keyPropertyName:n}),transactionId:s,isTestApi:xc(t)});try{const e=yield GA({url:a}),i=JSON.parse(e).result;return yield function(e,t){return JA(this,void 0,void 0,(function*(){const i=Bc({explorerAPI:Object.assign(Object.assign({},o),{key:r,keyPropertyName:n}),isTestApi:xc(e)});let s;try{s=yield GA({url:i})}catch(e){throw new Error("Unable to get remote hash")}const a=JSON.parse(s).result;if(a-t<1)throw new Error("Not enough");return a}))}(t,s),i}catch(e){throw new Error("Unable to get remote hash")}}))}(e,t);return function(e,t){const r=e.result,n=new Date(1e3*parseInt(t.timestamp,16)),i=r.from;return{remoteHash:$A(r.input,wc.ethmain.prefixes),issuingAddress:i,time:n,revokedAddresses:[]}}(e,s)}))},priority:-1};function eh(e){return""===e?"":function(e){const t=Date.parse(e);if(t)return new Date(t);const r=function(e){let t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));const r=e.slice(-5);let n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t.getTime()}(e);return r||function(e){let t,r;const n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,t=new Date(Date.UTC.apply(Date,t)),t.getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}(`${e}`)}function th(e){return new Date(1e3*e)}const rh={serviceURL:{main:"https://api.blockcypher.com/v1/eth/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/beth/test/txs/{transaction_id}?limit=500"},serviceName:mc.blockcypher,parsingFunction:function({jsonResponse:e}){if(e.confirmations<1)throw new Error("Not enough");const t=eh(e.received),r=e.outputs,n=r[r.length-1];let i=e.inputs[0].addresses[0];const o=$A(n.script,wc.ethmain.prefixes);i=function(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(!WA(e,n))return`${n}${e}`}return e}(i,wc.ethmain.prefixes);const s=r.filter((e=>!!e.spent_by)).map((e=>e.addresses[0]));return{remoteHash:o,issuingAddress:i,time:t,revokedAddresses:s}},priority:-1},nh={serviceURL:{main:"https://blockstream.info/api/tx/{transaction_id}",test:"https://blockstream.info/testnet/api/tx/{transaction_id}"},serviceName:mc.blockstream,parsingFunction:function({jsonResponse:e}){if(!e.status.confirmed)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockstream API");const t=th(e.status.block_time),r=e.vout,n=r[r.length-1],i=e.vin[0].prevout.scriptpubkey_address,o=$A(n.scriptpubkey,wc.bitcoin.prefixes),s=r.filter((e=>!!e.scriptpubkey_address)).map((e=>e.scriptpubkey_address));return{remoteHash:o,issuingAddress:i,time:t,revokedAddresses:s}},priority:-1},ih={serviceURL:{main:"https://api.blockcypher.com/v1/btc/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/btc/test3/txs/{transaction_id}?limit=500"},serviceName:mc.blockcypher,parsingFunction:function({jsonResponse:e}){if(e.confirmations<1)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockcypher API");const t=eh(e.received),r=e.outputs,n=r[r.length-1],i=e.inputs[0].addresses[0],o=$A(n.script,wc.bitcoin.prefixes),s=r.filter((e=>!!e.spent_by)).map((e=>e.addresses[0]));return{remoteHash:o,issuingAddress:i,time:t,revokedAddresses:s}},priority:-1};var oh=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function sh(e){return e.map((e=>({getTxData:(t,r)=>oh(this,void 0,void 0,(function*(){return yield function(e,t,r){return oh(this,void 0,void 0,(function*(){const n=Bc({explorerAPI:e,transactionId:t,isTestApi:xc(r)});try{const t=yield GA({url:n});return yield e.parsingFunction(Object.assign({jsonResponse:JSON.parse(t),chain:r},e))}catch(e){throw new Error("Unable to get remote hash")}}))}(e,t,r)})),priority:e.priority})))}const ah=[ih,nh],ch=[ZA,rh];function uh({serviceUrl:e,transactionId:t}){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const r={method:"eth_getTransactionByHash",jsonrpc:"2.0",id:"getbyhash",params:["0x"+t]},n=yield GA({url:e,body:r,method:"POST"}),i=JSON.parse(n),o={method:"eth_getBlockByNumber",jsonrpc:"2.0",id:"blockbynumber",params:[i.result.blockNumber,!0]},s=yield GA({url:e,body:o,method:"POST"}),a=JSON.parse(s),c=i.result,u=a.result,l=new Date(1e3*parseInt(u.timestamp,16)),A=c.from;return{remoteHash:$A(c.input,["0x"]),issuingAddress:A,time:l,revokedAddresses:[]}}))}function lh({serviceUrl:e,transactionId:t}){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const r={method:"getrawtransaction",jsonrpc:"2.0",id:"rpctest",params:[t,!0]},n=yield GA({url:e,body:r,method:"POST"}),i=JSON.parse(n).result,o=i.vout[0].scriptPubKey.addresses[0],s=$A(i.vout[1].scriptPubKey.asm,["6a20","OP_RETURN "]),a=th(i.blocktime),c=i.vout.filter((e=>!!e.scriptPubKey.addresses)).map((e=>e.scriptPubKey.addresses)).flat();return{issuingAddress:o,remoteHash:s,time:a,revokedAddresses:c}}))}const Ah=[];function hh(e=[],t=[],r=!1){const n=e.map((e=>e.serviceName)).filter((e=>!!e)).filter((e=>!!mc[e]));return n.length?t.reduce(((t,i)=>{if(n.includes(i.serviceName)){const r=Object.assign({},i),n=e.find((e=>e.serviceName===i.serviceName));if(function(e){if(e.key&&!e.keyPropertyName)throw new Error(`Property keyPropertyName is not set for ${e.serviceName}. Cannot pass the key property to the service.`);return!0}(n)){const i=Object.assign(r,n);t.push(i);const o=e.findIndex((e=>e.serviceName===i.serviceName));Ah.includes(o)||Ah.push(o)}}else t.push(i);return r&&function(e,t){t.forEach((t=>e.splice(t,1)))}(e,Ah),t}),[]):t}function fh(e){return e.map((e=>(e.parsingFunction||(e.parsingFunction="btc"===e.chainType?lh:uh),e))).map((e=>({getTxData:t=>function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return yield e.parsingFunction(Object.assign(Object.assign({},e),{transactionId:t}))})),priority:e.priority})))}var dh=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function ph(e,t){var r;switch(e){case wc[yc.Bitcoin].code:case wc[yc.Regtest].code:case wc[yc.Testnet].code:case wc[yc.Mocknet].code:return t.bitcoin;case wc[yc.Ethmain].code:case wc[yc.Ethropst].code:case wc[yc.Ethrinkeby].code:return t.ethereum;default:if(!(null===(r=t.custom)||void 0===r?void 0:r.length))throw new Error("Chain is not natively supported. Use custom explorers to retrieve tx data.");return t.custom}}function gh(e,t,r,n){return dh(this,void 0,void 0,(function*(){try{const i=function(e,t,r){if(1>e.length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");const n=[],i=e.length;for(let o=0;o<i;o++)n.push(e[o].getTxData(t,r));return n}(e[t],r,n);return yield function(e){return dh(this,void 0,void 0,(function*(){let t;try{t=yield _c(e,1)}catch(e){throw new Error(`Transaction lookup error: ${e.message}`)}if(!t||0===t.length)throw new Error("Could not confirm transaction data.");const r=t[0];for(let e=1;e<t.length;e++){const n=t[e];if(r.issuingAddress!==n.issuingAddress)throw new Error("Issuing addresses do not match consistently");if(r.remoteHash!==n.remoteHash)throw new Error("Remote hashes do not match consistently")}return r}))}(i)}catch(i){if(t<e.length-1)return t++,yield gh(e,t,r,n);throw i}}))}const mh={value:"https://dev.uniresolver.io/1.0/identifiers",set url(e){this.value=e},get url(){return this.value}};function yh(e){return e.startsWith("did:",0)}function vh(e){return e.startsWith("did:key:",0)}const bh={},wh="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";
/*!
   * Copyright (c) 2019-2022 Digital Bazaar, Inc. All rights reserved.
   */function xh(e,t){return function(e,t,r){if(!(e instanceof Uint8Array))throw new TypeError('"input" must be a Uint8Array.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');if(0===e.length)return"";let n="",i=0;const o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){let t=e[i];for(let e=0;e<a.length;++e)t+=a[e]<<8,a[e]=t%o,t=t/o|0;for(;t>0;)a.push(t%o),t=t/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=t[a[i]];if(r){const e=new RegExp(".{1,"+r+"}","g");n=n.match(e).join("\r\n")}return n}(e,wh,t)}function _h(e){return function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(0===e.length)return new Uint8Array;let r=bh[t];if(!r){r=bh[t]=[];for(let e=0;e<t.length;++e)r[t.charCodeAt(e)]=e}e=e.replace(/\s/g,"");const n=t.length,i=t.charAt(0),o=[0];for(let t=0;t<e.length;t++){const i=r[e.charCodeAt(t)];if(void 0===i)return;let s=i;for(let e=0;e<o.length;++e)s+=o[e]*n,o[e]=255&s,s>>=8;for(;s>0;)o.push(255&s),s>>=8}for(let t=0;e[t]===i&&t<e.length-1;++t)o.push(0);return new Uint8Array(o.reverse())}(e,wh)}
/*!
   * Copyright (c) 2018-2022 Digital Bazaar, Inc. All rights reserved.
   */const Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Eh=[62,-1,-1,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,63,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Sh(e){if(!(e instanceof Uint8Array||"string"==typeof e))throw new TypeError('"input" be a string or Uint8Array.');"string"==typeof e&&(e=(new TextEncoder).encode(e));let t,r,n,i="",o=0;for(;o<e.byteLength;)t=e[o++],r=e[o++],n=e[o++],i+=Bh.charAt(t>>2),i+=Bh.charAt((3&t)<<4|r>>4),isNaN(r)||(i+=Bh.charAt((15&r)<<2|n>>6),isNaN(n)||(i+=Bh.charAt(63&n)));return i}var Ch={},Ih=Object.freeze({__proto__:null,default:Ch});
/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const kh=BigInt(0),Ph=BigInt(1),Th=BigInt(2),Oh=BigInt(255),Lh=Th**BigInt(252)+BigInt("27742317777372353535851937790883648493"),Nh={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:Th**Oh-BigInt(19),l:Lh,n:Lh,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")},Uh=Th**BigInt(256),Fh=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class Mh{constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.t=n}static fromAffine(e){if(!(e instanceof Qh))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Qh.ZERO)?Mh.ZERO:new Mh(e.x,e.y,Ph,$h(e.x*e.y))}static toAffineBatch(e){const t=function(e,t=Nh.P){const r=new Array(e.length),n=Jh(e.reduce(((e,n,i)=>n===kh?e:(r[i]=e,$h(e*n,t))),Ph),t);return e.reduceRight(((e,n,i)=>n===kh?e:(r[i]=$h(e*r[i],t),$h(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){Rh(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=$h(t*s),c=$h(i*n),u=$h(r*s),l=$h(o*n);return a===c&&u===l}negate(){return new Mh($h(-this.x),this.y,this.z,$h(-this.t))}double(){const{x:e,y:t,z:r}=this,{a:n}=Nh,i=$h(e**Th),o=$h(t**Th),s=$h(Th*$h(r**Th)),a=$h(n*i),c=$h($h((e+t)**Th)-i-o),u=a+o,l=u-s,A=a-o,h=$h(c*l),f=$h(u*A),d=$h(c*A),p=$h(l*u);return new Mh(h,f,p,d)}add(e){Rh(e);const{x:t,y:r,z:n,t:i}=this,{x:o,y:s,z:a,t:c}=e,u=$h((r-t)*(s+o)),l=$h((r+t)*(s-o)),A=$h(l-u);if(A===kh)return this.double();const h=$h(n*Th*c),f=$h(i*Th*a),d=f+h,p=l+u,g=f-h,m=$h(d*A),y=$h(p*g),v=$h(d*g),b=$h(A*p);return new Mh(m,y,b,v)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(Mh.BASE)&&(t=Qh.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&jh.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=Mh.normalizeZ(n),jh.set(t,n)));let i=Mh.ZERO,o=Mh.ZERO;const s=1+256/r,a=2**(r-1),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let t=0;t<s;t++){const r=t*a;let s=Number(e&c);if(e>>=l,s>a&&(s-=u,e+=Ph),0===s){let e=n[r];t%2&&(e=e.negate()),o=o.add(e)}else{let e=n[r+Math.abs(s)-1];s<0&&(e=e.negate()),i=i.add(e)}}return Mh.normalizeZ([i,o])[0]}multiply(e,t){return this.wNAF(ef(e,Nh.l),t)}multiplyUnsafe(e){let t=ef(e,Nh.l,!1);const r=Mh.BASE,n=Mh.ZERO;if(t===kh)return n;if(this.equals(n)||t===Ph)return this;if(this.equals(r))return this.wNAF(t);let i=n,o=this;for(;t>kh;)t&Ph&&(i=i.add(o)),o=o.double(),t>>=Ph;return i}isSmallOrder(){return this.multiplyUnsafe(Nh.h).equals(Mh.ZERO)}isTorsionFree(){return this.multiplyUnsafe(Nh.l).equals(Mh.ZERO)}toAffine(e=Jh(this.z)){const{x:t,y:r,z:n}=this,i=$h(t*e),o=$h(r*e);if($h(n*e)!==Ph)throw new Error("invZ was invalid");return new Qh(i,o)}fromRistrettoBytes(){Dh()}toRistrettoBytes(){Dh()}fromRistrettoHash(){Dh()}}function Rh(e){if(!(e instanceof Mh))throw new TypeError("ExtendedPoint expected")}function Dh(){throw new Error("Legacy method: switch to RistrettoPoint")}Mh.BASE=new Mh(Nh.Gx,Nh.Gy,Ph,$h(Nh.Gx*Nh.Gy)),Mh.ZERO=new Mh(kh,Ph,Ph,kh);const jh=new WeakMap;class Qh{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,jh.delete(this)}static fromHex(e,t=!0){const{d:r,P:n}=Nh,i=(e=Zh(e,32)).slice();i[31]=-129&e[31];const o=Wh(i);if(t&&o>=n)throw new Error("Expected 0 < hex < P");if(!t&&o>=Uh)throw new Error("Expected 0 < hex < 2**256");const s=$h(o*o),a=$h(s-Ph),c=$h(r*s+Ph);let{isValid:u,value:l}=function(e,t){const r=$h(t*t*t),n=function(e){const{P:t}=Nh,r=BigInt(5),n=BigInt(10),i=BigInt(20),o=BigInt(40),s=BigInt(80),a=e*e%t*e%t,c=Xh(a,Th)*a%t,u=Xh(c,Ph)*e%t,l=Xh(u,r)*u%t,A=Xh(l,n)*l%t,h=Xh(A,i)*A%t,f=Xh(h,o)*h%t,d=Xh(f,s)*f%t,p=Xh(d,s)*f%t,g=Xh(p,n)*l%t;return{pow_p_5_8:Xh(g,Th)*e%t,b2:a}}(e*$h(r*r*t)).pow_p_5_8;let i=$h(e*r*n);const o=$h(t*i*i),s=i,a=$h(i*Fh),c=o===e,u=o===$h(-e),l=o===$h(-e*Fh);return c&&(i=s),(u||l)&&(i=a),($h(i)&Ph)===Ph&&(i=$h(-i)),{isValid:c||u,value:i}}(a,c);if(!u)throw new Error("Point.fromHex: invalid y coordinate");const A=(l&Ph)===Ph;return 0!=(128&e[31])!==A&&(l=$h(-l)),new Qh(l,o)}static async fromPrivateKey(e){return(await tf(e)).point}toRawBytes(){const e=Gh(this.y);return e[31]|=this.x&Ph?128:0,e}toHex(){return Vh(this.toRawBytes())}toX25519(){const{y:e}=this;return Gh($h((Ph+e)*Jh(Ph-e)))}isTorsionFree(){return Mh.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Qh($h(-this.x),this.y)}add(e){return Mh.fromAffine(this).add(Mh.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Mh.fromAffine(this).multiply(e,this).toAffine()}}Qh.BASE=new Qh(Nh.Gx,Nh.Gy),Qh.ZERO=new Qh(kh,Ph);class Hh{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=Zh(e,64),r=Qh.fromHex(t.slice(0,32),!1),n=Wh(t.slice(32,64));return new Hh(r,n)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof Qh))throw new Error("Expected Point instance");return ef(t,Nh.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Gh(this.s),32),e}toHex(){return Vh(this.toRawBytes())}}const Kh=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Vh(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Kh[e[r]];return t}function zh(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function qh(e){return zh(e.toString(16).padStart(64,"0"))}function Gh(e){return qh(e).reverse()}function Wh(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Vh(Uint8Array.from(e).reverse()))}function $h(e,t=Nh.P){const r=e%t;return r>=kh?r:t+r}function Jh(e,t=Nh.P){if(e===kh||t<=kh)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=$h(e,t),n=t,i=kh,o=Ph;for(;r!==kh;){const e=n%r,t=i-o*(n/r);n=r,r=e,i=o,o=t}if(n!==Ph)throw new Error("invert: does not exist");return $h(i,t)}function Xh(e,t){const{P:r}=Nh;let n=e;for(;t-- >kh;)n*=n,n%=r;return n}async function Yh(...e){const t=await nf.sha512(function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}(...e));return $h(Wh(t),Nh.l)}function Zh(e,t){const r=e instanceof Uint8Array?Uint8Array.from(e):zh(e);if("number"==typeof t&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function ef(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t)if(r){if(kh<e)return e}else if(kh<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}async function tf(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?qh(ef(e,Uh)):Zh(e)).length)throw new Error("Expected 32 bytes");const t=await nf.sha512(e),r=((n=t.slice(0,32))[0]&=248,n[31]&=127,n[31]|=64,n);var n;const i=t.slice(32,64),o=$h(Wh(r),Nh.l),s=Qh.BASE.multiply(o),a=s.toRawBytes();return{head:r,prefix:i,scalar:o,point:s,pointBytes:a}}Qh.BASE._setWindowSize(8);const rf={node:Ch,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},nf={TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],bytesToHex:Vh,getExtendedPublicKey:tf,mod:$h,invert:Jh,hashToPrivateScalar:e=>{if((e=Zh(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=$h(Wh(e),Nh.l);if(t===kh||t===Ph)throw new Error("Invalid private key");return t},randomBytes:(e=32)=>{if(rf.web)return rf.web.getRandomValues(new Uint8Array(e));if(rf.node){const{randomBytes:t}=rf.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>nf.randomBytes(32),sha512:async e=>{if(rf.web){const t=await rf.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(rf.node)return Uint8Array.from(rf.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(e=8,t=Qh.BASE){const r=t.equals(Qh.BASE)?t:new Qh(t.x,t.y);return r._setWindowSize(e),r.multiply(Th),r}},of=self.crypto;if(!of.getRandomValues)throw new Error('Browser does not provide "crypto.getRandomValues".');var sf={async generateKeyPair(){const e=new Uint8Array(32);of.getRandomValues(e);const t=await af(e);return e.fill(0),t},generateKeyPairFromSeed:af,sign:async(e,t)=>async function(e,t){e=Zh(e);const{prefix:r,scalar:n,pointBytes:i}=await tf(t),o=await Yh(r,e),s=Qh.BASE.multiply(o),a=$h(o+await Yh(s.toRawBytes(),i,e)*n,Nh.l);return new Hh(s,a).toRawBytes()}(t,e.slice(0,32)),verify:async(e,t,r)=>async function(e,t,r){t=Zh(t),r instanceof Qh||(r=Qh.fromHex(r,!1));const{r:n,s:i}=e instanceof Hh?e.assertValidity():Hh.fromHex(e),o=Mh.BASE.multiplyUnsafe(i),s=await Yh(n.toRawBytes(),r.toRawBytes(),t),a=Mh.fromAffine(r).multiplyUnsafe(s);return Mh.fromAffine(n).add(a).subtract(o).multiplyUnsafe(Nh.h).equals(Mh.ZERO)}(r,t,e),sha256digest:async({data:e})=>of.subtle.digest("SHA-256",e)};async function af(e){const t=await async function(e){return(await tf(e)).pointBytes}(e),r=new Uint8Array(64);return r.set(e),r.set(t,e.length),{publicKey:t,secretKey:r}}
/*!
   * Copyright (c) 2018-2022 Digital Bazaar, Inc. All rights reserved.
   */class cf{constructor({id:e,controller:t,revoked:r}={}){this.id=e,this.controller=t,this.revoked=r}static async generate(){throw new Error("Abstract method, must be implemented in subclass.")}static async fromKeyDocument({document:e,checkContext:t=!0,checkRevoked:r=!0}={}){if(!e)throw new TypeError('The "document" parameter is required.');if(t&&![].concat(e["@context"]).includes(this.SUITE_CONTEXT))throw new Error('Key document does not contain required context "'+this.SUITE_CONTEXT+'".');if(r&&e.revoked)throw new Error(`Key has been revoked since: "${e.revoked}".`);return this.from(e)}static async from(){throw new Error("Abstract method from() must be implemented in subclass.")}export({publicKey:e=!1,privateKey:t=!1}={}){if(!e&&!t)throw new Error('Export requires specifying either "publicKey" or "privateKey".');const r={id:this.id,type:this.type,controller:this.controller};return this.revoked&&(r.revoked=this.revoked),r}fingerprint(){throw new Error("Abstract method, must be implemented in subclass.")}verifyFingerprint(){throw new Error("Abstract method, must be implemented in subclass.")}signer(){return{async sign({}){throw new Error("Abstract method, must be implemented in subclass.")}}}verifier(){return{async verify({}){throw new Error("Abstract method, must be implemented in subclass.")}}}}cf.SUITE_CONTEXT="INVALID LDKeyPair CONTEXT";
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
const uf=new Uint8Array([237,1]),lf=new Uint8Array([128,38]);class Af extends cf{constructor(e={}){super(e),this.type="Ed25519VerificationKey2020";const{publicKeyMultibase:t,privateKeyMultibase:r}=e;if(!t)throw new TypeError('The "publicKeyMultibase" property is required.');if(!t||!hf(t,uf))throw new Error(`"publicKeyMultibase" has invalid header bytes: "${t}".`);if(r&&!hf(r,lf))throw new Error('"privateKeyMultibase" has invalid header bytes.');this.publicKeyMultibase=t,this.privateKeyMultibase=r,this.controller&&!this.id&&(this.id=`${this.controller}#${this.fingerprint()}`)}static async from(e){return"Ed25519VerificationKey2018"===e.type?Af.fromEd25519VerificationKey2018(e):"JsonWebKey2020"===e.type?Af.fromJsonWebKey2020(e):new Af(e)}static fromEd25519VerificationKey2018({keyPair:e}={}){const t=ff(uf,_h(e.publicKeyBase58)),r=new Af({id:e.id,controller:e.controller,publicKeyMultibase:t});return e.privateKeyBase58&&(r.privateKeyMultibase=ff(lf,_h(e.privateKeyBase58))),r}static fromJsonWebKey2020({id:e,type:t,controller:r,publicKeyJwk:n}={}){if("JsonWebKey2020"!==t)throw new TypeError(`Invalid key type: "${t}".`);if(!n)throw new TypeError('"publicKeyJwk" property is required.');const{kty:i,crv:o}=n;if("OKP"!==i)throw new TypeError('"kty" is required to be "OKP".');if("Ed25519"!==o)throw new TypeError('"crv" is required to be "Ed25519".');const{x:s}=n,a=ff(uf,function(e){let t=e.length;const r=t%4;if(1===r)throw new Error("Illegal base64 string.");let n=0;r>0&&(n=4-r,t+=n);const i=new Uint8Array(t/4*3-n);let o,s,a,c,u=0,l=0;for(;u<t;)o=Eh[e.charCodeAt(u++)-45],s=Eh[e.charCodeAt(u++)-45],i[l++]=o<<2|s>>4,u<e.length&&(a=Eh[e.charCodeAt(u++)-45],i[l++]=(15&s)<<4|a>>2,u<e.length&&(c=Eh[e.charCodeAt(u++)-45],i[l++]=(3&a)<<6|c));return i}(s));return Af.from({id:e,controller:r,publicKeyMultibase:a})}static async generate({seed:e,...t}={}){let r;r=e?await sf.generateKeyPairFromSeed(e):await sf.generateKeyPair();const n=ff(uf,r.publicKey),i=ff(lf,r.secretKey);return new Af({publicKeyMultibase:n,privateKeyMultibase:i,...t})}static fromFingerprint({fingerprint:e}={}){return new Af({publicKeyMultibase:e})}get _publicKeyBuffer(){if(this.publicKeyMultibase)return _h(this.publicKeyMultibase.substr(1)).slice(uf.length)}get _privateKeyBuffer(){if(this.privateKeyMultibase)return _h(this.privateKeyMultibase.substr(1)).slice(lf.length)}fingerprint(){return this.publicKeyMultibase}export({publicKey:e=!1,privateKey:t=!1,includeContext:r=!1}={}){if(!e&&!t)throw new TypeError('Export requires specifying either "publicKey" or "privateKey".');const n={id:this.id,type:this.type};return r&&(n["@context"]=Af.SUITE_CONTEXT),this.controller&&(n.controller=this.controller),e&&(n.publicKeyMultibase=this.publicKeyMultibase),t&&(n.privateKeyMultibase=this.privateKeyMultibase),this.revoked&&(n.revoked=this.revoked),n}toJwk({publicKey:e=!0,privateKey:t=!1}={}){if(!e&&!t)throw TypeError('Either a "publicKey" or a "privateKey" is required.');const r={crv:"Ed25519",kty:"OKP"};return e&&(r.x=Sh(this._publicKeyBuffer)),t&&(r.d=Sh(this._privateKeyBuffer)),r}async jwkThumbprint(){const e=`{"crv":"Ed25519","kty":"OKP","x":"${Sh(this._publicKeyBuffer)}"}`,t=(new TextEncoder).encode(e);return Sh(new Uint8Array(await sf.sha256digest({data:t})))}async toJsonWebKey2020(){return{"@context":"https://w3id.org/security/jws/v1",id:this.controller+"#"+await this.jwkThumbprint(),type:"JsonWebKey2020",controller:this.controller,publicKeyJwk:this.toJwk({publicKey:!0})}}verifyFingerprint({fingerprint:e}={}){if("string"!=typeof e||"z"!==e[0])return{error:new Error('"fingerprint" must be a multibase encoded string.'),valid:!1};let t;try{if(t=_h(e.substr(1)),!t)throw new TypeError("Invalid encoding of fingerprint.")}catch(e){return{error:e,valid:!1}}const r=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(this._publicKeyBuffer,t.slice(2)),n=t[0]===uf[0]&&t[1]===uf[1]&&r;return n?{valid:n}:{error:new Error("The fingerprint does not match the public key."),valid:!1}}signer(){const e=this._privateKeyBuffer;return{async sign({data:t}){if(!e)throw new Error("A private key is not available for signing.");return sf.sign(e,t)},id:this.id}}verifier(){const e=this._publicKeyBuffer;return{async verify({data:t,signature:r}){if(!e)throw new Error("A public key is not available for verifying.");return sf.verify(e,t,r)},id:this.id}}}function hf(e,t){if("string"!=typeof e||"z"!==e[0])return!1;const r=_h(e.slice(1));return t.every(((e,t)=>r[t]===e))}function ff(e,t){const r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),"z"+xh(r)}Af.suite="Ed25519VerificationKey2020",Af.SUITE_CONTEXT="https://w3id.org/security/suites/ed25519-2020/v1";var df={exports:{}},pf={exports:{}},gf=Mi(Ih);!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),s=t([1]),a=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function d(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function p(e,t,r,n){return d(e,t,r,n,16)}function g(e,t,r,n){return d(e,t,r,n,32)}function m(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,A=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,x=s,_=a,B=c,E=u,S=l,C=A,I=h,k=f,P=d,T=p,O=g,L=m,N=y,U=v,F=b,M=0;M<20;M+=2)w^=(i=(L^=(i=(k^=(i=(E^=(i=w+L|0)<<7|i>>>25)+w|0)<<9|i>>>23)+E|0)<<13|i>>>19)+k|0)<<18|i>>>14,S^=(i=(x^=(i=(N^=(i=(P^=(i=S+x|0)<<7|i>>>25)+S|0)<<9|i>>>23)+P|0)<<13|i>>>19)+N|0)<<18|i>>>14,T^=(i=(C^=(i=(_^=(i=(U^=(i=T+C|0)<<7|i>>>25)+T|0)<<9|i>>>23)+U|0)<<13|i>>>19)+_|0)<<18|i>>>14,F^=(i=(O^=(i=(I^=(i=(B^=(i=F+O|0)<<7|i>>>25)+F|0)<<9|i>>>23)+B|0)<<13|i>>>19)+I|0)<<18|i>>>14,w^=(i=(B^=(i=(_^=(i=(x^=(i=w+B|0)<<7|i>>>25)+w|0)<<9|i>>>23)+x|0)<<13|i>>>19)+_|0)<<18|i>>>14,S^=(i=(E^=(i=(I^=(i=(C^=(i=S+E|0)<<7|i>>>25)+S|0)<<9|i>>>23)+C|0)<<13|i>>>19)+I|0)<<18|i>>>14,T^=(i=(P^=(i=(k^=(i=(O^=(i=T+P|0)<<7|i>>>25)+T|0)<<9|i>>>23)+O|0)<<13|i>>>19)+k|0)<<18|i>>>14,F^=(i=(U^=(i=(N^=(i=(L^=(i=F+U|0)<<7|i>>>25)+F|0)<<9|i>>>23)+L|0)<<13|i>>>19)+N|0)<<18|i>>>14;w=w+o|0,x=x+s|0,_=_+a|0,B=B+c|0,E=E+u|0,S=S+l|0,C=C+A|0,I=I+h|0,k=k+f|0,P=P+d|0,T=T+p|0,O=O+g|0,L=L+m|0,N=N+y|0,U=U+v|0,F=F+b|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=B>>>0&255,e[13]=B>>>8&255,e[14]=B>>>16&255,e[15]=B>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=C>>>0&255,e[25]=C>>>8&255,e[26]=C>>>16&255,e[27]=C>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=k>>>0&255,e[33]=k>>>8&255,e[34]=k>>>16&255,e[35]=k>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=T>>>0&255,e[41]=T>>>8&255,e[42]=T>>>16&255,e[43]=T>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=L>>>0&255,e[49]=L>>>8&255,e[50]=L>>>16&255,e[51]=L>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=U>>>0&255,e[57]=U>>>8&255,e[58]=U>>>16&255,e[59]=U>>>24&255,e[60]=F>>>0&255,e[61]=F>>>8&255,e[62]=F>>>16&255,e[63]=F>>>24&255}(e,t,r,n)}function y(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,A=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(m^=(i=(f^=(i=(u^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,l^=(i=(s^=(i=(y^=(i=(d^=(i=l+s|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+y|0)<<18|i>>>14,p^=(i=(A^=(i=(a^=(i=(v^=(i=p+A|0)<<7|i>>>25)+p|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(g^=(i=(h^=(i=(c^=(i=b+g|0)<<7|i>>>25)+b|0)<<9|i>>>23)+c|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(u^=(i=(h^=(i=(A^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+A|0)<<13|i>>>19)+h|0)<<18|i>>>14,p^=(i=(d^=(i=(f^=(i=(g^=(i=p+d|0)<<7|i>>>25)+p|0)<<9|i>>>23)+g|0)<<13|i>>>19)+f|0)<<18|i>>>14,b^=(i=(v^=(i=(y^=(i=(m^=(i=b+v|0)<<7|i>>>25)+b|0)<<9|i>>>23)+m|0)<<13|i>>>19)+y|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,t,r,n)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(e,t,r,n,i,o,s){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(m(l,u,s,v),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(m(l,u,s,v),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function w(e,t,r,n,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(m(c,a,i,v),s=0;s<64;s++)e[t+s]=c[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(m(c,a,i,v),s=0;s<r;s++)e[t+s]=c[s];return 0}function x(e,t,r,n,i){var o=new Uint8Array(32);y(o,n,i,v);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return w(e,t,r,s,o)}function _(e,t,r,n,i,o,s){var a=new Uint8Array(32);y(a,o,s,v);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return b(e,t,r,n,i,c,a)}var B=function(e){var t,r,n,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function E(e,t,r,n,i,o){var s=new B(o);return s.update(r,n,i),s.finish(e,t),0}function S(e,t,r,n,i,o){var s=new Uint8Array(16);return E(s,0,r,n,i,o),p(e,t,s,0)}function C(e,t,r,n,i){var o;if(r<32)return-1;for(_(e,0,t,0,r,n,i),E(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function I(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(x(s,0,32,n,i),0!==S(t,16,t,32,r-32,s))return-1;for(_(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function k(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function P(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function T(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function O(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(P(a),P(a),P(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,T(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function L(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return O(r,e),O(n,t),g(r,0,n,0)}function N(e){var t=new Uint8Array(32);return O(t,e),1&t[0]}function U(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function F(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function R(e,t,r){var n,i,o=0,s=0,a=0,c=0,u=0,l=0,A=0,h=0,f=0,d=0,p=0,g=0,m=0,y=0,v=0,b=0,w=0,x=0,_=0,B=0,E=0,S=0,C=0,I=0,k=0,P=0,T=0,O=0,L=0,N=0,U=0,F=r[0],M=r[1],R=r[2],D=r[3],j=r[4],Q=r[5],H=r[6],K=r[7],V=r[8],z=r[9],q=r[10],G=r[11],W=r[12],$=r[13],J=r[14],X=r[15];o+=(n=t[0])*F,s+=n*M,a+=n*R,c+=n*D,u+=n*j,l+=n*Q,A+=n*H,h+=n*K,f+=n*V,d+=n*z,p+=n*q,g+=n*G,m+=n*W,y+=n*$,v+=n*J,b+=n*X,s+=(n=t[1])*F,a+=n*M,c+=n*R,u+=n*D,l+=n*j,A+=n*Q,h+=n*H,f+=n*K,d+=n*V,p+=n*z,g+=n*q,m+=n*G,y+=n*W,v+=n*$,b+=n*J,w+=n*X,a+=(n=t[2])*F,c+=n*M,u+=n*R,l+=n*D,A+=n*j,h+=n*Q,f+=n*H,d+=n*K,p+=n*V,g+=n*z,m+=n*q,y+=n*G,v+=n*W,b+=n*$,w+=n*J,x+=n*X,c+=(n=t[3])*F,u+=n*M,l+=n*R,A+=n*D,h+=n*j,f+=n*Q,d+=n*H,p+=n*K,g+=n*V,m+=n*z,y+=n*q,v+=n*G,b+=n*W,w+=n*$,x+=n*J,_+=n*X,u+=(n=t[4])*F,l+=n*M,A+=n*R,h+=n*D,f+=n*j,d+=n*Q,p+=n*H,g+=n*K,m+=n*V,y+=n*z,v+=n*q,b+=n*G,w+=n*W,x+=n*$,_+=n*J,B+=n*X,l+=(n=t[5])*F,A+=n*M,h+=n*R,f+=n*D,d+=n*j,p+=n*Q,g+=n*H,m+=n*K,y+=n*V,v+=n*z,b+=n*q,w+=n*G,x+=n*W,_+=n*$,B+=n*J,E+=n*X,A+=(n=t[6])*F,h+=n*M,f+=n*R,d+=n*D,p+=n*j,g+=n*Q,m+=n*H,y+=n*K,v+=n*V,b+=n*z,w+=n*q,x+=n*G,_+=n*W,B+=n*$,E+=n*J,S+=n*X,h+=(n=t[7])*F,f+=n*M,d+=n*R,p+=n*D,g+=n*j,m+=n*Q,y+=n*H,v+=n*K,b+=n*V,w+=n*z,x+=n*q,_+=n*G,B+=n*W,E+=n*$,S+=n*J,C+=n*X,f+=(n=t[8])*F,d+=n*M,p+=n*R,g+=n*D,m+=n*j,y+=n*Q,v+=n*H,b+=n*K,w+=n*V,x+=n*z,_+=n*q,B+=n*G,E+=n*W,S+=n*$,C+=n*J,I+=n*X,d+=(n=t[9])*F,p+=n*M,g+=n*R,m+=n*D,y+=n*j,v+=n*Q,b+=n*H,w+=n*K,x+=n*V,_+=n*z,B+=n*q,E+=n*G,S+=n*W,C+=n*$,I+=n*J,k+=n*X,p+=(n=t[10])*F,g+=n*M,m+=n*R,y+=n*D,v+=n*j,b+=n*Q,w+=n*H,x+=n*K,_+=n*V,B+=n*z,E+=n*q,S+=n*G,C+=n*W,I+=n*$,k+=n*J,P+=n*X,g+=(n=t[11])*F,m+=n*M,y+=n*R,v+=n*D,b+=n*j,w+=n*Q,x+=n*H,_+=n*K,B+=n*V,E+=n*z,S+=n*q,C+=n*G,I+=n*W,k+=n*$,P+=n*J,T+=n*X,m+=(n=t[12])*F,y+=n*M,v+=n*R,b+=n*D,w+=n*j,x+=n*Q,_+=n*H,B+=n*K,E+=n*V,S+=n*z,C+=n*q,I+=n*G,k+=n*W,P+=n*$,T+=n*J,O+=n*X,y+=(n=t[13])*F,v+=n*M,b+=n*R,w+=n*D,x+=n*j,_+=n*Q,B+=n*H,E+=n*K,S+=n*V,C+=n*z,I+=n*q,k+=n*G,P+=n*W,T+=n*$,O+=n*J,L+=n*X,v+=(n=t[14])*F,b+=n*M,w+=n*R,x+=n*D,_+=n*j,B+=n*Q,E+=n*H,S+=n*K,C+=n*V,I+=n*z,k+=n*q,P+=n*G,T+=n*W,O+=n*$,L+=n*J,N+=n*X,b+=(n=t[15])*F,s+=38*(x+=n*R),a+=38*(_+=n*D),c+=38*(B+=n*j),u+=38*(E+=n*Q),l+=38*(S+=n*H),A+=38*(C+=n*K),h+=38*(I+=n*V),f+=38*(k+=n*z),d+=38*(P+=n*q),p+=38*(T+=n*G),g+=38*(O+=n*W),m+=38*(L+=n*$),y+=38*(N+=n*J),v+=38*(U+=n*X),o=(n=(o+=38*(w+=n*M))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),A=(n=A+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=A,e[7]=h,e[8]=f,e[9]=d,e[10]=p,e[11]=g,e[12]=m,e[13]=y,e[14]=v,e[15]=b}function D(e,t){R(e,t,t)}function j(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)D(i,i),2!==n&&4!==n&&R(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function Q(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)D(i,i),1!==n&&R(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function H(e,r,n){var i,o,s=new Uint8Array(32),c=new Float64Array(80),u=t(),l=t(),A=t(),h=t(),f=t(),d=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,U(c,n),o=0;o<16;o++)l[o]=c[o],h[o]=u[o]=A[o]=0;for(u[0]=h[0]=1,o=254;o>=0;--o)T(u,l,i=s[o>>>3]>>>(7&o)&1),T(A,h,i),F(f,u,A),M(u,u,A),F(A,l,h),M(l,l,h),D(h,f),D(d,u),R(u,A,u),R(A,l,f),F(f,u,A),M(u,u,A),D(l,u),M(A,h,d),R(u,A,a),F(u,u,h),R(A,A,u),R(u,h,d),R(h,l,c),D(l,f),T(u,l,i),T(A,h,i);for(o=0;o<16;o++)c[o+16]=u[o],c[o+32]=A[o],c[o+48]=l[o],c[o+64]=h[o];var p=c.subarray(32),g=c.subarray(16);return j(p,p),R(g,g,p),O(e,g),0}function K(e,t){return H(e,t,i)}function V(e,t){return r(t,32),K(e,t)}function z(e,t,r){var i=new Uint8Array(32);return H(i,r,t),y(e,n,i,v)}B.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,c,u,l,A,h,f,d,p,g,m,y,v,b,w,x=this.fin?0:2048,_=this.h[0],B=this.h[1],E=this.h[2],S=this.h[3],C=this.h[4],I=this.h[5],k=this.h[6],P=this.h[7],T=this.h[8],O=this.h[9],L=this.r[0],N=this.r[1],U=this.r[2],F=this.r[3],M=this.r[4],R=this.r[5],D=this.r[6],j=this.r[7],Q=this.r[8],H=this.r[9];r>=16;)h=A=0,h+=(_+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*L,h+=(B+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),h+=(E+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*Q),h+=(S+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*j),A=(h+=(C+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*D))>>>13,h&=8191,h+=(I+=a>>>1&8191)*(5*R),h+=(k+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*M),h+=(P+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*F),h+=(T+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*U),f=A+=(h+=(O+=l>>>5|x)*(5*N))>>>13,f+=_*N,f+=B*L,f+=E*(5*H),f+=S*(5*Q),A=(f+=C*(5*j))>>>13,f&=8191,f+=I*(5*D),f+=k*(5*R),f+=P*(5*M),f+=T*(5*F),A+=(f+=O*(5*U))>>>13,f&=8191,d=A,d+=_*U,d+=B*N,d+=E*L,d+=S*(5*H),A=(d+=C*(5*Q))>>>13,d&=8191,d+=I*(5*j),d+=k*(5*D),d+=P*(5*R),d+=T*(5*M),p=A+=(d+=O*(5*F))>>>13,p+=_*F,p+=B*U,p+=E*N,p+=S*L,A=(p+=C*(5*H))>>>13,p&=8191,p+=I*(5*Q),p+=k*(5*j),p+=P*(5*D),p+=T*(5*R),g=A+=(p+=O*(5*M))>>>13,g+=_*M,g+=B*F,g+=E*U,g+=S*N,A=(g+=C*L)>>>13,g&=8191,g+=I*(5*H),g+=k*(5*Q),g+=P*(5*j),g+=T*(5*D),m=A+=(g+=O*(5*R))>>>13,m+=_*R,m+=B*M,m+=E*F,m+=S*U,A=(m+=C*N)>>>13,m&=8191,m+=I*L,m+=k*(5*H),m+=P*(5*Q),m+=T*(5*j),y=A+=(m+=O*(5*D))>>>13,y+=_*D,y+=B*R,y+=E*M,y+=S*F,A=(y+=C*U)>>>13,y&=8191,y+=I*N,y+=k*L,y+=P*(5*H),y+=T*(5*Q),v=A+=(y+=O*(5*j))>>>13,v+=_*j,v+=B*D,v+=E*R,v+=S*M,A=(v+=C*F)>>>13,v&=8191,v+=I*U,v+=k*N,v+=P*L,v+=T*(5*H),b=A+=(v+=O*(5*Q))>>>13,b+=_*Q,b+=B*j,b+=E*D,b+=S*R,A=(b+=C*M)>>>13,b&=8191,b+=I*F,b+=k*U,b+=P*N,b+=T*L,w=A+=(b+=O*(5*H))>>>13,w+=_*H,w+=B*Q,w+=E*j,w+=S*D,A=(w+=C*R)>>>13,w&=8191,w+=I*M,w+=k*F,w+=P*U,w+=T*N,_=h=8191&(A=(A=((A+=(w+=O*L)>>>13)<<2)+A|0)+(h&=8191)|0),B=f+=A>>>=13,E=d&=8191,S=p&=8191,C=g&=8191,I=m&=8191,k=y&=8191,P=v&=8191,T=b&=8191,O=w&=8191,t+=16,r-=16;this.h[0]=_,this.h[1]=B,this.h[2]=E,this.h[3]=S,this.h[4]=C,this.h[5]=I,this.h[6]=k,this.h[7]=P,this.h[8]=T,this.h[9]=O},B.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},B.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var q=C,G=I,W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $(e,t,r,n){for(var i,o,s,a,c,u,l,A,h,f,d,p,g,m,y,v,b,w,x,_,B,E,S,C,I,k,P=new Int32Array(16),T=new Int32Array(16),O=e[0],L=e[1],N=e[2],U=e[3],F=e[4],M=e[5],R=e[6],D=e[7],j=t[0],Q=t[1],H=t[2],K=t[3],V=t[4],z=t[5],q=t[6],G=t[7],$=0;n>=128;){for(x=0;x<16;x++)_=8*x+$,P[x]=r[_+0]<<24|r[_+1]<<16|r[_+2]<<8|r[_+3],T[x]=r[_+4]<<24|r[_+5]<<16|r[_+6]<<8|r[_+7];for(x=0;x<80;x++)if(i=O,o=L,s=N,a=U,c=F,u=M,l=R,h=j,f=Q,d=H,p=K,g=V,m=z,y=q,S=65535&(E=G),C=E>>>16,I=65535&(B=D),k=B>>>16,S+=65535&(E=(V>>>14|F<<18)^(V>>>18|F<<14)^(F>>>9|V<<23)),C+=E>>>16,I+=65535&(B=(F>>>14|V<<18)^(F>>>18|V<<14)^(V>>>9|F<<23)),k+=B>>>16,S+=65535&(E=V&z^~V&q),C+=E>>>16,I+=65535&(B=F&M^~F&R),k+=B>>>16,S+=65535&(E=W[2*x+1]),C+=E>>>16,I+=65535&(B=W[2*x]),k+=B>>>16,B=P[x%16],C+=(E=T[x%16])>>>16,I+=65535&B,k+=B>>>16,I+=(C+=(S+=65535&E)>>>16)>>>16,S=65535&(E=w=65535&S|C<<16),C=E>>>16,I=65535&(B=b=65535&I|(k+=I>>>16)<<16),k=B>>>16,S+=65535&(E=(j>>>28|O<<4)^(O>>>2|j<<30)^(O>>>7|j<<25)),C+=E>>>16,I+=65535&(B=(O>>>28|j<<4)^(j>>>2|O<<30)^(j>>>7|O<<25)),k+=B>>>16,C+=(E=j&Q^j&H^Q&H)>>>16,I+=65535&(B=O&L^O&N^L&N),k+=B>>>16,A=65535&(I+=(C+=(S+=65535&E)>>>16)>>>16)|(k+=I>>>16)<<16,v=65535&S|C<<16,S=65535&(E=p),C=E>>>16,I=65535&(B=a),k=B>>>16,C+=(E=w)>>>16,I+=65535&(B=b),k+=B>>>16,L=i,N=o,U=s,F=a=65535&(I+=(C+=(S+=65535&E)>>>16)>>>16)|(k+=I>>>16)<<16,M=c,R=u,D=l,O=A,Q=h,H=f,K=d,V=p=65535&S|C<<16,z=g,q=m,G=y,j=v,x%16==15)for(_=0;_<16;_++)B=P[_],S=65535&(E=T[_]),C=E>>>16,I=65535&B,k=B>>>16,B=P[(_+9)%16],S+=65535&(E=T[(_+9)%16]),C+=E>>>16,I+=65535&B,k+=B>>>16,b=P[(_+1)%16],S+=65535&(E=((w=T[(_+1)%16])>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),C+=E>>>16,I+=65535&(B=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7),k+=B>>>16,b=P[(_+14)%16],C+=(E=((w=T[(_+14)%16])>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26))>>>16,I+=65535&(B=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6),k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,P[_]=65535&I|k<<16,T[_]=65535&S|C<<16;S=65535&(E=j),C=E>>>16,I=65535&(B=O),k=B>>>16,B=e[0],C+=(E=t[0])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[0]=O=65535&I|k<<16,t[0]=j=65535&S|C<<16,S=65535&(E=Q),C=E>>>16,I=65535&(B=L),k=B>>>16,B=e[1],C+=(E=t[1])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[1]=L=65535&I|k<<16,t[1]=Q=65535&S|C<<16,S=65535&(E=H),C=E>>>16,I=65535&(B=N),k=B>>>16,B=e[2],C+=(E=t[2])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[2]=N=65535&I|k<<16,t[2]=H=65535&S|C<<16,S=65535&(E=K),C=E>>>16,I=65535&(B=U),k=B>>>16,B=e[3],C+=(E=t[3])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[3]=U=65535&I|k<<16,t[3]=K=65535&S|C<<16,S=65535&(E=V),C=E>>>16,I=65535&(B=F),k=B>>>16,B=e[4],C+=(E=t[4])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[4]=F=65535&I|k<<16,t[4]=V=65535&S|C<<16,S=65535&(E=z),C=E>>>16,I=65535&(B=M),k=B>>>16,B=e[5],C+=(E=t[5])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[5]=M=65535&I|k<<16,t[5]=z=65535&S|C<<16,S=65535&(E=q),C=E>>>16,I=65535&(B=R),k=B>>>16,B=e[6],C+=(E=t[6])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[6]=R=65535&I|k<<16,t[6]=q=65535&S|C<<16,S=65535&(E=G),C=E>>>16,I=65535&(B=D),k=B>>>16,B=e[7],C+=(E=t[7])>>>16,I+=65535&B,k+=B>>>16,k+=(I+=(C+=(S+=65535&E)>>>16)>>>16)>>>16,e[7]=D=65535&I|k<<16,t[7]=G=65535&S|C<<16,$+=128,n-=128}return n}function J(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,$(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,f(s,r-8,a/536870912|0,a<<3),$(i,o,s,r),n=0;n<8;n++)f(e,8*n,i[n],o[n]);return 0}function X(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),c=t(),l=t(),A=t(),h=t();M(n,e[1],e[0]),M(h,r[1],r[0]),R(n,n,h),F(i,e[0],e[1]),F(h,r[0],r[1]),R(i,i,h),R(o,e[3],r[3]),R(o,o,u),R(s,e[2],r[2]),F(s,s,s),M(a,i,n),M(c,s,o),F(l,s,o),F(A,i,n),R(e[0],a,c),R(e[1],A,l),R(e[2],l,c),R(e[3],a,A)}function Y(e,t,r){var n;for(n=0;n<4;n++)T(e[n],t[n],r)}function Z(e,r){var n=t(),i=t(),o=t();j(o,r[2]),R(n,r[0],o),R(i,r[1],o),O(e,i),e[31]^=N(n)<<7}function ee(e,t,r){var n,i;for(k(e[0],o),k(e[1],s),k(e[2],s),k(e[3],o),i=255;i>=0;--i)Y(e,t,n=r[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Y(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];k(n[0],l),k(n[1],A),k(n[2],s),R(n[3],l,A),ee(e,n,r)}function re(e,n,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||r(n,32),J(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),Z(e,a),o=0;o<32;o++)n[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function se(e,r,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),A=[t(),t(),t(),t()];J(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(J(u,e.subarray(32),n+32),oe(u),te(A,u),Z(e,A),o=32;o<64;o++)e[o]=i[o];for(J(c,e,n+64),oe(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)l[o+s]+=c[o]*a[s];return ie(e.subarray(32),l),h}function ae(e,r,n,i){var a,u=new Uint8Array(32),l=new Uint8Array(64),A=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),a=t(),u=t(),l=t(),A=t(),f=t();return k(e[2],s),U(e[1],r),D(a,e[1]),R(u,a,c),M(a,a,e[2]),F(u,e[2],u),D(l,u),D(A,l),R(f,A,l),R(n,f,a),R(n,n,u),Q(n,n),R(n,n,a),R(n,n,u),R(n,n,u),R(e[0],n,u),D(i,e[0]),R(i,i,u),L(i,a)&&R(e[0],e[0],h),D(i,e[0]),R(i,i,u),L(i,a)?-1:(N(e[0])===r[31]>>7&&M(e[0],o,e[0]),R(e[3],e[0],e[1]),0)}(f,i))return-1;for(a=0;a<n;a++)e[a]=r[a];for(a=0;a<32;a++)e[a+32]=i[a];if(J(l,e,n),oe(l),ee(A,f,l),te(f,r.subarray(32)),X(A,f),Z(u,A),n-=64,g(r,0,u,0)){for(a=0;a<n;a++)e[a]=0;return-1}for(a=0;a<n;a++)e[a]=r[a+64];return n}var ce=64,ue=32,le=64;function Ae(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function he(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function fe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:y,crypto_stream_xor:_,crypto_stream:x,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:w,crypto_onetimeauth:E,crypto_onetimeauth_verify:S,crypto_verify_16:p,crypto_verify_32:g,crypto_secretbox:C,crypto_secretbox_open:I,crypto_scalarmult:H,crypto_scalarmult_base:K,crypto_box_beforenm:z,crypto_box_afternm:q,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return z(s,i,o),q(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return z(s,i,o),G(e,t,r,n,s)},crypto_box_keypair:V,crypto_hash:J,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ce,crypto_sign_PUBLICKEYBYTES:ue,crypto_sign_SECRETKEYBYTES:le,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ne,pack25519:O,unpack25519:U,M:R,A:F,S:D,Z:M,pow2523:Q,add:X,set25519:k,modL:ie,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){he(e,t,r),Ae(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return C(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){he(e,t,r),Ae(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return n.length<32||0!==I(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(he(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return H(r,e,t),r},e.scalarMult.base=function(e){if(he(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return K(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){he(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return z(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(he(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return K(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(he(e,t),t.length!==le)throw new Error("bad secret key size");var r=new Uint8Array(ce+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(he(e,t),t.length!==ue)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ce),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(he(e,t,r),t.length!==ce)throw new Error("bad signature size");if(r.length!==ue)throw new Error("bad public key size");var n,i=new Uint8Array(ce+e.length),o=new Uint8Array(ce+e.length);for(n=0;n<ce;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ce]=e[n];return ae(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(ue),t=new Uint8Array(le);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(he(e),e.length!==le)throw new Error("bad secret key size");for(var t=new Uint8Array(ue),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(he(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(ue),r=new Uint8Array(le),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=ue,e.sign.secretKeyLength=le,e.sign.seedLength=32,e.sign.signatureLength=ce,e.hash=function(e){he(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return he(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===d(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];fe(i)})):(t=gf)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];fe(i)}))}()}(pf.exports?pf.exports:self.nacl=self.nacl||{});var mf=pf.exports;!function(e){!function(t,r){e.exports?e.exports=r(pf.exports):t.ed2curve=r(t.nacl)}(Fi,(function(e){if(!e)throw new Error("tweetnacl not loaded");var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=t(),n=t([1]),i=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),o=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function s(e){var t,r;for(r=0;r<16;r++)e[r]+=65536,t=Math.floor(e[r]/65536),e[(r+1)*(r<15?1:0)]+=t-1+37*(t-1)*(15===r?1:0),e[r]-=65536*t}function a(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function c(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]+r[n]|0}function u(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]-r[n]|0}function l(e,t,r){var n,i,o=new Float64Array(31);for(n=0;n<31;n++)o[n]=0;for(n=0;n<16;n++)for(i=0;i<16;i++)o[n+i]+=t[n]*r[i];for(n=0;n<15;n++)o[n]+=38*o[n+16];for(n=0;n<16;n++)e[n]=o[n];s(e),s(e)}function A(e,t){l(e,t,t)}function h(e,r){var n,i,o,c=t(),u=t();for(n=0;n<16;n++)u[n]=r[n];for(s(u),s(u),s(u),i=0;i<2;i++){for(c[0]=u[0]-65517,n=1;n<15;n++)c[n]=u[n]-65535-(c[n-1]>>16&1),c[n-1]&=65535;c[15]=u[15]-32767-(c[14]>>16&1),o=c[15]>>16&1,c[14]&=65535,a(u,c,1-o)}for(n=0;n<16;n++)e[2*n]=255&u[n],e[2*n+1]=u[n]>>8}function f(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return h(r,e),h(n,t),function(e,t,r,n){return function(e,t,r,n,i){var o,s=0;for(o=0;o<32;o++)s|=e[0+o]^r[0+o];return(1&s-1>>>8)-1}(e,0,r)}(r,0,n)}function d(e,s){var a=t(),d=t(),p=t(),g=t(),m=t(),y=t(),v=t();return function(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}(e[2],n),function(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],s),A(p,e[1]),l(g,p,i),u(p,p,e[2]),c(g,e[2],g),A(m,g),A(y,m),l(v,y,m),l(a,v,p),l(a,a,g),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)A(i,i),1!==n&&l(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(a,a),l(a,a,p),l(a,a,g),l(a,a,g),l(e[0],a,g),A(d,e[0]),l(d,d,g),f(d,p)&&l(e[0],e[0],o),A(d,e[0]),l(d,d,g),f(d,p)?-1:(function(e){var t=new Uint8Array(32);return h(t,e),1&t[0]}(e[0])===s[31]>>7&&u(e[0],r,e[0]),l(e[3],e[0],e[1]),0)}function p(e){var r=new Uint8Array(32),i=[t(),t(),t(),t()],o=t(),s=t();if(d(i,e))return null;var a=i[1];return c(o,n,a),u(s,n,a),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)A(i,i),2!==n&&4!==n&&l(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(s,s),l(o,o,s),h(r,o),r}function g(t){var r,n=new Uint8Array(64),i=new Uint8Array(32);for(e.lowlevel.crypto_hash(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,r=0;r<32;r++)i[r]=n[r];for(r=0;r<64;r++)n[r]=0;return i}return{convertPublicKey:p,convertSecretKey:g,convertKeyPair:function(e){var t=p(e.publicKey);return t?{publicKey:t,secretKey:g(e.secretKey)}:null}}}))}(df);var yf=df.exports;
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
/*!
   * Copyright (c) 2021-2022 Digital Bazaar, Inc. All rights reserved.
   */const vf=new Uint8Array([237,1]),bf=new Uint8Array([128,38]),wf=new Uint8Array([236,1]),xf=new Uint8Array([130,38]);class _f extends cf{constructor(e={}){super(e),this.type="X25519KeyAgreementKey2020";const{publicKeyMultibase:t,privateKeyMultibase:r}=e;if(!t)throw new TypeError('The "publicKeyMultibase" property is required.');if(!t||!Bf(t,wf))throw new Error(`"publicKeyMultibase" has invalid header bytes: "${t}".`);if(r&&!Bf(r,xf))throw new Error('"privateKeyMultibase" has invalid header bytes.');this.publicKeyMultibase=t,this.privateKeyMultibase=r,this.controller&&!this.id&&(this.id=`${this.controller}#${this.fingerprint()}`)}static async generate(e={}){const{publicKey:t,privateKey:r}=await async function(){const{publicKey:e,secretKey:t}=mf.box.keyPair();return{publicKey:e,privateKey:t}}();return new _f({publicKeyMultibase:Ef(wf,t),privateKeyMultibase:Ef(xf,r),...e})}static async from(e={}){return e.publicKeyBase58?this.fromX25519KeyAgreementKey2019(e):new _f(e)}static async fromX25519KeyAgreementKey2019({publicKeyBase58:e,privateKeyBase58:t,...r}={}){let n,i;return e&&(n=Ef(wf,_h(e))),t&&(i=Ef(xf,_h(t))),new _f({publicKeyMultibase:n,privateKeyMultibase:i,...r})}static fromEd25519VerificationKey2020({keyPair:e}={}){if(!e.publicKeyMultibase)throw new Error("Source public key is required to convert.");if(!e.publicKeyMultibase.startsWith("z"))throw new TypeError('Expecting "publicKeyMultibase" value to be multibase base58btc encoded (must start with "z").');const t=new _f({controller:e.controller,publicKeyMultibase:_f.convertFromEdPublicKey(e)});if(e.privateKeyMultibase){if(!e.privateKeyMultibase.startsWith("z"))throw new TypeError('Expecting "privateKeyMultibase" value to be multibase base58btc encoded (must start with "z").');t.privateKeyMultibase=_f.convertFromEdPrivateKey(e)}return t}static convertFromEdPublicKey({publicKeyMultibase:e}={}){if(!e)throw new Error("Source public key is required to convert.");const t=Sf(vf,e),r=Qh.fromHex(t).toX25519();if(!r)throw new Error("Error converting to X25519; Invalid Ed25519 public key.");return Ef(wf,r)}static convertFromEdPrivateKey({privateKeyMultibase:e}={}){if(!e)throw new Error("Source private key is required to convert.");const t=Sf(bf,e),r=yf.convertSecretKey(t);if(!r)throw new Error("Error converting to X25519; Invalid Ed25519 private key.");return Ef(xf,r)}export({publicKey:e=!1,privateKey:t=!1,includeContext:r=!1}={}){if(!e&&!t)throw new TypeError('Export requires specifying either "publicKey" or "privateKey".');const n={id:this.id,type:this.type};return r&&(n["@context"]=_f.SUITE_CONTEXT),this.controller&&(n.controller=this.controller),e&&(n.publicKeyMultibase=this.publicKeyMultibase),t&&(n.privateKeyMultibase=this.privateKeyMultibase),this.revoked&&(n.revoked=this.revoked),n}static fingerprintFromPublicKey({publicKeyMultibase:e}={}){if(!e)throw new Error("Source public key is required.");return e}static fromFingerprint({fingerprint:e}={}){return new _f({publicKeyMultibase:e})}async deriveSecret({publicKey:e}){const t=Sf(wf,e.publicKeyMultibase);return async function({privateKey:e,remotePublicKey:t}){return mf.scalarMult(e,t)}({privateKey:Sf(xf,this.privateKeyMultibase),remotePublicKey:t})}fingerprint(){return this.publicKeyMultibase}verifyFingerprint({fingerprint:e}={}){if(!Bf(e,wf))throw new Error(`"fingerprint" has invalid header bytes: "${e}".`);return{valid:!0}}}function Bf(e,t){if("string"!=typeof e||"z"!==e[0])return!1;const r=_h(e.slice(1));return t.every(((e,t)=>r[t]===e))}function Ef(e,t){const r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),"z"+xh(r)}function Sf(e,t){const r=_h(t.substr(1));if(!e.every(((e,t)=>r[t]===e)))throw new Error("Multibase value does not have expected header.");return r.slice(e.length)}
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */_f.suite="X25519KeyAgreementKey2020",_f.SUITE_CONTEXT="https://w3id.org/security/suites/x25519-2020/v1";
/*!
   * Copyright (c) 2019-2021 Digital Bazaar, Inc. All rights reserved.
   */
const Cf="X25519KeyAgreementKey2019",If=new Uint8Array([237,1]),kf=new Uint8Array([128,38]);class Pf extends cf{constructor(e={}){if(super(e),this.type=Cf,this.publicKeyBase58=e.publicKeyBase58,!this.publicKeyBase58)throw TypeError('The "publicKeyBase58" property is required.');this.privateKeyBase58=e.privateKeyBase58,this.controller&&!this.id&&(this.id=`${this.controller}#${this.fingerprint()}`)}static async generate(e={}){const{publicKey:t,privateKey:r}=await async function(){const{publicKey:e,secretKey:t}=mf.box.keyPair();return{publicKey:e,privateKey:t}}();return new Pf({publicKeyBase58:xh(t),privateKeyBase58:xh(r),...e})}static async from(e){return new Pf(e)}static fromEd25519VerificationKey2018({keyPair:e}){const t=new Pf({controller:e.controller,publicKeyBase58:Pf.convertFromEdPublicKey(e)});return e.privateKeyBase58&&(t.privateKeyBase58=Pf.convertFromEdPrivateKey(e)),t}static fromEd25519VerificationKey2020({keyPair:e}){if(!e.publicKeyMultibase)throw new Error("Source public key is required to convert.");if(!e.publicKeyMultibase.startsWith("z"))throw new TypeError("Expecting source public Ed25519 2020 key to have base58btc encoding.");const t=xh(Tf(If,e.publicKeyMultibase)),r=new Pf({controller:e.controller,publicKeyBase58:Pf.convertFromEdPublicKey({publicKeyBase58:t})});if(e.privateKeyMultibase){if(!e.privateKeyMultibase.startsWith("z"))throw new TypeError("Expecting source private Ed25519 2020 key to have base58btc encoding.");const t=xh(Tf(kf,e.privateKeyMultibase));r.privateKeyBase58=Pf.convertFromEdPrivateKey({privateKeyBase58:t})}return r}static fromEdKeyPair({keyPair:e}){return this.fromEd25519VerificationKey2018({keyPair:e})}static convertFromEdPublicKey({publicKeyBase58:e}){const t=_h(e),r=Qh.fromHex(t).toX25519();if(!r)throw new Error("Error converting to X25519; Invalid Ed25519 public key.");return xh(r)}static convertFromEdPrivateKey({privateKeyBase58:e}){const t=_h(e),r=yf.convertSecretKey(t);if(!r)throw new Error("Error converting to X25519; Invalid Ed25519 private key.");return xh(r)}export({publicKey:e=!1,privateKey:t=!1,includeContext:r=!1}={}){if(!e&&!t)throw new TypeError('Export requires specifying either "publicKey" or "privateKey".');const n={id:this.id,type:this.type};return r&&(n["@context"]=Pf.SUITE_CONTEXT),this.controller&&(n.controller=this.controller),e&&(n.publicKeyBase58=this.publicKeyBase58),t&&(n.privateKeyBase58=this.privateKeyBase58),this.revoked&&(n.revoked=this.revoked),n}static fingerprintFromPublicKey({publicKeyBase58:e}){const t=_h(e),r=new Uint8Array(2+t.length);return r[0]=236,r[1]=1,r.set(t,2),`z${xh(r)}`}static fromFingerprint({fingerprint:e}={}){if(!e||"string"!=typeof e||"z"!==e[0])throw new Error("`fingerprint` must be a multibase encoded string.");const t=_h(e.substr(1));if(236!==t[0]||1!==t[1])throw new Error(`Unsupported Fingerprint Type: ${e}`);return new Pf({publicKeyBase58:xh(t.slice(2))})}async deriveSecret({publicKey:e}){const t=_h(e.publicKeyBase58);return async function({privateKey:e,remotePublicKey:t}){return mf.scalarMult(e,t)}({privateKey:_h(this.privateKeyBase58),remotePublicKey:t})}fingerprint(){const{publicKeyBase58:e}=this;return Pf.fingerprintFromPublicKey({publicKeyBase58:e})}verifyFingerprint({fingerprint:e}={}){if("string"!=typeof e||"z"!==e[0])return{error:new Error("`fingerprint` must be a multibase encoded string."),valid:!1};let t,r;try{t=_h(e.slice(1))}catch(e){return{error:e,valid:!1}}try{r=_h(this.publicKeyBase58)}catch(e){return{error:e,valid:!1}}const n=236===t[0]&&1===t[1]&&r.toString()===t.slice(2).toString();return n?{valid:n}:{error:new Error("The fingerprint does not match the public key."),valid:!1}}}function Tf(e,t){const r=_h(t.slice(1));if(!e.every(((e,t)=>r[t]===e)))throw new Error("Multibase value does not have expected header.");return r.slice(e.length)}
/*!
   * Copyright (c) 2021 Digital Bazaar. All rights reserved.
   */Pf.suite=Cf,Pf.SUITE_CONTEXT="https://w3id.org/security/suites/x25519-2019/v1";const Of=new Set(["assertionMethod","authentication","capabilityDelegation","capabilityInvocation","keyAgreement"]);
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */function Lf({doc:e,methodId:t,purpose:r}={}){if(!e)throw new TypeError("A DID Document is required.");if(!t&&!r)throw new TypeError("A method id or purpose is required.");if(t)return Nf({doc:e,methodId:t});const[n]=e[r]||[];return n&&"string"==typeof n?Nf({doc:e,methodId:n}):n}function Nf({doc:e,methodId:t}){let r;e.verificationMethod&&(r=e.verificationMethod.find((e=>e.id===t)));for(const n of Of){const i=e[n]||[];for(const e of i)if("object"==typeof e&&e.id===t){r=e;break}if(r)return r}}var Uf=Ff;function Ff(e){var t=this;if(t instanceof Ff||(t=new Ff),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function Mf(e,t,r){var n=t===e.head?new jf(r,null,t,e):new jf(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function Rf(e,t){e.tail=new jf(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Df(e,t){e.head=new jf(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function jf(e,t,r,n){if(!(this instanceof jf))return new jf(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}Ff.Node=jf,Ff.create=Ff,Ff.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Ff.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Ff.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Ff.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Rf(this,arguments[e]);return this.length},Ff.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Df(this,arguments[e]);return this.length},Ff.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Ff.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Ff.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},Ff.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},Ff.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},Ff.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},Ff.prototype.map=function(e,t){t=t||this;for(var r=new Ff,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},Ff.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Ff,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},Ff.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},Ff.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},Ff.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},Ff.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},Ff.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Ff;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(;null!==i&&n<t;n++,i=i.next)r.push(i.value);return r},Ff.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Ff;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;null!==i&&n>t;n--)i=i.prev;for(;null!==i&&n>e;n--,i=i.prev)r.push(i.value);return r},Ff.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var o=[];for(n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),n=0;n<r.length;n++)i=Mf(this,i,r[n]);return o},Ff.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{require("./iterator.js")(Ff)}catch(e){}const Qf=Uf,Hf=Symbol("max"),Kf=Symbol("length"),Vf=Symbol("lengthCalculator"),zf=Symbol("allowStale"),qf=Symbol("maxAge"),Gf=Symbol("dispose"),Wf=Symbol("noDisposeOnSet"),$f=Symbol("lruList"),Jf=Symbol("cache"),Xf=Symbol("updateAgeOnGet"),Yf=()=>1,Zf=(e,t,r)=>{const n=e[Jf].get(t);if(n){const t=n.value;if(ed(e,t)){if(rd(e,n),!e[zf])return}else r&&(e[Xf]&&(n.value.now=Date.now()),e[$f].unshiftNode(n));return t.value}},ed=(e,t)=>{if(!t||!t.maxAge&&!e[qf])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[qf]&&r>e[qf]},td=e=>{if(e[Kf]>e[Hf])for(let t=e[$f].tail;e[Kf]>e[Hf]&&null!==t;){const r=t.prev;rd(e,t),t=r}},rd=(e,t)=>{if(t){const r=t.value;e[Gf]&&e[Gf](r.key,r.value),e[Kf]-=r.length,e[Jf].delete(r.key),e[$f].removeNode(t)}};class nd{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const id=(e,t,r,n)=>{let i=r.value;ed(e,i)&&(rd(e,r),e[zf]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var od=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[Hf]=e.max||1/0;const t=e.length||Yf;if(this[Vf]="function"!=typeof t?Yf:t,this[zf]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[qf]=e.maxAge||0,this[Gf]=e.dispose,this[Wf]=e.noDisposeOnSet||!1,this[Xf]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Hf]=e||1/0,td(this)}get max(){return this[Hf]}set allowStale(e){this[zf]=!!e}get allowStale(){return this[zf]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[qf]=e,td(this)}get maxAge(){return this[qf]}set lengthCalculator(e){"function"!=typeof e&&(e=Yf),e!==this[Vf]&&(this[Vf]=e,this[Kf]=0,this[$f].forEach((e=>{e.length=this[Vf](e.value,e.key),this[Kf]+=e.length}))),td(this)}get lengthCalculator(){return this[Vf]}get length(){return this[Kf]}get itemCount(){return this[$f].length}rforEach(e,t){t=t||this;for(let r=this[$f].tail;null!==r;){const n=r.prev;id(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[$f].head;null!==r;){const n=r.next;id(this,e,r,t),r=n}}keys(){return this[$f].toArray().map((e=>e.key))}values(){return this[$f].toArray().map((e=>e.value))}reset(){this[Gf]&&this[$f]&&this[$f].length&&this[$f].forEach((e=>this[Gf](e.key,e.value))),this[Jf]=new Map,this[$f]=new Qf,this[Kf]=0}dump(){return this[$f].map((e=>!ed(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[$f]}set(e,t,r){if((r=r||this[qf])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,i=this[Vf](t,e);if(this[Jf].has(e)){if(i>this[Hf])return rd(this,this[Jf].get(e)),!1;const o=this[Jf].get(e).value;return this[Gf]&&(this[Wf]||this[Gf](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[Kf]+=i-o.length,o.length=i,this.get(e),td(this),!0}const o=new nd(e,t,i,n,r);return o.length>this[Hf]?(this[Gf]&&this[Gf](e,t),!1):(this[Kf]+=o.length,this[$f].unshift(o),this[Jf].set(e,this[$f].head),td(this),!0)}has(e){if(!this[Jf].has(e))return!1;const t=this[Jf].get(e).value;return!ed(this,t)}get(e){return Zf(this,e,!0)}peek(e){return Zf(this,e,!1)}pop(){const e=this[$f].tail;return e?(rd(this,e),e.value):null}del(e){rd(this,this[Jf].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[Jf].forEach(((e,t)=>Zf(this,t,!1)))}};
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */const sd=new Map([[Af.suite,Af.SUITE_CONTEXT],["Ed25519VerificationKey2018","https://w3id.org/security/suites/ed25519-2018/v1"],[_f.suite,_f.SUITE_CONTEXT],[Pf.suite,Pf.SUITE_CONTEXT]]);class ad{constructor({verificationSuite:e=Af}={}){this.method="key",this.verificationSuite=e}async generate({seed:e}={}){const t=await this.verificationSuite.generate({seed:e}),{didDocument:r,keyPairs:n}=await this._keyPairToDidDocument({keyPair:t});return{didDocument:r,keyPairs:n,methodFor:({purpose:e})=>{const{id:t}=Lf({doc:r,purpose:e});return n.get(t)}}}publicMethodFor({didDocument:e,purpose:t}={}){if(!e)throw new TypeError('The "didDocument" parameter is required.');if(!t)throw new TypeError('The "purpose" parameter is required.');const r=Lf({doc:e,purpose:t});if(!r)throw new Error(`No verification method found for purpose "${t}"`);return r}async get({did:e,url:t}={}){if(!(e=e||t))throw new TypeError('"did" must be a string.');const[r,n]=e.split("#"),i=r.substr("did:key:".length),o=this.verificationSuite.fromFingerprint({fingerprint:i}),{didDocument:s}=await this._keyPairToDidDocument({keyPair:o});return n?function({didDocument:e,keyIdFragment:t}){const r=e.id+"#"+t;let n;return n=e.verificationMethod[0].id===r?e.verificationMethod[0]:e.keyAgreement[0],{"@context":sd.get(n.type),...n}}({didDocument:s,keyIdFragment:n}):s}async publicKeyToDidDoc({publicKeyDescription:e}={}){const{didDocument:t}=await this._keyPairToDidDocument({keyPair:e});return{didDocument:t}}async _keyPairToDidDocument({keyPair:e}={}){const t=await this.verificationSuite.from({...e}),r=`did:key:${t.fingerprint()}`;t.controller=r;const n=["https://www.w3.org/ns/did/v1"];let i;if("Ed25519VerificationKey2020"===t.type)i=_f.fromEd25519VerificationKey2020({keyPair:t}),n.push(Af.SUITE_CONTEXT,_f.SUITE_CONTEXT);else{if("Ed25519VerificationKey2018"!==t.type)throw new Error('Cannot derive key agreement key from verification key type "'+t.type+'".');i=Pf.fromEd25519VerificationKey2018({keyPair:t}),n.push("https://w3id.org/security/suites/ed25519-2018/v1",Pf.SUITE_CONTEXT)}t.id=`${r}#${t.fingerprint()}`;const o=t.export({publicKey:!0}),s=i.export({publicKey:!0}),a={"@context":n,id:r,verificationMethod:[o],authentication:[o.id],assertionMethod:[o.id],capabilityDelegation:[o.id],capabilityInvocation:[o.id],keyAgreement:[s]},c=new Map;return c.set(t.id,t),c.set(i.id,i),{didDocument:a,keyPairs:c}}async computeId({keyPair:e}){return`did:key:${e.fingerprint()}#${e.fingerprint()}`}}async function cd(e){const t=new ad;return await t.get({did:e})}var ud,ld={...Object.freeze({__proto__:null,resolve:async function(e,t=mh.url){if(vh(e))return await cd(e);const r=await GA({url:`${t}/${e}`});return JSON.parse(r).didDocument},resolveDidKeyDocument:cd,getIssuerProfileUrl:function(e){if(!e.service)return"";const t=e.service.find((e=>"IssuerProfile"===e.type))?.serviceEndpoint;return t??""}}),didResolver:mh};!function(e){e.DEFAULT="standby",e.FAILURE="failure",e.STARTING="starting",e.SUCCESS="success"}(ud||(ud={}));class Ad{code;label;labelPending;parentStep;status;constructor(e,t){this.code=t,this.label=rc("subSteps",`${t}Label`),this.labelPending=rc("subSteps",`${t}LabelPending`),this.parentStep=e,this.status=ud.DEFAULT}}function hd(e){return""===e?0:function(e){const t=Date.parse(e);if(t)return new Date(t);const r=function(e){let t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));const r=e.slice(-5);let n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t}(e);return r||function(e){let t,r;const n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,t=new Date(Date.UTC.apply(Date,t)),t.getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}(`${e}`).getTime()}function fd(e,t=null){const r=e.created?hd(e.created):null,n=e.revoked?hd(e.revoked):null,i=e.expires?hd(e.expires):null;let o=t;return t||(o=(e.id||e.publicKey).replace("ecdsa-koblitz-pubkey:","")),new sc(o,r,n,i)}var dd=Object.freeze({__proto__:null,convertToVerificationSubsteps:function(e,t){return new Ad(e,t)},findVerificationSubstep:function(e,t,r=""){for(let n=0;n<t.length;n++){let i=t[n].subSteps.find((t=>t.code===e));if(i&&""===r)return i;if(t[n].suites?.length)for(let o=0;o<t[n].suites.length;o++){const s=t[n].suites[o];if(i=s.subSteps.find((t=>t.code===e)),i&&s.proofType===r)return i}}},getIssuerProfile:async function e(t){const r=rc("errors","getIssuerProfile");if(!t)throw new cc("getIssuerProfile",`${r} - ${rc("errors","issuerProfileNotSet")}`);let n;if("object"==typeof t&&(t=t.id),yh(t))try{const r=await pd.did.resolve(t);if(vh(t))n=function(e){return{"@context":["https://w3id.org/openbadges/v2","https://w3id.org/blockcerts/3.0"],publicKey:[{created:(new Date).toISOString(),id:e.id.split(":").pop()}]}}(r);else{const t=await pd.did.getIssuerProfileUrl(r);t&&(n=await e(t))}return{didDocument:r,...n}}catch(e){throw console.error(e),new cc("getIssuerProfile",`${r} - ${e}`)}else if(!function(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}(t))throw new cc("getIssuerProfile",`${r} - ${rc("errors","issuerProfileNotSet")}`);if(n=JSON.parse(await GA({url:t}).catch((()=>{throw new cc("getIssuerProfile",r)}))),!function(e){const t=["issuer","profile"],{type:r}=e;return!!r&&(Array.isArray(r)?r.some((e=>t.includes(e.toLowerCase()))):t.includes(r.toLowerCase()))}(n)&&!function(e){const{issuer_key:t,revocation_key:r,issuerKeys:n,revocationKeys:i}=e;return!(!t||!r)||!(!n||!i)}(n))throw new cc("getIssuerProfile",`${r} - ${rc("errors","issuerProfileInvalid")}`);return n},getRevokedAssertions:async function(e,t){if(!e)return[];const r=rc("errors","getRevokedAssertions");t&&(e=function(e,t,r){const n=e.includes("?")?"&":"?";return`${e}${n}assertionId=${r}`}(e,0,encodeURIComponent(t)));const n=await GA({url:e}).catch((()=>{throw new cc(Ac.checkRevokedStatus,r)}));return JSON.parse(n).revokedAssertions??[]},lookForTx:function({transactionId:e,chain:t,explorerAPIs:r=[]}){return dh(this,void 0,void 0,(function*(){const n=function(e){const{bitcoin:t,ethereum:r}={bitcoin:sh(hh(n=e,ah)),ethereum:sh(hh(n,ch))};var n;const{custom:i}=function(e){return{custom:fh(e)}}(e.filter((e=>"rpc"===e.apiType)));return{bitcoin:t,ethereum:r,custom:[...i,...sh(e.filter((e=>"rpc"!==e.apiType)))]}}(r),i=function({defaultAPIs:e,customAPIs:t}){const r=[e];if(null==t?void 0:t.length){const e=t[0].priority;r.splice(e,0,t)}if(1>e.concat(t).length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");return r}({defaultAPIs:ph(t,n),customAPIs:n.custom});return yield gh(i,0,e,t)}))},parseIssuerKeys:function(e){try{const t={};if("@context"in e){const r=e.publicKey||e.publicKeys;for(let e=0;e<r.length;e++){const n=fd(r[e]);t[n.publicKey]=n}}else{const r=fd({},(e.issuerKeys||[])[0].key);t[r.publicKey]=r}return t}catch(e){throw console.error(e),new cc("parseIssuerKeys",rc("errors","parseIssuerKeys"))}},parseRevocationKey:function(e){return e&&Object.prototype.hasOwnProperty.call(e,"revocationKeys")&&e.revocationKeys.length>0?e.revocationKeys[0].key:""}}),pd={addresses:Za,certificates:vc,chains:bc,did:ld,i18n:nc,verifier:dd};function gd(e){const{credentialSubject:t}=e;return t.name||""}function md(e){"string"==typeof e&&(e=[e]);const t=(r=function(e){return e.filter(Da)}(e),r.find((e=>e.toLowerCase().indexOf("blockcerts")>0)));var r;const n=t.split("/").filter((e=>""!==e)),i=Object.keys(yd),o=parseInt(i.filter((e=>function(e,t){return e.some((e=>e.includes(`v${t}`)||e.includes(`${t}.`)))}(n,e.toString())))[0],10);let s;switch(o){case 1:s=Qa.V1_2;break;case 2:s=Qa.V2_0;break;case 3:if(t.includes("-alpha")){s=Qa.V3_0_alpha;break}if(t.includes("-beta")){s=Qa.V3_0_beta;break}s=Qa.V3_0}return{versionNumber:o,version:s}}const yd={1:function(){throw new cc("","Verification of v1 certificates is not supported by this component. See the python cert-verifier for v1.1 verification or the npm package cert-verifier-js-v1-legacy for v1.2 (https://www.npmjs.com/package/@blockcerts/cert-verifier-js-v1-legacy)")},2:async function(e){const{id:t,expires:r,badge:n}=e,{image:i,name:o,description:s,subtitle:a,issuer:c}=n,u=e.recipientProfile||e.recipient.recipientProfile,l=e.issuedOn,A=e.metadataJson,h=u.name,f=function(e){const t=[];for(const r in e){const n=e[r],i=new ac(n.image,n.jobTitle,n.name);t.push(i)}return t}(n.signatureLines),d=await pd.verifier.getIssuerProfile(c);return{certificateImage:i,description:s,expires:r,id:t,issuedOn:l,issuer:d,metadataJson:A,name:o,recipientFullName:h,recordLink:t,revocationKey:null,sealImage:d.image,signatureImage:f,subtitle:a}},3:async function(e){const{issuer:t,metadataJson:r,metadata:n,issuanceDate:i,id:o,expirationDate:s,display:a}=e,c=n||r;return{display:a,expires:s,issuedOn:i,id:o,issuer:await pd.verifier.getIssuerProfile(t),metadataJson:c,recipientFullName:gd(e),recordLink:o}}};var vd={exports:{}},bd=6e4,wd=36e5,xd=24*wd,_d=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*xd;case"hours":case"hour":case"hrs":case"hr":case"h":return r*wd;case"minutes":case"minute":case"mins":case"min":case"m":return r*bd;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=xd?Bd(e,t,xd,"day"):t>=wd?Bd(e,t,wd,"hour"):t>=bd?Bd(e,t,bd,"minute"):t>=1e3?Bd(e,t,1e3,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=xd?Math.round(e/xd)+"d":t>=wd?Math.round(e/wd)+"h":t>=bd?Math.round(e/bd)+"m":t>=1e3?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Bd(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}!function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==$c&&"env"in $c&&(e=$c.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=function(e){function t(e){let n,i,o,s=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];n=o.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=_d,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(vd,vd.exports);var Ed=vd.exports,Sd=class e{constructor(e,t=new Map,r=0){this.prefix=e,this._existing=t,this.counter=r}clone(){const{prefix:t,_existing:r,counter:n}=this;return new e(t,new Map(r),n)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}};!function(e,t){if(!e.setImmediate){var r,n,i,o,s,a=1,c={},u=!1,l=e.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(e);A=A&&A.setTimeout?A:e,"[object process]"==={}.toString.call(e.process)?r=function(e){Fc((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&f(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(n=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(f,0,e)},A.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[a]=i,r(a),a++},A.clearImmediate=h}function h(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?Fi:self);const Cd=self.crypto||self.msCrypto;var Id=class{constructor(e){if(!Cd||!Cd.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await Cd.subtle.digest(this.algorithm,e));let r="";for(let e=0;e<t.length;++e)r+=t[e].toString(16).padStart(2,"0");return r}},kd=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,r=e.slice();let n=null,i=0;const o=e.length;for(let r=0;r<o;++r){const s=e[r],a=t.get(s);(null===n||s>n)&&(a&&r>0&&s>e[r-1]||!a&&r<o-1&&s>e[r+1])&&(n=s,i=r)}if(null===n)this.done=!0;else{const r=t.get(n)?i-1:i+1;e[i]=e[r],e[r]=n;for(const r of e)r>n&&t.set(r,!t.get(r))}return r}};const Pd="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Td="http://www.w3.org/2001/XMLSchema#string",Od={eoln:/(?:\r\n)|(?:\n)|(?:\r)/g};Od.empty=new RegExp("^[ \\t]*$"),Od.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9])(?:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ.])*(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9])(?:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ.])*(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9])(?:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ.])*(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ]))?))[ \\t]*\\.))[ \\t]*$');var Ld=class e{static parse(e){const t=[],r={},n=e.split(Od.eoln);let i=0;for(const e of n){if(i++,Od.empty.test(e))continue;const n=e.match(Od.quad);if(null===n)throw new Error("N-Quads parse error on line "+i+".");const o={subject:null,predicate:null,object:null,graph:null};if(void 0!==n[1]?o.subject={termType:"NamedNode",value:n[1]}:o.subject={termType:"BlankNode",value:n[2]},o.predicate={termType:"NamedNode",value:n[3]},void 0!==n[4]?o.object={termType:"NamedNode",value:n[4]}:void 0!==n[5]?o.object={termType:"BlankNode",value:n[5]}:(o.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==n[7]?o.object.datatype.value=n[7]:void 0!==n[8]?(o.object.datatype.value=Pd,o.object.language=n[8]):o.object.datatype.value=Td,o.object.value=Md(n[6])),void 0!==n[9]?o.graph={termType:"NamedNode",value:n[9]}:void 0!==n[10]?o.graph={termType:"BlankNode",value:n[10]}:o.graph={termType:"DefaultGraph",value:""},o.graph.value in r){let e=!0;const n=r[o.graph.value];for(const t of n)if(Nd(t,o)){e=!1;break}e&&(n.push(o),t.push(o))}else r[o.graph.value]=[o],t.push(o)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const t=e.subject,r=e.predicate,n=e.object,i=e.graph;let o="";return"NamedNode"===t.termType?o+=`<${t.value}>`:o+=`${t.value}`,o+=` <${r.value}> `,"NamedNode"===n.termType?o+=`<${n.value}>`:"BlankNode"===n.termType?o+=n.value:(o+=`"${function(e){return e.replace(Ud,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(n.value)}"`,n.datatype.value===Pd?n.language&&(o+=`@${n.language}`):n.datatype.value!==Td&&(o+=`^^<${n.datatype.value}>`)),"NamedNode"===i.termType?o+=` <${i.value}>`:"BlankNode"===i.termType&&(o+=` ${i.value}`),o+=" .\n",o}static legacyDatasetToQuads(e){const t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const n in e)e[n].forEach((e=>{const i={};for(const t in e){const n=e[t],o={termType:r[n.type],value:n.value};"Literal"===o.termType&&(o.datatype={termType:"NamedNode"},"datatype"in n&&(o.datatype.value=n.datatype),"language"in n?("datatype"in n||(o.datatype.value=Pd),o.language=n.language):"datatype"in n||(o.datatype.value=Td)),i[t]=o}i.graph="@default"===n?{termType:"DefaultGraph",value:""}:{termType:n.startsWith("_:")?"BlankNode":"NamedNode",value:n},t.push(i)}));return t}};function Nd(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&("Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value)}const Ud=/["\\\n\r]/g,Fd=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function Md(e){return e.replace(Fd,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))}const Rd=Sd,Dd=Id,jd=kd,Qd=Ld;var Hd=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Rd("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];let n=0;for(const e of r)++n%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const i=[...t.keys()].sort(),o=[];for(const e of i){const r=t.get(e);if(r.length>1){o.push(r);continue}const n=r[0];this.canonicalIssuer.getId(n)}for(const e of o){const t=[];for(const r of e){if(this.canonicalIssuer.hasId(r))continue;const e=new Rd("_:b");e.getId(r);const n=await this.hashNDegreeQuads(r,e);t.push(n)}t.sort(Kd);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const s=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),s.push(Qd.serializeQuad(t))}return s.sort(),s.join("")}async hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const r of n){const n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(Qd.serializeQuad(n))}t.sort();const i=new Dd(this.hashAlgorithm);for(const e of t)i.update(e);return r.hash=await i.digest(),r.hash}async hashRelatedBlankNode(e,t,r,n){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const o=new Dd(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}async hashNDegreeQuads(e,t){const r=new Dd(this.hashAlgorithm),n=await this.createHashToRelated(e,t),i=[...n.keys()].sort();for(const e of i){r.update(e);let i,o="";const s=new jd(n.get(e));let a=0;for(;s.hasNext();){const e=s.next();++a%3==0&&await this._yield();let r=t.clone(),n="";const c=[];let u=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?n+=this.canonicalIssuer.getId(t):(r.hasId(t)||c.push(t),n+=r.getId(t)),0!==o.length&&n>o){u=!0;break}if(!u){for(const e of c){const t=await this.hashNDegreeQuads(e,r);if(n+=r.getId(e),n+=`<${t.hash}>`,r=t.issuer,0!==o.length&&n>o){u=!0;break}}u||(0===o.length||n<o)&&(o=n,i=r)}}r.update(o),t=i}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let i=0;for(const o of n)++i%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=await this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===n)return;const s=t.value,a=await this.hashRelatedBlankNode(s,e,i,r),c=o.get(a);c?c.push(s):o.set(a,[s])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}};function Kd(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}const Vd=Hd,zd=Sd,qd=Id,Gd=kd,Wd=Ld;var $d=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new zd("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];for(const e of r)this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const n=[...t.keys()].sort(),i=[];for(const e of n){const r=t.get(e);if(r.length>1){i.push(r);continue}const n=r[0];this.canonicalIssuer.getId(n)}for(const e of i){const t=[];for(const r of e){if(this.canonicalIssuer.hasId(r))continue;const e=new zd("_:b");e.getId(r);const n=this.hashNDegreeQuads(r,e);t.push(n)}t.sort(Jd);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const o=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),o.push(Wd.serializeQuad(t))}return o.sort(),o.join("")}hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const r of n){const n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(Wd.serializeQuad(n))}t.sort();const i=new qd(this.hashAlgorithm);for(const e of t)i.update(e);return r.hash=i.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const o=new qd(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}hashNDegreeQuads(e,t){const r=new qd(this.hashAlgorithm),n=this.createHashToRelated(e,t),i=[...n.keys()].sort();for(const e of i){r.update(e);let i,o="";const s=new Gd(n.get(e));for(;s.hasNext();){const e=s.next();let r=t.clone(),n="";const a=[];let c=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?n+=this.canonicalIssuer.getId(t):(r.hasId(t)||a.push(t),n+=r.getId(t)),0!==o.length&&n>o){c=!0;break}if(!c){for(const e of a){const t=this.hashNDegreeQuads(e,r);if(n+=r.getId(e),n+=`<${t.hash}>`,r=t.issuer,0!==o.length&&n>o){c=!0;break}}c||(0===o.length||n<o)&&(o=n,i=r)}}r.update(o),t=i}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const i of n)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===n)return;const s=t.value,a=this.hashRelatedBlankNode(s,e,i,r),c=o.get(a);c?c.push(s):o.set(a,[s])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}};function Jd(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}const Xd=$d,Yd=Hd,Zd=class extends Vd{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let i=0;for(const o of n){let n,s;if("BlankNode"===o.subject.termType&&o.subject.value!==e)s=o.subject.value,n="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;s=o.object.value,n="r"}++i%100==0&&await this._yield();const a=await this.hashRelatedBlankNode(s,o,t,n),c=r.get(a);c?c.push(s):r.set(a,[s])}return r}},ep=$d,tp=class extends Xd{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const i of n){let n,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,n="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,n="r"}const s=this.hashRelatedBlankNode(o,i,t,n),a=r.get(s);a?a.push(o):r.set(s,[o])}return r}};let rp;try{rp=require("rdf-canonize-native")}catch(e){}const np={};var ip=np;np.NQuads=Ld,np.IdentifierIssuer=Sd,np._rdfCanonizeNative=function(e){return e&&(rp=e),rp},np.canonize=async function(e,t){if(Array.isArray(e)||(e=np.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!rp)throw new Error("rdf-canonize-native not available");return new Promise(((r,n)=>rp.canonize(e,t,((e,t)=>e?n(e):r(t)))))}if("URDNA2015"===t.algorithm)return new Yd(t).main(e);if("URGNA2012"===t.algorithm)return new Zd(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},np._canonizeSync=function(e,t){if(Array.isArray(e)||(e=np.NQuads.legacyDatasetToQuads(e)),t.useNative){if(rp)return rp.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new ep(t).main(e);if("URGNA2012"===t.algorithm)return new tp(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)};var op=ip;const sp={};var ap=sp;sp.isArray=Array.isArray,sp.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),sp.isDouble=e=>sp.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),sp.isEmptyObject=e=>sp.isObject(e)&&0===Object.keys(e).length,sp.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),sp.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),sp.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),sp.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),sp.isUndefined=e=>void 0===e;const cp=ap,up={};var lp=up;up.isSubject=e=>!(!cp.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),up.isSubjectReference=e=>cp.isObject(e)&&1===Object.keys(e).length&&"@id"in e,up.isValue=e=>cp.isObject(e)&&"@value"in e,up.isList=e=>cp.isObject(e)&&"@list"in e,up.isGraph=e=>cp.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,up.isSimpleGraph=e=>up.isGraph(e)&&!("@id"in e),up.isBlankNode=e=>!!cp.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e));var Ap=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}};const hp=lp,fp=ap,dp=op.IdentifierIssuer,pp=Ap,gp=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,mp=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,yp=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,vp="application/ld+json, application/json",bp={};var wp=bp;function xp(e,t){if(fp.isArray(t))for(let r=0;r<t.length;++r)t[r]=xp(e,t[r]);else if(hp.isList(t))t["@list"]=xp(e,t["@list"]);else if(fp.isObject(t)){hp.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];"@id"!==i&&(t[i]=xp(e,t[i]))}}return t}bp.IdentifierIssuer=dp,bp.clone=function(e){if(e&&"object"==typeof e){let t;if(fp.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=bp.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,bp.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(bp.clone(r))}else if(fp.isObject(e)){t={};for(const r in e)t[r]=bp.clone(e[r])}else t=e.toString();return t}return e},bp.asArray=function(e){return Array.isArray(e)?e:[e]},bp.buildHeaders=(e={})=>{const t=Object.keys(e).some((e=>"accept"===e.toLowerCase()));if(t)throw new RangeError('Accept header may not be specified; only "'+vp+'" is supported.');return Object.assign({Accept:vp},e)},bp.parseLinkHeader=e=>{const t={},r=e.match(gp);for(let e=0;e<r.length;++e){let n=r[e].match(mp);if(!n)continue;const i={target:n[1]},o=n[2];for(;n=yp.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t.hasOwnProperty(s)?t[s]=[t[s],i]:t[s]=i}return t},bp.validateTypeValue=(e,t)=>{if(!(fp.isString(e)||fp.isArray(e)&&e.every((e=>fp.isString(e))))){if(t&&fp.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&bp.asArray(e["@default"]).every((e=>fp.isString(e))))return}throw new pp('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},bp.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!fp.isArray(r)||r.length>0}return!1},bp.hasValue=(e,t,r)=>{if(bp.hasProperty(e,t)){let n=e[t];const i=hp.isList(n);if(fp.isArray(n)||i){i&&(n=n["@list"]);for(let e=0;e<n.length;++e)if(bp.compareValues(r,n[e]))return!0}else if(!fp.isArray(r))return bp.compareValues(r,n)}return!1},bp.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(fp.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)bp.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&bp.hasValue(e,t,r);fp.isArray(e[t])||i&&!n.propertyIsArray||(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},bp.getValues=(e,t)=>[].concat(e[t]||[]),bp.removeProperty=(e,t)=>{delete e[t]},bp.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=bp.getValues(e,t).filter((e=>!bp.compareValues(e,r)));0===i.length?bp.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},bp.relabelBlankNodes=(e,t)=>xp((t=t||{}).issuer||new dp("_:b"),e),bp.compareValues=(e,t)=>e===t||!(!hp.isValue(e)||!hp.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(fp.isObject(e)&&"@id"in e&&fp.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],bp.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1;const _p="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Bp="http://www.w3.org/2001/XMLSchema#";var Ep={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:_p,RDF_LIST:_p+"List",RDF_FIRST:_p+"first",RDF_REST:_p+"rest",RDF_NIL:_p+"nil",RDF_TYPE:_p+"type",RDF_PLAIN_LITERAL:_p+"PlainLiteral",RDF_XML_LITERAL:_p+"XMLLiteral",RDF_JSON_LITERAL:_p+"JSON",RDF_OBJECT:_p+"object",RDF_LANGSTRING:_p+"langString",XSD:Bp,XSD_BOOLEAN:Bp+"boolean",XSD_DOUBLE:Bp+"double",XSD_INTEGER:Bp+"integer",XSD_STRING:Bp+"string"},Sp=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}};const Cp=ap,Ip={};var kp=Ip;Ip.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},Ip.parse=(e,t)=>{const r={},n=Ip.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=void 0===i[o]?null:i[o];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=Ip.removeDotSegments(r.path),r},Ip.prependBase=(e,t)=>{if(null===e)return t;if(Ip.isAbsolute(t))return t;e&&!Cp.isString(e)||(e=Ip.parse(e||""));const r=Ip.parse(t),n={protocol:e.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,""===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,n.path=t}n.query=r.query}""!==r.path&&(n.path=Ip.removeDotSegments(n.path));let i=n.protocol;return null!==n.authority&&(i+="//"+n.authority),i+=n.path,null!==n.query&&(i+="?"+n.query),null!==r.fragment&&(i+="#"+r.fragment),""===i&&(i="./"),i},Ip.removeBase=(e,t)=>{if(null===e)return t;e&&!Cp.isString(e)||(e=Ip.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const n=Ip.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),s=n.fragment||n.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let e=0;e<i.length;++e)a+="../"}return a+=o.join("/"),null!==n.query&&(a+="?"+n.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},Ip.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const Pp=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;Ip.isAbsolute=e=>Cp.isString(e)&&Pp.test(e),Ip.isRelative=e=>Cp.isString(e);const{parseLinkHeader:Tp,buildHeaders:Op}=wp,{LINK_HEADER_CONTEXT:Lp}=Ep,Np=Ap,Up=Sp,{prependBase:Fp}=kp,Mp=/(^|(\r\n))link:/i,Rp=({secure:e,headers:t={},xhr:r}={headers:{}})=>(t=Op(t),(new Up).wrapLoader((async function n(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new Np('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new Np('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let o;try{o=await function(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise(((e,i)=>{n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()}))}(r,i,t)}catch(e){throw new Np("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(o.status>=400)throw new Np("URL could not be dereferenced: "+o.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:o.status});let s={contextUrl:null,documentUrl:i,document:o.response},a=null;const c=o.getResponseHeader("Content-Type");let u;if(Mp.test(o.getAllResponseHeaders())&&(u=o.getResponseHeader("Link")),u&&"application/ld+json"!==c){const e=Tp(u),t=e[Lp];if(Array.isArray(t))throw new Np("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(s.contextUrl=t.target),a=e.alternate,a&&"application/ld+json"==a.type&&!(c||"").match(/^application\/(\w*\+)?json$/)&&(s=await n(Fp(i,a.target)))}return s}))),Dp={};var jp=Dp;Dp.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=Rp,e.useDocumentLoader("xhr"))},Dp.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})};const Qp=od,{isArray:Hp,isObject:Kp,isString:Vp}=ap,{asArray:zp}=wp,{prependBase:qp}=kp,Gp=Ap,Wp=class{constructor({document:e}){this.document=e,this.cache=new Qp({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}};function $p(e){throw new Gp("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function Jp({context:e,base:t}){if(!e)return;const r=e["@context"];if(Vp(r))e["@context"]=qp(t,r);else if(Hp(r))for(let e=0;e<r.length;++e){const n=r[e];Vp(n)?r[e]=qp(t,n):Kp(n)&&Jp({context:{"@context":n},base:t})}else if(Kp(r))for(const e in r)Jp({context:r[e],base:t})}var Xp=op.NQuads;const Yp=wp,Zp=Ap,{isArray:eg,isObject:tg,isString:rg,isUndefined:ng}=ap,{isAbsolute:ig,isRelative:og,prependBase:sg}=kp,{asArray:ag,compareShortestLeast:cg}=wp,ug=new Map,lg=/^@[a-zA-Z]+$/,Ag={};var hg=Ag;function fg(e,t,r,n,i,o){if(null===t||!rg(t)||Ag.isKeyword(t))return t;if(t.match(lg))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&Ag.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),(r=r||{}).vocab){const r=e.mappings.get(t);if(null===r)return null;if(tg(r)&&"@id"in r)return r["@id"]}const s=t.indexOf(":");if(s>0){const r=t.substr(0,s),a=t.substr(s+1);if("_"===r||0===a.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&Ag.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:i,options:o});const c=e.mappings.get(r);if(c&&c._prefix)return c["@id"]+a;if(ig(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return sg(sg(o.base,e["@base"]),t)}else if(r.base)return sg(o.base,t);return t}function dg(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!dg(e[r],t[r]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const r in e){let n=e[r],i=t[r];if("@container"===r&&Array.isArray(n)&&Array.isArray(i)&&(n=n.slice().sort(),i=i.slice().sort()),!dg(n,i))return!1}return!0}Ag.process=async({activeCtx:e,localCtx:t,options:r,propagate:n=!0,overrideProtected:i=!1,cycles:o=new Set})=>{if(tg(t)&&"@context"in t&&eg(t["@context"])&&(t=t["@context"]),0===ag(t).length)return e;const s=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});tg(s[0].document)&&"boolean"==typeof s[0].document["@propagate"]&&(n=s[0].document["@propagate"]);let a=e;n||a.previousContext||(a=a.clone(),a.previousContext=e);for(const n of s){let{document:s}=n;if(e=a,null===s){if(!i&&0!==Object.keys(e.protected).length){const i=r&&r.protectedMode||"error";if("error"===i)throw new Zp("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===i){console.warn("WARNING: invalid context nullification");const t=n.getProcessed(e);if(t){a=e=t;continue}const i=e;a=e=Ag.getInitialContext(r).clone();for(const[t,r]of Object.entries(i.protected))r&&(e.mappings[t]=Yp.clone(i.mappings[t]));e.protected=Yp.clone(i.protected),n.setProcessed(i,a);continue}throw new Zp("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:i})}a=e=Ag.getInitialContext(r).clone();continue}const c=n.getProcessed(e);if(c){a=e=c;continue}if(tg(s)&&"@context"in s&&(s=s["@context"]),!tg(s))throw new Zp("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s});a=a.clone();const u=new Map;if("@version"in s){if(1.1!==s["@version"])throw new Zp("Unsupported JSON-LD version: "+s["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:s});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new Zp("@version: "+s["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:s});a.processingMode="json-ld-1.1",a["@version"]=s["@version"],u.set("@version",!0)}if(a.processingMode=a.processingMode||e.processingMode,"@base"in s){let e=s["@base"];if(null===e||ig(e));else{if(!og(e))throw new Zp('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:s});e=sg(a["@base"],e)}a["@base"]=e,u.set("@base",!0)}if("@vocab"in s){const e=s["@vocab"];if(null===e)delete a["@vocab"];else{if(!rg(e))throw new Zp('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});if(!ig(e)&&Ag.processingMode(a,1))throw new Zp('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});a["@vocab"]=fg(a,e,{vocab:!0,base:!0},void 0,void 0,r)}u.set("@vocab",!0)}if("@language"in s){const e=s["@language"];if(null===e)delete a["@language"];else{if(!rg(e))throw new Zp('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:s});a["@language"]=e.toLowerCase()}u.set("@language",!0)}if("@direction"in s){const t=s["@direction"];if("json-ld-1.0"===e.processingMode)throw new Zp("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:s});if(null===t)delete a["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new Zp('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:s});a["@direction"]=t}u.set("@direction",!0)}if("@propagate"in s){const r=s["@propagate"];if("json-ld-1.0"===e.processingMode)throw new Zp("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:s});if("boolean"!=typeof r)throw new Zp("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});u.set("@propagate",!0)}if("@import"in s){const n=s["@import"];if("json-ld-1.0"===e.processingMode)throw new Zp("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:s});if(!rg(n))throw new Zp("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const i=await r.contextResolver.resolve({activeCtx:e,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==i.length)throw new Zp("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const o=i[0].getProcessed(e);if(o)s=o;else{const r=i[0].document;if("@import"in r)throw new Zp("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in r)s.hasOwnProperty(e)||(s[e]=r[e]);i[0].setProcessed(e,s)}u.set("@import",!0)}u.set("@protected",s["@protected"]||!1);for(const e in s)if(Ag.createTermDefinition({activeCtx:a,localCtx:s,term:e,defined:u,options:r,overrideProtected:i}),tg(s[e])&&"@context"in s[e]){const n=s[e]["@context"];let i=!0;if(rg(n)){const e=sg(r.base,n);o.has(e)?i=!1:o.add(e)}if(i)try{await Ag.process({activeCtx:a.clone(),localCtx:s[e]["@context"],overrideProtected:!0,options:r,cycles:o})}catch(t){throw new Zp("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:s[e]["@context"],term:e})}}n.setProcessed(e,a)}return a},Ag.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:i,overrideProtected:o=!1})=>{if(n.has(r)){if(n.get(r))return;throw new Zp("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}let s;if(n.set(r,!1),t.hasOwnProperty(r)&&(s=t[r]),"@type"===r&&tg(s)&&"@set"===(s["@container"]||"@set")&&Ag.processingMode(e,1.1)){const e=["@container","@id","@protected"],n=Object.keys(s);if(0===n.length||n.some((t=>!e.includes(t))))throw new Zp("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(Ag.isKeyword(r))throw new Zp("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(lg))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});if(""===r)throw new Zp("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const a=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let c=!1;if((rg(s)||null===s)&&(c=!0,s={"@id":s}),!tg(s))throw new Zp("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const l=["@container","@id","@language","@reverse","@type"];Ag.processingMode(e,1.1)&&l.push("@context","@direction","@index","@nest","@prefix","@protected");for(const e in s)if(!l.includes(e))throw new Zp("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const A=r.indexOf(":");if(u._termHasColon=A>0,"@reverse"in s){if("@id"in s)throw new Zp("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in s)throw new Zp("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const o=s["@reverse"];if(!rg(o))throw new Zp("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!Ag.isKeyword(o)&&o.match(lg))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:o}),void(a?e.mappings.set(r,a):e.mappings.delete(r));const c=fg(e,o,{vocab:!0,base:!1},t,n,i);if(!ig(c))throw new Zp("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=c,u.reverse=!0}else if("@id"in s){let o=s["@id"];if(o&&!rg(o))throw new Zp("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===o)u["@id"]=null;else{if(!Ag.isKeyword(o)&&o.match(lg))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:o}),void(a?e.mappings.set(r,a):e.mappings.delete(r));if(o!==r){if(o=fg(e,o,{vocab:!0,base:!1},t,n,i),!ig(o)&&!Ag.isKeyword(o))throw new Zp("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)&&fg(e,r,{vocab:!0,base:!1},t,new Map(n).set(r,!0),i)!==o)throw new Zp("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=o,u._prefix=c&&!u._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in u))if(u._termHasColon){const o=r.substr(0,A);if(t.hasOwnProperty(o)&&Ag.createTermDefinition({activeCtx:e,localCtx:t,term:o,defined:n,options:i}),e.mappings.has(o)){const t=r.substr(A+1);u["@id"]=e.mappings.get(o)["@id"]+t}else u["@id"]=r}else if("@type"===r)u["@id"]=r;else{if(!("@vocab"in e))throw new Zp("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((!0===s["@protected"]||!0===n.get("@protected")&&!1!==s["@protected"])&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in s){let r=s["@type"];if(!rg(r))throw new Zp("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(Ag.processingMode(e,1))throw new Zp(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(r=fg(e,r,{vocab:!0,base:!1},t,n,i),!ig(r))throw new Zp("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new Zp("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=r}if("@container"in s){const r=rg(s["@container"])?[s["@container"]]:s["@container"]||[],n=["@list","@set","@index","@language"];let i=!0;const o=r.includes("@set");if(Ag.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new Zp("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new Zp("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else i&=r.length<=(o?2:1);if(r.includes("@type")&&(u["@type"]=u["@type"]||"@id",!["@id","@vocab"].includes(u["@type"])))throw new Zp("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else i&=!eg(s["@container"]),i&=r.length<=1;if(i&=r.every((e=>n.includes(e))),i&=!(o&&r.includes("@list")),!i)throw new Zp("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!r.every((e=>["@index","@set"].includes(e))))throw new Zp("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=r}if("@index"in s){if(!("@container"in s)||!u["@container"].includes("@index"))throw new Zp(`Invalid JSON-LD syntax; @index without @index in @container: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!rg(s["@index"])||0===s["@index"].indexOf("@"))throw new Zp(`Invalid JSON-LD syntax; @index must expand to an IRI: "${s["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});u["@index"]=s["@index"]}if("@context"in s&&(u["@context"]=s["@context"]),"@language"in s&&!("@type"in s)){let e=s["@language"];if(null!==e&&!rg(e))throw new Zp("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),u["@language"]=e}if("@prefix"in s){if(r.match(/:|\//))throw new Zp("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(Ag.isKeyword(u["@id"]))throw new Zp("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof s["@prefix"])throw new Zp("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});u._prefix=!0===s["@prefix"]}if("@direction"in s){const e=s["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new Zp('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});u["@direction"]=e}if("@nest"in s){const e=s["@nest"];if(!rg(e)||"@nest"!==e&&0===e.indexOf("@"))throw new Zp("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=e}
// disallow aliasing @context and @preserve
const h=u["@id"];if("@context"===h||"@preserve"===h)throw new Zp("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(a&&a.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!dg(a,u))){const e=i&&i.protectedMode||"error";if("error"===e)throw new Zp(`Invalid JSON-LD syntax; tried to redefine "${r}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new Zp("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},Ag.expandIri=(e,t,r,n)=>fg(e,t,r,void 0,void 0,n),Ag.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=ug.get(t);if(r)return r;const n={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},s=(e["@language"]||"@none").toLowerCase(),a=e["@direction"],c=e.mappings,u=[...c.keys()].sort(cg);for(const e of u){const i=c.get(e);if(null===i)continue;let u=i["@container"]||"@none";if(u=[].concat(u).sort().join(""),null===i["@id"])continue;const l=ag(i["@id"]);for(const c of l){let l=t[c];const A=Ag.isKeyword(c);if(l)A||i._termHasColon||n[c].push(e);else if(t[c]=l={},!A&&!i._termHasColon){n[c]=[e];const t={iri:c,terms:n[c]};c[0]in r?r[c[0]].push(t):r[c[0]]=[t]}if(l[u]||(l[u]={"@language":{},"@type":{},"@any":{}}),l=l[u],o(e,l["@any"],"@none"),i.reverse)o(e,l["@type"],"@reverse");else if("@none"===i["@type"])o(e,l["@any"],"@none"),o(e,l["@language"],"@none"),o(e,l["@type"],"@none");else if("@type"in i)o(e,l["@type"],i["@type"]);else if("@language"in i&&"@direction"in i){const t=i["@language"],r=i["@direction"];o(e,l["@language"],t&&r?`${t}_${r}`.toLowerCase():t?t.toLowerCase():r?`_${r}`:"@null")}else"@language"in i?o(e,l["@language"],(i["@language"]||"@null").toLowerCase()):"@direction"in i?i["@direction"]?o(e,l["@language"],`_${i["@direction"]}`):o(e,l["@language"],"@none"):a?(o(e,l["@language"],`_${a}`),o(e,l["@language"],"@none"),o(e,l["@type"],"@none")):(o(e,l["@language"],s),o(e,l["@language"],"@none"),o(e,l["@type"],"@none"))}}for(const e in r)i(r,e,1);return t},clone:function(){const e={};return e.mappings=Yp.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=Yp.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===ug.size&&ug.clear(),ug.set(t,n),n;function i(e,t,r){const n=e[t],o=e[t]={};let s,a;for(const e of n)s=e.iri,a=r>=s.length?"":s[r],a in o?o[a].push(e):o[a]=[e];for(const e in o)""!==e&&i(o,e,r+1)}function o(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},Ag.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(ng(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},Ag.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,Ag.isKeyword=e=>{if(!rg(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};const pg=Ap,{isArray:gg,isObject:mg,isEmptyObject:yg,isString:vg,isUndefined:bg}=ap,{isList:wg,isValue:xg,isGraph:_g,isSubject:Bg}=lp,{expandIri:Eg,getContextValue:Sg,isKeyword:Cg,process:Ig,processingMode:kg}=hg,{isAbsolute:Pg}=kp,{addValue:Tg,asArray:Og,getValues:Lg,validateTypeValue:Ng}=wp,Ug={};var Fg=Ug;const Mg=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function Rg({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:s,typeKey:a,typeScopedContext:c,expansionMap:u}){const l=Object.keys(n).sort(),A=[];let h;const f=n[a]&&"@json"===Eg(e,gg(n[a])?n[a][0]:n[a],{vocab:!0},o);for(const a of l){let l,d=n[a];if("@context"===a)continue;let p=Eg(e,a,{vocab:!0},o);if((null===p||!Pg(p)&&!Cg(p))&&(p=u({unmappedProperty:a,activeCtx:e,activeProperty:t,parent:n,options:o,insideList:s,value:d,expandedParent:i}),void 0===p))continue;if(Cg(p)){if("@reverse"===r)throw new pg("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:d});if(p in i&&"@included"!==p&&"@type"!==p)throw new pg("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:p})}if("@id"===p){if(!vg(d)){if(!o.isFrame)throw new pg('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:d});if(mg(d)){if(!yg(d))throw new pg('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:d})}else{if(!gg(d))throw new pg('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:d});if(!d.every((e=>vg(e))))throw new pg('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:d})}}Tg(i,"@id",Og(d).map((t=>vg(t)?Eg(e,t,{base:!0},o):t)),{propertyIsArray:o.isFrame});continue}if("@type"===p){mg(d)&&(d=Object.fromEntries(Object.entries(d).map((([e,t])=>[Eg(c,e,{vocab:!0}),Og(t).map((e=>Eg(c,e,{base:!0,vocab:!0})))])))),Ng(d,o.isFrame),Tg(i,"@type",Og(d).map((e=>vg(e)?Eg(c,e,{base:!0,vocab:!0},o):e)),{propertyIsArray:o.isFrame});continue}if("@included"===p&&kg(e,1.1)){const r=Og(await Ug.expand({activeCtx:e,activeProperty:t,element:d,options:o,expansionMap:u}));if(!r.every((e=>Bg(e))))throw new pg("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:d});Tg(i,"@included",r,{propertyIsArray:!0});continue}if("@graph"===p&&!mg(d)&&!gg(d))throw new pg('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:d});if("@value"===p){h=d,f&&kg(e,1.1)?i["@value"]=d:Tg(i,"@value",d,{propertyIsArray:o.isFrame});continue}if("@language"===p){if(null===d)continue;if(!vg(d)&&!o.isFrame)throw new pg('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:d});d=Og(d).map((e=>vg(e)?e.toLowerCase():e));for(const e of d)vg(e)&&!e.match(Mg)&&console.warn(`@language must be valid BCP47: ${e}`);Tg(i,"@language",d,{propertyIsArray:o.isFrame});continue}if("@direction"===p){if(!vg(d)&&!o.isFrame)throw new pg('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:d});d=Og(d);for(const e of d)if(vg(e)&&"ltr"!==e&&"rtl"!==e)throw new pg('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:d});Tg(i,"@direction",d,{propertyIsArray:o.isFrame});continue}if("@index"===p){if(!vg(d))throw new pg('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:d});Tg(i,"@index",d);continue}if("@reverse"===p){if(!mg(d))throw new pg('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:d});if(l=await Ug.expand({activeCtx:e,activeProperty:"@reverse",element:d,options:o,expansionMap:u}),"@reverse"in l)for(const e in l["@reverse"])Tg(i,e,l["@reverse"][e],{propertyIsArray:!0});let t=i["@reverse"]||null;for(const e in l){if("@reverse"===e)continue;null===t&&(t=i["@reverse"]={}),Tg(t,e,[],{propertyIsArray:!0});const r=l[e];for(let n=0;n<r.length;++n){const i=r[n];if(xg(i)||wg(i))throw new pg('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:l});Tg(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===p){A.push(a);continue}let g=e;const m=Sg(e,a,"@context");bg(m)||(g=await Ig({activeCtx:e,localCtx:m,propagate:!0,overrideProtected:!0,options:o}));const y=Sg(g,a,"@container")||[];if(y.includes("@language")&&mg(d))l=jg(g,d,Sg(g,a,"@direction"),o);else if(y.includes("@index")&&mg(d)){const t=y.includes("@graph"),r=Sg(g,a,"@index")||"@index",n="@index"!==r&&Eg(e,r,{vocab:!0},o);l=await Qg({activeCtx:g,options:o,activeProperty:a,value:d,expansionMap:u,asGraph:t,indexKey:r,propertyIndex:n})}else if(y.includes("@id")&&mg(d)){const e=y.includes("@graph");l=await Qg({activeCtx:g,options:o,activeProperty:a,value:d,expansionMap:u,asGraph:e,indexKey:"@id"})}else if(y.includes("@type")&&mg(d))l=await Qg({activeCtx:g.revertToPreviousContext(),options:o,activeProperty:a,value:d,expansionMap:u,asGraph:!1,indexKey:"@type"});else{const n="@list"===p;if(n||"@set"===p){let e=t;n&&"@graph"===r&&(e=null),l=await Ug.expand({activeCtx:g,activeProperty:e,element:d,options:o,insideList:n,expansionMap:u})}else l="@json"===Sg(e,a,"@type")?{"@type":"@json","@value":d}:await Ug.expand({activeCtx:g,activeProperty:a,element:d,options:o,insideList:!1,expansionMap:u})}if(null!==l||"@value"===p||(l=u({unmappedValue:d,expandedProperty:p,activeCtx:g,activeProperty:t,parent:n,options:o,insideList:s,key:a,expandedParent:i}),void 0!==l))if("@list"!==p&&!wg(l)&&y.includes("@list")&&(l={"@list":Og(l)}),y.includes("@graph")&&!y.some((e=>"@id"===e||"@index"===e))&&(l=Og(l).map((e=>({"@graph":Og(e)})))),g.mappings.has(a)&&g.mappings.get(a).reverse){const e=i["@reverse"]=i["@reverse"]||{};l=Og(l);for(let t=0;t<l.length;++t){const r=l[t];if(xg(r)||wg(r))throw new pg('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:l});Tg(e,p,r,{propertyIsArray:!0})}}else Tg(i,p,l,{propertyIsArray:!0})}if("@value"in i)if("@json"===i["@type"]&&kg(e,1.1));else if((mg(h)||gg(h))&&!o.isFrame)throw new pg('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:h});for(const l of A){const A=gg(n[l])?n[l]:[n[l]];for(const n of A){if(!mg(n)||Object.keys(n).some((t=>"@value"===Eg(e,t,{vocab:!0},o))))throw new pg("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:n});await Rg({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o,insideList:s,typeScopedContext:c,typeKey:a,expansionMap:u})}}}function Dg({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;const i=Eg(e,t,{vocab:!0},n);if("@id"===i)return Eg(e,r,{base:!0},n);if("@type"===i)return Eg(e,r,{vocab:!0,base:!0},n);const o=Sg(e,t,"@type");if(("@id"===o||"@graph"===i)&&vg(r))return{"@id":Eg(e,r,{base:!0},n)};if("@vocab"===o&&vg(r))return{"@id":Eg(e,r,{vocab:!0,base:!0},n)};if(Cg(i))return r;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(vg(r)){const r=Sg(e,t,"@language");null!==r&&(s["@language"]=r);const n=Sg(e,t,"@direction");null!==n&&(s["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function jg(e,t,r,n){const i=[],o=Object.keys(t).sort();for(const s of o){const o=Eg(e,s,{vocab:!0},n);let a=t[s];gg(a)||(a=[a]);for(const e of a){if(null===e)continue;if(!vg(e))throw new pg("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const n={"@value":e};"@none"!==o&&(n["@language"]=s.toLowerCase()),r&&(n["@direction"]=r),i.push(n)}}return i}async function Qg({activeCtx:e,options:t,activeProperty:r,value:n,expansionMap:i,asGraph:o,indexKey:s,propertyIndex:a}){const c=[],u=Object.keys(n).sort(),l="@type"===s;for(let A of u){if(l){const r=Sg(e,A,"@context");bg(r)||(e=await Ig({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let u,h=n[A];gg(h)||(h=[h]),h=await Ug.expand({activeCtx:e,activeProperty:r,element:h,options:t,insideList:!1,insideIndex:!0,expansionMap:i}),u=a?"@none"===A?"@none":Dg({activeCtx:e,activeProperty:s,value:A,options:t}):Eg(e,A,{vocab:!0},t),"@id"===s?A=Eg(e,A,{base:!0},t):l&&(A=u);for(let e of h){if(o&&!_g(e)&&(e={"@graph":[e]}),"@type"===s)"@none"===u||(e["@type"]?e["@type"]=[A].concat(e["@type"]):e["@type"]=[A]);else{if(xg(e)&&!["@language","@type","@index"].includes(s))throw new pg(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${s}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});a?"@none"!==u&&Tg(e,a,u,{propertyIsArray:!0,prependValue:!0}):"@none"===u||s in e||(e[s]=A)}c.push(e)}}return c}Ug.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null,expansionMap:a=(()=>{})})=>{if(null==r)return null;if("@default"===t&&(n=Object.assign({},n,{isFrame:!1})),!gg(r)&&!mg(r)){if(!i&&(null===t||"@graph"===Eg(e,t,{vocab:!0},n))){const o=await a({unmappedValue:r,activeCtx:e,activeProperty:t,options:n,insideList:i});return void 0===o?null:o}return Dg({activeCtx:e,activeProperty:t,value:r,options:n})}if(gg(r)){let c=[];const u=Sg(e,t,"@container")||[];i=i||u.includes("@list");for(let u=0;u<r.length;++u){let l=await Ug.expand({activeCtx:e,activeProperty:t,element:r[u],options:n,expansionMap:a,insideIndex:o,typeScopedContext:s});i&&gg(l)&&(l={"@list":l}),null===l&&(l=await a({unmappedValue:r[u],activeCtx:e,activeProperty:t,parent:r,index:u,options:n,expandedParent:c,insideList:i}),void 0===l)||(gg(l)?c=c.concat(l):c.push(l))}return c}const c=Eg(e,t,{vocab:!0},n),u=Sg(e,t,"@context");s=s||(e.previousContext?e:null);let l=Object.keys(r).sort(),A=!o;if(A&&s&&l.length<=2&&!l.includes("@context"))for(const t of l){const r=Eg(s,t,{vocab:!0},n);if("@value"===r){A=!1,e=s;break}if("@id"===r&&1===l.length){A=!1;break}}A&&(e=e.revertToPreviousContext()),bg(u)||(e=await Ig({activeCtx:e,localCtx:u,propagate:!0,overrideProtected:!0,options:n})),"@context"in r&&(e=await Ig({activeCtx:e,localCtx:r["@context"],options:n})),s=e;let h=null;for(const t of l)if("@type"===Eg(e,t,{vocab:!0},n)){h=h||t;const i=r[t],o=Array.isArray(i)?i.length>1?i.slice().sort():i:[i];for(const t of o){const r=Sg(s,t,"@context");bg(r)||(e=await Ig({activeCtx:e,localCtx:r,options:n,propagate:!1}))}}let f={};await Rg({activeCtx:e,activeProperty:t,expandedActiveProperty:c,element:r,expandedParent:f,options:n,insideList:i,typeKey:h,typeScopedContext:s,expansionMap:a}),l=Object.keys(f);let d=l.length;if("@value"in f){if("@type"in f&&("@language"in f||"@direction"in f))throw new pg('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:f});let o=d-1;if("@type"in f&&(o-=1),"@index"in f&&(o-=1),"@language"in f&&(o-=1),"@direction"in f&&(o-=1),0!==o)throw new pg('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:f});const s=null===f["@value"]?[]:Og(f["@value"]),c=Lg(f,"@type");if(kg(e,1.1)&&c.includes("@json")&&1===c.length);else if(0===s.length){const o=await a({unmappedValue:f,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});f=void 0!==o?o:null}else{if(!s.every((e=>vg(e)||yg(e)))&&"@language"in f)throw new pg("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:f});if(!c.every((e=>Pg(e)&&!(vg(e)&&0===e.indexOf("_:"))||yg(e))))throw new pg('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:f})}}else if("@type"in f&&!gg(f["@type"]))f["@type"]=[f["@type"]];else if("@set"in f||"@list"in f){if(d>1&&(2!==d||!("@index"in f)))throw new pg('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:f});"@set"in f&&(f=f["@set"],l=Object.keys(f),d=l.length)}else if(1===d&&"@language"in f){const o=await a(f,{unmappedValue:f,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});f=void 0!==o?o:null}if(mg(f)&&!n.keepFreeFloatingNodes&&!i&&(null===t||"@graph"===c)&&(0===d||"@value"in f||"@list"in f||1===d&&"@id"in f)){const o=await a({unmappedValue:f,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});f=void 0!==o?o:null}return f};const{isKeyword:Hg}=hg,Kg=lp,Vg=ap,zg=wp,qg=Ap,Gg={};var Wg=Gg;Gg.createMergedNodeMap=(e,t)=>{const r=(t=t||{}).issuer||new zg.IdentifierIssuer("_:b"),n={"@default":{}};return Gg.createNodeMap(e,n,"@default",r),Gg.mergeNodeMaps(n)},Gg.createNodeMap=(e,t,r,n,i,o)=>{if(Vg.isArray(e)){for(const i of e)Gg.createNodeMap(i,t,r,n,void 0,o);return}if(!Vg.isObject(e))return void(o&&o.push(e));if(Kg.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=n.getId(t))}return void(o&&o.push(e))}if(o&&Kg.isList(e)){const s=[];return Gg.createNodeMap(e["@list"],t,r,n,i,s),void o.push({"@list":s})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&n.getId(e)}Vg.isUndefined(i)&&(i=Kg.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const s=t[r],a=s[i]=s[i]||{};a["@id"]=i;const c=Object.keys(e).sort();for(let o of c){if("@id"===o)continue;if("@reverse"===o){const o={"@id":i},a=e["@reverse"];for(const e in a){const i=a[e];for(const a of i){let i=a["@id"];Kg.isBlankNode(a)&&(i=n.getId(i)),Gg.createNodeMap(a,t,r,n,i),zg.addValue(s[i],e,o,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){i in t||(t[i]={}),Gg.createNodeMap(e[o],t,i,n);continue}if("@included"===o){Gg.createNodeMap(e[o],t,r,n);continue}if("@type"!==o&&Hg(o)){if("@index"===o&&o in a&&(e[o]!==a[o]||e[o]["@id"]!==a[o]["@id"]))throw new qg("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[o]=e[o];continue}const c=e[o];if(0===o.indexOf("_:")&&(o=n.getId(o)),0!==c.length)for(let e of c)if("@type"===o&&(e=0===e.indexOf("_:")?n.getId(e):e),Kg.isSubject(e)||Kg.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const i=Kg.isBlankNode(e)?n.getId(e["@id"]):e["@id"];zg.addValue(a,o,{"@id":i},{propertyIsArray:!0,allowDuplicate:!1}),Gg.createNodeMap(e,t,r,n,i)}else if(Kg.isValue(e))zg.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(Kg.isList(e)){const s=[];Gg.createNodeMap(e["@list"],t,r,n,i,s),e={"@list":s},zg.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else Gg.createNodeMap(e,t,r,n,i),zg.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1});else zg.addValue(a,o,[],{propertyIsArray:!0})}},Gg.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const e of Object.keys(i).sort())if(Hg(e)&&"@type"!==e)o[e]=zg.clone(i[e]);else for(const t of i[e])zg.addValue(o,e,zg.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},Gg.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let i=t[n];i?"@graph"in i||(i["@graph"]=[]):t[n]=i={"@id":n,"@graph":[]};const o=i["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];Kg.isSubjectReference(t)||o.push(t)}}return t};const{isSubjectReference:$g}=lp,{createMergedNodeMap:Jg}=Wg,Xg={};var Yg=Xg;Xg.flatten=e=>{const t=Jg(e),r=[],n=Object.keys(t).sort();for(let e=0;e<n.length;++e){const i=t[n[e]];$g(i)||r.push(i)}return r};const Zg=Ap,em=lp,tm=ap,rm=wp,{RDF_LIST:nm,RDF_FIRST:im,RDF_REST:om,RDF_NIL:sm,RDF_TYPE:am,RDF_JSON_LITERAL:cm,XSD_BOOLEAN:um,XSD_DOUBLE:lm,XSD_INTEGER:Am,XSD_STRING:hm}=Ep,fm=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,dm={};var pm=dm;function gm(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const n={"@value":e.value};if(e.language)n["@language"]=e.language;else{let i=e.datatype.value;if(i||(i=hm),i===cm){i="@json";try{n["@value"]=JSON.parse(n["@value"])}catch(e){throw new Zg("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:n["@value"],cause:e})}}if(t){if(i===um)"true"===n["@value"]?n["@value"]=!0:"false"===n["@value"]&&(n["@value"]=!1);else if(tm.isNumeric(n["@value"]))if(i===Am){const e=parseInt(n["@value"],10);e.toFixed(0)===n["@value"]&&(n["@value"]=e)}else i===lm&&(n["@value"]=parseFloat(n["@value"]));[um,Am,lm,hm].includes(i)||(n["@type"]=i)}else if("i18n-datatype"===r&&i.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=i.split(/[#_]/);e.length>0&&(n["@language"]=e,e.match(fm)||console.warn(`@language must be valid BCP47: ${e}`)),n["@direction"]=t}else i!==hm&&(n["@type"]=i)}return n}dm.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1,rdfDirection:n=null})=>{const i={},o={"@default":i},s={};for(const a of e){const e="DefaultGraph"===a.graph.termType?"@default":a.graph.value;e in o||(o[e]={}),"@default"===e||e in i||(i[e]={"@id":e});const c=o[e],u=a.subject.value,l=a.predicate.value,A=a.object;u in c||(c[u]={"@id":u});const h=c[u],f=A.termType.endsWith("Node");if(f&&!(A.value in c)&&(c[A.value]={"@id":A.value}),l===am&&!t&&f){rm.addValue(h,"@type",A.value,{propertyIsArray:!0});continue}const d=gm(A,r,n);if(rm.addValue(h,l,d,{propertyIsArray:!0}),f)if(A.value===sm){const e=c[A.value];"usages"in e||(e.usages=[]),e.usages.push({node:h,property:l,value:d})}else A.value in s?s[A.value]=!1:s[A.value]={node:h,property:l,value:d}}for(const e in o){const t=o[e];if(!(sm in t))continue;const r=t[sm];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,i=e.value;const o=[],a=[];let c=Object.keys(r).length;for(;n===om&&tm.isObject(s[r["@id"]])&&tm.isArray(r[im])&&1===r[im].length&&tm.isArray(r[om])&&1===r[om].length&&(3===c||4===c&&tm.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===nm)&&(o.push(r[im][0]),a.push(r["@id"]),e=s[r["@id"]],r=e.node,n=e.property,i=e.value,c=Object.keys(r).length,em.isBlankNode(r)););delete i["@id"],i["@list"]=o.reverse();for(const e of a)delete t[e]}delete r.usages}}const a=[],c=Object.keys(i).sort();for(const e of c){const t=i[e];if(e in o){const r=t["@graph"]=[],n=o[e],i=Object.keys(n).sort();for(const e of i){const t=n[e];em.isSubjectReference(t)||r.push(t)}}em.isSubjectReference(t)||a.push(t)}return a};const{createNodeMap:mm}=Wg,{isKeyword:ym}=hg,vm=lp,bm=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r)),"")+"]":"{"+Object.keys(t).sort().reduce(((r,n,i)=>void 0===t[n]||"symbol"==typeof t[n]?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])),"")+"}"},wm=ap,xm=wp,{RDF_FIRST:_m,RDF_REST:Bm,RDF_NIL:Em,RDF_TYPE:Sm,RDF_JSON_LITERAL:Cm,RDF_LANGSTRING:Im,XSD_BOOLEAN:km,XSD_DOUBLE:Pm,XSD_INTEGER:Tm,XSD_STRING:Om}=Ep,{isAbsolute:Lm}=kp,Nm={};var Um=Nm;function Fm(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const o=t[s],a=Object.keys(o).sort();for(let t of a){const a=o[t];if("@type"===t)t=Sm;else if(ym(t))continue;for(const o of a){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!Lm(s))continue;const c={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!Lm(t))continue;if("BlankNode"===c.termType&&!i.produceGeneralizedRdf)continue;const u=Mm(o,n,e,r,i.rdfDirection);u&&e.push({subject:a,predicate:c,object:u,graph:r})}}}}function Mm(e,t,r,n,i){const o={};if(vm.isValue(e)){o.termType="Literal",o.value=void 0,o.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;if("@json"===r)o.value=bm(t),o.datatype.value=Cm;else if(wm.isBoolean(t))o.value=t.toString(),o.datatype.value=r||km;else if(wm.isDouble(t)||r===Pm)wm.isDouble(t)||(t=parseFloat(t)),o.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),o.datatype.value=r||Pm;else if(wm.isNumber(t))o.value=t.toFixed(0),o.datatype.value=r||Tm;else if("i18n-datatype"===i&&"@direction"in e){const r="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+`_${e["@direction"]}`;o.datatype.value=r,o.value=t}else"@language"in e?(o.value=t,o.datatype.value=r||Im,o.language=e["@language"]):(o.value=t,o.datatype.value=r||Om)}else if(vm.isList(e)){const s=function(e,t,r,n,i){const o={termType:"NamedNode",value:_m},s={termType:"NamedNode",value:Bm},a={termType:"NamedNode",value:Em},c=e.pop(),u=c?{termType:"BlankNode",value:t.getId()}:a;let l=u;for(const a of e){const e=Mm(a,t,r,n,i),c={termType:"BlankNode",value:t.getId()};r.push({subject:l,predicate:o,object:e,graph:n}),r.push({subject:l,predicate:s,object:c,graph:n}),l=c}if(c){const e=Mm(c,t,r,n,i);r.push({subject:l,predicate:o,object:e,graph:n}),r.push({subject:l,predicate:s,object:a,graph:n})}return u}(e["@list"],t,r,n,i);o.termType=s.termType,o.value=s.value}else{const t=wm.isObject(e)?e["@id"]:e;o.termType=t.startsWith("_:")?"BlankNode":"NamedNode",o.value=t}return"NamedNode"!==o.termType||Lm(o.value)?o:null}Nm.toRDF=(e,t)=>{const r=new xm.IdentifierIssuer("_:b"),n={"@default":{}};mm(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const e of o){let o;if("@default"===e)o={termType:"DefaultGraph",value:""};else{if(!Lm(e))continue;o=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},o.value=e}Fm(i,n[e],o,r,t)}return i};const{isKeyword:Rm}=hg,Dm=lp,jm=ap,Qm=wp,Hm=kp,Km=Ap,{createNodeMap:Vm,mergeNodeMapGraphs:zm}=Wg,qm={};var Gm=qm;function Wm(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function $m(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function Jm(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new Km("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function Xm(e){if(!jm.isArray(e)||1!==e.length||!jm.isObject(e[0]))throw new Km("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of Qm.asArray(e[0]["@id"]))if(!jm.isObject(t)&&!Hm.isAbsolute(t)||jm.isString(t)&&0===t.indexOf("_:"))throw new Km("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of Qm.asArray(e[0]["@type"]))if(!jm.isObject(t)&&!Hm.isAbsolute(t)||jm.isString(t)&&0===t.indexOf("_:"))throw new Km("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function Ym(e,t,r,n){let i=!0,o=!1;for(const s in r){let a=!1;const c=Qm.getValues(t,s),u=0===Qm.getValues(r,s).length;if("@id"===s){if(jm.isEmptyObject(r["@id"][0]||{})?a=!0:r["@id"].length>=0&&(a=r["@id"].includes(c[0])),!n.requireAll)return a}else if("@type"===s){if(i=!1,u){if(c.length>0)return!1;a=!0}else if(1===r["@type"].length&&jm.isEmptyObject(r["@type"][0]))a=c.length>0;else for(const e of r["@type"])a=!(!jm.isObject(e)||!("@default"in e))||a||c.some((t=>t===e));if(!n.requireAll)return a}else{if(Rm(s))continue;{const t=Qm.getValues(r,s)[0];let o=!1;if(t&&(Xm([t]),o="@default"in t),i=!1,0===c.length&&o)continue;if(c.length>0&&u)return!1;if(void 0===t){if(c.length>0)return!1;a=!0}else if(Dm.isList(t)){const r=t["@list"][0];if(Dm.isList(c[0])){const t=c[0]["@list"];Dm.isValue(r)?a=t.some((e=>ny(r,e))):(Dm.isSubject(r)||Dm.isSubjectReference(r))&&(a=t.some((t=>ry(e,r,t,n))))}}else a=Dm.isValue(t)?c.some((e=>ny(t,e))):Dm.isSubjectReference(t)?c.some((r=>ry(e,t,r,n))):!!jm.isObject(t)&&c.length>0}}if(!a&&n.requireAll)return!1;o=o||a}return i||o}function Zm(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,s={"@id":t};if(jm.isArray(i)){for(let e=0;e<i.length;++e)if(Qm.compareValues(i[e],s)){i[e]=s;break}}else{const e=jm.isArray(i[o]);Qm.removeValue(i,o,s,{propertyIsArray:e}),Qm.addValue(i,o,s,{propertyIsArray:e})}const a=e=>{const t=Object.keys(r);for(const n of t)n in r&&jm.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],a(n))};a(t)}
/**
   * Removes the @preserve keywords from expanded result of framing.
   *
   * @param input the framed, framed output.
   * @param options the framing options used.
   *
   * @return the resulting output.
   */function ey(e,t){if(jm.isArray(e))return e.map((e=>ey(e,t)));if(jm.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(Dm.isValue(e))return e;if(Dm.isList(e))return e["@list"]=ey(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)"@id"===r&&t.bnodesToClear.includes(e[r])?delete e["@id"]:e[r]=ey(e[r],t)}return e}function ty(e,t,r){jm.isObject(e)?Qm.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function ry(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&Ym(e,i,t,n)}function ny(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?jm.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?jm.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?jm.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===s.length&&0===a.length||!(!o.includes(r)&&!jm.isEmptyObject(o[0]))&&!!(!n&&0===s.length||s.includes(n)||n&&jm.isEmptyObject(s[0]))&&!!(!i&&0===a.length||a.includes(i)||i&&jm.isEmptyObject(a[0]))}qm.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new Qm.IdentifierIssuer("_:b");Vm(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=zm(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return qm.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((e=>1===n.bnodeMap[e].length))),
// remove @preserve from results
r.link={},ey(o,r)},qm.frame=(e,t,r,n,i=null)=>{Xm(r),r=r[0];const o=e.options,s={embed:Jm(r,o,"embed"),explicit:Jm(r,o,"explicit"),requireAll:Jm(r,o,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const a=e.link[e.graph],c=function(e,t,r,n){const i={};for(const o of t){const t=e.graphMap[e.graph][o];Ym(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,s),u=Object.keys(c).sort();for(const l of u){const u=c[l];if(null===i?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===s.embed&&l in a){ty(n,i,a[l]);continue}const A={"@id":l};if(0===l.indexOf("_:")&&Qm.addValue(e.bnodeMap,l,A,{propertyIsArray:!0}),a[l]=A,("@first"===s.embed||"@last"===s.embed)&&e.is11)throw new Km("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(l))if(!e.embedded||"@never"!==s.embed&&!$m(u,e.graph,e.subjectStack))if(!e.embedded||"@first"!=s.embed&&"@once"!=s.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(l)){if("@last"===s.embed&&l in e.uniqueEmbeds[e.graph]&&Zm(e,l),e.uniqueEmbeds[e.graph][l]={parent:n,property:i},e.subjectStack.push({subject:u,graph:e.graph}),l in e.graphMap){let t=!1,n=null;"@graph"in r?(n=r["@graph"][0],t=!("@merged"===l||"@default"===l),jm.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&qm.frame({...e,graph:l,embedded:!1},Object.keys(e.graphMap[l]).sort(),[n],A,"@graph")}"@included"in r&&qm.frame({...e,embedded:!1},t,r["@included"],A,"@included");for(const t of Object.keys(u).sort())if(Rm(t)){if(A[t]=Qm.clone(u[t]),"@type"===t)for(const t of u["@type"])0===t.indexOf("_:")&&Qm.addValue(e.bnodeMap,t,A,{propertyIsArray:!0})}else if(!s.explicit||t in r)for(const n of u[t]){const i=t in r?r[t]:Wm(s);if(Dm.isList(n)){const i=r[t]&&r[t][0]&&r[t][0]["@list"]?r[t][0]["@list"]:Wm(s),o={"@list":[]};ty(A,t,o);const a=n["@list"];for(const t of a)Dm.isSubjectReference(t)?qm.frame({...e,embedded:!0},[t["@id"]],i,o,"@list"):ty(o,"@list",Qm.clone(t))}else Dm.isSubjectReference(n)?qm.frame({...e,embedded:!0},[n["@id"]],i,A,t):ny(i[0],n)&&ty(A,t,Qm.clone(n))}for(const e of Object.keys(r).sort()){if("@type"===e){if(!jm.isObject(r[e][0])||!("@default"in r[e][0]))continue}else if(Rm(e))continue;const t=r[e][0]||{};if(!Jm(t,o,"omitDefault")&&!(e in A)){let r="@null";"@default"in t&&(r=Qm.clone(t["@default"])),jm.isArray(r)||(r=[r]),A[e]=[{"@preserve":r}]}}for(const t of Object.keys(r["@reverse"]||{}).sort()){const n=r["@reverse"][t];for(const r of Object.keys(e.subjects))Qm.getValues(e.subjects[r],t).some((e=>e["@id"]===l))&&(A["@reverse"]=A["@reverse"]||{},Qm.addValue(A["@reverse"],t,[],{propertyIsArray:!0}),qm.frame({...e,embedded:!0},[r],n,A["@reverse"][t],i))}ty(n,i,A),e.subjectStack.pop()}else ty(n,i,A);else ty(n,i,A)}},qm.cleanupNull=(e,t)=>{if(jm.isArray(e)){return e.map((e=>qm.cleanupNull(e,t))).filter((e=>e))}if("@null"===e)return null;if(jm.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=qm.cleanupNull(e[r],t)}return e};const iy=Ap,{isArray:oy,isObject:sy,isString:ay,isUndefined:cy}=ap,{isList:uy,isValue:ly,isGraph:Ay,isSimpleGraph:hy,isSubjectReference:fy}=lp,{expandIri:dy,getContextValue:py,isKeyword:gy,process:my,processingMode:yy}=hg,{removeBase:vy,prependBase:by}=kp,{addValue:wy,asArray:xy,compareShortestLeast:_y}=wp,By={};var Ey=By;function Sy(e,t,r){if("@nest"!==dy(e,t,{vocab:!0},r))throw new iy("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}By.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:n={},compactionMap:i=(()=>{})})=>{if(oy(r)){let o=[];for(let s=0;s<r.length;++s){let a=await By.compact({activeCtx:e,activeProperty:t,element:r[s],options:n,compactionMap:i});null===a&&(a=await i({unmappedValue:r[s],activeCtx:e,activeProperty:t,parent:r,index:s,options:n}),void 0===a)||o.push(a)}return n.compactArrays&&1===o.length&&0===(py(e,t,"@container")||[]).length&&(o=o[0]),o}const o=py(e,t,"@context");if(cy(o)||(e=await my({activeCtx:e,localCtx:o,propagate:!0,overrideProtected:!0,options:n})),sy(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const e=n.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(ly(r)||fy(r)){const i=By.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&fy(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:i})),i}if(uy(r)&&(py(e,t,"@container")||[]).includes("@list"))return By.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n,compactionMap:i});const o="@reverse"===t,s={},a=e;ly(r)||fy(r)||(e=e.revertToPreviousContext());const c=py(a,t,"@context");cy(c)||(e=await my({activeCtx:e,localCtx:c,propagate:!0,overrideProtected:!0,options:n})),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:s}));let u=r["@type"]||[];u.length>1&&(u=Array.from(u).sort());const l=e;for(const t of u){const r=By.compactIri({activeCtx:l,iri:t,relativeTo:{vocab:!0}}),i=py(a,r,"@context");cy(i)||(e=await my({activeCtx:e,localCtx:i,options:n,propagate:!1}))}const A=Object.keys(r).sort();for(const c of A){const u=r[c];if("@id"!==c)if("@type"!==c)if("@reverse"!==c)if("@preserve"!==c)if("@index"!==c)if("@graph"!==c&&"@list"!==c&&"@included"!==c&&gy(c)){const t=By.compactIri({activeCtx:e,iri:c,relativeTo:{vocab:!0}});wy(s,t,u)}else{if(!oy(u))throw new iy("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===u.length){const t=By.compactIri({activeCtx:e,iri:c,value:u,relativeTo:{vocab:!0},reverse:o}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let i=s;r&&(Sy(e,r,n),sy(s[r])||(s[r]={}),i=s[r]),wy(i,t,u,{propertyIsArray:!0})}for(const t of u){const r=By.compactIri({activeCtx:e,iri:c,value:t,relativeTo:{vocab:!0},reverse:o}),a=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let u=s;a&&(Sy(e,a,n),sy(s[a])||(s[a]={}),u=s[a]);const l=py(e,r,"@container")||[],A=Ay(t),h=uy(t);let f;h?f=t["@list"]:A&&(f=t["@graph"]);let d=await By.compact({activeCtx:e,activeProperty:r,element:h||A?f:t,options:n,compactionMap:i});if(h){if(oy(d)||(d=[d]),l.includes("@list")){wy(u,r,d,{valueIsArray:!0,allowDuplicate:!0});continue}d={[By.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:d},"@index"in t&&(d[By.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(A)if(l.includes("@graph")&&(l.includes("@id")||l.includes("@index")&&hy(t))){let i;u.hasOwnProperty(r)?i=u[r]:u[r]=i={};const o=(l.includes("@id")?t["@id"]:t["@index"])||By.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});wy(i,o,d,{propertyIsArray:!n.compactArrays||l.includes("@set")})}else l.includes("@graph")&&hy(t)?(oy(d)&&d.length>1&&(d={"@included":d}),wy(u,r,d,{propertyIsArray:!n.compactArrays||l.includes("@set")})):(oy(d)&&1===d.length&&n.compactArrays&&(d=d[0]),d={[By.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:d},"@id"in t&&(d[By.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(d[By.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),wy(u,r,d,{propertyIsArray:!n.compactArrays||l.includes("@set")}));else if(l.includes("@language")||l.includes("@index")||l.includes("@id")||l.includes("@type")){let o,s;if(u.hasOwnProperty(r)?o=u[r]:u[r]=o={},l.includes("@language"))ly(d)&&(d=d["@value"]),s=t["@language"];else if(l.includes("@index")){const n=py(e,r,"@index")||"@index",i=By.compactIri({activeCtx:e,iri:n,relativeTo:{vocab:!0}});if("@index"===n)s=t["@index"],delete d[i];else{let e;if([s,...e]=xy(d[n]||[]),ay(s))switch(e.length){case 0:delete d[n];break;case 1:d[n]=e[0];break;default:d[n]=e}else s=null}}else if(l.includes("@id")){const t=By.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});s=d[t],delete d[t]}else if(l.includes("@type")){const o=By.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let a;switch([s,...a]=xy(d[o]||[]),a.length){case 0:delete d[o];break;case 1:d[o]=a[0];break;default:d[o]=a}1===Object.keys(d).length&&"@id"in t&&(d=await By.compact({activeCtx:e,activeProperty:r,element:{"@id":t["@id"]},options:n,compactionMap:i}))}s||(s=By.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),wy(o,s,d,{propertyIsArray:l.includes("@set")})}else{const e=!n.compactArrays||l.includes("@set")||l.includes("@list")||oy(d)&&0===d.length||"@list"===c||"@graph"===c;wy(u,r,d,{propertyIsArray:e})}}}else{if((py(e,t,"@container")||[]).includes("@index"))continue;const r=By.compactIri({activeCtx:e,iri:c,relativeTo:{vocab:!0}});wy(s,r,u)}else{const r=await By.compact({activeCtx:e,activeProperty:t,element:u,options:n,compactionMap:i});oy(r)&&0===r.length||wy(s,c,r)}else{const t=await By.compact({activeCtx:e,activeProperty:"@reverse",element:u,options:n,compactionMap:i});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const i=t[r],o=(py(e,r,"@container")||[]).includes("@set")||!n.compactArrays;wy(s,r,i,{propertyIsArray:o}),delete t[r]}if(Object.keys(t).length>0){const r=By.compactIri({activeCtx:e,iri:c,relativeTo:{vocab:!0}});wy(s,r,t)}}else{let t=xy(u).map((e=>By.compactIri({activeCtx:a,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const r=By.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=(py(e,r,"@container")||[]).includes("@set")&&yy(e,1.1)||oy(t)&&0===u.length;wy(s,r,t,{propertyIsArray:n})}else{let t=xy(u).map((t=>By.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:n.base})));1===t.length&&(t=t[0]),s[By.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return s}return r},By.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1,base:o=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const s=e.getInverse();if(gy(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(n.vocab&&t in s){const n=e["@language"]||"@none",o=[];sy(r)&&"@index"in r&&!("@graph"in r)&&o.push("@index","@index@set"),sy(r)&&"@preserve"in r&&(r=r["@preserve"][0]),Ay(r)?("@index"in r&&o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&o.push("@graph@id","@graph@id@set"),o.push("@graph","@graph@set","@set"),"@index"in r||o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||o.push("@graph@id","@graph@id@set")):sy(r)&&!ly(r)&&o.push("@id","@id@set","@type","@set@type");let s="@language",a="@null";if(i)s="@type",a="@reverse",o.push("@set");else if(uy(r)){"@index"in r||o.push("@list");const e=r["@list"];if(0===e.length)s="@any",a="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",s="@none";if(ly(i)?"@direction"in i?o=`${(i["@language"]||"").toLowerCase()}_${i["@direction"]}`:"@language"in i?o=i["@language"].toLowerCase():"@type"in i?s=i["@type"]:o="@null":s="@id",null===t?t=o:o!==t&&ly(i)&&(t="@none"),null===r?r=s:s!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(s="@type",a=r):a=t}}else{if(ly(r))if("@language"in r&&!("@index"in r)){o.push("@language","@language@set"),a=r["@language"];const e=r["@direction"];e&&(a=`${a}_${e}`)}else"@direction"in r&&!("@index"in r)?a=`_${r["@direction"]}`:"@type"in r&&(s="@type",a=r["@type"]);else s="@type",a="@id";o.push("@set")}o.push("@none"),sy(r)&&!("@index"in r)&&o.push("@index","@index@set"),ly(r)&&1===Object.keys(r).length&&o.push("@language","@language@set");const c=function(e,t,r,n,i,o){null===o&&(o="@null");const s=[];if(("@id"===o||"@reverse"===o)&&sy(r)&&"@id"in r){"@reverse"===o&&s.push("@reverse");const t=By.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const e=s.find((e=>e.includes("_")));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const a=e.inverse[t];for(const e of n){if(!(e in a))continue;const t=a[e][i];for(const e of s)if(e in t)return t[e]}return null}(e,t,r,o,s,a);if(null!==c)return c}if(n.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let a=null;const c=[];let u=e.fastCurieMap;const l=t.length-1;for(let e=0;e<l&&t[e]in u;++e)u=u[t[e]],""in u&&c.push(u[""][0]);for(let n=c.length-1;n>=0;--n){const i=c[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t)&&(null===a||_y(o,a)<0)&&(a=o)}}if(null!==a)return a;for(const[r,n]of e.mappings)if(n&&n._prefix&&t.startsWith(r+":"))throw new iy(`Absolute IRI "${t}" confused with prefix "${r}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return n.vocab?t:"@base"in e?e["@base"]?vy(by(o,e["@base"]),t):t:vy(o,t)},By.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(ly(r)){const n=py(e,t,"@type"),i=py(e,t,"@language"),o=py(e,t,"@direction"),s=py(e,t,"@container")||[],a="@index"in r&&!s.includes("@index");if(!a&&"@none"!==n){if(r["@type"]===n)return r["@value"];if("@language"in r&&r["@language"]===i&&"@direction"in r&&r["@direction"]===o)return r["@value"];if("@language"in r&&r["@language"]===i)return r["@value"];if("@direction"in r&&r["@direction"]===o)return r["@value"]}const c=Object.keys(r).length,u=1===c||2===c&&"@index"in r&&!a,l="@language"in e,A=ay(r["@value"]),h=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==n&&(!l||!A||h))return r["@value"];const f={};return a&&(f[By.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?f[By.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=By.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(f[By.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(f[By.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),f[By.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],f}const i=dy(e,t,{vocab:!0},n),o=py(e,t,"@type"),s=By.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o},base:n.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[By.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}};
/**
   * A JavaScript implementation of the JSON-LD API.
   *
   * @author Dave Longley
   *
   * @license BSD 3-Clause License
   * Copyright (c) 2011-2019 Digital Bazaar, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * Redistributions in binary form must reproduce the above copyright
   * notice, this list of conditions and the following disclaimer in the
   * documentation and/or other materials provided with the distribution.
   *
   * Neither the name of the Digital Bazaar, Inc. nor the names of its
   * contributors may be used to endorse or promote products derived from
   * this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
   * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
   * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */
const Cy=op,Iy=jp,ky=wp,Py=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:r,base:n,cycles:i=new Set}){t&&Kp(t)&&t["@context"]&&(t=t["@context"]),t=zp(t);const o=[];for(const s of t){if(Vp(s)){let t=this._get(s);t||(t=await this._resolveRemoteContext({activeCtx:e,url:s,documentLoader:r,base:n,cycles:i})),Hp(t)?o.push(...t):o.push(t);continue}if(null===s){o.push(new Wp({document:null}));continue}Kp(s)||$p(t);const a=JSON.stringify(s);let c=this._get(a);c||(c=new Wp({document:s}),this._cacheResolvedContext({key:a,resolved:c,tag:"static"})),o.push(c)}return o}_get(e){let t=this.perOpCache.get(e);if(!t){const r=this.sharedCache.get(e);r&&(t=r.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:n,cycles:i}){t=qp(n,t);const{context:o,remoteDoc:s}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:i});Jp({context:o,base:n=s.documentUrl||t});const a=await this.resolve({activeCtx:e,context:o,documentLoader:r,base:n,cycles:i});return this._cacheResolvedContext({key:t,resolved:a,tag:s.tag}),a}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:n}){if(n.size>10)throw new Gp("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(n.has(t))throw new Gp("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let i,o;n.add(t);try{o=await r(t),i=o.document||null,Vp(i)&&(i=JSON.parse(i))}catch(e){throw new Gp("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!Kp(i))throw new Gp("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return i="@context"in i?{"@context":i["@context"]}:{"@context":{}},o.contextUrl&&(Hp(i["@context"])||(i["@context"]=[i["@context"]]),i["@context"].push(o.contextUrl)),{context:i,remoteDoc:o}}},Ty=ky.IdentifierIssuer,Oy=Ap,Ly=od,Ny=Xp,{expand:Uy}=Fg,{flatten:Fy}=Yg,{fromRDF:My}=pm,{toRDF:Ry}=Um,{frameMergedOrDefault:Dy,cleanupNull:jy}=Gm,{isArray:Qy,isObject:Hy,isString:Ky}=ap,{isSubjectReference:Vy}=lp,{expandIri:zy,getInitialContext:qy,process:Gy,processingMode:Wy}=hg,{compact:$y,compactIri:Jy}=Ey,{createNodeMap:Xy,createMergedNodeMap:Yy,mergeNodeMaps:Zy}=Wg,ev=function(e){const t={},r=new Ly({max:100});function n(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=async function(t,i,o){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===i)throw new Oy("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let s;(o=n(o,{base:Ky(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new Ty("_:b"),contextResolver:new Py({sharedCache:r})})).link&&(o.skipExpansion=!0),o.compactToRelative||delete o.base,s=o.skipExpansion?t:await e.expand(t,o);const a=await e.processContext(qy(o),i,o);let c=await $y({activeCtx:a,element:s,options:o,compactionMap:o.compactionMap});o.compactArrays&&!o.graph&&Qy(c)?1===c.length?c=c[0]:0===c.length&&(c={}):o.graph&&Hy(c)&&(c=[c]),Hy(i)&&"@context"in i&&(i=i["@context"]),i=ky.clone(i),Qy(i)||(i=[i]);const u=i;i=[];for(let e=0;e<u.length;++e)(!Hy(u[e])||Object.keys(u[e]).length>0)&&i.push(u[e]);const l=i.length>0;if(1===i.length&&(i=i[0]),Qy(c)){const e=Jy({activeCtx:a,iri:"@graph",relativeTo:{vocab:!0}}),t=c;c={},l&&(c["@context"]=i),c[e]=t}else if(Hy(c)&&l){const e=c;c={"@context":i};for(const t in e)c[t]=e[t]}return c},e.expand=async function(t,i){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(i=n(i,{keepFreeFloatingNodes:!1,contextResolver:new Py({sharedCache:r})})).expansionMap&&(i.expansionMap=void 0);const o={},s=[];if("expandContext"in i){const e=ky.clone(i.expandContext);Hy(e)&&"@context"in e?o.expandContext=e:o.expandContext={"@context":e},s.push(o.expandContext)}let a;if(Ky(t)){const r=await e.get(t,i);a=r.documentUrl,o.input=r.document,r.contextUrl&&(o.remoteContext={"@context":r.contextUrl},s.push(o.remoteContext))}else o.input=ky.clone(t);"base"in i||(i.base=a||"");let c=qy(i);for(const e of s)c=await Gy({activeCtx:c,localCtx:e,options:i});let u=await Uy({activeCtx:c,element:o.input,options:i,expansionMap:i.expansionMap});return Hy(u)&&"@graph"in u&&1===Object.keys(u).length?u=u["@graph"]:null===u&&(u=[]),Qy(u)||(u=[u]),u},e.flatten=async function(t,i,o){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");i="function"==typeof i?null:i||null,o=n(o,{base:Ky(t)?t:"",contextResolver:new Py({sharedCache:r})});const s=await e.expand(t,o),a=Fy(s);if(null===i)return a;o.graph=!0,o.skipExpansion=!0;const c=await e.compact(a,i,o);return c},e.frame=async function(t,i,o){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(o=n(o,{base:Ky(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Py({sharedCache:r})}),Ky(i)){const t=await e.get(i,o);if(i=t.document,t.contextUrl){let e=i["@context"];e?Qy(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,i["@context"]=e}}const s=i&&i["@context"]||{},a=await e.processContext(qy(o),s,o);o.hasOwnProperty("omitGraph")||(o.omitGraph=Wy(a,1.1)),o.hasOwnProperty("pruneBlankNodeIdentifiers")||(o.pruneBlankNodeIdentifiers=Wy(a,1.1));const c=await e.expand(t,o),u={...o};u.isFrame=!0,u.keepFreeFloatingNodes=!0;const l=await e.expand(i,u),A=Object.keys(i).map((e=>zy(a,e,{vocab:!0})));u.merged=!A.includes("@graph"),u.is11=Wy(a,1.1);const h=Dy(c,l,u);u.graph=!o.omitGraph,u.skipExpansion=!0,u.link={},u.framing=!0;let f=await e.compact(h,s,u);return u.link={},f=jy(f,u),f},e.link=async function(t,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)},e.normalize=e.canonize=async function(t,i){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(i=n(i,{base:Ky(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new Py({sharedCache:r})}))){if("application/n-quads"!==i.inputFormat&&"application/nquads"!==i.inputFormat)throw new Oy("Unknown canonicalization input format.","jsonld.CanonizeError");const e=Ny.parse(t);return Cy.canonize(e,i)}const o={...i};delete o.format,o.produceGeneralizedRdf=!1;const s=await e.toRDF(t,o);return Cy.canonize(s,i)},e.fromRDF=async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=n(r,{format:Ky(e)?"application/n-quads":void 0});const{format:i}=r;let{rdfParser:o}=r;if(i){if(o=o||t[i],!o)throw new Oy("Unknown input format.","jsonld.UnknownFormat",{format:i})}else o=()=>e;const s=await o(e);return My(s,r)},e.toRDF=async function(t,i){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let o;o=(i=n(i,{base:Ky(t)?t:"",skipExpansion:!1,contextResolver:new Py({sharedCache:r})})).skipExpansion?t:await e.expand(t,i);const s=Ry(o,i);if(i.format){if("application/n-quads"===i.format||"application/nquads"===i.format)return Ny.serialize(s);throw new Oy("Unknown output format.","jsonld.UnknownFormat",{format:i.format})}return s},e.createNodeMap=async function(t,i){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");i=n(i,{base:Ky(t)?t:"",contextResolver:new Py({sharedCache:r})});const o=await e.expand(t,i);return Yy(o,i)},e.merge=async function(t,i,o){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Qy(t))throw new TypeError('Could not merge, "docs" must be an array.');i="function"==typeof i?null:i||null,o=n(o,{contextResolver:new Py({sharedCache:r})});const s=await Promise.all(t.map((t=>{const r={...o};return e.expand(t,r)})));let a=!0;"mergeNodes"in o&&(a=o.mergeNodes);const c=o.issuer||new Ty("_:b"),u={"@default":{}};for(let e=0;e<s.length;++e){const t=ky.relabelBlankNodes(s[e],{issuer:new Ty("_:b"+e+"-")}),r=a||0===e?u:{"@default":{}};if(Xy(t,r,"@default",c),r!==u)for(const e in r){const t=r[e];if(!(e in u)){u[e]=t;continue}const n=u[e];for(const e in t)e in n||(n[e]=t[e])}}const l=Zy(u),A=[],h=Object.keys(l).sort();for(let e=0;e<h.length;++e){const t=l[h[e]];Vy(t)||A.push(t)}if(null===i)return A;o.graph=!0,o.skipExpansion=!0;const f=await e.compact(A,i,o);return f},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new Oy("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,r){let n;n="function"==typeof r.documentLoader?r.documentLoader:e.documentLoader;const i=await n(t);try{if(!i.document)throw new Oy("No remote document found at the given URL.","jsonld.NullRemoteDocument");Ky(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new Oy("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i},e.processContext=async function(e,t,i){return i=n(i,{base:"",contextResolver:new Py({sharedCache:r})}),null===t?qy(i):(t=ky.clone(t),Hy(t)&&"@context"in t||(t={"@context":t}),Gy({activeCtx:e,localCtx:t,options:i}))},e.getContextValue=hg.getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new Oy('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",Ny.parse),e.registerRDFParser("application/nquads",Ny.parse),e.url=kp,e.util=ky,Object.assign(e,ky),e.promises=e,e.RequestQueue=Sp,e.JsonLdProcessor=(e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t})(e),Iy.setupGlobals(e),Iy.setupDocumentLoaders(e),e},tv=function(){return ev((function(){return tv()}))};ev(tv);var rv=tv,nv={exports:{}},iv={exports:{}};!function(e){!function(t){var r={bytesToHex:function(e){return function(e){return e.map((function(e){return 2,(t=e.toString(16)).length>2?t:Array(2-t.length+1).join("0")+t;var t})).join("")}(e)},hexToBytes:function(e){if(e.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===e.indexOf("0x")&&(e=e.slice(2)),e.match(/../g).map((function(e){return parseInt(e,16)}))}};e.exports?e.exports=r:t.convertHex=r}(Fi)}(iv);var ov={exports:{}};!function(e){!function(t){var r={bytesToString:function(e){return e.map((function(e){return String.fromCharCode(e)})).join("")},stringToBytes:function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))}};r.UTF8={bytesToString:function(e){return decodeURIComponent(escape(r.bytesToString(e)))},stringToBytes:function(e){return r.stringToBytes(unescape(encodeURIComponent(e)))}},e.exports?e.exports=r:t.convertString=r}(Fi)}(ov),function(e){!function(t){var r={};e.exports?(r.bytesToHex=iv.exports.bytesToHex,r.convertString=ov.exports,e.exports=s):(r.bytesToHex=t.convertHex.bytesToHex,r.convertString=t.convertString,t.sha256=s);var n=[];!function(){function e(e){for(var t=Math.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(n[i]=t(Math.pow(r,1/3)),i++),r++}();var i=[],o=function(e,t,r){for(var o=e[0],s=e[1],a=e[2],c=e[3],u=e[4],l=e[5],A=e[6],h=e[7],f=0;f<64;f++){if(f<16)i[f]=0|t[r+f];else{var d=i[f-15],p=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=i[f-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;i[f]=p+i[f-7]+m+i[f-16]}var y=o&s^o&a^s&a,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&A)+n[f]+i[f];h=A,A=l,l=u,u=c+b|0,c=a,a=s,s=o,o=b+(v+y)|0}e[0]=e[0]+o|0,e[1]=e[1]+s|0,e[2]=e[2]+a|0,e[3]=e[3]+c|0,e[4]=e[4]+u|0,e[5]=e[5]+l|0,e[6]=e[6]+A|0,e[7]=e[7]+h|0};function s(e,t){e.constructor===String&&(e=r.convertString.UTF8.stringToBytes(e));var n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t}(e),s=8*e.length;i[s>>5]|=128<<24-s%32,i[15+(s+64>>9<<4)]=s;for(var a=0;a<i.length;a+=16)o(n,i,a);var c=function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t}(n);return t&&t.asBytes?c:t&&t.asString?r.convertString.bytesToString(c):r.bytesToHex(c)}s.x2=function(e,t){return s(s(e,{asBytes:!0}),t)}}(Fi)}(nv);var sv=nv.exports;function av(e){e=e.trim();const t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t}var cv={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Boolean]",s="[object Date]",a="[object Function]",c="[object GeneratorFunction]",u="[object Map]",l="[object Number]",A="[object Object]",h="[object Promise]",f="[object RegExp]",d="[object Set]",p="[object String]",g="[object Symbol]",m="[object WeakMap]",y="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",_="[object Int16Array]",B="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",I="[object Uint32Array]",k=/\w*$/,P=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,O={};O[i]=O["[object Array]"]=O[y]=O[v]=O[o]=O[s]=O[b]=O[w]=O[x]=O[_]=O[B]=O[u]=O[l]=O[A]=O[f]=O[d]=O[p]=O[g]=O[E]=O[S]=O[C]=O[I]=!0,O["[object Error]"]=O[a]=O[m]=!1;var L="object"==typeof Fi&&Fi&&Fi.Object===Object&&Fi,N="object"==typeof self&&self&&self.Object===Object&&self,U=L||N||Function("return this")(),F=t&&!t.nodeType&&t,M=F&&e&&!e.nodeType&&e,R=M&&M.exports===F;function D(e,t){return e.set(t[0],t[1]),e}function j(e,t){return e.add(t),e}function Q(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function V(e,t){return function(r){return e(t(r))}}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var q,G=Array.prototype,W=Function.prototype,$=Object.prototype,J=U["__core-js_shared__"],X=(q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",Y=W.toString,Z=$.hasOwnProperty,ee=$.toString,te=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=R?U.Buffer:void 0,ne=U.Symbol,ie=U.Uint8Array,oe=V(Object.getPrototypeOf,Object),se=Object.create,ae=$.propertyIsEnumerable,ce=G.splice,ue=Object.getOwnPropertySymbols,le=re?re.isBuffer:void 0,Ae=V(Object.keys,Object),he=Ue(U,"DataView"),fe=Ue(U,"Map"),de=Ue(U,"Promise"),pe=Ue(U,"Set"),ge=Ue(U,"WeakMap"),me=Ue(Object,"create"),ye=je(he),ve=je(fe),be=je(de),we=je(pe),xe=je(ge),_e=ne?ne.prototype:void 0,Be=_e?_e.valueOf:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){this.__data__=new Se(e)}function ke(e,t,r){var n=e[t];Z.call(e,t)&&Qe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Pe(e,t){for(var r=e.length;r--;)if(Qe(e[r][0],t))return r;return-1}function Te(e,t,r,n,h,m,P){var T;if(n&&(T=m?n(e,h,m,P):n(e)),void 0!==T)return T;if(!qe(e))return e;var L=He(e);if(L){if(T=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&Z.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,T)}else{var N=Me(e),U=N==a||N==c;if(Ve(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(N==A||N==i||U&&!m){if(H(e))return m?e:{};if(T=function(e){return"function"!=typeof e.constructor||De(e)?{}:qe(t=oe(e))?se(t):{};var t}(U?{}:e),!t)return function(e,t){return Le(e,Fe(e),t)}(e,function(e,t){return e&&Le(t,Ge(t),e)}(T,e))}else{if(!O[N])return m?e:{};T=function(e,t,r,n){var i,a=e.constructor;switch(t){case y:return Oe(e);case o:case s:return new a(+e);case v:return function(e,t){var r=t?Oe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case b:case w:case x:case _:case B:case E:case S:case C:case I:return function(e,t){var r=t?Oe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case u:return function(e,t,r){return Q(t?r(K(e),!0):K(e),D,new e.constructor)}(e,n,r);case l:case p:return new a(e);case f:return function(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}(e);case d:return function(e,t,r){return Q(t?r(z(e),!0):z(e),j,new e.constructor)}(e,n,r);case g:return i=e,Be?Object(Be.call(i)):{}}}(e,N,Te,t)}}P||(P=new Ie);var F=P.get(e);if(F)return F;if(P.set(e,T),!L)var M=r?function(e){return function(e,t,r){var n=t(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ge,Fe)}(e):Ge(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(M||e,(function(i,o){M&&(i=e[o=i]),ke(T,o,Te(i,t,r,n,o,e,P))})),T}function Oe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Le(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=n?n(r[s],e[s],s,r,e):void 0;ke(r,s,void 0===a?e[s]:a)}return r}function Ne(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!qe(e)||(t=e,X&&X in t))&&(ze(e)||H(e)?te:P).test(je(e));var t}(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=me?me(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Z.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Pe(t,e);return!(r<0||(r==t.length-1?t.pop():ce.call(t,r,1),0))},Se.prototype.get=function(e){var t=this.__data__,r=Pe(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Pe(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Pe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ee,map:new(fe||Se),string:new Ee}},Ce.prototype.delete=function(e){return Ne(this,e).delete(e)},Ce.prototype.get=function(e){return Ne(this,e).get(e)},Ce.prototype.has=function(e){return Ne(this,e).has(e)},Ce.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new Se},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!fe||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ce(n)}return r.set(e,t),this};var Fe=ue?V(ue,Object):function(){return[]},Me=function(e){return ee.call(e)};function Re(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function De(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}function je(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Qe(e,t){return e===t||e!=e&&t!=t}(he&&Me(new he(new ArrayBuffer(1)))!=v||fe&&Me(new fe)!=u||de&&Me(de.resolve())!=h||pe&&Me(new pe)!=d||ge&&Me(new ge)!=m)&&(Me=function(e){var t=ee.call(e),r=t==A?e.constructor:void 0,n=r?je(r):void 0;if(n)switch(n){case ye:return v;case ve:return u;case be:return h;case we:return d;case xe:return m}return t});var He=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!ze(e)}var Ve=le||function(){return!1};function ze(e){var t=qe(e)?ee.call(e):"";return t==a||t==c}function qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return Ke(e)?function(e,t){var r=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&Z.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!Z.call(e,s)||o&&("length"==s||Re(s,n))||r.push(s);return r}(e):function(e){if(!De(e))return Ae(e);var t=[];for(var r in Object(e))Z.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Te(e,!0,!0)}}(cv,cv.exports);var uv=cv.exports;function lv(e){return uv(e)}async function Av(e){e["@context"].find((e=>{return(t=e)===Object(t)&&"@vocab"in e;var t}))||e["@context"].push({"@vocab":"http://fallback.org/"});const t=function(e){const t=lv(e);return"proof"in t?function(e){const t=lv(e);if(!Array.isArray(e.proof))return delete t.proof,t;const r=e.proof.find((e=>"ChainedProof2021"!==e.type));return t.proof=r,t}(t):("signature"in t&&delete t.signature,t)}(e),r={algorithm:"URDNA2015",format:"application/nquads",documentLoader:function(e){return e in Wa?{contextUrl:null,document:Wa[e],documentUrl:e}:rv.documentLoader(e)}};let n;try{n=await rv.normalize(t,r)}catch(e){throw console.error(e),new cc("computeLocalHash",rc("errors","failedJsonLdNormalization"))}const i=function(e){const t=e.split("\n"),r=/<http:\/\/fallback\.org\/(.*)>/,n=t.map((e=>r.exec(e))).filter((e=>null!=e));if(n.length>0){const e=n.map((e=>e[1])).sort();return Array.from(new Set(e))}return null}(n);if(i)throw new cc("computeLocalHash",`${rc("errors","foundUnmappedFields")}: ${i.join(", ")}`);return sv(function(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}(n))}const hv=pd.i18n.getText("errors","identityErrorBaseMessage");class fv extends Error{constructor(e){super(e||"This operation is not supported for this key type")}}var dv=fv;class pv extends Error{constructor(){super("This has not been implemented yet")}}var gv=pv;const mv=gv;var yv=class{constructor(e){this.params=e}fromPrivatePKCS1(e){throw new mv}fromPrivatePKCS8(e){throw new mv}fromPublicPKCS1(e){throw new mv}fromPublicPKCS8(e){throw new mv}fromPrivateBlk(e){throw new mv}fromPublicBlk(e){throw new mv}fromJwk(e){throw new mv}toPrivatePKCS1(e){throw new mv}toPrivatePKCS8(e){throw new mv}toPublicPKCS1(e){throw new mv}toPublicPKCS8(e){throw new mv}toPrivateBlk(e){throw new mv}toPublicBlk(e){throw new mv}toPrivateJwk(e){throw new mv}toPublicJwk(e){throw new mv}static formatPem(e,t){return`-----BEGIN ${t} KEY-----\n`+e.match(/.{1,64}/g).join("\n")+`\n-----END ${t} KEY-----`}},vv={},bv={exports:{}};!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var A=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)A*=t;this.imuln(A),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,A=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(s=(i=0|e.words[d])*(o=0|t.words[f])+A)/67108864|0,A=67108863&s}r.words[u]=0|A,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],f=A[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var p=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?p+n:u[h-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],A=8191&l,h=l>>>13,f=0|s[1],d=8191&f,p=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,v=0|s[3],b=8191&v,w=v>>>13,x=0|s[4],_=8191&x,B=x>>>13,E=0|s[5],S=8191&E,C=E>>>13,I=0|s[6],k=8191&I,P=I>>>13,T=0|s[7],O=8191&T,L=T>>>13,N=0|s[8],U=8191&N,F=N>>>13,M=0|s[9],R=8191&M,D=M>>>13,j=0|a[0],Q=8191&j,H=j>>>13,K=0|a[1],V=8191&K,z=K>>>13,q=0|a[2],G=8191&q,W=q>>>13,$=0|a[3],J=8191&$,X=$>>>13,Y=0|a[4],Z=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],Ae=8191&le,he=le>>>13,fe=0|a[9],de=8191&fe,pe=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(A,Q))|0)+((8191&(i=(i=Math.imul(A,H))+Math.imul(h,Q)|0))<<13)|0;u=((o=Math.imul(h,H))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(d,Q),i=(i=Math.imul(d,H))+Math.imul(p,Q)|0,o=Math.imul(p,H);var me=(u+(n=n+Math.imul(A,V)|0)|0)+((8191&(i=(i=i+Math.imul(A,z)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,z)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,Q),i=(i=Math.imul(m,H))+Math.imul(y,Q)|0,o=Math.imul(y,H),n=n+Math.imul(d,V)|0,i=(i=i+Math.imul(d,z)|0)+Math.imul(p,V)|0,o=o+Math.imul(p,z)|0;var ye=(u+(n=n+Math.imul(A,G)|0)|0)+((8191&(i=(i=i+Math.imul(A,W)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(b,Q),i=(i=Math.imul(b,H))+Math.imul(w,Q)|0,o=Math.imul(w,H),n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,z)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,z)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,W)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,W)|0;var ve=(u+(n=n+Math.imul(A,J)|0)|0)+((8191&(i=(i=i+Math.imul(A,X)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(_,Q),i=(i=Math.imul(_,H))+Math.imul(B,Q)|0,o=Math.imul(B,H),n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,z)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var be=(u+(n=n+Math.imul(A,Z)|0)|0)+((8191&(i=(i=i+Math.imul(A,ee)|0)+Math.imul(h,Z)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(S,Q),i=(i=Math.imul(S,H))+Math.imul(C,Q)|0,o=Math.imul(C,H),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,z)|0,n=n+Math.imul(b,G)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,ee)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,ee)|0;var we=(u+(n=n+Math.imul(A,re)|0)|0)+((8191&(i=(i=i+Math.imul(A,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(k,Q),i=(i=Math.imul(k,H))+Math.imul(P,Q)|0,o=Math.imul(P,H),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,z)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,z)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,W)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(m,Z)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(d,re)|0,i=(i=i+Math.imul(d,ne)|0)+Math.imul(p,re)|0,o=o+Math.imul(p,ne)|0;var xe=(u+(n=n+Math.imul(A,oe)|0)|0)+((8191&(i=(i=i+Math.imul(A,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(O,Q),i=(i=Math.imul(O,H))+Math.imul(L,Q)|0,o=Math.imul(L,H),n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,z)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,z)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(d,oe)|0,i=(i=i+Math.imul(d,se)|0)+Math.imul(p,oe)|0,o=o+Math.imul(p,se)|0;var _e=(u+(n=n+Math.imul(A,ce)|0)|0)+((8191&(i=(i=i+Math.imul(A,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,H))+Math.imul(F,Q)|0,o=Math.imul(F,H),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,z)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,z)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,n=n+Math.imul(d,ce)|0,i=(i=i+Math.imul(d,ue)|0)+Math.imul(p,ce)|0,o=o+Math.imul(p,ue)|0;var Be=(u+(n=n+Math.imul(A,Ae)|0)|0)+((8191&(i=(i=i+Math.imul(A,he)|0)+Math.imul(h,Ae)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(R,Q),i=(i=Math.imul(R,H))+Math.imul(D,Q)|0,o=Math.imul(D,H),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,z)|0)+Math.imul(F,V)|0,o=o+Math.imul(F,z)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(d,Ae)|0,i=(i=i+Math.imul(d,he)|0)+Math.imul(p,Ae)|0,o=o+Math.imul(p,he)|0;var Ee=(u+(n=n+Math.imul(A,de)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(D,V)|0,o=Math.imul(D,z),n=n+Math.imul(U,G)|0,i=(i=i+Math.imul(U,W)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,W)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(m,Ae)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(y,Ae)|0,o=o+Math.imul(y,he)|0;var Se=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,pe)|0)+Math.imul(p,de)|0))<<13)|0;u=((o=o+Math.imul(p,pe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,W))+Math.imul(D,G)|0,o=Math.imul(D,W),n=n+Math.imul(U,J)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(b,Ae)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(w,Ae)|0,o=o+Math.imul(w,he)|0;var Ce=(u+(n=n+Math.imul(m,de)|0)|0)+((8191&(i=(i=i+Math.imul(m,pe)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,pe)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(R,J),i=(i=Math.imul(R,X))+Math.imul(D,J)|0,o=Math.imul(D,X),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,ee)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(_,Ae)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(B,Ae)|0,o=o+Math.imul(B,he)|0;var Ie=(u+(n=n+Math.imul(b,de)|0)|0)+((8191&(i=(i=i+Math.imul(b,pe)|0)+Math.imul(w,de)|0))<<13)|0;u=((o=o+Math.imul(w,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(R,Z),i=(i=Math.imul(R,ee))+Math.imul(D,Z)|0,o=Math.imul(D,ee),n=n+Math.imul(U,re)|0,i=(i=i+Math.imul(U,ne)|0)+Math.imul(F,re)|0,o=o+Math.imul(F,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,se)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(S,Ae)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(C,Ae)|0,o=o+Math.imul(C,he)|0;var ke=(u+(n=n+Math.imul(_,de)|0)|0)+((8191&(i=(i=i+Math.imul(_,pe)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,re),i=(i=Math.imul(R,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul(U,oe)|0,i=(i=i+Math.imul(U,se)|0)+Math.imul(F,oe)|0,o=o+Math.imul(F,se)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(k,Ae)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(P,Ae)|0,o=o+Math.imul(P,he)|0;var Pe=(u+(n=n+Math.imul(S,de)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,de)|0))<<13)|0;u=((o=o+Math.imul(C,pe)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(R,oe),i=(i=Math.imul(R,se))+Math.imul(D,oe)|0,o=Math.imul(D,se),n=n+Math.imul(U,ce)|0,i=(i=i+Math.imul(U,ue)|0)+Math.imul(F,ce)|0,o=o+Math.imul(F,ue)|0,n=n+Math.imul(O,Ae)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(L,Ae)|0,o=o+Math.imul(L,he)|0;var Te=(u+(n=n+Math.imul(k,de)|0)|0)+((8191&(i=(i=i+Math.imul(k,pe)|0)+Math.imul(P,de)|0))<<13)|0;u=((o=o+Math.imul(P,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(R,ce),i=(i=Math.imul(R,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),n=n+Math.imul(U,Ae)|0,i=(i=i+Math.imul(U,he)|0)+Math.imul(F,Ae)|0,o=o+Math.imul(F,he)|0;var Oe=(u+(n=n+Math.imul(O,de)|0)|0)+((8191&(i=(i=i+Math.imul(O,pe)|0)+Math.imul(L,de)|0))<<13)|0;u=((o=o+Math.imul(L,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(R,Ae),i=(i=Math.imul(R,he))+Math.imul(D,Ae)|0,o=Math.imul(D,he);var Le=(u+(n=n+Math.imul(U,de)|0)|0)+((8191&(i=(i=i+Math.imul(U,pe)|0)+Math.imul(F,de)|0))<<13)|0;u=((o=o+Math.imul(F,pe)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ne=(u+(n=Math.imul(R,de))|0)+((8191&(i=(i=Math.imul(R,pe))+Math.imul(D,de)|0))<<13)|0;return u=((o=Math.imul(D,pe))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=ve,c[4]=be,c[5]=we,c[6]=xe,c[7]=_e,c[8]=Be,c[9]=Ee,c[10]=Se,c[11]=Ce,c[12]=Ie,c[13]=ke,c[14]=Pe,c[15]=Te,c[16]=Oe,c[17]=Le,c[18]=Ne,0!==u&&(c[19]=u,r.length++),r};function d(e,t,r){return(new p).mulp(e,t,r)}function p(e,t){this.x=e,this.y=t}Math.imul||(f=h),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?f(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,A=(0|e.words[l])*(0|t.words[u]),h=67108863&A;a=67108863&(h=h+a|0),i+=(s=(s=s+(A/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):d(this,e,t),r},p.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},p.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},p.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},p.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var A=c,h=u,f=0;f<s;f++){var d=r[l+f],p=n[l+f],g=r[l+f+s],m=n[l+f+s],y=A*g-h*m;m=A*m+h*g,g=y,r[l+f]=d+g,n[l+f]=p+m,r[l+f+s]=d-g,n[l+f+s]=p-m,f!==a&&(y=c*A-u*h,h=c*h+u*A,A=y)}},p.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},p.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},p.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},p.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),A=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,A,n,i);for(var f=0;f<n;f++){var d=a[f]*l[f]-c[f]*A[f];c[f]=a[f]*A[f]+c[f]*l[f],a[f]=d}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),d(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<n;this.words[t]=c|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var A=0|this.words[u];this.words[u]=l<<26-o|A>>>o,l=A&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,c=n.length-o.length;if("mod"!==t){(a=new i(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(o,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var A=c-1;A>=0;A--){var h=67108864*(0|n.words[o.length+A])+(0|n.words[o.length+A-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(o,h,A);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,A),n.isZero()||(n.negative^=1);a&&(a.words[A]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),A=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(A)),o.iushrn(1),s.iushrn(1);for(var d=0,p=1;0==(n.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(A)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(c)):(n.isub(t),a.isub(o),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,s=new i(1),a=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var A=0,h=1;0==(n.words[0]&h)&&A<26;++A,h<<=1);if(A>0)for(n.iushrn(A);A-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(o=0===t.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},n(y,m),y.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(v,m),n(b,m),n(w,m),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new v;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},x.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var A=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),f=this.pow(e,o),d=s;0!==f.cmp(a);){for(var p=f,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<d);var m=this.pow(A,new i(1).iushln(d-g-1));h=h.redMul(m),A=m.redSqr(),f=f.redMul(A),d=g}return h},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var A=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==A||0!==s?(s<<=1,s|=A,(4==++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}c=26}return o},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new _(e)},n(_,x),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(bv,Fi);var wv={},xv={},_v={exports:{}};"function"==typeof Object.create?_v.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_v.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Bv,Ev=Do,Sv=Ev.Buffer,Cv={};for(Bv in Ev)Ev.hasOwnProperty(Bv)&&"SlowBuffer"!==Bv&&"Buffer"!==Bv&&(Cv[Bv]=Ev[Bv]);var Iv=Cv.Buffer={};for(Bv in Sv)Sv.hasOwnProperty(Bv)&&"allocUnsafe"!==Bv&&"allocUnsafeSlow"!==Bv&&(Iv[Bv]=Sv[Bv]);if(Cv.Buffer.prototype=Sv.prototype,Iv.from&&Iv.from!==Uint8Array.from||(Iv.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return Sv(e,t,r)}),Iv.alloc||(Iv.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=Sv(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!Cv.kStringMaxLength)try{Cv.kStringMaxLength=$c.binding("buffer").kStringMaxLength}catch(e){}Cv.constants||(Cv.constants={MAX_LENGTH:Cv.kMaxLength},Cv.kStringMaxLength&&(Cv.constants.MAX_STRING_LENGTH=Cv.kStringMaxLength));var kv=Cv,Pv={};const Tv=_v.exports;function Ov(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function Lv(e,t){this.path=e,this.rethrow(t)}Pv.Reporter=Ov,Ov.prototype.isError=function(e){return e instanceof Lv},Ov.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},Ov.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},Ov.prototype.enterKey=function(e){return this._reporterState.path.push(e)},Ov.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},Ov.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},Ov.prototype.path=function(){return this._reporterState.path.join("/")},Ov.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},Ov.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},Ov.prototype.error=function(e){let t;const r=this._reporterState,n=e instanceof Lv;if(t=n?e:new Lv(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},Ov.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},Tv(Lv,Error),Lv.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Lv),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this};var Nv={};const Uv=_v.exports,Fv=Pv.Reporter,Mv=kv.Buffer;function Rv(e,t){Fv.call(this,t),Mv.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function Dv(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return Dv.isEncoderBuffer(e)||(e=new Dv(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=Mv.byteLength(e);else{if(!Mv.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}Uv(Rv,Fv),Nv.DecoderBuffer=Rv,Rv.isDecoderBuffer=function(e){return e instanceof Rv||"object"==typeof e&&Mv.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},Rv.prototype.save=function(){return{offset:this.offset,reporter:Fv.prototype.save.call(this)}},Rv.prototype.restore=function(e){const t=new Rv(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,Fv.prototype.restore.call(this,e.reporter),t},Rv.prototype.isEmpty=function(){return this.offset===this.length},Rv.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},Rv.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new Rv(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},Rv.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},Nv.EncoderBuffer=Dv,Dv.isEncoderBuffer=function(e){return e instanceof Dv||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},Dv.prototype.join=function(e,t){return e||(e=Mv.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):Mv.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e};var jv=Qv;function Qv(e,t){if(!e)throw new Error(t||"Assertion failed")}Qv.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};const Hv=Pv.Reporter,Kv=Nv.EncoderBuffer,Vv=Nv.DecoderBuffer,zv=jv,qv=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],Gv=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(qv);function Wv(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var $v=Wv;const Jv=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Wv.prototype.clone=function(){const e=this._baseState,t={};Jv.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},Wv.prototype._wrap=function(){const e=this._baseState;Gv.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},Wv.prototype._init=function(e){const t=this._baseState;zv(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),zv.equal(t.children.length,1,"Root node can have only one child")},Wv.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(zv(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(zv(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){Wv.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),qv.forEach((function(e){Wv.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return zv(null===t.tag),t.tag=e,this._useArgs(r),this}})),Wv.prototype.use=function(e){zv(e);const t=this._baseState;return zv(null===t.use),t.use=e,this},Wv.prototype.optional=function(){return this._baseState.optional=!0,this},Wv.prototype.def=function(e){const t=this._baseState;return zv(null===t.default),t.default=e,t.optional=!0,this},Wv.prototype.explicit=function(e){const t=this._baseState;return zv(null===t.explicit&&null===t.implicit),t.explicit=e,this},Wv.prototype.implicit=function(e){const t=this._baseState;return zv(null===t.explicit&&null===t.implicit),t.implicit=e,this},Wv.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},Wv.prototype.key=function(e){const t=this._baseState;return zv(null===t.key),t.key=e,this},Wv.prototype.any=function(){return this._baseState.any=!0,this},Wv.prototype.choice=function(e){const t=this._baseState;return zv(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},Wv.prototype.contains=function(e){const t=this._baseState;return zv(null===t.use),t.contains=e,this},Wv.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,i=r.default,o=!0,s=null;if(null!==r.key&&(s=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(o=this._peekTag(e,n,r.any),e.isError(o))return o}else{const n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),o=!0}catch(e){o=!1}e.restore(n)}}if(r.obj&&o&&(n=e.enterObject()),o){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?i=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new Vv(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&o&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==o?null!==s&&e.exitKey(s):e.leaveKey(s,r.key,i),i},Wv.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},Wv.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),zv(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},Wv.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,i=!1;return Object.keys(r.choice).some((function(o){const s=e.save(),a=r.choice[o];try{const r=a._decode(e,t);if(e.isError(r))return!1;n={type:o,value:r},i=!0}catch(t){return e.restore(s),!1}return!0}),this),i?n:e.error("Choice not matched")},Wv.prototype._createEncoderBuffer=function(e){return new Kv(e,this.reporter)},Wv.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const i=this._encodeValue(e,t,r);return void 0===i||this._skipDefault(i,t,r)?void 0:i},Wv.prototype._encodeValue=function(e,t,r){const n=this._baseState;if(null===n.parent)return n.children[0]._encode(e,t||new Hv);let i=null;if(this.reporter=t,n.optional&&void 0===e){if(null===n.default)return;e=n.default}let o=null,s=!1;if(n.any)i=this._createEncoderBuffer(e);else if(n.choice)i=this._encodeChoice(e,t);else if(n.contains)o=this._getUse(n.contains,r)._encode(e,t),s=!0;else if(n.children)o=n.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return t.error("Too many args for : "+n.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(r){const n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),r))}else null!==n.use?i=this._getUse(n.use,r)._encode(e,t):(o=this._encodePrimitive(n.tag,e),s=!0);if(!n.any&&null===n.choice){const e=null!==n.implicit?n.implicit:n.tag,r=null===n.implicit?"universal":"context";null===e?null===n.use&&t.error("Tag could be omitted only for .use()"):null===n.use&&(i=this._encodeComposite(e,s,r,o))}return null!==n.explicit&&(i=this._encodeComposite(n.explicit,!1,"context",i)),i},Wv.prototype._encodeChoice=function(e,t){const r=this._baseState,n=r.choice[e.type];return n||zv(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},Wv.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},Wv.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},Wv.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var Xv={};!function(e){function t(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t(e.tag)}(Xv);const Yv=_v.exports,Zv=kv.Buffer,eb=$v,tb=Xv;function rb(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new ib,this.tree._init(e.body)}var nb=rb;function ib(e){eb.call(this,"der",e)}function ob(e){return e<10?"0"+e:e}rb.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},Yv(ib,eb),ib.prototype._encodeComposite=function(e,t,r,n){const i=function(e,t,r,n){let i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),tb.tagByName.hasOwnProperty(e))i=tb.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=tb.tagClassByName[r||"universal"]<<6,i)}(e,t,r,this.reporter);if(n.length<128){const e=Zv.alloc(2);return e[0]=i,e[1]=n.length,this._createEncoderBuffer([e,n])}let o=1;for(let e=n.length;e>=256;e>>=8)o++;const s=Zv.alloc(2+o);s[0]=i,s[1]=128|o;for(let e=1+o,t=n.length;t>0;e--,t>>=8)s[e]=255&t;return this._createEncoderBuffer([s,n])},ib.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=Zv.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},ib.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let n=0;for(let t=0;t<e.length;t++){let r=e[t];for(n++;r>=128;r>>=7)n++}const i=Zv.alloc(n);let o=i.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(i[o--]=127&r;(r>>=7)>0;)i[o--]=128|127&r}return this._createEncoderBuffer(i)},ib.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[ob(n.getUTCFullYear()),ob(n.getUTCMonth()+1),ob(n.getUTCDate()),ob(n.getUTCHours()),ob(n.getUTCMinutes()),ob(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[ob(n.getUTCFullYear()%100),ob(n.getUTCMonth()+1),ob(n.getUTCDate()),ob(n.getUTCHours()),ob(n.getUTCMinutes()),ob(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},ib.prototype._encodeNull=function(){return this._createEncoderBuffer("")},ib.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!Zv.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=Zv.from(t)}if(Zv.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=Zv.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let t=e;t>=256;t>>=8)r++;const n=new Array(r);for(let t=n.length-1;t>=0;t--)n[t]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(Zv.from(n))},ib.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},ib.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},ib.prototype._skipDefault=function(e,t,r){const n=this._baseState;let i;if(null===n.default)return!1;const o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0};const sb=_v.exports,ab=nb;function cb(e){ab.call(this,e),this.enc="pem"}sb(cb,ab);var ub=cb;cb.prototype.encode=function(e,t){const r=ab.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"];for(let e=0;e<r.length;e+=64)n.push(r.slice(e,e+64));return n.push("-----END "+t.label+"-----"),n.join("\n")},function(e){const t=e;t.der=nb,t.pem=ub}(xv);var lb={};const Ab=_v.exports,hb=bv.exports,fb=Nv.DecoderBuffer,db=$v,pb=Xv;function gb(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new yb,this.tree._init(e.body)}var mb=gb;function yb(e){db.call(this,"der",e)}function vb(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=pb.tagClass[r>>6],i=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:i,tag:r,tagStr:pb.tag[r]}}function bb(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;const i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(let t=0;t<i;t++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}gb.prototype.decode=function(e,t){return fb.isDecoderBuffer(e)||(e=new fb(e,t)),this.tree._decode(e,t)},Ab(yb,db),yb.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),i=vb(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},yb.prototype._decodeTag=function(e,t,r){const n=vb(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=bb(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},yb.prototype._skipUntilEnd=function(e,t){for(;;){const r=vb(e,t);if(e.isError(r))return r;const n=bb(e,r.primitive,t);if(e.isError(n))return n;let i;if(i=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===r.tagStr)break}},yb.prototype._decodeList=function(e,t,r,n){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=r.decode(e,"der",n);if(e.isError(o)&&t)break;i.push(o)}return i},yb.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},yb.prototype._decodeObjid=function(e,t,r){let n;const i=[];let o=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),o<<=7,o|=127&s,0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,c=i[0]%40;if(n=r?i:[a,c].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},yb.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,i,o,s,a,c;if("gentime"===t)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,c,0)},yb.prototype._decodeNull=function(){return null},yb.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},yb.prototype._decodeInt=function(e,t){const r=e.raw();let n=new hb(r);return t&&(n=t[n.toString(10)]||n),n},yb.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree};const wb=_v.exports,xb=kv.Buffer,_b=mb;function Bb(e){_b.call(this,e),this.enc="pem"}wb(Bb,_b);var Eb=Bb;Bb.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,s=-1;for(let e=0;e<r.length;e++){const t=r[e].match(i);if(null!==t&&t[2]===n){if(-1!==o){if("END"!==t[1])break;s=e;break}if("BEGIN"!==t[1])break;o=e}}if(-1===o||-1===s)throw new Error("PEM section not found for: "+n);const a=r.slice(o+1,s).join("");a.replace(/[^a-z0-9+/=]+/gi,"");const c=xb.from(a,"base64");return _b.prototype.decode.call(this,c,t)},function(e){const t=e;t.der=mb,t.pem=Eb}(lb),function(e){const t=xv,r=lb,n=_v.exports;function i(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}e.define=function(e,t){return new i(e,t)},i.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return n(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},i.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},i.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},i.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(t[e])),this.encoders[e]},i.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}}(wv);var Sb={};!function(e){const t=Sb;t.Reporter=Pv.Reporter,t.DecoderBuffer=Nv.DecoderBuffer,t.EncoderBuffer=Nv.EncoderBuffer,t.Node=$v}();var Cb={};!function(e){const t=Cb;t._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t},t.der=Xv}(),function(e){const t=vv;t.bignum=bv.exports,t.define=wv.define,t.base=Sb,t.constants=Cb,t.decoders=lb,t.encoders=xv}();var Ib={exports:{}},kb={},Pb={};Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.default=function(e){var t=e.length,r=t%4;if(!r)return e;var n=t,i=4-r,o=t+i,s=eo.alloc(o);for(s.write(e);i--;)s.write("=",n++);return s.toString()},Object.defineProperty(kb,"__esModule",{value:!0});var Tb=Pb;function Ob(e,t){return void 0===t&&(t="utf8"),Mo(e)?Nb(e.toString("base64")):Nb(eo.from(e,t).toString("base64"))}function Lb(e){return e=e.toString(),Tb.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function Nb(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var Ub=Ob;Ub.encode=Ob,Ub.decode=function(e,t){return void 0===t&&(t="utf8"),eo.from(Lb(e),"base64").toString(t)},Ub.toBase64=Lb,Ub.fromBase64=Nb,Ub.toBuffer=function(e){return eo.from(Lb(e),"base64")},kb.default=Ub,function(e){e.exports=kb.default,e.exports.default=e.exports}(Ib);const Fb=vv,Mb=Ib.exports;var Rb=class{static convert(e,t,r){if(!e)return;if(t===r)return e;let n;if("raw"===t||e instanceof eo)n=e;else if("uint8_array"===t||Array.isArray(e))n=eo.from(e);else if("hex"===t)n=eo.from(e,"hex");else if("base64"===t)n=eo.from(e,"base64");else if("base64url"===t)n=Mb.toBuffer(e);else{if("bn"!==t&&"bignum"!==t)throw new Error("Invalid fromType");n=eo.from(this.pad(e.toString(16)),"hex")}if("raw"===r)return n;if("uint8_array"===r)return Array.from(n);if("hex"===r)return n.toString("hex");if("base64"===r)return n.toString("base64");if("base64url"===r)return Mb.fromBase64(n.toString("base64"));if("bn"===r||"bignum"===r)return new Fb.bignum(n);throw new Error("Invalid toType")}static pad(e){return e.length%2==1?`0${e}`:e}};const Db=vv;const jb=new class{constructor(){Object.defineProperty(this,"_registry",{value:{}})}get registry(){return this._registry}define(e,t){this._registry[e]=Db.define(e,t(this))}normalize(e){return this.registry[e]}};jb.define("Version",(e=>function(){this.int({0:"two-prime",1:"multi"})})),jb.define("OtherPrimeInfos",(e=>function(){this.seq().obj(this.key("ri").int(),this.key("di").int(),this.key("ti").int())})),jb.define("AlgorithmIdentifier",(e=>function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})),jb.define("PrivateKeyInfo",(e=>{let t=e.normalize("Version"),r=e.normalize("AlgorithmIdentifier");return function(){this.seq().obj(this.key("version").use(t),this.key("algorithm").use(r),this.key("privateKey").octstr())}})),jb.define("PublicKeyInfo",(e=>{let t=e.normalize("AlgorithmIdentifier");return function(){this.seq().obj(this.key("algorithm").use(t),this.key("publicKey").bitstr())}})),jb.define("RSAPrivateKey",(e=>{let t=e.normalize("Version"),r=e.normalize("OtherPrimeInfos");return function(){this.seq().obj(this.key("version").use(t),this.key("n").int(),this.key("e").int(),this.key("d").int(),this.key("p").int(),this.key("q").int(),this.key("dp").int(),this.key("dq").int(),this.key("qi").int(),this.key("other").optional().use(r))}})),jb.define("RSAPublicKey",(e=>function(){this.seq().obj(this.key("n").int(),this.key("e").int())})),jb.define("ECPrivateKey",(e=>function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().choice({namedCurve:this.objid()}),this.key("publicKey").explicit(1).optional().bitstr())}));var Qb=jb;const Hb=yv,Kb=Rb,Vb=Qb;class zb extends Hb{fromPrivatePKCS1(e){let t=Vb.normalize("RSAPrivateKey"),{n:r,e:n,d:i,p:o,q:s,dp:a,dq:c,qi:u}=t.decode(e,"der");return{n:Kb.convert(r,"bn","raw"),e:Kb.convert(n,"bn","raw"),d:Kb.convert(i,"bn","raw"),p:Kb.convert(o,"bn","raw"),q:Kb.convert(s,"bn","raw"),dp:Kb.convert(a,"bn","raw"),dq:Kb.convert(c,"bn","raw"),qi:Kb.convert(u,"bn","raw")}}fromPrivatePKCS8(e){let t=Vb.normalize("PrivateKeyInfo"),r=Vb.normalize("RSAPrivateKey"),n=t.decode(e,"der"),{n:i,e:o,d:s,p:a,q:c,dp:u,dq:l,qi:A}=r.decode(n.privateKey,"der");return{n:Kb.convert(i,"bn","raw"),e:Kb.convert(o,"bn","raw"),d:Kb.convert(s,"bn","raw"),p:Kb.convert(a,"bn","raw"),q:Kb.convert(c,"bn","raw"),dp:Kb.convert(u,"bn","raw"),dq:Kb.convert(l,"bn","raw"),qi:Kb.convert(A,"bn","raw")}}fromPublicPKCS1(e){let t=Vb.normalize("RSAPublicKey"),{n:r,e:n}=t.decode(e,"der");return{n:Kb.convert(r,"bn","raw"),e:Kb.convert(n,"bn","raw")}}fromPublicPKCS8(e){let t=Vb.normalize("PublicKeyInfo"),r=Vb.normalize("RSAPublicKey"),n=t.decode(e,"der"),{n:i,e:o}=r.decode(n.publicKey.data,"der");return{n:Kb.convert(i,"bn","raw"),e:Kb.convert(o,"bn","raw")}}fromJwk(e){let{n:t,e:r,d:n,p:i,q:o,dp:s,dq:a,qi:c,alg:u}=e;return{n:Kb.convert(t,"base64url","raw"),e:Kb.convert(r,"base64url","raw"),d:Kb.convert(n,"base64url","raw"),p:Kb.convert(i,"base64url","raw"),q:Kb.convert(o,"base64url","raw"),dp:Kb.convert(s,"base64url","raw"),dq:Kb.convert(a,"base64url","raw"),qi:Kb.convert(c,"base64url","raw")}}toPrivatePKCS1(e){let{n:t,e:r,d:n,p:i,q:o,dp:s,dq:a,qi:c}=e,{version:u}=this.params,l=Vb.normalize("RSAPrivateKey").encode({version:u,n:Kb.convert(t,"raw","bn"),e:Kb.convert(r,"raw","bn"),d:Kb.convert(n,"raw","bn"),p:Kb.convert(i,"raw","bn"),q:Kb.convert(o,"raw","bn"),dp:Kb.convert(s,"raw","bn"),dq:Kb.convert(a,"raw","bn"),qi:Kb.convert(c,"raw","bn")},"der").toString("base64");return zb.formatPem(l,"RSA PRIVATE")}toPrivatePKCS8(e){let{n:t,e:r,d:n,p:i,q:o,dp:s,dq:a,qi:c}=e,{oid:u,algParameters:l,version:A}=this.params,h=Vb.normalize("PrivateKeyInfo"),f=Vb.normalize("RSAPrivateKey").encode({version:A,n:Kb.convert(t,"raw","bn"),e:Kb.convert(r,"raw","bn"),d:Kb.convert(n,"raw","bn"),p:Kb.convert(i,"raw","bn"),q:Kb.convert(o,"raw","bn"),dp:Kb.convert(s,"raw","bn"),dq:Kb.convert(a,"raw","bn"),qi:Kb.convert(c,"raw","bn")},"der"),d=h.encode({version:A,algorithm:{algorithm:u.split("."),parameters:eo.from(l,"hex")},privateKey:f},"der").toString("base64");return zb.formatPem(d,"PRIVATE")}toPublicPKCS1(e){let{n:t,e:r}=e,{version:n}=this.params,i=Vb.normalize("RSAPublicKey").encode({version:n,n:Kb.convert(t,"raw","bn"),e:Kb.convert(r,"raw","bn")},"der").toString("base64");return zb.formatPem(i,"RSA PUBLIC")}toPublicPKCS8(e){let{n:t,e:r}=e,{oid:n,algParameters:i}=this.params,o=Vb.normalize("PublicKeyInfo"),s=Vb.normalize("RSAPublicKey").encode({n:Kb.convert(t,"raw","bn"),e:Kb.convert(r,"raw","bn")},"der"),a=o.encode({algorithm:{algorithm:n.split("."),parameters:eo.from(i,"hex")},publicKey:{unused:0,data:s}},"der").toString("base64");return zb.formatPem(a,"PUBLIC")}toPrivateJwk(e){let{n:t,e:r,d:n,p:i,q:o,dp:s,dq:a,qi:c}=e,{kty:u}=this.params;return{kty:u,n:Kb.convert(t,"raw","base64url"),e:Kb.convert(r,"raw","base64url"),d:Kb.convert(n,"raw","base64url"),p:Kb.convert(i,"raw","base64url"),q:Kb.convert(o,"raw","base64url"),dp:Kb.convert(s,"raw","base64url"),dq:Kb.convert(a,"raw","base64url"),qi:Kb.convert(c,"raw","base64url")}}toPublicJwk(e){let{n:t,e:r}=e,{kty:n}=this.params;return{kty:n,n:Kb.convert(t,"raw","base64url"),e:Kb.convert(r,"raw","base64url")}}}var qb=zb,Gb={},Wb={},$b={};!function(e){var t=$b;function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}(),function(e){var t=Wb,r=bv.exports,n=jv,i=$b;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode,t.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0==(1&u)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new r(e,"hex","le")}}();var Jb,Xb={exports:{}};function Yb(e){this.rand=e}if(Xb.exports=function(e){return Jb||(Jb=new Yb(null)),Jb.generate(e)},Xb.exports.Rand=Yb,Yb.prototype.generate=function(e){return this._rand(e)},Yb.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Yb.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Yb.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Yb.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Zb=require("crypto");if("function"!=typeof Zb.randomBytes)throw new Error("Not supported");Yb.prototype._rand=function(e){return Zb.randomBytes(e)}}catch(e){}var ew={},tw=bv.exports,rw=Wb,nw=rw.getNAF,iw=rw.getJSF,ow=rw.assert;function sw(e,t){this.type=e,this.p=new tw(t.p,16),this.red=t.prime?tw.red(t.prime):tw.mont(this.p),this.zero=new tw(0).toRed(this.red),this.one=new tw(1).toRed(this.red),this.two=new tw(2).toRed(this.red),this.n=t.n&&new tw(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var aw=sw;function cw(e,t){this.curve=e,this.type=t,this.precomputed=null}sw.prototype.point=function(){throw new Error("Not implemented")},sw.prototype.validate=function(){throw new Error("Not implemented")},sw.prototype._fixedNafMul=function(e,t){ow(e.precomputed);var r=e._getDoubles(),n=nw(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var c=o+r.step-1;c>=o;c--)s=(s<<1)+n[c];a.push(s)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),A=i;A>0;A--){for(o=0;o<a.length;o++)(s=a[o])===A?l=l.mixedAdd(r.points[o]):s===-A&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l)}return u.toP()},sw.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=nw(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var c=0;a>=0&&0===o[a];a--)c++;if(a>=0&&c++,s=s.dblp(c),a<0)break;var u=o[a];ow(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},sw.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,c=this._wnafT1,u=this._wnafT2,l=this._wnafT3,A=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);c[o]=h.wnd,u[o]=h.points}for(o=n-1;o>=1;o-=2){var f=o-1,d=o;if(1===c[f]&&1===c[d]){var p=[t[f],null,null,t[d]];0===t[f].y.cmp(t[d].y)?(p[1]=t[f].add(t[d]),p[2]=t[f].toJ().mixedAdd(t[d].neg())):0===t[f].y.cmp(t[d].y.redNeg())?(p[1]=t[f].toJ().mixedAdd(t[d]),p[2]=t[f].add(t[d].neg())):(p[1]=t[f].toJ().mixedAdd(t[d]),p[2]=t[f].toJ().mixedAdd(t[d].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],m=iw(r[f],r[d]);for(A=Math.max(m[0].length,A),l[f]=new Array(A),l[d]=new Array(A),s=0;s<A;s++){var y=0|m[0][s],v=0|m[1][s];l[f][s]=g[3*(y+1)+(v+1)],l[d][s]=0,u[f]=p}}else l[f]=nw(r[f],c[f],this._bitLength),l[d]=nw(r[d],c[d],this._bitLength),A=Math.max(l[f].length,A),A=Math.max(l[d].length,A)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(o=A;o>=0;o--){for(var x=0;o>=0;){var _=!0;for(s=0;s<n;s++)w[s]=0|l[s][o],0!==w[s]&&(_=!1);if(!_)break;x++,o--}if(o>=0&&x++,b=b.dblp(x),o<0)break;for(s=0;s<n;s++){var B=w[s];0!==B&&(B>0?a=u[s][B-1>>1]:B<0&&(a=u[s][-B-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?b:b.toP()},sw.BasePoint=cw,cw.prototype.eq=function(){throw new Error("Not implemented")},cw.prototype.validate=function(){return this.curve.validate(this)},sw.prototype.decodePoint=function(e,t){e=rw.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?ow(e[e.length-1]%2==0):7===e[0]&&ow(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},cw.prototype.encodeCompressed=function(e){return this.encode(e,!0)},cw.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},cw.prototype.encode=function(e,t){return rw.encode(this._encode(t),e)},cw.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},cw.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},cw.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},cw.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},cw.prototype._getBeta=function(){return null},cw.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var uw=Wb,lw=bv.exports,Aw=_v.exports,hw=aw,fw=uw.assert;function dw(e){hw.call(this,"short",e),this.a=new lw(e.a,16).toRed(this.red),this.b=new lw(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Aw(dw,hw);var pw=dw;function gw(e,t,r,n){hw.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new lw(t,16),this.y=new lw(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function mw(e,t,r,n){hw.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new lw(0)):(this.x=new lw(t,16),this.y=new lw(r,16),this.z=new lw(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}dw.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new lw(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new lw(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],fw(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new lw(e.a,16),b:new lw(e.b,16)}})):this._getEndoBasis(r)}}},dw.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:lw.mont(e),r=new lw(2).toRed(t).redInvm(),n=r.redNeg(),i=new lw(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},dw.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,c,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=e,h=this.n.clone(),f=new lw(1),d=new lw(0),p=new lw(0),g=new lw(1),m=0;0!==A.cmpn(0);){var y=h.div(A);c=h.sub(y.mul(A)),u=p.sub(y.mul(f));var v=g.sub(y.mul(d));if(!n&&c.cmp(l)<0)t=a.neg(),r=f,n=c.neg(),i=u;else if(n&&2==++m)break;a=c,h=A,A=c,p=f,f=u,g=d,d=v}o=c.neg(),s=u;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},dw.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},dw.prototype.pointFromX=function(e,t){(e=new lw(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},dw.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},dw.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},Aw(gw,hw.BasePoint),dw.prototype.point=function(e,t,r){return new gw(this,e,t,r)},dw.prototype.pointFromJSON=function(e,t){return gw.fromJSON(this,e,t)},gw.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},gw.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},gw.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},gw.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},gw.prototype.isInfinity=function(){return this.inf},gw.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},gw.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},gw.prototype.getX=function(){return this.x.fromRed()},gw.prototype.getY=function(){return this.y.fromRed()},gw.prototype.mul=function(e){return e=new lw(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},gw.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},gw.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},gw.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},gw.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},gw.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Aw(mw,hw.BasePoint),dw.prototype.jpoint=function(e,t,r){return new mw(this,e,t,r)},mw.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},mw.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},mw.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),A=n.redMul(u),h=c.redSqr().redIAdd(l).redISub(A).redISub(A),f=c.redMul(A.redISub(h)).redISub(o.redMul(l)),d=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,f,d)},mw.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=r.redMul(c),A=a.redSqr().redIAdd(u).redISub(l).redISub(l),h=a.redMul(l.redISub(A)).redISub(i.redMul(u)),f=this.z.redMul(s);return this.curve.jpoint(A,h,f)},mw.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),A=u.redSqr(),h=A.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),d=o.redMul(A),p=f.redSqr().redISub(d.redAdd(d)),g=d.redISub(p),m=f.redMul(g);m=m.redIAdd(m).redISub(h);var y=u.redMul(a);t+1<e&&(c=c.redMul(h)),o=p,a=y,u=m}return this.curve.jpoint(o,u.redMul(i),a)},mw.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},mw.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),A=this.y.redSqr(),h=A.redSqr(),f=this.x.redAdd(A).redSqr().redISub(l).redISub(h);f=f.redIAdd(f);var d=l.redAdd(l).redIAdd(l),p=d.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=p.redISub(f).redISub(f),t=d.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},mw.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),A=this.y.redSqr(),h=this.x.redMul(A),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var d=h.redIAdd(h),p=(d=d.redIAdd(d)).redAdd(d);e=f.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(A).redISub(l);var g=A.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(d.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},mw.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),A=u.redISub(l),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=a.redMul(A).redISub(h),d=r.redAdd(r).redMul(n);return this.curve.jpoint(l,f,d)},mw.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var A=this.x.redMul(a).redISub(l);A=(A=A.redIAdd(A)).redIAdd(A);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(A,h,f)},mw.prototype.mul=function(e,t){return e=new lw(e,t),this.curve._wnafMul(this,e)},mw.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},mw.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},mw.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},mw.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var yw=bv.exports,vw=_v.exports,bw=aw,ww=Wb;function xw(e){bw.call(this,"mont",e),this.a=new yw(e.a,16).toRed(this.red),this.b=new yw(e.b,16).toRed(this.red),this.i4=new yw(4).toRed(this.red).redInvm(),this.two=new yw(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}vw(xw,bw);var _w=xw;function Bw(e,t,r){bw.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new yw(t,16),this.z=new yw(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}xw.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},vw(Bw,bw.BasePoint),xw.prototype.decodePoint=function(e,t){return this.point(ww.toArray(e,t),1)},xw.prototype.point=function(e,t){return new Bw(this,e,t)},xw.prototype.pointFromJSON=function(e){return Bw.fromJSON(this,e)},Bw.prototype.precompute=function(){},Bw.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Bw.fromJSON=function(e,t){return new Bw(e,t[0],t[1]||e.one)},Bw.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Bw.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Bw.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Bw.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Bw.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},Bw.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Bw.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Bw.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Bw.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Bw.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Bw.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Ew=Wb,Sw=bv.exports,Cw=_v.exports,Iw=aw,kw=Ew.assert;function Pw(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Iw.call(this,"edwards",e),this.a=new Sw(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Sw(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Sw(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),kw(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}Cw(Pw,Iw);var Tw=Pw;function Ow(e,t,r,n,i){Iw.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Sw(t,16),this.y=new Sw(r,16),this.z=n?new Sw(n,16):this.curve.one,this.t=i&&new Sw(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Pw.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},Pw.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},Pw.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},Pw.prototype.pointFromX=function(e,t){(e=new Sw(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var a=s.fromRed().isOdd();return(t&&!a||!t&&a)&&(s=s.redNeg()),this.point(e,s)},Pw.prototype.pointFromY=function(e,t){(e=new Sw(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},Pw.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},Cw(Ow,Iw.BasePoint),Pw.prototype.pointFromJSON=function(e){return Ow.fromJSON(this,e)},Pw.prototype.point=function(e,t,r,n){return new Ow(this,e,t,r,n)},Ow.fromJSON=function(e,t){return new Ow(e,t[0],t[1],t[2])},Ow.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Ow.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Ow.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),l=i.redMul(a),A=s.redMul(o);return this.curve.point(c,u,A,l)},Ow.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},Ow.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Ow.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),l=a.redMul(c),A=o.redMul(c),h=s.redMul(a);return this.curve.point(u,l,h,A)},Ow.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),A=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(A,t,r)},Ow.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Ow.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Ow.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Ow.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Ow.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Ow.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Ow.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Ow.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Ow.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Ow.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Ow.prototype.toP=Ow.prototype.normalize,Ow.prototype.mixedAdd=Ow.prototype.add,function(e){var t=e;t.base=aw,t.short=pw,t.mont=_w,t.edwards=Tw}(ew);var Lw={},Nw={},Uw={},Fw=jv,Mw=_v.exports;function Rw(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function Dw(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function jw(e){return 1===e.length?"0"+e:e}function Qw(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}Uw.inherits=Mw,Uw.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):Rw(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},Uw.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=jw(e[r].toString(16));return t},Uw.htonl=Dw,Uw.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=Dw(i)),r+=Qw(i.toString(16))}return r},Uw.zero2=jw,Uw.zero8=Qw,Uw.join32=function(e,t,r,n){var i=r-t;Fw(i%4==0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var c;c="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=c>>>0}return o},Uw.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},Uw.rotr32=function(e,t){return e>>>t|e<<32-t},Uw.rotl32=function(e,t){return e<<t|e>>>32-t},Uw.sum32=function(e,t){return e+t>>>0},Uw.sum32_3=function(e,t,r){return e+t+r>>>0},Uw.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},Uw.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},Uw.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},Uw.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},Uw.sum64_lo=function(e,t,r,n){return t+n>>>0},Uw.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},Uw.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},Uw.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var l=0,A=t;return l+=(A=A+n>>>0)<t?1:0,l+=(A=A+o>>>0)<o?1:0,l+=(A=A+a>>>0)<a?1:0,e+r+i+s+c+(l+=(A=A+u>>>0)<u?1:0)>>>0},Uw.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},Uw.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},Uw.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},Uw.shr64_hi=function(e,t,r){return e>>>r},Uw.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var Hw={},Kw=Uw,Vw=jv;function zw(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Hw.BlockHash=zw,zw.prototype.update=function(e,t){if(e=Kw.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=Kw.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},zw.prototype.digest=function(e){return this.update(this._pad()),Vw(null===this.pending),this._digest(e)},zw.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var qw={},Gw={},Ww=Uw.rotr32;function $w(e,t,r){return e&t^~e&r}function Jw(e,t,r){return e&t^e&r^t&r}function Xw(e,t,r){return e^t^r}Gw.ft_1=function(e,t,r,n){return 0===e?$w(t,r,n):1===e||3===e?Xw(t,r,n):2===e?Jw(t,r,n):void 0},Gw.ch32=$w,Gw.maj32=Jw,Gw.p32=Xw,Gw.s0_256=function(e){return Ww(e,2)^Ww(e,13)^Ww(e,22)},Gw.s1_256=function(e){return Ww(e,6)^Ww(e,11)^Ww(e,25)},Gw.g0_256=function(e){return Ww(e,7)^Ww(e,18)^e>>>3},Gw.g1_256=function(e){return Ww(e,17)^Ww(e,19)^e>>>10};var Yw=Uw,Zw=Hw,ex=Gw,tx=Yw.rotl32,rx=Yw.sum32,nx=Yw.sum32_5,ix=ex.ft_1,ox=Zw.BlockHash,sx=[1518500249,1859775393,2400959708,3395469782];function ax(){if(!(this instanceof ax))return new ax;ox.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Yw.inherits(ax,ox);var cx=ax;ax.blockSize=512,ax.outSize=160,ax.hmacStrength=80,ax.padLength=64,ax.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=tx(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=nx(tx(i,5),ix(u,o,s,a),c,r[n],sx[u]);c=a,a=s,s=tx(o,30),o=i,i=l}this.h[0]=rx(this.h[0],i),this.h[1]=rx(this.h[1],o),this.h[2]=rx(this.h[2],s),this.h[3]=rx(this.h[3],a),this.h[4]=rx(this.h[4],c)},ax.prototype._digest=function(e){return"hex"===e?Yw.toHex32(this.h,"big"):Yw.split32(this.h,"big")};var ux=Uw,lx=Hw,Ax=Gw,hx=jv,fx=ux.sum32,dx=ux.sum32_4,px=ux.sum32_5,gx=Ax.ch32,mx=Ax.maj32,yx=Ax.s0_256,vx=Ax.s1_256,bx=Ax.g0_256,wx=Ax.g1_256,xx=lx.BlockHash,_x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bx(){if(!(this instanceof Bx))return new Bx;xx.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_x,this.W=new Array(64)}ux.inherits(Bx,xx);var Ex=Bx;Bx.blockSize=512,Bx.outSize=256,Bx.hmacStrength=192,Bx.padLength=64,Bx.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=dx(wx(r[n-2]),r[n-7],bx(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],A=this.h[7];for(hx(this.k.length===r.length),n=0;n<r.length;n++){var h=px(A,vx(c),gx(c,u,l),this.k[n],r[n]),f=fx(yx(i),mx(i,o,s));A=l,l=u,u=c,c=fx(a,h),a=s,s=o,o=i,i=fx(h,f)}this.h[0]=fx(this.h[0],i),this.h[1]=fx(this.h[1],o),this.h[2]=fx(this.h[2],s),this.h[3]=fx(this.h[3],a),this.h[4]=fx(this.h[4],c),this.h[5]=fx(this.h[5],u),this.h[6]=fx(this.h[6],l),this.h[7]=fx(this.h[7],A)},Bx.prototype._digest=function(e){return"hex"===e?ux.toHex32(this.h,"big"):ux.split32(this.h,"big")};var Sx=Uw,Cx=Ex;function Ix(){if(!(this instanceof Ix))return new Ix;Cx.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Sx.inherits(Ix,Cx);var kx=Ix;Ix.blockSize=512,Ix.outSize=224,Ix.hmacStrength=192,Ix.padLength=64,Ix.prototype._digest=function(e){return"hex"===e?Sx.toHex32(this.h.slice(0,7),"big"):Sx.split32(this.h.slice(0,7),"big")};var Px=Uw,Tx=Hw,Ox=jv,Lx=Px.rotr64_hi,Nx=Px.rotr64_lo,Ux=Px.shr64_hi,Fx=Px.shr64_lo,Mx=Px.sum64,Rx=Px.sum64_hi,Dx=Px.sum64_lo,jx=Px.sum64_4_hi,Qx=Px.sum64_4_lo,Hx=Px.sum64_5_hi,Kx=Px.sum64_5_lo,Vx=Tx.BlockHash,zx=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function qx(){if(!(this instanceof qx))return new qx;Vx.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=zx,this.W=new Array(160)}Px.inherits(qx,Vx);var Gx=qx;function Wx(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function $x(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function Jx(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function Xx(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function Yx(e,t){var r=Lx(e,t,28)^Lx(t,e,2)^Lx(t,e,7);return r<0&&(r+=4294967296),r}function Zx(e,t){var r=Nx(e,t,28)^Nx(t,e,2)^Nx(t,e,7);return r<0&&(r+=4294967296),r}function e_(e,t){var r=Lx(e,t,14)^Lx(e,t,18)^Lx(t,e,9);return r<0&&(r+=4294967296),r}function t_(e,t){var r=Nx(e,t,14)^Nx(e,t,18)^Nx(t,e,9);return r<0&&(r+=4294967296),r}function r_(e,t){var r=Lx(e,t,1)^Lx(e,t,8)^Ux(e,t,7);return r<0&&(r+=4294967296),r}function n_(e,t){var r=Nx(e,t,1)^Nx(e,t,8)^Fx(e,t,7);return r<0&&(r+=4294967296),r}function i_(e,t){var r=Lx(e,t,19)^Lx(t,e,29)^Ux(e,t,6);return r<0&&(r+=4294967296),r}function o_(e,t){var r=Nx(e,t,19)^Nx(t,e,29)^Fx(e,t,6);return r<0&&(r+=4294967296),r}qx.blockSize=1024,qx.outSize=512,qx.hmacStrength=192,qx.padLength=128,qx.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=i_(r[n-4],r[n-3]),o=o_(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=r_(r[n-30],r[n-29]),u=n_(r[n-30],r[n-29]),l=r[n-32],A=r[n-31];r[n]=jx(i,o,s,a,c,u,l,A),r[n+1]=Qx(i,o,s,a,c,u,l,A)}},qx.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],A=this.h[8],h=this.h[9],f=this.h[10],d=this.h[11],p=this.h[12],g=this.h[13],m=this.h[14],y=this.h[15];Ox(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var b=m,w=y,x=e_(A,h),_=t_(A,h),B=Wx(A,0,f,0,p),E=$x(0,h,0,d,0,g),S=this.k[v],C=this.k[v+1],I=r[v],k=r[v+1],P=Hx(b,w,x,_,B,E,S,C,I,k),T=Kx(b,w,x,_,B,E,S,C,I,k);b=Yx(n,i),w=Zx(n,i),x=Jx(n,0,o,0,a),_=Xx(0,i,0,s,0,c);var O=Rx(b,w,x,_),L=Dx(b,w,x,_);m=p,y=g,p=f,g=d,f=A,d=h,A=Rx(u,l,P,T),h=Dx(l,l,P,T),u=a,l=c,a=o,c=s,o=n,s=i,n=Rx(P,T,O,L),i=Dx(P,T,O,L)}Mx(this.h,0,n,i),Mx(this.h,2,o,s),Mx(this.h,4,a,c),Mx(this.h,6,u,l),Mx(this.h,8,A,h),Mx(this.h,10,f,d),Mx(this.h,12,p,g),Mx(this.h,14,m,y)},qx.prototype._digest=function(e){return"hex"===e?Px.toHex32(this.h,"big"):Px.split32(this.h,"big")};var s_=Uw,a_=Gx;function c_(){if(!(this instanceof c_))return new c_;a_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s_.inherits(c_,a_);var u_=c_;c_.blockSize=1024,c_.outSize=384,c_.hmacStrength=192,c_.padLength=128,c_.prototype._digest=function(e){return"hex"===e?s_.toHex32(this.h.slice(0,12),"big"):s_.split32(this.h.slice(0,12),"big")},qw.sha1=cx,qw.sha224=kx,qw.sha256=Ex,qw.sha384=u_,qw.sha512=Gx;var l_={},A_=Uw,h_=Hw,f_=A_.rotl32,d_=A_.sum32,p_=A_.sum32_3,g_=A_.sum32_4,m_=h_.BlockHash;function y_(){if(!(this instanceof y_))return new y_;m_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function v_(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function b_(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function w_(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}A_.inherits(y_,m_),l_.ripemd160=y_,y_.blockSize=512,y_.outSize=160,y_.hmacStrength=192,y_.padLength=64,y_.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,c=n,u=i,l=o,A=s,h=0;h<80;h++){var f=d_(f_(g_(r,v_(h,n,i,o),e[x_[h]+t],b_(h)),B_[h]),s);r=s,s=o,o=f_(i,10),i=n,n=f,f=d_(f_(g_(a,v_(79-h,c,u,l),e[__[h]+t],w_(h)),E_[h]),A),a=A,A=l,l=f_(u,10),u=c,c=f}f=p_(this.h[1],i,l),this.h[1]=p_(this.h[2],o,A),this.h[2]=p_(this.h[3],s,a),this.h[3]=p_(this.h[4],r,c),this.h[4]=p_(this.h[0],n,u),this.h[0]=f},y_.prototype._digest=function(e){return"hex"===e?A_.toHex32(this.h,"little"):A_.split32(this.h,"little")};var x_=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],__=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],B_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],S_=Uw,C_=jv;function I_(e,t,r){if(!(this instanceof I_))return new I_(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(S_.toArray(t,r))}var k_=I_;I_.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),C_(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},I_.prototype.update=function(e,t){return this.inner.update(e,t),this},I_.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=Nw;t.utils=Uw,t.common=Hw,t.sha=qw,t.ripemd=l_,t.hmac=k_,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(),function(e){var t,r=Lw,n=Nw,i=ew,o=Wb.assert;function s(e){"short"===e.type?this.curve=new i.short(e):"edwards"===e.type?this.curve=new i.edwards(e):this.curve=new i.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=s,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=require("./precomputed/secp256k1")}catch(e){t=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})}();var P_=Nw,T_=$b,O_=jv;function L_(e){if(!(this instanceof L_))return new L_(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=T_.toArray(e.entropy,e.entropyEnc||"hex"),r=T_.toArray(e.nonce,e.nonceEnc||"hex"),n=T_.toArray(e.pers,e.persEnc||"hex");O_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var N_=L_;L_.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},L_.prototype._hmac=function(){return new P_.hmac(this.hash,this.K)},L_.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},L_.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=T_.toArray(e,t),r=T_.toArray(r,n),O_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},L_.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=T_.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,T_.encode(o,t)};var U_=bv.exports,F_=Wb.assert;function M_(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var R_=M_;M_.fromPublic=function(e,t,r){return t instanceof M_?t:new M_(e,{pub:t,pubEnc:r})},M_.fromPrivate=function(e,t,r){return t instanceof M_?t:new M_(e,{priv:t,privEnc:r})},M_.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},M_.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},M_.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},M_.prototype._importPrivate=function(e,t){this.priv=new U_(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},M_.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?F_(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||F_(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},M_.prototype.derive=function(e){return e.validate()||F_(e.validate(),"public point not validated"),e.mul(this.priv).getX()},M_.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},M_.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},M_.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var D_=bv.exports,j_=Wb,Q_=j_.assert;function H_(e,t){if(e instanceof H_)return e;this._importDER(e,t)||(Q_(e.r&&e.s,"Signature without r or s"),this.r=new D_(e.r,16),this.s=new D_(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var K_=H_;function V_(){this.place=0}function z_(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function q_(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function G_(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}H_.prototype._importDER=function(e,t){e=j_.toArray(e,t);var r=new V_;if(48!==e[r.place++])return!1;var n=z_(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=z_(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=z_(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new D_(o),this.s=new D_(a),this.recoveryParam=null,!0},H_.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=q_(t),r=q_(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];G_(n,t.length),(n=n.concat(t)).push(2),G_(n,r.length);var i=n.concat(r),o=[48];return G_(o,i.length),o=o.concat(i),j_.encode(o,e)};var W_=bv.exports,$_=N_,J_=Wb,X_=Lw,Y_=Xb.exports,Z_=J_.assert,eB=R_,tB=K_;function rB(e){if(!(this instanceof rB))return new rB(e);"string"==typeof e&&(Z_(Object.prototype.hasOwnProperty.call(X_,e),"Unknown curve "+e),e=X_[e]),e instanceof X_.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var nB=rB;rB.prototype.keyPair=function(e){return new eB(this,e)},rB.prototype.keyFromPrivate=function(e,t){return eB.fromPrivate(this,e,t)},rB.prototype.keyFromPublic=function(e,t){return eB.fromPublic(this,e,t)},rB.prototype.genKeyPair=function(e){e||(e={});for(var t=new $_({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Y_(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new W_(2));;){var i=new W_(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},rB.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},rB.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new W_(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new $_({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new W_(1)),u=0;;u++){var l=n.k?n.k(u):new W_(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(c)>=0)){var A=this.g.mul(l);if(!A.isInfinity()){var h=A.getX(),f=h.umod(this.n);if(0!==f.cmpn(0)){var d=l.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(d=d.umod(this.n)).cmpn(0)){var p=(A.getY().isOdd()?1:0)|(0!==h.cmp(f)?2:0);return n.canonical&&d.cmp(this.nh)>0&&(d=this.n.sub(d),p^=1),new tB({r:f,s:d,recoveryParam:p})}}}}}},rB.prototype.verify=function(e,t,r,n){e=this._truncateToN(new W_(e,16)),r=this.keyFromPublic(r,n);var i=(t=new tB(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},rB.prototype.recoverPubKey=function(e,t,r,n){Z_((3&r)===r,"The recovery param is more than two bits"),t=new tB(t,n);var i=this.n,o=new W_(e),s=t.r,a=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var l=t.r.invm(i),A=i.sub(o).mul(l).umod(i),h=a.mul(l).umod(i);return this.g.mulAdd(A,s,h)},rB.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new tB(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var iB=Wb,oB=iB.assert,sB=iB.parseBytes,aB=iB.cachedProperty;function cB(e,t){this.eddsa=e,this._secret=sB(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=sB(t.pub)}cB.fromPublic=function(e,t){return t instanceof cB?t:new cB(e,{pub:t})},cB.fromSecret=function(e,t){return t instanceof cB?t:new cB(e,{secret:t})},cB.prototype.secret=function(){return this._secret},aB(cB,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),aB(cB,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),aB(cB,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),aB(cB,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),aB(cB,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),aB(cB,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),cB.prototype.sign=function(e){return oB(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},cB.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},cB.prototype.getSecret=function(e){return oB(this._secret,"KeyPair is public only"),iB.encode(this.secret(),e)},cB.prototype.getPublic=function(e){return iB.encode(this.pubBytes(),e)};var uB=cB,lB=bv.exports,AB=Wb,hB=AB.assert,fB=AB.cachedProperty,dB=AB.parseBytes;function pB(e,t){this.eddsa=e,"object"!=typeof t&&(t=dB(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),hB(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof lB&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}fB(pB,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),fB(pB,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),fB(pB,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),fB(pB,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),pB.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},pB.prototype.toHex=function(){return AB.encode(this.toBytes(),"hex").toUpperCase()};var gB=pB,mB=Nw,yB=Lw,vB=Wb,bB=vB.assert,wB=vB.parseBytes,xB=uB,_B=gB;function BB(e){if(bB("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof BB))return new BB(e);e=yB[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=mB.sha512}var EB=BB;BB.prototype.sign=function(e,t){e=wB(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:o})},BB.prototype.verify=function(e,t,r){e=wB(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},BB.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return vB.intFromLE(e.digest()).umod(this.curve.n)},BB.prototype.keyFromPublic=function(e){return xB.fromPublic(this,e)},BB.prototype.keyFromSecret=function(e){return xB.fromSecret(this,e)},BB.prototype.makeSignature=function(e){return e instanceof _B?e:new _B(this,e)},BB.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},BB.prototype.decodePoint=function(e){var t=(e=vB.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=vB.intFromLE(r);return this.curve.pointFromY(i,n)},BB.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},BB.prototype.decodeInt=function(e){return vB.intFromLE(e)},BB.prototype.isPoint=function(e){return e instanceof this.pointClass},function(e){var t=Gb;t.version="6.5.4",t.utils=Wb,t.rand=Xb.exports,t.curve=ew,t.curves=Lw,t.ec=nB,t.eddsa=EB}();const SB=new Gb.ec("secp256k1"),CB=yv,IB=Rb,kB=Qb;class PB extends CB{fromPrivatePKCS1(e){let t=kB.normalize("ECPrivateKey").decode(e,"der"),{privateKey:r,publicKey:{data:n}}=t,i=IB.convert(n,"raw","hex"),{x:o,y:s}=PB.getPoint(i);return{d:r,x:o,y:s}}fromPrivatePKCS8(e){let t=kB.normalize("PrivateKeyInfo"),r=kB.normalize("ECPrivateKey"),n=t.decode(e,"der"),i=r.decode(n.privateKey,"der"),{privateKey:o,publicKey:{data:s}}=i,a=IB.convert(s,"raw","hex"),{x:c,y:u}=PB.getPoint(a);return{d:o,x:c,y:u}}fromPublicPKCS8(e){let t=kB.normalize("PublicKeyInfo").decode(e,"der"),r=IB.convert(t.publicKey.data,"raw","hex");return PB.getPoint(r)}fromPrivateBlk(e){let t=SB.keyFromPrivate(e,"hex"),r=t.getPublic();return{d:IB.convert(t.priv,"bn","raw"),x:IB.convert(r.getX(),"bn","raw"),y:IB.convert(r.getY(),"bn","raw")}}fromPublicBlk(e){return PB.getPoint(e)}fromJwk(e){let{d:t,x:r,y:n}=e;return{d:IB.convert(t,"base64url","raw"),x:IB.convert(r,"base64url","raw"),y:IB.convert(n,"base64url","raw")}}toPrivatePKCS1(e){let{namedCurve:t,keyVersion:r}=this.params,{d:n,x:i,y:o}=e,s=kB.normalize("ECPrivateKey"),a=PB.makePoint(i,o),c=s.encode({version:r,privateKey:n,parameters:{type:"namedCurve",value:t.split(".")},publicKey:{unused:0,data:a}},"der").toString("base64");return PB.formatPem(c,"EC PRIVATE")}toPrivatePKCS8(e){let{oid:t,algParameters:r,keyVersion:n,infoVersion:i}=this.params,{d:o,x:s,y:a}=e,c=kB.normalize("PrivateKeyInfo"),u=kB.normalize("ECPrivateKey"),l=PB.makePoint(s,a),A=u.encode({version:n,privateKey:o,publicKey:{unused:0,data:l}},"der"),h=c.encode({version:i,algorithm:{algorithm:t.split("."),parameters:eo.from(r,"hex")},privateKey:A},"der").toString("base64");return PB.formatPem(h,"PRIVATE")}toPublicPKCS8(e){let{oid:t,algParameters:r}=this.params,{x:n,y:i}=e,o=kB.normalize("PublicKeyInfo"),s=PB.makePoint(n,i),a=o.encode({algorithm:{algorithm:t.split("."),parameters:eo.from(r,"hex")},publicKey:{unused:0,data:s}},"der").toString("base64");return PB.formatPem(a,"PUBLIC")}toPrivateBlk(e){return e.d.toString("hex")}toPublicBlk(e){return IB.convert(PB.makePoint(e.x,e.y),"raw","hex")}toPrivateJwk(e){let{crv:t,kty:r}=this.params,{d:n,x:i,y:o}=e;return{kty:r,crv:t,d:IB.convert(n,"raw","base64url"),x:IB.convert(i,"raw","base64url"),y:IB.convert(o,"raw","base64url")}}toPublicJwk(e){let{crv:t,kty:r}=this.params,{x:n,y:i}=e;return{kty:r,crv:t,x:IB.convert(n,"raw","base64url"),y:IB.convert(i,"raw","base64url")}}static getPoint(e){let t=e.slice(2,(e.length-2)/2+2),r=e.slice((e.length-2)/2+2);return{x:IB.convert(t,"hex","raw"),y:IB.convert(r,"hex","raw")}}static makePoint(e,t){let r=eo.from("04","hex");return eo.concat([r,e,t],r.length+e.length+t.length)}}var TB=PB;const OB=yv,LB=Rb,NB=Qb;class UB extends OB{fromPrivatePKCS8(e){const t=NB.normalize("PrivateKeyInfo").decode(e,"der").privateKey.slice(2);return{d:t,x:this.publicKeyFromPrivate(t)}}fromPublicPKCS8(e){const t=NB.normalize("PublicKeyInfo").decode(e,"der");return{x:LB.convert(t.publicKey.data,"hex","raw")}}fromJwk(e){let{d:t,x:r}=e;return{d:LB.convert(t,"base64url","raw"),x:LB.convert(r,"base64url","raw")}}toPrivatePKCS8(e){let{oid:t,infoVersion:r}=this.params,{d:n}=e;const i=NB.normalize("PrivateKeyInfo"),o=this.privateKeyPadding(n);let s=i.encode({version:r,algorithm:{algorithm:t.split(".")},privateKey:o},"der").toString("base64");return UB.formatPem(s,"PRIVATE")}toPublicPKCS8(e){let{oid:t}=this.params,{x:r}=e,n=NB.normalize("PublicKeyInfo").encode({algorithm:{algorithm:t.split(".")},publicKey:{unused:0,data:LB.convert(r,"hex","raw")}},"der").toString("base64");return UB.formatPem(n,"PUBLIC")}toPrivateJwk(e){let{crv:t,kty:r}=this.params,{d:n,x:i}=e;return{kty:r,crv:t,d:LB.convert(n,"raw","base64url"),x:LB.convert(i,"raw","base64url")}}toPublicJwk(e){let{crv:t,kty:r}=this.params,{x:n}=e;return{kty:r,crv:t,x:LB.convert(n,"raw","base64url")}}privateKeyPadding(e){let t;if("Ed25519"!==this.params.crv)throw new Error(`${this.params.crv} is an invalid curve for EdDSA`);return t=eo.from("0420","hex"),eo.concat([t,e],t.length+e.length)}publicKeyFromPrivate(e){if("Ed25519"===this.params.crv){const t=new Gb.eddsa("ed25519");return eo.from(t.keyFromSecret(e).getPublic())}throw new Error(`${this.params.crv} is an invalid curve for EdDSA`)}}const FB=qb,MB=TB,RB=UB,DB=new class{constructor(){this.registry=[],this.classes={}}find(e){return this.registry.find(e)}define(e,t){e.forEach((e=>{let{kty:r}=e;if(!r)throw new Error("Invalid type definition");this.classes[r]||(this.classes[r]=t),this.registry.push(e)}))}normalize(e,t,r){let n=this.classes[e],i=this.find((e=>e[t]===r));if(!n||!i)throw new Error("Invalid type");return new n(i)}};DB.define([{kty:"RSA",oid:"1.2.840.113549.1.1.1",algParameters:"0500",version:"two-prime"}],FB),DB.define([{kty:"EC",crv:"K-256",oid:"1.2.840.10045.2.1",namedCurve:"1.3.132.0.10",algParameters:"06052b8104000a",keyVersion:1,infoVersion:"two-prime"},{kty:"EC",crv:"P-256",oid:"1.2.840.10045.2.1",namedCurve:"1.2.840.10045.3.1.7",algParameters:"06082a8648ce3d030107",keyVersion:1,infoVersion:"two-prime"},{kty:"EC",crv:"P-384",oid:"1.2.840.10045.2.1",namedCurve:"1.3.132.0.34",algParameters:"06052b81040022",keyVersion:1,infoVersion:"two-prime"},{kty:"EC",crv:"P-521",oid:"1.2.840.10045.2.1",namedCurve:"1.3.132.0.35",algParameters:"06052b81040023",keyVersion:1,infoVersion:"two-prime"}],MB),DB.define([{kty:"OKP",crv:"Ed25519",oid:"1.3.101.112",infoVersion:"two-prime"}],RB);const jB=dv,QB=gv,HB=DB,KB=Qb,VB=RegExp("\r?\n","g");class zB{constructor(e,t){if(!e)throw new jB("key is required");if(!t)throw new jB("options are required");let{kty:r,format:n,selector:i,crv:o,oid:s}=t;if(!t.kty)throw new jB("options.kty is required");if(!t.format)throw new jB("options.format is required");if(!t.selector)throw new jB("options.selector is required");if(!t.crv&&!t.oid)throw new jB("options.crv or options.oid is required");this.kty=r,this.format=n,this.selector=i,this.crv=o,this.oid=s,this.key=this.parseKey(e)}static from(e,t){if(!e)throw new jB("key is required");if(!t)throw new jB("format is required");if("jwk"===t){let r;if("string"==typeof e)try{r=JSON.parse(e)}catch(e){throw new jB("key is not a valid JWK")}else"object"==typeof e&&(r=e);let n,{kty:i,crv:o}=r;if(!i)throw new jB("kty is required for JWK");if("EC"===i&&!o)throw new jB("crv is required for EC JWK");"RSA"===i&&(n=HB.find((e=>e.kty===i)).oid);let s=r.d?"private":"public";return new zB(r,{kty:i,crv:o,oid:n,format:t,selector:s})}if("pem"===t){if("string"!=typeof e)throw new jB("key is not a valid PEM string");let r=e.split(VB),n=r.splice(0,1);r.splice(r.length-1,1);let i,o,s=r.join(""),a=/^-----BEGIN ((RSA|EC) )?(PUBLIC|PRIVATE) KEY-----$/.exec(n),c=a?a[2]:void 0,u=a?a[3]:void 0,l=eo.from(s,"base64");if(!u)throw new jB("key is not a valid PEM string");if(c){if("RSA"===c)u="PRIVATE"===u?"private_pkcs1":"public_pkcs1",i=HB.find((e=>e.kty===c)).oid;else if("EC"===c){let e;if("PRIVATE"===u){let t=KB.normalize(`${c}PrivateKey`);u="private_pkcs1",e=t.decode(l,"der")}else if("PUBLIC"===u){let t=KB.normalize(`${c}PrivateKey`);u="public_pkcs1",e=t.decode(l,"der")}let{parameters:{value:t}}=e;o=HB.find((e=>e.namedCurve===t.join("."))).crv}}else{let e,t=KB.normalize("PrivateKeyInfo"),r=KB.normalize("PublicKeyInfo");"PRIVATE"===u?(u="private_pkcs8",e=t.decode(l,"der")):"PUBLIC"===u&&(u="public_pkcs8",e=r.decode(l,"der"));let{algorithm:{algorithm:n,parameters:s}}=e;n=n.join("."),s=s?s.toString("hex"):void 0;const a=HB.find((e=>e.oid===n));if(c=a?a.kty:void 0,!c)throw new jB(`${n} is not supported`);"RSA"===c||"OKP"===c?i=n:"EC"===c&&(o=HB.find((e=>e.algParameters===s)).crv)}return new zB(l,{kty:c,oid:i,crv:o,format:t,selector:u})}if("blk"===t)return new zB(e,{kty:"EC",crv:"K-256",format:t,selector:e.length>64?"public":"private"});throw new jB(`Invalid format ${t}`)}get alg(){let{kty:e,crv:t,oid:r}=this;if(!this.algorithm){if(t)Object.defineProperty(this,"algorithm",{value:HB.normalize(e,"crv",t)});else{if(!r)throw new Error("Both crv and oid are undefined");Object.defineProperty(this,"algorithm",{value:HB.normalize(e,"oid",r)})}if(!this.algorithm)throw new Error(`${this.crv||this.oid} is not implemented yet`)}return this.algorithm}parseKey(e){let{alg:t,format:r,selector:n}=this;if("pem"===r)switch(n){case"public_pkcs1":return t.fromPublicPKCS1(e);case"public_pkcs8":return t.fromPublicPKCS8(e);case"private_pkcs1":return t.fromPrivatePKCS1(e);case"private_pkcs8":return t.fromPrivatePKCS8(e);default:throw new Error("Invalid selector value")}if("jwk"===r)return t.fromJwk(e,n);if("blk"===r)switch(n){case"public":return t.fromPublicBlk(e);case"private":return t.fromPrivateBlk(e)}}toJwk(e){let{key:t,alg:r,selector:n}=this;switch(e){case"public":return r.toPublicJwk(t);case"private":if(n.includes("public"))throw new jB("Cannot export a private key from a public key");return r.toPrivateJwk(t);default:throw new Error("Invalid key selector")}}toString(e="pem",t="public_pkcs8"){let{key:r,alg:n,selector:i}=this;if("pem"===e)switch(t){case"public_pkcs1":return n.toPublicPKCS1(r);case"public_pkcs8":return n.toPublicPKCS8(r);case"private_pkcs1":if(i.includes("public"))throw new jB("Cannot export a private key from a public key");return n.toPrivatePKCS1(r);case"private_pkcs8":if(i.includes("public"))throw new jB("Cannot export a private key from a public key");return n.toPrivatePKCS8(r);default:throw new Error("Invalid key selector")}else if("jwk"===e)switch(t){case"public":return JSON.stringify(n.toPublicJwk(r));case"private":if(i.includes("public"))throw new jB("Cannot export a private key from a public key");return JSON.stringify(n.toPrivateJwk(r));default:throw new Error("Invalid key selector")}else if("blk"===e)switch(t){case"private":if(i.includes("public"))throw new jB("Cannot export a private key from a public key");return n.toPrivateBlk(r);case"public":return n.toPublicBlk(r);default:throw new Error("Invalid key selector")}throw new QB}}var qB=zB,GB={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */!function(e,t){var r=Do,n=r.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o),o.prototype=Object.create(n.prototype),i(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}(GB,GB.exports);var WB=GB.exports.Buffer,$B=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return WB.alloc(0);for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var A=0,h=o-1;(0!==l||A<i)&&-1!==h;h--,A++)l+=s*u[h]>>>0,u[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=A,r++}for(var f=o-i;f!==o&&0===u[f];)f++;var d=WB.allocUnsafe(n+(o-f));d.fill(0,0,n);for(var p=n;f!==o;)d[p++]=u[f++];return d}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=WB.from(t)),!WB.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var A=t[i],h=0,f=c-1;(0!==A||h<n)&&-1!==f;f--,h++)A+=256*l[f]>>>0,l[f]=A%s>>>0,A=A/s>>>0;if(0!==A)throw new Error("Non-zero carry");n=h,i++}for(var d=c-n;d!==c&&0===l[d];)d++;for(var p=a.repeat(r);d<c;++d)p+=e.charAt(l[d]);return p},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}},JB=$B("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const XB="Impossible case. Please create issue.",YB="The tweak was out of range or the resulted private key is invalid",ZB="The tweak was out of range or equal to zero",eE="Public Key could not be parsed",tE="Public Key serialization error",rE="Signature could not be parsed";function nE(e,t){if(!e)throw new Error(t)}function iE(e,t,r){if(nE(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;nE(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;nE(t.length===r,n)}}function oE(e){nE("Boolean"===aE(e),"Expected compressed to be a Boolean")}function sE(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),iE("output",e,t),e}function aE(e){return Object.prototype.toString.call(e).slice(8,-1)}const cE=new Gb.ec("secp256k1"),uE=cE.curve,lE=uE.n.constructor;function AE(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new lE(t);if(r.cmp(uE.p)>=0)return null;r=r.toRed(uE.red);let n=r.redSqr().redIMul(r).redIAdd(uE.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),cE.keyPair({pub:{x:r,y:n}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let n=new lE(t),i=new lE(r);if(n.cmp(uE.p)>=0||i.cmp(uE.p)>=0)return null;if(n=n.toRed(uE.red),i=i.toRed(uE.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;const o=n.redSqr().redIMul(n);return i.redSqr().redISub(o.redIAdd(uE.b)).isZero()?cE.keyPair({pub:{x:n,y:i}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function hE(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}var fE={contextRandomize:()=>0,privateKeyVerify(e){const t=new lE(e);return t.cmp(uE.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new lE(e),r=uE.n.sub(t).umod(uE.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new lE(t);if(r.cmp(uE.n)>=0)return 1;if(r.iadd(new lE(e)),r.cmp(uE.n)>=0&&r.isub(uE.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new lE(t);if(r.cmp(uE.n)>=0||r.isZero())return 1;r.imul(new lE(e)),r.cmp(uE.n)>=0&&(r=r.umod(uE.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===AE(e)?1:0,publicKeyCreate(e,t){const r=new lE(t);return r.cmp(uE.n)>=0||r.isZero()?1:(hE(e,cE.keyFromPrivate(t).getPublic()),0)},publicKeyConvert(e,t){const r=AE(t);return null===r?1:(hE(e,r.getPublic()),0)},publicKeyNegate(e,t){const r=AE(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),hE(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=AE(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(hE(e,n),0)},publicKeyTweakAdd(e,t,r){const n=AE(t);if(null===n)return 1;if((r=new lE(r)).cmp(uE.n)>=0)return 2;const i=n.getPublic().add(uE.g.mul(r));return i.isInfinity()?2:(hE(e,i),0)},publicKeyTweakMul(e,t,r){const n=AE(t);return null===n?1:(r=new lE(r)).cmp(uE.n)>=0||r.isZero()?2:(hE(e,n.getPublic().mul(r)),0)},signatureNormalize(e){const t=new lE(e.subarray(0,32)),r=new lE(e.subarray(32,64));return t.cmp(uE.n)>=0||r.cmp(uE.n)>=0?1:(1===r.cmp(cE.nh)&&e.set(uE.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new lE(r).cmp(uE.n)>=0)return 1;if(new lE(n).cmp(uE.n)>=0)return 1;const{output:i}=e;let o=i.subarray(4,37);o[0]=0,o.set(r,1);let s=33,a=0;for(;s>1&&0===o[a]&&!(128&o[a+1]);--s,++a);if(o=o.subarray(a),128&o[0])return 1;if(s>1&&0===o[0]&&!(128&o[1]))return 1;let c=i.subarray(39,72);c[0]=0,c.set(n,1);let u=33,l=0;for(;u>1&&0===c[l]&&!(128&c[l+1]);--u,++l);return c=c.subarray(l),128&c[0]||u>1&&0===c[0]&&!(128&c[1])?1:(e.outputlen=6+s+u,i[0]=48,i[1]=e.outputlen-2,i[2]=2,i[3]=o.length,i.set(o,4),i[4+s]=2,i[5+s]=c.length,i.set(c,6+s),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let i=t.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let s=new lE(i);s.cmp(uE.n)>=0&&(s=new lE(0));let a=new lE(t.subarray(6+r));return a.cmp(uE.n)>=0&&(a=new lE(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,n,i){if(i){const e=i;i=i=>{const o=e(t,r,null,n,i);if(!(o instanceof Uint8Array&&32===o.length))throw new Error("This is the way");return new lE(o)}}const o=new lE(r);if(o.cmp(uE.n)>=0||o.isZero())return 1;let s;try{s=cE.sign(t,r,{canonical:!0,k:i,pers:n})}catch(e){return 1}return e.signature.set(s.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(s.s.toArrayLike(Uint8Array,"be",32),32),e.recid=s.recoveryParam,0},ecdsaVerify(e,t,r){const n={r:e.subarray(0,32),s:e.subarray(32,64)},i=new lE(n.r),o=new lE(n.s);if(i.cmp(uE.n)>=0||o.cmp(uE.n)>=0)return 1;if(1===o.cmp(cE.nh)||i.isZero()||o.isZero())return 3;const s=AE(r);if(null===s)return 2;const a=s.getPublic();return cE.verify(t,n,a)?0:3},ecdsaRecover(e,t,r,n){const i={r:t.slice(0,32),s:t.slice(32,64)},o=new lE(i.r),s=new lE(i.s);if(o.cmp(uE.n)>=0||s.cmp(uE.n)>=0)return 1;if(o.isZero()||s.isZero())return 2;let a;try{a=cE.recoverPubKey(n,i,r)}catch(e){return 2}return hE(e,a),0},ecdh(e,t,r,n,i,o,s){const a=AE(t);if(null===a)return 1;const c=new lE(r);if(c.cmp(uE.n)>=0||c.isZero())return 2;const u=a.getPublic().mul(c);if(void 0===i){const t=u.encode(null,!0),r=cE.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{o||(o=new Uint8Array(32));const t=u.getX().toArray("be",32);for(let e=0;e<32;++e)o[e]=t[e];s||(s=new Uint8Array(32));const r=u.getY().toArray("be",32);for(let e=0;e<32;++e)s[e]=r[e];const a=i(o,s,n);if(!(a instanceof Uint8Array&&a.length===e.length))return 2;e.set(a)}return 0}},dE=(e=>({contextRandomize(t){if(nE(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&iE("seed",t,32),1===e.contextRandomize(t))throw new Error("Unknow error on context randomization")},privateKeyVerify:t=>(iE("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(iE("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(XB)}},privateKeyTweakAdd(t,r){switch(iE("private key",t,32),iE("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(YB)}},privateKeyTweakMul(t,r){switch(iE("private key",t,32),iE("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(ZB)}},publicKeyVerify:t=>(iE("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(iE("private key",t,32),oE(r),n=sE(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error("Private Key is invalid");case 2:throw new Error(tE)}},publicKeyConvert(t,r=!0,n){switch(iE("public key",t,[33,65]),oE(r),n=sE(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(eE);case 2:throw new Error(tE)}},publicKeyNegate(t,r=!0,n){switch(iE("public key",t,[33,65]),oE(r),n=sE(n,r?33:65),e.publicKeyNegate(n,t)){case 0:return n;case 1:throw new Error(eE);case 2:throw new Error(XB);case 3:throw new Error(tE)}},publicKeyCombine(t,r=!0,n){nE(Array.isArray(t),"Expected public keys to be an Array"),nE(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)iE("public key",e,[33,65]);switch(oE(r),n=sE(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(eE);case 2:throw new Error("The sum of the public keys is not valid");case 3:throw new Error(tE)}},publicKeyTweakAdd(t,r,n=!0,i){switch(iE("public key",t,[33,65]),iE("tweak",r,32),oE(n),i=sE(i,n?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(eE);case 2:throw new Error(YB)}},publicKeyTweakMul(t,r,n=!0,i){switch(iE("public key",t,[33,65]),iE("tweak",r,32),oE(n),i=sE(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(eE);case 2:throw new Error(ZB)}},signatureNormalize(t){switch(iE("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(rE)}},signatureExport(t,r){iE("signature",t,64);const n={output:r=sE(r,72),outputlen:72};switch(e.signatureExport(n,t)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(rE);case 2:throw new Error(XB)}},signatureImport(t,r){switch(iE("signature",t),r=sE(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(rE);case 2:throw new Error(XB)}},ecdsaSign(t,r,n={},i){iE("message",t,32),iE("private key",r,32),nE("Object"===aE(n),"Expected options to be an Object"),void 0!==n.data&&iE("options.data",n.data),void 0!==n.noncefn&&nE("Function"===aE(n.noncefn),"Expected options.noncefn to be a Function");const o={signature:i=sE(i,64),recid:null};switch(e.ecdsaSign(o,t,r,n.data,n.noncefn)){case 0:return o;case 1:throw new Error("The nonce generation function failed, or the private key was invalid");case 2:throw new Error(XB)}},ecdsaVerify(t,r,n){switch(iE("signature",t,64),iE("message",r,32),iE("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(rE);case 2:throw new Error(eE)}},ecdsaRecover(t,r,n,i=!0,o){switch(iE("signature",t,64),nE("Number"===aE(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),iE("message",n,32),oE(i),o=sE(o,i?33:65),e.ecdsaRecover(o,t,r,n)){case 0:return o;case 1:throw new Error(rE);case 2:throw new Error("Public key could not be recover");case 3:throw new Error(XB)}},ecdh(t,r,n={},i){switch(iE("public key",t,[33,65]),iE("private key",r,32),nE("Object"===aE(n),"Expected options to be an Object"),void 0!==n.data&&iE("options.data",n.data),void 0!==n.hashfn?(nE("Function"===aE(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&iE("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&iE("options.ybuf",n.ybuf,32),iE("output",i)):i=sE(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(eE);case 2:throw new Error("Scalar was invalid (zero or overflow)")}}}))(fE);const pE="undefined"==typeof Buffer?eo:Buffer;var gE={},mE={},yE={},vE={},bE={exports:{}},wE={},xE=Mi(Ql),_E=xE.EventEmitter;function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SE=Do.Buffer,CE=gf.inspect,IE=CE&&CE.custom||"inspect";function kE(e,t,r){SE.prototype.copy.call(e,t,r)}var PE=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return SE.alloc(0);for(var t=SE.allocUnsafe(e>>>0),r=this.head,n=0;r;)kE(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=SE.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:IE,value:function(e,t){return CE(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BE(Object(r),!0).forEach((function(t){EE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function TE(e,t){LE(e,t),OE(e)}function OE(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function LE(e,t){e.emit("error",t)}var NE={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Fc(LE,this,e)):Fc(LE,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?Fc(OE,r):(r._writableState.errorEmitted=!0,Fc(TE,r,e)):Fc(TE,r,e):t?(Fc(OE,r),t(e)):Fc(OE,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}},UE={},FE={};function ME(e,t,r){r||(r=Error);var n=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=e,FE[e]=n}function RE(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}ME("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),ME("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,o;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(RE(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(RE(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),ME("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ME("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),ME("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ME("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),ME("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ME("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ME("ERR_STREAM_WRITE_AFTER_END","write after end"),ME("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ME("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),ME("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),UE.codes=FE;var DE=UE.codes.ERR_INVALID_OPT_VALUE,jE=function(e,t,r,n){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new DE(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384},QE={},HE=GB.exports.Buffer,KE=HE.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function VE(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(HE.isEncoding===KE||!KE(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=GE,this.end=WE,t=4;break;case"utf8":this.fillLast=qE,t=4;break;case"base64":this.text=$E,this.end=JE,t=3;break;default:return this.write=XE,void(this.end=YE)}this.lastNeed=0,this.lastTotal=0,this.lastChar=HE.allocUnsafe(t)}function zE(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function qE(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ÔøΩ";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ÔøΩ";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ÔøΩ"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function GE(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function WE(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function $E(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function JE(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function XE(e){return e.toString(this.encoding)}function YE(e){return e&&e.length?this.write(e):""}QE.StringDecoder=VE,VE.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},VE.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ÔøΩ":t},VE.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=zE(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=zE(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=zE(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},VE.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var ZE=UE.codes.ERR_STREAM_PREMATURE_CLOSE;function eS(){}var tS,rS=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(n||eS);var i=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,s=function(){t.writable||c()},a=t._writableState&&t._writableState.finished,c=function(){o=!1,a=!0,i||n.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){i=!1,u=!0,o||n.call(t)},A=function(e){n.call(t,e)},h=function(){var e;return i&&!u?(t._readableState&&t._readableState.ended||(e=new ZE),n.call(t,e)):o&&!a?(t._writableState&&t._writableState.ended||(e=new ZE),n.call(t,e)):void 0},f=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",h),t.req?f():t.on("request",f)):o&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",c),!1!==r.error&&t.on("error",A),t.on("close",h),function(){t.removeListener("complete",c),t.removeListener("abort",h),t.removeListener("request",f),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",l),t.removeListener("error",A),t.removeListener("close",h)}};function nS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iS=rS,oS=Symbol("lastResolve"),sS=Symbol("lastReject"),aS=Symbol("error"),cS=Symbol("ended"),uS=Symbol("lastPromise"),lS=Symbol("handlePromise"),AS=Symbol("stream");function hS(e,t){return{value:e,done:t}}function fS(e){var t=e[oS];if(null!==t){var r=e[AS].read();null!==r&&(e[uS]=null,e[oS]=null,e[sS]=null,t(hS(r,!1)))}}function dS(e){Fc(fS,e)}var pS=Object.getPrototypeOf((function(){})),gS=Object.setPrototypeOf((tS={get stream(){return this[AS]},next:function(){var e=this,t=this[aS];if(null!==t)return Promise.reject(t);if(this[cS])return Promise.resolve(hS(void 0,!0));if(this[AS].destroyed)return new Promise((function(t,r){Fc((function(){e[aS]?r(e[aS]):t(hS(void 0,!0))}))}));var r,n=this[uS];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[cS]?r(hS(void 0,!0)):t[lS](r,n)}),n)}}(n,this));else{var i=this[AS].read();if(null!==i)return Promise.resolve(hS(i,!1));r=new Promise(this[lS])}return this[uS]=r,r}},nS(tS,Symbol.asyncIterator,(function(){return this})),nS(tS,"return",(function(){var e=this;return new Promise((function(t,r){e[AS].destroy(null,(function(e){e?r(e):t(hS(void 0,!0))}))}))})),tS),pS),mS=function(e){var t,r=Object.create(gS,(nS(t={},AS,{value:e,writable:!0}),nS(t,oS,{value:null,writable:!0}),nS(t,sS,{value:null,writable:!0}),nS(t,aS,{value:null,writable:!0}),nS(t,cS,{value:e._readableState.endEmitted,writable:!0}),nS(t,lS,{value:function(e,t){var n=r[AS].read();n?(r[uS]=null,r[oS]=null,r[sS]=null,e(hS(n,!1))):(r[oS]=e,r[sS]=t)},writable:!0}),t));return r[uS]=null,iS(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[sS];return null!==t&&(r[uS]=null,r[oS]=null,r[sS]=null,t(e)),void(r[aS]=e)}var n=r[oS];null!==n&&(r[uS]=null,r[oS]=null,r[sS]=null,n(hS(void 0,!0))),r[cS]=!0})),e.on("readable",dS.bind(null,r)),r},yS=function(){throw new Error("Readable.from is not available in the browser")};const vS=wE;vS.Readable=jS,jS.ReadableState=DS,xE.EventEmitter;var bS,wS=function(e,t){return e.listeners(t).length},xS=_E,_S=Do.Buffer,BS=Fi.Uint8Array||function(){},ES=gf;bS=ES&&ES.debuglog?ES.debuglog("stream"):function(){};var SS,CS,IS,kS=PE,PS=NE,TS=jE,OS=UE.codes,LS=OS.ERR_INVALID_ARG_TYPE,NS=OS.ERR_STREAM_PUSH_AFTER_EOF,US=OS.ERR_METHOD_NOT_IMPLEMENTED,FS=OS.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;_v.exports(jS,xS);var MS=PS.errorOrDestroy,RS=["error","close","destroy","pause","resume"];function DS(e,t,r){e=e||{},"boolean"!=typeof r&&(r=t instanceof vS.Duplex),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=TS(this,e,"readableHighWaterMark",r),this.buffer=new kS,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(SS||(SS=QE.StringDecoder),this.decoder=new SS(e.encoding),this.encoding=e.encoding)}function jS(e){if(!(this instanceof jS))return new jS(e);var t=this instanceof vS.Duplex;this._readableState=new DS(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),xS.call(this)}function QS(e,t,r,n,i){bS("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(bS("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?VS(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,zS(e)))}}(e,s);else if(i||(o=function(e,t){var r,n;return n=t,_S.isBuffer(n)||n instanceof BS||"string"==typeof t||void 0===t||e.objectMode||(r=new LS("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),o)MS(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===_S.prototype||(t=function(e){return _S.from(e)}(t)),n)s.endEmitted?MS(e,new FS):HS(e,s,t,!0);else if(s.ended)MS(e,new NS);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?HS(e,s,t,!1):qS(e,s)):HS(e,s,t,!1)}else n||(s.reading=!1,qS(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function HS(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&VS(e)),qS(e,t)}function KS(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function VS(e){var t=e._readableState;bS("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(bS("emitReadable",t.flowing),t.emittedReadable=!0,Fc(zS,e))}function zS(e){var t=e._readableState;bS("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,XS(e)}function qS(e,t){t.readingMore||(t.readingMore=!0,Fc(GS,e,t))}function GS(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(bS("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function WS(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function $S(e){bS("readable nexttick read 0"),e.read(0)}function JS(e,t){bS("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),XS(e),t.flowing&&!t.reading&&e.read(0)}function XS(e){var t=e._readableState;for(bS("flow",t.flowing);t.flowing&&null!==e.read(););}function YS(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function ZS(e){var t=e._readableState;bS("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,Fc(eC,t,e))}function eC(e,t){if(bS("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function tC(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(jS.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),jS.prototype.destroy=PS.destroy,jS.prototype._undestroy=PS.undestroy,jS.prototype._destroy=function(e,t){t(e)},jS.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=_S.from(e,t),t=""),r=!0),QS(this,e,t,!1,r)},jS.prototype.unshift=function(e){return QS(this,e,null,!0,!1)},jS.prototype.isPaused=function(){return!1===this._readableState.flowing},jS.prototype.setEncoding=function(e){SS||(SS=QE.StringDecoder);var t=new SS(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},jS.prototype.read=function(e){bS("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return bS("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ZS(this):VS(this),null;if(0===(e=KS(e,t))&&t.ended)return 0===t.length&&ZS(this),null;var n,i=t.needReadable;return bS("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&bS("length less than watermark",i=!0),t.ended||t.reading?bS("reading or ended",i=!1):i&&(bS("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=KS(r,t))),null===(n=e>0?YS(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&ZS(this)),null!==n&&this.emit("data",n),n},jS.prototype._read=function(e){MS(this,new US("_read()"))},jS.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,bS("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end||e===$c.stdout||e===$c.stderr?h:o;function o(){bS("onend"),e.end()}n.endEmitted?Fc(i):r.once("end",i),e.on("unpipe",(function t(i,f){bS("onunpipe"),i===r&&f&&!1===f.hasUnpiped&&(f.hasUnpiped=!0,bS("cleanup"),e.removeListener("close",l),e.removeListener("finish",A),e.removeListener("drain",s),e.removeListener("error",u),e.removeListener("unpipe",t),r.removeListener("end",o),r.removeListener("end",h),r.removeListener("data",c),a=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s())}));var s=function(e){return function(){var t=e._readableState;bS("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&wS(e,"data")&&(t.flowing=!0,XS(e))}}(r);e.on("drain",s);var a=!1;function c(t){bS("ondata");var i=e.write(t);bS("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==tC(n.pipes,e))&&!a&&(bS("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(t){bS("onerror",t),h(),e.removeListener("error",u),0===wS(e,"error")&&MS(e,t)}function l(){e.removeListener("finish",A),h()}function A(){bS("onfinish"),e.removeListener("close",l),h()}function h(){bS("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",u),e.once("close",l),e.once("finish",A),e.emit("pipe",r),n.flowing||(bS("pipe resume"),r.resume()),e},jS.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=tC(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},jS.prototype.on=function(e,t){var r=xS.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,bS("on readable",n.length,n.reading),n.length?VS(this):n.reading||Fc($S,this))),r},jS.prototype.addListener=jS.prototype.on,jS.prototype.removeListener=function(e,t){var r=xS.prototype.removeListener.call(this,e,t);return"readable"===e&&Fc(WS,this),r},jS.prototype.removeAllListeners=function(e){var t=xS.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||Fc(WS,this),t},jS.prototype.resume=function(){var e=this._readableState;return e.flowing||(bS("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Fc(JS,e,t))}(this,e)),e.paused=!1,this},jS.prototype.pause=function(){return bS("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(bS("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},jS.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(bS("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){bS("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<RS.length;o++)e.on(RS[o],this.emit.bind(this,RS[o]));return this._read=function(t){bS("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(jS.prototype[Symbol.asyncIterator]=function(){return void 0===CS&&(CS=mS),CS(this)}),Object.defineProperty(jS.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(jS.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(jS.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),jS._fromList=YS,Object.defineProperty(jS.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(jS.from=function(e,t){return void 0===IS&&(IS=yS),IS(jS,e,t)});function rC(e){try{if(!Fi.localStorage)return!1}catch(e){return!1}var t=Fi.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}const nC=wE;function iC(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}nC.Writable=BC,BC.WritableState=_C;var oC,sC=function(e,t){if(rC("noDeprecation"))return e;var r=!1;return function(){if(!r){if(rC("throwDeprecation"))throw new Error(t);rC("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}},aC=_E,cC=Do.Buffer,uC=Fi.Uint8Array||function(){},lC=NE,AC=jE,hC=UE.codes,fC=hC.ERR_INVALID_ARG_TYPE,dC=hC.ERR_METHOD_NOT_IMPLEMENTED,pC=hC.ERR_MULTIPLE_CALLBACK,gC=hC.ERR_STREAM_CANNOT_PIPE,mC=hC.ERR_STREAM_DESTROYED,yC=hC.ERR_STREAM_NULL_VALUES,vC=hC.ERR_STREAM_WRITE_AFTER_END,bC=hC.ERR_UNKNOWN_ENCODING,wC=lC.errorOrDestroy;function xC(){}function _C(e,t,r){e=e||{},"boolean"!=typeof r&&(r=t instanceof nC.Duplex),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=AC(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new pC;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(Fc(i,n),Fc(PC,e,t),e._writableState.errorEmitted=!0,wC(e,n)):(i(n),e._writableState.errorEmitted=!0,wC(e,n),PC(e,t))}(e,r,n,t,i);else{var o=IC(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||CC(e,r),n?Fc(SC,e,r,o,i):SC(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new iC(this)}function BC(e){var t=this instanceof nC.Duplex;if(!t&&!oC.call(BC,this))return new BC(e);this._writableState=new _C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),aC.call(this)}function EC(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new mC("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function SC(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),PC(e,t)}function CC(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,EC(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new iC(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback;if(EC(e,t,!1,t.objectMode?1:c.length,c,u,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function IC(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function kC(e,t){e._final((function(r){t.pendingcb--,r&&wC(e,r),t.prefinished=!0,e.emit("prefinish"),PC(e,t)}))}function PC(e,t){var r=IC(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,Fc(kC,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}_v.exports(BC,aC),_C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_C.prototype,"buffer",{get:sC((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(oC=Function.prototype[Symbol.hasInstance],Object.defineProperty(BC,Symbol.hasInstance,{value:function(e){return!!oC.call(this,e)||this===BC&&e&&e._writableState instanceof _C}})):oC=function(e){return e instanceof this},BC.prototype.pipe=function(){wC(this,new gC)},BC.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,cC.isBuffer(n)||n instanceof uC);return s&&!cC.isBuffer(e)&&(e=function(e){return cC.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=xC),i.ending?function(e,t){var r=new vC;wC(e,r),Fc(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new yC:"string"==typeof r||t.objectMode||(i=new fC("chunk",["string","Buffer"],r)),!i||(wC(e,i),Fc(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=cC.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else EC(e,t,!1,a,n,i,o);return c}(this,i,s,e,t,r)),o},BC.prototype.cork=function(){this._writableState.corked++},BC.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||CC(this,e))},BC.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new bC(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(BC.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(BC.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),BC.prototype._write=function(e,t,r){r(new dC("_write()"))},BC.prototype._writev=null,BC.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,PC(e,t),r&&(t.finished?Fc(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(BC.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(BC.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),BC.prototype.destroy=lC.destroy,BC.prototype._undestroy=lC.undestroy,BC.prototype._destroy=function(e,t){t(e)};var TC=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};const OC=wE;OC.Duplex=FC,_v.exports(FC,OC.Readable);for(var LC=TC(OC.Writable.prototype),NC=0;NC<LC.length;NC++){var UC=LC[NC];FC.prototype[UC]||(FC.prototype[UC]=OC.Writable.prototype[UC])}function FC(e){if(!(this instanceof FC))return new FC(e);OC.Readable.call(this,e),OC.Writable.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",MC)))}function MC(){this._writableState.ended||Fc(RC,this)}function RC(e){e.end()}Object.defineProperty(FC.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(FC.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(FC.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(FC.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});const DC=wE;DC.Transform=qC;var jC=UE.codes,QC=jC.ERR_METHOD_NOT_IMPLEMENTED,HC=jC.ERR_MULTIPLE_CALLBACK,KC=jC.ERR_TRANSFORM_ALREADY_TRANSFORMING,VC=jC.ERR_TRANSFORM_WITH_LENGTH_0;function zC(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new HC);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function qC(e){if(!(this instanceof qC))return new qC(e);DC.Duplex.call(this,e),this._transformState={afterTransform:zC.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",GC)}function GC(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?WC(this,null,null):this._flush((function(t,r){WC(e,t,r)}))}function WC(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new VC;if(e._transformState.transforming)throw new KC;return e.push(null)}_v.exports(qC,DC.Duplex),qC.prototype.push=function(e,t){return this._transformState.needTransform=!1,DC.Duplex.prototype.push.call(this,e,t)},qC.prototype._transform=function(e,t,r){r(new QC("_transform()"))},qC.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},qC.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},qC.prototype._destroy=function(e,t){DC.Duplex.prototype._destroy.call(this,e,(function(e){t(e)}))};const $C=wE;function JC(e){if(!(this instanceof JC))return new JC(e);Transform.call(this,e)}var XC;$C.PassThrough=JC,_v.exports(JC,$C.Transform),JC.prototype._transform=function(e,t,r){r(null,e)};var YC=UE.codes,ZC=YC.ERR_MISSING_ARGS,eI=YC.ERR_STREAM_DESTROYED;function tI(e){if(e)throw e}function rI(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var i=!1;e.on("close",(function(){i=!0})),void 0===XC&&(XC=rS),XC(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o)return o=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new eI("pipe"))}}function nI(e){e()}function iI(e,t){return e.pipe(t)}function oI(e){return e.length?"function"!=typeof e[e.length-1]?tI:e.pop():tI}var sI=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=oI(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ZC("streams");var o=t.map((function(e,r){var s=r<t.length-1;return rI(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(nI),s||(o.forEach(nI),i(n))}))}));return t.reduce(iI)};!function(e,t){const r=wE;(t=bE.exports=r.Readable).Stream=r.Readable,t.Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.finished=rS,t.pipeline=sI}(0,bE.exports);var aI=GB.exports.Buffer,cI=bE.exports.Transform;function uI(e){cI.call(this),this._block=aI.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}(0,_v.exports)(uI,cI),uI.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},uI.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},uI.prototype.update=function(e,t){if(function(e,t){if(!aI.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");aI.isBuffer(e)||(e=aI.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},uI.prototype._update=function(){throw new Error("_update is not implemented")},uI.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},uI.prototype._digest=function(){throw new Error("_digest is not implemented")};var lI=uI,AI=_v.exports,hI=lI,fI=GB.exports.Buffer,dI=new Array(16);function pI(){hI.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function gI(e,t){return e<<t|e>>>32-t}function mI(e,t,r,n,i,o,s){return gI(e+(t&r|~t&n)+i+o|0,s)+t|0}function yI(e,t,r,n,i,o,s){return gI(e+(t&n|r&~n)+i+o|0,s)+t|0}function vI(e,t,r,n,i,o,s){return gI(e+(t^r^n)+i+o|0,s)+t|0}function bI(e,t,r,n,i,o,s){return gI(e+(r^(t|~n))+i+o|0,s)+t|0}AI(pI,hI),pI.prototype._update=function(){for(var e=dI,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=mI(r,n,i,o,e[0],3614090360,7),o=mI(o,r,n,i,e[1],3905402710,12),i=mI(i,o,r,n,e[2],606105819,17),n=mI(n,i,o,r,e[3],3250441966,22),r=mI(r,n,i,o,e[4],4118548399,7),o=mI(o,r,n,i,e[5],1200080426,12),i=mI(i,o,r,n,e[6],2821735955,17),n=mI(n,i,o,r,e[7],4249261313,22),r=mI(r,n,i,o,e[8],1770035416,7),o=mI(o,r,n,i,e[9],2336552879,12),i=mI(i,o,r,n,e[10],4294925233,17),n=mI(n,i,o,r,e[11],2304563134,22),r=mI(r,n,i,o,e[12],1804603682,7),o=mI(o,r,n,i,e[13],4254626195,12),i=mI(i,o,r,n,e[14],2792965006,17),r=yI(r,n=mI(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=yI(o,r,n,i,e[6],3225465664,9),i=yI(i,o,r,n,e[11],643717713,14),n=yI(n,i,o,r,e[0],3921069994,20),r=yI(r,n,i,o,e[5],3593408605,5),o=yI(o,r,n,i,e[10],38016083,9),i=yI(i,o,r,n,e[15],3634488961,14),n=yI(n,i,o,r,e[4],3889429448,20),r=yI(r,n,i,o,e[9],568446438,5),o=yI(o,r,n,i,e[14],3275163606,9),i=yI(i,o,r,n,e[3],4107603335,14),n=yI(n,i,o,r,e[8],1163531501,20),r=yI(r,n,i,o,e[13],2850285829,5),o=yI(o,r,n,i,e[2],4243563512,9),i=yI(i,o,r,n,e[7],1735328473,14),r=vI(r,n=yI(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=vI(o,r,n,i,e[8],2272392833,11),i=vI(i,o,r,n,e[11],1839030562,16),n=vI(n,i,o,r,e[14],4259657740,23),r=vI(r,n,i,o,e[1],2763975236,4),o=vI(o,r,n,i,e[4],1272893353,11),i=vI(i,o,r,n,e[7],4139469664,16),n=vI(n,i,o,r,e[10],3200236656,23),r=vI(r,n,i,o,e[13],681279174,4),o=vI(o,r,n,i,e[0],3936430074,11),i=vI(i,o,r,n,e[3],3572445317,16),n=vI(n,i,o,r,e[6],76029189,23),r=vI(r,n,i,o,e[9],3654602809,4),o=vI(o,r,n,i,e[12],3873151461,11),i=vI(i,o,r,n,e[15],530742520,16),r=bI(r,n=vI(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=bI(o,r,n,i,e[7],1126891415,10),i=bI(i,o,r,n,e[14],2878612391,15),n=bI(n,i,o,r,e[5],4237533241,21),r=bI(r,n,i,o,e[12],1700485571,6),o=bI(o,r,n,i,e[3],2399980690,10),i=bI(i,o,r,n,e[10],4293915773,15),n=bI(n,i,o,r,e[1],2240044497,21),r=bI(r,n,i,o,e[8],1873313359,6),o=bI(o,r,n,i,e[15],4264355552,10),i=bI(i,o,r,n,e[6],2734768916,15),n=bI(n,i,o,r,e[13],1309151649,21),r=bI(r,n,i,o,e[4],4149444226,6),o=bI(o,r,n,i,e[11],3174756917,10),i=bI(i,o,r,n,e[2],718787259,15),n=bI(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},pI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=fI.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var wI=pI,xI=Do.Buffer,_I=_v.exports,BI=lI,EI=new Array(16),SI=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],CI=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],II=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],kI=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],PI=[0,1518500249,1859775393,2400959708,2840853838],TI=[1352829926,1548603684,1836072691,2053994217,0];function OI(){BI.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function LI(e,t){return e<<t|e>>>32-t}function NI(e,t,r,n,i,o,s,a){return LI(e+(t^r^n)+o+s|0,a)+i|0}function UI(e,t,r,n,i,o,s,a){return LI(e+(t&r|~t&n)+o+s|0,a)+i|0}function FI(e,t,r,n,i,o,s,a){return LI(e+((t|~r)^n)+o+s|0,a)+i|0}function MI(e,t,r,n,i,o,s,a){return LI(e+(t&n|r&~n)+o+s|0,a)+i|0}function RI(e,t,r,n,i,o,s,a){return LI(e+(t^(r|~n))+o+s|0,a)+i|0}_I(OI,BI),OI.prototype._update=function(){for(var e=EI,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,c=0|this._b,u=0|this._c,l=0|this._d,A=0|this._e,h=0;h<80;h+=1){var f,d;h<16?(f=NI(r,n,i,o,s,e[SI[h]],PI[0],II[h]),d=RI(a,c,u,l,A,e[CI[h]],TI[0],kI[h])):h<32?(f=UI(r,n,i,o,s,e[SI[h]],PI[1],II[h]),d=MI(a,c,u,l,A,e[CI[h]],TI[1],kI[h])):h<48?(f=FI(r,n,i,o,s,e[SI[h]],PI[2],II[h]),d=FI(a,c,u,l,A,e[CI[h]],TI[2],kI[h])):h<64?(f=MI(r,n,i,o,s,e[SI[h]],PI[3],II[h]),d=UI(a,c,u,l,A,e[CI[h]],TI[3],kI[h])):(f=RI(r,n,i,o,s,e[SI[h]],PI[4],II[h]),d=NI(a,c,u,l,A,e[CI[h]],TI[4],kI[h])),r=s,s=o,o=LI(i,10),i=n,n=f,a=A,A=l,l=LI(u,10),u=c,c=d}var p=this._b+i+l|0;this._b=this._c+o+A|0,this._c=this._d+s+a|0,this._d=this._e+r+c|0,this._e=this._a+n+u|0,this._a=p},OI.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=xI.alloc?xI.alloc(20):new xI(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var DI=OI,jI={exports:{}},QI=GB.exports.Buffer;function HI(e,t){this._block=QI.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}HI.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=QI.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%n,c=Math.min(i-s,n-a),u=0;u<c;u++)r[a+u]=e[s+u];s+=c,(o+=c)%n==0&&this._update(r)}return this._len+=i,this},HI.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},HI.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var KI=HI,VI=_v.exports,zI=KI,qI=GB.exports.Buffer,GI=[1518500249,1859775393,-1894007588,-899497514],WI=new Array(80);function $I(){this.init(),this._w=WI,zI.call(this,64,56)}function JI(e){return e<<30|e>>>2}function XI(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}VI($I,zI),$I.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},$I.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,c=0;c<16;++c)r[c]=e.readInt32BE(4*c);for(;c<80;++c)r[c]=r[c-3]^r[c-8]^r[c-14]^r[c-16];for(var u=0;u<80;++u){var l=~~(u/20),A=0|((t=n)<<5|t>>>27)+XI(l,i,o,s)+a+r[u]+GI[l];a=s,s=o,o=JI(i),i=n,n=A}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},$I.prototype._hash=function(){var e=qI.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var YI=$I,ZI=_v.exports,ek=KI,tk=GB.exports.Buffer,rk=[1518500249,1859775393,-1894007588,-899497514],nk=new Array(80);function ik(){this.init(),this._w=nk,ek.call(this,64,56)}function ok(e){return e<<5|e>>>27}function sk(e){return e<<30|e>>>2}function ak(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}ZI(ik,ek),ik.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},ik.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,c=0;c<16;++c)r[c]=e.readInt32BE(4*c);for(;c<80;++c)r[c]=(t=r[c-3]^r[c-8]^r[c-14]^r[c-16])<<1|t>>>31;for(var u=0;u<80;++u){var l=~~(u/20),A=ok(n)+ak(l,i,o,s)+a+r[u]+rk[l]|0;a=s,s=o,o=sk(i),i=n,n=A}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},ik.prototype._hash=function(){var e=tk.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var ck=ik,uk=_v.exports,lk=KI,Ak=GB.exports.Buffer,hk=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],fk=new Array(64);function dk(){this.init(),this._w=fk,lk.call(this,64,56)}function pk(e,t,r){return r^e&(t^r)}function gk(e,t,r){return e&t|r&(e|t)}function mk(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function yk(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function vk(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function bk(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}uk(dk,lk),dk.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},dk.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._f,c=0|this._g,u=0|this._h,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<64;++l)t[l]=bk(t[l-2])+t[l-7]+vk(t[l-15])+t[l-16]|0;for(var A=0;A<64;++A){var h=u+yk(s)+pk(s,a,c)+hk[A]+t[A]|0,f=mk(r)+gk(r,n,i)|0;u=c,c=a,a=s,s=o+h|0,o=i,i=n,n=r,r=h+f|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},dk.prototype._hash=function(){var e=Ak.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var wk=dk,xk=_v.exports,_k=wk,Bk=KI,Ek=GB.exports.Buffer,Sk=new Array(64);function Ck(){this.init(),this._w=Sk,Bk.call(this,64,56)}xk(Ck,_k),Ck.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Ck.prototype._hash=function(){var e=Ek.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var Ik=Ck,kk=_v.exports,Pk=KI,Tk=GB.exports.Buffer,Ok=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Lk=new Array(160);function Nk(){this.init(),this._w=Lk,Pk.call(this,128,112)}function Uk(e,t,r){return r^e&(t^r)}function Fk(e,t,r){return e&t|r&(e|t)}function Mk(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Rk(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Dk(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function jk(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Qk(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Hk(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Kk(e,t){return e>>>0<t>>>0?1:0}kk(Nk,Pk),Nk.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Nk.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,a=0|this._fh,c=0|this._gh,u=0|this._hh,l=0|this._al,A=0|this._bl,h=0|this._cl,f=0|this._dl,d=0|this._el,p=0|this._fl,g=0|this._gl,m=0|this._hl,y=0;y<32;y+=2)t[y]=e.readInt32BE(4*y),t[y+1]=e.readInt32BE(4*y+4);for(;y<160;y+=2){var v=t[y-30],b=t[y-30+1],w=Dk(v,b),x=jk(b,v),_=Qk(v=t[y-4],b=t[y-4+1]),B=Hk(b,v),E=t[y-14],S=t[y-14+1],C=t[y-32],I=t[y-32+1],k=x+S|0,P=w+E+Kk(k,x)|0;P=(P=P+_+Kk(k=k+B|0,B)|0)+C+Kk(k=k+I|0,I)|0,t[y]=P,t[y+1]=k}for(var T=0;T<160;T+=2){P=t[T],k=t[T+1];var O=Fk(r,n,i),L=Fk(l,A,h),N=Mk(r,l),U=Mk(l,r),F=Rk(s,d),M=Rk(d,s),R=Ok[T],D=Ok[T+1],j=Uk(s,a,c),Q=Uk(d,p,g),H=m+M|0,K=u+F+Kk(H,m)|0;K=(K=(K=K+j+Kk(H=H+Q|0,Q)|0)+R+Kk(H=H+D|0,D)|0)+P+Kk(H=H+k|0,k)|0;var V=U+L|0,z=N+O+Kk(V,U)|0;u=c,m=g,c=a,g=p,a=s,p=d,s=o+K+Kk(d=f+H|0,f)|0,o=i,f=h,i=n,h=A,n=r,A=l,r=K+z+Kk(l=H+V|0,H)|0}this._al=this._al+l|0,this._bl=this._bl+A|0,this._cl=this._cl+h|0,this._dl=this._dl+f|0,this._el=this._el+d|0,this._fl=this._fl+p|0,this._gl=this._gl+g|0,this._hl=this._hl+m|0,this._ah=this._ah+r+Kk(this._al,l)|0,this._bh=this._bh+n+Kk(this._bl,A)|0,this._ch=this._ch+i+Kk(this._cl,h)|0,this._dh=this._dh+o+Kk(this._dl,f)|0,this._eh=this._eh+s+Kk(this._el,d)|0,this._fh=this._fh+a+Kk(this._fl,p)|0,this._gh=this._gh+c+Kk(this._gl,g)|0,this._hh=this._hh+u+Kk(this._hl,m)|0},Nk.prototype._hash=function(){var e=Tk.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Vk=Nk,zk=_v.exports,qk=Vk,Gk=KI,Wk=GB.exports.Buffer,$k=new Array(160);function Jk(){this.init(),this._w=$k,Gk.call(this,128,112)}zk(Jk,qk),Jk.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Jk.prototype._hash=function(){var e=Wk.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Xk=Jk,Yk=jI.exports=function(e){e=e.toLowerCase();var t=Yk[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};Yk.sha=YI,Yk.sha1=ck,Yk.sha224=Ik,Yk.sha256=wk,Yk.sha384=Xk,Yk.sha512=Vk;var Zk=Mi(OA),eP=Mi(Wl),tP=GB.exports.Buffer,rP=Zk.Transform,nP=eP.StringDecoder;function iP(e){rP.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}(0,_v.exports)(iP,rP),iP.prototype.update=function(e,t,r){"string"==typeof e&&(e=tP.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},iP.prototype.setAutoPadding=function(){},iP.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},iP.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},iP.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},iP.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},iP.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},iP.prototype._finalOrDigest=function(e){var t=this.__final()||tP.alloc(0);return e&&(t=this._toString(t,e,!0)),t},iP.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new nP(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var oP=iP,sP=_v.exports,aP=wI,cP=DI,uP=jI.exports,lP=oP;function AP(e){lP.call(this,"digest"),this._hash=e}sP(AP,lP),AP.prototype._update=function(e){this._hash.update(e)},AP.prototype._final=function(){return this._hash.digest()};var hP=function(e){return"md5"===(e=e.toLowerCase())?new aP:"rmd160"===e||"ripemd160"===e?new cP:new AP(uP(e))},fP=_v.exports,dP=GB.exports.Buffer,pP=oP,gP=dP.alloc(128);function mP(e,t){pP.call(this,"digest"),"string"==typeof t&&(t=dP.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=dP.concat([t,gP],64));for(var r=this._ipad=dP.allocUnsafe(64),n=this._opad=dP.allocUnsafe(64),i=0;i<64;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}fP(mP,pP),mP.prototype._update=function(e){this._hash.push(e)},mP.prototype._final=function(){var e=this._alg(dP.concat(this._hash));return this._alg(dP.concat([this._opad,e]))};var yP=mP,vP=wI,bP=_v.exports,wP=yP,xP=oP,_P=GB.exports.Buffer,BP=function(e){return(new vP).update(e).digest()},EP=DI,SP=jI.exports,CP=_P.alloc(128);function IP(e,t){xP.call(this,"digest"),"string"==typeof t&&(t=_P.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new EP:SP(e)).update(t).digest():t.length<r&&(t=_P.concat([t,CP],r));for(var n=this._ipad=_P.allocUnsafe(r),i=this._opad=_P.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new EP:SP(e),this._hash.update(n)}bP(IP,xP),IP.prototype._update=function(e){this._hash.update(e)},IP.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new EP:SP(this._alg)).update(this._opad).update(e).digest()};var kP=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new IP("rmd160",t):"md5"===e?new wP(BP,t):new IP(e,t)};Object.defineProperty(vE,"__esModule",{value:!0});const PP=hP,TP=kP;vE.hash160=function(e){const t=PP("sha256").update(e).digest();try{return PP("rmd160").update(t).digest()}catch(e){return PP("ripemd160").update(t).digest()}},vE.hmacSHA512=function(e,t){return TP("sha512",e).update(t).digest()};var OP=JB,LP=GB.exports.Buffer,NP=hP,UP=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return OP.encode(LP.concat([t,r],t.length+4))},decode:function(e){var r=t(OP.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=OP.decodeUnsafe(e);if(r)return t(r)}}}((function(e){var t=NP("sha256").update(e).digest();return NP("sha256").update(t).digest()}));const FP=kP,MP=eo.alloc(1,1),RP=eo.alloc(1,0);const DP=bv.exports,jP=new Gb.ec("secp256k1"),QP=function(e,t,r,n,i){let o=eo.alloc(32,0),s=eo.alloc(32,1);o=FP("sha256",o).update(s).update(RP).update(t).update(e).update(i||"").digest(),s=FP("sha256",o).update(s).digest(),o=FP("sha256",o).update(s).update(MP).update(t).update(e).update(i||"").digest(),s=FP("sha256",o).update(s).digest(),s=FP("sha256",o).update(s).digest();let a=s;for(;!n(a)||!r(a);)o=FP("sha256",o).update(s).update(RP).digest(),s=FP("sha256",o).update(s).digest(),s=FP("sha256",o).update(s).digest(),a=s;return a},HP=eo.alloc(32,0),KP=eo.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),VP=eo.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex"),zP=jP.curve.n,qP=zP.shrn(1),GP=jP.curve.g;function WP(e){return Mo(e)&&32===e.length}function $P(e){return!!WP(e)&&e.compare(KP)<0}function JP(e){if(!Mo(e))return!1;if(e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(0===r.compare(HP))return!1;if(r.compare(VP)>=0)return!1;if((2===t||3===t)&&33===e.length){try{rT(e)}catch(e){return!1}return!0}const n=e.slice(33);return 0!==n.compare(HP)&&!(n.compare(VP)>=0)&&4===t&&65===e.length}function XP(e){return 4!==e[0]}function YP(e){return!!WP(e)&&e.compare(HP)>0&&e.compare(KP)<0}function ZP(e,t){return void 0===e&&void 0!==t?XP(t):void 0===e||e}function eT(e){return new DP(e)}function tT(e){return e.toArrayLike(eo,"be",32)}function rT(e){return jP.curve.decodePoint(e)}function nT(e,t){return eo.from(e._encode(t))}function iT(e,t,r){if(!WP(e))throw new TypeError("Expected Hash");if(!YP(t))throw new TypeError("Expected Private");if(void 0!==r&&!WP(r))throw new TypeError("Expected Extra Data (32 bytes)");const n=eT(t),i=eT(e);let o,s;QP(e,t,(function(e){const t=eT(e),r=GP.mul(t);return!r.isInfinity()&&(o=r.x.umod(zP),0!==o.isZero()&&(s=t.invm(zP).mul(i.add(n.mul(o))).umod(zP),0!==s.isZero()))}),YP,r),s.cmp(qP)>0&&(s=zP.sub(s));const a=eo.allocUnsafe(64);return tT(o).copy(a,0),tT(s).copy(a,32),a}var oT={isPoint:JP,isPointCompressed:function(e){return!!JP(e)&&XP(e)},isPrivate:YP,pointAdd:function(e,t,r){if(!JP(e))throw new TypeError("Expected Point");if(!JP(t))throw new TypeError("Expected Point");const n=rT(e),i=rT(t),o=n.add(i);return o.isInfinity()?null:nT(o,ZP(r,e))},pointAddScalar:function(e,t,r){if(!JP(e))throw new TypeError("Expected Point");if(!$P(t))throw new TypeError("Expected Tweak");const n=ZP(r,e),i=rT(e);if(0===t.compare(HP))return nT(i,n);const o=eT(t),s=GP.mul(o),a=i.add(s);return a.isInfinity()?null:nT(a,n)},pointCompress:function(e,t){if(!JP(e))throw new TypeError("Expected Point");const r=rT(e);if(r.isInfinity())throw new TypeError("Expected Point");return nT(r,ZP(t,e))},pointFromScalar:function(e,t){if(!YP(e))throw new TypeError("Expected Private");const r=eT(e),n=GP.mul(r);return n.isInfinity()?null:nT(n,ZP(t))},pointMultiply:function(e,t,r){if(!JP(e))throw new TypeError("Expected Point");if(!$P(t))throw new TypeError("Expected Tweak");const n=ZP(r,e),i=rT(e),o=eT(t),s=i.mul(o);return s.isInfinity()?null:nT(s,n)},privateAdd:function(e,t){if(!YP(e))throw new TypeError("Expected Private");if(!$P(t))throw new TypeError("Expected Tweak");const r=eT(e),n=eT(t),i=tT(r.add(n).umod(zP));return YP(i)?i:null},privateSub:function(e,t){if(!YP(e))throw new TypeError("Expected Private");if(!$P(t))throw new TypeError("Expected Tweak");const r=eT(e),n=eT(t),i=tT(r.sub(n).umod(zP));return YP(i)?i:null},sign:function(e,t){return iT(e,t)},signWithEntropy:function(e,t,r){return iT(e,t,r)},verify:function(e,t,r,n){if(!WP(e))throw new TypeError("Expected Hash");if(!JP(t))throw new TypeError("Expected Point");if(!function(e){const t=e.slice(0,32),r=e.slice(32,64);return Mo(e)&&64===e.length&&t.compare(KP)<0&&r.compare(KP)<0}(r))throw new TypeError("Expected Signature");const i=rT(t),o=eT(r.slice(0,32)),s=eT(r.slice(32,64));if(n&&s.cmp(qP)>0)return!1;if(o.gtn(0)<=0)return!1;if(s.gtn(0)<=0)return!1;const a=eT(e),c=s.invm(zP),u=a.mul(c).umod(zP),l=o.mul(c).umod(zP),A=GP.mulAdd(u,i,l);return!A.isInfinity()&&A.x.umod(zP).eq(o)}},sT={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var aT in sT.Null=sT.Nil,sT)sT[aT].toJSON=function(e){return e}.bind(null,aT);var cT=sT,uT=cT;function lT(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function AT(e){return uT.Nil(e)?"":lT(e.constructor)}function hT(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function fT(e){return uT.Function(e)?e.toJSON?e.toJSON():lT(e):uT.Array(e)?"Array":e&&uT.Object(e)?"Object":void 0!==e?e:""}function dT(e,t,r){var n=function(e){return uT.Function(e)?"":uT.String(e)?JSON.stringify(e):e&&uT.Object(e)?"":e}(t);return"Expected "+fT(e)+", got"+(""!==r?" "+r:"")+(""!==n?" "+n:"")}function pT(e,t,r){r=r||AT(t),this.message=dT(e,t,r),hT(this,pT),this.__type=e,this.__value=t,this.__valueTypeName=r}function gT(e,t,r,n,i){e?(i=i||AT(n),this.message=function(e,t,r,n,i){var o='" of type ';return"key"===t&&(o='" with key type '),dT('property "'+fT(r)+o+fT(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',hT(this,pT),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}pT.prototype=Object.create(Error.prototype),pT.prototype.constructor=pT,gT.prototype=Object.create(Error.prototype),gT.prototype.constructor=pT;var mT={TfTypeError:pT,TfPropertyTypeError:gT,tfCustomError:function(e,t){return new pT(e,{},t)},tfSubError:function(e,t,r){return e instanceof gT?(t=t+"."+e.__property,e=new gT(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof pT&&(e=new gT(e.__type,t,r,e.__value,e.__valueTypeName)),hT(e),e},tfJSON:fT,getValueTypeName:AT},yT=cT,vT=mT;function bT(e){return Mo(e)}function wT(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function xT(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw vT.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var _T=xT.bind(null,yT.Array),BT=xT.bind(null,bT),ET=xT.bind(null,wT),ST=xT.bind(null,yT.String),CT=Math.pow(2,53)-1,IT={ArrayN:_T,Buffer:bT,BufferN:BT,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:wT,HexN:ET,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-CT&&e<=CT&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||yT.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:ST,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=CT&&Math.floor(e)===e}};for(var kT in IT)IT[kT].toJSON=function(e){return e}.bind(null,kT);var PT=IT,TT=cT,OT=mT.tfJSON,LT=mT.TfTypeError,NT=mT.TfPropertyTypeError,UT=mT.tfSubError,FT=mT.getValueTypeName,MT={arrayOf:function(e,t){function r(r,n){return!!TT.Array(r)&&!TT.Nil(r)&&!(void 0!==t.minLength&&r.length<t.minLength)&&!(void 0!==t.maxLength&&r.length>t.maxLength)&&(void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return DT(e,t,n)}catch(e){throw UT(e,r)}}))}return e=RT(e),t=t||{},r.toJSON=function(){var r="["+OT(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return TT.Nil(r)||t(r,n,e)}return t=RT(t),r.toJSON=function(){return"?"+OT(t)},r},map:function(e,t){function r(r,n){if(!TT.Object(r))return!1;if(TT.Nil(r))return!1;for(var i in r){try{t&&DT(t,i,n)}catch(e){throw UT(e,i,"key")}try{var o=r[i];DT(e,o,n)}catch(e){throw UT(e,i)}}return!0}return e=RT(e),t&&(t=RT(t)),r.toJSON=t?function(){return"{"+OT(t)+": "+OT(e)+"}"}:function(){return"{"+OT(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=RT(e[r]);function n(e,r){if(!TT.Object(e))return!1;if(TT.Nil(e))return!1;var n;try{for(n in t)DT(t[n],e[n],r)}catch(e){throw UT(e,n)}if(r)for(n in e)if(!t[n])throw new NT(void 0,n);return!0}return n.toJSON=function(){return OT(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(RT);function t(t,r){return e.some((function(e){try{return DT(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(OT).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(RT);function t(t,r){return e.every((function(e){try{return DT(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(OT).join(" & ")},t},quacksLike:function(e){function t(t){return e===FT(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(RT);function t(t,r){return!TT.Nil(t)&&!TT.Nil(t.length)&&(!r||t.length===e.length)&&e.every((function(e,n){try{return DT(e,t[n],r)}catch(e){throw UT(e,n)}}))}return t.toJSON=function(){return"("+e.map(OT).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function RT(e){if(TT.String(e))return"?"===e[0]?MT.maybe(e.slice(1)):TT[e]||MT.quacksLike(e);if(e&&TT.Object(e)){if(TT.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return MT.arrayOf(e[0])}return MT.object(e)}return TT.Function(e)?e:MT.value(e)}function DT(e,t,r,n){if(TT.Function(e)){if(e(t,r))return!0;throw new LT(n||e,t)}return DT(RT(e),t,r)}for(var jT in MT.oneOf=MT.anyOf,TT)DT[jT]=TT[jT];for(jT in MT)DT[jT]=MT[jT];var QT=PT;for(jT in QT)DT[jT]=QT[jT];DT.compile=RT,DT.TfTypeError=LT,DT.TfPropertyTypeError=NT;var HT=DT,KT=UP;function VT(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function zT(e,t,r){var n=new eo(r?34:33);return n.writeUInt8(e,0),t.copy(n,1),r&&(n[33]=1),n}var qT={decode:function(e,t){return VT(KT.decode(e),t)},decodeRaw:VT,encode:function(e,t,r){return"number"==typeof e?KT.encode(zT(e,t,r)):KT.encode(zT(e.version,e.privateKey,e.compressed))},encodeRaw:zT};Object.defineProperty(yE,"__esModule",{value:!0});const GT=vE,WT=UP,$T=oT,JT=HT,XT=qT,YT=JT.BufferN(32),ZT=JT.compile({wif:JT.UInt8,bip32:{public:JT.UInt32,private:JT.UInt32}}),eO={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},tO=Math.pow(2,31)-1;function rO(e){return JT.String(e)&&null!==e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function nO(e){return JT.UInt32(e)&&e<=tO}class iO{constructor(e,t,r,n,i=0,o=0,s=0){this.__D=e,this.__Q=t,this.chainCode=r,this.network=n,this.__DEPTH=i,this.__INDEX=o,this.__PARENT_FINGERPRINT=s,JT(ZT,n),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return void 0===this.__Q&&(this.__Q=$T.pointFromScalar(this.__D,!0)),this.__Q}get privateKey(){return this.__D}get identifier(){return GT.hash160(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return void 0===this.__D}neutered(){return aO(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){const e=this.network,t=this.isNeutered()?e.bip32.public:e.bip32.private,r=eo.allocUnsafe(78);return r.writeUInt32BE(t,0),r.writeUInt8(this.depth,4),r.writeUInt32BE(this.parentFingerprint,5),r.writeUInt32BE(this.index,9),this.chainCode.copy(r,13),this.isNeutered()?this.publicKey.copy(r,45):(r.writeUInt8(0,45),this.privateKey.copy(r,46)),WT.encode(r)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return XT.encode(this.network.wif,this.privateKey,!0)}derive(e){JT(JT.UInt32,e);const t=e>=2147483648,r=eo.allocUnsafe(37);if(t){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");r[0]=0,this.privateKey.copy(r,1),r.writeUInt32BE(e,33)}else this.publicKey.copy(r,0),r.writeUInt32BE(e,33);const n=GT.hmacSHA512(this.chainCode,r),i=n.slice(0,32),o=n.slice(32);if(!$T.isPrivate(i))return this.derive(e+1);let s;if(this.isNeutered()){const t=$T.pointAddScalar(this.publicKey,i,!0);if(null===t)return this.derive(e+1);s=aO(t,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}else{const t=$T.privateAdd(this.privateKey,i);if(null==t)return this.derive(e+1);s=sO(t,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}return s}deriveHardened(e){return JT(nO,e),this.derive(e+2147483648)}derivePath(e){JT(rO,e);let t=e.split("/");if("m"===t[0]){if(this.parentFingerprint)throw new TypeError("Expected master, got child");t=t.slice(1)}return t.reduce(((e,t)=>{let r;return"'"===t.slice(-1)?(r=parseInt(t.slice(0,-1),10),e.deriveHardened(r)):(r=parseInt(t,10),e.derive(r))}),this)}sign(e,t){if(!this.privateKey)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return $T.sign(e,this.privateKey);{let t=$T.sign(e,this.privateKey);const r=eo.alloc(32,0);let n=0;for(;t[0]>127;)n++,r.writeUIntLE(n,0,6),t=$T.signWithEntropy(e,this.privateKey,r);return t}}verify(e,t){return $T.verify(e,this.publicKey,t)}}function oO(e,t,r){return sO(e,t,r)}function sO(e,t,r,n,i,o){if(JT({privateKey:YT,chainCode:YT},{privateKey:e,chainCode:t}),r=r||eO,!$T.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return new iO(e,void 0,t,r,n,i,o)}function aO(e,t,r,n,i,o){if(JT({publicKey:JT.BufferN(33),chainCode:YT},{publicKey:e,chainCode:t}),r=r||eO,!$T.isPoint(e))throw new TypeError("Point is not on the curve");return new iO(void 0,e,t,r,n,i,o)}yE.fromBase58=function(e,t){const r=WT.decode(e);if(78!==r.length)throw new TypeError("Invalid buffer length");t=t||eO;const n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");const i=r[4],o=r.readUInt32BE(5);if(0===i&&0!==o)throw new TypeError("Invalid parent fingerprint");const s=r.readUInt32BE(9);if(0===i&&0!==s)throw new TypeError("Invalid index");const a=r.slice(13,45);let c;if(n===t.bip32.private){if(0!==r.readUInt8(45))throw new TypeError("Invalid private key");c=sO(r.slice(46,78),a,t,i,s,o)}else c=aO(r.slice(45,78),a,t,i,s,o);return c},yE.fromPrivateKey=oO,yE.fromPublicKey=function(e,t,r){return aO(e,t,r)},yE.fromSeed=function(e,t){if(JT(JT.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||eO;const r=GT.hmacSHA512(eo.from("Bitcoin seed","utf8"),e);return oO(r.slice(0,32),r.slice(32),t)},Object.defineProperty(mE,"__esModule",{value:!0});var cO=yE;mE.fromSeed=cO.fromSeed,mE.fromBase58=cO.fromBase58,mE.fromPublicKey=cO.fromPublicKey,mE.fromPrivateKey=cO.fromPrivateKey;var uO={},lO={};Object.defineProperty(lO,"__esModule",{value:!0}),lO.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},lO.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},lO.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};var AO={},hO={},fO={},dO={};Object.defineProperty(dO,"__esModule",{value:!0}),dO.decode=function(e,t,r){t=t||4,r=void 0===r||r;const n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&0==(127&e[n-1])&&(n<=1||0==(128&e[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-(4294967296*(-129&r)+t):4294967296*r+t}let i=0;for(let t=0;t<n;++t)i|=e[t]<<8*t;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},dO.encode=function(e){let t=Math.abs(e);const r=(n=t)>2147483647?5:n>8388607?4:n>32767?3:n>127?2:n>0?1:0;var n;const i=eo.allocUnsafe(r),o=e<0;for(let e=0;e<r;++e)i.writeUInt8(255&t,e),t>>=8;return 128&i[r-1]?i.writeUInt8(o?128:0,r-1):o&&(i[r-1]|=128),i};var pO={},gO={};Object.defineProperty(gO,"__esModule",{value:!0});const mO=HT,yO=Math.pow(2,31)-1;function vO(e){return mO.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}gO.UInt31=function(e){return mO.UInt32(e)&&e<=yO},gO.BIP32Path=vO,vO.toJSON=()=>"BIP32 derivation path",gO.Signer=function(e){return(mO.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign},gO.Satoshi=function(e){return mO.UInt53(e)&&e<=21e14},gO.ECPoint=mO.quacksLike("Point"),gO.Network=mO.compile({messagePrefix:mO.oneOf(mO.Buffer,mO.String),bip32:{public:mO.UInt32,private:mO.UInt32},pubKeyHash:mO.UInt8,scriptHash:mO.UInt8,wif:mO.UInt8}),gO.Buffer256bit=mO.BufferN(32),gO.Hash160bit=mO.BufferN(20),gO.Hash256bit=mO.BufferN(32),gO.Number=mO.Number,gO.Array=mO.Array,gO.Boolean=mO.Boolean,gO.String=mO.String,gO.Buffer=mO.Buffer,gO.Hex=mO.Hex,gO.maybe=mO.maybe,gO.tuple=mO.tuple,gO.UInt8=mO.UInt8,gO.UInt32=mO.UInt32,gO.Function=mO.Function,gO.BufferN=mO.BufferN,gO.Null=mO.Null,gO.oneOf=mO.oneOf;var bO=GB.exports.Buffer,wO={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,n=t.length;if(0===r)throw new Error("R length is zero");if(0===n)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var i=bO.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i}};Object.defineProperty(pO,"__esModule",{value:!0});const xO=gO,_O=wO,BO=HT,EO=eo.alloc(1,0);function SO(e){let t=0;for(;0===e[t];)++t;return t===e.length?EO:128&(e=e.slice(t))[0]?eo.concat([EO,e],1+e.length):e}function CO(e){0===e[0]&&(e=e.slice(1));const t=eo.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}pO.decode=function(e){const t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const n=_O.decode(e.slice(0,-1)),i=CO(n.r),o=CO(n.s);return{signature:eo.concat([i,o],64),hashType:t}},pO.encode=function(e,t){BO({signature:xO.BufferN(64),hashType:xO.UInt8},{signature:e,hashType:t});const r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const n=eo.allocUnsafe(1);n.writeUInt8(t,0);const i=SO(e.slice(0,32)),o=SO(e.slice(32,64));return eo.concat([_O.encode(i,o),n])};var IO={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},kO=IO;function PO(e){return e<kO.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}var TO={encodingLength:PO,encode:function(e,t,r){var n=PO(t);return 1===n?e.writeUInt8(t,r):2===n?(e.writeUInt8(kO.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===n?(e.writeUInt8(kO.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(kO.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),n},decode:function(e,t){var r,n,i=e.readUInt8(t);if(i<kO.OP_PUSHDATA1)r=i,n=1;else if(i===kO.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(i===kO.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(i!==kO.OP_PUSHDATA4)throw new Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:i,number:r,size:n}}},OO=IO,LO={};for(var NO in OO)LO[OO[NO]]=NO;var UO=LO;!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=dO,r=pO,n=gO,i=wO,o=oT,s=TO,a=HT;e.OPS=IO;const c=UO,u=e.OPS.OP_RESERVED;function l(t){return n.Buffer(t)||function(t){return n.Number(t)&&(t===e.OPS.OP_0||t>=e.OPS.OP_1&&t<=e.OPS.OP_16||t===e.OPS.OP_1NEGATE)}(t)}function A(e){return n.Array(e)&&e.every(l)}function h(t){return 0===t.length?e.OPS.OP_0:1===t.length?t[0]>=1&&t[0]<=16?u+t[0]:129===t[0]?e.OPS.OP_1NEGATE:void 0:void 0}function f(e){return Mo(e)}function d(e){return Mo(e)}function p(e){if(f(e))return e;a(n.Array,e);const t=e.reduce(((e,t)=>d(t)?1===t.length&&void 0!==h(t)?e+1:e+s.encodingLength(t.length)+t.length:e+1),0),r=eo.allocUnsafe(t);let i=0;if(e.forEach((e=>{if(d(e)){const t=h(e);if(void 0!==t)return r.writeUInt8(t,i),void(i+=1);i+=s.encode(r,e.length,i),e.copy(r,i),i+=e.length}else r.writeUInt8(e,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function g(t){if(r=t,n.Array(r))return t;var r;a(n.Buffer,t);const i=[];let o=0;for(;o<t.length;){const r=t[o];if(r>e.OPS.OP_0&&r<=e.OPS.OP_PUSHDATA4){const e=s.decode(t,o);if(null===e)return null;if(o+=e.size,o+e.number>t.length)return null;const r=t.slice(o,o+e.number);o+=e.number;const n=h(r);void 0!==n?i.push(n):i.push(r)}else i.push(r),o+=1}return i}function m(e){const t=-129&e;return t>0&&t<4}e.isPushOnly=A,e.compile=p,e.decompile=g,e.toASM=function(e){return f(e)&&(e=g(e)),e.map((e=>{if(d(e)){const t=h(e);if(void 0===t)return e.toString("hex");e=t}return c[e]})).join(" ")},e.fromASM=function(t){return a(n.String,t),p(t.split(" ").map((t=>void 0!==e.OPS[t]?e.OPS[t]:(a(n.Hex,t),eo.from(t,"hex")))))},e.toStack=function(r){return r=g(r),a(A,r),r.map((r=>d(r)?r:r===e.OPS.OP_0?eo.allocUnsafe(0):t.encode(r-u)))},e.isCanonicalPubKey=function(e){return o.isPoint(e)},e.isDefinedHashType=m,e.isCanonicalScriptSignature=function(e){return!!Mo(e)&&!!m(e[e.length-1])&&i.check(e.slice(0,-1))},e.number=t,e.signature=r}(fO);var FO={};Object.defineProperty(FO,"__esModule",{value:!0}),FO.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},FO.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)},Object.defineProperty(hO,"__esModule",{value:!0});const MO=lO,RO=fO,DO=FO,jO=HT,QO=RO.OPS;hO.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),jO({network:jO.maybe(jO.Object),output:jO.maybe(jO.Buffer),data:jO.maybe(jO.arrayOf(jO.Buffer))},e);const r={name:"embed",network:e.network||MO.bitcoin};if(DO.prop(r,"output",(()=>{if(e.data)return RO.compile([QO.OP_RETURN].concat(e.data))})),DO.prop(r,"data",(()=>{if(e.output)return RO.decompile(e.output).slice(1)})),t.validate&&e.output){const t=RO.decompile(e.output);if(t[0]!==QO.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(jO.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)};var HO={};Object.defineProperty(HO,"__esModule",{value:!0});const KO=lO,VO=fO,zO=FO,qO=VO.OPS,GO=HT,WO=oT,$O=qO.OP_RESERVED;function JO(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}HO.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function r(e){return VO.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===qO.OP_0)}t=Object.assign({validate:!0},t||{}),GO({network:GO.maybe(GO.Object),m:GO.maybe(GO.Number),n:GO.maybe(GO.Number),output:GO.maybe(GO.Buffer),pubkeys:GO.maybe(GO.arrayOf(WO.isPoint)),signatures:GO.maybe(GO.arrayOf(r)),input:GO.maybe(GO.Buffer)},e);const n={network:e.network||KO.bitcoin};let i=[],o=!1;function s(e){o||(o=!0,i=VO.decompile(e),n.m=i[0]-$O,n.n=i[i.length-2]-$O,n.pubkeys=i.slice(1,-2))}if(zO.prop(n,"output",(()=>{if(e.m&&n.n&&e.pubkeys)return VO.compile([].concat($O+e.m,e.pubkeys,$O+n.n,qO.OP_CHECKMULTISIG))})),zO.prop(n,"m",(()=>{if(n.output)return s(n.output),n.m})),zO.prop(n,"n",(()=>{if(n.pubkeys)return n.pubkeys.length})),zO.prop(n,"pubkeys",(()=>{if(e.output)return s(e.output),n.pubkeys})),zO.prop(n,"signatures",(()=>{if(e.input)return VO.decompile(e.input).slice(1)})),zO.prop(n,"input",(()=>{if(e.signatures)return VO.compile([qO.OP_0].concat(e.signatures))})),zO.prop(n,"witness",(()=>{if(n.input)return[]})),zO.prop(n,"name",(()=>{if(n.m&&n.n)return`p2ms(${n.m} of ${n.n})`})),t.validate){if(e.output){if(s(e.output),!GO.Number(i[0]))throw new TypeError("Output is invalid");if(!GO.Number(i[i.length-2]))throw new TypeError("Output is invalid");if(i[i.length-1]!==qO.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(n.m<=0||n.n>16||n.m>n.n||n.n!==i.length-3)throw new TypeError("Output is invalid");if(!n.pubkeys.every((e=>WO.isPoint(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==n.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==n.n)throw new TypeError("n mismatch");if(e.pubkeys&&!JO(e.pubkeys,n.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(n.n=e.pubkeys.length,n.n<n.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<n.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>n.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==qO.OP_0)throw new TypeError("Input is invalid");if(0===n.signatures.length||!n.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!JO(e.signatures,n.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(n,e)};var XO={};Object.defineProperty(XO,"__esModule",{value:!0});const YO=lO,ZO=fO,eL=FO,tL=HT,rL=ZO.OPS,nL=oT;XO.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),tL({network:tL.maybe(tL.Object),output:tL.maybe(tL.Buffer),pubkey:tL.maybe(nL.isPoint),signature:tL.maybe(ZO.isCanonicalScriptSignature),input:tL.maybe(tL.Buffer)},e);const r=eL.value((()=>ZO.decompile(e.input))),n={name:"p2pk",network:e.network||YO.bitcoin};if(eL.prop(n,"output",(()=>{if(e.pubkey)return ZO.compile([e.pubkey,rL.OP_CHECKSIG])})),eL.prop(n,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),eL.prop(n,"signature",(()=>{if(e.input)return r()[0]})),eL.prop(n,"input",(()=>{if(e.signature)return ZO.compile([e.signature])})),eL.prop(n,"witness",(()=>{if(n.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==rL.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!nL.isPoint(n.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(n.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(n.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!ZO.isCanonicalScriptSignature(n.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(n,e)};var iL={},oL={};Object.defineProperty(oL,"__esModule",{value:!0});const sL=hP;function aL(e){try{return sL("rmd160").update(e).digest()}catch(t){return sL("ripemd160").update(e).digest()}}function cL(e){return sL("sha256").update(e).digest()}oL.ripemd160=aL,oL.sha1=function(e){return sL("sha1").update(e).digest()},oL.sha256=cL,oL.hash160=function(e){return aL(cL(e))},oL.hash256=function(e){return cL(cL(e))},Object.defineProperty(iL,"__esModule",{value:!0});const uL=oL,lL=lO,AL=fO,hL=FO,fL=HT,dL=AL.OPS,pL=oT,gL=UP;iL.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),fL({network:fL.maybe(fL.Object),address:fL.maybe(fL.String),hash:fL.maybe(fL.BufferN(20)),output:fL.maybe(fL.BufferN(25)),pubkey:fL.maybe(pL.isPoint),signature:fL.maybe(AL.isCanonicalScriptSignature),input:fL.maybe(fL.Buffer)},e);const r=hL.value((()=>{const t=gL.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),n=hL.value((()=>AL.decompile(e.input))),i=e.network||lL.bitcoin,o={name:"p2pkh",network:i};if(hL.prop(o,"address",(()=>{if(!o.hash)return;const e=eo.allocUnsafe(21);return e.writeUInt8(i.pubKeyHash,0),o.hash.copy(e,1),gL.encode(e)})),hL.prop(o,"hash",(()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||o.pubkey?uL.hash160(e.pubkey||o.pubkey):void 0)),hL.prop(o,"output",(()=>{if(o.hash)return AL.compile([dL.OP_DUP,dL.OP_HASH160,o.hash,dL.OP_EQUALVERIFY,dL.OP_CHECKSIG])})),hL.prop(o,"pubkey",(()=>{if(e.input)return n()[1]})),hL.prop(o,"signature",(()=>{if(e.input)return n()[0]})),hL.prop(o,"input",(()=>{if(e.pubkey&&e.signature)return AL.compile([e.signature,e.pubkey])})),hL.prop(o,"witness",(()=>{if(o.input)return[]})),t.validate){let t=eo.from([]);if(e.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");t=r().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==dL.OP_DUP||e.output[1]!==dL.OP_HASH160||20!==e.output[2]||e.output[23]!==dL.OP_EQUALVERIFY||e.output[24]!==dL.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=e.output.slice(3,23);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.pubkey){const r=uL.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const r=n();if(2!==r.length)throw new TypeError("Input is invalid");if(!AL.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!pL.isPoint(r[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const i=uL.hash160(r[1]);if(t.length>0&&!t.equals(i))throw new TypeError("Hash mismatch")}}return Object.assign(o,e)};var mL={};Object.defineProperty(mL,"__esModule",{value:!0});const yL=oL,vL=lO,bL=fO,wL=FO,xL=HT,_L=bL.OPS,BL=UP;mL.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),xL({network:xL.maybe(xL.Object),address:xL.maybe(xL.String),hash:xL.maybe(xL.BufferN(20)),output:xL.maybe(xL.BufferN(23)),redeem:xL.maybe({network:xL.maybe(xL.Object),output:xL.maybe(xL.Buffer),input:xL.maybe(xL.Buffer),witness:xL.maybe(xL.arrayOf(xL.Buffer))}),input:xL.maybe(xL.Buffer),witness:xL.maybe(xL.arrayOf(xL.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||vL.bitcoin);const n={network:r},i=wL.value((()=>{const t=BL.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),o=wL.value((()=>bL.decompile(e.input))),s=wL.value((()=>{const t=o();return{network:r,output:t[t.length-1],input:bL.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(wL.prop(n,"address",(()=>{if(!n.hash)return;const e=eo.allocUnsafe(21);return e.writeUInt8(n.network.scriptHash,0),n.hash.copy(e,1),BL.encode(e)})),wL.prop(n,"hash",(()=>e.output?e.output.slice(2,22):e.address?i().hash:n.redeem&&n.redeem.output?yL.hash160(n.redeem.output):void 0)),wL.prop(n,"output",(()=>{if(n.hash)return bL.compile([_L.OP_HASH160,n.hash,_L.OP_EQUAL])})),wL.prop(n,"redeem",(()=>{if(e.input)return s()})),wL.prop(n,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return bL.compile([].concat(bL.decompile(e.redeem.input),e.redeem.output))})),wL.prop(n,"witness",(()=>n.redeem&&n.redeem.witness?n.redeem.witness:n.input?[]:void 0)),wL.prop(n,"name",(()=>{const e=["p2sh"];return void 0!==n.redeem&&e.push(n.redeem.name),e.join("-")})),t.validate){let t=eo.from([]);if(e.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==i().hash.length)throw new TypeError("Invalid address");t=i().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==_L.OP_HASH160||20!==e.output[1]||e.output[22]!==_L.OP_EQUAL)throw new TypeError("Output is invalid");const r=e.output.slice(2,22);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}const n=e=>{if(e.output){const r=bL.decompile(e.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");const n=yL.hash160(e.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw new TypeError("Empty input");if(t&&r)throw new TypeError("Input and witness provided");if(t){const t=bL.decompile(e.input);if(!bL.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=o();if(!e||e.length<1)throw new TypeError("Input too short");if(!Mo(s().output))throw new TypeError("Input is invalid");n(s())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const t=s();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}n(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,e)};for(var EL={},SL="qpzry9x8gf2tvdw0s3jn54khce6mua7l",CL={},IL=0;IL<SL.length;IL++){var kL=SL.charAt(IL);if(void 0!==CL[kL])throw new TypeError(kL+" is ambiguous");CL[kL]=IL}function PL(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function TL(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=PL(t)^n>>5}for(t=PL(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=PL(t)^31&i}return t}function OL(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)return"Data too short";var a=TL(o);if("string"==typeof a)return a;for(var c=[],u=0;u<s.length;++u){var l=s.charAt(u),A=CL[l];if(void 0===A)return"Unknown character "+l;a=PL(a)^A,u+6>=s.length||c.push(A)}return 1!==a?"Invalid checksum for "+e:{prefix:o,words:c}}function LL(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}var NL={decodeUnsafe:function(){var e=OL.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=OL.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var n=TL(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",o=0;o<t.length;++o){var s=t[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=PL(n)^s,i+=SL.charAt(s)}for(o=0;o<6;++o)n=PL(n);for(n^=1,o=0;o<6;++o)i+=SL.charAt(n>>5*(5-o)&31);return i},toWordsUnsafe:function(e){var t=LL(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=LL(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=LL(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=LL(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}};Object.defineProperty(EL,"__esModule",{value:!0});const UL=oL,FL=lO,ML=fO,RL=FO,DL=HT,jL=ML.OPS,QL=oT,HL=NL,KL=eo.alloc(0);EL.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),DL({address:DL.maybe(DL.String),hash:DL.maybe(DL.BufferN(20)),input:DL.maybe(DL.BufferN(0)),network:DL.maybe(DL.Object),output:DL.maybe(DL.BufferN(22)),pubkey:DL.maybe(QL.isPoint),signature:DL.maybe(ML.isCanonicalScriptSignature),witness:DL.maybe(DL.arrayOf(DL.Buffer))},e);const r=RL.value((()=>{const t=HL.decode(e.address),r=t.words.shift(),n=HL.fromWords(t.words);return{version:r,prefix:t.prefix,data:eo.from(n)}})),n=e.network||FL.bitcoin,i={name:"p2wpkh",network:n};if(RL.prop(i,"address",(()=>{if(!i.hash)return;const e=HL.toWords(i.hash);return e.unshift(0),HL.encode(n.bech32,e)})),RL.prop(i,"hash",(()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||i.pubkey?UL.hash160(e.pubkey||i.pubkey):void 0)),RL.prop(i,"output",(()=>{if(i.hash)return ML.compile([jL.OP_0,i.hash])})),RL.prop(i,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),RL.prop(i,"signature",(()=>{if(e.witness)return e.witness[0]})),RL.prop(i,"input",(()=>{if(i.witness)return KL})),RL.prop(i,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=eo.from([]);if(e.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==jL.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const r=UL.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");if(t=r,!QL.isPoint(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!ML.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!QL.isPoint(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const r=UL.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(i,e)};var VL={};Object.defineProperty(VL,"__esModule",{value:!0});const zL=oL,qL=lO,GL=fO,WL=FO,$L=HT,JL=GL.OPS,XL=oT,YL=NL,ZL=eo.alloc(0);function eN(e){return!(!Mo(e)||65!==e.length||4!==e[0]||!XL.isPoint(e))}VL.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),$L({network:$L.maybe($L.Object),address:$L.maybe($L.String),hash:$L.maybe($L.BufferN(32)),output:$L.maybe($L.BufferN(34)),redeem:$L.maybe({input:$L.maybe($L.Buffer),network:$L.maybe($L.Object),output:$L.maybe($L.Buffer),witness:$L.maybe($L.arrayOf($L.Buffer))}),input:$L.maybe($L.BufferN(0)),witness:$L.maybe($L.arrayOf($L.Buffer))},e);const r=WL.value((()=>{const t=YL.decode(e.address),r=t.words.shift(),n=YL.fromWords(t.words);return{version:r,prefix:t.prefix,data:eo.from(n)}})),n=WL.value((()=>GL.decompile(e.redeem.input)));let i=e.network;i||(i=e.redeem&&e.redeem.network||qL.bitcoin);const o={network:i};if(WL.prop(o,"address",(()=>{if(!o.hash)return;const e=YL.toWords(o.hash);return e.unshift(0),YL.encode(i.bech32,e)})),WL.prop(o,"hash",(()=>e.output?e.output.slice(2):e.address?r().data:o.redeem&&o.redeem.output?zL.sha256(o.redeem.output):void 0)),WL.prop(o,"output",(()=>{if(o.hash)return GL.compile([JL.OP_0,o.hash])})),WL.prop(o,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:ZL,witness:e.witness.slice(0,-1)}})),WL.prop(o,"input",(()=>{if(o.witness)return ZL})),WL.prop(o,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=GL.toStack(n());return o.redeem=Object.assign({witness:t},e.redeem),o.redeem.input=ZL,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),WL.prop(o,"name",(()=>{const e=["p2wsh"];return void 0!==o.redeem&&e.push(o.redeem.name),e.join("-")})),t.validate){let t=eo.from([]);if(e.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==JL.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const r=e.output.slice(2);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem){if(e.redeem.network&&e.redeem.network!==i)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===GL.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");const r=zL.sha256(e.redeem.output);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem.input&&!GL.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&n().some(eN)||e.redeem.output&&(GL.decompile(e.redeem.output)||[]).some(eN))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(eN)||(GL.decompile(t)||[]).some(eN))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,e)},Object.defineProperty(AO,"__esModule",{value:!0});const tN=hO;AO.embed=tN.p2data;const rN=HO;AO.p2ms=rN.p2ms;const nN=XO;AO.p2pk=nN.p2pk;const iN=iL;AO.p2pkh=iN.p2pkh;const oN=mL;AO.p2sh=oN.p2sh;const sN=EL;AO.p2wpkh=sN.p2wpkh;const aN=VL;AO.p2wsh=aN.p2wsh,Object.defineProperty(uO,"__esModule",{value:!0});const cN=lO,uN=AO,lN=fO,AN=gO,hN=NL,fN=UP,dN=HT;function pN(e){const t=fN.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function gN(e){const t=hN.decode(e),r=hN.fromWords(t.words.slice(1));return{version:t.words[0],prefix:t.prefix,data:eo.from(r)}}uO.fromBase58Check=pN,uO.fromBech32=gN,uO.toBase58Check=function(e,t){dN(AN.tuple(AN.Hash160bit,AN.UInt8),arguments);const r=eo.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),fN.encode(r)},uO.toBech32=function(e,t,r){const n=hN.toWords(e);return n.unshift(t),hN.encode(r,n)},uO.fromOutputScript=function(e,t){t=t||cN.bitcoin;try{return uN.p2pkh({output:e,network:t}).address}catch(e){}try{return uN.p2sh({output:e,network:t}).address}catch(e){}try{return uN.p2wpkh({output:e,network:t}).address}catch(e){}try{return uN.p2wsh({output:e,network:t}).address}catch(e){}throw new Error(lN.toASM(e)+" has no matching Address")},uO.toOutputScript=function(e,t){let r,n;t=t||cN.bitcoin;try{r=pN(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return uN.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return uN.p2sh({hash:r.hash}).output}else{try{n=gN(e)}catch(e){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return uN.p2wpkh({hash:n.data}).output;if(32===n.data.length)return uN.p2wsh({hash:n.data}).output}}}throw new Error(e+" has no matching Script")};var mN={},yN={exports:{}},vN=GB.exports.Buffer,bN=Fi.crypto||Fi.msCrypto;bN&&bN.getRandomValues?yN.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=vN.allocUnsafe(e);if(e>0)if(e>65536)for(var n=0;n<e;n+=65536)bN.getRandomValues(r.slice(n,n+65536));else bN.getRandomValues(r);return"function"==typeof t?Fc((function(){t(null,r)})):r}:yN.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")},Object.defineProperty(mN,"__esModule",{value:!0});const wN=lO,xN=gO,_N=oT,BN=yN.exports,EN=HT,SN=qT,CN=EN.maybe(EN.compile({compressed:xN.maybe(xN.Boolean),network:xN.maybe(xN.Network)}));class IN{constructor(e,t,r){this.__D=e,this.__Q=t,this.lowR=!1,void 0===r&&(r={}),this.compressed=void 0===r.compressed||r.compressed,this.network=r.network||wN.bitcoin,void 0!==t&&(this.__Q=_N.pointCompress(t,this.compressed))}get privateKey(){return this.__D}get publicKey(){return this.__Q||(this.__Q=_N.pointFromScalar(this.__D,this.compressed)),this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return SN.encode(this.network.wif,this.__D,this.compressed)}sign(e,t){if(!this.__D)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return _N.sign(e,this.__D);{let t=_N.sign(e,this.__D);const r=eo.alloc(32,0);let n=0;for(;t[0]>127;)n++,r.writeUIntLE(n,0,6),t=_N.signWithEntropy(e,this.__D,r);return t}}verify(e,t){return _N.verify(e,this.publicKey,t)}}function kN(e,t){if(EN(xN.Buffer256bit,e),!_N.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return EN(CN,t),new IN(e,void 0,t)}mN.fromPrivateKey=kN,mN.fromPublicKey=function(e,t){return EN(_N.isPoint,e),EN(CN,t),new IN(void 0,e,t)},mN.fromWIF=function(e,t){const r=SN.decode(e),n=r.version;if(xN.Array(t)){if(t=t.filter((e=>n===e.wif)).pop(),!t)throw new Error("Unknown network version")}else if(t=t||wN.bitcoin,n!==t.wif)throw new Error("Invalid network version");return kN(r.privateKey,{compressed:r.compressed,network:t})},mN.makeRandom=function(e){EN(CN,e),void 0===e&&(e={});const t=e.rng||BN;let r;do{r=t(32),EN(xN.Buffer256bit,r)}while(!_N.isPrivate(r));return kN(r,e)};var PN={},TN={},ON=GB.exports.Buffer;function LN(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function NN(e){return LN(e),e<253?1:e<=65535?3:e<=4294967295?5:9}var UN={encode:function e(t,r,n){if(LN(t),r||(r=ON.allocUnsafe(NN(t))),!ON.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),e.bytes=1):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),e.bytes=5):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),e.bytes=9),r},decode:function e(t,r){if(!ON.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var n=t.readUInt8(r);if(n<253)return e.bytes=1,n;if(253===n)return e.bytes=3,t.readUInt16LE(r+1);if(254===n)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var i=t.readUInt32LE(r+1),o=4294967296*t.readUInt32LE(r+5)+i;return LN(o),o},encodingLength:NN};Object.defineProperty(TN,"__esModule",{value:!0});const FN=gO,MN=HT,RN=UN;function DN(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function jN(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,DN(n+r,9007199254740991),n+r}function QN(e,t,r){return DN(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}TN.readUInt64LE=jN,TN.writeUInt64LE=QN,TN.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},TN.cloneBuffer=function(e){const t=eo.allocUnsafe(e.length);return e.copy(t),t},TN.BufferWriter=class{constructor(e,t=0){this.buffer=e,this.offset=t,MN(FN.tuple(FN.Buffer,FN.UInt32),[e,t])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=QN(this.buffer,e,this.offset)}writeVarInt(e){RN.encode(e,this.buffer,this.offset),this.offset+=RN.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}},TN.BufferReader=class{constructor(e,t=0){this.buffer=e,this.offset=t,MN(FN.tuple(FN.Buffer,FN.UInt32),[e,t])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=jN(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=RN.decode(this.buffer,this.offset);return this.offset+=RN.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}};var HN={};Object.defineProperty(HN,"__esModule",{value:!0});const KN=TN,VN=oL,zN=fO,qN=fO,GN=gO,WN=HT,$N=UN;function JN(e){const t=e.length;return $N.encodingLength(t)+t}const XN=eo.allocUnsafe(0),YN=[],ZN=eo.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),eU=eo.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),tU=eo.from("ffffffffffffffff","hex"),rU={script:XN,valueBuffer:tU};class nU{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){const r=new KN.BufferReader(e),n=new nU;n.version=r.readInt32();const i=r.readUInt8(),o=r.readUInt8();let s=!1;i===nU.ADVANCED_TRANSACTION_MARKER&&o===nU.ADVANCED_TRANSACTION_FLAG?s=!0:r.offset-=2;const a=r.readVarInt();for(let e=0;e<a;++e)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:YN});const c=r.readVarInt();for(let e=0;e<c;++e)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(s){for(let e=0;e<a;++e)n.ins[e].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),t)return n;if(r.offset!==e.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return nU.fromBuffer(eo.from(e,"hex"),!1)}static isCoinbaseHash(e){WN(GN.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&nU.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return WN(GN.tuple(GN.Hash256bit,GN.UInt32,GN.maybe(GN.UInt32),GN.maybe(GN.Buffer)),arguments),GN.Null(r)&&(r=nU.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||XN,sequence:r,witness:YN})-1}addOutput(e,t){return WN(GN.tuple(GN.Buffer,GN.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+$N.encodingLength(this.ins.length)+$N.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+JN(t.script)),0)+this.outs.reduce(((e,t)=>e+8+JN(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return $N.encodingLength(t)+e.reduce(((e,t)=>e+JN(t)),0)}(t.witness)),0):0)}clone(){const e=new nU;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,r){if(WN(GN.tuple(GN.UInt32,GN.Buffer,GN.Number),arguments),e>=this.ins.length)return eU;const n=zN.compile(zN.decompile(t).filter((e=>e!==qN.OPS.OP_CODESEPARATOR))),i=this.clone();if((31&r)===nU.SIGHASH_NONE)i.outs=[],i.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}));else if((31&r)===nU.SIGHASH_SINGLE){if(e>=this.outs.length)return eU;i.outs.length=e+1;for(let t=0;t<e;t++)i.outs[t]=rU;i.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}))}r&nU.SIGHASH_ANYONECANPAY?(i.ins=[i.ins[e]],i.ins[0].script=n):(i.ins.forEach((e=>{e.script=XN})),i.ins[e].script=n);const o=eo.allocUnsafe(i.byteLength(!1)+4);return o.writeInt32LE(r,o.length-4),i.__toBuffer(o,0,!1),VN.hash256(o)}hashForWitnessV0(e,t,r,n){WN(GN.tuple(GN.UInt32,GN.Buffer,GN.Satoshi,GN.UInt32),arguments);let i,o=eo.from([]),s=ZN,a=ZN,c=ZN;if(n&nU.SIGHASH_ANYONECANPAY||(o=eo.allocUnsafe(36*this.ins.length),i=new KN.BufferWriter(o,0),this.ins.forEach((e=>{i.writeSlice(e.hash),i.writeUInt32(e.index)})),a=VN.hash256(o)),n&nU.SIGHASH_ANYONECANPAY||(31&n)===nU.SIGHASH_SINGLE||(31&n)===nU.SIGHASH_NONE||(o=eo.allocUnsafe(4*this.ins.length),i=new KN.BufferWriter(o,0),this.ins.forEach((e=>{i.writeUInt32(e.sequence)})),c=VN.hash256(o)),(31&n)!==nU.SIGHASH_SINGLE&&(31&n)!==nU.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+JN(t.script)),0);o=eo.allocUnsafe(e),i=new KN.BufferWriter(o,0),this.outs.forEach((e=>{i.writeUInt64(e.value),i.writeVarSlice(e.script)})),s=VN.hash256(o)}else if((31&n)===nU.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];o=eo.allocUnsafe(8+JN(t.script)),i=new KN.BufferWriter(o,0),i.writeUInt64(t.value),i.writeVarSlice(t.script),s=VN.hash256(o)}o=eo.allocUnsafe(156+JN(t)),i=new KN.BufferWriter(o,0);const u=this.ins[e];return i.writeUInt32(this.version),i.writeSlice(a),i.writeSlice(c),i.writeSlice(u.hash),i.writeUInt32(u.index),i.writeVarSlice(t),i.writeUInt64(r),i.writeUInt32(u.sequence),i.writeSlice(s),i.writeUInt32(this.locktime),i.writeUInt32(n),VN.hash256(o)}getHash(e){return e&&this.isCoinbase()?eo.alloc(32,0):VN.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return KN.reverseBuffer(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){WN(GN.tuple(GN.Number,GN.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){WN(GN.tuple(GN.Number,[GN.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=eo.allocUnsafe(this.byteLength(r)));const n=new KN.BufferWriter(e,t||0);n.writeInt32(this.version);const i=r&&this.hasWitnesses();return i&&(n.writeUInt8(nU.ADVANCED_TRANSACTION_MARKER),n.writeUInt8(nU.ADVANCED_TRANSACTION_FLAG)),n.writeVarInt(this.ins.length),this.ins.forEach((e=>{n.writeSlice(e.hash),n.writeUInt32(e.index),n.writeVarSlice(e.script),n.writeUInt32(e.sequence)})),n.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?n.writeUInt64(e.value):n.writeSlice(e.valueBuffer),n.writeVarSlice(e.script)})),i&&this.ins.forEach((e=>{n.writeVector(e.witness)})),n.writeUInt32(this.locktime),void 0!==t?e.slice(t,n.offset):e}}nU.DEFAULT_SEQUENCE=4294967295,nU.SIGHASH_ALL=1,nU.SIGHASH_NONE=2,nU.SIGHASH_SINGLE=3,nU.SIGHASH_ANYONECANPAY=128,nU.ADVANCED_TRANSACTION_MARKER=0,nU.ADVANCED_TRANSACTION_FLAG=1,HN.Transaction=nU,Object.defineProperty(PN,"__esModule",{value:!0});const iU=TN,oU=oL,sU=HN,aU=gO,cU=HT,uU=UN,lU=new TypeError("Cannot compute merkle root for zero transactions"),AU=new TypeError("Cannot compute witness commit for non-segwit block");class hU{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const t=new iU.BufferReader(e),r=new hU;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;const n=()=>{const e=sU.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},i=t.readVarInt();r.transactions=[];for(let e=0;e<i;++e){const e=n();r.transactions.push(e)}const o=r.getWitnessCommit();return o&&(r.witnessCommit=o),r}static fromHex(e){return hU.fromBuffer(eo.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,r=8388607&e,n=eo.alloc(32,0);return n.writeUIntBE(r,29-t,3),n}static calculateMerkleRoot(e,t){if(cU([{getHash:aU.Function}],e),0===e.length)throw lU;if(t&&!fU(e))throw AU;const r=e.map((e=>e.getHash(t))),n=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");for(var r=e.length,n=e.concat();r>1;){for(var i=0,o=0;o<r;o+=2,++i){var s=n[o],a=o+1===r?s:n[o+1],c=eo.concat([s,a]);n[i]=t(c)}r=i}return n[0]}(r,oU.hash256);return t?oU.hash256(eo.concat([n,e[0].ins[0].witness[0]])):n}getWitnessCommit(){if(!fU(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(eo.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof eo&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof eo&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+uU.encodingLength(this.transactions.length)+this.transactions.reduce(((e,r)=>e+r.byteLength(t)),0)}getHash(){return oU.hash256(this.toBuffer(!0))}getId(){return iU.reverseBuffer(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const t=eo.allocUnsafe(this.byteLength(e)),r=new iU.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(uU.encode(this.transactions.length,t,r.offset),r.offset+=uU.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit())}checkProofOfWork(){const e=iU.reverseBuffer(this.getHash()),t=hU.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw lU;const e=hU.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw lU;if(!this.hasWitnessCommit())throw AU;const e=hU.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function fU(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}PN.Block=hU;var dU={},pU={},gU={},mU={},yU={},vU={},bU={};!function(e){var t,r,n;Object.defineProperty(e,"__esModule",{value:!0}),(t=e.GlobalTypes||(e.GlobalTypes={}))[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB",e.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(r=e.InputTypes||(e.InputTypes={}))[r.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",r[r.WITNESS_UTXO=1]="WITNESS_UTXO",r[r.PARTIAL_SIG=2]="PARTIAL_SIG",r[r.SIGHASH_TYPE=3]="SIGHASH_TYPE",r[r.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",r[r.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",r[r.BIP32_DERIVATION=6]="BIP32_DERIVATION",r[r.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",r[r.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",r[r.POR_COMMITMENT=9]="POR_COMMITMENT",r[r.TAP_KEY_SIG=19]="TAP_KEY_SIG",r[r.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",r[r.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",r[r.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",r[r.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",r[r.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",e.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],(n=e.OutputTypes||(e.OutputTypes={}))[n.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",n[n.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",n[n.BIP32_DERIVATION=2]="BIP32_DERIVATION",n[n.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",n[n.TAP_TREE=6]="TAP_TREE",n[n.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",e.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]}(bU);var wU={};Object.defineProperty(wU,"__esModule",{value:!0});const xU=bU;wU.decode=function(e){if(e.key[0]!==xU.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const t of(e=>[...Array(e).keys()])(e.value.length/4-1)){const n=e.value.readUInt32LE(4*t+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}return r},wU.encode=function(e){const t=eo.from([xU.GlobalTypes.GLOBAL_XPUB]),r=eo.concat([t,e.extendedPubkey]),n=e.path.split("/"),i=eo.allocUnsafe(4*n.length);e.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),i.writeUInt32LE(r,o),o+=4})),{key:r,value:i}},wU.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",wU.check=function(e){const t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return Mo(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&Mo(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)*$/)},wU.canAddToArray=function(e,t,r){const n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)};var _U={};Object.defineProperty(_U,"__esModule",{value:!0});const BU=bU;_U.encode=function(e){return{key:eo.from([BU.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}};var EU={};Object.defineProperty(EU,"__esModule",{value:!0});const SU=bU;EU.decode=function(e){if(e.key[0]!==SU.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},EU.encode=function(e){return{key:eo.from([SU.InputTypes.FINAL_SCRIPTSIG]),value:e}},EU.expected="Buffer",EU.check=function(e){return Mo(e)},EU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig};var CU={};Object.defineProperty(CU,"__esModule",{value:!0});const IU=bU;CU.decode=function(e){if(e.key[0]!==IU.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},CU.encode=function(e){return{key:eo.from([IU.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},CU.expected="Buffer",CU.check=function(e){return Mo(e)},CU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness};var kU={};Object.defineProperty(kU,"__esModule",{value:!0});const PU=bU;kU.decode=function(e){if(e.key[0]!==PU.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},kU.encode=function(e){return{key:eo.from([PU.InputTypes.NON_WITNESS_UTXO]),value:e}},kU.expected="Buffer",kU.check=function(e){return Mo(e)},kU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo};var TU={};Object.defineProperty(TU,"__esModule",{value:!0});const OU=bU;TU.decode=function(e){if(e.key[0]!==OU.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},TU.encode=function(e){const t=eo.from([OU.InputTypes.PARTIAL_SIG]);return{key:eo.concat([t,e.pubkey]),value:e.signature}},TU.expected="{ pubkey: Buffer; signature: Buffer; }",TU.check=function(e){return Mo(e.pubkey)&&Mo(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!Mo(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},TU.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)};var LU={};Object.defineProperty(LU,"__esModule",{value:!0});const NU=bU;LU.decode=function(e){if(e.key[0]!==NU.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},LU.encode=function(e){return{key:eo.from([NU.InputTypes.POR_COMMITMENT]),value:eo.from(e,"utf8")}},LU.expected="string",LU.check=function(e){return"string"==typeof e},LU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment};var UU={};Object.defineProperty(UU,"__esModule",{value:!0});const FU=bU;UU.decode=function(e){if(e.key[0]!==FU.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},UU.encode=function(e){const t=eo.from([FU.InputTypes.SIGHASH_TYPE]),r=eo.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},UU.expected="number",UU.check=function(e){return"number"==typeof e},UU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType};var MU={};Object.defineProperty(MU,"__esModule",{value:!0});const RU=bU;function DU(e){return Mo(e)&&(64===e.length||65===e.length)}MU.decode=function(e){if(e.key[0]!==RU.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!DU(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},MU.encode=function(e){return{key:eo.from([RU.InputTypes.TAP_KEY_SIG]),value:e}},MU.expected="Buffer",MU.check=DU,MU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig};var jU={};Object.defineProperty(jU,"__esModule",{value:!0});const QU=bU;jU.decode=function(e){if(e.key[0]!==QU.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));const t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));const r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}},jU.encode=function(e){const t=eo.from([QU.InputTypes.TAP_LEAF_SCRIPT]),r=eo.from([e.leafVersion]);return{key:eo.concat([t,e.controlBlock]),value:eo.concat([e.script,r])}},jU.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",jU.check=function(e){return Mo(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&Mo(e.script)},jU.canAddToArray=function(e,t,r){const n=t.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.controlBlock.equals(t.controlBlock))).length)};var HU={};Object.defineProperty(HU,"__esModule",{value:!0});const KU=bU;function VU(e){return Mo(e)&&32===e.length}HU.decode=function(e){if(e.key[0]!==KU.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!VU(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},HU.encode=function(e){return{key:eo.from([KU.InputTypes.TAP_MERKLE_ROOT]),value:e}},HU.expected="Buffer",HU.check=VU,HU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot};var zU={};Object.defineProperty(zU,"__esModule",{value:!0});const qU=bU;zU.decode=function(e){if(e.key[0]!==qU.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},zU.encode=function(e){const t=eo.from([qU.InputTypes.TAP_SCRIPT_SIG]);return{key:eo.concat([t,e.pubkey,e.leafHash]),value:e.signature}},zU.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",zU.check=function(e){return Mo(e.pubkey)&&Mo(e.leafHash)&&Mo(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},zU.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash))).length)};var GU={},WU={},$U={};function JU(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function XU(e){return JU(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Object.defineProperty($U,"__esModule",{value:!0}),$U.encode=function e(t,r,n){if(JU(t),r||(r=eo.allocUnsafe(XU(t))),!Mo(r))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),Object.assign(e,{bytes:9})),r},$U.decode=function e(t,r){if(!Mo(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const n=t.readUInt8(r);if(n<253)return Object.assign(e,{bytes:1}),n;if(253===n)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===n)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(e,{bytes:9});const n=t.readUInt32LE(r+1),i=4294967296*t.readUInt32LE(r+5)+n;return JU(i),i}},$U.encodingLength=XU,Object.defineProperty(WU,"__esModule",{value:!0});const YU=$U;function ZU(e){const t=e.key.length,r=e.value.length,n=YU.encodingLength(t),i=YU.encodingLength(r),o=eo.allocUnsafe(n+t+i+r);return YU.encode(t,o,0),e.key.copy(o,n),YU.encode(r,o,n+t),e.value.copy(o,n+t+i),o}function eF(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}WU.range=e=>[...Array(e).keys()],WU.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},WU.keyValsToBuffer=function(e){const t=e.map(ZU);return t.push(eo.from([0])),eo.concat(t)},WU.keyValToBuffer=ZU,WU.readUInt64LE=function(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,eF(n+r,9007199254740991),n+r},WU.writeUInt64LE=function(e,t,r){return eF(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8},Object.defineProperty(GU,"__esModule",{value:!0});const tF=bU,rF=WU,nF=$U;GU.decode=function(e){if(e.key[0]!==tF.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=rF.readUInt64LE(e.value,0);let r=8;const n=nF.decode(e.value,r);r+=nF.encodingLength(n);const i=e.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:t}},GU.encode=function(e){const{script:t,value:r}=e,n=nF.encodingLength(t.length),i=eo.allocUnsafe(8+n+t.length);return rF.writeUInt64LE(i,r,0),nF.encode(t.length,i,8),t.copy(i,8+n),{key:eo.from([tF.InputTypes.WITNESS_UTXO]),value:i}},GU.expected="{ script: Buffer; value: number; }",GU.check=function(e){return Mo(e.script)&&"number"==typeof e.value},GU.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo};var iF={};Object.defineProperty(iF,"__esModule",{value:!0});const oF=bU,sF=$U;iF.decode=function(e){if(e.key[0]!==oF.OutputTypes.TAP_TREE||1!==e.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0;const r=[];for(;t<e.value.length;){const n=e.value[t++],i=e.value[t++],o=sF.decode(e.value,t);t+=sF.encodingLength(o),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+o)}),t+=o}return{leaves:r}},iF.encode=function(e){const t=eo.from([oF.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map((e=>[eo.of(e.depth,e.leafVersion),sF.encode(e.script.length),e.script])));return{key:t,value:eo.concat(r)}},iF.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",iF.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every((e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&Mo(e.script)))},iF.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree};var aF={};Object.defineProperty(aF,"__esModule",{value:!0});const cF=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];aF.makeConverter=function(e,t=cF){return{decode:function(r){if(r.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));const n=r.key.slice(1);if(!t(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(const e of(e=>[...Array(e).keys()])(r.value.length/4-1)){const t=r.value.readUInt32LE(4*e+4),n=!!(2147483648&t),o=2147483647&t;i.path+="/"+o.toString(10)+(n?"'":"")}return i},encode:function(t){const r=eo.from([e]),n=eo.concat([r,t.pubkey]),i=t.path.split("/"),o=eo.allocUnsafe(4*i.length);t.masterFingerprint.copy(o,0);let s=4;return i.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),o.writeUInt32LE(r,s),s+=4})),{key:n,value:o}},check:function(e){return Mo(e.pubkey)&&Mo(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}};var uF={};Object.defineProperty(uF,"__esModule",{value:!0}),uF.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(r=t.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}};var lF={};Object.defineProperty(lF,"__esModule",{value:!0}),lF.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:eo.from([e]),value:t}},check:function(e){return Mo(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}};var AF={};Object.defineProperty(AF,"__esModule",{value:!0});const hF=$U,fF=aF,dF=e=>32===e.length;AF.makeConverter=function(e){const t=fF.makeConverter(e,dF);return{decode:function(e){const r=hF.decode(e.value),n=hF.encodingLength(r),i=t.decode({key:e.key,value:e.value.slice(n+32*r)}),o=new Array(r);for(let t=0,i=n;t<r;t++,i+=32)o[t]=e.value.slice(i,i+32);return Object.assign({},i,{leafHashes:o})},encode:function(e){const r=t.encode(e),n=hF.encodingLength(e.leafHashes.length),i=eo.allocUnsafe(n);hF.encode(e.leafHashes.length,i);const o=eo.concat([i,...e.leafHashes,r.value]);return Object.assign({},r,{value:o})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every((e=>Mo(e)&&32===e.length))&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}};var pF={};Object.defineProperty(pF,"__esModule",{value:!0}),pF.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:eo.from([e]),value:t}},check:function(e){return Mo(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}};var gF={};Object.defineProperty(gF,"__esModule",{value:!0}),gF.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:eo.from([e]),value:t}},check:function(e){return Mo(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}},Object.defineProperty(vU,"__esModule",{value:!0});const mF=bU,yF=EU,vF=CU,bF=kU,wF=TU,xF=LU,_F=UU,BF=MU,EF=jU,SF=HU,CF=zU,IF=GU,kF=iF,PF=aF,TF=uF,OF=lF,LF=AF,NF=pF,UF=gF,FF={unsignedTx:_U,globalXpub:wU,checkPubkey:TF.makeChecker([])};vU.globals=FF;const MF={nonWitnessUtxo:bF,partialSig:wF,sighashType:_F,finalScriptSig:yF,finalScriptWitness:vF,porCommitment:xF,witnessUtxo:IF,bip32Derivation:PF.makeConverter(mF.InputTypes.BIP32_DERIVATION),redeemScript:OF.makeConverter(mF.InputTypes.REDEEM_SCRIPT),witnessScript:UF.makeConverter(mF.InputTypes.WITNESS_SCRIPT),checkPubkey:TF.makeChecker([mF.InputTypes.PARTIAL_SIG,mF.InputTypes.BIP32_DERIVATION]),tapKeySig:BF,tapScriptSig:CF,tapLeafScript:EF,tapBip32Derivation:LF.makeConverter(mF.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:NF.makeConverter(mF.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:SF};vU.inputs=MF;const RF={bip32Derivation:PF.makeConverter(mF.OutputTypes.BIP32_DERIVATION),redeemScript:OF.makeConverter(mF.OutputTypes.REDEEM_SCRIPT),witnessScript:UF.makeConverter(mF.OutputTypes.WITNESS_SCRIPT),checkPubkey:TF.makeChecker([mF.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:LF.makeConverter(mF.OutputTypes.TAP_BIP32_DERIVATION),tapTree:kF,tapInternalKey:NF.makeConverter(mF.OutputTypes.TAP_INTERNAL_KEY)};vU.outputs=RF,Object.defineProperty(yU,"__esModule",{value:!0});const DF=vU,jF=WU,QF=$U,HF=bU;function KF(e,t,r){if(!t.equals(eo.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function VF(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const i={unsignedTx:e};let o=0;for(const e of t)switch(e.key[0]){case HF.GlobalTypes.UNSIGNED_TX:if(KF("global",e.key,HF.GlobalTypes.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case HF.GlobalTypes.GLOBAL_XPUB:void 0===i.globalXpub&&(i.globalXpub=[]),i.globalXpub.push(DF.globals.globalXpub.decode(e));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(e)}const s=r.length,a=n.length,c=[],u=[];for(const e of jF.range(s)){const t={};for(const n of r[e])switch(DF.inputs.checkPubkey(n),n.key[0]){case HF.InputTypes.NON_WITNESS_UTXO:if(KF("input",n.key,HF.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=DF.inputs.nonWitnessUtxo.decode(n);break;case HF.InputTypes.WITNESS_UTXO:if(KF("input",n.key,HF.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=DF.inputs.witnessUtxo.decode(n);break;case HF.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(DF.inputs.partialSig.decode(n));break;case HF.InputTypes.SIGHASH_TYPE:if(KF("input",n.key,HF.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=DF.inputs.sighashType.decode(n);break;case HF.InputTypes.REDEEM_SCRIPT:if(KF("input",n.key,HF.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=DF.inputs.redeemScript.decode(n);break;case HF.InputTypes.WITNESS_SCRIPT:if(KF("input",n.key,HF.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=DF.inputs.witnessScript.decode(n);break;case HF.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(DF.inputs.bip32Derivation.decode(n));break;case HF.InputTypes.FINAL_SCRIPTSIG:KF("input",n.key,HF.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=DF.inputs.finalScriptSig.decode(n);break;case HF.InputTypes.FINAL_SCRIPTWITNESS:KF("input",n.key,HF.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=DF.inputs.finalScriptWitness.decode(n);break;case HF.InputTypes.POR_COMMITMENT:KF("input",n.key,HF.InputTypes.POR_COMMITMENT),t.porCommitment=DF.inputs.porCommitment.decode(n);break;case HF.InputTypes.TAP_KEY_SIG:KF("input",n.key,HF.InputTypes.TAP_KEY_SIG),t.tapKeySig=DF.inputs.tapKeySig.decode(n);break;case HF.InputTypes.TAP_SCRIPT_SIG:void 0===t.tapScriptSig&&(t.tapScriptSig=[]),t.tapScriptSig.push(DF.inputs.tapScriptSig.decode(n));break;case HF.InputTypes.TAP_LEAF_SCRIPT:void 0===t.tapLeafScript&&(t.tapLeafScript=[]),t.tapLeafScript.push(DF.inputs.tapLeafScript.decode(n));break;case HF.InputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(DF.inputs.tapBip32Derivation.decode(n));break;case HF.InputTypes.TAP_INTERNAL_KEY:KF("input",n.key,HF.InputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=DF.inputs.tapInternalKey.decode(n);break;case HF.InputTypes.TAP_MERKLE_ROOT:KF("input",n.key,HF.InputTypes.TAP_MERKLE_ROOT),t.tapMerkleRoot=DF.inputs.tapMerkleRoot.decode(n);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}c.push(t)}for(const e of jF.range(a)){const t={};for(const r of n[e])switch(DF.outputs.checkPubkey(r),r.key[0]){case HF.OutputTypes.REDEEM_SCRIPT:if(KF("output",r.key,HF.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=DF.outputs.redeemScript.decode(r);break;case HF.OutputTypes.WITNESS_SCRIPT:if(KF("output",r.key,HF.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=DF.outputs.witnessScript.decode(r);break;case HF.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(DF.outputs.bip32Derivation.decode(r));break;case HF.OutputTypes.TAP_INTERNAL_KEY:KF("output",r.key,HF.OutputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=DF.outputs.tapInternalKey.decode(r);break;case HF.OutputTypes.TAP_TREE:KF("output",r.key,HF.OutputTypes.TAP_TREE),t.tapTree=DF.outputs.tapTree.decode(r);break;case HF.OutputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(DF.outputs.tapBip32Derivation.decode(r));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(r)}u.push(t)}return{globalMap:i,inputs:c,outputs:u}}yU.psbtFromBuffer=function(e,t){let r=0;function n(){const t=QF.decode(e,r);r+=QF.encodingLength(t);const n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function o(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){const t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const s=[],a={};for(;!o();){const e=i(),t=e.key.toString("hex");if(a[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);a[t]=1,s.push(e)}const c=s.filter((e=>e.key[0]===HF.GlobalTypes.UNSIGNED_TX));if(1!==c.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const u=t(c[0].value),{inputCount:l,outputCount:A}=u.getInputOutputCounts(),h=[],f=[];for(const e of jF.range(l)){const t={},r=[];for(;!o();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each input: input index "+e+" key "+o);t[o]=1,r.push(n)}h.push(r)}for(const e of jF.range(A)){const t={},r=[];for(;!o();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each output: output index "+e+" key "+o);t[o]=1,r.push(n)}f.push(r)}return VF(u,{globalMapKeyVals:s,inputKeyVals:h,outputKeyVals:f})},yU.checkKeyBuffer=KF,yU.psbtFromKeyVals=VF;var zF={};Object.defineProperty(zF,"__esModule",{value:!0});const qF=vU,GF=WU;zF.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=JF({globalMap:e,inputs:t,outputs:r}),s=GF.keyValsToBuffer(n),a=e=>0===e.length?[eo.from([0])]:e.map(GF.keyValsToBuffer),c=a(i),u=a(o),l=eo.allocUnsafe(5);return l.writeUIntBE(482972169471,0,5),eo.concat([l,s].concat(c,u))};const WF=(e,t)=>e.key.compare(t.key);function $F(e,t){const r=new Set,n=Object.entries(e).reduce(((e,[n,i])=>{if("unknownKeyVals"===n)return e;const o=t[n];if(void 0===o)return e;const s=(Array.isArray(i)?i:[i]).map(o.encode);return s.map((e=>e.key.toString("hex"))).forEach((e=>{if(r.has(e))throw new Error("Serialize Error: Duplicate key: "+e);r.add(e)})),e.concat(s)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!r.has(e.key.toString("hex")))):[];return n.concat(i).sort(WF)}function JF({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:$F(e,qF.globals),inputKeyVals:t.map((e=>$F(e,qF.inputs))),outputKeyVals:r.map((e=>$F(e,qF.outputs)))}}zF.psbtToKeyVals=JF,function(e){function t(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),t(yU),t(zF)}(mU),Object.defineProperty(gU,"__esModule",{value:!0});const XF=mU;function YF(e,t,r){return n=>{if(e.has(n))return;const i=r.filter((e=>e.key.toString("hex")===n))[0];t.push(i),e.add(n)}}function ZF(e){return e.globalMap.unsignedTx}function eM(e){const t=new Set;return e.forEach((e=>{const r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}gU.combine=function(e){const t=e[0],r=XF.psbtToKeyVals(t),n=e.slice(1);if(0===n.length)throw new Error("Combine: Nothing to combine");const i=ZF(t);if(void 0===i)throw new Error("Combine: Self missing transaction");const o=eM(r.globalKeyVals),s=r.inputKeyVals.map(eM),a=r.outputKeyVals.map(eM);for(const e of n){const t=ZF(e);if(void 0===t||!t.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const n=XF.psbtToKeyVals(e);eM(n.globalKeyVals).forEach(YF(o,r.globalKeyVals,n.globalKeyVals)),n.inputKeyVals.map(eM).forEach(((e,t)=>e.forEach(YF(s[t],r.inputKeyVals[t],n.inputKeyVals[t])))),n.outputKeyVals.map(eM).forEach(((e,t)=>e.forEach(YF(a[t],r.outputKeyVals[t],n.outputKeyVals[t]))))}return XF.psbtFromKeyVals(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})};var tM={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=vU;function r(e,t){const r=e[t];if(void 0===r)throw new Error(`No input #${t}`);return r}function n(e,t){const r=e[t];if(void 0===r)throw new Error(`No output #${t}`);return r}function i(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function o(e){return(r,n)=>{for(const o of Object.keys(r)){const s=r[o],{canAdd:a,canAddToArray:c,check:u,expected:l}=t[e+"s"][o]||{},A=!!c;if(u)if(A){if(!Array.isArray(s)||n[o]&&!Array.isArray(n[o]))throw new Error(`Key type ${o} must be an array`);s.every(u)||i(e,o,l,s);const t=n[o]||[],r=new Set;if(!s.every((e=>c(t,e,r))))throw new Error("Can not add duplicate data to array");n[o]=t.concat(s)}else{if(u(s)||i(e,o,l,s),!a(n,s))throw new Error(`Can not add duplicate data to ${e}`);n[o]=s}}}}e.checkForInput=r,e.checkForOutput=n,e.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},e.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},e.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&s}if(!1===r)throw new Error(`Input #${e} has too much or too little data to clean`)},e.updateGlobal=o("global"),e.updateInput=o("input"),e.updateOutput=o("output"),e.addInputAttributes=function(t,n){const i=r(t,t.length-1);e.updateInput(n,i)},e.addOutputAttributes=function(t,r){const i=n(t,t.length-1);e.updateOutput(r,i)},e.defaultVersionSetter=function(e,t){if(!Mo(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},e.defaultLocktimeSetter=function(e,t){if(!Mo(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}}(tM),Object.defineProperty(pU,"__esModule",{value:!0});const rM=gU,nM=mU,iM=bU,oM=tM;pU.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=eo.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=eo.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=nM.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return nM.psbtToBuffer(this)}updateGlobal(e){return oM.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=oM.checkForInput(this.inputs,e);return oM.updateInput(t,r),this}updateOutput(e,t){const r=oM.checkForOutput(this.outputs,e);return oM.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return oM.checkHasKey(e,this.globalMap.unknownKeyVals,oM.getEnumLength(iM.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=oM.checkForInput(this.inputs,e);return oM.checkHasKey(t,r.unknownKeyVals,oM.getEnumLength(iM.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=oM.checkForOutput(this.outputs,e);return oM.checkHasKey(t,r.unknownKeyVals,oM.getEnumLength(iM.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),oM.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),oM.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=oM.checkForInput(this.inputs,e);oM.inputCheckUncleanFinalized(e,t);for(const e of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(e)||delete t[e];return this}combine(...e){const t=rM.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}},Object.defineProperty(dU,"__esModule",{value:!0});const sM=pU,aM=$U,cM=tM,uM=uO,lM=TN,AM=oL,hM=mN,fM=AO,dM=fO,pM=HN,gM={network:lO.bitcoin,maximumFeeRate:5e3};class mM{constructor(e={},t=new sM.Psbt(new vM)){this.data=t,this.opts=Object.assign({},gM,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const r=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}static fromBase64(e,t={}){const r=eo.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){const r=eo.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){const r=sM.Psbt.fromBuffer(e,yM),n=new mM(t,r);return function(e,t){e.ins.forEach((e=>{LM(t,e)}))}(n.__CACHE.__TX,n.__CACHE),n}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:lM.cloneBuffer(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=uM.fromOutputScript(e.script,this.opts.network)}catch(e){}return{script:lM.cloneBuffer(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=mM.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){PM(e),this.opts.maximumFeeRate=e}setVersion(e){PM(e),TM(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){PM(e),TM(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){PM(t),TM(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");TM(this.data.inputs,"addInput"),e.witnessScript&&$M(e.witnessScript);const t=this.__CACHE;this.data.addInput(e),LM(t,t.__TX.ins[t.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&KM(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");TM(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:r}=this.opts,n=uM.toOutputScript(t,r);e=Object.assign(e,{script:n})}const r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(wM))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const r=t.__TX.clone();return VM(this.data.inputs,r,t,!0),r}getFeeRate(){return MM("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return MM("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return cM.checkForInput(this.data.inputs,0),YM(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t=RM){const r=cM.checkForInput(this.data.inputs,e),{script:n,isP2SH:i,isP2WSH:o,isSegwit:s}=function(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=zM(r,t,e),s=n.ins[e].index;i.script=o.outs[s].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||SM(i.script))&&(i.isSegwit=!0),i}(e,r,this.__CACHE);if(!n)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach((e=>{const{hashType:t}=dM.signature.decode(e.signature);if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}(r);const{finalScriptSig:a,finalScriptWitness:c}=t(e,r,n,s,i,o);if(a&&this.data.updateInput(e,{finalScriptSig:a}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!a&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}getInputType(e){const t=cM.checkForInput(this.data.inputs,e),r=WM(qM(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=dM.decompile(e);if(!t)return;const r=t[t.length-1];var n;if(Mo(r)&&!GM(r)&&(n=r,!dM.isCanonicalScriptSignature(n))&&dM.decompile(r))return r}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=HM(e),r=t[t.length-1];return!GM(r)&&dM.decompile(r)?r:void 0}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+XM(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){const i=qM(r,t,n),{meaningfulScript:o}=WM(i,r,"input",t.redeemScript,t.witnessScript);return JM(e,o)}(t,cM.checkForInput(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const r=cM.checkForInput(this.data.inputs,e),n=kM(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=WM(i,r,"output",t.redeemScript,t.witnessScript);return JM(e,o)}(t,cM.checkForOutput(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const r=cM.checkForOutput(this.data.outputs,e),n=kM(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(){return cM.checkForInput(this.data.inputs,0),YM(this.data.inputs.length).map((e=>this.validateSignaturesOfInput(e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t){const r=this.data.inputs[e],n=(r||{}).partialSig;if(!r||!n||n.length<1)throw new Error("No signatures to validate");const i=t?n.filter((e=>e.pubkey.equals(t))):n;if(i.length<1)throw new Error("No signatures for this pubkey");const o=[];let s,a,c;for(const t of i){const n=dM.signature.decode(t.signature),{hash:i,script:u}=c!==n.hashType?jM(e,Object.assign({},r,{sighashType:n.hashType}),this.__CACHE,!0):{hash:s,script:a};c=n.hashType,s=i,a=u,OM(t.pubkey,u,"verify");const l=hM.fromPublicKey(t.pubkey);o.push(l.verify(i,n.signature))}return o.every((e=>!0===e))}signAllInputsHD(e,t=[pM.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of YM(this.data.inputs.length))try{this.signInputHD(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[pM.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const r of YM(this.data.inputs.length))o.push(this.signInputHDAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(e,t,r=[pM.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return QM(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,r))),this}signInputHDAsync(e,t,r=[pM.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=QM(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(e,t=[pM.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of YM(this.data.inputs.length))try{this.signInput(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t=[pM.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInput(e,t,r=[pM.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const{hash:n,sighashType:i}=DM(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:dM.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}signInputAsync(e,t,r=[pM.Transaction.SIGHASH_ALL]){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const{hash:n,sighashType:i}=DM(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then((r=>{const n=[{pubkey:t.publicKey,signature:dM.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})}))}))}toBuffer(){return bM(this.__CACHE),this.data.toBuffer()}toHex(){return bM(this.__CACHE),this.data.toHex()}toBase64(){return bM(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&$M(t.witnessScript),this.data.updateInput(e,t),t.nonWitnessUtxo&&KM(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){return this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}dU.Psbt=mM;const yM=e=>new vM(e);class vM{constructor(e=eo.from([2,0,0,0,0,0,0,0,0,0])){this.tx=pM.Transaction.fromBuffer(e),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!Mo(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?lM.reverseBuffer(eo.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!Mo(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function bM(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function wM(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function xM(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}const _M=xM(fM.p2ms),BM=xM(fM.p2pk),EM=xM(fM.p2pkh),SM=xM(fM.p2wpkh),CM=xM(fM.p2wsh),IM=xM(fM.p2sh);function kM(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function PM(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function TM(e,t){e.forEach((e=>{let r=!1,n=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;n=function(e){const t=e.finalScriptSig&&dM.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&dM.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((e=>Mo(e)&&dM.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else n=e.partialSig;if(n.forEach((e=>{const{hashType:n}=dM.signature.decode(e.signature),i=[];switch(n&pM.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&n){case pM.Transaction.SIGHASH_ALL:break;case pM.Transaction.SIGHASH_SINGLE:case pM.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}-1===i.indexOf(t)&&(r=!0)})),r)throw new Error("Can not modify transaction, signatures exist.")}))}function OM(e,t,r){if(!JM(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function LM(e,t){const r=lM.reverseBuffer(eo.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function NM(e,t){return(r,n,i,o)=>{const s=e({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const UM=NM(fM.p2sh,"Redeem script"),FM=NM(fM.p2wsh,"Witness script");function MM(e,t,r,n){if(!r.every(wM))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),VM(r,i,n,o),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function RM(e,t,r,n,i,o){XM(r);throw new Error(`Can not finalize input #${e}`)}function DM(e,t,r,n,i){const o=cM.checkForInput(e,t),{hash:s,sighashType:a,script:c}=jM(t,o,n,!1,i);return OM(r,c,"sign"),{hash:s,sighashType:a}}function jM(e,t,r,n,i){const o=r.__TX,s=t.sighashType||pM.Transaction.SIGHASH_ALL;if(i&&i.indexOf(s)<0){const e=function(e){let t=e&pM.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case pM.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case pM.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case pM.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(s);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${e}`)}let a,c;if(t.nonWitnessUtxo){const n=zM(r,t,e),i=o.ins[e].hash,s=n.getHash();if(!i.equals(s))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const a=o.ins[e].index;c=n.outs[a]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");c=t.witnessUtxo}const{meaningfulScript:u,type:l}=WM(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)a=o.hashForWitnessV0(e,u,c.value,s);else if(SM(u)){const t=fM.p2pkh({hash:u.slice(2)}).output;a=o.hashForWitnessV0(e,t,c.value,s)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as the old TransactionBuilder class when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=o.hashForSignature(e,u,s)}return{script:u,sighashType:s,hash:a}}function QM(e,t,r){const n=cM.checkForInput(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");const o=i.map((e=>{const t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}));return o}function HM(e){let t=0;function r(){const r=aM.decode(e,t);return t+=aM.decode.bytes,r}function n(){return function(r){return t+=r,e.slice(t-r,t)}(r())}return function(){const e=r(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function KM(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=pM.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function VM(e,t,r,n){let i=0;e.forEach(((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=HM(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const n=zM(r,e,o),s=t.ins[o].index,a=n.outs[s];i+=a.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=t.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(s/a)}function zM(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||KM(e,t,r),n[r]}function qM(e,t,r){if(void 0!==t.witnessUtxo)return t.witnessUtxo.script;if(void 0!==t.nonWitnessUtxo)return zM(r,t,e).outs[r.__TX.ins[e].index].script;throw new Error("Can't find pubkey in input without Utxo data")}function GM(e){return 33===e.length&&dM.isCanonicalPubKey(e)}function WM(e,t,r,n,i){const o=IM(e),s=o&&n&&CM(n),a=CM(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return s?(c=i,UM(t,e,n,r),FM(t,n,i,r),$M(c)):a?(c=i,FM(t,e,i,r),$M(c)):o?(c=n,UM(t,e,n,r)):c=e,{meaningfulScript:c,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function $M(e){if(SM(e)||IM(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function JM(e,t){const r=AM.hash160(e),n=dM.decompile(t);if(null===n)throw new Error("Unknown script error");return n.some((t=>"number"!=typeof t&&(t.equals(e)||t.equals(r))))}function XM(e){return SM(e)?"witnesspubkeyhash":EM(e)?"pubkeyhash":_M(e)?"multisig":BM(e)?"pubkey":"nonstandard"}function YM(e){return[...Array(e).keys()]}var ZM={},eR={},tR={},rR={};Object.defineProperty(rR,"__esModule",{value:!0});const nR=fO,iR=fO;function oR(e){return e===iR.OPS.OP_0||nR.isCanonicalScriptSignature(e)}function sR(e,t){const r=nR.decompile(e);return!(r.length<2)&&r[0]===iR.OPS.OP_0&&(t?r.slice(1).every(oR):r.slice(1).every(nR.isCanonicalScriptSignature))}rR.check=sR,sR.toJSON=()=>"multisig input";var aR={};Object.defineProperty(aR,"__esModule",{value:!0});const cR=fO,uR=fO,lR=gO,AR=uR.OPS.OP_RESERVED;function hR(e,t){const r=cR.decompile(e);if(r.length<4)return!1;if(r[r.length-1]!==uR.OPS.OP_CHECKMULTISIG)return!1;if(!lR.Number(r[0]))return!1;if(!lR.Number(r[r.length-2]))return!1;const n=r[0]-AR,i=r[r.length-2]-AR;return!(n<=0)&&(!(i>16)&&(!(n>i)&&(i===r.length-3&&(!!t||r.slice(1,-2).every(cR.isCanonicalPubKey)))))}aR.check=hR,hR.toJSON=()=>"multi-sig output",Object.defineProperty(tR,"__esModule",{value:!0});const fR=rR;tR.input=fR;const dR=aR;tR.output=dR;var pR={};Object.defineProperty(pR,"__esModule",{value:!0});const gR=fO,mR=gR.OPS;function yR(e){const t=gR.compile(e);return t.length>1&&t[0]===mR.OP_RETURN}pR.check=yR,yR.toJSON=()=>"null data output";const vR={check:yR};pR.output=vR;var bR={},wR={};Object.defineProperty(wR,"__esModule",{value:!0});const xR=fO;function _R(e){const t=xR.decompile(e);return 1===t.length&&xR.isCanonicalScriptSignature(t[0])}wR.check=_R,_R.toJSON=()=>"pubKey input";var BR={};Object.defineProperty(BR,"__esModule",{value:!0});const ER=fO,SR=fO;function CR(e){const t=ER.decompile(e);return 2===t.length&&ER.isCanonicalPubKey(t[0])&&t[1]===SR.OPS.OP_CHECKSIG}BR.check=CR,CR.toJSON=()=>"pubKey output",Object.defineProperty(bR,"__esModule",{value:!0});const IR=wR;bR.input=IR;const kR=BR;bR.output=kR;var PR={},TR={};Object.defineProperty(TR,"__esModule",{value:!0});const OR=fO;function LR(e){const t=OR.decompile(e);return 2===t.length&&OR.isCanonicalScriptSignature(t[0])&&OR.isCanonicalPubKey(t[1])}TR.check=LR,LR.toJSON=()=>"pubKeyHash input";var NR={};Object.defineProperty(NR,"__esModule",{value:!0});const UR=fO,FR=fO;function MR(e){const t=UR.compile(e);return 25===t.length&&t[0]===FR.OPS.OP_DUP&&t[1]===FR.OPS.OP_HASH160&&20===t[2]&&t[23]===FR.OPS.OP_EQUALVERIFY&&t[24]===FR.OPS.OP_CHECKSIG}NR.check=MR,MR.toJSON=()=>"pubKeyHash output",Object.defineProperty(PR,"__esModule",{value:!0});const RR=TR;PR.input=RR;const DR=NR;PR.output=DR;var jR={},QR={},HR={};Object.defineProperty(HR,"__esModule",{value:!0});const KR=fO,VR=fO;function zR(e){const t=KR.compile(e);return 22===t.length&&t[0]===VR.OPS.OP_0&&20===t[1]}HR.check=zR,zR.toJSON=()=>"Witness pubKeyHash output";var qR={};Object.defineProperty(qR,"__esModule",{value:!0});const GR=fO,WR=fO;function $R(e){const t=GR.compile(e);return 34===t.length&&t[0]===WR.OPS.OP_0&&32===t[1]}qR.check=$R,$R.toJSON=()=>"Witness scriptHash output",Object.defineProperty(QR,"__esModule",{value:!0});const JR=fO,XR=tR,YR=bR,ZR=PR,eD=HR,tD=qR;function rD(e,t){const r=JR.decompile(e);if(r.length<1)return!1;const n=r[r.length-1];if(!Mo(n))return!1;const i=JR.decompile(JR.compile(r.slice(0,-1))),o=JR.decompile(n);return!!o&&!!JR.isPushOnly(i)&&(1===r.length?tD.check(o)||eD.check(o):!(!ZR.input.check(i)||!ZR.output.check(o))||!(!XR.input.check(i,t)||!XR.output.check(o))||!(!YR.input.check(i)||!YR.output.check(o)))}QR.check=rD,rD.toJSON=()=>"scriptHash input";var nD={};Object.defineProperty(nD,"__esModule",{value:!0});const iD=fO,oD=fO;function sD(e){const t=iD.compile(e);return 23===t.length&&t[0]===oD.OPS.OP_HASH160&&20===t[1]&&t[22]===oD.OPS.OP_EQUAL}nD.check=sD,sD.toJSON=()=>"scriptHash output",Object.defineProperty(jR,"__esModule",{value:!0});const aD=QR;jR.input=aD;const cD=nD;jR.output=cD;var uD={},lD={};Object.defineProperty(lD,"__esModule",{value:!0});const AD=fO,hD=fO,fD=gO,dD=HT,pD=eo.from("aa21a9ed","hex");function gD(e){const t=AD.compile(e);return t.length>37&&t[0]===hD.OPS.OP_RETURN&&36===t[1]&&t.slice(2,6).equals(pD)}lD.check=gD,gD.toJSON=()=>"Witness commitment output",lD.encode=function(e){dD(fD.Hash256bit,e);const t=eo.allocUnsafe(36);return pD.copy(t,0),e.copy(t,4),AD.compile([hD.OPS.OP_RETURN,t])},lD.decode=function(e){return dD(gD,e),AD.decompile(e)[1].slice(4,36)},Object.defineProperty(uD,"__esModule",{value:!0});const mD=lD;uD.output=mD;var yD={},vD={};Object.defineProperty(vD,"__esModule",{value:!0});const bD=fO;function wD(e){const t=bD.decompile(e);return 2===t.length&&bD.isCanonicalScriptSignature(t[0])&&function(e){return bD.isCanonicalPubKey(e)&&33===e.length}(t[1])}vD.check=wD,wD.toJSON=()=>"witnessPubKeyHash input",Object.defineProperty(yD,"__esModule",{value:!0});const xD=vD;yD.input=xD;const _D=HR;yD.output=_D;var BD={},ED={};Object.defineProperty(ED,"__esModule",{value:!0});const SD=fO,CD=HT,ID=tR,kD=bR,PD=PR;function TD(e,t){if(CD(CD.Array,e),e.length<1)return!1;const r=e[e.length-1];if(!Mo(r))return!1;const n=SD.decompile(r);if(!n||0===n.length)return!1;const i=SD.compile(e.slice(0,-1));return!(!PD.input.check(i)||!PD.output.check(n))||!(!ID.input.check(i,t)||!ID.output.check(n))||!(!kD.input.check(i)||!kD.output.check(n))}ED.check=TD,TD.toJSON=()=>"witnessScriptHash input",Object.defineProperty(BD,"__esModule",{value:!0});const OD=ED;BD.input=OD;const LD=qR;BD.output=LD,Object.defineProperty(eR,"__esModule",{value:!0});const ND=fO,UD=tR,FD=pR,MD=bR,RD=PR,DD=jR,jD=uD,QD=yD,HD=BD,KD={P2MS:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};eR.types=KD,eR.output=function(e){if(QD.output.check(e))return KD.P2WPKH;if(HD.output.check(e))return KD.P2WSH;if(RD.output.check(e))return KD.P2PKH;if(DD.output.check(e))return KD.P2SH;const t=ND.decompile(e);if(!t)throw new TypeError("Invalid script");return UD.output.check(t)?KD.P2MS:MD.output.check(t)?KD.P2PK:jD.output.check(t)?KD.WITNESS_COMMITMENT:FD.output.check(t)?KD.NULLDATA:KD.NONSTANDARD},eR.input=function(e,t){const r=ND.decompile(e);if(!r)throw new TypeError("Invalid script");return RD.input.check(r)?KD.P2PKH:DD.input.check(r,t)?KD.P2SH:UD.input.check(r,t)?KD.P2MS:MD.input.check(r)?KD.P2PK:KD.NONSTANDARD},eR.witness=function(e,t){const r=ND.decompile(e);if(!r)throw new TypeError("Invalid script");return QD.input.check(r)?KD.P2WPKH:HD.input.check(r,t)?KD.P2WSH:KD.NONSTANDARD},Object.defineProperty(ZM,"__esModule",{value:!0});const VD=uO,zD=TN,qD=eR,GD=oL,WD=mN,$D=lO,JD=AO,XD=fO,YD=fO,ZD=HN,ej=gO,tj=HT,rj=qD.types,nj=new Set(["p2pkh","p2pk","p2wpkh","p2ms","p2sh-p2pkh","p2sh-p2pk","p2sh-p2wpkh","p2sh-p2ms","p2wsh-p2pkh","p2wsh-p2pk","p2wsh-p2ms","p2sh-p2wsh-p2pkh","p2sh-p2wsh-p2pk","p2sh-p2wsh-p2ms"]);function ij(e,t,r){try{tj(e,t)}catch(e){throw new Error(r)}}class oj{constructor(e=$D.bitcoin,t=2500){this.network=e,this.maximumFeeRate=t,this.__PREV_TX_SET={},this.__INPUTS=[],this.__TX=new ZD.Transaction,this.__TX.version=2,this.__USE_LOW_R=!1,console.warn("Deprecation Warning: TransactionBuilder will be removed in the future. (v6.x.x or later) Please use the Psbt class instead. Examples of usage are available in the transactions-psbt.js integration test file on our Github. A high level explanation is available in the psbt.ts and psbt.js files as well.")}static fromTransaction(e,t){const r=new oj(t);return r.setVersion(e.version),r.setLockTime(e.locktime),e.outs.forEach((e=>{r.addOutput(e.script,e.value)})),e.ins.forEach((e=>{r.__addInputUnsafe(e.hash,e.index,{sequence:e.sequence,script:e.script,witness:e.witness})})),r.__INPUTS.forEach(((t,r)=>{!function(e,t,r){if(e.redeemScriptType!==rj.P2MS||!e.redeemScript)return;if(e.pubkeys.length===e.signatures.length)return;const n=e.signatures.concat();e.signatures=e.pubkeys.map((i=>{const o=WD.fromPublicKey(i);let s;return n.some(((i,a)=>{if(!i)return!1;const c=XD.signature.decode(i),u=t.hashForSignature(r,e.redeemScript,c.hashType);return!!o.verify(u,c.signature)&&(n[a]=void 0,s=i,!0)})),s}))}(t,e,r)})),r}setLowR(e){return tj(tj.maybe(tj.Boolean),e),void 0===e&&(e=!0),this.__USE_LOW_R=e,e}setLockTime(e){if(tj(ej.UInt32,e),this.__INPUTS.some((e=>!!e.signatures&&e.signatures.some((e=>void 0!==e)))))throw new Error("No, this would invalidate signatures");this.__TX.locktime=e}setVersion(e){tj(ej.UInt32,e),this.__TX.version=e}addInput(e,t,r,n){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");let i;if("string"==typeof(o=e)||o instanceof String)e=zD.reverseBuffer(eo.from(e,"hex"));else if(function(e){return e instanceof ZD.Transaction}(e)){const r=e.outs[t];n=r.script,i=r.value,e=e.getHash(!1)}var o;return this.__addInputUnsafe(e,t,{sequence:r,prevOutScript:n,value:i})}addOutput(e,t){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return"string"==typeof e&&(e=VD.toOutputScript(e,this.network)),this.__TX.addOutput(e,t)}build(){return this.__build(!1)}buildIncomplete(){return this.__build(!0)}sign(e,t,r,n,i,o){!function({input:e,ourPubKey:t,keyPair:r,signatureHash:n,hashType:i,useLowR:o}){let s=!1;for(const[a,c]of e.pubkeys.entries()){if(!t.equals(c))continue;if(e.signatures[a])throw new Error("Signature already exists");if(33!==t.length&&e.hasWitness)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");const u=r.sign(n,o);e.signatures[a]=XD.signature.encode(u,i),s=!0}if(!s)throw new Error("Key pair cannot sign for this input")}(function(e,t,r,n,i,o,s,a,c,u,l){let A;if("number"==typeof i)console.warn("DEPRECATED: TransactionBuilder sign method arguments will change in v6, please use the TxbSignArg interface"),A=i;else{if("object"!=typeof i)throw new TypeError("TransactionBuilder sign first arg must be TxbSignArg or number");!function(e,t){if(!nj.has(t.prevOutScriptType))throw new TypeError(`Unknown prevOutScriptType "${t.prevOutScriptType}"`);ij(tj.Number,t.vin,"sign must include vin parameter as Number (input index)"),ij(ej.Signer,t.keyPair,"sign must include keyPair parameter as Signer interface"),ij(tj.maybe(tj.Number),t.hashType,"sign hashType parameter must be a number");const r=(e[t.vin]||[]).prevOutType,n=t.prevOutScriptType;switch(n){case"p2pkh":if(r&&"pubkeyhash"!==r)throw new TypeError(`input #${t.vin} is not of type p2pkh: ${r}`);ij(tj.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),ij(tj.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),ij(tj.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2pk":if(r&&"pubkey"!==r)throw new TypeError(`input #${t.vin} is not of type p2pk: ${r}`);ij(tj.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),ij(tj.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),ij(tj.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2wpkh":if(r&&"witnesspubkeyhash"!==r)throw new TypeError(`input #${t.vin} is not of type p2wpkh: ${r}`);ij(tj.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),ij(tj.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),ij(ej.Satoshi,t.witnessValue,`${n} requires witnessValue`);break;case"p2ms":if(r&&"multisig"!==r)throw new TypeError(`input #${t.vin} is not of type p2ms: ${r}`);ij(tj.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),ij(tj.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),ij(tj.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2sh-p2wpkh":if(r&&"scripthash"!==r)throw new TypeError(`input #${t.vin} is not of type p2sh-p2wpkh: ${r}`);ij(tj.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),ij(tj.Buffer,t.redeemScript,`${n} requires redeemScript`),ij(ej.Satoshi,t.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2ms":case"p2sh-p2pk":case"p2sh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError(`input #${t.vin} is not of type ${n}: ${r}`);ij(tj.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),ij(tj.Buffer,t.redeemScript,`${n} requires redeemScript`),ij(tj.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2wsh-p2ms":case"p2wsh-p2pk":case"p2wsh-p2pkh":if(r&&"witnessscripthash"!==r)throw new TypeError(`input #${t.vin} is not of type ${n}: ${r}`);ij(tj.Buffer,t.witnessScript,`${n} requires witnessScript`),ij(tj.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),ij(ej.Satoshi,t.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2wsh-p2ms":case"p2sh-p2wsh-p2pk":case"p2sh-p2wsh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError(`input #${t.vin} is not of type ${n}: ${r}`);ij(tj.Buffer,t.witnessScript,`${n} requires witnessScript`),ij(tj.Buffer,t.redeemScript,`${n} requires witnessScript`),ij(ej.Satoshi,t.witnessValue,`${n} requires witnessScript`)}}(t,i),({vin:A,keyPair:o,redeemScript:s,hashType:a,witnessValue:c,witnessScript:u}=i)}if(void 0===o)throw new Error("sign requires keypair");if(o.network&&o.network!==e)throw new TypeError("Inconsistent network");if(!t[A])throw new Error("No input at index: "+A);if(r(a=a||ZD.Transaction.SIGHASH_ALL))throw new Error("Transaction needs outputs");const h=t[A];if(void 0!==h.redeemScript&&s&&!h.redeemScript.equals(s))throw new Error("Inconsistent redeemScript");const f=o.publicKey||o.getPublicKey&&o.getPublicKey();if(!uj(h)){if(void 0!==c){if(void 0!==h.value&&h.value!==c)throw new Error("Input did not match witnessValue");tj(ej.Satoshi,c),h.value=c}if(!uj(h)){const e=function(e,t,r,n){if(r&&n){const i=JD.p2wsh({redeem:{output:n}}),o=JD.p2wsh({output:r}),s=JD.p2sh({redeem:{output:r}}),a=JD.p2sh({redeem:i});if(!i.hash.equals(o.hash))throw new Error("Witness script inconsistent with prevOutScript");if(!s.hash.equals(a.hash))throw new Error("Redeem script inconsistent with prevOutScript");const c=aj(i.redeem.output,t);if(!c.pubkeys)throw new Error(c.type+" not supported as witnessScript ("+XD.toASM(n)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(c.signatures=e.signatures);const u=n;if(c.type===rj.P2WPKH)throw new Error("P2SH(P2WSH(P2WPKH)) is a consensus failure");return{redeemScript:r,redeemScriptType:rj.P2WSH,witnessScript:n,witnessScriptType:c.type,prevOutType:rj.P2SH,prevOutScript:s.output,hasWitness:!0,signScript:u,signType:c.type,pubkeys:c.pubkeys,signatures:c.signatures,maxSignatures:c.maxSignatures}}if(r){const n=JD.p2sh({redeem:{output:r}});if(e.prevOutScript){let t;try{t=JD.p2sh({output:e.prevOutScript})}catch(e){throw new Error("PrevOutScript must be P2SH")}if(!n.hash.equals(t.hash))throw new Error("Redeem script inconsistent with prevOutScript")}const i=aj(n.redeem.output,t);if(!i.pubkeys)throw new Error(i.type+" not supported as redeemScript ("+XD.toASM(r)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(i.signatures=e.signatures);let o=r;return i.type===rj.P2WPKH&&(o=JD.p2pkh({pubkey:i.pubkeys[0]}).output),{redeemScript:r,redeemScriptType:i.type,prevOutType:rj.P2SH,prevOutScript:n.output,hasWitness:i.type===rj.P2WPKH,signScript:o,signType:i.type,pubkeys:i.pubkeys,signatures:i.signatures,maxSignatures:i.maxSignatures}}if(n){const r=JD.p2wsh({redeem:{output:n}});if(e.prevOutScript){const t=JD.p2wsh({output:e.prevOutScript});if(!r.hash.equals(t.hash))throw new Error("Witness script inconsistent with prevOutScript")}const i=aj(r.redeem.output,t);if(!i.pubkeys)throw new Error(i.type+" not supported as witnessScript ("+XD.toASM(n)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(i.signatures=e.signatures);const o=n;if(i.type===rj.P2WPKH)throw new Error("P2WSH(P2WPKH) is a consensus failure");return{witnessScript:n,witnessScriptType:i.type,prevOutType:rj.P2WSH,prevOutScript:r.output,hasWitness:!0,signScript:o,signType:i.type,pubkeys:i.pubkeys,signatures:i.signatures,maxSignatures:i.maxSignatures}}if(e.prevOutType&&e.prevOutScript){if(e.prevOutType===rj.P2SH)throw new Error("PrevOutScript is "+e.prevOutType+", requires redeemScript");if(e.prevOutType===rj.P2WSH)throw new Error("PrevOutScript is "+e.prevOutType+", requires witnessScript");if(!e.prevOutScript)throw new Error("PrevOutScript is missing");const r=aj(e.prevOutScript,t);if(!r.pubkeys)throw new Error(r.type+" not supported ("+XD.toASM(e.prevOutScript)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(r.signatures=e.signatures);let n=e.prevOutScript;return r.type===rj.P2WPKH&&(n=JD.p2pkh({pubkey:r.pubkeys[0]}).output),{prevOutType:r.type,prevOutScript:e.prevOutScript,hasWitness:r.type===rj.P2WPKH,signScript:n,signType:r.type,pubkeys:r.pubkeys,signatures:r.signatures,maxSignatures:r.maxSignatures}}const i=JD.p2pkh({pubkey:t}).output;return{prevOutType:rj.P2PKH,prevOutScript:i,hasWitness:!1,signScript:i,signType:rj.P2PKH,pubkeys:[t],signatures:[void 0]}}(h,f,s,u);Object.assign(h,e)}if(!uj(h))throw Error(h.prevOutType+" not supported")}let d;return d=h.hasWitness?n.hashForWitnessV0(A,h.signScript,h.value,a):n.hashForSignature(A,h.signScript,a),{input:h,ourPubKey:f,keyPair:o,signatureHash:d,hashType:a,useLowR:!!l}}(this.network,this.__INPUTS,this.__needsOutputs.bind(this),this.__TX,e,t,r,n,i,o,this.__USE_LOW_R))}__addInputUnsafe(e,t,r){if(ZD.Transaction.isCoinbaseHash(e))throw new Error("coinbase inputs not supported");const n=e.toString("hex")+":"+t;if(void 0!==this.__PREV_TX_SET[n])throw new Error("Duplicate TxOut: "+n);let i={};if(void 0!==r.script&&(i=sj(r.script,r.witness||[])),void 0!==r.value&&(i.value=r.value),!i.prevOutScript&&r.prevOutScript){let e;if(!i.pubkeys&&!i.signatures){const t=aj(r.prevOutScript);t.pubkeys&&(i.pubkeys=t.pubkeys,i.signatures=t.signatures),e=t.type}i.prevOutScript=r.prevOutScript,i.prevOutType=e||qD.output(r.prevOutScript)}const o=this.__TX.addInput(e,t,r.sequence,r.scriptSig);return this.__INPUTS[o]=i,this.__PREV_TX_SET[n]=!0,o}__build(e){if(!e){if(!this.__TX.ins.length)throw new Error("Transaction has no inputs");if(!this.__TX.outs.length)throw new Error("Transaction has no outputs")}const t=this.__TX.clone();if(this.__INPUTS.forEach(((r,n)=>{if(!r.prevOutType&&!e)throw new Error("Transaction is not complete");const i=cj(r.prevOutType,r,e);if(i)t.setInputScript(n,i.input),t.setWitness(n,i.witness);else{if(!e&&r.prevOutType===rj.NONSTANDARD)throw new Error("Unknown input type");if(!e)throw new Error("Not enough information")}})),!e&&this.__overMaximumFees(t.virtualSize()))throw new Error("Transaction has absurd fees");return t}__canModifyInputs(){return this.__INPUTS.every((e=>!e.signatures||e.signatures.every((e=>!e||0!=(lj(e)&ZD.Transaction.SIGHASH_ANYONECANPAY)))))}__needsOutputs(e){return e===ZD.Transaction.SIGHASH_ALL?0===this.__TX.outs.length:0===this.__TX.outs.length&&this.__INPUTS.some((e=>!!e.signatures&&e.signatures.some((e=>!!e&&!(lj(e)&ZD.Transaction.SIGHASH_NONE)))))}__canModifyOutputs(){const e=this.__TX.ins.length,t=this.__TX.outs.length;return this.__INPUTS.every((r=>void 0===r.signatures||r.signatures.every((r=>{if(!r)return!0;const n=31&lj(r);return n===ZD.Transaction.SIGHASH_NONE||n===ZD.Transaction.SIGHASH_SINGLE&&e<=t}))))}__overMaximumFees(e){const t=this.__INPUTS.reduce(((e,t)=>e+(t.value>>>0)),0),r=this.__TX.outs.reduce(((e,t)=>e+t.value),0);return(t-r)/e>this.maximumFeeRate}}function sj(e,t,r,n){if(0===e.length&&0===t.length)return{};if(!r){let n=qD.input(e,!0),i=qD.witness(t,!0);n===rj.NONSTANDARD&&(n=void 0),i===rj.NONSTANDARD&&(i=void 0),r=n||i}switch(r){case rj.P2WPKH:{const{output:e,pubkey:r,signature:n}=JD.p2wpkh({witness:t});return{prevOutScript:e,prevOutType:rj.P2WPKH,pubkeys:[r],signatures:[n]}}case rj.P2PKH:{const{output:t,pubkey:r,signature:n}=JD.p2pkh({input:e});return{prevOutScript:t,prevOutType:rj.P2PKH,pubkeys:[r],signatures:[n]}}case rj.P2PK:{const{signature:t}=JD.p2pk({input:e});return{prevOutType:rj.P2PK,pubkeys:[void 0],signatures:[t]}}case rj.P2MS:{const{m:t,pubkeys:r,signatures:i}=JD.p2ms({input:e,output:n},{allowIncomplete:!0});return{prevOutType:rj.P2MS,pubkeys:r,signatures:i,maxSignatures:t}}}if(r===rj.P2SH){const{output:r,redeem:n}=JD.p2sh({input:e,witness:t}),i=qD.output(n.output),o=sj(n.input,n.witness,i,n.output);return o.prevOutType?{prevOutScript:r,prevOutType:rj.P2SH,redeemScript:n.output,redeemScriptType:o.prevOutType,witnessScript:o.witnessScript,witnessScriptType:o.witnessScriptType,pubkeys:o.pubkeys,signatures:o.signatures}:{}}if(r===rj.P2WSH){const{output:r,redeem:n}=JD.p2wsh({input:e,witness:t}),i=qD.output(n.output);let o;return o=i===rj.P2WPKH?sj(n.input,n.witness,i):sj(XD.compile(n.witness),[],i,n.output),o.prevOutType?{prevOutScript:r,prevOutType:rj.P2WSH,witnessScript:n.output,witnessScriptType:o.prevOutType,pubkeys:o.pubkeys,signatures:o.signatures}:{}}return{prevOutType:rj.NONSTANDARD,prevOutScript:e}}function aj(e,t){tj(ej.Buffer,e);const r=qD.output(e);switch(r){case rj.P2PKH:{if(!t)return{type:r};const n=JD.p2pkh({output:e}).hash,i=GD.hash160(t);return n.equals(i)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r}}case rj.P2WPKH:{if(!t)return{type:r};const n=JD.p2wpkh({output:e}).hash,i=GD.hash160(t);return n.equals(i)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r}}case rj.P2PK:return{type:r,pubkeys:[JD.p2pk({output:e}).pubkey],signatures:[void 0]};case rj.P2MS:{const t=JD.p2ms({output:e});return{type:r,pubkeys:t.pubkeys,signatures:t.pubkeys.map((()=>{})),maxSignatures:t.m}}}return{type:r}}function cj(e,t,r){const n=t.pubkeys||[];let i=t.signatures||[];switch(e){case rj.P2PKH:if(0===n.length)break;if(0===i.length)break;return JD.p2pkh({pubkey:n[0],signature:i[0]});case rj.P2WPKH:if(0===n.length)break;if(0===i.length)break;return JD.p2wpkh({pubkey:n[0],signature:i[0]});case rj.P2PK:if(0===n.length)break;if(0===i.length)break;return JD.p2pk({signature:i[0]});case rj.P2MS:{const e=t.maxSignatures;i=r?i.map((e=>e||YD.OPS.OP_0)):i.filter((e=>e));const o=!r||e===i.length;return JD.p2ms({m:e,pubkeys:n,signatures:i},{allowIncomplete:r,validate:o})}case rj.P2SH:{const e=cj(t.redeemScriptType,t,r);if(!e)return;return JD.p2sh({redeem:{output:e.output||t.redeemScript,input:e.input,witness:e.witness}})}case rj.P2WSH:{const e=cj(t.witnessScriptType,t,r);if(!e)return;return JD.p2wsh({redeem:{output:t.witnessScript,input:e.input,witness:e.witness}})}}}function uj(e){return void 0!==e.signScript&&void 0!==e.signType&&void 0!==e.pubkeys&&void 0!==e.signatures&&e.signatures.length===e.pubkeys.length&&e.pubkeys.length>0&&(!1===e.hasWitness||void 0!==e.value)}function lj(e){return e.readUInt8(e.length-1)}ZM.TransactionBuilder=oj,Object.defineProperty(gE,"__esModule",{value:!0});const Aj=mE;gE.bip32=Aj;const hj=uO;gE.address=hj;const fj=oL;gE.crypto=fj;const dj=mN;gE.ECPair=dj;const pj=lO;var gj=gE.networks=pj;const mj=AO;var yj=gE.payments=mj;const vj=fO;gE.script=vj;var bj=PN;gE.Block=bj.Block;var wj=dU;gE.Psbt=wj.Psbt;var xj=fO;gE.opcodes=xj.OPS;var _j=HN;gE.Transaction=_j.Transaction;var Bj=ZM;gE.TransactionBuilder=Bj.TransactionBuilder;var Ej={exports:{}};function Sj(e,t){const r=(e=>{const t=(e=>{const t=qB.from({...e,crv:"K-256"},"jwk").toString("blk","public"),r=dE.publicKeyConvert(pE.from(t,"hex"),!0);return pE.from(r).toString("hex")})(e);let r=pE.from(t,"hex"),n=32-r.length;for(;n>0;)r=pE.concat([pE.from("00","hex"),r]),n--;return r})(e.publicKeyJwk);let n="";switch(t.code){case ja.Bitcoin:case ja.Mocknet:case ja.Testnet:n=function(e,t){return yj.p2pkh({pubkey:e,network:gj[t.code]}).address}(r,t);break;case ja.Ethmain:case ja.Ethropst:case ja.Ethrinkeby:n=function(e,t){const r=e.toString("hex"),n=new Gb.ec("secp256k1").keyFromPublic(r,"hex").getPublic().encode("hex").slice(2);return`0x${Ej.exports.keccak256(Buffer.from(n,"hex")).slice(24).toString()}`}(r);break;default:throw new cc("deriveIssuingAddressFromPublicKey",`${hv} - ${pd.i18n.getText("errors","deriveIssuingAddressFromPublicKey")}`)}return n}function Cj(e,t){if(e!==t)throw new cc("compareHashes",rc("errors","ensureHashesEqual"));return!0}function Ij(e,t){if(e!==t)throw new cc("checkMerkleRoot",rc("errors","ensureMerkleRootEqual"));return!0}function kj(e,t,r){let n="";const i=function(e,t){let r=null;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&n.toLowerCase()===t.toLowerCase()&&(r=n);return e[r]}(e,t),o=hd(r);if(i?(i.created&&o<=i.created&&(n="invalidIssuingAddressCreationTime"),i.revoked&&o>=i.revoked&&(n="invalidIssuingAddressRevoked"),i.expires&&o>=i.expires&&(n="invalidIssuingAddressExpired")):n="invalidIssuingAddressUnknown",n)throw new cc("checkAuthenticity",rc("errors",n))}function Pj(e){let t=e.targetHash;const r=e.merkleRoot;try{const r=e.proof||e.path;if(r)for(const e in r){const n=r[e];let i;if(void 0!==n.left)i=av(`${n.left}${t}`),t=sv(i);else{if(void 0===n.right)throw new cc("checkReceipt","Trigger catch error.");i=av(`${t}${n.right}`),t=sv(i)}}}catch(e){throw new cc("checkReceipt",rc("errors","ensureValidReceipt"))}if(t!==r)throw new cc("checkReceipt",rc("errors","invalidMerkleReceipt"))}function Tj(e){if("string"==typeof e&&e.length>0)return e;throw new cc("getTransactionId",rc("errors","isTransactionIdValid"))}!function(e){!function(){var t="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof $c&&$c.versions&&$c.versions.node?n=Fi:i&&(n=self);var o=!n.JS_SHA3_NO_COMMON_JS&&e.exports,s=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),c=[4,1024,262144,67108864],u=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],A=[224,256,384,512],h=[128,256],f=["hex","buffer","arrayBuffer","array","digest"],d={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!s||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var p=function(e,t,r){return function(n){return new P(e,t,e).update(n)[r]()}},g=function(e,t,r){return function(n,i){return new P(e,t,i).update(n)[r]()}},m=function(e,t,r){return function(t,n,i,o){return x["cshake"+e].update(t,n,i,o)[r]()}},y=function(e,t,r){return function(t,n,i,o){return x["kmac"+e].update(t,n,i,o)[r]()}},v=function(e,t,r,n){for(var i=0;i<f.length;++i){var o=f[i];e[o]=t(r,n,o)}return e},b=function(e,t){var r=p(e,t,"hex");return r.create=function(){return new P(e,t,e)},r.update=function(e){return r.create().update(e)},v(r,p,e,t)},w=[{name:"keccak",padding:[1,256,65536,16777216],bits:A,createMethod:b},{name:"sha3",padding:[6,1536,393216,100663296],bits:A,createMethod:b},{name:"shake",padding:[31,7936,2031616,520093696],bits:h,createMethod:function(e,t){var r=g(e,t,"hex");return r.create=function(r){return new P(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},v(r,g,e,t)}},{name:"cshake",padding:c,bits:h,createMethod:function(e,t){var r=d[e],n=m(e,0,"hex");return n.create=function(n,i,o){return i||o?new P(e,t,n).bytepad([i,o],r):x["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},v(n,m,e,t)}},{name:"kmac",padding:c,bits:h,createMethod:function(e,t){var r=d[e],n=y(e,0,"hex");return n.create=function(n,i,o){return new T(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},v(n,y,e,t)}}],x={},_=[],B=0;B<w.length;++B)for(var E=w[B],S=E.bits,C=0;C<S.length;++C){var I=E.name+"_"+S[C];if(_.push(I),x[I]=E.createMethod(S[C],E.padding),"sha3"!==E.name){var k=E.name+S[C];_.push(k),x[k]=x[I]}}function P(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function T(e,t,r){P.call(this,e,t,r)}P.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,o,a=this.blocks,c=this.byteCount,l=e.length,A=this.blockCount,h=0,f=this.s;h<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<A+1;++i)a[i]=0;if(r)for(i=this.start;h<l&&i<c;++h)a[i>>2]|=e[h]<<u[3&i++];else for(i=this.start;h<l&&i<c;++h)(o=e.charCodeAt(h))<128?a[i>>2]|=o<<u[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++h)),a[i>>2]|=(240|o>>18)<<u[3&i++],a[i>>2]|=(128|o>>12&63)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]);if(this.lastByteIndex=i,i>=c){for(this.start=i-c,this.block=a[A],i=0;i<A;++i)f[i]^=a[i];O(f),this.reset=!0}else this.start=i}return this},P.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},P.prototype.encodeString=function(e){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var i=0,o=e.length;if(r)i=o;else for(var a=0;a<e.length;++a){var c=e.charCodeAt(a);c<128?i+=1:c<2048?i+=2:c<55296||c>=57344?i+=3:(c=65536+((1023&c)<<10|1023&e.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(e),i},P.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];O(n)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,c="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],c+=a[e>>4&15]+a[15&e]+a[e>>12&15]+a[e>>8&15]+a[e>>20&15]+a[e>>16&15]+a[e>>28&15]+a[e>>24&15];s%t==0&&(O(r),o=0)}return i&&(e=r[o],c+=a[e>>4&15]+a[15&e],i>1&&(c+=a[e>>12&15]+a[e>>8&15]),i>2&&(c+=a[e>>20&15]+a[e>>16&15])),c},P.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)c[s]=r[o];s%t==0&&O(r)}return i&&(c[o]=r[o],e=e.slice(0,a)),e},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&O(n)}return o&&(e=a<<2,t=n[s],c[e]=255&t,o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},T.prototype=new P,T.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var O=function(e){var t,r,n,i,o,s,a,c,u,A,h,f,d,p,g,m,y,v,b,w,x,_,B,E,S,C,I,k,P,T,O,L,N,U,F,M,R,D,j,Q,H,K,V,z,q,G,W,$,J,X,Y,Z,ee,te,re,ne,ie,oe,se,ae,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],A=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=o^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(A<<1|h>>>31),r=a^(h<<1|A>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(f<<1|d>>>31),r=u^(d<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=A^(i<<1|o>>>31),r=h^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],g=e[1],G=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,k=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,U=e[2]<<1|e[3]>>>31,F=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,M=e[14]<<6|e[15]>>>26,R=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,Y=e[35]<<15|e[34]>>>17,L=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,z=e[8]<<27|e[9]>>>5,q=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,Q=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,B=e[49]<<14|e[48]>>>18,e[0]=p^~m&v,e[1]=g^~y&b,e[10]=E^~C&k,e[11]=S^~I&P,e[20]=U^~M&D,e[21]=F^~R&j,e[30]=z^~G&$,e[31]=q^~W&J,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=m^~v&w,e[3]=y^~b&x,e[12]=C^~k&T,e[13]=I^~P&O,e[22]=M^~D&Q,e[23]=R^~j&H,e[32]=G^~$&X,e[33]=W^~J&Y,e[42]=ne^~oe&ae,e[43]=ie^~se&ce,e[4]=v^~w&_,e[5]=b^~x&B,e[14]=k^~T&L,e[15]=P^~O&N,e[24]=D^~Q&K,e[25]=j^~H&V,e[34]=$^~X&Z,e[35]=J^~Y&ee,e[44]=oe^~ae&ue,e[45]=se^~ce&le,e[6]=w^~_&p,e[7]=x^~B&g,e[16]=T^~L&E,e[17]=O^~N&S,e[26]=Q^~K&U,e[27]=H^~V&F,e[36]=X^~Z&z,e[37]=Y^~ee&q,e[46]=ae^~ue&te,e[47]=ce^~le&re,e[8]=_^~p&m,e[9]=B^~g&y,e[18]=L^~E&C,e[19]=N^~S&I,e[28]=K^~U&M,e[29]=V^~F&R,e[38]=Z^~z&G,e[39]=ee^~q&W,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=l[n],e[1]^=l[n+1]};if(o)e.exports=x;else for(B=0;B<_.length;++B)n[_[B]]=x[_[B]]}()}(Ej);var Oj={};!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,i=1;i<n;++i)t[i]=t[i].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){var n="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),s=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",l=t(n,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");r(n+t(n,i,"[\\+\\-\\.]")+"*"),r(r(s+"|"+t(l,a,"[\\:]"))+"*");var A=r(r("25[0-5]")+"|"+r("2[0-4]"+i)+"|"+r("1"+i+i)+"|"+r("0?[1-9]"+i)+"|0?0?"+i),h=r(A+"\\."+A+"\\."+A+"\\."+A),f=r(o+"{1,4}"),d=r(r(f+"\\:"+f)+"|"+h),p=r(r(f+"\\:")+"{6}"+d),g=r("\\:\\:"+r(f+"\\:")+"{5}"+d),m=r(r(f)+"?\\:\\:"+r(f+"\\:")+"{4}"+d),y=r(r(r(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+r(f+"\\:")+"{3}"+d),v=r(r(r(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+r(f+"\\:")+"{2}"+d),b=r(r(r(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+d),w=r(r(r(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+d),x=r(r(r(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),_=r(r(r(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),B=r([p,g,m,y,v,b,w,x,_].join("|")),E=r(r(l+"|"+s)+"+");r("[vV]"+o+"+\\."+t(l,a,"[\\:]")+"+"),r(r(s+"|"+t(l,a))+"*");var S=r(s+"|"+t(l,a,"[\\:\\@]"));return r(r(s+"|"+t(l,a,"[\\@]"))+"+"),r(r(S+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]",n,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",l,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+B+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+E+")")+"?\\]?$")}}var s=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=36,A=/^xn--/,h=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,g=String.fromCharCode;function m(e){throw new RangeError(d[e])}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(f,".")).split("."),t).join(".")}function v(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t}var b=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:l},w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},x=function(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=l)e=p(e/35);return p(n+36*e/(e+38))},_=function(e){var t=[],r=e.length,n=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&m("not-basic"),t.push(e.charCodeAt(a));for(var c=s>0?s+1:0;c<r;){for(var A=n,h=1,f=l;;f+=l){c>=r&&m("invalid-input");var d=b(e.charCodeAt(c++));(d>=l||d>p((u-n)/h))&&m("overflow"),n+=d*h;var g=f<=o?1:f>=o+26?26:f-o;if(d<g)break;var y=l-g;h>p(u/y)&&m("overflow"),h*=y}var v=t.length+1;o=x(n-A,v,0==A),p(n/v)>u-i&&m("overflow"),i+=p(n/v),n%=v,t.splice(n++,0,i)}return String.fromCodePoint.apply(String,t)},B=function(e){var t=[],r=(e=v(e)).length,n=128,i=0,o=72,s=!0,a=!1,c=void 0;try{for(var A,h=e[Symbol.iterator]();!(s=(A=h.next()).done);s=!0){var f=A.value;f<128&&t.push(g(f))}}catch(e){a=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(a)throw c}}var d=t.length,y=d;for(d&&t.push("-");y<r;){var b=u,_=!0,B=!1,E=void 0;try{for(var S,C=e[Symbol.iterator]();!(_=(S=C.next()).done);_=!0){var I=S.value;I>=n&&I<b&&(b=I)}}catch(e){B=!0,E=e}finally{try{!_&&C.return&&C.return()}finally{if(B)throw E}}var k=y+1;b-n>p((u-i)/k)&&m("overflow"),i+=(b-n)*k,n=b;var P=!0,T=!1,O=void 0;try{for(var L,N=e[Symbol.iterator]();!(P=(L=N.next()).done);P=!0){var U=L.value;if(U<n&&++i>u&&m("overflow"),U==n){for(var F=i,M=l;;M+=l){var R=M<=o?1:M>=o+26?26:M-o;if(F<R)break;var D=F-R,j=l-R;t.push(g(w(R+D%j,0))),F=p(D/j)}t.push(g(w(F,0))),o=x(i,k,y==d),i=0,++y}}}catch(e){T=!0,O=e}finally{try{!P&&N.return&&N.return()}finally{if(T)throw O}}++i,++n}return t.join("")},E=function(e){return y(e,(function(e){return h.test(e)?"xn--"+B(e):e}))},S=function(e){return y(e,(function(e){return A.test(e)?_(e.slice(4).toLowerCase()):e}))},C={};function I(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function k(e){for(var t="",r=0,n=e.length;r<n;){var i=parseInt(e.substr(r+1,2),16);if(i<128)t+=String.fromCharCode(i),r+=3;else if(i>=194&&i<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(i>=224){if(n-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function P(e,t){function r(e){var r=k(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,I).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,I).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,I).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,I).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,I).replace(t.PCT_ENCODED,i)),e}function T(e){return e.replace(/^0*(.*)/,"$1")||"0"}function O(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=c(r,2)[1];return n?n.split(".").map(T).join("."):e}function L(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=c(r,3),i=n[1],o=n[2];if(i){for(var s=i.toLowerCase().split("::").reverse(),a=c(s,2),u=a[0],l=a[1],A=l?l.split(":").map(T):[],h=u.split(":").map(T),f=t.IPV4ADDRESS.test(h[h.length-1]),d=f?7:8,p=h.length-d,g=Array(d),m=0;m<d;++m)g[m]=A[m]||h[p+m]||"";f&&(g[d-1]=O(g[d-1],t));var y=g.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],v=void 0;if(y&&y.length>1){var b=g.slice(0,y.index),w=g.slice(y.index+y.length);v=b.join(":")+"::"+w.join(":")}else v=g.join(":");return o&&(v+="%"+o),v}return e}var N=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,U=void 0==="".match(/(){0}/)[1];function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(N);if(i){U?(r.scheme=i[1],r.userinfo=i[3],r.host=i[4],r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=i[7],r.fragment=i[8],isNaN(r.port)&&(r.port=i[5])):(r.scheme=i[1]||void 0,r.userinfo=-1!==e.indexOf("@")?i[3]:void 0,r.host=-1!==e.indexOf("//")?i[4]:void 0,r.port=parseInt(i[5],10),r.path=i[6]||"",r.query=-1!==e.indexOf("?")?i[7]:void 0,r.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),r.host&&(r.host=L(O(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=C[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)P(r,n);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=E(r.host.replace(n.PCT_ENCODED,k).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}P(r,s)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function M(e,t){var r=!1!==t.iri?a:s,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(L(O(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var R=/^\.\.?\//,D=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,Q=/^\/?(?:.|\n)*?(?=\/|$)/;function H(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,"");else if(e.match(D))e=e.replace(D,"/");else if(e.match(j))e=e.replace(j,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(Q);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:s,n=[],i=C[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?S(e.host):E(e.host.replace(r.PCT_ENCODED,k).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}P(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var o=M(e,t);if(void 0!==o&&("suffix"!==t.reference&&n.push("//"),n.push(o),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||i&&i.absolutePath||(c=H(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),n.push(c)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function V(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=F(K(e,r),r),t=F(K(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=H(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=H(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=H(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=H(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function z(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,k)}var q={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},G={scheme:"https",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize};function W(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var $={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=W(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(W(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=c(r,2),i=n[0],o=n[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},J={scheme:"wss",domainHost:$.domainHost,parse:$.parse,serialize:$.serialize},X={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",ee=r(r("%[EFef]"+Z+"%"+Z+Z+"%"+Z+Z)+"|"+r("%[89A-Fa-f]"+Z+"%"+Z+Z)+"|"+r("%"+Z+Z)),te=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),re=new RegExp(Y,"g"),ne=new RegExp(ee,"g"),ie=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',te),"g"),oe=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),se=oe;function ae(e){var t=k(e);return t.match(re)?t:e}var ce={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var i=!1,o={},s=r.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),A=0,h=l.length;A<h;++A)n.push(l[A]);break;case"subject":r.subject=z(u[1],t);break;case"body":r.body=z(u[1],t);break;default:i=!0,o[z(u[0],t)]=z(u[1],t)}}i&&(r.headers=o)}r.query=void 0;for(var f=0,d=n.length;f<d;++f){var p=n[f].split("@");if(p[0]=z(p[0]),t.unicodeSupport)p[1]=z(p[1],t).toLowerCase();else try{p[1]=E(z(p[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[f]=p.join("@")}return r},serialize:function(e,t){var r=e,n=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(n){for(var o=0,s=n.length;o<s;++o){var a=String(n[o]),c=a.lastIndexOf("@"),u=a.slice(0,c).replace(ne,ae).replace(ne,i).replace(ie,I),l=a.slice(c+1);try{l=t.iri?S(l):E(z(l,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}n[o]=u+"@"+l}r.path=n.join(",")}var A=e.headers=e.headers||{};e.subject&&(A.subject=e.subject),e.body&&(A.body=e.body);var h=[];for(var f in A)A[f]!==X[f]&&h.push(f.replace(ne,ae).replace(ne,i).replace(oe,I)+"="+A[f].replace(ne,ae).replace(ne,i).replace(se,I));return h.length&&(r.query=h.join("&")),r}},ue=/^([^\:]+)\:(.*)/,le={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ue),n=e;if(r){var i=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),s=r[2],a=i+":"+(t.nid||o),c=C[a];n.nid=o,n.nss=s,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,i=r+":"+(t.nid||n),o=C[i];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(n||t.nid)+":"+a,s}},Ae=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,he={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(Ae)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};C[q.scheme]=q,C[G.scheme]=G,C[$.scheme]=$,C[J.scheme]=J,C[ce.scheme]=ce,C[le.scheme]=le,C[he.scheme]=he,e.SCHEMES=C,e.pctEncChar=I,e.pctDecChars=k,e.parse=F,e.removeDotSegments=H,e.serialize=K,e.resolveComponents=V,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return K(V(F(e,n),F(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=K(F(e,t),t):"object"===n(e)&&(e=F(K(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=K(F(e,r),r):"object"===n(e)&&(e=K(e,r)),"string"==typeof t?t=K(F(t,r),r):"object"===n(t)&&(t=K(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,I)},e.unescapeComponent=z,Object.defineProperty(e,"__esModule",{value:!0})}(Oj);var Lj=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r},Nj={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:Uj,checkDataTypes:function(e,t,r){if(1===e.length)return Uj(e[0],t,r,!0);var n="",i=Mj(e);for(var o in i.array&&i.object&&(n=i.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)n+=(n?" && ":"")+Uj(o,t,r,!0);return n},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var i=t[n];(Fj[i]||"array"===e&&"array"===i)&&(r[r.length]=i)}if(r.length)return r}else{if(Fj[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:Mj,getProperty:jj,escapeQuotes:Qj,equal:Lj,ucs2length:function(e){for(var t,r=0,n=e.length,i=0;i<n;)r++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<n&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return r},varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var r in e)if(!t[r])return r},toQuotedString:Hj,getPathExpr:function(e,t,r,n){return zj(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){return zj(e,Hj(r?"/"+qj(t):jj(t)))},getData:function(e,t,r){var n,i,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!Kj.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(s=e.match(Vj)))throw new Error("Invalid JSON-pointer: "+e);if(n=+s[1],"#"==(i=s[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(o="data"+(t-n||""),!i)return o}for(var a=o,c=i.split("/"),u=0;u<c.length;u++){var l=c[u];l&&(a+=" && "+(o+=jj(Gj(l))))}return a},unescapeFragment:function(e){return Gj(decodeURIComponent(e))},unescapeJsonPointer:Gj,escapeFragment:function(e){return encodeURIComponent(qj(e))},escapeJsonPointer:qj};function Uj(e,t,r,n){var i=n?" !== ":" === ",o=n?" || ":" && ",s=n?"!":"",a=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return s+"Array.isArray("+t+")";case"object":return"("+s+t+o+"typeof "+t+i+'"object"'+o+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+o+a+"("+t+" % 1)"+o+t+i+t+(r?o+s+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(r?o+s+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}var Fj=Mj(["string","number","integer","boolean","null"]);function Mj(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var Rj=/^[a-z$_][a-z$_0-9]*$/i,Dj=/'|\\/g;function jj(e){return"number"==typeof e?"["+e+"]":Rj.test(e)?"."+e:"['"+Qj(e)+"']"}function Qj(e){return e.replace(Dj,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Hj(e){return"'"+Qj(e)+"'"}var Kj=/^\/(?:[^~]|~0|~1)*$/,Vj=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function zj(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function qj(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Gj(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var Wj=Nj,$j=function(e){Wj.copy(e,this)},Jj={exports:{}},Xj=Jj.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),Yj(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function Yj(e,t,r,n,i,o,s,a,c,u){if(n&&"object"==typeof n&&!Array.isArray(n)){for(var l in t(n,i,o,s,a,c,u),n){var A=n[l];if(Array.isArray(A)){if(l in Xj.arrayKeywords)for(var h=0;h<A.length;h++)Yj(e,t,r,A[h],i+"/"+l+"/"+h,o,i,l,n,h)}else if(l in Xj.propsKeywords){if(A&&"object"==typeof A)for(var f in A)Yj(e,t,r,A[f],i+"/"+l+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),o,i,l,n,f)}else(l in Xj.keywords||e.allKeys&&!(l in Xj.skipKeywords))&&Yj(e,t,r,A,i+"/"+l,o,i,l,n)}r(n,i,o,s,a,c,u)}}Xj.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Xj.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Xj.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Xj.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var Zj=Oj,eQ=Lj,tQ=Nj,rQ=$j,nQ=Jj.exports,iQ=oQ;function oQ(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return oQ.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof rQ)return AQ(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var i,o,s,a=sQ.call(this,t,r);return a&&(i=a.schema,t=a.root,s=a.baseId),i instanceof rQ?o=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(o=AQ(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),o}function sQ(e,t){var r=Zj.parse(t),n=pQ(r),i=dQ(this._getId(e.schema));if(0===Object.keys(e.schema).length||n!==i){var o=mQ(n),s=this._refs[o];if("string"==typeof s)return aQ.call(this,e,s,r);if(s instanceof rQ)s.validate||this._compile(s),e=s;else{if(!((s=this._schemas[o])instanceof rQ))return;if(s.validate||this._compile(s),o==mQ(t))return{schema:s,root:e,baseId:i};e=s}if(!e.schema)return;i=dQ(this._getId(e.schema))}return uQ.call(this,r,i,e.schema,e)}function aQ(e,t,r){var n=sQ.call(this,e,t);if(n){var i=n.schema,o=n.baseId;e=n.root;var s=this._getId(i);return s&&(o=yQ(o,s)),uQ.call(this,r,o,i,e)}}oQ.normalizeId=mQ,oQ.fullPath=dQ,oQ.url=yQ,oQ.ids=function(e){var t=mQ(this._getId(e)),r={"":t},n={"":dQ(t,!1)},i={},o=this;return nQ(e,{allKeys:!0},(function(e,t,s,a,c,u,l){if(""!==t){var A=o._getId(e),h=r[a],f=n[a]+"/"+c;if(void 0!==l&&(f+="/"+("number"==typeof l?l:tQ.escapeFragment(l))),"string"==typeof A){A=h=mQ(h?Zj.resolve(h,A):A);var d=o._refs[A];if("string"==typeof d&&(d=o._refs[d]),d&&d.schema){if(!eQ(e,d.schema))throw new Error('id "'+A+'" resolves to more than one schema')}else if(A!=mQ(f))if("#"==A[0]){if(i[A]&&!eQ(e,i[A]))throw new Error('id "'+A+'" resolves to more than one schema');i[A]=e}else o._refs[A]=f}r[t]=h,n[t]=f}})),i},oQ.inlineRef=AQ,oQ.schema=sQ;var cQ=tQ.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function uQ(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var s=i[o];if(s){if(void 0===(r=r[s=tQ.unescapeFragment(s)]))break;var a;if(!cQ[s]&&((a=this._getId(r))&&(t=yQ(t,a)),r.$ref)){var c=yQ(t,r.$ref),u=sQ.call(this,n,c);u&&(r=u.schema,n=u.root,t=u.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var lQ=tQ.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function AQ(e,t){return!1!==t&&(void 0===t||!0===t?hQ(e):t?fQ(e)<=t:void 0)}function hQ(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!hQ(t))return!1}else for(var n in e){if("$ref"==n)return!1;if("object"==typeof(t=e[n])&&!hQ(t))return!1}return!0}function fQ(e){var t,r=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&(r+=fQ(t)),r==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(lQ[i])r++;else if("object"==typeof(t=e[i])&&(r+=fQ(t)+1),r==1/0)return 1/0}return r}function dQ(e,t){return!1!==t&&(e=mQ(e)),pQ(Zj.parse(e))}function pQ(e){return Zj.serialize(e).split("#")[0]+"#"}var gQ=/#\/?$/;function mQ(e){return e?e.replace(gQ,""):""}function yQ(e,t){return t=mQ(t),Zj.resolve(e,t)}var vQ=iQ,bQ={Validation:xQ((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:xQ(wQ)};function wQ(e,t,r){this.message=r||wQ.message(e,t),this.missingRef=vQ.url(e,t),this.missingSchema=vQ.normalizeId(vQ.fullPath(this.missingRef))}function xQ(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}wQ.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var _Q=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r="boolean"==typeof t.cycles&&t.cycles,n=t.cmp&&function(e){return function(t){return function(r,n){var i={key:r,value:t[r]},o={key:n,value:t[n]};return e(i,o)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var o,s;if(Array.isArray(t)){for(s="[",o=0;o<t.length;o++)o&&(s+=","),s+=e(t[o])||"null";return s+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=i.push(t)-1,c=Object.keys(t).sort(n&&n(t));for(s="",o=0;o<c.length;o++){var u=c[o],l=e(t[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return i.splice(a,1),"{"+s+"}"}}(e)},BQ=function(e,t,r){var n="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var a=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(a){var c="unknown keyword: "+a;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var u=e.level,l=e.dataLevel,A=e.schema[t],h=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,p="data"+(l||""),g="valid"+u;if(!1===e.schema){e.isTop?d=!0:n+=" var "+g+" = false; ",(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var m=n;n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=i?" return data; ":" validate.errors = null; return true; ":n+=" var "+g+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var y=e.isTop;if(u=e.level=0,l=e.dataLevel=0,p="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var v="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{if(u=e.level,p="data"+((l=e.dataLevel)||""),s&&(e.baseId=e.resolve.url(e.baseId,s)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+u+" = errors;"}g="valid"+u,d=!e.opts.allErrors;var b="",w="",x=e.schema.type,_=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(_?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],_=!0)),_&&1==x.length&&(x=x[0],_=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var B=e.util.coerceToTypes(e.opts.coerceTypes,x);var E=e.RULES.types[x];if(B||_||!0===E||E&&!X(E)){h=e.schemaPath+".type",f=e.errSchemaPath+"/type",h=e.schemaPath+".type",f=e.errSchemaPath+"/type";var S=_?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[S](x,p,e.opts.strictNumbers,!0)+") { ",B){var C="dataType"+u,I="coerced"+u;n+=" var "+C+" = typeof "+p+"; var "+I+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+C+" == 'object' && Array.isArray("+p+") && "+p+".length == 1) { "+p+" = "+p+"[0]; "+C+" = typeof "+p+"; if ("+e.util.checkDataType(e.schema.type,p,e.opts.strictNumbers)+") "+I+" = "+p+"; } "),n+=" if ("+I+" !== undefined) ; ";var k=B;if(k)for(var P,T=-1,O=k.length-1;T<O;)"string"==(P=k[T+=1])?n+=" else if ("+C+" == 'number' || "+C+" == 'boolean') "+I+" = '' + "+p+"; else if ("+p+" === null) "+I+" = ''; ":"number"==P||"integer"==P?(n+=" else if ("+C+" == 'boolean' || "+p+" === null || ("+C+" == 'string' && "+p+" && "+p+" == +"+p+" ","integer"==P&&(n+=" && !("+p+" % 1)"),n+=")) "+I+" = +"+p+"; "):"boolean"==P?n+=" else if ("+p+" === 'false' || "+p+" === 0 || "+p+" === null) "+I+" = false; else if ("+p+" === 'true' || "+p+" === 1) "+I+" = true; ":"null"==P?n+=" else if ("+p+" === '' || "+p+" === 0 || "+p+" === false) "+I+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(n+=" else if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+p+" == null) "+I+" = ["+p+"]; ");n+=" else {   ",(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",n+=_?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",m=n,n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+I+" !== undefined) {  ";var L=l?"data"+(l-1||""):"parentData";n+=" "+p+" = "+I+"; ",l||(n+="if ("+L+" !== undefined)"),n+=" "+L+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+I+"; } "}else(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",n+=_?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",m=n,n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";n+=" } "}}if(e.schema.$ref&&!o)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(n+=" } if (errors === ",n+=y?"0":"errs_"+u,n+=") { ",w+="}");else{var N=e.RULES;if(N)for(var U=-1,F=N.length-1;U<F;)if(X(E=N[U+=1])){if(E.type&&(n+=" if ("+e.util.checkDataType(E.type,p,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==E.type&&e.schema.properties){A=e.schema.properties;var M=Object.keys(A);if(M)for(var R,D=-1,j=M.length-1;D<j;)if(void 0!==(K=A[R=M[D+=1]]).default){var Q=p+e.util.getProperty(R);if(e.compositeRule){if(e.opts.strictDefaults){if(v="default is ignored for: "+Q,"log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}}else n+=" if ("+Q+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+Q+" === null || "+Q+" === '' "),n+=" ) "+Q+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(K.default)+" ":n+=" "+JSON.stringify(K.default)+" ",n+="; "}}else if("array"==E.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){T=-1;for(var K,V=H.length-1;T<V;)if(void 0!==(K=H[T+=1]).default)if(Q=p+"["+T+"]",e.compositeRule){if(e.opts.strictDefaults){if(v="default is ignored for: "+Q,"log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}}else n+=" if ("+Q+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+Q+" === null || "+Q+" === '' "),n+=" ) "+Q+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(K.default)+" ":n+=" "+JSON.stringify(K.default)+" ",n+="; "}}var z,q=E.rules;if(q)for(var G,W=-1,$=q.length-1;W<$;)if(Y(G=q[W+=1])){var J=G.code(e,G.keyword,E.type);J&&(n+=" "+J+" ",d&&(b+="}"))}if(d&&(n+=" "+b+" ",b=""),E.type&&(n+=" } ",x&&x===E.type&&!B))n+=" else { ",h=e.schemaPath+".type",f=e.errSchemaPath+"/type",(z=z||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",n+=_?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",m=n,n=z.pop(),!e.compositeRule&&d?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ";d&&(n+=" if (errors === ",n+=y?"0":"errs_"+u,n+=") { ",w+="}")}}function X(e){for(var t=e.rules,r=0;r<t.length;r++)if(Y(t[r]))return!0}function Y(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return d&&(n+=" "+w+" "),y?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+g+" = errors === errs_"+u+";",n},EQ=iQ,SQ=Nj,CQ=bQ,IQ=_Q,kQ=BQ,PQ=SQ.ucs2length,TQ=Lj,OQ=CQ.Validation;function LQ(e,t,r){var n=UQ.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function NQ(e,t,r){var n=UQ.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function UQ(e,t,r){for(var n=0;n<this._compilations.length;n++){var i=this._compilations[n];if(i.schema==e&&i.root==t&&i.baseId==r)return n}return-1}function FQ(e,t){return"var pattern"+e+" = new RegExp("+SQ.toQuotedString(t[e])+");"}function MQ(e){return"var default"+e+" = defaults["+e+"];"}function RQ(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function DQ(e){return"var customRule"+e+" = customRules["+e+"];"}function jQ(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}var QQ={exports:{}},HQ=QQ.exports=function(){this._cache={}};HQ.prototype.put=function(e,t){this._cache[e]=t},HQ.prototype.get=function(e){return this._cache[e]},HQ.prototype.del=function(e){delete this._cache[e]},HQ.prototype.clear=function(){this._cache={}};var KQ=Nj,VQ=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,zQ=[0,31,28,31,30,31,30,31,31,30,31,30,31],qQ=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,GQ=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,WQ=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,$Q=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,JQ=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,XQ=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,YQ=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ZQ=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,eH=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,tH=rH;function rH(e){return e="full"==e?"full":"fast",KQ.copy(rH[e])}function nH(e){var t=e.match(VQ);if(!t)return!1;var r=+t[1],n=+t[2],i=+t[3];return n>=1&&n<=12&&i>=1&&i<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:zQ[n])}function iH(e,t){var r=e.match(qQ);if(!r)return!1;var n=r[1],i=r[2],o=r[3],s=r[5];return(n<=23&&i<=59&&o<=59||23==n&&59==i&&60==o)&&(!t||s)}rH.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":$Q,url:JQ,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:GQ,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:cH,uuid:XQ,"json-pointer":YQ,"json-pointer-uri-fragment":ZQ,"relative-json-pointer":eH},rH.full={date:nH,time:iH,"date-time":function(e){var t=e.split(oH);return 2==t.length&&nH(t[0])&&iH(t[1],!0)},uri:function(e){return sH.test(e)&&WQ.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":$Q,url:JQ,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:GQ,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:cH,uuid:XQ,"json-pointer":YQ,"json-pointer-uri-fragment":ZQ,"relative-json-pointer":eH};var oH=/t|\s/i,sH=/\/|:/,aH=/[^\\]\\Z/;function cH(e){if(aH.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var uH=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a;var f="maximum"==t,d=f?"exclusiveMaximum":"exclusiveMinimum",p=e.schema[d],g=e.opts.$data&&p&&p.$data,m=f?"<":">",y=f?">":"<",v=void 0;if(!h&&"number"!=typeof a&&void 0!==a)throw new Error(t+" must be number");if(!g&&void 0!==p&&"number"!=typeof p&&"boolean"!=typeof p)throw new Error(d+" must be number or boolean");if(g){var b,w=e.util.getData(p.$data,s,e.dataPathArr),x="exclusive"+o,_="exclType"+o,B="exclIsNumber"+o,E="' + "+(C="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+w+"; ",i+=" var "+x+"; var "+_+" = typeof "+(w="schemaExcl"+o)+"; if ("+_+" != 'boolean' && "+_+" != 'undefined' && "+_+" != 'number') { ",v=d,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ";var S=i;i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+_+" == 'number' ? ( ("+x+" = "+n+" === undefined || "+w+" "+m+"= "+n+") ? "+A+" "+y+"= "+w+" : "+A+" "+y+" "+n+" ) : ( ("+x+" = "+w+" === true) ? "+A+" "+y+"= "+n+" : "+A+" "+y+" "+n+" ) || "+A+" !== "+A+") { var op"+o+" = "+x+" ? '"+m+"' : '"+m+"='; ",void 0===a&&(v=d,u=e.errSchemaPath+"/"+d,n=w,h=g)}else if(E=m,(B="number"==typeof p)&&h){var C="'"+E+"'";i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" ( "+n+" === undefined || "+p+" "+m+"= "+n+" ? "+A+" "+y+"= "+p+" : "+A+" "+y+" "+n+" ) || "+A+" !== "+A+") { "}else B&&void 0===a?(x=!0,v=d,u=e.errSchemaPath+"/"+d,n=p,y+="="):(B&&(n=Math[f?"min":"max"](p,a)),p===(!B||n)?(x=!0,v=d,u=e.errSchemaPath+"/"+d,y+="="):(x=!1,E+="=")),C="'"+E+"'",i+=" if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+A+" "+y+" "+n+" || "+A+" !== "+A+") { ";return v=v||t,(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+C+", limit: "+n+", exclusive: "+x+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+E+" ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ",S=i,i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i},lH=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" "+A+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var f=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},AH=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");var f="maxLength"==t?">":"<";i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?i+=" "+A+".length ":i+=" ucs2length("+A+") ",i+=" "+f+" "+n+") { ";var d=t,p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ";var g=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},hH=function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),i+=" Object.keys("+A+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var f=t,d=d||[];d.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=h?"' + "+n+" + '":""+a,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ";var p=i;return i=d.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},fH={$ref:function(e,t,r){var n,i,o=" ",s=e.level,a=e.dataLevel,c=e.schema[t],u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(a||""),h="valid"+s;if("#"==c||"#/"==c)e.isRoot?(n=e.async,i="validate"):(n=!0===e.root.schema.$async,i="root.refVal[0]");else{var f=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===f){var d=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(d),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),o+=" } "):o+=" {} ";var p=o;o=y.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+p+"]); ":o+=" validate.errors = ["+p+"]; return false; ":o+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,d);e.logger.warn(d),l&&(o+=" if (true) { ")}}else if(f.inline){var g=e.util.copy(e);g.level++;var m="valid"+g.level;g.schema=f.schema,g.schemaPath="",g.errSchemaPath=c,o+=" "+e.validate(g).replace(/validate\.schema/g,f.code)+" ",l&&(o+=" if ("+m+") { ")}else n=!0===f.$async||e.async&&!1!==f.$async,i=f.code}if(i){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+A+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var v=o+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+h+"; "),o+=" try { await "+v+"; ",l&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+h+" = false; "),o+=" } ",l&&(o+=" if ("+h+") { ")}else o+=" if (!"+v+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o},allOf:function(e,t,r){var n=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var l="valid"+c.level,A=c.baseId,h=!0,f=i;if(f)for(var d,p=-1,g=f.length-1;p<g;)d=f[p+=1],(e.opts.strictKeywords?"object"==typeof d&&Object.keys(d).length>0||!1===d:e.util.schemaHasRules(d,e.RULES.all))&&(h=!1,c.schema=d,c.schemaPath=o+"["+p+"]",c.errSchemaPath=s+"/"+p,n+="  "+e.validate(c)+" ",c.baseId=A,a&&(n+=" if ("+l+") { ",u+="}"));return a&&(n+=h?" if (true) { ":" "+u.slice(0,-1)+" "),n},anyOf:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,g=s.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(g){var m=f.baseId;n+=" var "+h+" = errors; var "+A+" = false;  ";var y=e.compositeRule;e.compositeRule=f.compositeRule=!0;var v=s;if(v)for(var b,w=-1,x=v.length-1;w<x;)b=v[w+=1],f.schema=b,f.schemaPath=a+"["+w+"]",f.errSchemaPath=c+"/"+w,n+="  "+e.validate(f)+" ",f.baseId=m,n+=" "+A+" = "+A+" || "+p+"; if (!"+A+") { ",d+="}";e.compositeRule=f.compositeRule=y,n+=" "+d+" if (!"+A+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else u&&(n+=" if (true) { ");return n},$comment:function(e,t,r){var n=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t;e.opts.allErrors;var s=e.util.toQuotedString(i);return!0===e.opts.$comment?n+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+s+", "+e.util.toQuotedString(o)+", validate.root.schema);"),n},const:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; "),h||(n+=" var schema"+i+" = validate.schema"+a+";"),n+="var "+A+" = equal("+l+", schema"+i+"); if (!"+A+") {   ";var f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var d=n;return n=f.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+d+"]); ":n+=" validate.errors = ["+d+"]; return false; ":n+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n},contains:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h="errs__"+i,f=e.util.copy(e);f.level++;var d="valid"+f.level,p="i"+i,g=f.dataLevel=e.dataLevel+1,m="data"+g,y=e.baseId,v=e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all);if(n+="var "+h+" = errors;var "+A+";",v){var b=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=s,f.schemaPath=a,f.errSchemaPath=c,n+=" var "+d+" = false; for (var "+p+" = 0; "+p+" < "+l+".length; "+p+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var w=l+"["+p+"]";f.dataPathArr[g]=p;var x=e.validate(f);f.baseId=y,e.util.varOccurences(x,m)<2?n+=" "+e.util.varReplace(x,m,w)+" ":n+=" var "+m+" = "+w+"; "+x+" ",n+=" if ("+d+") break; }  ",e.compositeRule=f.compositeRule=b,n+="  if (!"+d+") {"}else n+=" if ("+l+".length == 0) {";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var B=n;return n=_.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",v&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n},dependencies:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="errs__"+i,h=e.util.copy(e),f="";h.level++;var d="valid"+h.level,p={},g={},m=e.opts.ownProperties;for(w in s)if("__proto__"!=w){var y=s[w],v=Array.isArray(y)?g:p;v[w]=y}n+="var "+A+" = errors;";var b=e.errorPath;for(var w in n+="var missing"+i+";",g)if((v=g[w]).length){if(n+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",m&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),u){n+=" && ( ";var x=v;if(x)for(var _=-1,B=x.length-1;_<B;)P=x[_+=1],_&&(n+=" || "),n+=" ( ( "+(N=l+(L=e.util.getProperty(P)))+" === undefined ",m&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:L)+") ) ";n+=")) {  ";var E="missing"+i,S="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,E,!0):b+" + "+E);var C=C||[];C.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+S+"', depsCount: "+v.length+", deps: '"+e.util.escapeQuotes(1==v.length?v[0]:v.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==v.length?n+="property "+e.util.escapeQuotes(v[0]):n+="properties "+e.util.escapeQuotes(v.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var I=n;n=C.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var k=v;if(k)for(var P,T=-1,O=k.length-1;T<O;){P=k[T+=1];var L=e.util.getProperty(P),N=(S=e.util.escapeQuotes(P),l+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,P,e.opts.jsonPointers)),n+=" if ( "+N+" === undefined ",m&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+S+"', depsCount: "+v.length+", deps: '"+e.util.escapeQuotes(1==v.length?v[0]:v.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==v.length?n+="property "+e.util.escapeQuotes(v[0]):n+="properties "+e.util.escapeQuotes(v.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",u&&(f+="}",n+=" else { ")}e.errorPath=b;var U=h.baseId;for(var w in p)y=p[w],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(n+=" "+d+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",m&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),n+=") { ",h.schema=y,h.schemaPath=a+e.util.getProperty(w),h.errSchemaPath=c+"/"+e.util.escapeFragment(w),n+="  "+e.validate(h)+" ",h.baseId=U,n+=" }  ",u&&(n+=" if ("+d+") { ",f+="}"));return u&&(n+="   "+f+" if ("+A+" == errors) {"),n},enum:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var f="i"+i,d="schema"+i;h||(n+=" var "+d+" = validate.schema"+a+";"),n+="var "+A+";",h&&(n+=" if (schema"+i+" === undefined) "+A+" = true; else if (!Array.isArray(schema"+i+")) "+A+" = false; else {"),n+=A+" = false;for (var "+f+"=0; "+f+"<"+d+".length; "+f+"++) if (equal("+l+", "+d+"["+f+"])) { "+A+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+A+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var g=n;return n=p.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n},format:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||"");if(!1===e.opts.format)return u&&(n+=" if (true) { "),n;var A,h=e.opts.$data&&s&&s.$data;h?(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",A="schema"+i):A=s;var f=e.opts.unknownFormats,d=Array.isArray(f);if(h)n+=" var "+(p="format"+i)+" = formats["+A+"]; var "+(g="isObject"+i)+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; var "+(m="formatType"+i)+" = "+g+" && "+p+".type || 'string'; if ("+g+") { ",e.async&&(n+=" var async"+i+" = "+p+".async; "),n+=" "+p+" = "+p+".validate; } if (  ",h&&(n+=" ("+A+" !== undefined && typeof "+A+" != 'string') || "),n+=" (","ignore"!=f&&(n+=" ("+A+" && !"+p+" ",d&&(n+=" && self._opts.unknownFormats.indexOf("+A+") == -1 "),n+=") || "),n+=" ("+p+" && "+m+" == '"+r+"' && !(typeof "+p+" == 'function' ? ",e.async?n+=" (async"+i+" ? await "+p+"("+l+") : "+p+"("+l+")) ":n+=" "+p+"("+l+") ",n+=" : "+p+".test("+l+"))))) {";else{var p;if(!(p=e.formats[s])){if("ignore"==f)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(n+=" if (true) { "),n;if(d&&f.indexOf(s)>=0)return u&&(n+=" if (true) { "),n;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,m=(g="object"==typeof p&&!(p instanceof RegExp)&&p.validate)&&p.type||"string";if(g){var y=!0===p.async;p=p.validate}if(m!=r)return u&&(n+=" if (true) { "),n;if(y){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(v="formats"+e.util.getProperty(s)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var v="formats"+e.util.getProperty(s);g&&(v+=".validate"),n+="function"==typeof p?" "+v+"("+l+") ":" "+v+".test("+l+") ",n+=") { "}}var b=b||[];b.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",n+=h?""+A:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+A+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+a:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u&&(n+=" else { "),n},if:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h="errs__"+i,f=e.util.copy(e);f.level++;var d="valid"+f.level,p=e.schema.then,g=e.schema.else,m=void 0!==p&&(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0||!1===p:e.util.schemaHasRules(p,e.RULES.all)),y=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),v=f.baseId;if(m||y){var b;f.createErrors=!1,f.schema=s,f.schemaPath=a,f.errSchemaPath=c,n+=" var "+h+" = errors; var "+A+" = true;  ";var w=e.compositeRule;e.compositeRule=f.compositeRule=!0,n+="  "+e.validate(f)+" ",f.baseId=v,f.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=w,m?(n+=" if ("+d+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(f)+" ",f.baseId=v,n+=" "+A+" = "+d+"; ",m&&y?n+=" var "+(b="ifClause"+i)+" = 'then'; ":b="'then'",n+=" } ",y&&(n+=" else { ")):n+=" if (!"+d+") { ",y&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(f)+" ",f.baseId=v,n+=" "+A+" = "+d+"; ",m&&y?n+=" var "+(b="ifClause"+i)+" = 'else'; ":b="'else'",n+=" } "),n+=" if (!"+A+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",u&&(n+=" else { ")}else u&&(n+=" if (true) { ");return n},items:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,g="i"+i,m=f.dataLevel=e.dataLevel+1,y="data"+m,v=e.baseId;if(n+="var "+h+" = errors;var "+A+";",Array.isArray(s)){var b=e.schema.additionalItems;if(!1===b){n+=" "+A+" = "+l+".length <= "+s.length+"; ";var w=c;c=e.errSchemaPath+"/additionalItems",n+="  if (!"+A+") {   ";var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var _=n;n=x.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c=w,u&&(d+="}",n+=" else { ")}var B=s;if(B)for(var E,S=-1,C=B.length-1;S<C;)if(E=B[S+=1],e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0||!1===E:e.util.schemaHasRules(E,e.RULES.all)){n+=" "+p+" = true; if ("+l+".length > "+S+") { ";var I=l+"["+S+"]";f.schema=E,f.schemaPath=a+"["+S+"]",f.errSchemaPath=c+"/"+S,f.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),f.dataPathArr[m]=S;var k=e.validate(f);f.baseId=v,e.util.varOccurences(k,y)<2?n+=" "+e.util.varReplace(k,y,I)+" ":n+=" var "+y+" = "+I+"; "+k+" ",n+=" }  ",u&&(n+=" if ("+p+") { ",d+="}")}"object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(f.schema=b,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+p+" = true; if ("+l+".length > "+s.length+") {  for (var "+g+" = "+s.length+"; "+g+" < "+l+".length; "+g+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),I=l+"["+g+"]",f.dataPathArr[m]=g,k=e.validate(f),f.baseId=v,e.util.varOccurences(k,y)<2?n+=" "+e.util.varReplace(k,y,I)+" ":n+=" var "+y+" = "+I+"; "+k+" ",u&&(n+=" if (!"+p+") break; "),n+=" } }  ",u&&(n+=" if ("+p+") { ",d+="}"))}else(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all))&&(f.schema=s,f.schemaPath=a,f.errSchemaPath=c,n+="  for (var "+g+" = 0; "+g+" < "+l+".length; "+g+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),I=l+"["+g+"]",f.dataPathArr[m]=g,k=e.validate(f),f.baseId=v,e.util.varOccurences(k,y)<2?n+=" "+e.util.varReplace(k,y,I)+" ":n+=" var "+y+" = "+I+"; "+k+" ",u&&(n+=" if (!"+p+") break; "),n+=" }");return u&&(n+=" "+d+" if ("+h+" == errors) {"),n},maximum:uH,minimum:uH,maxItems:lH,minItems:lH,maxLength:AH,minLength:AH,maxProperties:hH,minProperties:hH,multipleOf:function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");i+="var division"+o+";if (",h&&(i+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),i+=" (division"+o+" = "+A+" / "+n+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",h&&(i+="  )  "),i+=" ) {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=h?"' + "+n:n+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ";var d=i;return i=f.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},not:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="errs__"+i,h=e.util.copy(e);h.level++;var f="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c,n+=" var "+A+" = errors;  ";var d,p=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(d=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,d&&(h.opts.allErrors=d),e.compositeRule=h.compositeRule=p,n+=" if ("+f+") {   ";var g=g||[];g.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var m=n;n=g.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+A+"; if (vErrors !== null) { if ("+A+") vErrors.length = "+A+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ");return n},oneOf:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h="errs__"+i,f=e.util.copy(e),d="";f.level++;var p="valid"+f.level,g=f.baseId,m="prevValid"+i,y="passingSchemas"+i;n+="var "+h+" = errors , "+m+" = false , "+A+" = false , "+y+" = null; ";var v=e.compositeRule;e.compositeRule=f.compositeRule=!0;var b=s;if(b)for(var w,x=-1,_=b.length-1;x<_;)w=b[x+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(f.schema=w,f.schemaPath=a+"["+x+"]",f.errSchemaPath=c+"/"+x,n+="  "+e.validate(f)+" ",f.baseId=g):n+=" var "+p+" = true; ",x&&(n+=" if ("+p+" && "+m+") { "+A+" = false; "+y+" = ["+y+", "+x+"]; } else { ",d+="}"),n+=" if ("+p+") { "+A+" = "+m+" = true; "+y+" = "+x+"; }";return e.compositeRule=f.compositeRule=v,n+=d+"if (!"+A+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},pattern:function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,i+="if ( ",h&&(i+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),i+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(a))+".test("+A+") ) {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=h?""+n:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=h?"' + "+n+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+c:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ";var d=i;return i=f.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i},properties:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="errs__"+i,h=e.util.copy(e),f="";h.level++;var d="valid"+h.level,p="key"+i,g="idx"+i,m=h.dataLevel=e.dataLevel+1,y="data"+m,v="dataProperties"+i,b=Object.keys(s||{}).filter(L),w=e.schema.patternProperties||{},x=Object.keys(w).filter(L),_=e.schema.additionalProperties,B=b.length||x.length,E=!1===_,S="object"==typeof _&&Object.keys(_).length,C=e.opts.removeAdditional,I=E||S||C,k=e.opts.ownProperties,P=e.baseId,T=e.schema.required;if(T&&(!e.opts.$data||!T.$data)&&T.length<e.opts.loopRequired)var O=e.util.toHash(T);function L(e){return"__proto__"!==e}if(n+="var "+A+" = errors;var "+d+" = true;",k&&(n+=" var "+v+" = undefined;"),I){if(n+=k?" "+v+" = "+v+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+v+".length; "+g+"++) { var "+p+" = "+v+"["+g+"]; ":" for (var "+p+" in "+l+") { ",B){if(n+=" var isAdditional"+i+" = !(false ",b.length)if(b.length>8)n+=" || validate.schema"+a+".hasOwnProperty("+p+") ";else{var N=b;if(N)for(var U=-1,F=N.length-1;U<F;)$=N[U+=1],n+=" || "+p+" == "+e.util.toQuotedString($)+" "}if(x.length){var M=x;if(M)for(var R=-1,D=M.length-1;R<D;)oe=M[R+=1],n+=" || "+e.usePattern(oe)+".test("+p+") "}n+=" ); if (isAdditional"+i+") { "}if("all"==C)n+=" delete "+l+"["+p+"]; ";else{var j=e.errorPath,Q="' + "+p+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers)),E)if(C)n+=" delete "+l+"["+p+"]; ";else{n+=" "+d+" = false; ";var H=c;c=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+Q+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var K=n;n=re.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+K+"]); ":n+=" validate.errors = ["+K+"]; return false; ":n+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=H,u&&(n+=" break; ")}else if(S)if("failing"==C){n+=" var "+A+" = errors;  ";var V=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=_,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers);var z=l+"["+p+"]";h.dataPathArr[m]=p;var q=e.validate(h);h.baseId=P,e.util.varOccurences(q,y)<2?n+=" "+e.util.varReplace(q,y,z)+" ":n+=" var "+y+" = "+z+"; "+q+" ",n+=" if (!"+d+") { errors = "+A+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+p+"]; }  ",e.compositeRule=h.compositeRule=V}else h.schema=_,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers),z=l+"["+p+"]",h.dataPathArr[m]=p,q=e.validate(h),h.baseId=P,e.util.varOccurences(q,y)<2?n+=" "+e.util.varReplace(q,y,z)+" ":n+=" var "+y+" = "+z+"; "+q+" ",u&&(n+=" if (!"+d+") break; ");e.errorPath=j}B&&(n+=" } "),n+=" }  ",u&&(n+=" if ("+d+") { ",f+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(b.length){var W=b;if(W)for(var $,J=-1,X=W.length-1;J<X;){var Y=s[$=W[J+=1]];if(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:e.util.schemaHasRules(Y,e.RULES.all)){var Z=e.util.getProperty($),ee=(z=l+Z,G&&void 0!==Y.default);if(h.schema=Y,h.schemaPath=a+Z,h.errSchemaPath=c+"/"+e.util.escapeFragment($),h.errorPath=e.util.getPath(e.errorPath,$,e.opts.jsonPointers),h.dataPathArr[m]=e.util.toQuotedString($),q=e.validate(h),h.baseId=P,e.util.varOccurences(q,y)<2){q=e.util.varReplace(q,y,z);var te=z}else te=y,n+=" var "+y+" = "+z+"; ";if(ee)n+=" "+q+" ";else{if(O&&O[$]){n+=" if ( "+te+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes($)+"') "),n+=") { "+d+" = false; ",j=e.errorPath,H=c;var re,ne=e.util.escapeQuotes($);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(j,$,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",K=n,n=re.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+K+"]); ":n+=" validate.errors = ["+K+"]; return false; ":n+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=H,e.errorPath=j,n+=" } else { "}else u?(n+=" if ( "+te+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes($)+"') "),n+=") { "+d+" = true; } else { "):(n+=" if ("+te+" !== undefined ",k&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes($)+"') "),n+=" ) { ");n+=" "+q+" } "}}u&&(n+=" if ("+d+") { ",f+="}")}}if(x.length){var ie=x;if(ie)for(var oe,se=-1,ae=ie.length-1;se<ae;)Y=w[oe=ie[se+=1]],(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:e.util.schemaHasRules(Y,e.RULES.all))&&(h.schema=Y,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),n+=k?" "+v+" = "+v+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+v+".length; "+g+"++) { var "+p+" = "+v+"["+g+"]; ":" for (var "+p+" in "+l+") { ",n+=" if ("+e.usePattern(oe)+".test("+p+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers),z=l+"["+p+"]",h.dataPathArr[m]=p,q=e.validate(h),h.baseId=P,e.util.varOccurences(q,y)<2?n+=" "+e.util.varReplace(q,y,z)+" ":n+=" var "+y+" = "+z+"; "+q+" ",u&&(n+=" if (!"+d+") break; "),n+=" } ",u&&(n+=" else "+d+" = true; "),n+=" }  ",u&&(n+=" if ("+d+") { ",f+="}"))}return u&&(n+=" "+f+" if ("+A+" == errors) {"),n},propertyNames:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="errs__"+i,h=e.util.copy(e);h.level++;var f="valid"+h.level;if(n+="var "+A+" = errors;",e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c;var d="key"+i,p="idx"+i,g="i"+i,m="' + "+d+" + '",y="data"+(h.dataLevel=e.dataLevel+1),v="dataProperties"+i,b=e.opts.ownProperties,w=e.baseId;b&&(n+=" var "+v+" = undefined; "),n+=b?" "+v+" = "+v+" || Object.keys("+l+"); for (var "+p+"=0; "+p+"<"+v+".length; "+p+"++) { var "+d+" = "+v+"["+p+"]; ":" for (var "+d+" in "+l+") { ",n+=" var startErrs"+i+" = errors; ";var x=d,_=e.compositeRule;e.compositeRule=h.compositeRule=!0;var B=e.validate(h);h.baseId=w,e.util.varOccurences(B,y)<2?n+=" "+e.util.varReplace(B,y,x)+" ":n+=" var "+y+" = "+x+"; "+B+" ",e.compositeRule=h.compositeRule=_,n+=" if (!"+f+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+d+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+m+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+m+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),u&&(n+=" break; "),n+=" } }"}return u&&(n+="  if ("+A+" == errors) {"),n},required:function(e,t,r){var n=" ",i=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),A="valid"+i,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+i+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var f="schema"+i;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],p=s;if(p)for(var g,m=-1,y=p.length-1;m<y;){g=p[m+=1];var v=e.schema.properties[g];v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))||(d[d.length]=g)}}else d=s;if(h||d.length){var b=e.errorPath,w=h||d.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(u)if(n+=" var missing"+i+"; ",w){h||(n+=" var "+f+" = validate.schema"+a+"; ");var _="' + "+(k="schema"+i+"["+(C="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,k,e.opts.jsonPointers)),n+=" var "+A+" = true; ",h&&(n+=" if (schema"+i+" === undefined) "+A+" = true; else if (!Array.isArray(schema"+i+")) "+A+" = false; else {"),n+=" for (var "+C+" = 0; "+C+" < "+f+".length; "+C+"++) { "+A+" = "+l+"["+f+"["+C+"]] !== undefined ",x&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+f+"["+C+"]) "),n+="; if (!"+A+") break; } ",h&&(n+="  }  "),n+="  if (!"+A+") {   ",(E=E||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var B=n;n=E.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var E,S=d;if(S)for(var C=-1,I=S.length-1;C<I;)T=S[C+=1],C&&(n+=" || "),n+=" ( ( "+(U=l+(N=e.util.getProperty(T)))+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:N)+") ) ";n+=") {  ",_="' + "+(k="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,k,!0):b+" + "+k),(E=E||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",B=n,n=E.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){var k;h||(n+=" var "+f+" = validate.schema"+a+"; "),_="' + "+(k="schema"+i+"["+(C="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,k,e.opts.jsonPointers)),h&&(n+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),n+=" for (var "+C+" = 0; "+C+" < "+f+".length; "+C+"++) { if ("+l+"["+f+"["+C+"]] === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+f+"["+C+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var P=d;if(P)for(var T,O=-1,L=P.length-1;O<L;){T=P[O+=1];var N=e.util.getProperty(T),U=(_=e.util.escapeQuotes(T),l+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,T,e.opts.jsonPointers)),n+=" if ( "+U+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else u&&(n+=" if (true) {");return n},uniqueItems:function(e,t,r){var n,i=" ",o=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,A="data"+(s||""),h="valid"+o,f=e.opts.$data&&a&&a.$data;if(f?(i+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+o):n=a,(a||f)&&!1!==e.opts.uniqueItems){f&&(i+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+A+".length , "+h+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,p=Array.isArray(d);if(!d||"object"==d||"array"==d||p&&(d.indexOf("object")>=0||d.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+A+"[i], "+A+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+A+"[i]; ";var g="checkDataType"+(p?"s":"");i+=" if ("+e.util[g](d,"item",e.opts.strictNumbers,!0)+") continue; ",p&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",f&&(i+="  }  "),i+=" if (!"+h+") {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+c:""+a,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+A+" "),i+=" } "):i+=" {} ";var y=i;i=m.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i},validate:BQ},dH=fH,pH=Nj.toHash,gH=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],mH=bQ.MissingRef,yH={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},vH=yH,bH={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:vH.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:vH.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},wH=/^[a-z_$][a-z0-9_$-]*$/i,xH=function(e,t,r){var n,i,o=" ",s=e.level,a=e.dataLevel,c=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,A=!e.opts.allErrors,h="data"+(a||""),f="valid"+s,d="errs__"+s,p=e.opts.$data&&c&&c.$data;p?(o+=" var schema"+s+" = "+e.util.getData(c.$data,a,e.dataPathArr)+"; ",i="schema"+s):i=c;var g,m,y,v,b,w=this,x="definition"+s,_=w.definition,B="";if(p&&_.$data){b="keywordValidate"+s;var E=_.validateSchema;o+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+b+" = "+x+".validate;"}else{if(!(v=e.useCustomRule(w,c,e.schema,e)))return;i="validate.schema"+u,b=v.code,g=_.compile,m=_.inline,y=_.macro}var S=b+".errors",C="i"+s,I="ruleErr"+s,k=_.async;if(k&&!e.async)throw new Error("async keyword in sync schema");if(m||y||(o+=S+" = null;"),o+="var "+d+" = errors;var "+f+";",p&&_.$data&&(B+="}",o+=" if ("+i+" === undefined) { "+f+" = true; } else { ",E&&(B+="}",o+=" "+f+" = "+x+".validateSchema("+i+"); if ("+f+") { ")),m)_.statements?o+=" "+v.validate+" ":o+=" "+f+" = "+v.validate+"; ";else if(y){var P=e.util.copy(e);B="",P.level++;var T="valid"+P.level;P.schema=v.validate,P.schemaPath="";var O=e.compositeRule;e.compositeRule=P.compositeRule=!0;var L=e.validate(P).replace(/validate\.schema/g,b);e.compositeRule=P.compositeRule=O,o+=" "+L}else{(M=M||[]).push(o),o="",o+="  "+b+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===_.schema?o+=" , "+h+" ":o+=" , "+i+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var N=a?"data"+(a-1||""):"parentData",U=a?e.dataPathArr[a]:"parentDataProperty",F=o+=" , "+N+" , "+U+" , rootData )  ";o=M.pop(),!1===_.errors?(o+=" "+f+" = ",k&&(o+="await "),o+=F+"; "):o+=k?" var "+(S="customErrors"+s)+" = null; try { "+f+" = await "+F+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } ":" "+S+" = null; "+f+" = "+F+"; "}if(_.modifying&&(o+=" if ("+N+") "+h+" = "+N+"["+U+"];"),o+=""+B,_.valid)A&&(o+=" if (true) { ");else{var M;o+=" if ( ",void 0===_.valid?(o+=" !",o+=y?""+T:""+f):o+=" "+!_.valid+" ",o+=") { ",n=w.keyword,(M=M||[]).push(o),o="",(M=M||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var R=o;o=M.pop(),!e.compositeRule&&A?e.async?o+=" throw new ValidationError(["+R+"]); ":o+=" validate.errors = ["+R+"]; return false; ":o+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var D=o;o=M.pop(),m?_.errors?"full"!=_.errors&&(o+="  for (var "+C+"="+d+"; "+C+"<errors; "+C+"++) { var "+I+" = vErrors["+C+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+I+".schema = "+i+"; "+I+".data = "+h+"; "),o+=" } "):!1===_.errors?o+=" "+D+" ":(o+=" if ("+d+" == errors) { "+D+" } else {  for (var "+C+"="+d+"; "+C+"<errors; "+C+"++) { var "+I+" = vErrors["+C+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+I+".schemaPath === undefined) { "+I+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+I+".schema = "+i+"; "+I+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&A&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===_.errors?o+=" "+D+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+C+"="+d+"; "+C+"<errors; "+C+"++) { var "+I+" = vErrors["+C+"]; if ("+I+".dataPath === undefined) "+I+".dataPath = (dataPath || '') + "+e.errorPath+";  "+I+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(o+=" "+I+".schema = "+i+"; "+I+".data = "+h+"; "),o+=" } } else { "+D+" } "),o+=" } ",A&&(o+=" else { ")}return o},_H=bH,BH={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!wH.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var i=0;i<n.length;i++)s(e,n[i],t);else s(e,n,t);var o=t.metaSchema;o&&(t.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(o,!0))}function s(e,t,n){for(var i,o=0;o<r.length;o++){var s=r[o];if(s.type==t){i=s;break}}i||(i={type:t,rules:[]},r.push(i));var a={keyword:e,definition:n,custom:!0,code:xH,implements:n.implements};i.rules.push(a),r.custom[e]=a}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,i=0;i<n.length;i++)if(n[i].keyword==e){n.splice(i,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(_H,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}},EH={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},SH=function e(t,r,n,i){var o=this,s=this._opts,a=[void 0],c={},u=[],l={},A=[],h={},f=[];r=r||{schema:t,refVal:a,refs:c};var d=LQ.call(this,t,r,i),p=this._compilations[d.index];if(d.compiling)return p.callValidate=function e(){var t=p.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var g=this._formats,m=this.RULES;try{var y=b(t,r,n,i);p.validate=y;var v=p.callValidate;return v&&(v.schema=y.schema,v.errors=null,v.refs=y.refs,v.refVal=y.refVal,v.root=y.root,v.$async=y.$async,s.sourceCode&&(v.source=y.source)),y}finally{NQ.call(this,t,r,i)}function b(t,n,i,l){var h=!n||n&&n.schema==t;if(n.schema!=r.schema)return e.call(o,t,n,i,l);var d,p=!0===t.$async,y=kQ({isTop:!0,schema:t,isRoot:h,baseId:l,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:CQ.MissingRef,RULES:m,validate:kQ,util:SQ,resolve:EQ,resolveRef:w,usePattern:B,useDefault:E,useCustomRule:S,opts:s,formats:g,logger:o.logger,self:o});y=jQ(a,RQ)+jQ(u,FQ)+jQ(A,MQ)+jQ(f,DQ)+y,s.processCode&&(y=s.processCode(y,t));try{d=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",y)(o,m,g,r,a,A,f,TQ,PQ,OQ),a[0]=d}catch(e){throw o.logger.error("Error compiling schema, function code:",y),e}return d.schema=t,d.errors=null,d.refs=c,d.refVal=a,d.root=h?d:n,p&&(d.$async=!0),!0===s.sourceCode&&(d.source={code:y,patterns:u,defaults:A}),d}function w(t,i,u){i=EQ.url(t,i);var l,A,h=c[i];if(void 0!==h)return _(l=a[h],A="refVal["+h+"]");if(!u&&r.refs){var f=r.refs[i];if(void 0!==f)return _(l=r.refVal[f],A=x(i,l))}A=x(i);var d=EQ.call(o,b,r,i);if(void 0===d){var p=n&&n[i];p&&(d=EQ.inlineRef(p,s.inlineRefs)?p:e.call(o,p,r,n,t))}if(void 0!==d)return function(e,t){var r=c[e];a[r]=t}(i,d),_(d,A);!function(e){delete c[e]}(i)}function x(e,t){var r=a.length;return a[r]=t,c[e]=r,"refVal"+r}function _(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function B(e){var t=l[e];return void 0===t&&(t=l[e]=u.length,u[t]=e),"pattern"+t}function E(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return SQ.toQuotedString(e);case"object":if(null===e)return"null";var t=IQ(e),r=h[t];return void 0===r&&(r=h[t]=A.length,A[r]=e),"default"+r}}function S(e,t,r,n){if(!1!==o._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var a=e.definition.validateSchema;if(a&&!a(t)){var c="keyword schema is invalid: "+o.errorsText(a.errors);if("log"!=o._opts.validateSchema)throw new Error(c);o.logger.error(c)}}var u,l=e.definition.compile,A=e.definition.inline,h=e.definition.macro;if(l)u=l.call(o,t,r,n);else if(h)u=h.call(o,t,r,n),!1!==s.validateSchema&&o.validateSchema(u,!0);else if(A)u=A.call(o,n,e.keyword,t,r);else if(!(u=e.definition.validate))return;if(void 0===u)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=f.length;return f[d]=u,{code:"customRule"+d,validate:u}}},CH=iQ,IH=QQ.exports,kH=$j,PH=_Q,TH=tH,OH=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var n,i=t[r].split("/"),o=e;for(n=1;n<i.length;n++)o=o[i[n]];for(n=0;n<gH.length;n++){var s=gH[n],a=o[s];a&&(o[s]={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},LH=Nj,NH=jH;jH.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var i=r(t);return!0!==r.$async&&(this.errors=r.errors),i},jH.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},jH.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,r,n);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return qH(this,t=CH.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,r,n,!0),this},jH.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},jH.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(MH)?MH:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return n},jH.prototype.getSchema=function(e){var t=QH(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=CH.schema.call(e,{schema:{}},t);if(r){var n=r.schema,i=r.root,o=r.baseId,s=SH.call(e,n,i,void 0,o);return e._fragments[t]=new kH({ref:t,fragment:!0,schema:n,root:i,baseId:o,validate:s}),s}}(this,e)}},jH.prototype.removeSchema=function(e){if(e instanceof RegExp)return HH(this,this._schemas,e),HH(this,this._refs,e),this;switch(typeof e){case"undefined":return HH(this,this._schemas),HH(this,this._refs),this._cache.clear(),this;case"string":var t=QH(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var i=this._getId(e);i&&(i=CH.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},jH.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},jH.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var s=e[o];s&&(i+=n+s.dataPath+" "+s.message+r)}return i.slice(0,-r.length)},jH.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(e):e,s=this._cache.get(o);if(s)return s;n=n||!1!==this._opts.addUsedSchema;var a=CH.normalizeId(this._getId(e));a&&n&&qH(this,a);var c,u=!1!==this._opts.validateSchema&&!t;u&&!(c=a&&a==CH.normalizeId(e.$schema))&&this.validateSchema(e,!0);var l=CH.ids.call(this,e),A=new kH({id:a,schema:e,localRefs:l,cacheKey:o,meta:r});return"#"!=a[0]&&n&&(this._refs[a]=A),this._cache.put(o,A),u&&c&&this.validateSchema(e,!0),A},jH.prototype._compile=function(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var r,n;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{n=SH.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function i(){var t=e.validate,r=t.apply(this,arguments);return i.errors=t.errors,r}},jH.prototype.compileAsync=function e(t,r,n){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(n=r,r=void 0);var o=s(t).then((function(){var e=i._addSchema(t,void 0,r);return e.validate||a(e)}));return n&&o.then((function(e){n(null,e)}),n),o;function s(t){var r=t.$schema;return r&&!i.getSchema(r)?e.call(i,{$ref:r},!0):Promise.resolve()}function a(e){try{return i._compile(e)}catch(t){if(t instanceof mH)return function(t){var n=t.missingSchema;if(u(n))throw new Error("Schema "+n+" is loaded but "+t.missingRef+" cannot be resolved");var o=i._loadingSchemas[n];return o||(o=i._loadingSchemas[n]=i._opts.loadSchema(n)).then(c,c),o.then((function(e){if(!u(n))return s(e).then((function(){u(n)||i.addSchema(e,n,void 0,r)}))})).then((function(){return a(e)}));function c(){delete i._loadingSchemas[n]}function u(e){return i._refs[e]||i._schemas[e]}}(t);throw t}}};var UH=BH;jH.prototype.addKeyword=UH.add,jH.prototype.getKeyword=UH.get,jH.prototype.removeKeyword=UH.remove,jH.prototype.validateKeyword=UH.validate;var FH=bQ;jH.ValidationError=FH.Validation,jH.MissingRefError=FH.MissingRef,jH.$dataMetaSchema=OH;var MH="http://json-schema.org/draft-07/schema",RH=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],DH=["/properties"];function jH(e){if(!(this instanceof jH))return new jH(e);e=this._opts=LH.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:GH,warn:GH,error:GH};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=TH(e.format),this._cache=e.cache||new IH,this._loadingSchemas={},this._compilations=[],this.RULES=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=pH(t),e.types=pH(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var n;if("object"==typeof r){var i=Object.keys(r)[0];n=r[i],r=i,n.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:dH[r],implements:n}})),e.all.$comment={keyword:"$comment",code:dH.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=pH(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}(),this._getId=function(e){switch(e.schemaId){case"auto":return zH;case"id":return KH;default:return VH}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=PH),this._metaOpts=function(e){for(var t=LH.copy(e._opts),r=0;r<RH.length;r++)delete t[RH[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;if(e._opts.$data&&(t=EH,e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=yH;e._opts.$data&&(r=OH(r,DH)),e.addMetaSchema(r,MH,!0),e._refs["http://json-schema.org/schema"]=MH}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function QH(e,t){return t=CH.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function HH(e,t,r){for(var n in t){var i=t[n];i.meta||r&&!r.test(n)||(e._cache.del(i.cacheKey),delete t[n])}}function KH(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function VH(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function zH(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function qH(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function GH(){}const WH={type:"object",required:["merkleRoot","targetHash","anchors"],properties:{merkleRoot:{type:"string",minLength:64,maxLength:64},targetHash:{type:"string",minLength:64,maxLength:64},anchors:{type:"array",minLength:1,items:{type:"string"}}}};var $H={validate:(new NH).compile(WH)},JH={root:{merkleRoot:0,targetHash:1,anchors:2,path:3},path:{left:0,right:1},chain:{btc:{id:0,networks:{mainnet:1,testnet:3}},eth:{id:1,networks:{mainnet:1,ropsten:3,rinkeby:4}},mtc:{id:2,networks:{mainnet:137,mumbai:80001}}}},XH={},YH=Mi(Qu),ZH={},eK={};!function(e){const t=Qo.exports.BigNumber;e.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},e.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},e.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},e.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},e.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},e.SHIFT32=4294967296,e.BI={MINUS_ONE:-1,MAXINT32:4294967295,MAXINT64:"0xffffffffffffffff",SHIFT32:e.SHIFT32};const r=new t(-1);e.BN={MINUS_ONE:r,NEG_MAX:r.minus(new t(Number.MAX_SAFE_INTEGER.toString(16),16)),MAXINT:new t("0x20000000000000"),MAXINT32:new t(4294967295),MAXINT64:new t("0xffffffffffffffff"),SHIFT32:new t(e.SHIFT32)}}(eK),function(e){const t=YH,r=Qo.exports.BigNumber,n=eK.NUMBYTES,i=eK.SHIFT32;e.hasBigInt="function"==typeof BigInt;const o="function"==typeof TextDecoder?TextDecoder:t.TextDecoder;if(o){const t=new o("utf8",{fatal:!0,ignoreBOM:!0});e.utf8=e=>t.decode(e),e.utf8.checksUTF8=!0}else e.utf8=e=>e.toString("utf8"),e.utf8.checksUTF8=!1;e.parseCBORint=function(e,t){switch(e){case n.ONE:return t.readUInt8(0);case n.TWO:return t.readUInt16BE(0);case n.FOUR:return t.readUInt32BE(0);case n.EIGHT:const o=t.readUInt32BE(0),s=t.readUInt32BE(4);return o>2097151?new r(o).times(i).plus(s):o*i+s;default:throw new Error("Invalid additional info for int: "+e)}},e.writeHalf=function(e,t){const r=eo.allocUnsafe(4);r.writeFloatBE(t,0);const n=r.readUInt32BE(0);if(0!=(8191&n))return!1;let i=n>>16&32768;const o=n>>23&255,s=8388607&n;if(o>=113&&o<=142)i+=(o-112<<10)+(s>>13);else{if(!(o>=103&&o<113))return!1;if(s&(1<<126-o)-1)return!1;i+=s+8388608>>126-o}return e.writeUInt16BE(i),!0},e.parseHalf=function(e){const t=128&e[0]?-1:1,r=(124&e[0])>>2,n=(3&e[0])<<8|e[1];return r?31===r?t*(n?NaN:1/0):t*Math.pow(2,r-25)*(1024+n):5.960464477539063e-8*t*n},e.parseCBORfloat=function(t){switch(t.length){case 2:return e.parseHalf(t);case 4:return t.readFloatBE(0);case 8:return t.readDoubleBE(0);default:throw new Error("Invalid float size: "+t.length)}},e.hex=function(e){return eo.from(e.replace(/^0x/,""),"hex")},e.bin=function(e){let t=0,r=(e=e.replace(/\s/g,"")).length%8||8;const n=[];for(;r<=e.length;)n.push(parseInt(e.slice(t,r),2)),t=r,r+=8;return eo.from(n)},e.extend=function(e={},...t){const r=t.length;for(let n=0;n<r;n++){const r=t[n];for(const t in r){const n=r[t];e[t]=n}}return e},e.arrayEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,r)=>e===t[r]))},e.bufferEqual=function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;if(!Mo(e)||!Mo(t)||e.length!==t.length)return!1;const r=e.length;let n,i,o=!0;for(n=i=0;i<r;n=++i){const r=e[n];o=o&&t[n]===r}return!!o},e.bufferToBignumber=function(e){return new r(e.toString("hex"),16)},e.toBigInt=function(t){return e.hasBigInt?BigInt(t):Number(t)},e.bigIntize=function(t){const r={};for(const n in t)r[n]=e.toBigInt(t[n]);return r},e.bufferToBigInt=function(t){return e.toBigInt("0x"+t.toString("hex"))},e.guessEncoding=function(e){if("string"==typeof e)return"hex";if(!Mo(e))throw new Error("Unknown input type")}}(ZH);const tK=YH,rK=eK.MT,nK=eK.SIMPLE,iK=eK.SYMS;class oK{constructor(e){if("number"!=typeof e)throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}[tK.inspect.custom](e,t){return"simple("+this.value+")"}inspect(e,t){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,rK.SIMPLE_FLOAT)}static isSimple(e){return e instanceof oK}static decode(e,t=!0,r=!1){switch(e){case nK.FALSE:return!1;case nK.TRUE:return!0;case nK.NULL:return t?null:iK.NULL;case nK.UNDEFINED:return t?void 0:iK.UNDEFINED;case-1:if(!t||!r)throw new Error("Invalid BREAK");return iK.BREAK;default:return new oK(e)}}}var sK=oK;const aK=Zk,cK=YH;class uK extends aK.Transform{constructor(e,t,r){let n,i;switch(null==r&&(r={}),typeof e){case"object":Mo(e)?(n=e,null!=t&&"object"==typeof t&&(r=t)):r=e;break;case"string":n=e,null!=t&&"object"==typeof t?r=t:i=t}null==r&&(r={}),null==n&&(n=r.input),null==i&&(i=r.inputEncoding),delete r.input,delete r.inputEncoding;const o=null==r.watchPipe||r.watchPipe;delete r.watchPipe;const s=!!r.readError;delete r.readError,super(r),this.readError=s,o&&this.on("pipe",(e=>{const t=e._readableState.objectMode;if(this.length>0&&t!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");return this._readableState.objectMode=t,this._writableState.objectMode=t})),null!=n&&this.end(n,i)}static isNoFilter(e){return e instanceof this}static compare(e,t){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===t?0:e.compare(t)}static concat(e,t){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(0===e.length||0===t)return eo.alloc(0);null==t&&(t=e.reduce(((e,t)=>{if(!(t instanceof uK))throw new TypeError("list argument must be an Array of NoFilters");return e+t.length}),0));let r=!0,n=!0;const i=e.map((e=>{if(!(e instanceof uK))throw new TypeError("list argument must be an Array of NoFilters");const t=e.slice();return Mo(t)?n=!1:r=!1,t}));if(r)return eo.concat(i,t);if(n)return[].concat(...i).slice(0,t);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,t,r){this._readableState.objectMode||Mo(e)||(e=eo.from(e,t)),this.push(e),r()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let t=e.head;for(e=[];null!=t;)e.push(t.data),t=t.next}return e}read(e){const t=super.read(e);if(null!=t){if(this.emit("read",t),this.readError&&t.length<e)throw new Error(`Read ${t.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return t}promise(e){let t=!1;return new Promise(((r,n)=>{this.on("finish",(()=>{const n=this.read();null==e||t||(t=!0,e(null,n)),r(n)})),this.on("error",(r=>{null==e||t||(t=!0,e(r)),n(r)}))}))}compare(e){if(!(e instanceof uK))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;{const t=this.slice(),r=e.slice();if(Mo(t)&&Mo(r))return t.compare(r);throw new Error("Cannot compare streams in object mode")}}equals(e){return 0===this.compare(e)}slice(e,t){if(this._readableState.objectMode)return this._bufArray().slice(e,t);const r=this._bufArray();switch(r.length){case 0:return eo.alloc(0);case 1:return r[0].slice(e,t);default:return eo.concat(r).slice(e,t)}}get(e){return this.slice()[e]}toJSON(){const e=this.slice();return Mo(e)?e.toJSON():e}toString(e,t,r){const n=this.slice(t,r);return Mo(n)?e&&"utf8"!==e||!cK.TextDecoder?n.toString(e,t,r):new cK.TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}).decode(n):JSON.stringify(n)}inspect(e,t){return this[cK.inspect.custom](e,t)}[cK.inspect.custom](e,t){const r=this._bufArray().map((e=>Mo(e)?(null!=t?t.stylize:void 0)?t.stylize(e.toString("hex"),"string"):e.toString("hex"):cK.inspect(e,t))).join(", ");return`${this.constructor.name} [${r}]`}get length(){return this._readableState.length}writeBigInt(e){let t=e.toString(16);if(e<0){const r=BigInt(Math.floor(t.length/2));t=(e=(BigInt(1)<<r*BigInt(8))+e).toString(16)}return t.length%2&&(t="0"+t),this.push(eo.from(t,"hex"))}readUBigInt(e){const t=this.read(e);return Mo(t)?BigInt("0x"+t.toString("hex")):null}readBigInt(e){const t=this.read(e);if(!Mo(t))return null;let r=BigInt("0x"+t.toString("hex"));return 128&t[0]&&(r-=BigInt(1)<<BigInt(t.length)*BigInt(8)),r}}function lK(e,t){return function(r){const n=this.read(t);return Mo(n)?n[e].call(n,0,!0):null}}function AK(e,t){return function(r){const n=eo.alloc(t);return n[e].call(n,r,0,!0),this.push(n)}}Object.assign(uK.prototype,{writeUInt8:AK("writeUInt8",1),writeUInt16LE:AK("writeUInt16LE",2),writeUInt16BE:AK("writeUInt16BE",2),writeUInt32LE:AK("writeUInt32LE",4),writeUInt32BE:AK("writeUInt32BE",4),writeInt8:AK("writeInt8",1),writeInt16LE:AK("writeInt16LE",2),writeInt16BE:AK("writeInt16BE",2),writeInt32LE:AK("writeInt32LE",4),writeInt32BE:AK("writeInt32BE",4),writeFloatLE:AK("writeFloatLE",4),writeFloatBE:AK("writeFloatBE",4),writeDoubleLE:AK("writeDoubleLE",8),writeDoubleBE:AK("writeDoubleBE",8),readUInt8:lK("readUInt8",1),readUInt16LE:lK("readUInt16LE",2),readUInt16BE:lK("readUInt16BE",2),readUInt32LE:lK("readUInt32LE",4),readUInt32BE:lK("readUInt32BE",4),readInt8:lK("readInt8",1),readInt16LE:lK("readInt16LE",2),readInt16BE:lK("readInt16BE",2),readInt32LE:lK("readInt32LE",4),readInt32BE:lK("readInt32BE",4),readFloatLE:lK("readFloatLE",4),readFloatBE:lK("readFloatBE",4),readDoubleLE:lK("readDoubleLE",8),readDoubleBE:lK("readDoubleBE",8)});var hK=uK;const fK=hK,dK=Zk.Transform;const pK=Qo.exports.BigNumber,gK=ZH,mK=ml,yK=new pK(-1),vK=new pK(2);class bK{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let t=null!=e?e[this.tag]:void 0;if("function"!=typeof t&&(t=bK["_tag_"+this.tag],"function"!=typeof t))return this;try{return t.call(bK,this.value)}catch(e){return this.err=e,this}}static _tag_0(e){return new Date(e)}static _tag_1(e){return new Date(1e3*e)}static _tag_2(e){return gK.bufferToBignumber(e)}static _tag_3(e){return yK.minus(gK.bufferToBignumber(e))}static _tag_4(e){return pK(e[1]).shiftedBy(e[0])}static _tag_5(e){return vK.pow(e[0]).times(e[1])}static _tag_32(e){return mK.parse(e)}static _tag_35(e){return new RegExp(e)}}var wK=bK;const xK=Zk,_K=class extends dK{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new fK,this.__restart()}_transform(e,t,r){for(this.bs.write(e);this.bs.length>=this.__needed;){let t;const n=null===this.__needed?void 0:this.bs.read(this.__needed);try{t=this.__parser.next(n)}catch(e){return r(e)}this.__needed&&(this.__fresh=!1),t.done?(this.push(t.value),this.__restart()):this.__needed=t.value||0}return r()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}},BK=wK,EK=sK,SK=ZH,CK=Qo.exports.BigNumber,IK=hK,kK=eK,PK=kK.MT,TK=kK.NUMBYTES,OK=kK.SYMS,LK=SK.bigIntize(kK.BI),NK=kK.BN,UK=Symbol("count"),FK=Symbol("major type"),MK=Symbol("error"),RK=Symbol("not found");function DK(e,t,r){const n=[];return n[UK]=r,n[OK.PARENT]=e,n[FK]=t,n}function jK(e,t){const r=new IK;return r[UK]=-1,r[OK.PARENT]=e,r[FK]=t,r}function QK(e){return SK.bufferToBigInt(e)}function HK(e){return LK.MINUS_ONE-SK.bufferToBigInt(e)}class KK extends _K{constructor(e){const t=(e=e||{}).tags;delete e.tags;const r=null!=e.max_depth?e.max_depth:-1;delete e.max_depth;const n=!!SK.hasBigInt&&!!e.bigint;delete e.bigint,super(e),this.running=!0,this.max_depth=r,this.tags=t,n&&(null==this.tags&&(this.tags={}),null==this.tags[2]&&(this.tags[2]=QK),null==this.tags[3]&&(this.tags[3]=HK))}static nullcheck(e){switch(e){case OK.NULL:return null;case OK.UNDEFINED:return;case RK:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,t){let r,n={};switch(typeof(t=t||{encoding:"hex"})){case"string":r=t;break;case"object":n=SK.extend({},t),r=n.encoding,delete n.encoding}const i=new KK(n),o=e instanceof xK.Readable?e:new IK(e,null!=r?r:SK.guessEncoding(e)),s=i._parse();let a=s.next();for(;!a.done;){const e=o.read(a.value);if(null==e||e.length!==a.value)throw new Error("Insufficient data");a=s.next(e)}const c=KK.nullcheck(a.value);if(o.length>0){const e=o.read(1);o.unshift(e);const t=new Error("Unexpected data: 0x"+e[0].toString(16));throw t.value=c,t}return c}static decodeAllSync(e,t){let r,n={};switch(typeof(t=t||{encoding:"hex"})){case"string":r=t;break;case"object":n=SK.extend({},t),r=n.encoding,delete n.encoding}const i=new KK(n),o=e instanceof xK.Readable?e:new IK(e,null!=r?r:SK.guessEncoding(e)),s=[];for(;o.length>0;){const e=i._parse();let t=e.next();for(;!t.done;){const r=o.read(t.value);if(null==r||r.length!==t.value)throw new Error("Insufficient data");t=e.next(r)}s.push(KK.nullcheck(t.value))}return s}static decodeFirst(e,t,r){let n={},i=!1,o="hex";switch(typeof t){case"function":r=t,o=SK.guessEncoding(e);break;case"string":o=t;break;case"object":n=SK.extend({},t),o=null!=n.encoding?n.encoding:SK.guessEncoding(e),delete n.encoding,i=null!=n.required&&n.required,delete n.required}const s=new KK(n);let a=RK;const c=new Promise(((e,t)=>{s.on("data",(e=>{a=KK.nullcheck(e),s.close()})),s.once("error",(e=>(a!==RK&&(e.value=a),a=MK,s.close(),t(e)))),s.once("end",(()=>{switch(a){case RK:return i?t(new Error("No CBOR found")):e(a);case MK:return;default:return e(a)}}))}));return"function"==typeof r&&c.then((e=>r(null,e)),r),s.end(e,o),c}static decodeAll(e,t,r){let n={},i="hex";switch(typeof t){case"function":r=t,i=SK.guessEncoding(e);break;case"string":i=t;break;case"object":n=SK.extend({},t),i=null!=n.encoding?n.encoding:SK.guessEncoding(e),delete n.encoding}const o=new KK(n),s=[];o.on("data",(e=>s.push(KK.nullcheck(e))));const a=new Promise(((e,t)=>{o.on("error",t),o.on("end",(()=>e(s)))}));return"function"==typeof r&&a.then((e=>r(null,e)),r),o.end(e,i),a}close(){this.running=!1,this.__fresh=!0}*_parse(){let e=null,t=0,r=null;for(;;){if(this.max_depth>=0&&t>this.max_depth)throw new Error("Maximum depth "+this.max_depth+" exceeded");const n=(yield 1)[0];if(!this.running)throw new Error("Unexpected data: 0x"+n.toString(16));const i=n>>5,o=31&n,s=null!=e?e[FK]:void 0,a=null!=e?e.length:void 0;switch(o){case TK.ONE:this.emit("more-bytes",i,1,s,a),r=(yield 1)[0];break;case TK.TWO:case TK.FOUR:case TK.EIGHT:const e=1<<o-24;this.emit("more-bytes",i,e,s,a);const t=yield e;r=i===PK.SIMPLE_FLOAT?t:SK.parseCBORint(o,t);break;case 28:case 29:case 30:throw this.running=!1,new Error("Additional info not implemented: "+o);case TK.INDEFINITE:switch(i){case PK.POS_INT:case PK.NEG_INT:case PK.TAG:throw new Error(`Invalid indefinite encoding for MT ${i}`)}r=-1;break;default:r=o}switch(i){case PK.POS_INT:break;case PK.NEG_INT:r=r===Number.MAX_SAFE_INTEGER?NK.NEG_MAX:r instanceof CK?NK.MINUS_ONE.minus(r):-1-r;break;case PK.BYTE_STRING:case PK.UTF8_STRING:switch(r){case 0:this.emit("start-string",i,r,s,a),r=i===PK.BYTE_STRING?eo.allocUnsafe(0):"";break;case-1:this.emit("start",i,OK.STREAM,s,a),e=jK(e,i),t++;continue;default:this.emit("start-string",i,r,s,a),r=yield r,i===PK.UTF8_STRING&&(r=SK.utf8(r))}break;case PK.ARRAY:case PK.MAP:switch(r){case 0:r=i===PK.MAP?{}:[];break;case-1:this.emit("start",i,OK.STREAM,s,a),e=DK(e,i,-1),t++;continue;default:this.emit("start",i,r,s,a),e=DK(e,i,r*(i-3)),t++;continue}break;case PK.TAG:this.emit("start",i,r,s,a),e=DK(e,i,1),e.push(r),t++;continue;case PK.SIMPLE_FLOAT:if("number"==typeof r){if(o===TK.ONE&&r<32)throw new Error(`Invalid two-byte encoding of simple value ${r}`);const t=null!=e;r=EK.decode(r,t,t&&e[UK]<0)}else r=SK.parseCBORfloat(r)}this.emit("value",r,s,a,o);let c=!1;for(;null!=e;){switch(!1){case r!==OK.BREAK:e[UK]=1;break;case!Array.isArray(e):e.push(r);break;case!(e instanceof IK):const t=e[FK];if(null!=t&&t!==i)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(r)}if(0!=--e[UK]){c=!0;break}if(--t,delete e[UK],Array.isArray(e))switch(e[FK]){case PK.ARRAY:r=e;break;case PK.MAP:let t=!0;if(e.length%2!=0)throw new Error("Invalid map length: "+e.length);for(let r=0,n=e.length;r<n;r+=2)if("string"!=typeof e[r]){t=!1;break}if(t){r={};for(let t=0,n=e.length;t<n;t+=2)r[e[t]]=e[t+1]}else{r=new Map;for(let t=0,n=e.length;t<n;t+=2)r.set(e[t],e[t+1])}break;case PK.TAG:r=new BK(e[0],e[1]).convert(this.tags)}else if(e instanceof IK)switch(e[FK]){case PK.BYTE_STRING:r=e.slice();break;case PK.UTF8_STRING:r=e.toString("utf-8")}this.emit("stop",e[FK]);const n=e;e=e[OK.PARENT],delete n[OK.PARENT],delete n[FK]}if(!c)return r}}}KK.NOT_FOUND=RK;var VK=KK;const zK=Zk,qK=YH,GK=VK,WK=eK,$K=Qo.exports.BigNumber,JK=hK,XK=WK.MT,YK=WK.NUMBYTES,ZK=WK.SYMS;function eV(e){return e>1?"s":""}class tV extends zK.Transform{constructor(e){const t=Object.assign({depth:1,max_depth:10,no_summary:!1},e,{readableObjectMode:!1,writableObjectMode:!1}),r=t.max_depth;delete t.max_depth;const n=t.depth;delete t.depth,super(t),this.depth=n,this.max_depth=r,this.all=new JK,t.tags={24:this._tag_24.bind(this)},this.parser=new GK(t),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),t.no_summary||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){const t=new tV({depth:this.depth+1,no_summary:!0});t.on("data",(e=>this.push(e))),t.on("error",(e=>this.emit("error",e))),t.end(e)}_transform(e,t,r){this.parser.write(e,t,r)}_flush(e){return this.parser._flush(e)}static comment(e,t,r){if(null==e)throw new Error("input required");let n="string"==typeof e?"hex":void 0,i=10;switch(typeof t){case"function":r=t;break;case"string":n=t;break;case"number":i=t;break;case"object":const e=t.encoding,o=t.max_depth;n=null!=e?e:n,i=null!=o?o:i;break;case"undefined":break;default:throw new Error("Unknown option type")}const o=new JK,s=new tV({max_depth:i});let a=null;return"function"==typeof r?(s.on("end",(()=>{r(null,o.toString("utf8"))})),s.on("error",r)):a=new Promise(((e,t)=>(s.on("end",(()=>{e(o.toString("utf8"))})),s.on("error",t)))),s.pipe(o),s.end(e,n),a}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push("\n")}_on_read(e){this.all.write(e);const t=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(t);let r=2*(this.max_depth-this.depth);return r-=t.length,r<1&&(r=1),this.push(new Array(r+1).join(" ")),this.push("-- ")}_on_more(e,t,r,n){this.depth++;let i="";switch(e){case XK.POS_INT:i="Positive number,";break;case XK.NEG_INT:i="Negative number,";break;case XK.ARRAY:i="Array, length";break;case XK.MAP:i="Map, count";break;case XK.BYTE_STRING:i="Bytes, length";break;case XK.UTF8_STRING:i="String, length";break;case XK.SIMPLE_FLOAT:i=1===t?"Simple value,":"Float,"}return this.push(i+" next "+t+" byte"+eV(t)+"\n")}_on_start_string(e,t,r,n){this.depth++;let i="";switch(e){case XK.BYTE_STRING:i="Bytes, length: "+t;break;case XK.UTF8_STRING:i="String, length: "+t.toString()}return this.push(i+"\n")}_on_start(e,t,r,n){if(this.depth++,t!==ZK.BREAK)switch(r){case XK.ARRAY:this.push(`[${n}], `);break;case XK.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `)}switch(e){case XK.TAG:this.push(`Tag #${t}`),24==t&&this.push(" Encoded CBOR data item");break;case XK.ARRAY:t===ZK.STREAM?this.push("Array (streaming)"):this.push(`Array, ${t} item${eV(t)}`);break;case XK.MAP:t===ZK.STREAM?this.push("Map (streaming)"):this.push(`Map, ${t} pair${eV(t)}`);break;case XK.BYTE_STRING:this.push("Bytes (streaming)");break;case XK.UTF8_STRING:this.push("String (streaming)")}return this.push("\n")}_on_stop(e){return this.depth--}_on_value(e,t,r,n){if(e!==ZK.BREAK)switch(t){case XK.ARRAY:this.push(`[${r}], `);break;case XK.MAP:r%2?this.push(`{Val:${Math.floor(r/2)}}, `):this.push(`{Key:${Math.floor(r/2)}}, `)}switch(e===ZK.BREAK?this.push("BREAK\n"):e===ZK.NULL?this.push("null\n"):e===ZK.UNDEFINED?this.push("undefined\n"):"string"==typeof e?(this.depth--,e.length>0&&(this.push(JSON.stringify(e)),this.push("\n"))):Mo(e)?(this.depth--,e.length>0&&(this.push(e.toString("hex")),this.push("\n"))):e instanceof $K?(this.push(e.toString()),this.push("\n")):(this.push(qK.inspect(e)),this.push("\n")),n){case YK.ONE:case YK.TWO:case YK.FOUR:case YK.EIGHT:this.depth--}}_on_data(){return this.push("0x"),this.push(this.all.read().toString("hex")),this.push("\n")}}var rV=tV;const nV=Zk,iV=YH,oV=VK,sV=ZH,aV=eK,cV=Qo.exports.BigNumber,uV=hK,lV=aV.MT,AV=aV.SYMS;class hV extends nV.Transform{constructor(e){const t=Object.assign({separator:"\n",stream_errors:!1},e,{readableObjectMode:!1,writableObjectMode:!1}),r=t.separator;delete t.separator;const n=t.stream_errors;delete t.stream_errors,super(t),this.float_bytes=-1,this.separator=r,this.stream_errors=n,this.parser=new oV(t),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,t,r){return this.parser.write(e,t,r)}_flush(e){return this.parser._flush((t=>this.stream_errors?(t&&this._on_error(t),e()):e(t)))}static diagnose(e,t,r){if(null==e)throw new Error("input required");let n={},i="hex";switch(typeof t){case"function":r=t,i=sV.guessEncoding(e);break;case"object":n=sV.extend({},t),i=null!=n.encoding?n.encoding:sV.guessEncoding(e),delete n.encoding;break;default:i=null!=t?t:"hex"}const o=new uV,s=new hV(n);let a=null;return"function"==typeof r?(s.on("end",(()=>r(null,o.toString("utf8")))),s.on("error",r)):a=new Promise(((e,t)=>(s.on("end",(()=>e(o.toString("utf8")))),s.on("error",t)))),s.pipe(o),s.end(e,i),a}_on_error(e){return this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,t,r,n){if(e===lV.SIMPLE_FLOAT)return this.float_bytes={2:1,4:2,8:3}[t]}_fore(e,t){switch(e){case lV.BYTE_STRING:case lV.UTF8_STRING:case lV.ARRAY:if(t>0)return this.push(", ");break;case lV.MAP:if(t>0)return t%2?this.push(": "):this.push(", ")}}_on_value(e,t,r){if(e!==AV.BREAK)return this._fore(t,r),this.push((()=>{switch(!1){case e!==AV.NULL:return"null";case e!==AV.UNDEFINED:return"undefined";case"string"!=typeof e:return JSON.stringify(e);case!(this.float_bytes>0):const t=this.float_bytes;return this.float_bytes=-1,iV.inspect(e)+"_"+t;case!Mo(e):return"h'"+e.toString("hex")+"'";case!(e instanceof cV):return e.toString();default:return iV.inspect(e)}})())}_on_start(e,t,r,n){switch(this._fore(r,n),e){case lV.TAG:this.push(`${t}(`);break;case lV.ARRAY:this.push("[");break;case lV.MAP:this.push("{");break;case lV.BYTE_STRING:case lV.UTF8_STRING:this.push("(")}if(t===AV.STREAM)return this.push("_ ")}_on_stop(e){switch(e){case lV.TAG:return this.push(")");case lV.ARRAY:return this.push("]");case lV.MAP:return this.push("}");case lV.BYTE_STRING:case lV.UTF8_STRING:return this.push(")")}}_on_data(){return this.push(this.separator)}}var fV=hV;const dV=Zk,pV=ml;Qo.exports.BigNumber;const gV=hK,mV=ZH,yV=eK,vV=yV.MT,bV=yV.NUMBYTES,wV=yV.SHIFT32,xV=yV.SYMS,_V=yV.TAG,BV=yV.MT.SIMPLE_FLOAT<<5|yV.NUMBYTES.TWO,EV=yV.MT.SIMPLE_FLOAT<<5|yV.NUMBYTES.FOUR,SV=yV.MT.SIMPLE_FLOAT<<5|yV.NUMBYTES.EIGHT,CV=yV.MT.SIMPLE_FLOAT<<5|yV.SIMPLE.TRUE,IV=yV.MT.SIMPLE_FLOAT<<5|yV.SIMPLE.FALSE,kV=yV.MT.SIMPLE_FLOAT<<5|yV.SIMPLE.UNDEFINED,PV=yV.MT.SIMPLE_FLOAT<<5|yV.SIMPLE.NULL,TV=eo.from([255]),OV=mV.bigIntize(yV.BI),LV=yV.BN,NV=eo.from("f97e00","hex"),UV=eo.from("f9fc00","hex"),FV=eo.from("f97c00","hex"),MV=eo.from("f98000","hex"),RV=Symbol("CBOR_LOOP_DETECT");class DV extends dV.Transform{constructor(e){const t=Object.assign({},e,{readableObjectMode:!1,writableObjectMode:!0});super(t),this.canonical=t.canonical,this.encodeUndefined=t.encodeUndefined,this.disallowUndefinedKeys=!!t.disallowUndefinedKeys,this.dateType=null!=t.dateType?t.dateType.toLowerCase():"number",this.collapseBigIntegers=!!t.collapseBigIntegers,"symbol"==typeof t.detectLoops?this.detectLoops=t.detectLoops:this.detectLoops=t.detectLoops?Symbol("CBOR_DETECT"):null,this.semanticTypes={Array:this._pushArray,Date:this._pushDate,Buffer:this._pushBuffer,Map:this._pushMap,NoFilter:this._pushNoFilter,RegExp:this._pushRegexp,Set:this._pushSet,BigNumber:this._pushBigNumber,ArrayBuffer:this._pushUint8Array,Uint8ClampedArray:this._pushUint8Array,Uint8Array:this._pushUint8Array,Uint16Array:this._pushArray,Uint32Array:this._pushArray,Int8Array:this._pushArray,Int16Array:this._pushArray,Int32Array:this._pushArray,Float32Array:this._pushFloat32Array,Float64Array:this._pushFloat64Array},pV.Url&&this.addSemanticType("Url",this._pushUrl),pV.URL&&this.addSemanticType("URL",this._pushURL);const r=t.genTypes||[];for(let e=0,t=r.length;e<t;e+=2)this.addSemanticType(r[e],r[e+1])}_transform(e,t,r){return r(!1===this.pushAny(e)?new Error("Push Error"):void 0)}_flush(e){return e()}addSemanticType(e,t){if("function"!=typeof t)throw new TypeError("fun must be of type function");const r="string"==typeof e?e:e.name,n=this.semanticTypes[r];return this.semanticTypes[r]=t,n}_pushUInt8(e){const t=eo.allocUnsafe(1);return t.writeUInt8(e,0),this.push(t)}_pushUInt16BE(e){const t=eo.allocUnsafe(2);return t.writeUInt16BE(e,0),this.push(t)}_pushUInt32BE(e){const t=eo.allocUnsafe(4);return t.writeUInt32BE(e,0),this.push(t)}_pushFloatBE(e){const t=eo.allocUnsafe(4);return t.writeFloatBE(e,0),this.push(t)}_pushDoubleBE(e){const t=eo.allocUnsafe(8);return t.writeDoubleBE(e,0),this.push(t)}_pushNaN(){return this.push(NV)}_pushInfinity(e){const t=e<0?UV:FV;return this.push(t)}_pushFloat(e){if(this.canonical){const t=eo.allocUnsafe(2);if(mV.writeHalf(t,e))return this._pushUInt8(BV)&&this.push(t)}return Math.fround(e)===e?this._pushUInt8(EV)&&this._pushFloatBE(e):this._pushUInt8(SV)&&this._pushDoubleBE(e)}_pushInt(e,t,r){const n=t<<5;switch(!1){case!(e<24):return this._pushUInt8(n|e);case!(e<=255):return this._pushUInt8(n|bV.ONE)&&this._pushUInt8(e);case!(e<=65535):return this._pushUInt8(n|bV.TWO)&&this._pushUInt16BE(e);case!(e<=4294967295):return this._pushUInt8(n|bV.FOUR)&&this._pushUInt32BE(e);case!(e<=Number.MAX_SAFE_INTEGER):return this._pushUInt8(n|bV.EIGHT)&&this._pushUInt32BE(Math.floor(e/wV))&&this._pushUInt32BE(e%wV);default:return t===vV.NEG_INT?this._pushFloat(r):this._pushFloat(e)}}_pushIntNum(e){return Object.is(e,-0)?this.push(MV):e<0?this._pushInt(-e-1,vV.NEG_INT,e):this._pushInt(e,vV.POS_INT)}_pushNumber(e){switch(!1){case!isNaN(e):return this._pushNaN();case isFinite(e):return this._pushInfinity(e);case Math.round(e)!==e:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const t=eo.byteLength(e,"utf8");return this._pushInt(t,vV.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?CV:IV)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(kV);case"function":return this.pushAny(this.encodeUndefined.call(this,e));case"object":if(Mo(this.encodeUndefined))return this.push(this.encodeUndefined)}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(PV)}_pushArray(e,t,r){r=Object.assign({indefinite:!1},r);const n=t.length;if(r.indefinite){if(!e._pushUInt8(vV.ARRAY<<5|bV.INDEFINITE))return!1}else if(!e._pushInt(n,vV.ARRAY))return!1;for(let r=0;r<n;r++)if(!e.pushAny(t[r]))return!1;return!(r.indefinite&&!e.push(TV))}_pushTag(e){return this._pushInt(e,vV.TAG)}_pushDate(e,t){switch(e.dateType){case"string":return e._pushTag(_V.DATE_STRING)&&e._pushString(t.toISOString());case"int":case"integer":return e._pushTag(_V.DATE_EPOCH)&&e._pushIntNum(Math.round(t/1e3));case"float":return e._pushTag(_V.DATE_EPOCH)&&e._pushFloat(t/1e3);default:return e._pushTag(_V.DATE_EPOCH)&&e.pushAny(t/1e3)}}_pushBuffer(e,t){return e._pushInt(t.length,vV.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(_V.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,vV.ARRAY))return!1;for(const r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(_V.URI)&&e.pushAny(t.format())}_pushURL(e,t){return e._pushTag(_V.URI)&&e.pushAny(t.toString())}_pushBigint(e){let t=vV.POS_INT,r=_V.POS_BIGINT;if(e.isNegative()&&(e=e.negated().minus(1),t=vV.NEG_INT,r=_V.NEG_BIGINT),this.collapseBigIntegers&&e.lte(LV.MAXINT64))return e.lte(LV.MAXINT32)?this._pushInt(e.toNumber(),t):this._pushUInt8(t<<5|bV.EIGHT)&&this._pushUInt32BE(e.dividedToIntegerBy(LV.SHIFT32).toNumber())&&this._pushUInt32BE(e.mod(LV.SHIFT32).toNumber());let n=e.toString(16);n.length%2&&(n="0"+n);const i=eo.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushJSBigint(e){let t=vV.POS_INT,r=_V.POS_BIGINT;if(e<0&&(e=-e+OV.MINUS_ONE,t=vV.NEG_INT,r=_V.NEG_BIGINT),this.collapseBigIntegers&&e<=OV.MAXINT64)return e<=4294967295?this._pushInt(Number(e),t):this._pushUInt8(t<<5|bV.EIGHT)&&this._pushUInt32BE(Number(e/OV.SHIFT32))&&this._pushUInt32BE(Number(e%OV.SHIFT32));let n=e.toString(16);n.length%2&&(n="0"+n);const i=eo.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!e._pushTag(_V.DECIMAL_FRAC)||!e._pushInt(2,vV.ARRAY))return!1;const r=t.decimalPlaces(),n=t.shiftedBy(r);return!!e._pushIntNum(-r)&&(n.abs().isLessThan(LV.MAXINT)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}_pushMap(e,t,r){if((r=Object.assign({indefinite:!1},r)).indefinite){if(!e._pushUInt8(vV.MAP<<5|bV.INDEFINITE))return!1}else if(!e._pushInt(t.size,vV.MAP))return!1;if(e.canonical){const r=[...t.entries()],n=new DV(this),i=new gV({highWaterMark:this.readableHighWaterMark});n.pipe(i),r.sort((([e],[t])=>{n.pushAny(e);const r=i.read();n.pushAny(t);const o=i.read();return r.compare(o)}));for(const[t,n]of r){if(e.disallowUndefinedKeys&&void 0===t)throw new Error("Invalid Map key: undefined");if(!e.pushAny(t)||!e.pushAny(n))return!1}}else for(const[r,n]of t){if(e.disallowUndefinedKeys&&void 0===r)throw new Error("Invalid Map key: undefined");if(!e.pushAny(r)||!e.pushAny(n))return!1}return!(r.indefinite&&!e.push(TV))}_pushUint8Array(e,t){return e._pushBuffer(e,eo.from(t))}_pushFloat32Array(e,t){const r=t.length;if(!e._pushInt(r,vV.ARRAY))return!1;for(let n=0;n<r;n++)if(!e._pushUInt8(EV)||!e._pushFloatBE(t[n]))return!1;return!0}_pushFloat64Array(e,t){const r=t.length;if(!e._pushInt(r,vV.ARRAY))return!1;for(let n=0;n<r;n++)if(!e._pushUInt8(SV)||!e._pushDoubleBE(t[n]))return!1;return!0}removeLoopDetectors(e){return!!this.detectLoops&&DV.removeLoopDetectors(e,this.detectLoops)}static removeLoopDetectors(e,t=null){if("object"!=typeof e||!e)return!1;const r=e[RV];if(!r)return!1;if(null==t)t=r;else if(t!==r)return!1;if(delete e[RV],Array.isArray(e))for(const r of e)this.removeLoopDetectors(r,t);else for(const r in e)this.removeLoopDetectors(e[r],t);return!0}_pushObject(e,t){if(!e)return this._pushNull(e);if(!(t=Object.assign({indefinite:!1,skipTypes:!1},t)).indefinite&&this.detectLoops){if(e[RV]===this.detectLoops)throw new Error("Loop detected while CBOR encoding");e[RV]=this.detectLoops}if(!t.skipTypes){const t=e.encodeCBOR;if("function"==typeof t)return t.call(e,this);const r=this.semanticTypes[e.constructor.name];if(r)return r.call(e,this,e)}const r=Object.keys(e).filter((t=>"function"!=typeof e[t])),n={};if(this.canonical&&r.sort(((e,t)=>{const r=n[e]||(n[e]=DV.encode(e)),i=n[t]||(n[t]=DV.encode(t));return r.compare(i)})),t.indefinite){if(!this._pushUInt8(vV.MAP<<5|bV.INDEFINITE))return!1}else if(!this._pushInt(r.length,vV.MAP))return!1;let i;for(let t=0,o=r.length;t<o;t++){const o=r[t];if(this.canonical&&(i=n[o])){if(!this.push(i))return!1}else if(!this._pushString(o))return!1;if(!this.pushAny(e[o]))return!1}return!(t.indefinite&&!this.push(TV))}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case xV.NULL:return this._pushNull(null);case xV.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e.toString?e.toString():""))}}_pushAny(e){return this.pushAny(e)}_encodeAll(e){const t=new gV({highWaterMark:this.readableHighWaterMark});this.pipe(t);for(const t of e)this.pushAny(t);return this.end(),t.read()}static encodeIndefinite(e,t,r){if(null==t){if(null==this)throw new Error("No object to encode");t=this}r=Object.assign({chunkSize:4096},r);let n=!0;const i=typeof t;if("string"===i){n=n&&e._pushUInt8(vV.UTF8_STRING<<5|bV.INDEFINITE);let i=0;for(;i<t.length;){const o=i+r.chunkSize;n=n&&e._pushString(t.slice(i,o)),i=o}n=n&&e.push(TV)}else if(Mo(t)){n=n&&e._pushUInt8(vV.BYTE_STRING<<5|bV.INDEFINITE);let i=0;for(;i<t.length;){const o=i+r.chunkSize;n=n&&e._pushBuffer(e,t.slice(i,o)),i=o}n=n&&e.push(TV)}else if(Array.isArray(t))n=n&&e._pushArray(e,t,{indefinite:!0});else if(t instanceof Map)n=n&&e._pushMap(e,t,{indefinite:!0});else{if("object"!==i)throw new Error("Invalid indefinite encoding");n=n&&e._pushObject(t,{indefinite:!0,skipTypes:!0})}return n}static encode(...e){return(new DV)._encodeAll(e)}static encodeCanonical(...e){return new DV({canonical:!0})._encodeAll(e)}static encodeOne(e,t){return new DV(t)._encodeAll([e])}static encodeAsync(e,t){return new Promise(((r,n)=>{const i=[],o=new DV(t);o.on("data",(e=>i.push(e))),o.on("error",n),o.on("finish",(()=>r(eo.concat(i)))),o.pushAny(e),o.end()}))}}var jV=DV;const QV=jV,HV=VK,KV=eK.MT;class VV extends Map{constructor(e){super(e)}static _encode(e){return QV.encodeCanonical(e).toString("base64")}static _decode(e){return HV.decodeFirstSync(e,"base64")}get(e){return super.get(VV._encode(e))}set(e,t){return super.set(VV._encode(e),t)}delete(e){return super.delete(VV._encode(e))}has(e){return super.has(VV._encode(e))}*keys(){for(const e of super.keys())yield VV._decode(e)}*entries(){for(const e of super.entries())yield[VV._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,t){if("function"!=typeof e)throw new TypeError("Must be function");for(const t of super.entries())e.call(this,t[1],VV._decode(t[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,KV.MAP))return!1;if(e.canonical){const t=Array.from(super.entries()).map((e=>[eo.from(e[0],"base64"),e[1]]));t.sort(((e,t)=>e[0].compare(t[0])));for(const r of t)if(!e.push(r[0])||!e.pushAny(r[1]))return!1}else for(const t of super.entries())if(!e.push(eo.from(t[0],"base64"))||!e.pushAny(t[1]))return!1;return!0}}var zV=VV;!function(e){e.BigNumber=Qo.exports.BigNumber,e.Commented=rV,e.Diagnose=fV,e.Decoder=VK,e.Encoder=jV,e.Simple=sK,e.Tagged=wK,e.Map=zV,e.comment=e.Commented.comment,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.decodeAllSync=e.Decoder.decodeAllSync,e.decodeFirstSync=e.Decoder.decodeFirstSync,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.encodeCanonical=e.Encoder.encodeCanonical,e.encodeOne=e.Encoder.encodeOne,e.encodeAsync=e.Encoder.encodeAsync,e.decode=e.Decoder.decodeFirstSync,e.leveldb={decode:e.Decoder.decodeAllSync,encode:e.Encoder.encode,buffer:!0,name:"cbor"},e.hasBigInt=ZH.hasBigInt}(XH);var qV={exports:{}};const{Buffer:GV}=Do;const{Buffer:WV}=Do,$V=class{constructor(e,t,r,n){this.name=e,this.code=t,this.alphabet=n,r&&n&&(this.engine=r(n))}encode(e){return this.engine.encode(e)}decode(e){return this.engine.decode(e)}isImplemented(){return this.engine}},JV=function(e){return{encode:t=>function(e,t){const r=e.byteLength,n=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-1));let o=0,s=0,a="";for(let e=0;e<r;e++)for(s=s<<8|n[e],o+=8;o>=5;)a+=t[s>>>o-5&31],o-=5;if(o>0&&(a+=t[s<<5-o&31]),i)for(;a.length%8!=0;)a+="=";return a}("string"==typeof t?Uint8Array.from(t):t,e),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base32 character");return function(e,t){const r=(e=e.replace(new RegExp("=","g"),"")).length;let n=0,i=0,o=0;const s=new Uint8Array(5*r/8|0);for(let a=0;a<r;a++)i=i<<5|t.indexOf(e[a]),n+=5,n>=8&&(s[o++]=i>>>n-8&255,n-=8);return s.buffer}(t,e)}}},XV=function(e){const t=e.indexOf("=")>-1,r=e.indexOf("-")>-1&&e.indexOf("_")>-1;return{encode(e){let n="";n="string"==typeof e?WV.from(e).toString("base64"):e.toString("base64"),r&&(n=n.replace(/\+/g,"-").replace(/\//g,"_"));const i=n.indexOf("=");return i>0&&!t&&(n=n.substring(0,i)),n},decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base64 character");return WV.from(t,"base64")}}},YV=[["base1","1","","1"],["base2","0",$B,"01"],["base8","7",$B,"01234567"],["base10","9",$B,"0123456789"],["base16","f",function(e){return{encode:e=>"string"==typeof e?GV.from(e).toString("hex"):e.toString("hex"),decode(t){for(const r of t)if(e.indexOf(r)<0)throw new Error("invalid base16 character");return GV.from(t,"hex")}}},"0123456789abcdef"],["base32","b",JV,"abcdefghijklmnopqrstuvwxyz234567"],["base32pad","c",JV,"abcdefghijklmnopqrstuvwxyz234567="],["base32hex","v",JV,"0123456789abcdefghijklmnopqrstuv"],["base32hexpad","t",JV,"0123456789abcdefghijklmnopqrstuv="],["base32z","h",JV,"ybndrfg8ejkmcpqxot1uwisza345h769"],["base58flickr","Z",$B,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base58btc","z",$B,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base64","m",XV,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",XV,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",XV,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",XV,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],ZV=YV.reduce(((e,t)=>(e[t[0]]=new $V(t[0],t[1],t[2],t[3]),e)),{}),ez=YV.reduce(((e,t)=>(e[t[1]]=ZV[t[0]],e)),{});var tz={names:ZV,codes:ez};!function(e,t){const{Buffer:r}=Do,n=tz;(t=e.exports=o).encode=function(e,t){const n=s(e);return o(n.name,r.from(n.encode(t)))},t.decode=function(e){r.isBuffer(e)&&(e=e.toString());const t=e.substring(0,1);"string"==typeof(e=e.substring(1,e.length))&&(e=r.from(e));const n=s(t);return r.from(n.decode(e.toString()))},t.isEncoded=function(e){if(r.isBuffer(e)&&(e=e.toString()),"[object String]"!==Object.prototype.toString.call(e))return!1;const t=e.substring(0,1);try{return s(t).name}catch(e){return!1}},t.names=Object.freeze(Object.keys(n.names)),t.codes=Object.freeze(Object.keys(n.codes));const i=new Error("Unsupported encoding");function o(e,t){if(!t)throw new Error("requires an encoded buffer");const n=s(e),i=r.from(n.code);return function(e,t){s(e).decode(t.toString())}(n.name,t),r.concat([i,t])}function s(e){let t;if(n.names[e])t=n.names[e];else{if(!n.codes[e])throw i;t=n.codes[e]}if(!t.isImplemented())throw new Error("Base "+e+" is not implemented yet");return t}}(qV,qV.exports);var rz={exports:{}};
/**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   */!function(e,t){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",s=32,a=128,c=1/0,u=9007199254740991,l=NaN,A=4294967295,h=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],f="[object Arguments]",d="[object Array]",p="[object Boolean]",g="[object Date]",m="[object Error]",y="[object Function]",v="[object GeneratorFunction]",b="[object Map]",w="[object Number]",x="[object Object]",_="[object Promise]",B="[object RegExp]",E="[object Set]",S="[object String]",C="[object Symbol]",I="[object WeakMap]",k="[object ArrayBuffer]",P="[object DataView]",T="[object Float32Array]",O="[object Float64Array]",L="[object Int8Array]",N="[object Int16Array]",U="[object Int32Array]",F="[object Uint8Array]",M="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",j=/\b__p \+= '';/g,Q=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,V=/[&<>"']/g,z=RegExp(K.source),q=RegExp(V.source),G=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,$=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,ee=RegExp(Z.source),te=/^\s+/,re=/\s/,ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ae=/[()=,{}\[\]\/\s]/,ce=/\\(\\)?/g,ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,Ae=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,fe=/^\[object .+?Constructor\]$/,de=/^0o[0-7]+$/i,pe=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,me=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,ve="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",be="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_e="["+xe+"]",Be="["+ve+"]",Ee="\\d+",Se="["+be+"]",Ce="[^\\ud800-\\udfff"+xe+Ee+"\\u2700-\\u27bf"+be+we+"]",Ie="\\ud83c[\\udffb-\\udfff]",ke="[^\\ud800-\\udfff]",Pe="(?:\\ud83c[\\udde6-\\uddff]){2}",Te="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="["+we+"]",Le="(?:"+Se+"|"+Ce+")",Ne="(?:"+Oe+"|"+Ce+")",Ue="(?:['‚Äô](?:d|ll|m|re|s|t|ve))?",Fe="(?:['‚Äô](?:D|LL|M|RE|S|T|VE))?",Me="(?:"+Be+"|"+Ie+")?",Re="[\\ufe0e\\ufe0f]?",De=Re+Me+"(?:\\u200d(?:"+[ke,Pe,Te].join("|")+")"+Re+Me+")*",je="(?:"+["[\\u2700-\\u27bf]",Pe,Te].join("|")+")"+De,Qe="(?:"+[ke+Be+"?",Be,Pe,Te,"[\\ud800-\\udfff]"].join("|")+")",He=RegExp("['‚Äô]","g"),Ke=RegExp(Be,"g"),Ve=RegExp(Ie+"(?="+Ie+")|"+Qe+De,"g"),ze=RegExp([Oe+"?"+Se+"+"+Ue+"(?="+[_e,Oe,"$"].join("|")+")",Ne+"+"+Fe+"(?="+[_e,Oe+Le,"$"].join("|")+")",Oe+"?"+Le+"+"+Ue,Oe+"+"+Fe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ee,je].join("|"),"g"),qe=RegExp("[\\u200d\\ud800-\\udfff"+ve+"\\ufe0e\\ufe0f]"),Ge=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,We=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$e=-1,Je={};Je[T]=Je[O]=Je[L]=Je[N]=Je[U]=Je[F]=Je[M]=Je[R]=Je[D]=!0,Je[f]=Je[d]=Je[k]=Je[p]=Je[P]=Je[g]=Je[m]=Je[y]=Je[b]=Je[w]=Je[x]=Je[B]=Je[E]=Je[S]=Je[I]=!1;var Xe={};Xe[f]=Xe[d]=Xe[k]=Xe[P]=Xe[p]=Xe[g]=Xe[T]=Xe[O]=Xe[L]=Xe[N]=Xe[U]=Xe[b]=Xe[w]=Xe[x]=Xe[B]=Xe[E]=Xe[S]=Xe[C]=Xe[F]=Xe[M]=Xe[R]=Xe[D]=!0,Xe[m]=Xe[y]=Xe[I]=!1;var Ye={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=parseFloat,et=parseInt,tt="object"==typeof Fi&&Fi&&Fi.Object===Object&&Fi,rt="object"==typeof self&&self&&self.Object===Object&&self,nt=tt||rt||Function("return this")(),it=t&&!t.nodeType&&t,ot=it&&e&&!e.nodeType&&e,st=ot&&ot.exports===it,at=st&&tt.process,ct=function(){try{return ot&&ot.require&&ot.require("util").types||at&&at.binding&&at.binding("util")}catch(e){}}(),ut=ct&&ct.isArrayBuffer,lt=ct&&ct.isDate,At=ct&&ct.isMap,ht=ct&&ct.isRegExp,ft=ct&&ct.isSet,dt=ct&&ct.isTypedArray;function pt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function gt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function yt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function vt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function bt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function wt(e,t){return!(null==e||!e.length)&&Tt(e,t,0)>-1}function xt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function _t(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Bt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Et(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function St(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var It=Ut("length");function kt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Pt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Tt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Pt(e,Lt,r)}function Ot(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Lt(e){return e!=e}function Nt(e,t){var r=null==e?0:e.length;return r?Rt(e,t)/r:l}function Ut(e){return function(t){return null==t?r:t[e]}}function Ft(e){return function(t){return null==e?r:e[t]}}function Mt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Rt(e,t){for(var n,i=-1,o=e.length;++i<o;){var s=t(e[i]);s!==r&&(n=n===r?s:n+s)}return n}function Dt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function jt(e){return e?e.slice(0,nr(e)+1).replace(te,""):e}function Qt(e){return function(t){return e(t)}}function Ht(e,t){return _t(t,(function(t){return e[t]}))}function Kt(e,t){return e.has(t)}function Vt(e,t){for(var r=-1,n=e.length;++r<n&&Tt(t,e[r],0)>-1;);return r}function zt(e,t){for(var r=e.length;r--&&Tt(t,e[r],0)>-1;);return r}function qt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Gt=Ft({"√Ä":"A","√Å":"A","√Ç":"A","√É":"A","√Ñ":"A","√Ö":"A","√†":"a","√°":"a","√¢":"a","√£":"a","√§":"a","√•":"a","√á":"C","√ß":"c","√ê":"D","√∞":"d","√à":"E","√â":"E","√ä":"E","√ã":"E","√®":"e","√©":"e","√™":"e","√´":"e","√å":"I","√ç":"I","√é":"I","√è":"I","√¨":"i","√≠":"i","√Æ":"i","√Ø":"i","√ë":"N","√±":"n","√í":"O","√ì":"O","√î":"O","√ï":"O","√ñ":"O","√ò":"O","√≤":"o","√≥":"o","√¥":"o","√µ":"o","√∂":"o","√∏":"o","√ô":"U","√ö":"U","√õ":"U","√ú":"U","√π":"u","√∫":"u","√ª":"u","√º":"u","√ù":"Y","√Ω":"y","√ø":"y","√Ü":"Ae","√¶":"ae","√û":"Th","√æ":"th","√ü":"ss","ƒÄ":"A","ƒÇ":"A","ƒÑ":"A","ƒÅ":"a","ƒÉ":"a","ƒÖ":"a","ƒÜ":"C","ƒà":"C","ƒä":"C","ƒå":"C","ƒá":"c","ƒâ":"c","ƒã":"c","ƒç":"c","ƒé":"D","ƒê":"D","ƒè":"d","ƒë":"d","ƒí":"E","ƒî":"E","ƒñ":"E","ƒò":"E","ƒö":"E","ƒì":"e","ƒï":"e","ƒó":"e","ƒô":"e","ƒõ":"e","ƒú":"G","ƒû":"G","ƒ†":"G","ƒ¢":"G","ƒù":"g","ƒü":"g","ƒ°":"g","ƒ£":"g","ƒ§":"H","ƒ¶":"H","ƒ•":"h","ƒß":"h","ƒ®":"I","ƒ™":"I","ƒ¨":"I","ƒÆ":"I","ƒ∞":"I","ƒ©":"i","ƒ´":"i","ƒ≠":"i","ƒØ":"i","ƒ±":"i","ƒ¥":"J","ƒµ":"j","ƒ∂":"K","ƒ∑":"k","ƒ∏":"k","ƒπ":"L","ƒª":"L","ƒΩ":"L","ƒø":"L","≈Å":"L","ƒ∫":"l","ƒº":"l","ƒæ":"l","≈Ä":"l","≈Ç":"l","≈É":"N","≈Ö":"N","≈á":"N","≈ä":"N","≈Ñ":"n","≈Ü":"n","≈à":"n","≈ã":"n","≈å":"O","≈é":"O","≈ê":"O","≈ç":"o","≈è":"o","≈ë":"o","≈î":"R","≈ñ":"R","≈ò":"R","≈ï":"r","≈ó":"r","≈ô":"r","≈ö":"S","≈ú":"S","≈û":"S","≈†":"S","≈õ":"s","≈ù":"s","≈ü":"s","≈°":"s","≈¢":"T","≈§":"T","≈¶":"T","≈£":"t","≈•":"t","≈ß":"t","≈®":"U","≈™":"U","≈¨":"U","≈Æ":"U","≈∞":"U","≈≤":"U","≈©":"u","≈´":"u","≈≠":"u","≈Ø":"u","≈±":"u","≈≥":"u","≈¥":"W","≈µ":"w","≈∂":"Y","≈∑":"y","≈∏":"Y","≈π":"Z","≈ª":"Z","≈Ω":"Z","≈∫":"z","≈º":"z","≈æ":"z","ƒ≤":"IJ","ƒ≥":"ij","≈í":"Oe","≈ì":"oe","≈â":"'n","≈ø":"s"}),Wt=Ft({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $t(e){return"\\"+Ye[e]}function Jt(e){return qe.test(e)}function Xt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Yt(e,t){return function(r){return e(t(r))}}function Zt(e,t){for(var r=-1,n=e.length,i=0,s=[];++r<n;){var a=e[r];a!==t&&a!==o||(e[r]=o,s[i++]=r)}return s}function er(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function tr(e){return Jt(e)?function(e){for(var t=Ve.lastIndex=0;Ve.test(e);)++t;return t}(e):It(e)}function rr(e){return Jt(e)?function(e){return e.match(Ve)||[]}(e):function(e){return e.split("")}(e)}function nr(e){for(var t=e.length;t--&&re.test(e.charAt(t)););return t}var ir=Ft({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),or=function e(t){var re,ve=(t=null==t?nt:or.defaults(nt.Object(),t,or.pick(nt,We))).Array,be=t.Date,we=t.Error,xe=t.Function,_e=t.Math,Be=t.Object,Ee=t.RegExp,Se=t.String,Ce=t.TypeError,Ie=ve.prototype,ke=xe.prototype,Pe=Be.prototype,Te=t["__core-js_shared__"],Oe=ke.toString,Le=Pe.hasOwnProperty,Ne=0,Ue=(re=/[^.]+$/.exec(Te&&Te.keys&&Te.keys.IE_PROTO||""))?"Symbol(src)_1."+re:"",Fe=Pe.toString,Me=Oe.call(Be),Re=nt._,De=Ee("^"+Oe.call(Le).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=st?t.Buffer:r,Qe=t.Symbol,Ve=t.Uint8Array,qe=je?je.allocUnsafe:r,Ye=Yt(Be.getPrototypeOf,Be),tt=Be.create,rt=Pe.propertyIsEnumerable,it=Ie.splice,ot=Qe?Qe.isConcatSpreadable:r,at=Qe?Qe.iterator:r,ct=Qe?Qe.toStringTag:r,It=function(){try{var e=co(Be,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ft=t.clearTimeout!==nt.clearTimeout&&t.clearTimeout,sr=be&&be.now!==nt.Date.now&&be.now,ar=t.setTimeout!==nt.setTimeout&&t.setTimeout,cr=_e.ceil,ur=_e.floor,lr=Be.getOwnPropertySymbols,Ar=je?je.isBuffer:r,hr=t.isFinite,fr=Ie.join,dr=Yt(Be.keys,Be),pr=_e.max,gr=_e.min,mr=be.now,yr=t.parseInt,vr=_e.random,br=Ie.reverse,wr=co(t,"DataView"),xr=co(t,"Map"),_r=co(t,"Promise"),Br=co(t,"Set"),Er=co(t,"WeakMap"),Sr=co(Be,"create"),Cr=Er&&new Er,Ir={},kr=Fo(wr),Pr=Fo(xr),Tr=Fo(_r),Or=Fo(Br),Lr=Fo(Er),Nr=Qe?Qe.prototype:r,Ur=Nr?Nr.valueOf:r,Fr=Nr?Nr.toString:r;function Mr(e){if(Zs(e)&&!Hs(e)&&!(e instanceof Qr)){if(e instanceof jr)return e;if(Le.call(e,"__wrapped__"))return Mo(e)}return new jr(e)}var Rr=function(){function e(){}return function(t){if(!Ys(t))return{};if(tt)return tt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Dr(){}function jr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Qr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=A,this.__views__=[]}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Vr;++t<r;)this.add(e[t])}function qr(e){var t=this.__data__=new Kr(e);this.size=t.size}function Gr(e,t){var r=Hs(e),n=!r&&Qs(e),i=!r&&!n&&qs(e),o=!r&&!n&&!i&&aa(e),s=r||n||i||o,a=s?Dt(e.length,Se):[],c=a.length;for(var u in e)!t&&!Le.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,c))||a.push(u);return a}function Wr(e){var t=e.length;return t?e[zn(0,t-1)]:r}function $r(e,t){return Lo(Si(e),on(t,0,e.length))}function Jr(e){return Lo(Si(e))}function Xr(e,t,n){(n!==r&&!Rs(e[t],n)||n===r&&!(t in e))&&rn(e,t,n)}function Yr(e,t,n){var i=e[t];Le.call(e,t)&&Rs(i,n)&&(n!==r||t in e)||rn(e,t,n)}function Zr(e,t){for(var r=e.length;r--;)if(Rs(e[r][0],t))return r;return-1}function en(e,t,r,n){return ln(e,(function(e,i,o){t(n,e,r(e),o)})),n}function tn(e,t){return e&&Ci(t,ka(t),e)}function rn(e,t,r){"__proto__"==t&&It?It(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(e,t){for(var n=-1,i=t.length,o=ve(i),s=null==e;++n<i;)o[n]=s?r:Ba(e,t[n]);return o}function on(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function sn(e,t,n,i,o,s){var a,c=1&t,u=2&t,l=4&t;if(n&&(a=o?n(e,i,o,s):n(e)),a!==r)return a;if(!Ys(e))return e;var A=Hs(e);if(A){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return Si(e,a)}else{var h=Ao(e),d=h==y||h==v;if(qs(e))return bi(e,c);if(h==x||h==f||d&&!o){if(a=u||d?{}:fo(e),!c)return u?function(e,t){return Ci(e,lo(e),t)}(e,function(e,t){return e&&Ci(t,Pa(t),e)}(a,e)):function(e,t){return Ci(e,uo(e),t)}(e,tn(a,e))}else{if(!Xe[h])return o?e:{};a=function(e,t,r){var n,i=e.constructor;switch(t){case k:return wi(e);case p:case g:return new i(+e);case P:return function(e,t){var r=t?wi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case T:case O:case L:case N:case U:case F:case M:case R:case D:return xi(e,r);case b:return new i;case w:case S:return new i(e);case B:return function(e){var t=new e.constructor(e.source,le.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new i;case C:return n=e,Ur?Be(Ur.call(n)):{}}}(e,h,c)}}s||(s=new qr);var m=s.get(e);if(m)return m;s.set(e,a),ia(e)?e.forEach((function(r){a.add(sn(r,t,n,r,e,s))})):ea(e)&&e.forEach((function(r,i){a.set(i,sn(r,t,n,i,e,s))}));var _=A?r:(l?u?to:eo:u?Pa:ka)(e);return mt(_||e,(function(r,i){_&&(r=e[i=r]),Yr(a,i,sn(r,t,n,i,e,s))})),a}function an(e,t,n){var i=n.length;if(null==e)return!i;for(e=Be(e);i--;){var o=n[i],s=t[o],a=e[o];if(a===r&&!(o in e)||!s(a))return!1}return!0}function cn(e,t,i){if("function"!=typeof e)throw new Ce(n);return ko((function(){e.apply(r,i)}),t)}function un(e,t,r,n){var i=-1,o=wt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=_t(t,Qt(r))),n?(o=xt,s=!1):t.length>=200&&(o=Kt,s=!1,t=new zr(t));e:for(;++i<a;){var l=e[i],A=null==r?l:r(l);if(l=n||0!==l?l:0,s&&A==A){for(var h=u;h--;)if(t[h]===A)continue e;c.push(l)}else o(t,A,n)||c.push(l)}return c}Mr.templateSettings={escape:G,evaluate:W,interpolate:$,variable:"",imports:{_:Mr}},Mr.prototype=Dr.prototype,Mr.prototype.constructor=Mr,jr.prototype=Rr(Dr.prototype),jr.prototype.constructor=jr,Qr.prototype=Rr(Dr.prototype),Qr.prototype.constructor=Qr,Hr.prototype.clear=function(){this.__data__=Sr?Sr(null):{},this.size=0},Hr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hr.prototype.get=function(e){var t=this.__data__;if(Sr){var n=t[e];return n===i?r:n}return Le.call(t,e)?t[e]:r},Hr.prototype.has=function(e){var t=this.__data__;return Sr?t[e]!==r:Le.call(t,e)},Hr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Sr&&t===r?i:t,this},Kr.prototype.clear=function(){this.__data__=[],this.size=0},Kr.prototype.delete=function(e){var t=this.__data__,r=Zr(t,e);return!(r<0||(r==t.length-1?t.pop():it.call(t,r,1),--this.size,0))},Kr.prototype.get=function(e){var t=this.__data__,n=Zr(t,e);return n<0?r:t[n][1]},Kr.prototype.has=function(e){return Zr(this.__data__,e)>-1},Kr.prototype.set=function(e,t){var r=this.__data__,n=Zr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Vr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(xr||Kr),string:new Hr}},Vr.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Vr.prototype.get=function(e){return so(this,e).get(e)},Vr.prototype.has=function(e){return so(this,e).has(e)},Vr.prototype.set=function(e,t){var r=so(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},zr.prototype.add=zr.prototype.push=function(e){return this.__data__.set(e,i),this},zr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.clear=function(){this.__data__=new Kr,this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},qr.prototype.get=function(e){return this.__data__.get(e)},qr.prototype.has=function(e){return this.__data__.has(e)},qr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Kr){var n=r.__data__;if(!xr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Vr(n)}return r.set(e,t),this.size=r.size,this};var ln=Pi(yn),An=Pi(vn,!0);function hn(e,t){var r=!0;return ln(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function fn(e,t,n){for(var i=-1,o=e.length;++i<o;){var s=e[i],a=t(s);if(null!=a&&(c===r?a==a&&!sa(a):n(a,c)))var c=a,u=s}return u}function dn(e,t){var r=[];return ln(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function pn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=po),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?pn(a,t-1,r,n,i):Bt(i,a):n||(i[i.length]=a)}return i}var gn=Ti(),mn=Ti(!0);function yn(e,t){return e&&gn(e,t,ka)}function vn(e,t){return e&&mn(e,t,ka)}function bn(e,t){return bt(t,(function(t){return $s(e[t])}))}function wn(e,t){for(var n=0,i=(t=gi(t,e)).length;null!=e&&n<i;)e=e[Uo(t[n++])];return n&&n==i?e:r}function xn(e,t,r){var n=t(e);return Hs(e)?n:Bt(n,r(e))}function _n(e){return null==e?e===r?"[object Undefined]":"[object Null]":ct&&ct in Be(e)?function(e){var t=Le.call(e,ct),n=e[ct];try{e[ct]=r;var i=!0}catch(e){}var o=Fe.call(e);return i&&(t?e[ct]=n:delete e[ct]),o}(e):function(e){return Fe.call(e)}(e)}function Bn(e,t){return e>t}function En(e,t){return null!=e&&Le.call(e,t)}function Sn(e,t){return null!=e&&t in Be(e)}function Cn(e,t,n){for(var i=n?xt:wt,o=e[0].length,s=e.length,a=s,c=ve(s),u=1/0,l=[];a--;){var A=e[a];a&&t&&(A=_t(A,Qt(t))),u=gr(A.length,u),c[a]=!n&&(t||o>=120&&A.length>=120)?new zr(a&&A):r}A=e[0];var h=-1,f=c[0];e:for(;++h<o&&l.length<u;){var d=A[h],p=t?t(d):d;if(d=n||0!==d?d:0,!(f?Kt(f,p):i(l,p,n))){for(a=s;--a;){var g=c[a];if(!(g?Kt(g,p):i(e[a],p,n)))continue e}f&&f.push(p),l.push(d)}}return l}function In(e,t,n){var i=null==(e=Eo(e,t=gi(t,e)))?e:e[Uo(Wo(t))];return null==i?r:pt(i,e,n)}function kn(e){return Zs(e)&&_n(e)==f}function Pn(e,t,n,i,o){return e===t||(null==e||null==t||!Zs(e)&&!Zs(t)?e!=e&&t!=t:function(e,t,n,i,o,s){var a=Hs(e),c=Hs(t),u=a?d:Ao(e),l=c?d:Ao(t),A=(u=u==f?x:u)==x,h=(l=l==f?x:l)==x,y=u==l;if(y&&qs(e)){if(!qs(t))return!1;a=!0,A=!1}if(y&&!A)return s||(s=new qr),a||aa(e)?Yi(e,t,n,i,o,s):function(e,t,r,n,i,o,s){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case p:case g:case w:return Rs(+e,+t);case m:return e.name==t.name&&e.message==t.message;case B:case S:return e==t+"";case b:var a=Xt;case E:var c=1&n;if(a||(a=er),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var l=Yi(a(e),a(t),n,i,o,s);return s.delete(e),l;case C:if(Ur)return Ur.call(e)==Ur.call(t)}return!1}(e,t,u,n,i,o,s);if(!(1&n)){var v=A&&Le.call(e,"__wrapped__"),_=h&&Le.call(t,"__wrapped__");if(v||_){var I=v?e.value():e,T=_?t.value():t;return s||(s=new qr),o(I,T,n,i,s)}}return!!y&&(s||(s=new qr),function(e,t,n,i,o,s){var a=1&n,c=eo(e),u=c.length;if(u!=eo(t).length&&!a)return!1;for(var l=u;l--;){var A=c[l];if(!(a?A in t:Le.call(t,A)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var d=!0;s.set(e,t),s.set(t,e);for(var p=a;++l<u;){var g=e[A=c[l]],m=t[A];if(i)var y=a?i(m,g,A,t,e,s):i(g,m,A,e,t,s);if(!(y===r?g===m||o(g,m,n,i,s):y)){d=!1;break}p||(p="constructor"==A)}if(d&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(d=!1)}return s.delete(e),s.delete(t),d}(e,t,n,i,o,s))}(e,t,n,i,Pn,o))}function Tn(e,t,n,i){var o=n.length,s=o,a=!i;if(null==e)return!s;for(e=Be(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],l=e[u],A=c[1];if(a&&c[2]){if(l===r&&!(u in e))return!1}else{var h=new qr;if(i)var f=i(l,A,u,e,t,h);if(!(f===r?Pn(A,l,3,i,h):f))return!1}}return!0}function On(e){return!(!Ys(e)||(t=e,Ue&&Ue in t))&&($s(e)?De:fe).test(Fo(e));var t}function Ln(e){return"function"==typeof e?e:null==e?tc:"object"==typeof e?Hs(e)?Rn(e[0],e[1]):Mn(e):lc(e)}function Nn(e){if(!wo(e))return dr(e);var t=[];for(var r in Be(e))Le.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Un(e,t){return e<t}function Fn(e,t){var r=-1,n=Vs(e)?ve(e.length):[];return ln(e,(function(e,i,o){n[++r]=t(e,i,o)})),n}function Mn(e){var t=ao(e);return 1==t.length&&t[0][2]?_o(t[0][0],t[0][1]):function(r){return r===e||Tn(r,e,t)}}function Rn(e,t){return yo(e)&&xo(t)?_o(Uo(e),t):function(n){var i=Ba(n,e);return i===r&&i===t?Ea(n,e):Pn(t,i,3)}}function Dn(e,t,n,i,o){e!==t&&gn(t,(function(s,a){if(o||(o=new qr),Ys(s))!function(e,t,n,i,o,s,a){var c=Co(e,n),u=Co(t,n),l=a.get(u);if(l)Xr(e,n,l);else{var A=s?s(c,u,n+"",e,t,a):r,h=A===r;if(h){var f=Hs(u),d=!f&&qs(u),p=!f&&!d&&aa(u);A=u,f||d||p?Hs(c)?A=c:zs(c)?A=Si(c):d?(h=!1,A=bi(u,!0)):p?(h=!1,A=xi(u,!0)):A=[]:ra(u)||Qs(u)?(A=c,Qs(c)?A=pa(c):Ys(c)&&!$s(c)||(A=fo(u))):h=!1}h&&(a.set(u,A),o(A,u,i,s,a),a.delete(u)),Xr(e,n,A)}}(e,t,a,n,Dn,i,o);else{var c=i?i(Co(e,a),s,a+"",e,t,o):r;c===r&&(c=s),Xr(e,a,c)}}),Pa)}function jn(e,t){var n=e.length;if(n)return go(t+=t<0?n:0,n)?e[t]:r}function Qn(e,t,r){t=t.length?_t(t,(function(e){return Hs(e)?function(t){return wn(t,1===e.length?e[0]:e)}:e})):[tc];var n=-1;t=_t(t,Qt(oo()));var i=Fn(e,(function(e,r,i){var o=_t(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var c=_i(i[n],o[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Hn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=wn(e,s);r(a,s)&&Jn(o,gi(s,e),a)}return o}function Kn(e,t,r,n){var i=n?Ot:Tt,o=-1,s=t.length,a=e;for(e===t&&(t=Si(t)),r&&(a=_t(e,Qt(r)));++o<s;)for(var c=0,u=t[o],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==e&&it.call(a,c,1),it.call(e,c,1);return e}function Vn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;go(i)?it.call(e,i,1):ci(e,i)}}return e}function zn(e,t){return e+ur(vr()*(t-e+1))}function qn(e,t){var r="";if(!e||t<1||t>u)return r;do{t%2&&(r+=e),(t=ur(t/2))&&(e+=e)}while(t);return r}function Gn(e,t){return Po(Bo(e,t,tc),e+"")}function Wn(e){return Wr(Ra(e))}function $n(e,t){var r=Ra(e);return Lo(r,on(t,0,r.length))}function Jn(e,t,n,i){if(!Ys(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Uo(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var A=c[u];(l=i?i(A,u,c):r)===r&&(l=Ys(A)?A:go(t[o+1])?[]:{})}Yr(c,u,l),c=c[u]}return e}var Xn=Cr?function(e,t){return Cr.set(e,t),e}:tc,Yn=It?function(e,t){return It(e,"toString",{configurable:!0,enumerable:!1,value:Ya(t),writable:!0})}:tc;function Zn(e){return Lo(Ra(e))}function ei(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=ve(i);++n<i;)o[n]=e[n+t];return o}function ti(e,t){var r;return ln(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ri(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!sa(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return ni(e,t,tc,r)}function ni(e,t,n,i){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,u=sa(t),l=t===r;o<s;){var A=ur((o+s)/2),h=n(e[A]),f=h!==r,d=null===h,p=h==h,g=sa(h);if(a)var m=i||p;else m=l?p&&(i||f):c?p&&f&&(i||!d):u?p&&f&&!d&&(i||!g):!d&&!g&&(i?h<=t:h<t);m?o=A+1:s=A}return gr(s,4294967294)}function ii(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Rs(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:sa(e)?l:+e}function si(e){if("string"==typeof e)return e;if(Hs(e))return _t(e,si)+"";if(sa(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,r){var n=-1,i=wt,o=e.length,s=!0,a=[],c=a;if(r)s=!1,i=xt;else if(o>=200){var u=t?null:qi(e);if(u)return er(u);s=!1,i=Kt,c=new zr}else c=t?[]:a;e:for(;++n<o;){var l=e[n],A=t?t(l):l;if(l=r||0!==l?l:0,s&&A==A){for(var h=c.length;h--;)if(c[h]===A)continue e;t&&c.push(A),a.push(l)}else i(c,A,r)||(c!==a&&c.push(A),a.push(l))}return a}function ci(e,t){return null==(e=Eo(e,t=gi(t,e)))||delete e[Uo(Wo(t))]}function ui(e,t,r,n){return Jn(e,t,r(wn(e,t)),n)}function li(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ei(e,n?0:o,n?o+1:i):ei(e,n?o+1:0,n?i:o)}function Ai(e,t){var r=e;return r instanceof Qr&&(r=r.value()),Et(t,(function(e,t){return t.func.apply(t.thisArg,Bt([e],t.args))}),r)}function hi(e,t,r){var n=e.length;if(n<2)return n?ai(e[0]):[];for(var i=-1,o=ve(n);++i<n;)for(var s=e[i],a=-1;++a<n;)a!=i&&(o[i]=un(o[i]||s,e[a],t,r));return ai(pn(o,1),t,r)}function fi(e,t,n){for(var i=-1,o=e.length,s=t.length,a={};++i<o;){var c=i<s?t[i]:r;n(a,e[i],c)}return a}function di(e){return zs(e)?e:[]}function pi(e){return"function"==typeof e?e:tc}function gi(e,t){return Hs(e)?e:yo(e,t)?[e]:No(ga(e))}var mi=Gn;function yi(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ei(e,t,n)}var vi=Ft||function(e){return nt.clearTimeout(e)};function bi(e,t){if(t)return e.slice();var r=e.length,n=qe?qe(r):new e.constructor(r);return e.copy(n),n}function wi(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function xi(e,t){var r=t?wi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function _i(e,t){if(e!==t){var n=e!==r,i=null===e,o=e==e,s=sa(e),a=t!==r,c=null===t,u=t==t,l=sa(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||i&&a&&u||!n&&u||!o)return 1;if(!i&&!s&&!l&&e<t||l&&n&&o&&!i&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Bi(e,t,r,n){for(var i=-1,o=e.length,s=r.length,a=-1,c=t.length,u=pr(o-s,0),l=ve(c+u),A=!n;++a<c;)l[a]=t[a];for(;++i<s;)(A||i<o)&&(l[r[i]]=e[i]);for(;u--;)l[a++]=e[i++];return l}function Ei(e,t,r,n){for(var i=-1,o=e.length,s=-1,a=r.length,c=-1,u=t.length,l=pr(o-a,0),A=ve(l+u),h=!n;++i<l;)A[i]=e[i];for(var f=i;++c<u;)A[f+c]=t[c];for(;++s<a;)(h||i<o)&&(A[f+r[s]]=e[i++]);return A}function Si(e,t){var r=-1,n=e.length;for(t||(t=ve(n));++r<n;)t[r]=e[r];return t}function Ci(e,t,n,i){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=i?i(n[c],e[c],c,n,e):r;u===r&&(u=e[c]),o?rn(n,c,u):Yr(n,c,u)}return n}function Ii(e,t){return function(r,n){var i=Hs(r)?gt:en,o=t?t():{};return i(r,e,oo(n,2),o)}}function ki(e){return Gn((function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;for(s=e.length>3&&"function"==typeof s?(o--,s):r,a&&mo(n[0],n[1],a)&&(s=o<3?r:s,o=1),t=Be(t);++i<o;){var c=n[i];c&&e(t,c,i,s)}return t}))}function Pi(e,t){return function(r,n){if(null==r)return r;if(!Vs(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Be(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ti(e){return function(t,r,n){for(var i=-1,o=Be(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}function Oi(e){return function(t){var n=Jt(t=ga(t))?rr(t):r,i=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return i[e]()+o}}function Li(e){return function(t){return Et($a(Qa(t).replace(He,"")),e,"")}}function Ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Rr(e.prototype),n=e.apply(r,t);return Ys(n)?n:r}}function Ui(e){return function(t,n,i){var o=Be(t);if(!Vs(t)){var s=oo(n,3);t=ka(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,i);return a>-1?o[s?t[a]:a]:r}}function Fi(e){return Zi((function(t){var i=t.length,o=i,s=jr.prototype.thru;for(e&&t.reverse();o--;){var a=t[o];if("function"!=typeof a)throw new Ce(n);if(s&&!c&&"wrapper"==no(a))var c=new jr([],!0)}for(o=c?o:i;++o<i;){var u=no(a=t[o]),l="wrapper"==u?ro(a):r;c=l&&vo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[no(l[0])].apply(c,l[3]):1==a.length&&vo(a)?c[u]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Hs(r))return c.plant(r).value();for(var n=0,o=i?t[n].apply(this,e):r;++n<i;)o=t[n].call(this,o);return o}}))}function Mi(e,t,n,i,o,s,c,u,l,A){var h=t&a,f=1&t,d=2&t,p=24&t,g=512&t,m=d?r:Ni(e);return function r(){for(var a=arguments.length,y=ve(a),v=a;v--;)y[v]=arguments[v];if(p)var b=io(r),w=qt(y,b);if(i&&(y=Bi(y,i,o,p)),s&&(y=Ei(y,s,c,p)),a-=w,p&&a<A){var x=Zt(y,b);return Vi(e,t,Mi,r.placeholder,n,y,x,u,l,A-a)}var _=f?n:this,B=d?_[e]:e;return a=y.length,u?y=So(y,u):g&&a>1&&y.reverse(),h&&l<a&&(y.length=l),this&&this!==nt&&this instanceof r&&(B=m||Ni(B)),B.apply(_,y)}}function Ri(e,t){return function(r,n){return function(e,t,r,n){return yn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Di(e,t){return function(n,i){var o;if(n===r&&i===r)return t;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=si(n),i=si(i)):(n=oi(n),i=oi(i)),o=e(n,i)}return o}}function ji(e){return Zi((function(t){return t=_t(t,Qt(oo())),Gn((function(r){var n=this;return e(t,(function(e){return pt(e,n,r)}))}))}))}function Qi(e,t){var n=(t=t===r?" ":si(t)).length;if(n<2)return n?qn(t,e):t;var i=qn(t,cr(e/tr(t)));return Jt(t)?yi(rr(i),0,e).join(""):i.slice(0,e)}function Hi(e){return function(t,n,i){return i&&"number"!=typeof i&&mo(t,n,i)&&(n=i=r),t=Aa(t),n===r?(n=t,t=0):n=Aa(n),function(e,t,r,n){for(var i=-1,o=pr(cr((t-e)/(r||1)),0),s=ve(o);o--;)s[n?o:++i]=e,e+=r;return s}(t,n,i=i===r?t<n?1:-1:Aa(i),e)}}function Ki(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=da(t),r=da(r)),e(t,r)}}function Vi(e,t,n,i,o,a,c,u,l,A){var h=8&t;t|=h?s:64,4&(t&=~(h?64:s))||(t&=-4);var f=[e,t,o,h?a:r,h?c:r,h?r:a,h?r:c,u,l,A],d=n.apply(r,f);return vo(e)&&Io(d,f),d.placeholder=i,To(d,e,t)}function zi(e){var t=_e[e];return function(e,r){if(e=da(e),(r=null==r?0:gr(ha(r),292))&&hr(e)){var n=(ga(e)+"e").split("e");return+((n=(ga(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var qi=Br&&1/er(new Br([,-0]))[1]==c?function(e){return new Br(e)}:sc;function Gi(e){return function(t){var r=Ao(t);return r==b?Xt(t):r==E?function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}(t):function(e,t){return _t(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Wi(e,t,i,c,u,l,A,h){var f=2&t;if(!f&&"function"!=typeof e)throw new Ce(n);var d=c?c.length:0;if(d||(t&=-97,c=u=r),A=A===r?A:pr(ha(A),0),h=h===r?h:ha(h),d-=u?u.length:0,64&t){var p=c,g=u;c=u=r}var m=f?r:ro(e),y=[e,t,i,c,u,p,g,l,A,h];if(m&&function(e,t){var r=e[1],n=t[1],i=r|n,s=i<131,c=n==a&&8==r||n==a&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!s&&!c)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Bi(l,u,t[4]):u,e[4]=l?Zt(e[3],o):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ei(l,u,t[6]):u,e[6]=l?Zt(e[5],o):t[6]),(u=t[7])&&(e[7]=u),n&a&&(e[8]=null==e[8]?t[8]:gr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(y,m),e=y[0],t=y[1],i=y[2],c=y[3],u=y[4],!(h=y[9]=y[9]===r?f?0:e.length:pr(y[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var i=Ni(e);return function o(){for(var s=arguments.length,a=ve(s),c=s,u=io(o);c--;)a[c]=arguments[c];var l=s<3&&a[0]!==u&&a[s-1]!==u?[]:Zt(a,u);return(s-=l.length)<n?Vi(e,t,Mi,o.placeholder,r,a,l,r,r,n-s):pt(this&&this!==nt&&this instanceof o?i:e,this,a)}}(e,t,h):t!=s&&33!=t||u.length?Mi.apply(r,y):function(e,t,r,n){var i=1&t,o=Ni(e);return function t(){for(var s=-1,a=arguments.length,c=-1,u=n.length,l=ve(u+a),A=this&&this!==nt&&this instanceof t?o:e;++c<u;)l[c]=n[c];for(;a--;)l[c++]=arguments[++s];return pt(A,i?r:this,l)}}(e,t,i,c);else var v=function(e,t,r){var n=1&t,i=Ni(e);return function t(){return(this&&this!==nt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,i);return To((m?Xn:Io)(v,y),e,t)}function $i(e,t,n,i){return e===r||Rs(e,Pe[n])&&!Le.call(i,n)?t:e}function Ji(e,t,n,i,o,s){return Ys(e)&&Ys(t)&&(s.set(t,e),Dn(e,t,r,Ji,s),s.delete(t)),e}function Xi(e){return ra(e)?r:e}function Yi(e,t,n,i,o,s){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),A=s.get(t);if(l&&A)return l==t&&A==e;var h=-1,f=!0,d=2&n?new zr:r;for(s.set(e,t),s.set(t,e);++h<c;){var p=e[h],g=t[h];if(i)var m=a?i(g,p,h,t,e,s):i(p,g,h,e,t,s);if(m!==r){if(m)continue;f=!1;break}if(d){if(!Ct(t,(function(e,t){if(!Kt(d,t)&&(p===e||o(p,e,n,i,s)))return d.push(t)}))){f=!1;break}}else if(p!==g&&!o(p,g,n,i,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Zi(e){return Po(Bo(e,r,Ko),e+"")}function eo(e){return xn(e,ka,uo)}function to(e){return xn(e,Pa,lo)}var ro=Cr?function(e){return Cr.get(e)}:sc;function no(e){for(var t=e.name+"",r=Ir[t],n=Le.call(Ir,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Le.call(Mr,"placeholder")?Mr:e).placeholder}function oo(){var e=Mr.iteratee||rc;return e=e===rc?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function ao(e){for(var t=ka(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xo(i)]}return t}function co(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return On(n)?n:r}var uo=lr?function(e){return null==e?[]:(e=Be(e),bt(lr(e),(function(t){return rt.call(e,t)})))}:fc,lo=lr?function(e){for(var t=[];e;)Bt(t,uo(e)),e=Ye(e);return t}:fc,Ao=_n;function ho(e,t,r){for(var n=-1,i=(t=gi(t,e)).length,o=!1;++n<i;){var s=Uo(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Xs(i)&&go(s,i)&&(Hs(e)||Qs(e))}function fo(e){return"function"!=typeof e.constructor||wo(e)?{}:Rr(Ye(e))}function po(e){return Hs(e)||Qs(e)||!!(ot&&e&&e[ot])}function go(e,t){var r=typeof e;return!!(t=null==t?u:t)&&("number"==r||"symbol"!=r&&pe.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,r){if(!Ys(r))return!1;var n=typeof t;return!!("number"==n?Vs(r)&&go(t,r.length):"string"==n&&t in r)&&Rs(r[t],e)}function yo(e,t){if(Hs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!sa(e))||X.test(e)||!J.test(e)||null!=t&&e in Be(t)}function vo(e){var t=no(e),r=Mr[t];if("function"!=typeof r||!(t in Qr.prototype))return!1;if(e===r)return!0;var n=ro(r);return!!n&&e===n[0]}(wr&&Ao(new wr(new ArrayBuffer(1)))!=P||xr&&Ao(new xr)!=b||_r&&Ao(_r.resolve())!=_||Br&&Ao(new Br)!=E||Er&&Ao(new Er)!=I)&&(Ao=function(e){var t=_n(e),n=t==x?e.constructor:r,i=n?Fo(n):"";if(i)switch(i){case kr:return P;case Pr:return b;case Tr:return _;case Or:return E;case Lr:return I}return t});var bo=Te?$s:dc;function wo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function xo(e){return e==e&&!Ys(e)}function _o(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in Be(n))}}function Bo(e,t,n){return t=pr(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=pr(r.length-t,0),s=ve(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=ve(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),pt(e,this,a)}}function Eo(e,t){return t.length<2?e:wn(e,ei(t,0,-1))}function So(e,t){for(var n=e.length,i=gr(t.length,n),o=Si(e);i--;){var s=t[i];e[i]=go(s,n)?o[s]:r}return e}function Co(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Io=Oo(Xn),ko=ar||function(e,t){return nt.setTimeout(e,t)},Po=Oo(Yn);function To(e,t,r){var n=t+"";return Po(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ne,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return mt(h,(function(r){var n="_."+r[0];t&r[1]&&!wt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ie);return t?t[1].split(oe):[]}(n),r)))}function Oo(e){var t=0,n=0;return function(){var i=mr(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Lo(e,t){var n=-1,i=e.length,o=i-1;for(t=t===r?i:t;++n<t;){var s=zn(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var No=function(e){var t=Os((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Y,(function(e,r,n,i){t.push(n?i.replace(ce,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}();function Uo(e){if("string"==typeof e||sa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fo(e){if(null!=e){try{return Oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Mo(e){if(e instanceof Qr)return e.clone();var t=new jr(e.__wrapped__,e.__chain__);return t.__actions__=Si(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ro=Gn((function(e,t){return zs(e)?un(e,pn(t,1,zs,!0)):[]})),Do=Gn((function(e,t){var n=Wo(t);return zs(n)&&(n=r),zs(e)?un(e,pn(t,1,zs,!0),oo(n,2)):[]})),jo=Gn((function(e,t){var n=Wo(t);return zs(n)&&(n=r),zs(e)?un(e,pn(t,1,zs,!0),r,n):[]}));function Qo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ha(r);return i<0&&(i=pr(n+i,0)),Pt(e,oo(t,3),i)}function Ho(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==r&&(o=ha(n),o=n<0?pr(i+o,0):gr(o,i-1)),Pt(e,oo(t,3),o,!0)}function Ko(e){return null!=e&&e.length?pn(e,1):[]}function Vo(e){return e&&e.length?e[0]:r}var zo=Gn((function(e){var t=_t(e,di);return t.length&&t[0]===e[0]?Cn(t):[]})),qo=Gn((function(e){var t=Wo(e),n=_t(e,di);return t===Wo(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Cn(n,oo(t,2)):[]})),Go=Gn((function(e){var t=Wo(e),n=_t(e,di);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Cn(n,r,t):[]}));function Wo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var $o=Gn(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Kn(e,t):e}var Xo=Zi((function(e,t){var r=null==e?0:e.length,n=nn(e,t);return Vn(e,_t(t,(function(e){return go(e,r)?+e:e})).sort(_i)),n}));function Yo(e){return null==e?e:br.call(e)}var Zo=Gn((function(e){return ai(pn(e,1,zs,!0))})),es=Gn((function(e){var t=Wo(e);return zs(t)&&(t=r),ai(pn(e,1,zs,!0),oo(t,2))})),ts=Gn((function(e){var t=Wo(e);return t="function"==typeof t?t:r,ai(pn(e,1,zs,!0),r,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=bt(e,(function(e){if(zs(e))return t=pr(e.length,t),!0})),Dt(t,(function(t){return _t(e,Ut(t))}))}function ns(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:_t(n,(function(e){return pt(t,r,e)}))}var is=Gn((function(e,t){return zs(e)?un(e,t):[]})),os=Gn((function(e){return hi(bt(e,zs))})),ss=Gn((function(e){var t=Wo(e);return zs(t)&&(t=r),hi(bt(e,zs),oo(t,2))})),as=Gn((function(e){var t=Wo(e);return t="function"==typeof t?t:r,hi(bt(e,zs),r,t)})),cs=Gn(rs),us=Gn((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,ns(e,n)}));function ls(e){var t=Mr(e);return t.__chain__=!0,t}function As(e,t){return t(e)}var hs=Zi((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return nn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Qr&&go(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:As,args:[o],thisArg:r}),new jr(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(o)})),fs=Ii((function(e,t,r){Le.call(e,r)?++e[r]:rn(e,r,1)})),ds=Ui(Qo),ps=Ui(Ho);function gs(e,t){return(Hs(e)?mt:ln)(e,oo(t,3))}function ms(e,t){return(Hs(e)?yt:An)(e,oo(t,3))}var ys=Ii((function(e,t,r){Le.call(e,r)?e[r].push(t):rn(e,r,[t])})),vs=Gn((function(e,t,r){var n=-1,i="function"==typeof t,o=Vs(e)?ve(e.length):[];return ln(e,(function(e){o[++n]=i?pt(t,e,r):In(e,t,r)})),o})),bs=Ii((function(e,t,r){rn(e,r,t)}));function ws(e,t){return(Hs(e)?_t:Fn)(e,oo(t,3))}var xs=Ii((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),_s=Gn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&mo(e,t[0],t[1])?t=[]:r>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Qn(e,pn(t,1),[])})),Bs=sr||function(){return nt.Date.now()};function Es(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Wi(e,a,r,r,r,r,t)}function Ss(e,t){var i;if("function"!=typeof t)throw new Ce(n);return e=ha(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var Cs=Gn((function(e,t,r){var n=1;if(r.length){var i=Zt(r,io(Cs));n|=s}return Wi(e,n,t,r,i)})),Is=Gn((function(e,t,r){var n=3;if(r.length){var i=Zt(r,io(Is));n|=s}return Wi(t,n,e,r,i)}));function ks(e,t,i){var o,s,a,c,u,l,A=0,h=!1,f=!1,d=!0;if("function"!=typeof e)throw new Ce(n);function p(t){var n=o,i=s;return o=s=r,A=t,c=e.apply(i,n)}function g(e){return A=e,u=ko(y,t),h?p(e):c}function m(e){var n=e-l;return l===r||n>=t||n<0||f&&e-A>=a}function y(){var e=Bs();if(m(e))return v(e);u=ko(y,function(e){var r=t-(e-l);return f?gr(r,a-(e-A)):r}(e))}function v(e){return u=r,d&&o?p(e):(o=s=r,c)}function b(){var e=Bs(),n=m(e);if(o=arguments,s=this,l=e,n){if(u===r)return g(l);if(f)return vi(u),u=ko(y,t),p(l)}return u===r&&(u=ko(y,t)),c}return t=da(t)||0,Ys(i)&&(h=!!i.leading,a=(f="maxWait"in i)?pr(da(i.maxWait)||0,t):a,d="trailing"in i?!!i.trailing:d),b.cancel=function(){u!==r&&vi(u),A=0,o=l=s=u=r},b.flush=function(){return u===r?c:v(Bs())},b}var Ps=Gn((function(e,t){return cn(e,1,t)})),Ts=Gn((function(e,t,r){return cn(e,da(t)||0,r)}));function Os(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Os.Cache||Vr),r}function Ls(e){if("function"!=typeof e)throw new Ce(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Os.Cache=Vr;var Ns=mi((function(e,t){var r=(t=1==t.length&&Hs(t[0])?_t(t[0],Qt(oo())):_t(pn(t,1),Qt(oo()))).length;return Gn((function(n){for(var i=-1,o=gr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return pt(e,this,n)}))})),Us=Gn((function(e,t){var n=Zt(t,io(Us));return Wi(e,s,r,t,n)})),Fs=Gn((function(e,t){var n=Zt(t,io(Fs));return Wi(e,64,r,t,n)})),Ms=Zi((function(e,t){return Wi(e,256,r,r,r,t)}));function Rs(e,t){return e===t||e!=e&&t!=t}var Ds=Ki(Bn),js=Ki((function(e,t){return e>=t})),Qs=kn(function(){return arguments}())?kn:function(e){return Zs(e)&&Le.call(e,"callee")&&!rt.call(e,"callee")},Hs=ve.isArray,Ks=ut?Qt(ut):function(e){return Zs(e)&&_n(e)==k};function Vs(e){return null!=e&&Xs(e.length)&&!$s(e)}function zs(e){return Zs(e)&&Vs(e)}var qs=Ar||dc,Gs=lt?Qt(lt):function(e){return Zs(e)&&_n(e)==g};function Ws(e){if(!Zs(e))return!1;var t=_n(e);return t==m||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function $s(e){if(!Ys(e))return!1;var t=_n(e);return t==y||t==v||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==ha(e)}function Xs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function Ys(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Zs(e){return null!=e&&"object"==typeof e}var ea=At?Qt(At):function(e){return Zs(e)&&Ao(e)==b};function ta(e){return"number"==typeof e||Zs(e)&&_n(e)==w}function ra(e){if(!Zs(e)||_n(e)!=x)return!1;var t=Ye(e);if(null===t)return!0;var r=Le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Oe.call(r)==Me}var na=ht?Qt(ht):function(e){return Zs(e)&&_n(e)==B},ia=ft?Qt(ft):function(e){return Zs(e)&&Ao(e)==E};function oa(e){return"string"==typeof e||!Hs(e)&&Zs(e)&&_n(e)==S}function sa(e){return"symbol"==typeof e||Zs(e)&&_n(e)==C}var aa=dt?Qt(dt):function(e){return Zs(e)&&Xs(e.length)&&!!Je[_n(e)]},ca=Ki(Un),ua=Ki((function(e,t){return e<=t}));function la(e){if(!e)return[];if(Vs(e))return oa(e)?rr(e):Si(e);if(at&&e[at])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[at]());var t=Ao(e);return(t==b?Xt:t==E?er:Ra)(e)}function Aa(e){return e?(e=da(e))===c||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ha(e){var t=Aa(e),r=t%1;return t==t?r?t-r:t:0}function fa(e){return e?on(ha(e),0,A):0}function da(e){if("number"==typeof e)return e;if(sa(e))return l;if(Ys(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ys(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jt(e);var r=he.test(e);return r||de.test(e)?et(e.slice(2),r?2:8):Ae.test(e)?l:+e}function pa(e){return Ci(e,Pa(e))}function ga(e){return null==e?"":si(e)}var ma=ki((function(e,t){if(wo(t)||Vs(t))Ci(t,ka(t),e);else for(var r in t)Le.call(t,r)&&Yr(e,r,t[r])})),ya=ki((function(e,t){Ci(t,Pa(t),e)})),va=ki((function(e,t,r,n){Ci(t,Pa(t),e,n)})),ba=ki((function(e,t,r,n){Ci(t,ka(t),e,n)})),wa=Zi(nn),xa=Gn((function(e,t){e=Be(e);var n=-1,i=t.length,o=i>2?t[2]:r;for(o&&mo(t[0],t[1],o)&&(i=1);++n<i;)for(var s=t[n],a=Pa(s),c=-1,u=a.length;++c<u;){var l=a[c],A=e[l];(A===r||Rs(A,Pe[l])&&!Le.call(e,l))&&(e[l]=s[l])}return e})),_a=Gn((function(e){return e.push(r,Ji),pt(Oa,r,e)}));function Ba(e,t,n){var i=null==e?r:wn(e,t);return i===r?n:i}function Ea(e,t){return null!=e&&ho(e,t,Sn)}var Sa=Ri((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),Ya(tc)),Ca=Ri((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(r):e[t]=[r]}),oo),Ia=Gn(In);function ka(e){return Vs(e)?Gr(e):Nn(e)}function Pa(e){return Vs(e)?Gr(e,!0):function(e){if(!Ys(e))return function(e){var t=[];if(null!=e)for(var r in Be(e))t.push(r);return t}(e);var t=wo(e),r=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&r.push(n);return r}(e)}var Ta=ki((function(e,t,r){Dn(e,t,r)})),Oa=ki((function(e,t,r,n){Dn(e,t,r,n)})),La=Zi((function(e,t){var r={};if(null==e)return r;var n=!1;t=_t(t,(function(t){return t=gi(t,e),n||(n=t.length>1),t})),Ci(e,to(e),r),n&&(r=sn(r,7,Xi));for(var i=t.length;i--;)ci(r,t[i]);return r})),Na=Zi((function(e,t){return null==e?{}:function(e,t){return Hn(e,t,(function(t,r){return Ea(e,r)}))}(e,t)}));function Ua(e,t){if(null==e)return{};var r=_t(to(e),(function(e){return[e]}));return t=oo(t),Hn(e,r,(function(e,r){return t(e,r[0])}))}var Fa=Gi(ka),Ma=Gi(Pa);function Ra(e){return null==e?[]:Ht(e,ka(e))}var Da=Li((function(e,t,r){return t=t.toLowerCase(),e+(r?ja(t):t)}));function ja(e){return Wa(ga(e).toLowerCase())}function Qa(e){return(e=ga(e))&&e.replace(ge,Gt).replace(Ke,"")}var Ha=Li((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ka=Li((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Va=Oi("toLowerCase"),za=Li((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),qa=Li((function(e,t,r){return e+(r?" ":"")+Wa(t)})),Ga=Li((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Wa=Oi("toUpperCase");function $a(e,t,n){return e=ga(e),(t=n?r:t)===r?function(e){return Ge.test(e)}(e)?function(e){return e.match(ze)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var Ja=Gn((function(e,t){try{return pt(e,r,t)}catch(e){return Ws(e)?e:new we(e)}})),Xa=Zi((function(e,t){return mt(t,(function(t){t=Uo(t),rn(e,t,Cs(e[t],e))})),e}));function Ya(e){return function(){return e}}var Za=Fi(),ec=Fi(!0);function tc(e){return e}function rc(e){return Ln("function"==typeof e?e:sn(e,1))}var nc=Gn((function(e,t){return function(r){return In(r,e,t)}})),ic=Gn((function(e,t){return function(r){return In(e,r,t)}}));function oc(e,t,r){var n=ka(t),i=bn(t,n);null!=r||Ys(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=bn(t,ka(t)));var o=!(Ys(r)&&"chain"in r&&!r.chain),s=$s(e);return mt(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=Si(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Bt([this.value()],arguments))})})),e}function sc(){}var ac=ji(_t),cc=ji(vt),uc=ji(Ct);function lc(e){return yo(e)?Ut(Uo(e)):function(e){return function(t){return wn(t,e)}}(e)}var Ac=Hi(),hc=Hi(!0);function fc(){return[]}function dc(){return!1}var pc,gc=Di((function(e,t){return e+t}),0),mc=zi("ceil"),yc=Di((function(e,t){return e/t}),1),vc=zi("floor"),bc=Di((function(e,t){return e*t}),1),wc=zi("round"),xc=Di((function(e,t){return e-t}),0);return Mr.after=function(e,t){if("function"!=typeof t)throw new Ce(n);return e=ha(e),function(){if(--e<1)return t.apply(this,arguments)}},Mr.ary=Es,Mr.assign=ma,Mr.assignIn=ya,Mr.assignInWith=va,Mr.assignWith=ba,Mr.at=wa,Mr.before=Ss,Mr.bind=Cs,Mr.bindAll=Xa,Mr.bindKey=Is,Mr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hs(e)?e:[e]},Mr.chain=ls,Mr.chunk=function(e,t,n){t=(n?mo(e,t,n):t===r)?1:pr(ha(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=ve(cr(i/t));o<i;)a[s++]=ei(e,o,o+=t);return a},Mr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Mr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ve(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return Bt(Hs(r)?Si(r):[r],pn(t,1))},Mr.cond=function(e){var t=null==e?0:e.length,r=oo();return e=t?_t(e,(function(e){if("function"!=typeof e[1])throw new Ce(n);return[r(e[0]),e[1]]})):[],Gn((function(r){for(var n=-1;++n<t;){var i=e[n];if(pt(i[0],this,r))return pt(i[1],this,r)}}))},Mr.conforms=function(e){return function(e){var t=ka(e);return function(r){return an(r,e,t)}}(sn(e,1))},Mr.constant=Ya,Mr.countBy=fs,Mr.create=function(e,t){var r=Rr(e);return null==t?r:tn(r,t)},Mr.curry=function e(t,n,i){var o=Wi(t,8,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Mr.curryRight=function e(t,n,i){var o=Wi(t,16,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Mr.debounce=ks,Mr.defaults=xa,Mr.defaultsDeep=_a,Mr.defer=Ps,Mr.delay=Ts,Mr.difference=Ro,Mr.differenceBy=Do,Mr.differenceWith=jo,Mr.drop=function(e,t,n){var i=null==e?0:e.length;return i?ei(e,(t=n||t===r?1:ha(t))<0?0:t,i):[]},Mr.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ei(e,0,(t=i-(t=n||t===r?1:ha(t)))<0?0:t):[]},Mr.dropRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0,!0):[]},Mr.dropWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0):[]},Mr.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=ha(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:ha(i))<0&&(i+=o),i=n>i?0:fa(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Mr.filter=function(e,t){return(Hs(e)?bt:dn)(e,oo(t,3))},Mr.flatMap=function(e,t){return pn(ws(e,t),1)},Mr.flatMapDeep=function(e,t){return pn(ws(e,t),c)},Mr.flatMapDepth=function(e,t,n){return n=n===r?1:ha(n),pn(ws(e,t),n)},Mr.flatten=Ko,Mr.flattenDeep=function(e){return null!=e&&e.length?pn(e,c):[]},Mr.flattenDepth=function(e,t){return null!=e&&e.length?pn(e,t=t===r?1:ha(t)):[]},Mr.flip=function(e){return Wi(e,512)},Mr.flow=Za,Mr.flowRight=ec,Mr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Mr.functions=function(e){return null==e?[]:bn(e,ka(e))},Mr.functionsIn=function(e){return null==e?[]:bn(e,Pa(e))},Mr.groupBy=ys,Mr.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Mr.intersection=zo,Mr.intersectionBy=qo,Mr.intersectionWith=Go,Mr.invert=Sa,Mr.invertBy=Ca,Mr.invokeMap=vs,Mr.iteratee=rc,Mr.keyBy=bs,Mr.keys=ka,Mr.keysIn=Pa,Mr.map=ws,Mr.mapKeys=function(e,t){var r={};return t=oo(t,3),yn(e,(function(e,n,i){rn(r,t(e,n,i),e)})),r},Mr.mapValues=function(e,t){var r={};return t=oo(t,3),yn(e,(function(e,n,i){rn(r,n,t(e,n,i))})),r},Mr.matches=function(e){return Mn(sn(e,1))},Mr.matchesProperty=function(e,t){return Rn(e,sn(t,1))},Mr.memoize=Os,Mr.merge=Ta,Mr.mergeWith=Oa,Mr.method=nc,Mr.methodOf=ic,Mr.mixin=oc,Mr.negate=Ls,Mr.nthArg=function(e){return e=ha(e),Gn((function(t){return jn(t,e)}))},Mr.omit=La,Mr.omitBy=function(e,t){return Ua(e,Ls(oo(t)))},Mr.once=function(e){return Ss(2,e)},Mr.orderBy=function(e,t,n,i){return null==e?[]:(Hs(t)||(t=null==t?[]:[t]),Hs(n=i?r:n)||(n=null==n?[]:[n]),Qn(e,t,n))},Mr.over=ac,Mr.overArgs=Ns,Mr.overEvery=cc,Mr.overSome=uc,Mr.partial=Us,Mr.partialRight=Fs,Mr.partition=xs,Mr.pick=Na,Mr.pickBy=Ua,Mr.property=lc,Mr.propertyOf=function(e){return function(t){return null==e?r:wn(e,t)}},Mr.pull=$o,Mr.pullAll=Jo,Mr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Kn(e,t,oo(r,2)):e},Mr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kn(e,t,r,n):e},Mr.pullAt=Xo,Mr.range=Ac,Mr.rangeRight=hc,Mr.rearg=Ms,Mr.reject=function(e,t){return(Hs(e)?bt:dn)(e,Ls(oo(t,3)))},Mr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=oo(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Vn(e,i),r},Mr.rest=function(e,t){if("function"!=typeof e)throw new Ce(n);return Gn(e,t=t===r?t:ha(t))},Mr.reverse=Yo,Mr.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===r)?1:ha(t),(Hs(e)?$r:$n)(e,t)},Mr.set=function(e,t,r){return null==e?e:Jn(e,t,r)},Mr.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Jn(e,t,n,i)},Mr.shuffle=function(e){return(Hs(e)?Jr:Zn)(e)},Mr.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=i):(t=null==t?0:ha(t),n=n===r?i:ha(n)),ei(e,t,n)):[]},Mr.sortBy=_s,Mr.sortedUniq=function(e){return e&&e.length?ii(e):[]},Mr.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},Mr.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=r),(n=n===r?A:n>>>0)?(e=ga(e))&&("string"==typeof t||null!=t&&!na(t))&&!(t=si(t))&&Jt(e)?yi(rr(e),0,n):e.split(t,n):[]},Mr.spread=function(e,t){if("function"!=typeof e)throw new Ce(n);return t=null==t?0:pr(ha(t),0),Gn((function(r){var n=r[t],i=yi(r,0,t);return n&&Bt(i,n),pt(e,this,i)}))},Mr.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Mr.take=function(e,t,n){return e&&e.length?ei(e,0,(t=n||t===r?1:ha(t))<0?0:t):[]},Mr.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ei(e,(t=i-(t=n||t===r?1:ha(t)))<0?0:t,i):[]},Mr.takeRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!1,!0):[]},Mr.takeWhile=function(e,t){return e&&e.length?li(e,oo(t,3)):[]},Mr.tap=function(e,t){return t(e),e},Mr.throttle=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new Ce(n);return Ys(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),ks(e,t,{leading:i,maxWait:t,trailing:o})},Mr.thru=As,Mr.toArray=la,Mr.toPairs=Fa,Mr.toPairsIn=Ma,Mr.toPath=function(e){return Hs(e)?_t(e,Uo):sa(e)?[e]:Si(No(ga(e)))},Mr.toPlainObject=pa,Mr.transform=function(e,t,r){var n=Hs(e),i=n||qs(e)||aa(e);if(t=oo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:Ys(e)&&$s(o)?Rr(Ye(e)):{}}return(i?mt:yn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Mr.unary=function(e){return Es(e,1)},Mr.union=Zo,Mr.unionBy=es,Mr.unionWith=ts,Mr.uniq=function(e){return e&&e.length?ai(e):[]},Mr.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},Mr.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ai(e,r,t):[]},Mr.unset=function(e,t){return null==e||ci(e,t)},Mr.unzip=rs,Mr.unzipWith=ns,Mr.update=function(e,t,r){return null==e?e:ui(e,t,pi(r))},Mr.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:ui(e,t,pi(n),i)},Mr.values=Ra,Mr.valuesIn=function(e){return null==e?[]:Ht(e,Pa(e))},Mr.without=is,Mr.words=$a,Mr.wrap=function(e,t){return Us(pi(t),e)},Mr.xor=os,Mr.xorBy=ss,Mr.xorWith=as,Mr.zip=cs,Mr.zipObject=function(e,t){return fi(e||[],t||[],Yr)},Mr.zipObjectDeep=function(e,t){return fi(e||[],t||[],Jn)},Mr.zipWith=us,Mr.entries=Fa,Mr.entriesIn=Ma,Mr.extend=ya,Mr.extendWith=va,oc(Mr,Mr),Mr.add=gc,Mr.attempt=Ja,Mr.camelCase=Da,Mr.capitalize=ja,Mr.ceil=mc,Mr.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=da(n))==n?n:0),t!==r&&(t=(t=da(t))==t?t:0),on(da(e),t,n)},Mr.clone=function(e){return sn(e,4)},Mr.cloneDeep=function(e){return sn(e,5)},Mr.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:r)},Mr.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:r)},Mr.conformsTo=function(e,t){return null==t||an(e,t,ka(t))},Mr.deburr=Qa,Mr.defaultTo=function(e,t){return null==e||e!=e?t:e},Mr.divide=yc,Mr.endsWith=function(e,t,n){e=ga(e),t=si(t);var i=e.length,o=n=n===r?i:on(ha(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},Mr.eq=Rs,Mr.escape=function(e){return(e=ga(e))&&q.test(e)?e.replace(V,Wt):e},Mr.escapeRegExp=function(e){return(e=ga(e))&&ee.test(e)?e.replace(Z,"\\$&"):e},Mr.every=function(e,t,n){var i=Hs(e)?vt:hn;return n&&mo(e,t,n)&&(t=r),i(e,oo(t,3))},Mr.find=ds,Mr.findIndex=Qo,Mr.findKey=function(e,t){return kt(e,oo(t,3),yn)},Mr.findLast=ps,Mr.findLastIndex=Ho,Mr.findLastKey=function(e,t){return kt(e,oo(t,3),vn)},Mr.floor=vc,Mr.forEach=gs,Mr.forEachRight=ms,Mr.forIn=function(e,t){return null==e?e:gn(e,oo(t,3),Pa)},Mr.forInRight=function(e,t){return null==e?e:mn(e,oo(t,3),Pa)},Mr.forOwn=function(e,t){return e&&yn(e,oo(t,3))},Mr.forOwnRight=function(e,t){return e&&vn(e,oo(t,3))},Mr.get=Ba,Mr.gt=Ds,Mr.gte=js,Mr.has=function(e,t){return null!=e&&ho(e,t,En)},Mr.hasIn=Ea,Mr.head=Vo,Mr.identity=tc,Mr.includes=function(e,t,r,n){e=Vs(e)?e:Ra(e),r=r&&!n?ha(r):0;var i=e.length;return r<0&&(r=pr(i+r,0)),oa(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Tt(e,t,r)>-1},Mr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ha(r);return i<0&&(i=pr(n+i,0)),Tt(e,t,i)},Mr.inRange=function(e,t,n){return t=Aa(t),n===r?(n=t,t=0):n=Aa(n),function(e,t,r){return e>=gr(t,r)&&e<pr(t,r)}(e=da(e),t,n)},Mr.invoke=Ia,Mr.isArguments=Qs,Mr.isArray=Hs,Mr.isArrayBuffer=Ks,Mr.isArrayLike=Vs,Mr.isArrayLikeObject=zs,Mr.isBoolean=function(e){return!0===e||!1===e||Zs(e)&&_n(e)==p},Mr.isBuffer=qs,Mr.isDate=Gs,Mr.isElement=function(e){return Zs(e)&&1===e.nodeType&&!ra(e)},Mr.isEmpty=function(e){if(null==e)return!0;if(Vs(e)&&(Hs(e)||"string"==typeof e||"function"==typeof e.splice||qs(e)||aa(e)||Qs(e)))return!e.length;var t=Ao(e);if(t==b||t==E)return!e.size;if(wo(e))return!Nn(e).length;for(var r in e)if(Le.call(e,r))return!1;return!0},Mr.isEqual=function(e,t){return Pn(e,t)},Mr.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Pn(e,t,r,n):!!i},Mr.isError=Ws,Mr.isFinite=function(e){return"number"==typeof e&&hr(e)},Mr.isFunction=$s,Mr.isInteger=Js,Mr.isLength=Xs,Mr.isMap=ea,Mr.isMatch=function(e,t){return e===t||Tn(e,t,ao(t))},Mr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Tn(e,t,ao(t),n)},Mr.isNaN=function(e){return ta(e)&&e!=+e},Mr.isNative=function(e){if(bo(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return On(e)},Mr.isNil=function(e){return null==e},Mr.isNull=function(e){return null===e},Mr.isNumber=ta,Mr.isObject=Ys,Mr.isObjectLike=Zs,Mr.isPlainObject=ra,Mr.isRegExp=na,Mr.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=u},Mr.isSet=ia,Mr.isString=oa,Mr.isSymbol=sa,Mr.isTypedArray=aa,Mr.isUndefined=function(e){return e===r},Mr.isWeakMap=function(e){return Zs(e)&&Ao(e)==I},Mr.isWeakSet=function(e){return Zs(e)&&"[object WeakSet]"==_n(e)},Mr.join=function(e,t){return null==e?"":fr.call(e,t)},Mr.kebabCase=Ha,Mr.last=Wo,Mr.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=ha(n))<0?pr(i+o,0):gr(o,i-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Pt(e,Lt,o,!0)},Mr.lowerCase=Ka,Mr.lowerFirst=Va,Mr.lt=ca,Mr.lte=ua,Mr.max=function(e){return e&&e.length?fn(e,tc,Bn):r},Mr.maxBy=function(e,t){return e&&e.length?fn(e,oo(t,2),Bn):r},Mr.mean=function(e){return Nt(e,tc)},Mr.meanBy=function(e,t){return Nt(e,oo(t,2))},Mr.min=function(e){return e&&e.length?fn(e,tc,Un):r},Mr.minBy=function(e,t){return e&&e.length?fn(e,oo(t,2),Un):r},Mr.stubArray=fc,Mr.stubFalse=dc,Mr.stubObject=function(){return{}},Mr.stubString=function(){return""},Mr.stubTrue=function(){return!0},Mr.multiply=bc,Mr.nth=function(e,t){return e&&e.length?jn(e,ha(t)):r},Mr.noConflict=function(){return nt._===this&&(nt._=Re),this},Mr.noop=sc,Mr.now=Bs,Mr.pad=function(e,t,r){e=ga(e);var n=(t=ha(t))?tr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Qi(ur(i),r)+e+Qi(cr(i),r)},Mr.padEnd=function(e,t,r){e=ga(e);var n=(t=ha(t))?tr(e):0;return t&&n<t?e+Qi(t-n,r):e},Mr.padStart=function(e,t,r){e=ga(e);var n=(t=ha(t))?tr(e):0;return t&&n<t?Qi(t-n,r)+e:e},Mr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),yr(ga(e).replace(te,""),t||0)},Mr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Aa(e),t===r?(t=e,e=0):t=Aa(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=vr();return gr(e+o*(t-e+Ze("1e-"+((o+"").length-1))),t)}return zn(e,t)},Mr.reduce=function(e,t,r){var n=Hs(e)?Et:Mt,i=arguments.length<3;return n(e,oo(t,4),r,i,ln)},Mr.reduceRight=function(e,t,r){var n=Hs(e)?St:Mt,i=arguments.length<3;return n(e,oo(t,4),r,i,An)},Mr.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===r)?1:ha(t),qn(ga(e),t)},Mr.replace=function(){var e=arguments,t=ga(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Mr.result=function(e,t,n){var i=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=r);++i<o;){var s=null==e?r:e[Uo(t[i])];s===r&&(i=o,s=n),e=$s(s)?s.call(e):s}return e},Mr.round=wc,Mr.runInContext=e,Mr.sample=function(e){return(Hs(e)?Wr:Wn)(e)},Mr.size=function(e){if(null==e)return 0;if(Vs(e))return oa(e)?tr(e):e.length;var t=Ao(e);return t==b||t==E?e.size:Nn(e).length},Mr.snakeCase=za,Mr.some=function(e,t,n){var i=Hs(e)?Ct:ti;return n&&mo(e,t,n)&&(t=r),i(e,oo(t,3))},Mr.sortedIndex=function(e,t){return ri(e,t)},Mr.sortedIndexBy=function(e,t,r){return ni(e,t,oo(r,2))},Mr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ri(e,t);if(n<r&&Rs(e[n],t))return n}return-1},Mr.sortedLastIndex=function(e,t){return ri(e,t,!0)},Mr.sortedLastIndexBy=function(e,t,r){return ni(e,t,oo(r,2),!0)},Mr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ri(e,t,!0)-1;if(Rs(e[r],t))return r}return-1},Mr.startCase=qa,Mr.startsWith=function(e,t,r){return e=ga(e),r=null==r?0:on(ha(r),0,e.length),t=si(t),e.slice(r,r+t.length)==t},Mr.subtract=xc,Mr.sum=function(e){return e&&e.length?Rt(e,tc):0},Mr.sumBy=function(e,t){return e&&e.length?Rt(e,oo(t,2)):0},Mr.template=function(e,t,n){var i=Mr.templateSettings;n&&mo(e,t,n)&&(t=r),e=ga(e),t=va({},t,i,$i);var o,s,a=va({},t.imports,i.imports,$i),c=ka(a),u=Ht(a,c),l=0,A=t.interpolate||me,h="__p += '",f=Ee((t.escape||me).source+"|"+A.source+"|"+(A===$?ue:me).source+"|"+(t.evaluate||me).source+"|$","g"),d="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$e+"]")+"\n";e.replace(f,(function(t,r,n,i,a,c){return n||(n=i),h+=e.slice(l,c).replace(ye,$t),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),h+="';\n";var p=Le.call(t,"variable")&&t.variable;if(p){if(ae.test(p))throw new we("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(j,""):h).replace(Q,"$1").replace(H,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ja((function(){return xe(c,d+"return "+h).apply(r,u)}));if(g.source=h,Ws(g))throw g;return g},Mr.times=function(e,t){if((e=ha(e))<1||e>u)return[];var r=A,n=gr(e,A);t=oo(t),e-=A;for(var i=Dt(n,t);++r<e;)t(r);return i},Mr.toFinite=Aa,Mr.toInteger=ha,Mr.toLength=fa,Mr.toLower=function(e){return ga(e).toLowerCase()},Mr.toNumber=da,Mr.toSafeInteger=function(e){return e?on(ha(e),-9007199254740991,u):0===e?e:0},Mr.toString=ga,Mr.toUpper=function(e){return ga(e).toUpperCase()},Mr.trim=function(e,t,n){if((e=ga(e))&&(n||t===r))return jt(e);if(!e||!(t=si(t)))return e;var i=rr(e),o=rr(t);return yi(i,Vt(i,o),zt(i,o)+1).join("")},Mr.trimEnd=function(e,t,n){if((e=ga(e))&&(n||t===r))return e.slice(0,nr(e)+1);if(!e||!(t=si(t)))return e;var i=rr(e);return yi(i,0,zt(i,rr(t))+1).join("")},Mr.trimStart=function(e,t,n){if((e=ga(e))&&(n||t===r))return e.replace(te,"");if(!e||!(t=si(t)))return e;var i=rr(e);return yi(i,Vt(i,rr(t))).join("")},Mr.truncate=function(e,t){var n=30,i="...";if(Ys(t)){var o="separator"in t?t.separator:o;n="length"in t?ha(t.length):n,i="omission"in t?si(t.omission):i}var s=(e=ga(e)).length;if(Jt(e)){var a=rr(e);s=a.length}if(n>=s)return e;var c=n-tr(i);if(c<1)return i;var u=a?yi(a,0,c).join(""):e.slice(0,c);if(o===r)return u+i;if(a&&(c+=u.length-c),na(o)){if(e.slice(c).search(o)){var l,A=u;for(o.global||(o=Ee(o.source,ga(le.exec(o))+"g")),o.lastIndex=0;l=o.exec(A);)var h=l.index;u=u.slice(0,h===r?c:h)}}else if(e.indexOf(si(o),c)!=c){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i},Mr.unescape=function(e){return(e=ga(e))&&z.test(e)?e.replace(K,ir):e},Mr.uniqueId=function(e){var t=++Ne;return ga(e)+t},Mr.upperCase=Ga,Mr.upperFirst=Wa,Mr.each=gs,Mr.eachRight=ms,Mr.first=Vo,oc(Mr,(pc={},yn(Mr,(function(e,t){Le.call(Mr.prototype,t)||(pc[t]=e)})),pc),{chain:!1}),Mr.VERSION="4.17.21",mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Mr[e].placeholder=Mr})),mt(["drop","take"],(function(e,t){Qr.prototype[e]=function(n){n=n===r?1:pr(ha(n),0);var i=this.__filtered__&&!t?new Qr(this):this.clone();return i.__filtered__?i.__takeCount__=gr(n,i.__takeCount__):i.__views__.push({size:gr(n,A),type:e+(i.__dir__<0?"Right":"")}),i},Qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),mt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Qr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),mt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Qr.prototype[e]=function(){return this[r](1).value()[0]}})),mt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Qr.prototype[e]=function(){return this.__filtered__?new Qr(this):this[r](1)}})),Qr.prototype.compact=function(){return this.filter(tc)},Qr.prototype.find=function(e){return this.filter(e).head()},Qr.prototype.findLast=function(e){return this.reverse().find(e)},Qr.prototype.invokeMap=Gn((function(e,t){return"function"==typeof e?new Qr(this):this.map((function(r){return In(r,e,t)}))})),Qr.prototype.reject=function(e){return this.filter(Ls(oo(e)))},Qr.prototype.slice=function(e,t){e=ha(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Qr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=ha(t))<0?n.dropRight(-t):n.take(t-e)),n)},Qr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Qr.prototype.toArray=function(){return this.take(A)},yn(Qr.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Mr[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);o&&(Mr.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,c=t instanceof Qr,u=a[0],l=c||Hs(t),A=function(e){var t=o.apply(Mr,Bt([e],a));return i&&h?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,f=!!this.__actions__.length,d=s&&!h,p=c&&!f;if(!s&&l){t=p?t:new Qr(this);var g=e.apply(t,a);return g.__actions__.push({func:As,args:[A],thisArg:r}),new jr(g,h)}return d&&p?e.apply(this,a):(g=this.thru(A),d?i?g.value()[0]:g.value():g)})})),mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Mr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Hs(i)?i:[],e)}return this[r]((function(r){return t.apply(Hs(r)?r:[],e)}))}})),yn(Qr.prototype,(function(e,t){var r=Mr[t];if(r){var n=r.name+"";Le.call(Ir,n)||(Ir[n]=[]),Ir[n].push({name:t,func:r})}})),Ir[Mi(r,2).name]=[{name:"wrapper",func:r}],Qr.prototype.clone=function(){var e=new Qr(this.__wrapped__);return e.__actions__=Si(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Si(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Si(this.__views__),e},Qr.prototype.reverse=function(){if(this.__filtered__){var e=new Qr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Qr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Hs(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=gr(t,e+s);break;case"takeRight":e=pr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=n?a:s-1,l=this.__iteratees__,A=l.length,h=0,f=gr(c,this.__takeCount__);if(!r||!n&&i==c&&f==c)return Ai(e,this.__actions__);var d=[];e:for(;c--&&h<f;){for(var p=-1,g=e[u+=t];++p<A;){var m=l[p],y=m.iteratee,v=m.type,b=y(g);if(2==v)g=b;else if(!b){if(1==v)continue e;break e}}d[h++]=g}return d},Mr.prototype.at=hs,Mr.prototype.chain=function(){return ls(this)},Mr.prototype.commit=function(){return new jr(this.value(),this.__chain__)},Mr.prototype.next=function(){this.__values__===r&&(this.__values__=la(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Mr.prototype.plant=function(e){for(var t,n=this;n instanceof Dr;){var i=Mo(n);i.__index__=0,i.__values__=r,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},Mr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Qr){var t=e;return this.__actions__.length&&(t=new Qr(this)),(t=t.reverse()).__actions__.push({func:As,args:[Yo],thisArg:r}),new jr(t,this.__chain__)}return this.thru(Yo)},Mr.prototype.toJSON=Mr.prototype.valueOf=Mr.prototype.value=function(){return Ai(this.__wrapped__,this.__actions__)},Mr.prototype.first=Mr.prototype.head,at&&(Mr.prototype[at]=function(){return this}),Mr}();ot?((ot.exports=or)._=or,it._=or):nt._=or}).call(Fi)}(rz,rz.exports);const{validate:nz}=$H;const iz=JH,oz=XH,sz=qV.exports,az=rz.exports;var cz,uz,lz=class{constructor(e){if(!sz.isEncoded(e))throw new Error("Base58 string is invalid. Cannot construct Decoder.");this.base58=e}constructRootJSON(e){const t=az.invert(iz.root);return e.reduce(((e,r)=>{const n=t[r[0]];let i=r[1];return i instanceof Array&&("anchors"===n&&(i=this.constructAnchorsJSON(i)),"path"===n&&(i=this.constructPathJSON(i))),i instanceof eo&&(i=oz.decode(i).toString("hex")),e[n]=i,e}),{})}constructAnchorsJSON(e){const t=az.invertBy(iz.chain,(e=>e.id));return e.map((e=>e.reduce(((e,r)=>{if(0===r[0])return`${e}:${t[r[1]]}`;if(1===r[0]){const t=e.split(":").pop();return`${e}:${az.invert(iz.chain[t].networks)[r[1]]}`}return`${e}:${oz.decode(r[1]).toString("hex")}`}),"blink")))}constructPathJSON(e){const t=az.invert(iz.path);return e.map((e=>({[t[e[0]]]:oz.decode(e[1]).toString("hex")})))}decode(){const e=sz.decode(this.base58),t=oz.decode(e);return this.constructRootJSON(t)}};class Az{constructor(e){}}function hz(e){return Array.isArray(e)?e.find((e=>"ChainedProof2021"!==e.type)).verificationMethod:e.verificationMethod}!function(e){e.getTransactionId="getTransactionId",e.computeLocalHash="computeLocalHash",e.fetchRemoteHash="fetchRemoteHash",e.parseIssuerKeys="parseIssuerKeys",e.compareHashes="compareHashes",e.checkImagesIntegrity="checkImagesIntegrity",e.checkMerkleRoot="checkMerkleRoot",e.checkReceipt="checkReceipt",e.retrieveVerificationMethodPublicKey="retrieveVerificationMethodPublicKey",e.deriveIssuingAddressFromPublicKey="deriveIssuingAddressFromPublicKey",e.compareIssuingAddress="compareIssuingAddress",e.checkAuthenticity="checkAuthenticity"}(cz||(cz={}));class fz extends Az{proofVerificationProcess=[cz.getTransactionId,cz.computeLocalHash,cz.fetchRemoteHash,cz.compareHashes,cz.checkMerkleRoot,cz.checkReceipt,cz.parseIssuerKeys,cz.checkAuthenticity];identityVerificationProcess=[cz.retrieveVerificationMethodPublicKey,cz.deriveIssuingAddressFromPublicKey,cz.compareIssuingAddress];transactionId;localHash;documentToVerify;txData;chain;explorerAPIs;receipt;issuerPublicKeyList;issuer;verificationMethodPublicKey;derivedIssuingAddress;hasDid;proof;type="MerkleProof2019";constructor(e){var t;super(e),this._doAction=e.actionMethod,this.documentToVerify=e.document,this.explorerAPIs=e.explorerAPIs,this.proof=e.proof,this.issuer=e.issuer,this.validateProofType(),this.receipt=(t=this.proof,new lz(t.proofValue).decode()),this.chain=pd.certificates.getChain("",this.receipt),this.transactionId=pd.certificates.getTransactionId(this.receipt),this.setHasDid()}async verifyProof(){await this.setIssuerFromProofVerificationMethod(),await this.verifyProcess(this.proofVerificationProcess)}async verifyIdentity(){this.hasDid&&await this.verifyProcess(this.identityVerificationProcess)}getProofVerificationSteps(e){return this.proofVerificationProcess.map((t=>pd.verifier.convertToVerificationSubsteps(e,t)))}getIdentityVerificationSteps(e){return this.hasDid?this.identityVerificationProcess.map((t=>pd.verifier.convertToVerificationSubsteps(e,t))):[]}getIssuerPublicKey(){return this.txData?this.txData.issuingAddress:(console.error("Trying to access issuing address when txData not available yet. Did you run the `verify` method yet?"),"")}getIssuerName(){return this.issuer.name}getIssuerProfileDomain(){return new URL(this.getIssuerProfileUrl())?.hostname}getIssuerProfileUrl(){return this.issuer.id}getSigningDate(){return this.proof.created}getChain(){return this.chain}getReceipt(){return this.receipt}getTransactionIdString(){return pd.certificates.getTransactionId(this.getReceipt())}getTransactionLink(){return pd.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).transactionLink}getRawTransactionLink(){return pd.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).rawTransactionLink}isProofChain(){return"ChainedProof2021"===this.proof.type}async setIssuerFromProofVerificationMethod(){if(this.isProofChain()){const e=this.proof.verificationMethod.split("#")[0];this.issuer=await pd.verifier.getIssuerProfile(e)}}setHasDid(){if(this.isProofChain()){const e=this.proof.verificationMethod.split("#")[0];this.hasDid=yh(e)}else this.hasDid=!!this.issuer.didDocument}validateProofType(){const e=this.isProofChain()?this.proof.chainedProofType:this.proof.type;if(e!==this.type)throw new Error(`Incompatible proof type passed. Expected: ${this.type}, Got: ${e}`)}async verifyProcess(e){for(const t of e){if(!this[t])return void console.error("verification logic for",t,"not implemented");await this[t]()}}async _doAction(e,t,r){throw new Error("doAction method needs to be overwritten by injecting from CVJS")}async getTransactionId(){await this._doAction(cz.getTransactionId,(()=>Tj(this.transactionId)),this.type)}async computeLocalHash(){this.localHash=await this._doAction(cz.computeLocalHash,(async()=>await Av(this.documentToVerify)),this.type)}async fetchRemoteHash(){this.txData=await this._doAction(cz.fetchRemoteHash,(async()=>await pd.verifier.lookForTx({transactionId:this.transactionId,chain:this.chain.code,explorerAPIs:this.explorerAPIs})),this.type)}async compareHashes(){await this._doAction(cz.compareHashes,(()=>Cj(this.localHash,this.receipt.targetHash)),this.type)}async checkMerkleRoot(){await this._doAction(cz.checkMerkleRoot,(()=>Ij(this.receipt.merkleRoot,this.txData.remoteHash)),this.type)}async checkReceipt(){await this._doAction(cz.checkReceipt,(()=>Pj(this.receipt)),this.type)}async parseIssuerKeys(){this.issuerPublicKeyList=await this._doAction(cz.parseIssuerKeys,(()=>pd.verifier.parseIssuerKeys(this.issuer)),this.type)}async checkAuthenticity(){await this._doAction(cz.checkAuthenticity,(()=>kj(this.issuerPublicKeyList,this.txData.issuingAddress,this.txData.time)),this.type)}async retrieveVerificationMethodPublicKey(){this.verificationMethodPublicKey=await this._doAction(cz.retrieveVerificationMethodPublicKey,(()=>function(e,t){const r=t.split("#")[1],n=e.verificationMethod.filter((e=>e.id===`#${r}`))[0];if(!n)throw new cc("retrieveVerificationMethodPublicKey",`${hv} - ${pd.i18n.getText("errors","retrieveVerificationMethodPublicKey")}`);return n}(this.issuer.didDocument,hz(this.proof))),this.type)}async deriveIssuingAddressFromPublicKey(){this.derivedIssuingAddress=await this._doAction(cz.deriveIssuingAddressFromPublicKey,(()=>Sj(this.verificationMethodPublicKey,this.chain)),this.type)}async compareIssuingAddress(){await this._doAction(cz.compareIssuingAddress,(()=>function(e,t){if(e!==t)throw new cc("compareIssuingAddress",`${hv} - ${pd.i18n.getText("errors","compareIssuingAddress")}`)}(this.txData.issuingAddress,this.derivedIssuingAddress)),this.type)}}!function(e){e.getTransactionId="getTransactionId",e.computeLocalHash="computeLocalHash",e.fetchRemoteHash="fetchRemoteHash",e.parseIssuerKeys="parseIssuerKeys",e.compareHashes="compareHashes",e.checkMerkleRoot="checkMerkleRoot",e.checkReceipt="checkReceipt",e.checkAuthenticity="checkAuthenticity"}(uz||(uz={}));class dz extends Az{verificationProcess=[uz.getTransactionId,uz.computeLocalHash,uz.fetchRemoteHash,uz.compareHashes,uz.checkMerkleRoot,uz.checkReceipt,uz.parseIssuerKeys,uz.checkAuthenticity];transactionId;localHash;documentToVerify;txData;chain;explorerAPIs;receipt;issuerPublicKeyList;issuer;proof;type="MerkleProof2017";constructor(e){super(e),e.actionMethod&&(this._doAction=e.actionMethod),this.documentToVerify=e.document,this.explorerAPIs=e.explorerAPIs,this.issuer=e.issuer,this.proof=e.proof,this.validateProofType(),this.receipt=this.documentToVerify.signature,this.chain=pd.certificates.getChain("",this.receipt),this.transactionId=pd.certificates.getTransactionId(this.receipt),this.adaptVerificationProcessToChain()}async verifyProof(){for(const e of this.verificationProcess){if(!this[e])return void console.error("verification logic for",e,"not implemented");await this[e]()}}async verifyIdentity(){}getProofVerificationSteps(e){return this.verificationProcess.map((t=>pd.verifier.convertToVerificationSubsteps(e,t)))}getIdentityVerificationSteps(){return[]}getIssuerPublicKey(){return pd.chains.isMockChain(this.chain)?"This mock chain does not support issuing addresses":this.txData?this.txData.issuingAddress:void console.error("Trying to access issuing address when txData not available yet. Did you run the `verify` method yet?")}getIssuerName(){return this.issuer.name}getIssuerProfileDomain(){return new URL(this.getIssuerProfileUrl())?.hostname}getIssuerProfileUrl(){return this.issuer.id}getSigningDate(){return this.documentToVerify.issuedOn}getChain(){return this.chain}getReceipt(){return this.receipt}getTransactionIdString(){return pd.certificates.getTransactionId(this.getReceipt())}getTransactionLink(){return pd.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).transactionLink}getRawTransactionLink(){return pd.certificates.getTransactionLink(this.getTransactionIdString(),this.getChain()).rawTransactionLink}validateProofType(){if(this.proof.type[0]!==this.type)throw new Error(`Incompatible proof type passed. Expected: ${this.type}, Got: ${this.proof.type[0]}`)}adaptVerificationProcessToChain(){pd.chains.isMockChain(this.chain)&&(fc(this.verificationProcess,uz.getTransactionId),fc(this.verificationProcess,uz.fetchRemoteHash),fc(this.verificationProcess,uz.parseIssuerKeys),fc(this.verificationProcess,uz.checkMerkleRoot),fc(this.verificationProcess,uz.checkAuthenticity))}async _doAction(e,t,r){throw new Error("doAction method needs to be overwritten by injecting from CVJS")}async getTransactionId(){await this._doAction(uz.getTransactionId,(()=>Tj(this.transactionId)),this.type)}async computeLocalHash(){this.localHash=await this._doAction(uz.computeLocalHash,(async()=>await Av(this.documentToVerify)),this.type)}async fetchRemoteHash(){this.txData=await this._doAction(uz.fetchRemoteHash,(async()=>await pd.verifier.lookForTx({transactionId:this.transactionId,chain:this.chain.code,explorerAPIs:this.explorerAPIs})),this.type)}async compareHashes(){await this._doAction(uz.compareHashes,(()=>Cj(this.localHash,this.receipt.targetHash)),this.type)}async checkMerkleRoot(){await this._doAction(uz.checkMerkleRoot,(()=>Ij(this.receipt.merkleRoot,this.txData.remoteHash)),this.type)}async checkReceipt(){await this._doAction(uz.checkReceipt,(()=>Pj(this.receipt)),this.type)}async parseIssuerKeys(){this.issuerPublicKeyList=await this._doAction(uz.parseIssuerKeys,(()=>pd.verifier.parseIssuerKeys(this.issuer)),this.type)}async checkAuthenticity(){await this._doAction(uz.checkAuthenticity,(()=>kj(this.issuerPublicKeyList,this.txData.issuingAddress,this.txData.time)),this.type)}}var pz=function(e,t){return function(e,t){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){const n=t.contexts=new Map,i=t.constants=r(1);n.set(i.SECURITY_CONTEXT_V1_URL,r(2)),n.set(i.SECURITY_CONTEXT_V2_URL,r(3))},function(e,t,r){t.SECURITY_CONTEXT_V1_URL="https://w3id.org/security/v1",t.SECURITY_CONTEXT_V2_URL="https://w3id.org/security/v2"},function(e,t){e.exports={"@context":{id:"@id",type:"@type",dc:"http://purl.org/dc/terms/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",EcdsaKoblitzSignature2016:"sec:EcdsaKoblitzSignature2016",Ed25519Signature2018:"sec:Ed25519Signature2018",EncryptedMessage:"sec:EncryptedMessage",GraphSignature2012:"sec:GraphSignature2012",LinkedDataSignature2015:"sec:LinkedDataSignature2015",LinkedDataSignature2016:"sec:LinkedDataSignature2016",CryptographicKey:"sec:Key",authenticationTag:"sec:authenticationTag",canonicalizationAlgorithm:"sec:canonicalizationAlgorithm",cipherAlgorithm:"sec:cipherAlgorithm",cipherData:"sec:cipherData",cipherKey:"sec:cipherKey",created:{"@id":"dc:created","@type":"xsd:dateTime"},creator:{"@id":"dc:creator","@type":"@id"},digestAlgorithm:"sec:digestAlgorithm",digestValue:"sec:digestValue",domain:"sec:domain",encryptionKey:"sec:encryptionKey",expiration:{"@id":"sec:expiration","@type":"xsd:dateTime"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},initializationVector:"sec:initializationVector",iterationCount:"sec:iterationCount",nonce:"sec:nonce",normalizationAlgorithm:"sec:normalizationAlgorithm",owner:{"@id":"sec:owner","@type":"@id"},password:"sec:password",privateKey:{"@id":"sec:privateKey","@type":"@id"},privateKeyPem:"sec:privateKeyPem",publicKey:{"@id":"sec:publicKey","@type":"@id"},publicKeyBase58:"sec:publicKeyBase58",publicKeyPem:"sec:publicKeyPem",publicKeyWif:"sec:publicKeyWif",publicKeyService:{"@id":"sec:publicKeyService","@type":"@id"},revoked:{"@id":"sec:revoked","@type":"xsd:dateTime"},salt:"sec:salt",signature:"sec:signature",signatureAlgorithm:"sec:signingAlgorithm",signatureValue:"sec:signatureValue"}}},function(e,t){e.exports={"@context":[{"@version":1.1},"https://w3id.org/security/v1",{AesKeyWrappingKey2019:"sec:AesKeyWrappingKey2019",DeleteKeyOperation:"sec:DeleteKeyOperation",DeriveSecretOperation:"sec:DeriveSecretOperation",EcdsaSecp256k1Signature2019:"sec:EcdsaSecp256k1Signature2019",EcdsaSecp256r1Signature2019:"sec:EcdsaSecp256r1Signature2019",EcdsaSecp256k1VerificationKey2019:"sec:EcdsaSecp256k1VerificationKey2019",EcdsaSecp256r1VerificationKey2019:"sec:EcdsaSecp256r1VerificationKey2019",Ed25519Signature2018:"sec:Ed25519Signature2018",Ed25519VerificationKey2018:"sec:Ed25519VerificationKey2018",EquihashProof2018:"sec:EquihashProof2018",ExportKeyOperation:"sec:ExportKeyOperation",GenerateKeyOperation:"sec:GenerateKeyOperation",KmsOperation:"sec:KmsOperation",RevokeKeyOperation:"sec:RevokeKeyOperation",RsaSignature2018:"sec:RsaSignature2018",RsaVerificationKey2018:"sec:RsaVerificationKey2018",Sha256HmacKey2019:"sec:Sha256HmacKey2019",SignOperation:"sec:SignOperation",UnwrapKeyOperation:"sec:UnwrapKeyOperation",VerifyOperation:"sec:VerifyOperation",WrapKeyOperation:"sec:WrapKeyOperation",X25519KeyAgreementKey2019:"sec:X25519KeyAgreementKey2019",allowedAction:"sec:allowedAction",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"},capability:{"@id":"sec:capability","@type":"@id"},capabilityAction:"sec:capabilityAction",capabilityChain:{"@id":"sec:capabilityChain","@type":"@id","@container":"@list"},capabilityDelegation:{"@id":"sec:capabilityDelegationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"sec:capabilityInvocationMethod","@type":"@id","@container":"@set"},caveat:{"@id":"sec:caveat","@type":"@id","@container":"@set"},challenge:"sec:challenge",ciphertext:"sec:ciphertext",controller:{"@id":"sec:controller","@type":"@id"},delegator:{"@id":"sec:delegator","@type":"@id"},equihashParameterK:{"@id":"sec:equihashParameterK","@type":"xsd:integer"},equihashParameterN:{"@id":"sec:equihashParameterN","@type":"xsd:integer"},invocationTarget:{"@id":"sec:invocationTarget","@type":"@id"},invoker:{"@id":"sec:invoker","@type":"@id"},jws:"sec:jws",keyAgreement:{"@id":"sec:keyAgreementMethod","@type":"@id","@container":"@set"},kmsModule:{"@id":"sec:kmsModule"},parentCapability:{"@id":"sec:parentCapability","@type":"@id"},plaintext:"sec:plaintext",proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},proofValue:"sec:proofValue",referenceId:"sec:referenceId",unwrappedKey:"sec:unwrappedKey",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},verifyData:"sec:verifyData",wrappedKey:"sec:wrappedKey"}]}}]))}(t={exports:{}},t.exports),t.exports}(),gz=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(pz),mz=pz.contexts,yz=pz.constants,vz=Mi(Object.freeze({__proto__:null,default:gz,constants:yz,contexts:mz}));
/*!
   * Copyright (c) 2017-2018 Digital Bazaar, Inc. All rights reserved.
   */const{constants:bz}=vz;var wz={SECURITY_CONTEXT_URL:bz.SECURITY_CONTEXT_V2_URL,SECURITY_CONTEXT_V1_URL:bz.SECURITY_CONTEXT_V1_URL,SECURITY_CONTEXT_V2_URL:bz.SECURITY_CONTEXT_V2_URL,SECURITY_PROOF_URL:"https://w3id.org/security#proof",SECURITY_SIGNATURE_URL:"https://w3id.org/security#signature"};const xz=wz,{contexts:_z}=vz,Bz=new Map([[xz.SECURITY_CONTEXT_V1_URL,_z.get(xz.SECURITY_CONTEXT_V1_URL)],[xz.SECURITY_CONTEXT_V2_URL,_z.get(xz.SECURITY_CONTEXT_V2_URL)]]),Ez={};
/*!
   * Copyright (c) 2018-2021 Digital Bazaar, Inc. All rights reserved.
   */var Sz=Ez;Ez.extendContextLoader=e=>async t=>{const r=Bz.get(t);return void 0!==r?{contextUrl:null,documentUrl:t,document:r,tag:"static"}:e(t)},Ez.strictDocumentLoader=Ez.extendContextLoader((e=>{throw new Error(`${e} not found.`)}));class Cz extends Error{constructor(e){super(Cz._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,Cz)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch(t){return String(e)}}}const Iz=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],kz=Symbol(".toJSON called"),Pz=({from:e,seen:t,to_:r,forceEnumerable:n,maxDepth:i,depth:o})=>{const s=r||(Array.isArray(e)?[]:{});if(t.push(e),o>=i)return s;if("function"==typeof e.toJSON&&!0!==e[kz])return(e=>{e[kz]=!0;const t=e.toJSON();return delete e[kz],t})(e);for(const[r,a]of Object.entries(e))Mo(a)?s[r]="[object Buffer]":"function"!=typeof a&&(a&&"object"==typeof a?t.includes(e[r])?s[r]="[Circular]":(o++,s[r]=Pz({from:e[r],seen:t.slice(),forceEnumerable:n,maxDepth:i,depth:o})):s[r]=a);for(const{property:t,enumerable:r}of Iz)"string"==typeof e[t]&&Object.defineProperty(s,t,{value:e[t],enumerable:!!n||r,configurable:!0,writable:!0});return s};var Tz={serializeError:(e,t={})=>{const{maxDepth:r=Number.POSITIVE_INFINITY}=t;return"object"==typeof e&&null!==e?Pz({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e},deserializeError:(e,t={})=>{const{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=new Error;return Pz({from:e,seen:[],to_:t,maxDepth:r,depth:0}),t}return new Cz(e)}};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */const Oz=wz,Lz=rv,{extendContextLoader:Nz,strictDocumentLoader:Uz}=Sz,{serializeError:Fz}=Tz,Mz=e=>{if(e.unmappedProperty)throw new Error('The property "'+e.unmappedProperty+'" in the input was not defined in the context.')};function Rz(e){Object.defineProperty(e,"toJSON",{value:function(){return Fz(this)},configurable:!0,writable:!0})}
/*!
   * Copyright (c) 2020 Digital Bazaar, Inc. All rights reserved.
   */class Dz extends Error{constructor(e){super("Verification error(s)."),this.name="VerificationError",this.errors=[].concat(e)}}var jz=Dz,Qz=class{constructor({type:e}={}){if("string"!=typeof e)throw new TypeError('A LinkedDataProof must have a "type".');this.type=e}async createProof({}){throw new Error('"createProof" must be implemented in a derived class.')}async verifyProof({}){throw new Error('"verifyProof" must be implemented in a derived class.')}async matchProof({proof:e}){return e.type===this.type}};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */const Hz={};var Kz=Hz;Hz.w3cDate=e=>{null==e?e=new Date:"number"!=typeof e&&"string"!=typeof e||(e=new Date(e));const t=e.toISOString();return t.substr(0,t.length-5)+"Z"},Hz.concat=(e,t)=>{const r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r};const Vz=self&&(self.crypto||self.msCrypto);var zz={async sha256digest({string:e}){const t=(new TextEncoder).encode(e);return new Uint8Array(await Vz.subtle.digest("SHA-256",t))}};
/*!
   * Copyright (c) 2017-2021 Digital Bazaar, Inc. All rights reserved.
   */const qz=wz,Gz=rv,Wz=Kz,{sha256digest:$z}=zz,Jz=Qz,Xz={};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */var Yz=Xz;Xz.suites={LinkedDataProof:Qz,LinkedDataSignature:class extends Jz{constructor({type:e,proof:t,LDKeyClass:r,date:n,key:i,signer:o,verifier:s,useNativeCanonize:a,contextUrl:c}={}){super({type:e}),this.LDKeyClass=r,this.contextUrl=c,this.proof=t;const u=function({key:e,signer:t,verifier:r}){const n={};if(e){if(n.key=e,n.verificationMethod=e.id,"function"==typeof e.signer&&(n.signer=e.signer()),"function"==typeof e.verifier&&(n.verifier=e.verifier()),!n.signer&&!n.verifier)throw new TypeError('The "key" parameter must contain a "signer" or "verifier" method.')}else n.verificationMethod=t&&t.id||r&&r.id,n.signer=t,n.verifier=r;if(n.signer&&"function"!=typeof n.signer.sign)throw new TypeError("A signer API has not been specified.");if(n.verifier&&"function"!=typeof n.verifier.verify)throw new TypeError("A verifier API has not been specified.");return n}({key:i,signer:o,verifier:s});if(this.verificationMethod=u.verificationMethod,this.key=u.key,this.signer=u.signer,this.verifier=u.verifier,n&&(this.date=new Date(n),isNaN(this.date)))throw TypeError(`"date" "${n}" is not a valid date.`);this.useNativeCanonize=a,this._hashCache=null}async createProof({document:e,purpose:t,documentLoader:r,expansionMap:n}){let i;i=this.proof?{...this.proof}:{},i.type=this.type;let o=this.date;void 0===i.created&&void 0===o&&(o=new Date),o&&"string"!=typeof o&&(o=Wz.w3cDate(o)),o&&(i.created=o),i.verificationMethod=this.verificationMethod,i=await this.updateProof({document:e,proof:i,purpose:t,documentLoader:r,expansionMap:n}),i=await t.update(i,{document:e,suite:this,documentLoader:r,expansionMap:n});const s=await this.createVerifyData({document:e,proof:i,documentLoader:r,expansionMap:n});return i=await this.sign({verifyData:s,document:e,proof:i,documentLoader:r,expansionMap:n}),i}async updateProof({proof:e}){return e}async verifyProof({proof:e,document:t,documentLoader:r,expansionMap:n}){try{const i=await this.createVerifyData({document:t,proof:e,documentLoader:r,expansionMap:n}),o=await this.getVerificationMethod({proof:e,document:t,documentLoader:r,expansionMap:n});if(!await this.verifySignature({verifyData:i,verificationMethod:o,document:t,proof:e,documentLoader:r,expansionMap:n}))throw new Error("Invalid signature.");return{verified:!0,verificationMethod:o}}catch(e){return{verified:!1,error:e}}}async canonize(e,{documentLoader:t,expansionMap:r,skipExpansion:n}){return Gz.canonize(e,{algorithm:"URDNA2015",format:"application/n-quads",documentLoader:t,expansionMap:r,skipExpansion:n,useNative:this.useNativeCanonize})}async canonizeProof(e,{document:t,documentLoader:r,expansionMap:n}){return delete(e={"@context":t["@context"]||qz.SECURITY_CONTEXT_URL,...e}).jws,delete e.signatureValue,delete e.proofValue,this.canonize(e,{documentLoader:r,expansionMap:n,skipExpansion:!1})}async createVerifyData({document:e,proof:t,documentLoader:r,expansionMap:n}){let i;const{_hashCache:o}=this;o&&o.document===e?i=o.hash:this._hashCache={document:e,hash:i=this.canonize(e,{documentLoader:r,expansionMap:n}).then((e=>$z({string:e})))};const[s,a]=await Promise.all([this.canonizeProof(t,{document:e,documentLoader:r,expansionMap:n}).then((e=>$z({string:e}))),i]);return Wz.concat(s,a)}async getVerificationMethod({proof:e,documentLoader:t}){let{verificationMethod:r}=e;if("object"==typeof r&&(r=r.id),!r)throw new Error('No "verificationMethod" found in proof.');const n=await Gz.frame(r,{"@context":qz.SECURITY_CONTEXT_URL,"@embed":"@always",id:r},{documentLoader:t,compactToRelative:!1});if(!n)throw new Error(`Verification method ${r} not found.`);if(void 0!==n.revoked)throw new Error("The verification method has been revoked.");return n}async sign(){throw new Error("Must be implemented by a derived class.")}async verifySignature(){throw new Error("Must be implemented by a derived class.")}ensureSuiteContext({document:e,addSuiteContext:t}){const{contextUrl:r}=this;if(function({document:e,contextUrl:t}){const r=e["@context"];return r===t||Array.isArray(r)&&r.includes(t)}({document:e,contextUrl:r}))return;if(!t)throw new TypeError(`The document to be signed must contain this suite's @context, "${r}".`);const n=e["@context"]||[];e["@context"]=Array.isArray(n)?[...n,r]:[n,r]}}};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */
var Zz=class{constructor({term:e,date:t,maxTimestampDelta:r=1/0}={}){if(void 0===e)throw new Error('"term" is required.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxTimestampDelta" must be a number.');if(this.term=e,void 0!==t&&(this.date=new Date(t),isNaN(this.date)))throw TypeError(`"date" "${t}" is not a valid date.`);this.maxTimestampDelta=r}async validate(e,{}){try{if(this.maxTimestampDelta!==1/0){const t=(this.date||new Date).getTime(),r=1e3*this.maxTimestampDelta,n=new Date(e.created).getTime();if(!(n>=t-r&&n<=t+r))throw new Error("The proof's created timestamp is out of range.")}return{valid:!0}}catch(e){return{valid:!1,error:e}}}async update(e,{}){return e.proofPurpose=this.term,e}async match(e,{}){return e.proofPurpose===this.term}};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */const eq=wz,tq=rv,rq=Zz,nq=["assertionMethod","authentication","capabilityInvocation","capabilityDelegation","keyAgreement","verificationMethod"];var iq=class extends rq{constructor({term:e,controller:t,date:r,maxTimestampDelta:n=1/0}={}){if(super({term:e,date:r,maxTimestampDelta:n}),void 0!==t){if("object"!=typeof t)throw new TypeError('"controller" must be an object.');this.controller=t}this._termDefinedByDIDContext=nq.includes(e)}async validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n}){try{const i=await super.validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n});if(!i.valid)throw i.error;const{id:o}=t,{term:s,_termDefinedByDIDContext:a}=this;if(this.controller)i.controller=this.controller;else{const{controller:e}=t;let n;if(e)if("object"==typeof e)n=e.id;else{if("string"!=typeof e)throw new TypeError('"controller" must be a string representing a URL.');n=e}let{document:c}=await r(n);!(a&&"https://www.w3.org/ns/did/v1"===c["@context"]||Array.isArray(c["@context"])&&"https://www.w3.org/ns/did/v1"===c["@context"][0])&&(c=await tq.frame(c,{"@context":eq.SECURITY_CONTEXT_URL,id:n,[s]:{"@embed":"@never",id:o}},{documentLoader:r,compactToRelative:!1})),i.controller=c}const c=tq.getValues(i.controller,s);if(i.valid=c.some((e=>e===o||"object"==typeof e&&e.id===o)),!i.valid)throw new Error(`Verification method "${t.id}" not authorized by controller for proof purpose "${this.term}".`);return i}catch(e){return{valid:!1,error:e}}}};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */const oq=iq,sq=iq,aq={};
/*!
   * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
   */var cq=aq;aq.purposes={AssertionProofPurpose:class extends oq{constructor({term:e="assertionMethod",controller:t,date:r,maxTimestampDelta:n=1/0}={}){super({term:e,controller:t,date:r,maxTimestampDelta:n})}},AuthenticationProofPurpose:class extends sq{constructor({term:e="authentication",controller:t,challenge:r,date:n,domain:i,maxTimestampDelta:o=1/0}={}){if(super({term:e,controller:t,date:n,maxTimestampDelta:o}),"string"!=typeof r)throw new TypeError('"challenge" must be a string.');if(void 0!==i&&"string"!=typeof i)throw new TypeError('"domain" must be a string.');this.challenge=r,this.domain=i}async validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n}){try{if(e.challenge!==this.challenge)throw new Error(`The challenge is not as expected; challenge="${e.challenge}", expected="${this.challenge}"`);if(void 0!==this.domain&&e.domain!==this.domain)throw new Error(`The domain is not as expected; domain="${e.domain}", expected="${this.domain}"`);return super.validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n})}catch(e){return{valid:!1,error:e}}}async update(e,{document:t,suite:r,documentLoader:n,expansionMap:i}){return(e=await super.update(e,{document:t,suite:r,documentLoader:n,expansionMap:i})).challenge=this.challenge,void 0!==this.domain&&(e.domain=this.domain),e}},ControllerProofPurpose:iq,ProofPurpose:Zz};
/*!
   * Copyright (c) 2010-2018 Digital Bazaar, Inc. All rights reserved.
   */
const uq={};var lq=uq;const Aq=wz;Object.assign(uq,Aq);const hq=class{async add(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i}={}){if(!t)throw new TypeError('"options.suite" is required.');if(!r)throw new TypeError('"options.purpose" is required.');n=n?Nz(n):Uz,void 0===i?i=Mz:!1===i&&(i=void 0);const o={...e};delete o.proof;const s=await t.createProof({document:o,purpose:r,documentLoader:n,expansionMap:i});return Lz.addValue(e,"proof",s),e}async verify(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i}={}){if(!t)throw new TypeError('"options.suite" is required.');if(!r)throw new TypeError('"options.purpose" is required.');const o=Array.isArray(t)?t:[t];if(0===o.length)throw new TypeError("At least one suite is required.");n=n?Nz(n):Uz,void 0===i?i=Mz:!1===i&&(i=void 0);try{e={...e};const{proofSet:t,document:s}=await async function({document:e}){let t;if(t=Lz.getValues(e,"proof"),delete e.proof,0===t.length)throw new Error("No matching proofs found in the given document.");const r=e["@context"]||Oz.SECURITY_CONTEXT_URL;return t=t.map((e=>({"@context":r,...e}))),{proofSet:t,document:e}}({document:e,documentLoader:n,expansionMap:i});e=s;const a=await async function({document:e,suites:t,proofSet:r,purpose:n,documentLoader:i,expansionMap:o}){const s=Array.isArray(n)?n:[n],a=new Map,c=new Map,u=new Map;if(await Promise.all(s.map((n=>async function({purposeToProofs:e,proofToSuite:t,purpose:r,proofSet:n,suites:i,suiteMatchQueue:o,document:s,documentLoader:a,expansionMap:c}){for(const u of n){if(!await r.match(u,{document:s,documentLoader:a,expansionMap:c}))continue;let n=!1;for(const e of i){let r=o.get(e);r||o.set(e,r=new Map);let i=r.get(u);if(i||(i=e.matchProof({proof:u,document:s,documentLoader:a,expansionMap:c}),r.set(u,i)),await i){n=!0,t.set(u,e);break}}if(n){const t=e.get(r);t?t.push(u):e.set(r,[u])}}}({purposeToProofs:a,proofToSuite:c,purpose:n,proofSet:r,suites:t,suiteMatchQueue:u,document:e,documentLoader:i,expansionMap:o})))),a.size<s.length)return[];const l=new Map;return await Promise.all([...c.entries()].map((async([t,r])=>{let n;try{let s;const a={validate:async(e,{verificationMethod:t})=>(s=t,{valid:!0})},{verified:c,verificationMethod:u,error:l}=await r.verifyProof({proof:t,document:e,purpose:a,documentLoader:i,expansionMap:o});s||(s=u),n={proof:t,verified:c,verificationMethod:s,error:l}}catch(e){n={proof:t,verified:!1,error:e}}n.error&&Rz(n.error),l.set(t,n)}))),await Promise.all([...a.entries()].map((async([t,r])=>{for(const n of r){const r=l.get(n);if(!r.verified)continue;const{verificationMethod:s}=r,a=c.get(n);let u;try{u=await t.validate(n,{document:e,suite:a,verificationMethod:s,documentLoader:i,expansionMap:o})}catch(e){u={valid:!1,error:e}}r.purposeResult?Array.isArray(r.purposeResult)?r.purposeResult.push(u):r.purposeResult=[r.purposeResult,u]:r.purposeResult=u,u.valid||(Rz(u.error),r.error||(r.verified=!1,r.error=u.error))}}))),[...l.values()]}({document:e,suites:o,proofSet:t,purpose:r,documentLoader:n,expansionMap:i});if(0===a.length){const e=new Error("Did not verify any proofs; insufficient proofs matched the acceptable suite(s) and required purpose(s).");throw e.name="NotFoundError",e}const c=a.some((e=>e.verified));if(!c){const e=[].concat(...a.filter((e=>e.error)).map((e=>e.error))),t={verified:c,results:a};return e.length>0&&(t.error=e),t}return{verified:c,results:a}}catch(e){return Rz(e),{verified:!1,error:e}}}},fq=jz;uq.sign=async function(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i,addSuiteContext:o=!0}={}){if("object"!=typeof e)throw new TypeError('The "document" parameter must be an object.');t.ensureSuiteContext({document:e,addSuiteContext:o});try{return await(new hq).add(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i})}catch(e){if(!n&&"jsonld.InvalidUrl"===e.name){const{details:{url:t}}=e,r=new Error(`A URL "${t}" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "sign".`);throw r.cause=e,r}throw e}},uq.verify=async function(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i}={}){if("object"!=typeof e)throw new TypeError('The "document" parameter must be an object.');const o=await(new hq).verify(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i}),{error:s}=o;if(s)if(n||"jsonld.InvalidUrl"!==s.name)o.error=new fq(s);else{const{details:{url:e}}=s,t=new Error(`A URL "${e}" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "verify".`);o.error=new fq(t)}return o},uq.suites=Yz.suites,uq.purposes=cq.purposes,Object.assign(uq,Sz);var dq=function(e,t){return function(e,t){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2020:{"@id":"https://w3id.org/security#Ed25519VerificationKey2020","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyMultibase:{"@id":"https://w3id.org/security#publicKeyMultibase","@type":"https://w3id.org/security#multibase"}}},Ed25519Signature2020:{"@id":"https://w3id.org/security#Ed25519Signature2020","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},proofValue:{"@id":"https://w3id.org/security#proofValue","@type":"https://w3id.org/security#multibase"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={CONTEXT_FILENAME:"ed25519-signature-2020-v1.jsonld",CONTEXT_URL:"https://w3id.org/security/suites/ed25519-2020/v1",CBORLD_CODEC_VALUE:20}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
const n=r(0),i=r(1),{documentLoader:o}=r(3),{CONTEXT_URL:s,CBORLD_CODEC_VALUE:a}=i,c=new Map;c.set(i.CONTEXT_URL,n);const u=new Map;u.set(s,a),e.exports={constants:i,contexts:c,appContextMap:u,documentLoader:o,CONTEXT_URL:s,CONTEXT:n}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
const{CONTEXT_URL:n}=r(1),i=r(0);e.exports={documentLoader(e){if(e!==n)throw new Error(`Loading document "${e}" is not allowed.`);return{contextUrl:null,document:i,documentUrl:e}}}}]))}(t={exports:{}},t.exports),t.exports}(),pq=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(dq);dq.contexts,dq.constants,dq.CONTEXT,dq.CONTEXT_URL,dq.appContextMap,dq.documentLoader;var gq=function(e,t){return function(e,t){!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2018:{"@id":"https://w3id.org/security#Ed25519VerificationKey2018","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyBase58:{"@id":"https://w3id.org/security#publicKeyBase58"}}},Ed25519Signature2018:{"@id":"https://w3id.org/security#Ed25519Signature2018","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},jws:{"@id":"https://w3id.org/security#jws"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
e.exports={CONTEXT_FILENAME:"ed25519-signature-2018-v1.jsonld",CONTEXT_URL:"https://w3id.org/security/suites/ed25519-2018/v1",CBORLD_CODEC_VALUE:19}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
const n=r(0),i=r(1),{documentLoader:o}=r(3),{CONTEXT_URL:s,CBORLD_CODEC_VALUE:a}=i,c=new Map;c.set(s,n);const u=new Map;u.set(s,a),e.exports={constants:i,contexts:c,appContextMap:u,documentLoader:o,CONTEXT_URL:s,CONTEXT:n}},function(e,t,r){
/*!
   * Copyright (c) 2021 Digital Bazaar, Inc. All rights reserved.
   */
const{CONTEXT_URL:n}=r(1),i=r(0);e.exports={documentLoader(e){if(e!==n)throw new Error(`Loading document "${e}" is not allowed.`);return{contextUrl:null,document:i,documentUrl:e}}}}]))}(t={exports:{}},t.exports),t.exports}(),mq=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(gq);gq.contexts,gq.constants,gq.CONTEXT,gq.CONTEXT_URL,gq.appContextMap,gq.documentLoader;
/*!
   * Copyright (c) 2020-2021 Digital Bazaar, Inc. All rights reserved.
   */
const{suites:{LinkedDataSignature:yq}}=lq,vq=pq.constants.CONTEXT_URL,bq=mq.constants.CONTEXT_URL;class wq extends yq{constructor({key:e,signer:t,verifier:r,proof:n,date:i,useNativeCanonize:o}={}){super({type:"Ed25519Signature2020",LDKeyClass:Af,contextUrl:vq,key:e,signer:t,verifier:r,proof:n,date:i,useNativeCanonize:o}),this.requiredKeyType="Ed25519VerificationKey2020"}async sign({verifyData:e,proof:t}){if(!this.signer||"function"!=typeof this.signer.sign)throw new Error("A signer API has not been specified.");const r=await this.signer.sign({data:e});return t.proofValue="z"+xh(r),t}async verifySignature({verifyData:e,verificationMethod:t,proof:r}){const{proofValue:n}=r;if(!n||"string"!=typeof n)throw new TypeError('The proof does not include a valid "proofValue" property.');if("z"!==n[0])throw new Error("Only base58btc multibase encoding is supported.");const i=_h(n.substr(1));let{verifier:o}=this;return o||(o=(await this.LDKeyClass.from(t)).verifier()),o.verify({data:e,signature:i})}async assertVerificationMethod({verificationMethod:e}){let t;if("Ed25519VerificationKey2020"===e.type)t=vq;else{if("Ed25519VerificationKey2018"!==e.type)throw new Error(`Unsupported key type "${e.type}".`);t=bq}if(!xq({document:e,contextUrl:t}))throw new TypeError(`The verification method (key) must contain "${t}" context.`);if(void 0!==e.revoked)throw new Error("The verification method has been revoked.")}async getVerificationMethod({proof:e,documentLoader:t}){if(this.key)return this.key.export({publicKey:!0});let{verificationMethod:r}=e;if("object"==typeof r&&(r=r.id),!r)throw new Error('No "verificationMethod" found in proof.');const{document:n}=await t(r);return r="string"==typeof n?JSON.parse(n):n,await this.assertVerificationMethod({verificationMethod:r}),"Ed25519VerificationKey2018"===r.type&&(r=(await Af.fromEd25519VerificationKey2018({keyPair:r})).export({publicKey:!0,includeContext:!0})),r}async matchProof({proof:e,document:t,purpose:r,documentLoader:n,expansionMap:i}){if(!xq({document:t,contextUrl:vq}))return!1;if(!await super.matchProof({proof:e,document:t,purpose:r,documentLoader:n,expansionMap:i}))return!1;if(!this.key)return!0;const{verificationMethod:o}=e;return"object"==typeof o?o.id===this.key.id:o===this.key.id}}function xq({document:e,contextUrl:t}){const r=e["@context"];return r===t||Array.isArray(r)&&r.includes(t)}wq.CONTEXT_URL=vq,wq.CONTEXT=pq.contexts.get(vq);const{purposes:{AssertionProofPurpose:_q}}=lq;var Bq;!function(e){e.retrieveVerificationMethodPublicKey="retrieveVerificationMethodPublicKey",e.checkDocumentSignature="checkDocumentSignature"}(Bq||(Bq={}));class Eq extends Az{verificationProcess=[Bq.retrieveVerificationMethodPublicKey,Bq.checkDocumentSignature];documentToVerify;issuer;proof;type="Ed25519Signature2020";verificationKey;constructor(e){super(e),e.actionMethod&&(this._doAction=e.actionMethod),this.documentToVerify=e.document,this.issuer=e.issuer,this.proof=e.proof,this.validateProofType()}async verifyProof(){for(const e of this.verificationProcess){if(!this[e])return void console.error("verification logic for",e,"not implemented");await this[e]()}}async verifyIdentity(){}getProofVerificationSteps(e){return this.verificationProcess.map((t=>pd.verifier.convertToVerificationSubsteps(e,t)))}getIdentityVerificationSteps(){return[]}getIssuerPublicKey(){const{verificationMethod:e}=this.proof;return this.issuer.didDocument.verificationMethod.find((t=>t.id===e)).publicKeyMultibase}getIssuerName(){return this.issuer.name??""}getIssuerProfileDomain(){try{return new URL(this.getIssuerProfileUrl()).hostname??""}catch(e){return""}}getIssuerProfileUrl(){return this.issuer.id??""}getSigningDate(){return this.proof.created}async _doAction(e,t,r){throw new Error("doAction method needs to be overwritten by injecting from CVJS")}validateProofType(){const e=this.isProofChain()?this.proof.chainedProofType:this.proof.type;if(e!==this.type)throw new Error(`Incompatible proof type passed. Expected: ${this.type}, Got: ${e}`)}isProofChain(){return"ChainedProof2021"===this.proof.type}generateDocumentLoader(){return Wa[this.documentToVerify.issuer]=this.issuer.didDocument,function(e){return e in Wa?{contextUrl:null,document:Wa[e],documentUrl:e}:rv.documentLoader(e)}}retrieveInitialDocument(){const e=lv(this.documentToVerify);if(Array.isArray(e.proof)){const t=e.proof.find((e=>e.type===this.type));delete e.proof,e.proof=t}return e}async retrieveVerificationMethodPublicKey(){this.verificationKey=await this._doAction(Bq.retrieveVerificationMethodPublicKey,(async()=>{const e=this.issuer.didDocument.verificationMethod.find((e=>e.id===this.proof.verificationMethod));if(!e)throw new cc(Bq.retrieveVerificationMethodPublicKey,"The verification method of the document does not match the provided issuer.");const t=await Af.from({...e});if(!t)throw new cc(Bq.retrieveVerificationMethodPublicKey,"Could not derive the verification key");if(t.revoked)throw new cc(Bq.retrieveVerificationMethodPublicKey,"The verification key has been revoked");return t}),this.type)}async checkDocumentSignature(){await this._doAction(Bq.checkDocumentSignature,(async()=>{const e=new wq({key:this.verificationKey});e.date=new Date(Date.now()).toISOString();const t=await lq.verify(this.retrieveInitialDocument(),{suite:e,purpose:new _q,documentLoader:this.generateDocumentLoader()});if(!t.verified)throw console.error(JSON.stringify(t,null,2)),new cc(Bq.checkDocumentSignature,`The document's ${this.type} signature could not be confirmed`);console.log("Credential Ed25519 signature successfully verified")}),this.type)}}const Sq=Ed("Verifier");class Cq{expires;id;issuer;revocationKey;documentToVerify;explorerAPIs;txData;_stepsStatuses=[];hashlinkVerifier;verificationSteps;supportedVerificationSuites;proofVerifiers=[];verificationProcess;proofMap;constructor({certificateJson:e,expires:t,hashlinkVerifier:r,id:n,issuer:i,revocationKey:o,explorerAPIs:s}){this.expires=t,this.id=n,this.issuer=i,this.hashlinkVerifier=r,this.revocationKey=o,this.explorerAPIs=s,this.documentToVerify=Object.assign({},e),this.instantiateProofVerifiers(),this.prepareVerificationProcess()}getVerificationSteps(){return this.verificationSteps}getSignersData(){return this.proofVerifiers.map((e=>({signingDate:e.getSigningDate(),signatureSuiteType:e.type,issuerPublicKey:e.getIssuerPublicKey(),issuerName:e.getIssuerName(),issuerProfileDomain:e.getIssuerProfileDomain(),issuerProfileUrl:e.getIssuerProfileUrl(),chain:e.getChain?.(),transactionId:e.getTransactionIdString?.(),transactionLink:e.getTransactionLink?.(),rawTransactionLink:e.getRawTransactionLink?.()})))}async verify(e=(()=>{})){this._stepCallback=e,this._stepsStatuses=[];for(let e=0;e<this.proofVerifiers.length;e++)await this.proofVerifiers[e].verifyProof();for(const e of this.verificationProcess){if(!this[e])return void console.error("verification logic for",e,"not implemented");await this[e]()}for(let e=0;e<this.proofVerifiers.length;e++)await this.proofVerifiers[e].verifyIdentity();const t=this._stepsStatuses.find((e=>e.status===ud.FAILURE));return t?this._failed(t):this._succeed()}getRevocationListUrl(){return this.issuer.revocationList}getProofTypes(){const e=[];return this.proofMap.forEach((t=>{let{type:r}=t;"ChainedProof2021"===r&&(r=t.chainedProofType),Array.isArray(r)&&(r=r[0]),e.push(r)})),e}getProofMap(e){const t=new Map;return"proof"in e?Array.isArray(e.proof)?e.proof.forEach(((e,r)=>t.set(r,e))):t.set(0,e.proof):"signature"in e&&t.set(0,e.signature),t}instantiateProofVerifiers(){this.supportedVerificationSuites={MerkleProof2017:dz,MerkleProof2019:fz,Ed25519Signature2020:Eq},this.proofMap=this.getProofMap(this.documentToVerify);const e=this.getProofTypes(),t=function(e=[],t=[]){return t.filter((t=>!e.includes(t)))}(Object.keys(this.supportedVerificationSuites),e);if(t.length)throw new Error(`No support for proof verification of type: ${t.join(", ")}`);this.proofMap.forEach(((t,r)=>{this.proofVerifiers.push(new this.supportedVerificationSuites[e[r]]({actionMethod:this._doAction.bind(this),document:this.documentToVerify,proof:t,explorerAPIs:this.explorerAPIs,issuer:this.issuer}))}))}prepareVerificationProcess(){const e=pd.certificates.getVerificationMap(!!this.issuer.didDocument);this.verificationSteps=e.verificationMap,this.verificationProcess=e.verificationProcess,this.registerSignatureVerificationSteps(),this.registerIdentityVerificationSteps(),this.verificationSteps=this.verificationSteps.filter((e=>e.subSteps?.length>0||e.suites?.some((e=>e.subSteps.length>0))))}registerSignatureVerificationSteps(){const e=lc.proofVerification;this.verificationSteps.find((t=>t.code===e)).suites=this.getSuiteSubsteps(e)}getSuiteSubsteps(e){const t={[lc.proofVerification]:"getProofVerificationSteps",[lc.identityVerification]:"getIdentityVerificationSteps"};return this.proofVerifiers.map((r=>({proofType:r.type,subSteps:r[t[e]](e)})))}registerIdentityVerificationSteps(){const e=lc.identityVerification;this.verificationSteps.find((t=>t.code===e)).suites=this.getSuiteSubsteps(e)}async _doAction(e,t,r){if(this._isFailing())return;let n;e&&(n=pd.i18n.getText("subSteps",`${e}LabelPending`),Sq(n),this._updateStatusCallback(e,ud.STARTING,r));try{const n=await t();return e&&(this._updateStatusCallback(e,ud.SUCCESS,r),this._stepsStatuses.push({code:e,status:ud.SUCCESS})),n}catch(t){e&&(this._updateStatusCallback(e,ud.FAILURE,r,t.message),this._stepsStatuses.push({code:e,message:t.message,status:ud.FAILURE}))}}_stepCallback(e){}async checkImagesIntegrity(){await this._doAction(Ac.checkImagesIntegrity,(async()=>{await this.hashlinkVerifier.verifyHashlinkTable().catch((e=>{throw console.error("hashlink verification error",e),new cc(Ac.checkImagesIntegrity,rc("errors","checkImagesIntegrity"))}))}))}async checkRevokedStatus(){const e=this.getRevocationListUrl();if(!e)return console.warn("No revocation list url was set on the issuer."),void await this._doAction(Ac.checkRevokedStatus,(()=>!0));const t=await this._doAction(null,(async()=>await pd.verifier.getRevokedAssertions(e,this.id)));await this._doAction(Ac.checkRevokedStatus,(()=>function(e,t){if(!e||!t)return;Array.isArray(t)||(t=[t]),t=t.filter((e=>null!=e));const r=function(e=[],t=[]){return e.filter((e=>t.includes(e))).filter(((e,t,r)=>r.indexOf(e)===t))}(t,e.map((e=>e.id)));if(r.length>0){const t=e.findIndex((e=>e.id===r[0]));if(t>-1)throw new cc(Ac.checkRevokedStatus,pd.certificates.generateRevocationReason(e[t].revocationReason))}}(t,this.id)))}async checkExpiresDate(){await this._doAction(Ac.checkExpiresDate,(()=>function(e=null){if(!e)return;const t=hd(e);if((new Date).getTime()>=t)throw new cc(Ac.checkExpiresDate,rc("errors","ensureNotExpired"))}(this.expires)))}async controlVerificationMethod(){await this._doAction(Ac.controlVerificationMethod,(()=>{!function(e,t=""){const r=function(e){return e.id}(e);if(r!==t.split("#")[0])throw new cc(Ac.controlVerificationMethod,`${hv} - ${pd.i18n.getText("errors","controlVerificationMethod")}`)}(this.issuer.didDocument,hz(this.documentToVerify.proof))}))}findStepFromVerificationProcess(e,t){return pd.verifier.findVerificationSubstep(e,this.verificationSteps,t)}_failed(e){const{message:t}=e;return Sq(`failure:${t}`),this._setFinalStep({status:ud.FAILURE,message:t})}_isFailing(){return this._stepsStatuses.some((e=>e.status===ud.FAILURE))}_succeed(){let e;return 1===this.proofVerifiers.length&&(e=pd.chains.isMockChain(this.proofVerifiers[0].getChain())?pd.i18n.getText("success","mocknet"):pd.i18n.getText("success","blockchain"),Sq(e)),this.proofVerifiers.length>1&&(e=pd.i18n.getText("success","multisign")),this._setFinalStep({status:ud.SUCCESS,message:e})}_setFinalStep({status:e,message:t}){return{code:lc.final,status:e,message:t}}_updateStatusCallback(e,t,r="",n=""){if(null!=e){const i=this.findStepFromVerificationProcess(e,r),o={code:e,status:t,parentStep:i.parentStep,label:i.labelPending};n&&(o.errorMessage=n),this._stepCallback(o)}}}class Iq{certificateImage;certificateJson;description;display;expires;explorerAPIs=[];id;isFormatValid;issuedOn;issuer;locale;metadataJson;name;options;recipientFullName;recordLink;revocationKey;sealImage;signature;signatureImage;signers=[];subtitle;hashlinkVerifier;verificationSteps;verifier;constructor(e,t={}){if(this._setOptions(t),"object"!=typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(pd.i18n.getText("errors","certificateNotValid"))}this.certificateJson=lv(e),this.hashlinkVerifier=new Ma}async init(){await this.parseJson(this.certificateJson),this.verifier=new Cq({certificateJson:this.certificateJson,expires:this.expires,id:this.id,issuer:this.issuer,hashlinkVerifier:this.hashlinkVerifier,revocationKey:this.revocationKey,explorerAPIs:lv(this.explorerAPIs)}),this.verificationSteps=this.verifier.getVerificationSteps()}async verify(e){const t=await this.verifier.verify(e);return this.setSigners(),t}async parseJson(e){const t=await async function(e){try{const t=md(e["@context"]),r=await yd[t.versionNumber](e);return r.isFormatValid=!0,r}catch(e){return{isFormatValid:!1,error:e.message}}}(e);if(!t.isFormatValid)throw new Error(t.error);await this._setProperties(t)}setSigners(){this.signers=this.verifier.getSignersData()}_setOptions(e){this.options=Object.assign({},Ya,e),this.locale=pd.i18n.ensureIsSupported("auto"===this.options.locale?pd.i18n.detectLocale():this.options.locale),this.explorerAPIs=this.options.explorerAPIs||[],e.didResolverUrl&&(pd.did.didResolver.url=e.didResolverUrl),ec.locale=this.locale}async _setProperties({certificateImage:e,description:t,display:r,expires:n,id:i,isFormatValid:o,issuedOn:s,issuer:a,metadataJson:c,name:u,recipientFullName:l,recordLink:A,revocationKey:h,sealImage:f,signature:d,signatureImage:p,subtitle:g}){this.isFormatValid=o,this.certificateImage=e,this.description=t,this.expires=n,this.id=i,this.issuedOn=s,this.issuer=a,this.metadataJson=c,this.name=u,this.recipientFullName=l,this.recordLink=A,this.revocationKey=h,this.sealImage=f,this.signature=d,this.signatureImage=p,this.subtitle=g,this.display=await this.parseHashlinksInDisplay(r)}async parseHashlinksInDisplay(e){const t=lv(e);if(t)return"text/html"!==t.contentMediaType||(t.content=await async function(e,t){const r=[...e.matchAll(/hl:{1}[a-zA-Z0-9]+:{1}[a-zA-Z0-9]+/gm)].map((e=>e[0])).filter((e=>!!e));if(r.length){const n=await async function(e,t){return(await Promise.all(e.map((async e=>await t.decode(e))))).reduce((function(e,t){return e.push(t.meta.url[0]),e}),[])}(r,t);e=function(e,t,r){return t.forEach(((t,n)=>{e=e.replace(r[n],t)})),e}(e,n,r)}return e}(t.content,this.hashlinkVerifier)),t}}function kq(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}function Pq(e){return/^(\.\/|\.\.\/|[A-Z]:\/\/|\/)[^ "]+$/.test(e)}function Tq(){return{certificateDefinition:null,errorMessage:"errors.invalidBlockcertsUrl"}}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
function Oq(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}function Lq(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}var Nq,Uq;!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(Nq||(Nq={})),function(e){e.V1_1="1.1",e.V1_2="1.2"}(Uq||(Uq={}));var Fq=Uq;const Mq={formatValidation:{label:"Format validation",labelPending:"Validating format",subSteps:[]},hashComparison:{label:"Hash comparison",labelPending:"Comparing hash",subSteps:[]},statusCheck:{label:"Status check",labelPending:"Checking record status",subSteps:[]}};Object.freeze({__proto__:null,final:"final",formatValidation:"formatValidation",hashComparison:"hashComparison",statusCheck:"statusCheck",language:Mq});var Rq={"en-US":{steps:{formatValidationLabel:"Format validation",formatValidationLabelPending:"Validating format",hashComparisonLabel:"Hash comparison",hashComparisonLabelPending:"Comparing hash",statusCheckLabel:"Status check",statusCheckLabelPending:"Checking record status"},subSteps:{getTransactionIdLabel:"Get transaction ID",getTransactionIdLabelPending:"Getting transaction ID",computeLocalHashLabel:"Compute local hash",computeLocalHashLabelPending:"Computing local hash",fetchRemoteHashLabel:"Fetch remote hash",fetchRemoteHashLabelPending:"Fetching remote hash",getIssuerProfileLabel:"Get issuer profile",getIssuerProfileLabelPending:"Getting issuer profile",parseIssuerKeysLabel:"Parse issuer keys",parseIssuerKeysLabelPending:"Parsing issuer keys",compareHashesLabel:"Compare hashes",compareHashesLabelPending:"Comparing hashes",checkMerkleRootLabel:"Check Merkle Root",checkMerkleRootLabelPending:"Checking Merkle Root",checkReceiptLabel:"Check Receipt",checkReceiptLabelPending:"Checking Receipt",checkIssuerSignatureLabel:"Check Issuer Signature",checkIssuerSignatureLabelPending:"Checking Issuer Signature",checkAuthenticityLabel:"Check Authenticity",checkAuthenticityLabelPending:"Checking Authenticity",checkRevokedStatusLabel:"Check Revoked Status",checkRevokedStatusLabelPending:"Checking Revoked Status",checkExpiresDateLabel:"Check Expiration Date",checkExpiresDateLabelPending:"Checking Expiration Date"},revocation:{preReason:"Reason given:",reason:"This certificate has been revoked by the issuer."},success:{mocknet:{label:"This Mocknet credential passed all checks",description:"Mocknet credentials are used for test purposes only. They are not recorded on a blockchain, and they should not be considered verified Blockcerts."},blockchain:{label:"Verified",description:"This is a valid ${chain} certificate.",linkText:"View transaction link"}},errors:{certificateNotValid:"This is not a valid certificate",checkEtherScanConfirmations:"Number of transaction confirmations were less than the minimum required, according to EtherScan API",couldNotConfirmTx:"Could not confirm the transaction",ensureHashesEqual:"Computed hash does not match remote hash",ensureIssuerSignature:"Issuer key does not match derived address.",ensureMerkleRootEqual:"Merkle root does not match remote hash.",ensureNotExpired:"This certificate has expired.",ensureValidReceipt:"The receipt is malformed. There was a problem navigating the merkle tree in the receipt.",failedJsonLdNormalization:"Failed JSON-LD normalization",foundUnmappedFields:"Found unmapped fields during JSON-LD normalization",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Didn't recognize chain value",getIssuerProfile:"Unable to get issuer profile",getRevokedAssertions:"Unable to get revocation assertions",getTransactionId:"Cannot verify this certificate without a transaction ID to compare against.",invalidMerkleReceipt:"Invalid Merkle Receipt. Proof hash did not match Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Cannot verify this certificate without a transaction ID to compare against.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"Could not confirm the transaction. No blockchain apis returned a response. This could be because of rate limiting.",lookForTxDifferentAddresses:"Issuing addresses returned by the blockchain APIs were different",lookForTxDifferentRemoteHashes:"Remote hashes returned by the blockchain APIs were different",lookForTxInvalidAppConfig:"Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value",lookForTxInvalidChain:"Invalid chain; does not map to known BlockchainExplorers.",parseBlockCypherResponse:"Number of transaction confirmations were less than the minimum required, according to Blockcypher API",parseBlockstreamResponse:"Number of transaction confirmations were less than the minimum required, according to Blockstream API",parseIssuerKeys:"Unable to parse JSON out of issuer identification data.",unableToGetRemoteHash:"Unable to get remote hash"}},fr:{steps:{formatValidationLabel:"Validation du format",formatValidationLabelPending:"Validation du format",hashComparisonLabel:"Comparaison du hash",hashComparisonLabelPending:"Comparaison du hash",statusCheckLabel:"V√©rification du status",statusCheckLabelPending:"V√©rification du status"},subSteps:{getTransactionIdLabel:"Obtention de l'identifiant de transaction",getTransactionIdLabelPending:"Obtention de l'identifiant de transaction",computeLocalHashLabel:"Calcul du hash local",computeLocalHashLabelPending:"Calcul du hash local",fetchRemoteHashLabel:"R√©cup√©ration du hash distant",fetchRemoteHashLabelPending:"R√©cup√©ration du hash distant",getIssuerProfileLabel:"Obtention du profil de l'√©metteur",getIssuerProfileLabelPending:"Obtention du profil de l'√©metteur",parseIssuerKeysLabel:"Traitement des cl√©s de l'√©metteur",parseIssuerKeysLabelPending:"Traitement des cl√©s de l'√©metteur",compareHashesLabel:"Comparaison des hash",compareHashesLabelPending:"Comparaison des hashs",checkMerkleRootLabel:"V√©rification du Merkle Root",checkMerkleRootLabelPending:"V√©rification du  Merkle Root",checkReceiptLabel:"V√©rification du re√ßu",checkReceiptLabelPending:"V√©rification du re√ßu",checkIssuerSignatureLabel:"V√©rification de la signature de l'√©metteur",checkIssuerSignatureLabelPending:"V√©rification de la signature de l'√©metteur",checkAuthenticityLabel:"V√©rification de l'authenticit√©",checkAuthenticityLabelPending:"V√©rification de l'authenticit√©",checkRevokedStatusLabel:"V√©rification du status de r√©vocation",checkRevokedStatusLabelPending:"V√©rification du status de r√©vocation",checkExpiresDateLabel:"V√©rification de la date d'expiration",checkExpiresDateLabelPending:"V√©rification de la date d'expiration"},revocation:{preReason:"Raison :",reason:"Ce certificat a √©t√© r√©voqu√© par l'√©metteur."},success:{mocknet:{label:"Cet enregistrement Mocknet a √©t√© v√©rifi√©",description:"Le mode Mocknet est utilis√© √† des fins de tests uniquement. Ce Blockcert n'a pas √©t√© enregistr√© sur une blockchain, et en tant que tel ne peut pas √™tre consid√©r√© un Blockcert valide."},blockchain:{label:"V√©rifi√©",description:"Ceci est un certificat ${chain} valide.",linkText:"Voir la transaction"}},errors:{certificateNotValid:"Certificat invalide",checkEtherScanConfirmations:"Le nombre de confirmations de transaction n'atteint pas le minimum requis, d'apr√®s l'API EtherScan",couldNotConfirmTx:"Impossible de confirmer la transaction",ensureHashesEqual:"Calcul du hash local diff√©rent du hash distant",ensureIssuerSignature:"La cl√© de l'√©metteur ne correspond pas √† l'adresse d√©riv√©e",ensureMerkleRootEqual:"Le Merkle root ne correspond pas au hash distant",ensureNotExpired:"Certificat expir√©",ensureValidReceipt:"Erreur d'√©criture du re√ßu. Un probl√®me est survenu lors de la navigation de l'arbre Merkle du re√ßu.",failedJsonLdNormalization:"Erreur de normalisation JSON-LD",foundUnmappedFields:"Champs non li√©s d√©couverts durant la normalisation JSON-LD",invalidIssuingAddressCreationTime:"L'adresse d'√©mission utilis√©e a √©t√© cr√©√©e apr√®s la transaction d'enregistrement.",invalidIssuingAddressRevoked:"L'adresse d'√©mission utilis√©e a √©t√© d√©commissionn√©e par l'√©metteur avant la transaction d'enregistrement.",invalidIssuingAddressExpired:"L'adresse d'√©mission utilis√©e a expir√© avant la transaction.",invalidIssuingAddressUnknown:"L'adresse utilis√©e pour √©mettre ce Blockcerts n'appartient √† l'√©metteur d√©clar√©.",getChain:"Valeur de chaine non reconnue",getIssuerProfile:"Profil de l'√©metteur indisponible",getRevokedAssertions:"Impossible d'obtenir les raisons de revocation",getTransactionId:"Impossible de v√©rifier ce certificat sans un identifiant de transaction valide",invalidMerkleReceipt:"Re√ßu Merkle invalide. Hash de preuve diff√©rent du Merkle root",invalidMerkleVersion:"La version du Merkle utilis√© est incompatible avec la version Blockcerts.",isTransactionIdValid:"Impossible de v√©rifier ce certificat sans un identifiant de transaction valide",issuerProfileNotSet:"l'URL de l'√©metteur n'est pas d√©finie",issuerProfileInvalid:"le document distant ne semble pas √™tre un profil d'√©metteur valide",lookForTxCouldNotConfirm:"Impossible de confirmer la transaction. Aucune API blockchain n'a r√©pondu. Potentiellement d√ª √† une limite de d√©bit r√©seau.",lookForTxDifferentAddresses:"Les adresses d'√©mission re√ßues de l'API blockchain ne concordent pas",lookForTxDifferentRemoteHashes:"Les hashs distants re√ßus de l'API blockchain ne concordent pas",lookForTxInvalidAppConfig:"Configuration de l'application invalide : v√©rifiez la valeur de configuration de CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Chaine invalide : non li√©e √† un BlockchainExplorers connu",parseBlockCypherResponse:"Le nombre de confirmations de transaction n'atteint pas le minimum requis, d'apr√®s l'API Blockcypher",parseBlockstreamResponse:"Le nombre de confirmations de transaction n'atteint pas le minimum requis, d'apr√®s l'API Blockstream",parseIssuerKeys:"Impossible de lire le JSON d'identification de l'√©metteur",unableToGetRemoteHash:"Impossible d'obtenir le hash distant"}},es:{steps:{formatValidationLabel:"Validaci√≥n de formato",formatValidationLabelPending:"Validando el formato",hashComparisonLabel:"Comparaci√≥n de cadena binaria",hashComparisonLabelPending:"Comparando cadena binaria",statusCheckLabel:"Estado de Verificaci√≥n",statusCheckLabelPending:"Verificando Estado de Grabaci√≥n"},subSteps:{getTransactionIdLabel:"Obtener Identificaci√≥n de Transacci√≥n",getTransactionIdLabelPending:"Obteniendo Identificaci√≥n de Transacci√≥n",computeLocalHashLabel:"Calcular cadena binaria local",computeLocalHashLabelPending:"Calculando cadena binaria local",fetchRemoteHashLabel:"Obtener cadena binaria remota",fetchRemoteHashLabelPending:"Obeniendo cadena binaria remota",getIssuerProfileLabel:"Obtener perfil de emisor",getIssuerProfileLabelPending:"Obteniendo perfil de emisor",parseIssuerKeysLabel:"Analizar claves del emisor",parseIssuerKeysLabelPending:"Analizando claves del emisor",compareHashesLabel:"Comparar cadenas binarias",compareHashesLabelPending:"Comparando cadenas binarias",checkMerkleRootLabel:"Verificar Merkle Root",checkMerkleRootLabelPending:"Verificando Merkle Root",checkReceiptLabel:"Verificar Recibo",checkReceiptLabelPending:"Verificando Recibo",checkIssuerSignatureLabel:"Verificar Firma del Emisor",checkIssuerSignatureLabelPending:"Verificando Firma del Emisor",checkAuthenticityLabel:"Verificar Autenticidad",checkAuthenticityLabelPending:"Verificando Autenticidad",checkRevokedStatusLabel:"Verificar Estado de Revocaci√≥n",checkRevokedStatusLabelPending:"Verificando Estado de Revocaci√≥n",checkExpiresDateLabel:"Verificar Fechas de Expiraci√≥n",checkExpiresDateLabelPending:"Verificando Fechas de Expiraci√≥n"},revocation:{preReason:"Raz√≥n dada:",reason:"Este certificado ha sido revocado por el emisor"},success:{mocknet:{label:"Esta credencial de Mocknet pas√≥ todas las comprobaciones",description:"Las credenciales de Mocknet se usan solo con fines de prueba. No se graban en una cadena de bloques, y no se deben considerar Blockcerts Verificados."},blockchain:{label:"Verificado",description:"Este es un certificado v√°lido de ${chain}.",linkText:"Ver enlace de transacci√≥n"}},errors:{certificateNotValid:"Este no es un certificado v√°lido",checkEtherScanConfirmations:"El n√∫mero de transacciones confirmadas son menores que el m√≠nimo requerido, de acuerdo al API EtherScan",couldNotConfirmTx:"No se ha podido confirmar la transacci√≥n",ensureHashesEqual:"La cadena binaria calculada no corresponde con la cadena binaria remota",ensureIssuerSignature:"La llave del emisor no corresponde con la direcci√≥n obtenida",ensureMerkleRootEqual:"La ra√≠z Merkle no corresponde con la cadena binaria remota",ensureNotExpired:"Este certificado ha expirado",ensureValidReceipt:"El recibo est√° malformado. Hubo un problema navegando el √°rbol Merkle en el recibo",failedJsonLdNormalization:"La normalizaci√≥n del JSON-LD ha fallado",foundUnmappedFields:"Se han encontrado campos no mapeados durante la normalizaci√≥n de JSON-LD",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Valor de cadena no reconocido",getIssuerProfile:"No se ha podido obtener el perfil del emisor",getRevokedAssertions:"No se ha podido obtener aseveraciones de revocaci√≥n",getTransactionId:"No se puede verificar este certificado sin una identificaci√≥n de transacci√≥n que sirva como comparaci√≥n",invalidMerkleReceipt:"Recibo Merkle inv√°lido. La cadena binaria de prueba no corresponde con la ra√≠z Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"No se puede verificar este certificado sin una identificaci√≥n de transacci√≥n que sirva como comparaci√≥n",issuerProfileNotSet:"URL del emisor no definido",issuerProfileInvalid:"el documento recogido no parece ser un perfil de emisor valido",lookForTxCouldNotConfirm:"No se ha podido confirmar la transacci√≥n. Ninguna del las APIs de blockchain gener√≥ una respuesta. Esto puede ser causado por limitaciones de tasa.",lookForTxDifferentAddresses:"Las direcciones emisoras generadas por las APIs del blockchain son distintas",lookForTxDifferentRemoteHashes:"Las cadenas binarias remotas generadas por las APIs del blockchain son distintas",lookForTxInvalidAppConfig:"Configuraci√≥n de aplicaci√≥n inv√°lida; cheque el valor de configuraci√≥n CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Cadena inv√°lida; no corresponde a BlockchainExplorers reconocidos",parseBlockCypherResponse:"El n√∫mero de transacciones confirmadas son menores que el m√≠nimo requerido, de acuerdo al API Blockcypher",parseBlockstreamResponse:"El n√∫mero de transacciones confirmadas son menores que el m√≠nimo requerido, de acuerdo al API Blockstream",parseIssuerKeys:"No se ha podido analizar el JSON de la informaci√≥n de identificaci√≥n del emisor",unableToGetRemoteHash:"No se ha podido obtener la cadena binaria remota"}},mt:{steps:{formatValidationLabel:"Validazzjoni tal-format",formatValidationLabelPending:"Il-format qed jiƒ°i vvalidat",hashComparisonLabel:"Paragun tal-Hash",hashComparisonLabelPending:"Il-hash qed jiƒ°i pparagunat",statusCheckLabel:"Status check",statusCheckLabelPending:"Ir-record status qed jiƒ°i ƒãƒãekkjat"},subSteps:{getTransactionIdLabel:"Ikseb l-ID ta' tran≈ºazzjoni",getTransactionIdLabelPending:"L-ID ta' tran≈ºazzjoni qed tiƒ°i mni≈º≈ºla",computeLocalHashLabel:"Ikkalkula l-hash lokali",computeLocalHashLabelPending:"Il-hash lokali qed jiƒ°i kkalkulat",fetchRemoteHashLabel:"Fittex ir-remote hash",fetchRemoteHashLabelPending:"Ir-remote hash qed jiƒ°i mfittex",getIssuerProfileLabel:"Ikseb il-profil tal-emittent",getIssuerProfileLabelPending:"Il-profil tal-emittent qed jiƒ°i mni≈º≈ºel",parseIssuerKeysLabel:"Estratta ƒã-ƒãwievet tal-emittent",parseIssuerKeysLabelPending:"Iƒã-ƒãwievet tal-emittent qed jiƒ°u estratti",compareHashesLabel:"Ikkumpara l-hashes",compareHashesLabelPending:"Il-hashes qed jiƒ°u kkomparati",checkMerkleRootLabel:"Iƒãƒãekkja l-Merkle Root",checkMerkleRootLabelPending:"Il-Merkle Root Qed Tiƒ°i ƒäƒãekkjata",checkReceiptLabel:"Iƒãƒãekkja l-Irƒãevuta",checkReceiptLabelPending:"L-Irƒãevuta Qed Tiƒ°i ƒäƒãekkjata",checkIssuerSignatureLabel:"Iƒãƒãekkja l-Firma tal-Emittent",checkIssuerSignatureLabelPending:"Il-Firma tal-Emittent Qed Tiƒ°i ƒäƒãekkjata",checkAuthenticityLabel:"Iƒãƒãekkja l-Awtentiƒãit√†",checkAuthenticityLabelPending:"L-Awtentiƒãit√† Qed Tiƒ°i ƒäƒãekkjata",checkRevokedStatusLabel:"Iƒãƒãekkja l-Istatus Revokat",checkRevokedStatusLabelPending:"L-Istatus Revokat Qed Jiƒ°i ƒäƒãekkjat",checkExpiresDateLabel:"Iƒãƒãekkja d-Data ta' Skadenza",checkExpiresDateLabelPending:"Id-Data ta' Skadenza Qed Tiƒ°i ƒäƒãekkjata"},revocation:{preReason:"Raƒ°uni mogƒßtija:",reason:"Dan iƒã-ƒãertifikat ƒ°ie revokat mill-emittent."},success:{mocknet:{label:"Din il-kredenzjali tal-Mocknet gƒßaddiet il-kontrolli kollha",description:"Il-kredenzjali tal-Mocknet jintu≈ºaw biss gƒßal skopijiet ta 'ttestjar. Dawn mhumiex irreƒ°istrati fuq blockchain, u ma gƒßandhomx jiƒ°u kkunsidrati bƒßala blockcerts verifikati."},blockchain:{label:"Ivverifikat",description:"Dan huwa ƒãertifikat ${chain} huwa validu.",linkText:"Ara l-link tat-transazzjoni"}},errors:{certificateNotValid:"Dan mhux ƒãertifikat validu",checkEtherScanConfirmations:"In-numru ta' konfermi tat-tran≈ºazzjonijiet kienu inqas mill-minimu meƒßtieƒ°, skont EtherScan API",couldNotConfirmTx:"Ma setgƒßetx tiƒ°i kkonfermata t-tran≈ºazzjoni",ensureHashesEqual:"Il-hash ikkalkulat ma jikkorrispondix mar-remote hash",ensureIssuerSignature:"Iƒã-ƒãavetta tal-emittent ma taqbilx mal-indirizz derivat",ensureMerkleRootEqual:"Merkle root ma taqbilx mar-remote hash",ensureNotExpired:"Dan iƒã-ƒãertifikat skada",ensureValidReceipt:"L-irƒãevuta hija malformata. Kien hemm problema fin-navigazzjoni tal-merkle tree fl-irƒãevuta",failedJsonLdNormalization:"In-normalizzazzjoni ta' JSON-LD ma rnexxietx",foundUnmappedFields:"Instabu unmapped fields matul in-normalizzazzjoni JSON-LD",invalidIssuingAddressCreationTime:"L-indirizz elettroniku tal-ƒßruƒ° speƒãifikat inƒßoloq wara li seƒßƒßet it-tran≈ºazzjoni.",invalidIssuingAddressRevoked:"L-indirizz elettroniku tal-ƒßruƒ° speƒãifikat ƒ°ie revokat mill-emittent qabel ma seƒßƒßet it-tran≈ºazzjoni.",invalidIssuingAddressExpired:"L-indirizz elettroniku tal-ƒßruƒ° speƒãifikat skada qabel ma seƒßƒßet it-tran≈ºazzjoni.",invalidIssuingAddressUnknown:"L-indirizz elettroniku u≈ºat biex jinƒßarƒ°u dawn il-Blockcerts ma jappartjenix gƒßall-emittent mitlub.",getChain:"Iƒã-chain value ma ntgƒßarafx",getIssuerProfile:"Mhux possibbli jinkiseb il-profil tal-emittent",getRevokedAssertions:"Mhux possibbli jinkisbu dikjarazzjonijiet revokati",getTransactionId:"Dan iƒã-ƒãertifikat ma jistax jiƒ°i vverifikat mingƒßajr ID ta' tran≈ºazzjoni mqabbla miegƒßu",invalidMerkleReceipt:"Irƒãevuta Merkle invalida. Il-proof hash ma kienx jaqbel mal-Merkle root",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Dan iƒã-ƒãertifikat ma jistax jiƒ°i vverifikat mingƒßajr ID ta' tran≈ºazzjoni mqabbla miegƒßu",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"It-tran≈ºazzjoni ma setgƒßetx tiƒ°i kkonferma. L-ebda blockchain apis ma rritorna rispons. Dan jista' jkun minƒßabba limitazzjoni tar-rata",lookForTxDifferentAddresses:"L-indirizzi tal-ƒßruƒ° mibgƒßuta lura mill-blockchain APIs kienu differenti",lookForTxDifferentRemoteHashes:"Ir-remote hashes mibgƒßuta lura mill-blockchain APIs kienu differenti",lookForTxInvalidAppConfig:"Konfigurazzjoni tal-applikazzjoni invalida; Iƒãƒãekkja l-valur konfigurattiv f' CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Chain invalidu; BlockchainExplorers mhux qed isib chain magƒßrufa",parseBlockCypherResponse:"In-numru ta' konfermi tat-tran≈ºazzjonijiet kienu inqas mill-minimu meƒßtieƒ°, skont Blockcypher API",parseBlockstreamResponse:"In-numru ta' konfermi tat-tran≈ºazzjonijiet kienu inqas mill-minimu meƒßtieƒ°, skont Blockstream API",parseIssuerKeys:"Ma jistax jiƒ°i estratt JSON mid-data tal-identifikazzjoni tal-emittent",unableToGetRemoteHash:"Mhux possibbli jinkiseb ir-remote hash"}},"it-IT":{steps:{formatValidationLabel:"Convalidare formato",formatValidationLabelPending:"Convalida formato",hashComparisonLabel:"Confrontare hash",hashComparisonLabelPending:"Confronta hash",statusCheckLabel:"Verificare stato",statusCheckLabelPending:"Verifica stato del record"},subSteps:{getTransactionIdLabel:"Ottenere ID transazione",getTransactionIdLabelPending:"Ottieni ID transazione",computeLocalHashLabel:"Calcolare hash locale",computeLocalHashLabelPending:"Calcola hash locale",fetchRemoteHashLabel:"Recuperare hash remoto",fetchRemoteHashLabelPending:"Recupera hash remoto",getIssuerProfileLabel:"Ottenere profilo issuer",getIssuerProfileLabelPending:"Ottieni profilo issuer",parseIssuerKeysLabel:"Analizzare chiavi issuer",parseIssuerKeysLabelPending:"Analizza chiavi issuer",compareHashesLabel:"Confrontare gli hash",compareHashesLabelPending:"Confronto hash",checkMerkleRootLabel:"Controllare radice di Merkle",checkMerkleRootLabelPending:"Controllo radice di Merkle",checkReceiptLabel:"Verificare ricevuta",checkReceiptLabelPending:"Verifica ricevuta",checkIssuerSignatureLabel:"Verificare firma Issuer",checkIssuerSignatureLabelPending:"Verifica firma Issuer",checkAuthenticityLabel:"Verificare autenticit√†",checkAuthenticityLabelPending:"Verifica autenticit√†",checkRevokedStatusLabel:"Verificare stato revocato",checkRevokedStatusLabelPending:"Verifica stato revocato",checkExpiresDateLabel:"Verificare data di scadenza",checkExpiresDateLabelPending:"Verifica data di scadenza"},revocation:{preReason:"Motivo indicato:",reason:"Questo certificato √® stato revocato dall'emittente."},success:{mocknet:{label:"Questo Blockcert simulato ha superato tutti i controlli.",description:"La modalit√† Mocknet √® utilizzata solo dagli emittenti per testare il loro flusso di lavoro localmente. Questo Blockcert non √® stato registrato su una blockchain e non dovrebbe essere considerato un Blockcert verificato."},blockchain:{label:"Verificato",description:"Questo √® un certificato ${chain} valido.",linkText:"Vedi la transazione"}},errors:{certificateNotValid:"Questo non √® un certificato valido",checkEtherScanConfirmations:"Il numero di conferme delle transazioni era inferiore al minimo richiesto, secondo l'API EtherScan",couldNotConfirmTx:"Impossibile confermare la transazione",ensureHashesEqual:"L'hash calcolato non corrisponde all'hash remoto",ensureIssuerSignature:"La chiave dell'issuer non corrisponde all'indirizzo derivato.",ensureMerkleRootEqual:"La radice di Merkle non corrisponde all'hash remoto.",ensureNotExpired:"Questo certificato √® scaduto.",ensureValidReceipt:"La ricevuta √® malformata. C'√® stato un problema nella navigazione dell'albero di Merkle nella ricevuta.",failedJsonLdNormalization:"Normalizzazione JSON-LD fallita",foundUnmappedFields:"Campi non mappati trovati durante la normalizzazione JSON-LD",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"Il valore della catena non √® stato riconosciuto",getIssuerProfile:"Impossibile ottenere il profilo dell'emittente",getRevokedAssertions:"Impossibile ottenere le asserzioni di revoca",getTransactionId:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",invalidMerkleReceipt:"Ricevuta Merkle non valida. L'hash di prova non corrisponde alla radice di Merkle",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"Impossibile verificare questo certificato senza un ID transazione da confrontare.",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"Impossibile confermare la transazione. Nessuna API blockchain ha risposto. Potrebbe essere a causa della limitazione della velocit√†.",lookForTxDifferentAddresses:"Gli indirizzi di emissione restituiti dalle API blockchain erano diversi",lookForTxDifferentRemoteHashes:"Gli hash remoti restituiti dalle API blockchain erano diversi",lookForTxInvalidAppConfig:"Configurazione dell'applicazione non valida, verificare il valore di configurazione di CONFIG.MinimumBlockchainExplorers",lookForTxInvalidChain:"Catena non valida; non mappa BlockchainExplorers noti.",parseBlockCypherResponse:"Il numero di conferme delle transazioni era inferiore al minimo richiesto, secondo l'API Blockcypher",parseBlockstreamResponse:"Il numero di conferme delle transazioni era inferiore al minimo richiesto, secondo l'API Blockstream",parseIssuerKeys:"Impossibile analizzare JSON dai dati di identificazione dell'emittente.",unableToGetRemoteHash:"Impossibile ottenere l'hash remoto"}},ja:{steps:{formatValidationLabel:"„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÅÆÊ§úË®º",formatValidationLabelPending:"„Éï„Ç©„Éº„Éû„ÉÉ„Éà„ÇíÊ§úË®º„Åó„Å¶„ÅÑ„Åæ„Åô",hashComparisonLabel:"„Éè„ÉÉ„Ç∑„É•„ÅÆÁÖßÂêà",hashComparisonLabelPending:"„Éè„ÉÉ„Ç∑„É•„ÇíÁÖßÂêà„Åó„Å¶„ÅÑ„Åæ„Åô",statusCheckLabel:"„Çπ„ÉÜ„Éº„Çø„Çπ„ÅÆÁ¢∫Ë™ç",statusCheckLabelPending:"„Çπ„ÉÜ„Éº„Çø„Çπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô"},subSteps:{getTransactionIdLabel:"ÂèñÂºïID„ÅÆÂèñÂæó",getTransactionIdLabelPending:"ÂèñÂºïID„ÇíÂèñÂæó„Åó„Å¶„ÅÑ„Åæ„Åô",computeLocalHashLabel:"„É≠„Éº„Ç´„É´„Éè„ÉÉ„Ç∑„É•„ÅÆÁÆóÂá∫",computeLocalHashLabelPending:"„É≠„Éº„Ç´„É´„Éè„ÉÉ„Ç∑„É•„ÇíÁÆóÂá∫„Åó„Å¶„ÅÑ„Åæ„Åô",fetchRemoteHashLabel:"„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„ÅÆ„Éï„Çß„ÉÉ„ÉÅ",fetchRemoteHashLabelPending:"„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„Çí„Éï„Çß„ÉÉ„ÉÅ„Åó„Å¶„ÅÑ„Åæ„Åô",getIssuerProfileLabel:"Áô∫Ë°åËÄÖ„Éó„É≠„Éï„Ç£„Éº„É´„ÅÆÂèñÂæó",getIssuerProfileLabelPending:"Áô∫Ë°åËÄÖ„Éó„É≠„Éï„Ç£„Éº„É´„ÇíÂèñÂæó„Åó„Å¶„ÅÑ„Åæ„Åô",parseIssuerKeysLabel:"Áô∫Ë°åËÄÖ„ÅÆÈçµ„ÅÆ„Éë„Éº„Çπ",parseIssuerKeysLabelPending:"Áô∫Ë°åËÄÖ„ÅÆÈçµ„Çí„Éë„Éº„Çπ„Åó„Å¶„ÅÑ„Åæ„Åô",compareHashesLabel:"„Éè„ÉÉ„Ç∑„É•„ÅÆÁÖßÂêà",compareHashesLabelPending:"„Éè„ÉÉ„Ç∑„É•„ÇíÁÖßÂêà„Åó„Å¶„ÅÑ„Åæ„Åô",checkMerkleRootLabel:"Merkle Root„ÅÆÁ¢∫Ë™ç",checkMerkleRootLabelPending:"Merkle Root„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkReceiptLabel:"„É¨„Ç∑„Éº„Éà„ÅÆÁ¢∫Ë™ç",checkReceiptLabelPending:"„É¨„Ç∑„Éº„Éà„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkIssuerSignatureLabel:"Áô∫Ë°åËÄÖ„ÅÆÁΩ≤Âêç„ÅÆÁ¢∫Ë™ç",checkIssuerSignatureLabelPending:"Áô∫Ë°åËÄÖ„ÅÆÁΩ≤Âêç„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkAuthenticityLabel:"ÁúüÊ≠£ÊÄß„ÅÆÁ¢∫Ë™ç",checkAuthenticityLabelPending:"ÁúüÊ≠£ÊÄß„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkRevokedStatusLabel:"ÂèñÊ∂à„Çπ„ÉÜ„Éº„Çø„Çπ„ÅÆÁ¢∫Ë™ç",checkRevokedStatusLabelPending:"ÂèñÊ∂à„Çπ„ÉÜ„Éº„Çø„Çπ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô",checkExpiresDateLabel:"ÊúâÂäπÊúüÈôê„ÅÆÁ¢∫Ë™ç",checkExpiresDateLabelPending:"ÊúâÂäπÊúüÈôê„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÅÑ„Åæ„Åô"},revocation:{preReason:"ÁêÜÁî±Ôºö",reason:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅØÁô∫Ë°åËÄÖ„Å´„Çà„Å£„Å¶Âèñ„ÇäÊ∂à„Åï„Çå„Åæ„Åó„Åü„ÄÇ"},success:{mocknet:{label:"„Åì„ÅÆMocknet„ÅÆË®ºÊòéÊõ∏„ÅØÂÖ®„Å¶„ÅÆ„ÉÅ„Çß„ÉÉ„ÇØ„ÇíÈÄöÈÅé„Åó„Åæ„Åó„Åü„ÄÇ",description:"Mocknet„ÅÆË®ºÊòéÊõ∏„ÅØ„ÉÜ„Çπ„ÉàÁî®„ÅÆ„ÇÇ„ÅÆ„Åß„Åô„ÄÇ„Éñ„É≠„ÉÉ„ÇØ„ÉÅ„Çß„Éº„É≥„Å´Ë®òÈå≤„Åï„Çå„Åæ„Åõ„Çì„Åó„ÄÅË™çË®ºÊ∏à„Åø„ÅÆBlockcert„Å®„Åó„Å¶Êâ±„Çè„Çå„Åæ„Åõ„Çì„ÄÇ"},blockchain:{label:"Ë™çË®º„Åï„Çå„Åæ„Åó„Åü",description:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅØÊúâÂäπ„Å™${chain}Ë®ºÊòéÊõ∏„Åß„Åô„ÄÇ",linkText:"ÂèñÂºï„ÇíÁ¢∫Ë™ç„Åô„Çã"}},errors:{certificateNotValid:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅØÊúâÂäπ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì",checkEtherScanConfirmations:"EtherScan API„Å´„Çà„Çã„Å®„ÄÅÂøÖË¶ÅÊúÄÂ∞èÈôê„ÅÆÂèñÂºïÁ¢∫Ë™ç„ÅÆÊï∞„Å´ÈÅî„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",couldNotConfirmTx:"ÂèñÂºï„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü",ensureHashesEqual:"ÁÆóÂá∫„Åï„Çå„Åü„Éè„ÉÉ„Ç∑„É•„Åå„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„Å®‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",ensureIssuerSignature:"Áô∫Ë°åËÄÖ„ÅÆÈçµ„ÅåÂæó„Çâ„Çå„Åü„Ç¢„Éâ„É¨„Çπ„Å®‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",ensureMerkleRootEqual:"Merkle root„Åå„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„Å®‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",ensureNotExpired:"„Åì„ÅÆË®ºÊòéÊõ∏„ÅÆÊúâÂäπÊúüÈôê„ÅåÂàá„Çå„Å¶„ÅÑ„Åæ„Åô",ensureValidReceipt:"„É¨„Ç∑„Éº„Éà„ÅåÁï∞Â∏∏„Åß„Åô„ÄÇ„É¨„Ç∑„Éº„ÉàÂÜÖ„ÅÆMerkle tree„ÇíËæø„ÇãÈöõ„Å´ÂïèÈ°å„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ",failedJsonLdNormalization:"JSON-LD„ÅÆÊ≠£Ë¶èÂåñ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü",foundUnmappedFields:"JSON-LD„ÅÆÊ≠£Ë¶èÂåñÊôÇ„Å´„Éû„ÉÉ„Éó„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑ„Éï„Ç£„Éº„É´„Éâ„ÇíÊ§úÂá∫„Åó„Åæ„Åó„Åü",invalidIssuingAddressCreationTime:"The specified issuing address was created after the transaction occurred.",invalidIssuingAddressRevoked:"The specified issuing address was revoked by the issuer before the transaction occurred.",invalidIssuingAddressExpired:"The specified issuing address expired before the transaction occurred.",invalidIssuingAddressUnknown:"The address used to issue this Blockcerts does not belong to the claimed issuer.",getChain:"„ÉÅ„Çß„Éº„É≥„ÅÆÂÄ§„ÇíË™çË≠ò„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü",getIssuerProfile:"Áô∫Ë°åËÄÖ„Éó„É≠„Éï„Ç£„Éº„É´„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì",getRevokedAssertions:"ÂèñÊ∂àassertions„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì",getTransactionId:"ÁÖßÂêà„ÅÆ„Åü„ÇÅ„ÅÆÂèñÂºïID„Åå„Å™„ÅÑ„Åü„ÇÅ„ÄÅ„Åì„ÅÆË®ºÊòéÊõ∏„ÇíË™çË®º„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",invalidMerkleReceipt:"Merkle„É¨„Ç∑„Éº„Éà„ÅåÁÑ°Âäπ„Åß„Åô„ÄÇË®ºÊòé„Éè„ÉÉ„Ç∑„É•„ÅåMerkle root„Å®‰∏ÄËá¥„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ",invalidMerkleVersion:"Merkle version used for signature is incompatible with Blockcerts version.",isTransactionIdValid:"ÁÖßÂêà„Åô„Çã„Åü„ÇÅ„ÅÆÂèñÂºïID„Åå„Å™„ÅÑ„Åü„ÇÅ„ÄÅ„Åì„ÅÆË®ºÊòéÊõ∏„ÇíË™çË®º„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",issuerProfileNotSet:"no issuer address given",issuerProfileInvalid:"retrieved file does not seem to be a valid profile",lookForTxCouldNotConfirm:"ÂèñÂºï„ÇíÁ¢∫Ë™ç„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇÂÖ®„Å¶„ÅÆ„Éñ„É≠„ÉÉ„ÇØ„ÉÅ„Çß„Éº„É≥API„ÅåËøî‰ø°„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ „É¨„Éº„ÉàÂà∂Èôê„ÅåÂéüÂõ†„Å´„Å™„Å£„Å¶„ÅÑ„ÇãÂèØËÉΩÊÄß„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",lookForTxDifferentAddresses:"„Éñ„É≠„ÉÉ„ÇØ„ÉÅ„Çß„Éº„É≥API„Åã„ÇâËøî„Åï„Çå„ÅüÁô∫Ë°åËÄÖ„Ç¢„Éâ„É¨„Çπ„ÅåÁï∞„Å™„Å£„Å¶„ÅÑ„Åæ„Åó„Åü",lookForTxDifferentRemoteHashes:"„Éñ„É≠„ÉÉ„ÇØ„ÉÅ„Çß„Éº„É≥API„Åã„ÇâËøî„Åï„Çå„Åü„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„ÅåÁï∞„Å™„Å£„Å¶„ÅÑ„Åæ„Åó„Åü",lookForTxInvalidAppConfig:"„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Ë®≠ÂÆö„ÅåÁÑ°Âäπ„Åß„Åô„ÄÇCONFIG.MinimumBlockchainExplorers„ÅÆË®≠ÂÆöÂÄ§„ÇíÁ¢∫Ë™ç„Åó„Å¶‰∏ã„Åï„ÅÑ„ÄÇ",lookForTxInvalidChain:"„ÉÅ„Çß„Éº„É≥„ÅåÁÑ°Âäπ„Åß„Åô„ÄÇÊó¢Áü•„ÅÆBlockchainExplorers„Å´„Éû„ÉÉ„Éó„Åß„Åç„Åæ„Åõ„Çì„ÄÇ",parseBlockCypherResponse:"Blockcypher API„Å´„Çà„Çã„Å®„ÄÅÂøÖË¶ÅÊúÄÂ∞èÈôê„ÅÆÂèñÂºïÁ¢∫Ë™ç„ÅÆÊï∞„Å´ÈÅî„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",parseBlockstreamResponse:"Blockstream API„Å´„Çà„Çã„Å®„ÄÅÂøÖË¶ÅÊúÄÂ∞èÈôê„ÅÆÂèñÂºïÁ¢∫Ë™ç„ÅÆÊï∞„Å´ÈÅî„Åó„Åæ„Åõ„Çì„Åß„Åó„Åü",parseIssuerKeys:"Áô∫Ë°åËÄÖË≠òÂà•„Éá„Éº„Çø„Åã„ÇâJSON„Çí„Éë„Éº„Çπ„Åß„Åç„Åæ„Åõ„Çì",unableToGetRemoteHash:"„É™„É¢„Éº„Éà„Éè„ÉÉ„Ç∑„É•„ÇíÂèñÂæó„Åß„Åç„Åæ„Åõ„Çì"}}};function Dq(e,t){return Rq["en-US"].subSteps[`${e}${t}`]}const jq={formatValidation:["getTransactionId","computeLocalHash","fetchRemoteHash","getIssuerProfile","parseIssuerKeys"],hashComparison:["compareHashes","checkMerkleRoot","checkReceipt"],statusCheck:["checkIssuerSignature","checkAuthenticity","checkRevokedStatus","checkExpiresDate"]},Qq=Object.keys(jq).reduce(((e,t)=>{return Object.assign(e,jq[r=t].reduce(((e,t)=>(e[t]={code:t,label:Dq(t,"Label"),labelPending:Dq(t,"LabelPending"),parentStep:r},e)),{}));var r}),{});var Hq;Object.freeze({__proto__:null,getTransactionId:"getTransactionId",computeLocalHash:"computeLocalHash",fetchRemoteHash:"fetchRemoteHash",getIssuerProfile:"getIssuerProfile",parseIssuerKeys:"parseIssuerKeys",compareHashes:"compareHashes",checkMerkleRoot:"checkMerkleRoot",checkReceipt:"checkReceipt",checkIssuerSignature:"checkIssuerSignature",checkAuthenticity:"checkAuthenticity",checkRevokedStatus:"checkRevokedStatus",checkExpiresDate:"checkExpiresDate",language:Qq}),Object.freeze({__proto__:null,FAILURE:"failure",STARTING:"starting",SUCCESS:"success"}),function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(Hq||(Hq={}));const Kq={[Hq.Bitcoin]:{code:Hq.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}},[Hq.Ethmain]:{code:Hq.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}},[Hq.Ethropst]:{code:Hq.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}},[Hq.Ethrinkeby]:{code:Hq.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}},[Hq.Mocknet]:{code:Hq.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}},[Hq.Regtest]:{code:Hq.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}},[Hq.Testnet]:{code:Hq.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}},Vq="mainnet",zq="testnet";var qq={"@context":[{id:"@id",type:"@type",bc:"https://w3id.org/blockcerts#",obi:"https://w3id.org/openbadges#",cp:"https://w3id.org/chainpoint#",extensions:"https://w3id.org/openbadges/extensions#",validation:"obi:validation",xsd:"http://www.w3.org/2001/XMLSchema#",schema:"http://schema.org/",sec:"https://w3id.org/security#",Assertion:"bc:Assertion",Certificate:"bc:Certificate",Issuer:"bc:Issuer",BlockchainCertificate:"bc:BlockchainCertificate",CertificateDocument:"bc:CertificateDocument",issuer:{"@id":"bc:issuer","@type":"@id"},blockchaincertificate:{"@id":"bc:blockchaincertificate","@type":"@id"},certificate:{"@id":"bc:certificate","@type":"@id"},document:{"@id":"bc:document","@type":"@id"},assertion:{"@id":"bc:assertion","@type":"@id"},verify:{"@id":"bc:verify","@type":"@id"},recipient:{"@id":"bc:recipient","@type":"@id"},receipt:{"@id":"bc:receipt","@type":"@id"},publicKey:{"@id":"bc:publicKey"},revocationKey:{"@id":"bc:revocationKey"},"image:signature":{"@id":"bc:image:signature"},signature:{"@id":"bc:signature"},familyName:{"@id":"schema:familyName"},givenName:{"@id":"schema:givenName"},jobTitle:{"@id":"schema:jobTitle"},signer:{"@id":"bc:signer","@type":"@id"},"attribute-signed":{"@id":"bc:attribute-signed"},"ECDSA(secp256k1)":"bc:SignedBadge",subtitle:{"@id":"bc:subtitle"},email:"schema:email",hashed:{"@id":"obi:hashed","@type":"xsd:boolean"},image:{"@id":"schema:image","@type":"@id"},salt:{"@id":"obi:salt"},identity:{"@id":"obi:identityHash"},issuedOn:{"@id":"obi:issueDate","@type":"xsd:dateTime"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},evidence:{"@id":"obi:evidence","@type":"@id"},criteria:{"@id":"obi:criteria","@type":"@id"},tags:{"@id":"schema:keywords"},alignment:{"@id":"obi:alignment","@type":"@id"},revocationList:{"@id":"obi:revocationList","@type":"@id"},name:{"@id":"schema:name"},description:{"@id":"schema:description"},url:{"@id":"schema:url","@type":"@id"},uid:{"@id":"obi:uid"},TypeValidation:"obi:TypeValidation",FrameValidation:"obi:FrameValidation",validatesType:"obi:validatesType",validationSchema:"obi:validationSchema",validationFrame:"obi:validationFrame",ChainpointSHA224v2:"cp:ChainpointSHA224v2",ChainpointSHA256v2:"cp:ChainpointSHA256v2",ChainpointSHA384v2:"cp:ChainpointSHA384v2",ChainpointSHA512v2:"cp:ChainpointSHA512v2","ChainpointSHA3-224v2":"cp:ChainpointSHA3-224v2","ChainpointSHA3-256v2":"cp:ChainpointSHA3-256v2","ChainpointSHA3-384v2":"cp:ChainpointSHA3-384v2","ChainpointSHA3-512v2":"cp:ChainpointSHA3-512v2",BTCOpReturn:"cp:BTCOpReturn",targetHash:"cp:targetHash",merkleRoot:"cp:merkleRoot",proof:"cp:proof",anchors:"cp:anchors",sourceId:"cp:sourceId",right:"cp:right",left:"cp:left"}],validation:[{type:"TypeValidation",validatesType:"Assertion",validationSchema:"https://w3id.org/blockcerts/schema/1.2/assertion-1.2.json"},{type:"TypeValidation",validatesType:"Certificate",validationSchema:"https://w3id.org/blockcerts/schema/1.2/certificate-1.2.json"},{type:"TypeValidation",validatesType:"Issuer",validationSchema:"https://w3id.org/blockcerts/schema/1.2/issuer-1.2.json"},{type:"TypeValidation",validatesType:"CertificateDocument",validationSchema:"https://w3id.org/blockcerts/schema/1.2/certificate-document-1.2.json"},{type:"TypeValidation",validatesType:"BlockchainCertificate",validationSchema:"https://w3id.org/blockcerts/schema/1.2/blockchain-certificate-1.2.json"},{type:"TypeValidation",validatesType:"BlockchainReceipt",validationSchema:"https://w3id.org/blockcerts/schema/1.2/blockchain-receipt-1.2.json"}]},Gq={"@context":{id:"@id",type:"@type",extensions:"https://w3id.org/openbadges/extensions#",obi:"https://w3id.org/openbadges#",validation:"obi:validation",cred:"https://w3id.org/credentials#",dc:"http://purl.org/dc/terms/",schema:"http://schema.org/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",AlignmentObject:"schema:AlignmentObject",CryptographicKey:"sec:Key",Endorsement:"cred:Credential",Assertion:"obi:Assertion",BadgeClass:"obi:BadgeClass",Criteria:"obi:Criteria",Evidence:"obi:Evidence",Extension:"obi:Extension",FrameValidation:"obi:FrameValidation",IdentityObject:"obi:IdentityObject",Image:"obi:Image",HostedBadge:"obi:HostedBadge",hosted:"obi:HostedBadge",Issuer:"obi:Issuer",Profile:"obi:Profile",RevocationList:"obi:RevocationList",SignedBadge:"obi:SignedBadge",signed:"obi:SignedBadge",TypeValidation:"obi:TypeValidation",VerificationObject:"obi:VerificationObject",author:{"@id":"schema:author","@type":"@id"},caption:{"@id":"schema:caption"},claim:{"@id":"cred:claim","@type":"@id"},created:{"@id":"dc:created","@type":"xsd:dateTime"},creator:{"@id":"dc:creator","@type":"@id"},description:{"@id":"schema:description"},email:{"@id":"schema:email"},endorsement:{"@id":"cred:credential","@type":"@id"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},genre:{"@id":"schema:genre"},image:{"@id":"schema:image","@type":"@id"},name:{"@id":"schema:name"},owner:{"@id":"sec:owner","@type":"@id"},publicKey:{"@id":"sec:publicKey","@type":"@id"},publicKeyPem:{"@id":"sec:publicKeyPem"},related:{"@id":"dc:relation","@type":"@id"},startsWith:{"@id":"http://purl.org/dqm-vocabulary/v1/dqm#startsWith"},tags:{"@id":"schema:keywords"},targetDescription:{"@id":"schema:targetDescription"},targetFramework:{"@id":"schema:targetFramework"},targetName:{"@id":"schema:targetName"},targetUrl:{"@id":"schema:targetUrl"},telephone:{"@id":"schema:telephone"},url:{"@id":"schema:url","@type":"@id"},version:{"@id":"schema:version"},alignment:{"@id":"obi:alignment","@type":"@id"},allowedOrigins:{"@id":"obi:allowedOrigins"},audience:{"@id":"obi:audience"},badge:{"@id":"obi:badge","@type":"@id"},criteria:{"@id":"obi:criteria","@type":"@id"},endorsementComment:{"@id":"obi:endorsementComment"},evidence:{"@id":"obi:evidence","@type":"@id"},hashed:{"@id":"obi:hashed","@type":"xsd:boolean"},identity:{"@id":"obi:identityHash"},issuedOn:{"@id":"obi:issueDate","@type":"xsd:dateTime"},issuer:{"@id":"obi:issuer","@type":"@id"},narrative:{"@id":"obi:narrative"},recipient:{"@id":"obi:recipient","@type":"@id"},revocationList:{"@id":"obi:revocationList","@type":"@id"},revocationReason:{"@id":"obi:revocationReason"},revoked:{"@id":"obi:revoked","@type":"xsd:boolean"},revokedAssertions:{"@id":"obi:revoked"},salt:{"@id":"obi:salt"},targetCode:{"@id":"obi:targetCode"},uid:{"@id":"obi:uid"},validatesType:"obi:validatesType",validationFrame:"obi:validationFrame",validationSchema:"obi:validationSchema",verification:{"@id":"obi:verify","@type":"@id"},verificationProperty:{"@id":"obi:verificationProperty"},verify:"verification"}};const Wq={};Wq["https://w3id.org/blockcerts/v1"]=qq,Wq["https://w3id.org/openbadges/v2"]=Gq,Wq["https://openbadgespec.org/v2/context.json"]=Gq;const $q={locale:"en-US"};var Jq=Object.freeze({__proto__:null,isMainnet:function(e){return Lq(e,"1")||Lq(e,"ecdsa-koblitz-pubkey:1")}}),Xq={locale:"en-US"};function Yq(e,t){return e&&t?Rq[Xq.locale]?Rq[Xq.locale][e]?Rq[Xq.locale][e][t]?Rq[Xq.locale][e][t]||"":"[missing locale item data]":"[missing locale group data]":"[missing locale data]":""}var Zq=Object.freeze({__proto__:null,detectLocale:function(){return navigator.language||navigator.userLanguage||navigator.browserLanguage||$q.locale},ensureIsSupported:function(e){let t;const r=XX.i18n.getSupportedLanguages().map((e=>e.toLowerCase()));if(t=r.indexOf(e.toLowerCase())>-1,!t){const n=e.substr(0,2).toLowerCase(),i=r.map((e=>e.split("-")[0])).indexOf(n);t=i>-1,t&&(e=r[i])}return t||(e=$q.locale),function(e){const t=e.split("-");return t.length>1?`${t[0].toLowerCase()}-${t[1].toUpperCase()}`:t[0].toLowerCase()}(e)},getText:Yq,getSupportedLanguages:function(){return Object.keys(Rq)}});function eG(e=""){return Jq.isMainnet(e)?Kq.bitcoin:Kq.testnet}function tG(e){const t=Object.keys(Kq).map((e=>Kq[e])).find((t=>t.signatureValue===e));if(void 0===t)throw new Error(Yq("errors","getChain"));return t}class rG{constructor(e,t,r,n){this.publicKey=e,this.created=t,this.revoked=r,this.expires=n}}class nG{constructor(e,t,r){this.image=e,this.jobTitle=t,this.name=r}}class iG extends Error{constructor(e,t){super(t),this.stepCode=e}}var oG=Object.freeze({__proto__:null,isMockChain:function(e){if(e){const t="string"==typeof e?e:e.code;return!!Object.keys(Kq).some((e=>e===t))&&!!Kq[t].test}return!1}}),sG="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function aG(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cG(e,t){return e(t={exports:{}},t.exports),t.exports}function uG(e){return e&&e.default||e}var lG=cG((function(e,t){var r="__lodash_hash_undefined__",n=9007199254740991,i="[object Arguments]",o="[object Boolean]",s="[object Date]",a="[object Function]",c="[object GeneratorFunction]",u="[object Map]",l="[object Number]",A="[object Object]",h="[object Promise]",f="[object RegExp]",d="[object Set]",p="[object String]",g="[object Symbol]",m="[object WeakMap]",y="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",_="[object Int16Array]",B="[object Int32Array]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",I="[object Uint32Array]",k=/\w*$/,P=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,O={};O[i]=O["[object Array]"]=O[y]=O[v]=O[o]=O[s]=O[b]=O[w]=O[x]=O[_]=O[B]=O[u]=O[l]=O[A]=O[f]=O[d]=O[p]=O[g]=O[E]=O[S]=O[C]=O[I]=!0,O["[object Error]"]=O[a]=O[m]=!1;var L="object"==typeof sG&&sG&&sG.Object===Object&&sG,N="object"==typeof self&&self&&self.Object===Object&&self,U=L||N||Function("return this")(),F=t&&!t.nodeType&&t,M=F&&e&&!e.nodeType&&e,R=M&&M.exports===F;function D(e,t){return e.set(t[0],t[1]),e}function j(e,t){return e.add(t),e}function Q(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function H(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function V(e,t){return function(r){return e(t(r))}}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var q,G=Array.prototype,W=Function.prototype,$=Object.prototype,J=U["__core-js_shared__"],X=(q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",Y=W.toString,Z=$.hasOwnProperty,ee=$.toString,te=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=R?U.Buffer:void 0,ne=U.Symbol,ie=U.Uint8Array,oe=V(Object.getPrototypeOf,Object),se=Object.create,ae=$.propertyIsEnumerable,ce=G.splice,ue=Object.getOwnPropertySymbols,le=re?re.isBuffer:void 0,Ae=V(Object.keys,Object),he=Ue(U,"DataView"),fe=Ue(U,"Map"),de=Ue(U,"Promise"),pe=Ue(U,"Set"),ge=Ue(U,"WeakMap"),me=Ue(Object,"create"),ye=je(he),ve=je(fe),be=je(de),we=je(pe),xe=je(ge),_e=ne?ne.prototype:void 0,Be=_e?_e.valueOf:void 0;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){this.__data__=new Se(e)}function ke(e,t,r){var n=e[t];Z.call(e,t)&&Qe(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Pe(e,t){for(var r=e.length;r--;)if(Qe(e[r][0],t))return r;return-1}function Te(e,t,r,n,h,m,P){var T;if(n&&(T=m?n(e,h,m,P):n(e)),void 0!==T)return T;if(!qe(e))return e;var L=He(e);if(L){if(T=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&Z.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,T)}else{var N=Me(e),U=N==a||N==c;if(Ve(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(N==A||N==i||U&&!m){if(H(e))return m?e:{};if(T=function(e){return"function"!=typeof e.constructor||De(e)?{}:qe(t=oe(e))?se(t):{};var t}(U?{}:e),!t)return function(e,t){return Le(e,Fe(e),t)}(e,function(e,t){return e&&Le(t,Ge(t),e)}(T,e))}else{if(!O[N])return m?e:{};T=function(e,t,r,n){var i,a=e.constructor;switch(t){case y:return Oe(e);case o:case s:return new a(+e);case v:return function(e,t){var r=t?Oe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case b:case w:case x:case _:case B:case E:case S:case C:case I:return function(e,t){var r=t?Oe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case u:return function(e,t,r){return Q(t?r(K(e),!0):K(e),D,new e.constructor)}(e,n,r);case l:case p:return new a(e);case f:return function(e){var t=new e.constructor(e.source,k.exec(e));return t.lastIndex=e.lastIndex,t}(e);case d:return function(e,t,r){return Q(t?r(z(e),!0):z(e),j,new e.constructor)}(e,n,r);case g:return i=e,Be?Object(Be.call(i)):{}}}(e,N,Te,t)}}P||(P=new Ie);var F=P.get(e);if(F)return F;if(P.set(e,T),!L)var M=r?function(e){return function(e,t,r){var n=t(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ge,Fe)}(e):Ge(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(M||e,(function(i,o){M&&(i=e[o=i]),ke(T,o,Te(i,t,r,n,o,e,P))})),T}function Oe(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Le(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=n?n(r[s],e[s],s,r,e):void 0;ke(r,s,void 0===a?e[s]:a)}return r}function Ne(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!qe(e)||(t=e,X&&X in t))&&(ze(e)||H(e)?te:P).test(je(e));var t}(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=me?me(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return Z.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Z.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Pe(t,e);return!(r<0||(r==t.length-1?t.pop():ce.call(t,r,1),0))},Se.prototype.get=function(e){var t=this.__data__,r=Pe(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Pe(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Pe(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ee,map:new(fe||Se),string:new Ee}},Ce.prototype.delete=function(e){return Ne(this,e).delete(e)},Ce.prototype.get=function(e){return Ne(this,e).get(e)},Ce.prototype.has=function(e){return Ne(this,e).has(e)},Ce.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},Ie.prototype.clear=function(){this.__data__=new Se},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!fe||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ce(n)}return r.set(e,t),this};var Fe=ue?V(ue,Object):function(){return[]},Me=function(e){return ee.call(e)};function Re(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function De(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}function je(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Qe(e,t){return e===t||e!=e&&t!=t}(he&&Me(new he(new ArrayBuffer(1)))!=v||fe&&Me(new fe)!=u||de&&Me(de.resolve())!=h||pe&&Me(new pe)!=d||ge&&Me(new ge)!=m)&&(Me=function(e){var t=ee.call(e),r=t==A?e.constructor:void 0,n=r?je(r):void 0;if(n)switch(n){case ye:return v;case ve:return u;case be:return h;case we:return d;case xe:return m}return t});var He=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!ze(e)}var Ve=le||function(){return!1};function ze(e){var t=qe(e)?ee.call(e):"";return t==a||t==c}function qe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return Ke(e)?function(e,t){var r=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&Z.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var s in e)!t&&!Z.call(e,s)||o&&("length"==s||Re(s,n))||r.push(s);return r}(e):function(e){if(!De(e))return Ae(e);var t=[];for(var r in Object(e))Z.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Te(e,!0,!0)}}));function AG(e){return lG(e)}const hG={[Vq]:["getTransactionId","computeLocalHash","fetchRemoteHash","getIssuerProfile","parseIssuerKeys","compareHashes","checkMerkleRoot","checkReceipt","checkRevokedStatus","checkAuthenticity","checkExpiresDate"],[zq]:["computeLocalHash","compareHashes","checkReceipt","checkExpiresDate"]};var fG=Object.freeze({__proto__:null,getChain:function(e,t=null){const r=t||{};if(r.anchors){const e=r.anchors[0];if(e.chain)return tG(e.chain);if("string"==typeof e)return function(e){const t={btc:{chainName:Kq.bitcoin.name},eth:{chainName:Kq.ethmain.name}},r=e.split(":"),n=r.findIndex((e=>Object.keys(t).includes(e)));if(n>-1){const e=r[n],i=r[n+1];return tG(t[e].chainName.toLowerCase()+function(e){const t=e.substr(0,1),r=e.substr(1,e.length-1);return t.toUpperCase()+r.toLowerCase()}(i))}return eG()}(e)}return eG(e)},generateRevocationReason:function(e){return e=(e=e.trim()).length>0?` ${Yq("revocation","preReason")} ${e}${"."!==e.slice(-1)?".":""}`:"",`${Yq("revocation","reason")}${e}`},getTransactionId:function(e={}){try{const{anchors:t}=e,r=t[0];if(r.sourceId)return r.sourceId;if("string"==typeof r)return r.split(":").pop()}catch(e){throw new iG("",Yq("errors","getTransactionId"))}},getTransactionLink:function(e,t,r=!1){return e&&t?t.transactionTemplates[r?"raw":"full"].replace("{transaction_id}",e):""},getVerificationMap:function(e){if(!e)return[];const t=oG.isMockChain(e)?zq:Vq;return function(e){const t=function(e){const t=AG(Mq);return e.forEach((e=>t[e.parentStep].subSteps.push(e))),t}(e.map((e=>({...Object.assign({},Qq[e]),label:Yq("subSteps",`${e}Label`),labelPending:Yq("subSteps",`${e}LabelPending`)}))));return r=t,Object.keys(r).map((e=>({...r[e],code:e,label:Yq("steps",`${e}Label`),labelPending:Yq("steps",`${e}LabelPending`)})));var r}(Object.assign(hG)[t])}}),dG="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},pG=[],gG=[],mG="undefined"!=typeof Uint8Array?Uint8Array:Array,yG=!1;function vG(){yG=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)pG[t]=e[t],gG[e.charCodeAt(t)]=t;gG["-".charCodeAt(0)]=62,gG["_".charCodeAt(0)]=63}function bG(e,t,r){for(var n,i,o=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(pG[(i=n)>>18&63]+pG[i>>12&63]+pG[i>>6&63]+pG[63&i]);return o.join("")}function wG(e){var t;yG||vG();for(var r=e.length,n=r%3,i="",o=[],s=16383,a=0,c=r-n;a<c;a+=s)o.push(bG(e,a,a+s>c?c:a+s));return 1===n?(t=e[r-1],i+=pG[t>>2],i+=pG[t<<4&63],i+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],i+=pG[t>>10],i+=pG[t>>4&63],i+=pG[t<<2&63],i+="="),o.push(i),o.join("")}function xG(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,A=r?i-1:0,h=r?-1:1,f=e[t+A];for(A+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+A],A+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+A],A+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=u}return(f?-1:1)*s*Math.pow(2,o-n)}function _G(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,A=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+A>=1?h/c:h*Math.pow(2,1-A))*c>=2&&(s++,c/=2),s+A>=l?(a=0,s=l):s+A>=1?(a=(t*c-1)*Math.pow(2,i),s+=A):(a=t*Math.pow(2,A-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+f]=255&s,f+=d,s/=256,u-=8);e[r+f-d]|=128*p}var BG={}.toString,EG=Array.isArray||function(e){return"[object Array]"==BG.call(e)};kG.TYPED_ARRAY_SUPPORT=void 0===dG.TYPED_ARRAY_SUPPORT||dG.TYPED_ARRAY_SUPPORT;var SG=CG();function CG(){return kG.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function IG(e,t){if(CG()<t)throw new RangeError("Invalid typed array length");return kG.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=kG.prototype:(null===e&&(e=new kG(t)),e.length=t),e}function kG(e,t,r){if(!(kG.TYPED_ARRAY_SUPPORT||this instanceof kG))return new kG(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return OG(this,e)}return PG(this,e,t,r)}function PG(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),kG.TYPED_ARRAY_SUPPORT?(e=t).__proto__=kG.prototype:e=LG(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!kG.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|FG(t,r),i=(e=IG(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(UG(t)){var r=0|NG(t.length);return 0===(e=IG(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?IG(e,0):LG(e,t);if("Buffer"===t.type&&EG(t.data))return LG(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function TG(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function OG(e,t){if(TG(t),e=IG(e,t<0?0:0|NG(t)),!kG.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function LG(e,t){var r=t.length<0?0:0|NG(t.length);e=IG(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function NG(e){if(e>=CG())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+CG().toString(16)+" bytes");return 0|e}function UG(e){return!(null==e||!e._isBuffer)}function FG(e,t){if(UG(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return cW(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return uW(e).length;default:if(n)return cW(e).length;t=(""+t).toLowerCase(),n=!0}}function MG(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return XG(this,t,r);case"utf8":case"utf-8":return WG(this,t,r);case"ascii":return $G(this,t,r);case"latin1":case"binary":return JG(this,t,r);case"base64":return GG(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return YG(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function RG(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function DG(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=kG.from(t,n)),UG(t))return 0===t.length?-1:jG(e,t,r,n,i);if("number"==typeof t)return t&=255,kG.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):jG(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function jG(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var A=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){A=!1;break}if(A)return o}return-1}function QG(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function HG(e,t,r,n){return lW(cW(t,e.length-r),e,r,n)}function KG(e,t,r,n){return lW(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function VG(e,t,r,n){return KG(e,t,r,n)}function zG(e,t,r,n){return lW(uW(t),e,r,n)}function qG(e,t,r,n){return lW(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function GG(e,t,r){return 0===t&&r===e.length?wG(e):wG(e.slice(t,r))}function WG(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],l=null,A=u>239?4:u>223?3:u>191?2:1;if(i+A<=r)switch(A){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,A=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=A}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function $G(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function JG(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function XG(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=aW(e[o]);return i}function YG(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function ZG(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function eW(e,t,r,n,i,o){if(!UG(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function tW(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function rW(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function nW(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function iW(e,t,r,n,i){return i||nW(e,0,r,4),_G(e,t,r,n,23,4),r+4}function oW(e,t,r,n,i){return i||nW(e,0,r,8),_G(e,t,r,n,52,8),r+8}kG.poolSize=8192,kG._augment=function(e){return e.__proto__=kG.prototype,e},kG.from=function(e,t,r){return PG(null,e,t,r)},kG.TYPED_ARRAY_SUPPORT&&(kG.prototype.__proto__=Uint8Array.prototype,kG.__proto__=Uint8Array),kG.alloc=function(e,t,r){return function(e,t,r,n){return TG(t),t<=0?IG(e,t):void 0!==r?"string"==typeof n?IG(e,t).fill(r,n):IG(e,t).fill(r):IG(e,t)}(null,e,t,r)},kG.allocUnsafe=function(e){return OG(null,e)},kG.allocUnsafeSlow=function(e){return OG(null,e)},kG.isBuffer=AW,kG.compare=function(e,t){if(!UG(e)||!UG(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},kG.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},kG.concat=function(e,t){if(!EG(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return kG.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=kG.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!UG(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},kG.byteLength=FG,kG.prototype._isBuffer=!0,kG.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)RG(this,t,t+1);return this},kG.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)RG(this,t,t+3),RG(this,t+1,t+2);return this},kG.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)RG(this,t,t+7),RG(this,t+1,t+6),RG(this,t+2,t+5),RG(this,t+3,t+4);return this},kG.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?WG(this,0,e):MG.apply(this,arguments)},kG.prototype.equals=function(e){if(!UG(e))throw new TypeError("Argument must be a Buffer");return this===e||0===kG.compare(this,e)},kG.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},kG.prototype.compare=function(e,t,r,n,i){if(!UG(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r),l=0;l<a;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0},kG.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},kG.prototype.indexOf=function(e,t,r){return DG(this,e,t,r,!0)},kG.prototype.lastIndexOf=function(e,t,r){return DG(this,e,t,r,!1)},kG.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return QG(this,e,t,r);case"utf8":case"utf-8":return HG(this,e,t,r);case"ascii":return KG(this,e,t,r);case"latin1":case"binary":return VG(this,e,t,r);case"base64":return zG(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qG(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},kG.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},kG.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),kG.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=kG.prototype;else{var i=t-e;r=new kG(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},kG.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||ZG(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},kG.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||ZG(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},kG.prototype.readUInt8=function(e,t){return t||ZG(e,1,this.length),this[e]},kG.prototype.readUInt16LE=function(e,t){return t||ZG(e,2,this.length),this[e]|this[e+1]<<8},kG.prototype.readUInt16BE=function(e,t){return t||ZG(e,2,this.length),this[e]<<8|this[e+1]},kG.prototype.readUInt32LE=function(e,t){return t||ZG(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},kG.prototype.readUInt32BE=function(e,t){return t||ZG(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},kG.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||ZG(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},kG.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||ZG(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},kG.prototype.readInt8=function(e,t){return t||ZG(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},kG.prototype.readInt16LE=function(e,t){t||ZG(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},kG.prototype.readInt16BE=function(e,t){t||ZG(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},kG.prototype.readInt32LE=function(e,t){return t||ZG(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},kG.prototype.readInt32BE=function(e,t){return t||ZG(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},kG.prototype.readFloatLE=function(e,t){return t||ZG(e,4,this.length),xG(this,e,!0,23,4)},kG.prototype.readFloatBE=function(e,t){return t||ZG(e,4,this.length),xG(this,e,!1,23,4)},kG.prototype.readDoubleLE=function(e,t){return t||ZG(e,8,this.length),xG(this,e,!0,52,8)},kG.prototype.readDoubleBE=function(e,t){return t||ZG(e,8,this.length),xG(this,e,!1,52,8)},kG.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||eW(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},kG.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||eW(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},kG.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,1,255,0),kG.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},kG.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,2,65535,0),kG.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):tW(this,e,t,!0),t+2},kG.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,2,65535,0),kG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):tW(this,e,t,!1),t+2},kG.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,4,4294967295,0),kG.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):rW(this,e,t,!0),t+4},kG.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,4,4294967295,0),kG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):rW(this,e,t,!1),t+4},kG.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);eW(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},kG.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);eW(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},kG.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,1,127,-128),kG.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},kG.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,2,32767,-32768),kG.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):tW(this,e,t,!0),t+2},kG.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,2,32767,-32768),kG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):tW(this,e,t,!1),t+2},kG.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,4,2147483647,-2147483648),kG.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):rW(this,e,t,!0),t+4},kG.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||eW(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),kG.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):rW(this,e,t,!1),t+4},kG.prototype.writeFloatLE=function(e,t,r){return iW(this,e,t,!0,r)},kG.prototype.writeFloatBE=function(e,t,r){return iW(this,e,t,!1,r)},kG.prototype.writeDoubleLE=function(e,t,r){return oW(this,e,t,!0,r)},kG.prototype.writeDoubleBE=function(e,t,r){return oW(this,e,t,!1,r)},kG.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!kG.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},kG.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!kG.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=UG(e)?e:cW(new kG(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var sW=/[^+\/0-9A-Za-z-_]/g;function aW(e){return e<16?"0"+e.toString(16):e.toString(16)}function cW(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function uW(e){return function(e){var t,r,n,i,o,s;yG||vG();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[a-2]?2:"="===e[a-1]?1:0,s=new mG(3*a/4-o),n=o>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)i=gG[e.charCodeAt(t)]<<18|gG[e.charCodeAt(t+1)]<<12|gG[e.charCodeAt(t+2)]<<6|gG[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===o?(i=gG[e.charCodeAt(t)]<<2|gG[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===o&&(i=gG[e.charCodeAt(t)]<<10|gG[e.charCodeAt(t+1)]<<4|gG[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(sW,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function lW(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function AW(e){return null!=e&&(!!e._isBuffer||hW(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&hW(e.slice(0,0))}(e))}function hW(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var fW=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:SG,Buffer:kG,SlowBuffer:function(e){return+e!=e&&(e=0),kG.alloc(+e)},isBuffer:AW});function dW(){throw new Error("setTimeout has not been defined")}function pW(){throw new Error("clearTimeout has not been defined")}var gW=dW,mW=pW;function yW(e){if(gW===setTimeout)return setTimeout(e,0);if((gW===dW||!gW)&&setTimeout)return gW=setTimeout,setTimeout(e,0);try{return gW(e,0)}catch(t){try{return gW.call(null,e,0)}catch(t){return gW.call(this,e,0)}}}"function"==typeof dG.setTimeout&&(gW=setTimeout),"function"==typeof dG.clearTimeout&&(mW=clearTimeout);var vW,bW=[],wW=!1,xW=-1;function _W(){wW&&vW&&(wW=!1,vW.length?bW=vW.concat(bW):xW=-1,bW.length&&BW())}function BW(){if(!wW){var e=yW(_W);wW=!0;for(var t=bW.length;t;){for(vW=bW,bW=[];++xW<t;)vW&&vW[xW].run();xW=-1,t=bW.length}vW=null,wW=!1,function(e){if(mW===clearTimeout)return clearTimeout(e);if((mW===pW||!mW)&&clearTimeout)return mW=clearTimeout,clearTimeout(e);try{mW(e)}catch(t){try{return mW.call(null,e)}catch(t){return mW.call(this,e)}}}(e)}}function EW(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];bW.push(new SW(e,t)),1!==bW.length||wW||yW(BW)}function SW(e,t){this.fun=e,this.array=t}function CW(){}SW.prototype.run=function(){this.fun.apply(null,this.array)};var IW=CW,kW=CW,PW=CW,TW=CW,OW=CW,LW=CW,NW=CW,UW=dG.performance||{},FW=UW.now||UW.mozNow||UW.msNow||UW.oNow||UW.webkitNow||function(){return(new Date).getTime()},MW=new Date,RW={nextTick:EW,title:"browser",browser:!0,env:{},argv:[],version:"11.0.0",versions:{},on:IW,addListener:kW,once:PW,off:TW,removeListener:OW,removeAllListeners:LW,emit:NW,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*FW.call(UW),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-MW)/1e3}},DW=/[^\x20-\x7E]/,jW=/[\x2E\u3002\uFF0E\uFF61]/g,QW={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},HW=Math.floor,KW=String.fromCharCode;
/*! https://mths.be/punycode v1.4.1 by @mathias */function VW(e){throw new RangeError(QW[e])}function zW(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function qW(e,t,r){var n=0;for(e=r?HW(e/700):e>>1,e+=HW(e/t);e>455;n+=36)e=HW(e/35);return HW(n+36*e/(e+38))}function GW(e){return function(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var i=function(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}((e=e.replace(jW,".")).split("."),(function(e){return DW.test(e)?"xn--"+function(e){var t,r,n,i,o,s,a,c,u,l,A,h,f,d,p,g=[];for(h=(e=function(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}(e)).length,t=128,r=0,o=72,s=0;s<h;++s)(A=e[s])<128&&g.push(KW(A));for(n=i=g.length,i&&g.push("-");n<h;){for(a=2147483647,s=0;s<h;++s)(A=e[s])>=t&&A<a&&(a=A);for(a-t>HW((2147483647-r)/(f=n+1))&&VW("overflow"),r+=(a-t)*f,t=a,s=0;s<h;++s)if((A=e[s])<t&&++r>2147483647&&VW("overflow"),A==t){for(c=r,u=36;!(c<(l=u<=o?1:u>=o+26?26:u-o));u+=36)p=c-l,d=36-l,g.push(KW(zW(l+p%d,0))),c=HW(p/d);g.push(KW(zW(c,0))),o=qW(r,f,n==i),r=0,++n}++r,++t}return g.join("")}(e):e})).join(".");return n+i}(e)}var WW="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},$W=/%[sdj%]/g;function JW(e){if(!c$(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(e$(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace($W,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<i;s=n[++r])a$(s)||!A$(s)?o+=" "+s:o+=" "+e$(s);return o}function XW(e,t){if(u$(dG.process))return function(){return XW(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}}var YW,ZW={};function e$(e,t){var r={seen:[],stylize:r$};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),s$(t)?r.showHidden=t:t&&g$(r,t),u$(r.showHidden)&&(r.showHidden=!1),u$(r.depth)&&(r.depth=2),u$(r.colors)&&(r.colors=!1),u$(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=t$),n$(r,e,r.depth)}function t$(e,t){var r=e$.styles[t];return r?"["+e$.colors[r][0]+"m"+e+"["+e$.colors[r][1]+"m":e}function r$(e,t){return e}function n$(e,t,r){if(e.customInspect&&t&&d$(t.inspect)&&t.inspect!==e$&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return c$(n)||(n=n$(e,n,r)),n}var i=function(e,t){if(u$(t))return e.stylize("undefined","undefined");if(c$(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return"number"==typeof t?e.stylize(""+t,"number"):s$(t)?e.stylize(""+t,"boolean"):a$(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var o=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),f$(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return i$(t);if(0===o.length){if(d$(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(l$(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(h$(t))return e.stylize(Date.prototype.toString.call(t),"date");if(f$(t))return i$(t)}var c,u,l="",A=!1,h=["{","}"];return c=t,Array.isArray(c)&&(A=!0,h=["[","]"]),d$(t)&&(l=" [Function"+(t.name?": "+t.name:"")+"]"),l$(t)&&(l=" "+RegExp.prototype.toString.call(t)),h$(t)&&(l=" "+Date.prototype.toUTCString.call(t)),f$(t)&&(l=" "+i$(t)),0!==o.length||A&&0!=t.length?r<0?l$(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=A?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)m$(t,String(s))?o.push(o$(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(o$(e,t,r,n,i,!0))})),o}(e,t,r,s,o):o.map((function(n){return o$(e,t,r,s,n,A)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,h)):h[0]+l+h[1]}function i$(e){return"["+Error.prototype.toString.call(e)+"]"}function o$(e,t,r,n,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),m$(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=a$(r)?n$(e,c.value,null):n$(e,c.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),u$(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function s$(e){return"boolean"==typeof e}function a$(e){return null===e}function c$(e){return"string"==typeof e}function u$(e){return void 0===e}function l$(e){return A$(e)&&"[object RegExp]"===p$(e)}function A$(e){return"object"==typeof e&&null!==e}function h$(e){return A$(e)&&"[object Date]"===p$(e)}function f$(e){return A$(e)&&("[object Error]"===p$(e)||e instanceof Error)}function d$(e){return"function"==typeof e}function p$(e){return Object.prototype.toString.call(e)}function g$(e,t){if(!t||!A$(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function m$(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y$(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e$.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var v$=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function b$(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function w$(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var x$=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function _$(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var u,l,A,h,f=e[c].replace(o,"%20"),d=f.indexOf(r);d>=0?(u=f.substr(0,d),l=f.substr(d+1)):(u=f,l=""),A=decodeURIComponent(u),h=decodeURIComponent(l),y$(i,A)?v$(i[A])?i[A].push(h):i[A]=[i[A],h]:i[A]=h}return i}var B$={parse:R$,resolve:function(e,t){return R$(e,!1,!0).resolve(t)},resolveObject:function(e,t){return e?R$(e,!1,!0).resolveObject(t):t},format:function(e){return c$(e)&&(e=D$({},e)),j$(e)},Url:E$};function E$(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var S$=/^([a-z0-9.+-]+:)/i,C$=/:[0-9]*$/,I$=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,k$=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),P$=["'"].concat(k$),T$=["%","/","?",";","#"].concat(P$),O$=["/","?","#"],L$=/^[+a-z0-9A-Z_-]{0,63}$/,N$=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,U$={javascript:!0,"javascript:":!0},F$={javascript:!0,"javascript:":!0},M$={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function R$(e,t,r){if(e&&A$(e)&&e instanceof E$)return e;var n=new E$;return n.parse(e,t,r),n}function D$(e,t,r,n){if(!c$(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",s=t.split(o);s[0]=s[0].replace(/\\/g,"/");var a=t=s.join(o);if(a=a.trim(),!n&&1===t.split("#").length){var c=I$.exec(a);if(c)return e.path=a,e.href=a,e.pathname=c[1],c[2]?(e.search=c[2],e.query=r?_$(e.search.substr(1)):e.search.substr(1)):r&&(e.search="",e.query={}),e}var u,l,A,h,f=S$.exec(a);if(f){var d=(f=f[0]).toLowerCase();e.protocol=d,a=a.substr(f.length)}if(n||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===a.substr(0,2);!p||f&&F$[f]||(a=a.substr(2),e.slashes=!0)}if(!F$[f]&&(p||f&&!M$[f])){var g,m,y=-1;for(u=0;u<O$.length;u++)-1!==(l=a.indexOf(O$[u]))&&(-1===y||l<y)&&(y=l);for(-1!==(m=-1===y?a.lastIndexOf("@"):a.lastIndexOf("@",y))&&(g=a.slice(0,m),a=a.slice(m+1),e.auth=decodeURIComponent(g)),y=-1,u=0;u<T$.length;u++)-1!==(l=a.indexOf(T$[u]))&&(-1===y||l<y)&&(y=l);-1===y&&(y=a.length),e.host=a.slice(0,y),a=a.slice(y),Q$(e),e.hostname=e.hostname||"";var v="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!v){var b=e.hostname.split(/\./);for(u=0,A=b.length;u<A;u++){var w=b[u];if(w&&!w.match(L$)){for(var x="",_=0,B=w.length;_<B;_++)w.charCodeAt(_)>127?x+="x":x+=w[_];if(!x.match(L$)){var E=b.slice(0,u),S=b.slice(u+1),C=w.match(N$);C&&(E.push(C[1]),S.unshift(C[2])),S.length&&(a="/"+S.join(".")+a),e.hostname=E.join(".");break}}}}e.hostname.length>255?e.hostname="":e.hostname=e.hostname.toLowerCase(),v||(e.hostname=GW(e.hostname)),h=e.port?":"+e.port:"";var I=e.hostname||"";e.host=I+h,e.href+=e.host,v&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!U$[d])for(u=0,A=P$.length;u<A;u++){var k=P$[u];if(-1!==a.indexOf(k)){var P=encodeURIComponent(k);P===k&&(P=escape(k)),a=a.split(k).join(P)}}var T=a.indexOf("#");-1!==T&&(e.hash=a.substr(T),a=a.slice(0,T));var O=a.indexOf("?");if(-1!==O?(e.search=a.substr(O),e.query=a.substr(O+1),r&&(e.query=_$(e.query)),a=a.slice(0,O)):r&&(e.search="",e.query={}),a&&(e.pathname=a),M$[d]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){h=e.pathname||"";var L=e.search||"";e.path=h+L}return e.href=j$(e),e}function j$(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",i=e.hash||"",o=!1,s="";e.host?o=t+e.host:e.hostname&&(o=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(o+=":"+e.port)),e.query&&A$(e.query)&&Object.keys(e.query).length&&(s=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?w$(x$(e),(function(n){var i=encodeURIComponent(b$(n))+r;return v$(e[n])?w$(e[n],(function(e){return i+encodeURIComponent(b$(e))})).join(t):i+encodeURIComponent(b$(e[n]))})).join(t):""}(e.query));var a=e.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||M$[r])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),r+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i}function Q$(e){var t=e.host,r=C$.exec(t);r&&(":"!==(r=r[0])&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}E$.prototype.parse=function(e,t,r){return D$(this,e,t,r)},E$.prototype.format=function(){return j$(this)},E$.prototype.resolve=function(e){return this.resolveObject(R$(e,!1,!0)).format()},E$.prototype.resolveObject=function(e){if(c$(e)){var t=new E$;t.parse(e,!1,!0),e=t}for(var r,n=new E$,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(n[u]=e[u])}return M$[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!M$[e.protocol]){for(var l=Object.keys(e),A=0;A<l.length;A++){var h=l[A];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||F$[e.protocol])n.pathname=e.pathname;else{for(r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",d=n.search||"";n.path=f+d}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var p,g=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=m||g||n.host&&e.pathname,v=y,b=n.pathname&&n.pathname.split("/")||[],w=n.protocol&&!M$[n.protocol];if(r=e.pathname&&e.pathname.split("/")||[],w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),y=y&&(""===r[0]||""===b[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=r;else if(r.length)b||(b=[]),b.pop(),b=b.concat(r),n.search=e.search,n.query=e.query;else if(null!=e.search)return w&&(n.hostname=n.host=b.shift(),(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),n.search=e.search,n.query=e.query,a$(n.pathname)&&a$(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=b.slice(-1)[0],_=(n.host||e.host||b.length>1)&&("."===x||".."===x)||""===x,B=0,E=b.length;E>=0;E--)"."===(x=b[E])?b.splice(E,1):".."===x?(b.splice(E,1),B++):B&&(b.splice(E,1),B--);if(!y&&!v)for(;B--;B)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),_&&"/"!==b.join("/").substr(-1)&&b.push("");var S=""===b[0]||b[0]&&"/"===b[0].charAt(0);return w&&(n.hostname=n.host=S?"":b.length?b.shift():"",(p=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=p.shift(),n.host=n.hostname=p.shift())),(y=y||n.host&&b.length)&&!S&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),a$(n.pathname)&&a$(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},E$.prototype.parseHost=function(){return Q$(this)};var H$,K$,V$={},z$=eJ(dG.fetch)&&eJ(dG.ReadableStream);function q$(e){K$||(K$=new dG.XMLHttpRequest).open("GET",dG.location.host?"/":"https://example.com");try{return K$.responseType=e,K$.responseType===e}catch(e){return!1}}var G$=void 0!==dG.ArrayBuffer,W$=G$&&eJ(dG.ArrayBuffer.prototype.slice),$$=G$&&q$("arraybuffer"),J$=!z$&&W$&&q$("ms-stream"),X$=!z$&&G$&&q$("moz-chunked-arraybuffer"),Y$=eJ(K$.overrideMimeType),Z$=eJ(dG.VBArray);function eJ(e){return"function"==typeof e}function tJ(){}function rJ(){rJ.init.call(this)}function nJ(e){return void 0===e._maxListeners?rJ.defaultMaxListeners:e._maxListeners}function iJ(e,t,r){if(t)e.call(r);else for(var n=e.length,i=hJ(e,n),o=0;o<n;++o)i[o].call(r)}function oJ(e,t,r,n){if(t)e.call(r,n);else for(var i=e.length,o=hJ(e,i),s=0;s<i;++s)o[s].call(r,n)}function sJ(e,t,r,n,i){if(t)e.call(r,n,i);else for(var o=e.length,s=hJ(e,o),a=0;a<o;++a)s[a].call(r,n,i)}function aJ(e,t,r,n,i,o){if(t)e.call(r,n,i,o);else for(var s=e.length,a=hJ(e,s),c=0;c<s;++c)a[c].call(r,n,i,o)}function cJ(e,t,r,n){if(t)e.apply(r,n);else for(var i=e.length,o=hJ(e,i),s=0;s<i;++s)o[s].apply(r,n)}function uJ(e,t,r,n){var i,o,s,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]):(o=e._events=new tJ,e._eventsCount=0),s){if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(i=nJ(e))&&i>0&&s.length>i){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=o[t]=r,++e._eventsCount;return e}function lJ(e,t,r){var n=!1;function i(){e.removeListener(t,i),n||(n=!0,r.apply(e,arguments))}return i.listener=r,i}function AJ(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function hJ(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}function fJ(){this.head=null,this.tail=null,this.length=0}K$=null,tJ.prototype=Object.create(null),rJ.EventEmitter=rJ,rJ.usingDomains=!1,rJ.prototype.domain=void 0,rJ.prototype._events=void 0,rJ.prototype._maxListeners=void 0,rJ.defaultMaxListeners=10,rJ.init=function(){this.domain=null,rJ.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new tJ,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},rJ.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},rJ.prototype.getMaxListeners=function(){return nJ(this)},rJ.prototype.emit=function(e){var t,r,n,i,o,s,a,c="error"===e;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(t=arguments[1],!a){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var l="function"==typeof r;switch(n=arguments.length){case 1:iJ(r,l,this);break;case 2:oJ(r,l,this,arguments[1]);break;case 3:sJ(r,l,this,arguments[1],arguments[2]);break;case 4:aJ(r,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(n-1),o=1;o<n;o++)i[o-1]=arguments[o];cJ(r,l,this,i)}return!0},rJ.prototype.addListener=function(e,t){return uJ(this,e,t,!1)},rJ.prototype.on=rJ.prototype.addListener,rJ.prototype.prependListener=function(e,t){return uJ(this,e,t,!0)},rJ.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,lJ(this,e,t)),this},rJ.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,lJ(this,e,t)),this},rJ.prototype.removeListener=function(e,t){var r,n,i,o,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new tJ:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new tJ,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,i=e.length;n<i;r+=1,n+=1)e[r]=e[n];e.pop()}(r,i);n.removeListener&&this.emit("removeListener",e,s||t)}return this},rJ.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new tJ,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new tJ:delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new tJ,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},rJ.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},rJ.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):AJ.call(e,t)},rJ.prototype.listenerCount=AJ,rJ.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},fJ.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},fJ.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},fJ.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},fJ.prototype.clear=function(){this.head=this.tail=null,this.length=0},fJ.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},fJ.prototype.concat=function(e){if(0===this.length)return kG.alloc(0);if(1===this.length)return this.head.data;for(var t=kG.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var dJ=kG.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function pJ(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!dJ(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=mJ;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=yJ;break;default:return void(this.write=gJ)}this.charBuffer=new kG(6),this.charReceived=0,this.charLength=0}function gJ(e){return e.toString(this.encoding)}function mJ(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function yJ(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}pJ.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n,i=e.length;if(this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),i=(t+=e.toString(this.encoding,0,i)).length-1,(n=t.charCodeAt(i))>=55296&&n<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},pJ.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},pJ.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t};var vJ=Object.freeze({__proto__:null,StringDecoder:pJ});xJ.ReadableState=wJ;var bJ=function(e){return u$(YW)&&(YW=""),e=e.toUpperCase(),ZW[e]||(new RegExp("\\b"+e+"\\b","i").test(YW)?ZW[e]=function(){var t=JW.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:ZW[e]=function(){}),ZW[e]}("stream");function wJ(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof $J&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new fJ,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new pJ(e.encoding),this.encoding=e.encoding)}function xJ(e){if(!(this instanceof xJ))return new xJ(e);this._readableState=new wJ(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),rJ.call(this)}function _J(e,t,r,n,i){var o=function(e,t){var r=null;return AW(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(t,r);if(o)e.emit("error",o);else if(null===r)t.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,EJ(e)}}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;!t.decoder||i||n||(r=t.decoder.write(r),c=!t.objectMode&&0===r.length),i||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&EJ(e))),function(e,t){t.readingMore||(t.readingMore=!0,EW(CJ,e,t))}(e,t)}else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}function BJ(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function EJ(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(bJ("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?EW(SJ,e):SJ(e))}function SJ(e){bJ("emit readable"),e.emit("readable"),PJ(e)}function CJ(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(bJ("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function IJ(e){bJ("readable nexttick read 0"),e.read(0)}function kJ(e,t){t.reading||(bJ("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),PJ(e),t.flowing&&!t.reading&&e.read(0)}function PJ(e){var t=e._readableState;for(bJ("flow",t.flowing);t.flowing&&null!==e.read(););}function TJ(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0==(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=kG.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0==(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function OJ(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,EW(LJ,t,e))}function LJ(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function NJ(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function UJ(){}function FJ(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function MJ(e,t){Object.defineProperty(this,"buffer",{get:XW((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof $J&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?EW(i,n):i(n),e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,i);else{var o=HJ(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||QJ(e,r),n?EW(jJ,e,r,o,i):jJ(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new zJ(this)}function RJ(e){if(!(this instanceof RJ||this instanceof $J))return new RJ(e);this._writableState=new MJ(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),rJ.call(this)}function DJ(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function jJ(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),VJ(e,t)}function QJ(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0;r;)i[s]=r,r=r.next,s+=1;DJ(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new zJ(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(DJ(e,t,!1,t.objectMode?1:a.length,a,c,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function HJ(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function KJ(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function VJ(e,t){var r=HJ(t);return r&&(0===t.pendingcb?(KJ(e,t),t.finished=!0,e.emit("finish")):KJ(e,t)),r}function zJ(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}WW(xJ,rJ),xJ.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=kG.from(e,t),t=""),_J(this,r,e,t,!1)},xJ.prototype.unshift=function(e){return _J(this,this._readableState,e,"",!0)},xJ.prototype.isPaused=function(){return!1===this._readableState.flowing},xJ.prototype.setEncoding=function(e){return this._readableState.decoder=new pJ(e),this._readableState.encoding=e,this},xJ.prototype.read=function(e){bJ("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return bJ("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?OJ(this):EJ(this),null;if(0===(e=BJ(e,t))&&t.ended)return 0===t.length&&OJ(this),null;var n,i=t.needReadable;return bJ("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&bJ("length less than watermark",i=!0),t.ended||t.reading?bJ("reading or ended",i=!1):i&&(bJ("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=BJ(r,t))),null===(n=e>0?TJ(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&OJ(this)),null!==n&&this.emit("data",n),n},xJ.prototype._read=function(e){this.emit("error",new Error("not implemented"))},xJ.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,bJ("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end?u:s;function o(e){bJ("onunpipe"),e===r&&u()}function s(){bJ("onend"),e.end()}n.endEmitted?EW(i):r.once("end",i),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;bJ("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,PJ(e))}}(r);e.on("drain",a);var c=!1;function u(){bJ("cleanup"),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("drain",a),e.removeListener("error",h),e.removeListener("unpipe",o),r.removeListener("end",s),r.removeListener("end",u),r.removeListener("data",A),c=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}var l=!1;function A(t){bJ("ondata"),l=!1,!1!==e.write(t)||l||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==NJ(n.pipes,e))&&!c&&(bJ("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function h(t){bJ("onerror",t),p(),e.removeListener("error",h),0===("error",e.listeners("error").length)&&e.emit("error",t)}function f(){e.removeListener("finish",d),p()}function d(){bJ("onfinish"),e.removeListener("close",f),p()}function p(){bJ("unpipe"),r.unpipe(e)}return r.on("data",A),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",d),e.emit("pipe",r),n.flowing||(bJ("pipe resume"),r.resume()),e},xJ.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var o=NJ(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},xJ.prototype.on=function(e,t){var r=rJ.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&EJ(this):EW(IJ,this))}return r},xJ.prototype.addListener=xJ.prototype.on,xJ.prototype.resume=function(){var e=this._readableState;return e.flowing||(bJ("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,EW(kJ,e,t))}(this,e)),this},xJ.prototype.pause=function(){return bJ("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(bJ("pause"),this._readableState.flowing=!1,this.emit("pause")),this},xJ.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(bJ("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){bJ("wrapped data"),t.decoder&&(i=t.decoder.write(i)),t.objectMode&&null==i||(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r])}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){bJ("wrapped _read",t),r&&(r=!1,e.resume())},n},xJ._fromList=TJ,RJ.WritableState=MJ,WW(RJ,rJ),MJ.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},RJ.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},RJ.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),kG.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=UJ),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),EW(t,r)}(this,r):function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):kG.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),EW(n,o),i=!1),i}(this,n,e,r)&&(n.pendingcb++,i=function(e,t,r,n,i){r=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=kG.from(t,r)),t}(t,r,n),kG.isBuffer(r)&&(n="buffer");var o=t.objectMode?1:r.length;t.length+=o;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new FJ(r,n,i),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else DJ(e,t,!1,o,r,n,i);return s}(this,n,e,t,r)),i},RJ.prototype.cork=function(){this._writableState.corked++},RJ.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||QJ(this,e))},RJ.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},RJ.prototype._write=function(e,t,r){r(new Error("not implemented"))},RJ.prototype._writev=null,RJ.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,VJ(e,t),r&&(t.finished?EW(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},WW($J,xJ);for(var qJ=Object.keys(RJ.prototype),GJ=0;GJ<qJ.length;GJ++){var WJ=qJ[GJ];$J.prototype[WJ]||($J.prototype[WJ]=RJ.prototype[WJ])}function $J(e){if(!(this instanceof $J))return new $J(e);xJ.call(this,e),RJ.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",JJ)}function JJ(){this.allowHalfOpen||this._writableState.ended||EW(XJ,this)}function XJ(e){e.end()}function YJ(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function ZJ(e){if(!(this instanceof ZJ))return new ZJ(e);$J.call(this,e),this._transformState=new YJ(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){eX(t,e)})):eX(t)}))}function eX(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function tX(e){if(!(this instanceof tX))return new tX(e);ZJ.call(this,e)}function rX(){rJ.call(this)}WW(ZJ,$J),ZJ.prototype.push=function(e,t){return this._transformState.needTransform=!1,$J.prototype.push.call(this,e,t)},ZJ.prototype._transform=function(e,t,r){throw new Error("Not implemented")},ZJ.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},ZJ.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},WW(tX,ZJ),tX.prototype._transform=function(e,t,r){r(null,e)},WW(rX,rJ),rX.Readable=xJ,rX.Writable=RJ,rX.Duplex=$J,rX.Transform=ZJ,rX.PassThrough=tX,rX.Stream=rX,rX.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===rJ.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};function nX(e,t,r){var n,i=this;if(xJ.call(i),i._mode=r,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",(function(){EW((function(){i.emit("close")}))})),"fetch"===r){i._fetchResponse=t,i.url=t.url,i.statusCode=t.status,i.statusMessage=t.statusText;for(var o,s,a=t.headers[Symbol.iterator]();o=(s=a.next()).value,!s.done;)i.headers[o[0].toLowerCase()]=o[1],i.rawHeaders.push(o[0],o[1]);var c=t.body.getReader();(n=function(){c.read().then((function(e){i._destroyed||(e.done?i.push(null):(i.push(new kG(e.value)),n()))}))})()}else if(i._xhr=e,i._pos=0,i.url=e.responseURL,i.statusCode=e.status,i.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===i.headers[r]&&(i.headers[r]=[]),i.headers[r].push(t[2])):void 0!==i.headers[r]?i.headers[r]+=", "+t[2]:i.headers[r]=t[2],i.rawHeaders.push(t[1],t[2])}})),i._charset="x-user-defined",!Y$){var u=i.rawHeaders["mime-type"];if(u){var l=u.match(/;\s*charset=([^;])(;|$)/);l&&(i._charset=l[1].toLowerCase())}i._charset||(i._charset="utf-8")}}function iX(e){var t,r=this;RJ.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new kG(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!Y$;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return z$&&t?"fetch":X$?"moz-chunked-arraybuffer":J$?"ms-stream":$$&&e?"arraybuffer":Z$&&e?"text:vbarray":"text"}(t,n),r.on("finish",(function(){r._onFinish()}))}WW(nX,xJ),nX.prototype._read=function(){},nX.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(4!==t.readyState)break;try{r=new dG.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new kG(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if("x-user-defined"===e._charset){for(var i=new kG(n.length),o=0;o<n.length;o++)i[o]=255&n.charCodeAt(o);e.push(i)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(4!==t.readyState||!t.response)break;r=t.response,e.push(new kG(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,3!==t.readyState||!r)break;e.push(new kG(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,3!==t.readyState)break;var s=new dG.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(new kG(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(r)}4===e._xhr.readyState&&"ms-stream"!==e._mode&&e.push(null)},WW(iX,RJ);var oX=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];function sX(e,t){"string"==typeof e&&(e=R$(e));var r=-1===dG.location.protocol.search(/^https?:$/)?"http:":"",n=e.protocol||r,i=e.hostname||e.host,o=e.port,s=e.path||"/";i&&-1!==i.indexOf(":")&&(i="["+i+"]"),e.url=(i?n+"//"+i:"")+(o?":"+o:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var a=new iX(e);return t&&a.on("response",t),a}function aX(){}iX.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===oX.indexOf(r)&&(this._headers[r]={name:e,value:t})},iX.prototype.getHeader=function(e){return this._headers[e.toLowerCase()].value},iX.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},iX.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,n=e._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(t=function(){if(void 0!==H$)return H$;try{new dG.Blob([new ArrayBuffer(1)]),H$=!0}catch(e){H$=!1}return H$}()?new dG.Blob(e._body.map((function(e){return function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(AW(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}(e)})),{type:(n["content-type"]||{}).value||""}):kG.concat(e._body).toString()),"fetch"===e._mode){var i=Object.keys(n).map((function(e){return[n[e].name,n[e].value]}));dG.fetch(e._opts.url,{method:e._opts.method,headers:i,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){e.emit("error",t)}))}else{var o=e._xhr=new dG.XMLHttpRequest;try{o.open(e._opts.method,e._opts.url,!0)}catch(t){return void EW((function(){e.emit("error",t)}))}"responseType"in o&&(o.responseType=e._mode.split(":")[0]),"withCredentials"in o&&(o.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(n).forEach((function(e){o.setRequestHeader(n[e].name,n[e].value)})),e._response=null,o.onreadystatechange=function(){switch(o.readyState){case 3:case 4:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(o.onprogress=function(){e._onXHRProgress()}),o.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{o.send(t)}catch(t){return void EW((function(){e.emit("error",t)}))}}}},iX.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},iX.prototype._connect=function(){var e=this;e._destroyed||(e._response=new nX(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},iX.prototype._write=function(e,t,r){this._body.push(e),r()},iX.prototype.abort=iX.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},iX.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),RJ.prototype.end.call(this,e,t,r)},iX.prototype.flushHeaders=function(){},iX.prototype.setTimeout=function(){},iX.prototype.setNoDelay=function(){},iX.prototype.setSocketKeepAlive=function(){},aX.defaultMaxSockets=4;var cX={request:sX,get:function(e,t){var r=sX(e,t);return r.end(),r},Agent:aX,METHODS:["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],STATUS_CODES:{100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},uX=V$.spawn,lX=function(){var e,t,r=this,n=cX,i=cX,o={},s=!1,a={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},c={},u={},l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],A=["TRACE","TRACK","CONNECT"],h=!1,f=!1,d={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1,this.open=function(e,t,r,n,i){if(this.abort(),f=!1,!function(e){return e&&-1===A.indexOf(e)}(e))throw new Error("SecurityError: Request method not allowed");o={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},p(this.OPENED)},this.setDisableHeaderCheck=function(e){s=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(function(e){return s||e&&-1===l.indexOf(e.toLowerCase())}(e)){if(h)throw new Error("INVALID_STATE_ERR: send flag is true");e=u[e.toLowerCase()]||e,u[e.toLowerCase()]=e,c[e]=c[e]?c[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&t&&t.headers&&t.headers[e.toLowerCase()]&&!f?t.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||f)return"";var e="";for(var r in t.headers)"set-cookie"!==r&&"set-cookie2"!==r&&(e+=r+": "+t.headers[r]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&u[e.toLowerCase()]?c[u[e.toLowerCase()]]:""},this.send=function(s){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(h)throw new Error("INVALID_STATE_ERR: send has already been called");var l,A=!1,d=!1,g=B$.parse(o.url);switch(g.protocol){case"https:":A=!0;case"http:":l=g.hostname;break;case"file:":d=!0;break;case void 0:case null:case"":l="localhost";break;default:throw new Error("Protocol not supported.")}if(d){if("GET"!==o.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(o.async)V$.readFile(g.pathname,"utf8",(function(e,t){e?r.handleError(e):(r.status=200,r.responseText=t,p(r.DONE))}));else try{this.responseText=V$.readFileSync(g.pathname,"utf8"),this.status=200,p(r.DONE)}catch(e){this.handleError(e)}}else{var m=g.port||(A?443:80),y=g.pathname+(g.search?g.search:"");for(var v in a)u[v.toLowerCase()]||(c[v]=a[v]);if(c.Host=l,A&&443===m||80===m||(c.Host+=":"+g.port),o.user){void 0===o.password&&(o.password="");var b=new kG(o.user+":"+o.password);c.Authorization="Basic "+b.toString("base64")}"GET"===o.method||"HEAD"===o.method?s=null:s?(c["Content-Length"]=AW(s)?s.length:kG.byteLength(s),c["Content-Type"]||(c["Content-Type"]="text/plain;charset=UTF-8")):"POST"===o.method&&(c["Content-Length"]=0);var w={host:l,port:m,path:y,method:o.method,headers:c,agent:!1,withCredentials:r.withCredentials};if(f=!1,o.async){var x=A?i.request:n.request;h=!0,r.dispatchEvent("readystatechange");var _=function(e){r.handleError(e)};e=x(w,(function n(i){if(301!==(t=i).statusCode&&302!==t.statusCode&&303!==t.statusCode&&307!==t.statusCode)t.setEncoding("utf8"),p(r.HEADERS_RECEIVED),r.status=t.statusCode,t.on("data",(function(e){e&&(r.responseText+=e),h&&p(r.LOADING)})),t.on("end",(function(){h&&(p(r.DONE),h=!1)})),t.on("error",(function(e){r.handleError(e)}));else{o.url=t.headers.location;var s=B$.parse(o.url);l=s.hostname;var a={hostname:s.hostname,port:s.port,path:s.path,method:303===t.statusCode?"GET":o.method,headers:c,withCredentials:r.withCredentials};(e=x(a,n).on("error",_)).end()}})).on("error",_),s&&e.write(s),e.end(),r.dispatchEvent("loadstart")}else{var B=".node-xmlhttprequest-content-"+RW.pid,E=".node-xmlhttprequest-sync-"+RW.pid;V$.writeFileSync(E,"","utf8");for(var S="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(A?"s":"")+".request;var options = "+JSON.stringify(w)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+B+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+E+"');});response.on('error', function(error) {fs.writeFileSync('"+B+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+E+"');});}).on('error', function(error) {fs.writeFileSync('"+B+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+E+"');});"+(s?"req.write('"+JSON.stringify(s).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",C=uX(RW.argv[0],["-e",S]);V$.existsSync(E););var I=JSON.parse(V$.readFileSync(B,"utf8"));C.stdin.end(),V$.unlinkSync(B),I.err?r.handleError(I.err):(t=I.data,r.status=I.data.statusCode,r.responseText=I.data.text,p(r.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,f=!0,p(this.DONE),this.dispatchEvent("error")},this.abort=function(){e&&(e.abort(),e=null),c=a,this.status=0,this.responseText="",this.responseXML="",f=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!h||this.readyState===this.DONE||(h=!1,p(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in d||(d[e]=[]),d[e].push(t)},this.removeEventListener=function(e,t){e in d&&(d[e]=d[e].filter((function(e){return e!==t})))},this.dispatchEvent=function(e){if("function"==typeof r["on"+e]&&r["on"+e](),e in d)for(var t=0,n=d[e].length;t<n;t++)d[e][t].call(r)};var p=function(e){e!=r.LOADING&&r.readyState===e||(r.readyState=e,(o.async||r.readyState<r.OPENED||r.readyState===r.DONE)&&r.dispatchEvent("readystatechange"),r.readyState!==r.DONE||f||(r.dispatchEvent("load"),r.dispatchEvent("loadend")))}},AX=6e4,hX=60*AX,fX=24*hX,dX=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*fX;case"hours":case"hour":case"hrs":case"hr":case"h":return r*hX;case"minutes":case"minute":case"mins":case"min":case"m":return r*AX;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=fX?pX(e,t,fX,"day"):t>=hX?pX(e,t,hX,"hour"):t>=AX?pX(e,t,AX,"minute"):t>=1e3?pX(e,t,1e3,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=fX?Math.round(e/fX)+"d":t>=hX?Math.round(e/hX)+"h":t>=AX?Math.round(e/AX)+"m":t>=1e3?Math.round(e/1e3)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function pX(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}var gX=cG((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==RW&&"env"in RW&&(e=RW.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=function(e){function t(e){let n,i=null;function o(...e){if(!o.enabled)return;const r=o,i=Number(new Date),s=i-(n||i);r.diff=s,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";a++;const o=t.formatters[i];if("function"==typeof o){const t=e[a];n=o.call(r,t),e.splice(a,1),a--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=r,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null===i?t.enabled(e):i,set:e=>{i=e}}),"function"==typeof t.init&&t.init(o),o}function r(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=dX,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}));gX.formatArgs,gX.save,gX.load,gX.useColors,gX.storage,gX.destroy,gX.colors,gX.log;const mX=gX("request");function yX(e){return new Promise(((t,r)=>{let n=e.url;n||r(new Error("URL is missing")),"http://"===n.substr(0,7)&&(console.warn(`Upgrading requested url ${n} to https protocol.`),n=n.replace("http://","https://"));const i=new("undefined"==typeof XMLHttpRequest?lX:XMLHttpRequest);i.onload=()=>{if(i.status>=200&&i.status<300)t(i.responseText);else{const e=`Error fetching url:${n}; status code:${i.status}`;r(new Error(e))}},i.ontimeout=e=>{console.log("ontimeout",e)},i.onreadystatechange=()=>{404===i.status&&r(new Error(`Error fetching url:${n}; status code:${i.status}`))},i.onerror=()=>{mX(`Request failed with error ${i.responseText}`),r(new Error(i.responseText))},i.open(e.method||"GET",n),e.body?i.send(JSON.stringify(e.body)):i.send()}))}var vX,bX;!function(e){e.blockcypher="blockcypher",e.blockstream="blockstream",e.etherscan="etherscan"}(vX||(vX={})),function(e){e.Bitcoin="bitcoin",e.Ethmain="ethmain",e.Ethropst="ethropst",e.Ethrinkeby="ethrinkeby",e.Mocknet="mocknet",e.Regtest="regtest",e.Testnet="testnet"}(bX||(bX={}));const wX={[bX.Bitcoin]:{code:bX.Bitcoin,name:"Bitcoin",prefixes:["6a20","OP_RETURN "],signatureValue:"bitcoinMainnet",transactionTemplates:{full:"https://blockchain.info/tx/{transaction_id}",raw:"https://blockchain.info/rawtx/{transaction_id}"}},[bX.Ethmain]:{code:bX.Ethmain,name:"Ethereum",prefixes:["0x"],signatureValue:"ethereumMainnet",transactionTemplates:{full:"https://etherscan.io/tx/{transaction_id}",raw:"https://etherscan.io/tx/{transaction_id}"}},[bX.Ethropst]:{code:bX.Ethropst,name:"Ethereum Testnet",signatureValue:"ethereumRopsten",transactionTemplates:{full:"https://ropsten.etherscan.io/tx/{transaction_id}",raw:"https://ropsten.etherscan.io/getRawTx?tx={transaction_id}"}},[bX.Ethrinkeby]:{code:bX.Ethrinkeby,name:"Ethereum Testnet",signatureValue:"ethereumRinkeby",transactionTemplates:{full:"https://rinkeby.etherscan.io/tx/{transaction_id}",raw:"https://rinkeby.etherscan.io/getRawTx?tx={transaction_id}"}},[bX.Mocknet]:{code:bX.Mocknet,name:"Mocknet",test:!0,signatureValue:"mockchain",transactionTemplates:{full:"",raw:""}},[bX.Regtest]:{code:bX.Regtest,name:"Mocknet",test:!0,signatureValue:"bitcoinRegtest",transactionTemplates:{full:"",raw:""}},[bX.Testnet]:{code:bX.Testnet,name:"Bitcoin Testnet",signatureValue:"bitcoinTestnet",transactionTemplates:{full:"https://testnet.blockchain.info/tx/{transaction_id}",raw:"https://testnet.blockchain.info/rawtx/{transaction_id}"}}};function xX(e){return e!==wX.bitcoin.code&&e!==wX.ethmain.code}function _X(e,t,r=[]){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){if((e=Array.from(e)).length<t)throw new Error("Could not retrieve tx data");const n=e.map(((e,t)=>e.then((()=>t)).catch((e=>{throw t}))));return Promise.race(n).then((n=>(e.splice(n,1)[0].then((e=>r.push(e))),1===t?r:_X(e,t-1,r)))).catch((n=>(e.splice(n,1),_X(e,t,r))))}))}function BX({explorerAPI:e,transactionIdPlaceholder:t="{transaction_id}",transactionId:r="",isTestApi:n=!1}){const{serviceURL:i}=e;let o="string"==typeof i?i:n?i.test:i.main;return o=o.replace(t,r),o=function(e,t){if(!t.key)return e;if(t.key&&!t.keyPropertyName)throw new Error(`No keyPropertyName defined for explorerAPI ${t.serviceName}`);return function(e,t,r){const n=e.includes("?")?"&":"?";return`${e}${n}${t}=${r}`}(e,t.keyPropertyName,t.key)}(o,e),o}function EX(e){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return yield new Promise(((t,r)=>{const n=e.url;n||r(new Error("URL is missing"));const i=new("undefined"==typeof XMLHttpRequest?lX:XMLHttpRequest);i.onload=()=>{if(i.status>=200&&i.status<300)t(i.responseText);else{console.log(i.responseText);const e=`Error fetching url:${n}; status code:${i.status}`;r(new Error(e))}},i.ontimeout=e=>{console.log("ontimeout",e)},i.onreadystatechange=()=>{404===i.status&&r(new Error(`Error fetching url:${n}; status code:${i.status}`))},i.onerror=()=>{console.error(`Request failed with error ${i.responseText}`),r(new Error(i.responseText))},i.open(e.method||"GET",n),e.body?i.send(JSON.stringify(e.body)):i.send()}))}))}function SX(e,t){return"string"!=typeof e?(console.warn("Trying to test a non string variable"),!1):0===e.indexOf(t)}function CX(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(SX(e,n))return e.slice(n.length)}return e}var IX=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const kX="https://api.etherscan.io/api?module=proxy",PX="https://api-ropsten.etherscan.io/api?module=proxy",TX={serviceURL:{main:`${kX}&action=eth_getTransactionByHash&txhash={transaction_id}`,test:`${PX}&action=eth_getTransactionByHash&txhash={transaction_id}`},serviceName:vX.etherscan,parsingFunction:function({jsonResponse:e,chain:t,key:r,keyPropertyName:n}){return IX(this,void 0,void 0,(function*(){const i={serviceURL:{main:`${kX}&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}`,test:`${PX}&action=eth_getBlockByNumber&boolean=true&tag={transaction_id}`}},o={serviceURL:{main:`${kX}&action=eth_blockNumber`,test:`${PX}&action=eth_blockNumber`}},s=yield function(e,t){return IX(this,void 0,void 0,(function*(){const s=e.result.blockNumber,a=BX({explorerAPI:Object.assign(Object.assign({},i),{key:r,keyPropertyName:n}),transactionId:s,isTestApi:xX(t)});try{const e=yield EX({url:a}),i=JSON.parse(e).result;return yield function(e,t){return IX(this,void 0,void 0,(function*(){const i=BX({explorerAPI:Object.assign(Object.assign({},o),{key:r,keyPropertyName:n}),isTestApi:xX(e)});let s;try{s=yield EX({url:i})}catch(e){throw new Error("Unable to get remote hash")}const a=JSON.parse(s).result;if(a-t<1)throw new Error("Not enough");return a}))}(t,s),i}catch(e){throw new Error("Unable to get remote hash")}}))}(e,t);return function(e,t){const r=e.result,n=new Date(1e3*parseInt(t.timestamp,16)),i=r.from;return{remoteHash:CX(r.input,wX.ethmain.prefixes),issuingAddress:i,time:n,revokedAddresses:[]}}(e,s)}))},priority:-1};function OX(e){return""===e?"":function(e){const t=Date.parse(e);if(t)return new Date(t);const r=function(e){let t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));const r=e.slice(-5);let n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t.getTime()}(e);return r||function(e){let t,r;const n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,t=new Date(Date.UTC.apply(Date,t)),t.getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}(`${e}`)}function LX(e){return new Date(1e3*e)}const NX={serviceURL:{main:"https://api.blockcypher.com/v1/eth/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/beth/test/txs/{transaction_id}?limit=500"},serviceName:vX.blockcypher,parsingFunction:function({jsonResponse:e}){if(e.confirmations<1)throw new Error("Not enough");const t=OX(e.received),r=e.outputs,n=r[r.length-1];let i=e.inputs[0].addresses[0];const o=CX(n.script,wX.ethmain.prefixes);return i=function(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(!SX(e,n))return`${n}${e}`}return e}(i,wX.ethmain.prefixes),{remoteHash:o,issuingAddress:i,time:t,revokedAddresses:r.filter((e=>!!e.spent_by)).map((e=>e.addresses[0]))}},priority:-1},UX={serviceURL:{main:"https://blockstream.info/api/tx/{transaction_id}",test:"https://blockstream.info/testnet/api/tx/{transaction_id}"},serviceName:vX.blockstream,parsingFunction:function({jsonResponse:e}){if(!e.status.confirmed)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockstream API");const t=LX(e.status.block_time),r=e.vout,n=r[r.length-1],i=e.vout[0].scriptpubkey_address;return{remoteHash:CX(n.scriptpubkey,wX.bitcoin.prefixes),issuingAddress:i,time:t,revokedAddresses:r.filter((e=>!!e.scriptpubkey_address)).map((e=>e.scriptpubkey_address))}},priority:-1},FX={serviceURL:{main:"https://api.blockcypher.com/v1/btc/main/txs/{transaction_id}?limit=500",test:"https://api.blockcypher.com/v1/btc/test3/txs/{transaction_id}?limit=500"},serviceName:vX.blockcypher,parsingFunction:function({jsonResponse:e}){if(e.confirmations<1)throw new Error("Number of transaction confirmations were less than the minimum required, according to Blockcypher API");const t=OX(e.received),r=e.outputs,n=r[r.length-1],i=e.inputs[0].addresses[0];return{remoteHash:CX(n.script,wX.bitcoin.prefixes),issuingAddress:i,time:t,revokedAddresses:r.filter((e=>!!e.spent_by)).map((e=>e.addresses[0]))}},priority:-1};var MX=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function RX(e){return e.map((e=>({getTxData:(t,r)=>MX(this,void 0,void 0,(function*(){return yield function(e,t,r){return MX(this,void 0,void 0,(function*(){const n=BX({explorerAPI:e,transactionId:t,isTestApi:xX(r)});try{const t=yield EX({url:n});return yield e.parsingFunction(Object.assign({jsonResponse:JSON.parse(t),chain:r},e))}catch(e){throw new Error("Unable to get remote hash")}}))}(e,t,r)})),priority:e.priority})))}const DX=[FX,UX],jX=[TX,NX];function QX({serviceUrl:e,transactionId:t}){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const r={method:"eth_getTransactionByHash",jsonrpc:"2.0",id:"getbyhash",params:["0x"+t]},n=yield EX({url:e,body:r,method:"POST"}),i=JSON.parse(n),o={method:"eth_getBlockByNumber",jsonrpc:"2.0",id:"blockbynumber",params:[i.result.blockNumber,!0]},s=yield EX({url:e,body:o,method:"POST"}),a=JSON.parse(s),c=i.result,u=a.result,l=new Date(1e3*parseInt(u.timestamp,16)),A=c.from;return{remoteHash:CX(c.input,["0x"]),issuingAddress:A,time:l,revokedAddresses:[]}}))}function HX({serviceUrl:e,transactionId:t}){return function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const r={method:"getrawtransaction",jsonrpc:"2.0",id:"rpctest",params:[t,!0]},n=yield EX({url:e,body:r,method:"POST"}),i=JSON.parse(n).result;return{issuingAddress:i.vout[0].scriptPubKey.addresses[0],remoteHash:CX(i.vout[1].scriptPubKey.asm,["6a20","OP_RETURN "]),time:LX(i.blocktime),revokedAddresses:i.vout.filter((e=>!!e.scriptPubKey.addresses)).map((e=>e.scriptPubKey.addresses)).flat()}}))}const KX=[];function VX(e=[],t=[],r=!1){const n=e.map((e=>e.serviceName)).filter((e=>!!e)).filter((e=>!!vX[e]));return n.length?t.reduce(((t,i)=>{if(n.includes(i.serviceName)){const r=Object.assign({},i),n=e.find((e=>e.serviceName===i.serviceName));if(function(e){if(e.key&&!e.keyPropertyName)throw new Error(`Property keyPropertyName is not set for ${e.serviceName}. Cannot pass the key property to the service.`);return!0}(n)){const i=Object.assign(r,n);t.push(i);const o=e.findIndex((e=>e.serviceName===i.serviceName));KX.includes(o)||KX.push(o)}}else t.push(i);return r&&function(e,t){t.forEach((t=>e.splice(t,1)))}(e,KX),t}),[]):t}function zX(e){return e.map((e=>(e.parsingFunction||(e.parsingFunction="btc"===e.chainType?HX:QX),e))).map((e=>({getTxData:t=>function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return yield e.parsingFunction(Object.assign(Object.assign({},e),{transactionId:t}))})),priority:e.priority})))}var qX=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function GX(e,t){var r;switch(e){case wX[bX.Bitcoin].code:case wX[bX.Regtest].code:case wX[bX.Testnet].code:case wX[bX.Mocknet].code:return t.bitcoin;case wX[bX.Ethmain].code:case wX[bX.Ethropst].code:case wX[bX.Ethrinkeby].code:return t.ethereum;default:if(!(null===(r=t.custom)||void 0===r?void 0:r.length))throw new Error("Chain is not natively supported. Use custom explorers to retrieve tx data.");return t.custom}}function WX(e,t,r,n){return qX(this,void 0,void 0,(function*(){try{const i=function(e,t,r){if(1>e.length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");const n=[],i=e.length;for(let o=0;o<i;o++)n.push(e[o].getTxData(t,r));return n}(e[t],r,n);return yield function(e){return qX(this,void 0,void 0,(function*(){let t;try{t=yield _X(e,1)}catch(e){throw new Error(`Transaction lookup error: ${e.message}`)}if(!t||0===t.length)throw new Error("Could not confirm transaction data.");const r=t[0];for(let e=1;e<t.length;e++){const n=t[e];if(r.issuingAddress!==n.issuingAddress)throw new Error("Issuing addresses do not match consistently");if(r.remoteHash!==n.remoteHash)throw new Error("Remote hashes do not match consistently")}return r}))}(i)}catch(i){if(t<e.length-1)return t++,yield WX(e,t,r,n);throw i}}))}function $X(e){return""===e?0:function(e){const t=Date.parse(e);if(t)return new Date(t);const r=function(e){let t=e.slice(0,-5).split(/\D/).map((function(e){return parseInt(e,10)||0}));t[1]-=1,t=new Date(Date.UTC.apply(Date,t));const r=e.slice(-5);let n=parseInt(r,10)/100;return"+"===r.slice(0,1)&&(n*=-1),t.setHours(t.getHours()+n),t}(e);return r||function(e){let t,r;const n=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/.exec(e)||[];return n[1]?(t=n[1].split(/\D/).map((function(e){return parseInt(e,10)||0})),t[1]-=1,t=new Date(Date.UTC.apply(Date,t)),t.getDate()?(n[5]&&(r=parseInt(n[5],10)/100*60,n[6]&&(r+=parseInt(n[6],10)),"+"===n[4]&&(r*=-1),r&&t.setUTCMinutes(t.getUTCMinutes()+r)),t):null):null}(e)}(`${e}`).getTime()}function JX(e,t=null){const r=e.created?$X(e.created):null,n=e.revoked?$X(e.revoked):null,i=e.expires?$X(e.expires):null;let o=t;return t||(o=(e.id||e.publicKey).replace("ecdsa-koblitz-pubkey:","")),new rG(o,r,n,i)}var XX={addresses:Jq,certificates:fG,chains:oG,i18n:Zq,verifier:Object.freeze({__proto__:null,getIssuerProfile:function(e){return Oq(this,void 0,void 0,(function*(){const t=Yq("errors","getIssuerProfile");if(!e)throw new iG("getIssuerProfile",`${t} - ${Yq("errors","issuerProfileNotSet")}`);if("object"==typeof e&&(e=e.id),!function(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}(e))throw new iG("getIssuerProfile",`${t} - ${Yq("errors","issuerProfileNotSet")}`);let r=yield yX({url:e}).catch((()=>{throw new iG("getIssuerProfile",t)}));if(r=JSON.parse(r),!function(e){const{issuer_key:t,revocation_key:r,issuerKeys:n,revocationKeys:i}=e;return!(!t||!r)||!(!n||!i)}(r))throw new iG("getIssuerProfile",`${t} - ${Yq("errors","issuerProfileInvalid")}`);return r}))},getRevokedAssertions:function(e,t){var r;return Oq(this,void 0,void 0,(function*(){if(!e)return[];const n=Yq("errors","getRevokedAssertions");t&&(e=function(e,t,r){const n=e.includes("?")?"&":"?";return`${e}${n}assertionId=${r}`}(e,0,encodeURIComponent(t)));const i=yield yX({url:e}).catch((()=>{throw new iG("parseIssuerKeys",n)})),o=JSON.parse(i);return null!==(r=o.revokedAssertions)&&void 0!==r?r:[]}))},lookForTx:function({transactionId:e,chain:t,explorerAPIs:r=[]}){return qX(this,void 0,void 0,(function*(){const n=function(e){const{bitcoin:t,ethereum:r}={bitcoin:RX(VX(n=e,DX)),ethereum:RX(VX(n,jX))};var n;const{custom:i}=function(e){return{custom:zX(e)}}(e.filter((e=>"rpc"===e.apiType)));return{bitcoin:t,ethereum:r,custom:[...i,...RX(e.filter((e=>"rpc"!==e.apiType)))]}}(r),i=function({defaultAPIs:e,customAPIs:t}){const r=[e];if(null==t?void 0:t.length){const e=t[0].priority;r.splice(e,0,t)}if(1>e.concat(t).length)throw new Error("Invalid application configuration; check the CONFIG.MinimumBlockchainExplorers configuration value");return r}({defaultAPIs:GX(t,n),customAPIs:n.custom});return yield WX(i,0,e,t)}))},parseIssuerKeys:function(e){try{const t={};if("@context"in e){const r=e.publicKey||e.publicKeys;for(let e=0;e<r.length;e++){const n=JX(r[e]);t[n.publicKey]=n}}else{const r=JX({},(e.issuerKeys||[])[0].key);t[r.publicKey]=r}return t}catch(e){throw new iG("parseIssuerKeys",Yq("errors","parseIssuerKeys"))}},parseRevocationKey:function(e){return e&&Object.prototype.hasOwnProperty.call(e,"revocationKeys")&&e.revocationKeys.length>0?e.revocationKeys[0].key:null}})};const YX={1:function(e){var t,r;const n=e.certificate||e.document.certificate,i=e.recipient||e.document.recipient,o=e.document.assertion,s=e.receipt,a=void 0===s?Fq.V1_1:Fq.V1_2;let{image:c,description:u,issuer:l,subtitle:A}=n;const h=i.publicKey,f=XX.certificates.getChain(h),d=o.expires,p=o.uid,g=o.issuedOn,m=o.metadataJson,y=`${i.givenName} ${i.familyName}`,v=o.id,b=i.revocationKey||null,w=l.image,x=e.document.signature,_=function(e,t){const r=[];switch(t){case Fq.V1_1:case Fq.V1_2:if(e.constructor===Array)for(const t in e){const n=e[t],i="jobTitle"in n?n.jobTitle:null,o="name"in n?n.name:null,s=new nG(n.image,i,o);r.push(s)}else{const t=new nG(e,null,null);r.push(t)}break;case Fq.V2_0:for(const t in e){const n=e[t],i=new nG(n.image,n.jobTitle,n.name);r.push(i)}}return r}(null===(r=null===(t=e.document)||void 0===t?void 0:t.assertion)||void 0===r?void 0:r["image:signature"],a);return"object"==typeof A&&(A=A.display?A.content:""),{certificateImage:c,chain:f,description:u,expires:d,id:p,issuedOn:g,issuer:l,metadataJson:m,name:n.title||n.name,publicKey:h,receipt:s,recipientFullName:y,recordLink:v,revocationKey:b,sealImage:w,signature:x,signatureImage:_,subtitle:A,version:a}}};var ZX=cG((function(e,t){var r;t=e.exports=q,r="object"==typeof RW&&RW.env&&RW.env.NODE_DEBUG&&/\bsemver\b/i.test(RW.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var A=s++;o[A]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var h=s++;o[h]="(?:"+o[a]+"|"+o[u]+")";var f=s++;o[f]="(?:"+o[c]+"|"+o[u]+")";var d=s++;o[d]="(?:-("+o[h]+"(?:\\."+o[h]+")*))";var p=s++;o[p]="(?:-?("+o[f]+"(?:\\."+o[f]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var m=s++;o[m]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var y=s++,v="v?"+o[l]+o[d]+"?"+o[m]+"?";o[y]="^"+v+"$";var b="[v=\\s]*"+o[A]+o[p]+"?"+o[m]+"?",w=s++;o[w]="^"+b+"$";var x=s++;o[x]="((?:<|>)?=?)";var _=s++;o[_]=o[c]+"|x|X|\\*";var B=s++;o[B]=o[a]+"|x|X|\\*";var E=s++;o[E]="[v=\\s]*("+o[B]+")(?:\\.("+o[B]+")(?:\\.("+o[B]+")(?:"+o[d]+")?"+o[m]+"?)?)?";var S=s++;o[S]="[v=\\s]*("+o[_]+")(?:\\.("+o[_]+")(?:\\.("+o[_]+")(?:"+o[p]+")?"+o[m]+"?)?)?";var C=s++;o[C]="^"+o[x]+"\\s*"+o[E]+"$";var I=s++;o[I]="^"+o[x]+"\\s*"+o[S]+"$";var k=s++;o[k]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var P=s++;o[P]="(?:~>?)";var T=s++;o[T]="(\\s*)"+o[P]+"\\s+",i[T]=new RegExp(o[T],"g");var O=s++;o[O]="^"+o[P]+o[E]+"$";var L=s++;o[L]="^"+o[P]+o[S]+"$";var N=s++;o[N]="(?:\\^)";var U=s++;o[U]="(\\s*)"+o[N]+"\\s+",i[U]=new RegExp(o[U],"g");var F=s++;o[F]="^"+o[N]+o[E]+"$";var M=s++;o[M]="^"+o[N]+o[S]+"$";var R=s++;o[R]="^"+o[x]+"\\s*("+b+")$|^$";var D=s++;o[D]="^"+o[x]+"\\s*("+v+")$|^$";var j=s++;o[j]="(\\s*)"+o[x]+"\\s*("+b+"|"+o[E]+")",i[j]=new RegExp(o[j],"g");var Q=s++;o[Q]="^\\s*("+o[E]+")\\s+-\\s+("+o[E]+")\\s*$";var H=s++;o[H]="^\\s*("+o[S]+")\\s+-\\s+("+o[S]+")\\s*$";var K=s++;o[K]="(<|>)?=?\\s*\\*";for(var V=0;V<35;V++)r(V,o[V]),i[V]||(i[V]=new RegExp(o[V]));function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[w]:i[y]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof q))return new q(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[w]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=z,t.valid=function(e,t){var r=z(e,t);return r?r.version:null},t.clean=function(e,t){var r=z(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof q||(e=new q(e,this.options)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.options)),W(this.major,e.major)||W(this.minor,e.minor)||W(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return W(n,i)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new q(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Y(e,t))return null;var r=z(e),n=z(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=W;var G=/^[0-9]+$/;function W(e,t){var r=G.test(e),n=G.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function $(e,t,r){return new q(e,r).compare(new q(t,r))}function J(e,t,r){return $(e,t,r)>0}function X(e,t,r){return $(e,t,r)<0}function Y(e,t,r){return 0===$(e,t,r)}function Z(e,t,r){return 0!==$(e,t,r)}function ee(e,t,r){return $(e,t,r)>=0}function te(e,t,r){return $(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Y(e,r,n);case"!=":return Z(e,r,n);case">":return J(e,r,n);case">=":return ee(e,r,n);case"<":return X(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return W(t,e)},t.major=function(e,t){return new q(e,t).major},t.minor=function(e,t){return new q(e,t).minor},t.patch=function(e,t){return new q(e,t).patch},t.compare=$,t.compareLoose=function(e,t){return $(e,t,!0)},t.rcompare=function(e,t,r){return $(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=J,t.lt=X,t.eq=Y,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,l,A,h){return((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":A?"<="+c+"."+u+"."+l+"-"+A:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new oe(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var i,o,s,a,c;switch(e=new q(e,n),t=new oe(t,n),r){case">":i=J,o=te,s=X,a=">",c=">=";break;case"<":i=X,o=ee,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],A=null,h=null;if(l.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),A=A||e,h=h||e,i(e.semver,A.semver,n)?A=e:s(e.semver,h.semver,n)&&(h=e)})),A.operator===a||A.operator===c)return!1;if((!h.operator||h.operator===a)&&o(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?i[R]:i[D],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new q(r[2],this.options.loose):this.semver=ie},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new q(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[H]:i[Q];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[j],"$1$2$3"),r("comparator trim",e,i[j]),e=(e=(e=e.replace(i[T],"$1~")).replace(i[U],"$1^")).split(/\s+/).join(" ");var o=t?i[R]:i[D],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[M]:i[F];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[L]:i[O];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[I]:i[C];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[K],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new q(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new q(n=e,r)))})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new q("0.0.0");if(e.test(r))return r;if(r=new q("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new q(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!J(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=z(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof q)return e;if("string"!=typeof e)return null;var t=e.match(i[k]);return null==t?null:z(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}}));ZX.SEMVER_SPEC_VERSION,ZX.re,ZX.src,ZX.parse,ZX.valid,ZX.clean,ZX.SemVer,ZX.inc,ZX.diff,ZX.compareIdentifiers,ZX.rcompareIdentifiers,ZX.major,ZX.minor,ZX.patch,ZX.compare,ZX.compareLoose,ZX.rcompare,ZX.sort,ZX.rsort,ZX.gt,ZX.lt,ZX.eq,ZX.neq,ZX.gte,ZX.lte,ZX.cmp,ZX.Comparator,ZX.Range,ZX.toComparators,ZX.satisfies,ZX.maxSatisfying,ZX.minSatisfying,ZX.minVersion,ZX.validRange,ZX.ltr,ZX.gtr,ZX.outside,ZX.prerelease,ZX.intersects,ZX.coerce;const eY={};var tY=eY;const rY="function"==typeof setImmediate&&setImmediate,nY=rY?e=>rY(e):e=>setTimeout(e,0);function iY(e,t,r){try{return e(t,r)}catch(e){EW((()=>{throw e}))}}eY.nextTick="object"==typeof RW?EW:nY,eY.setImmediate=rY?nY:eY.nextTick,eY.clone=function(e){if(e&&"object"==typeof e){let t;if(Array.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=eY.clone(e[r])}else if(eY.isObject(e)){t={};for(const r in e)t[r]=eY.clone(e[r])}else t=e.toString();return t}return e},eY.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),eY.isUndefined=e=>void 0===e,eY.callbackify=e=>async function(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=await e.apply(null,t)}catch(e){if("function"==typeof r)return iY(r,e);throw e}return"function"==typeof r?iY(r,null,n):n};var oY=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=tY.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}},sY={options:{usePureJavaScript:!1}};sY.md=sY.md||{},sY.md.algorithms=sY.md.algorithms||{};var aY={},cY=aY,uY={};aY.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<a.length;++c)u+=a[c]<<8,a[c]=u%o,u=u/o|0;for(;u>0;)a.push(u%o),u=u/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=t[a[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var s=0,a=e.at(r);s<o.length;++s)a+=o[s]<<8,o[s]=a%n,a=a/n|0;for(;a>0;)o.push(a%n),a=a/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=i;for(r=o.length-1;r>=0;--r)c+=t[o[r]];return c}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},aY.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var r=uY[t];if(!r){r=uY[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");var i=t.length,o=t.charAt(0),s=[0];for(n=0;n<e.length;n++){var a=r[e.charCodeAt(n)];if(void 0===a)return;for(var c=0,u=a;c<s.length;++c)u+=s[c]*i,s[c]=255&u,u>>=8;for(;u>0;)s.push(255&u),u>>=8}for(var l=0;e[l]===o&&l<e.length-1;++l)s.push(0);return kG.from(s.reverse())},cG((function(e){var t=e.exports=sY.util=sY.util||{};function r(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function n(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(t.isArrayBuffer(e)||t.isArrayBufferView(e))if(e instanceof kG)this.data=e.toString("binary");else{var r=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,r)}catch(e){for(var i=0;i<r.length;++i)this.putByte(r[i])}}else(e instanceof n||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("function"==typeof setImmediate)return t.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(t.nextTick=function(e){return setImmediate(e)});if(t.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];t.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,o=document.createElement("div");r=[],new MutationObserver((function(){var e=r.slice();r.length=0,e.forEach((function(e){e()}))})).observe(o,{attributes:!0});var s=t.setImmediate;t.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),s(e)):(r.push(e),1===r.length&&o.setAttribute("a",i=!i))}}t.nextTick=t.setImmediate}(),t.isNodejs=void 0!==RW&&RW.versions&&RW.versions.node,t.globalScope=t.isNodejs?sG:"undefined"==typeof self?window:self,t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},t.isArrayBufferView=function(e){return e&&t.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},t.ByteBuffer=n,t.ByteStringBuffer=n,t.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},t.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},t.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},t.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},t.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(t.encodeUtf8(e))},t.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},t.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},t.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},t.ByteStringBuffer.prototype.putInt=function(e,t){r(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},t.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},t.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},t.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},t.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},t.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},t.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},t.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},t.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},t.ByteStringBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},t.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},t.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},t.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},t.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},t.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},t.ByteStringBuffer.prototype.copy=function(){var e=t.createBuffer(this.data);return e.read=this.read,e},t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},t.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},t.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())},t.DataBuffer=function(e,r){r=r||{},this.read=r.readOffset||0,this.growSize=r.growSize||1024;var n=t.isArrayBuffer(e),i=t.isArrayBufferView(e);if(n||i)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in r?r.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in r&&(this.write=r.writeOffset)},t.DataBuffer.prototype.length=function(){return this.write-this.read},t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},t.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},t.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},t.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},t.DataBuffer.prototype.putBytes=function(e,r){if(t.isArrayBufferView(e)){var n=(i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-i.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(i),this.write+=n,this}if(t.isArrayBuffer(e)){var i=new Uint8Array(e);return this.accommodate(i.byteLength),new Uint8Array(this.data.buffer).set(i,this.write),this.write+=i.byteLength,this}if(e instanceof t.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&t.isArrayBufferView(e.data))return i=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(i.byteLength),new Uint8Array(e.data.byteLength,this.write).set(i),this.write+=i.byteLength,this;if(e instanceof t.ByteStringBuffer&&(e=e.data,r="binary"),r=r||"binary","string"==typeof e){var o;if("hex"===r)return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(e,o,this.write),this;if("base64"===r)return this.accommodate(3*Math.ceil(e.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(e,o,this.write),this;if("utf8"===r&&(e=t.encodeUtf8(e),r="binary"),"binary"===r||"raw"===r)return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(o),this;if("utf16"===r)return this.accommodate(2*e.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+r)}throw Error("Invalid parameter: "+e)},t.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},t.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},t.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},t.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},t.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},t.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},t.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},t.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},t.DataBuffer.prototype.putInt=function(e,t){r(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},t.DataBuffer.prototype.putSignedInt=function(e,t){return r(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},t.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},t.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},t.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},t.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},t.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},t.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},t.DataBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},t.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},t.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},t.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},t.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},t.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)},t.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},t.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},t.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},t.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},t.DataBuffer.prototype.toString=function(e){var r=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return t.binary.raw.encode(r);if("hex"===e)return t.binary.hex.encode(r);if("base64"===e)return t.binary.base64.encode(r);if("utf8"===e)return t.text.utf8.decode(r);if("utf16"===e)return t.text.utf16.decode(r);throw new Error("Invalid encoding: "+e)},t.createBuffer=function(e,r){return r=r||"raw",void 0!==e&&"utf8"===r&&(e=t.encodeUtf8(e)),new t.ByteBuffer(e)},t.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},t.xorBytes=function(e,t,r){for(var n="",i="",o="",s=0,a=0;r>0;--r,++s)i=e.charCodeAt(s)^t.charCodeAt(s),a>=10&&(n+=o,o="",a=0),o+=String.fromCharCode(i),++a;return n+o},t.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},t.bytesToHex=function(e){return t.createBuffer(e).toHex()},t.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode64=function(e,t){for(var r,n,o,s="",a="",c=0;c<e.length;)r=e.charCodeAt(c++),n=e.charCodeAt(c++),o=e.charCodeAt(c++),s+=i.charAt(r>>2),s+=i.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=i.charAt((15&n)<<2|o>>6),s+=isNaN(o)?"=":i.charAt(63&o)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+s},t.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,s="",a=0;a<e.length;)t=o[e.charCodeAt(a++)-43],r=o[e.charCodeAt(a++)-43],n=o[e.charCodeAt(a++)-43],i=o[e.charCodeAt(a++)-43],s+=String.fromCharCode(t<<2|r>>4),64!==n&&(s+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(s+=String.fromCharCode((3&n)<<6|i)));return s},t.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},t.decodeUtf8=function(e){return decodeURIComponent(escape(e))},t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:cY.encode,decode:cY.decode}},t.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},t.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},t.binary.hex.encode=t.bytesToHex,t.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=r=r||0;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},t.binary.base64.encode=function(e,t){for(var r,n,o,s="",a="",c=0;c<e.byteLength;)r=e[c++],n=e[c++],o=e[c++],s+=i.charAt(r>>2),s+=i.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=i.charAt((15&n)<<2|o>>6),s+=isNaN(o)?"=":i.charAt(63&o)),t&&s.length>t&&(a+=s.substr(0,t)+"\r\n",s=s.substr(t));return a+s},t.binary.base64.decode=function(e,t,r){var n,i,s,a,c=t;c||(c=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,l=r=r||0;u<e.length;)n=o[e.charCodeAt(u++)-43],i=o[e.charCodeAt(u++)-43],s=o[e.charCodeAt(u++)-43],a=o[e.charCodeAt(u++)-43],c[l++]=n<<2|i>>4,64!==s&&(c[l++]=(15&i)<<4|s>>2,64!==a&&(c[l++]=(3&s)<<6|a));return t?l-r:c.subarray(0,l)},t.binary.base58.encode=function(e,r){return t.binary.baseN.encode(e,s,r)},t.binary.base58.decode=function(e,r){return t.binary.baseN.decode(e,s,r)},t.text={utf8:{},utf16:{}},t.text.utf8.encode=function(e,r,n){e=t.encodeUtf8(e);var i=r;i||(i=new Uint8Array(e.length));for(var o=n=n||0,s=0;s<e.length;++s)i[o++]=e.charCodeAt(s);return r?o-n:i},t.text.utf8.decode=function(e){return t.decodeUtf8(String.fromCharCode.apply(null,e))},t.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,s=r,a=0;a<e.length;++a)i[s++]=e.charCodeAt(a),o+=2;return t?o-r:n},t.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},t.deflate=function(e,r,n){if(r=t.decode64(e.deflate(t.encode64(r)).rval),n){var i=2;32&r.charCodeAt(1)&&(i=6),r=r.substring(i,r.length-4)}return r},t.inflate=function(e,r,n){var i=e.inflate(t.encode64(r)).rval;return null===i?null:t.decode64(i)};var a=function(e,r,n){if(!e)throw new Error("WebStorage not available.");var i;if(null===n?i=e.removeItem(r):(n=t.encode64(JSON.stringify(n)),i=e.setItem(r,n)),void 0!==i&&!0!==i.rval){var o=new Error(i.error.message);throw o.id=i.error.id,o.name=i.error.name,o}},c=function(e,r){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(r);if(e.init)if(null===n.rval){if(n.error){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(t.decode64(n))),n},u=function(e,t,r,n){var i=c(e,t);null===i&&(i={}),i[r]=n,a(e,t,i)},l=function(e,t,r){var n=c(e,t);return null!==n&&(n=r in n?n[r]:null),n},A=function(e,t,r){var n=c(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),a(e,t,n)}},h=function(e,t){a(e,t,null)},f=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,s=null;for(var a in r){n=r[a];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){s=e}if(o)break}if(!o)throw s;return i};t.setItem=function(e,t,r,n,i){f(u,arguments,i)},t.getItem=function(e,t,r,n){return f(l,arguments,n)},t.removeItem=function(e,t,r,n){f(A,arguments,n)},t.clearItems=function(e,t,r){f(h,arguments,r)},t.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var d=null;t.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,s=r[n].indexOf("=");s>0?(i=r[n].substring(0,s),o=r[n].substring(s+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===d&&(d="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=d):t=r(e),t},t.parseFragment=function(e){var r=e,n="",i=e.indexOf("?");i>0&&(r=e.substring(0,i),n=e.substring(i+1));var o=r.split("/");return o.length>0&&""===o[0]&&o.shift(),{pathString:r,queryString:n,path:o,query:""===n?{}:t.getQueryVariables(n)}},t.makeRequest=function(e){var r=t.parseFragment(e),n={path:r.pathString,query:r.queryString,getPath:function(e){return void 0===e?r.path:r.path[e]},getQuery:function(e,t){var n;return void 0===e?n=r.query:(n=r.query[e])&&void 0!==t&&(n=n[t]),n},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},t.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},t.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.format=function(e){for(var t,r,n=/%./g,i=0,o=[],s=0;t=n.exec(e);){(r=e.substring(s,n.lastIndex-2)).length>0&&o.push(r),s=n.lastIndex;var a=t[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(e.substring(s)),o.join("")},t.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,s=void 0===r?",":r,a=void 0===n?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+a:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-u).toFixed(o).slice(2):"")},t.formatSize=function(e){return e>=1073741824?t.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?t.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?t.formatNumber(e/1024,0)+" KiB":t.formatNumber(e,0)+" bytes"},t.bytesFromIP=function(e){return-1!==e.indexOf(".")?t.bytesFromIPv4(e):-1!==e.indexOf(":")?t.bytesFromIPv6(e):null},t.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var r=t.createBuffer(),n=0;n<e.length;++n){var i=parseInt(e[n],10);if(isNaN(i))return null;r.putByte(i)}return r.getBytes()},t.bytesFromIPv6=function(e){for(var r=0,n=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++r,!0}))).length+r),i=t.createBuffer(),o=0;o<8;++o)if(e[o]&&0!==e[o].length){var s=t.hexToBytes(e[o]);s.length<2&&i.putByte(0),i.putBytes(s)}else i.fillWithByte(0,n),n=0;return i.getBytes()},t.bytesToIP=function(e){return 4===e.length?t.bytesToIPv4(e):16===e.length?t.bytesToIPv6(e):null},t.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},t.bytesToIPv6=function(e){if(16!==e.length)return null;for(var r=[],n=[],i=0,o=0;o<e.length;o+=2){for(var s=t.bytesToHex(e[o]+e[o+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var a=n[n.length-1],c=r.length;a&&c===a.end+1?(a.end=c,a.end-a.start>n[i].end-n[i].start&&(i=n.length-1)):n.push({start:c,end:c})}r.push(s)}if(n.length>0){var u=n[i];u.end-u.start>0&&(r.splice(u.start,u.end-u.start+1,""),0===u.start&&r.unshift(""),7===u.end&&r.push(""))}return r.join(":")},t.estimateCores=function(e,r){if("function"==typeof e&&(r=e,e={}),e=e||{},"cores"in t&&!e.update)return r(null,t.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return t.cores=navigator.hardwareConcurrency,r(null,t.cores);if("undefined"==typeof Worker)return t.cores=1,r(null,t.cores);if("undefined"==typeof Blob)return t.cores=2,r(null,t.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){var t=Date.now(),r=t+4;self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(i,o,s){if(0===o){var a=Math.floor(i.reduce((function(e,t){return e+t}),0)/i.length);return t.cores=Math.max(1,a),URL.revokeObjectURL(n),r(null,t.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var s=new Worker(n);s.addEventListener("message",(function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,i)}})),r.push(s)}for(o=0;o<e;++o)r[o].postMessage(o)}(s,(function(t,r){i.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],s=0;s<e;++s)if(n!==s){var a=t[s];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&o.push(s)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(s,r)),e(i,o-1,s)}))}([],5,16)}})),cG((function(e){var t=e.exports=sY.sha1=sY.sha1||{};sY.md.sha1=sY.md.algorithms.sha1=t,t.create=function(){n||(r=String.fromCharCode(128),r+=sY.util.fillString(String.fromCharCode(0),64),n=!0);var e=null,t=sY.util.createBuffer(),o=new Array(80),s={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var r=s.messageLengthSize/4,n=0;n<r;++n)s.fullMessageLength.push(0);return t=sY.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},s}};return s.start(),s.update=function(r,n){"utf8"===n&&(r=sY.util.encodeUtf8(r));var a=r.length;s.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=s.fullMessageLength.length-1;c>=0;--c)s.fullMessageLength[c]+=a[1],a[1]=a[0]+(s.fullMessageLength[c]/4294967296>>>0),s.fullMessageLength[c]=s.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(r),i(e,o,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var n=sY.util.createBuffer();n.putBytes(t.bytes());var a,c=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize&s.blockLength-1;n.putBytes(r.substr(0,s.blockLength-c));for(var u=8*s.fullMessageLength[0],l=0;l<s.fullMessageLength.length-1;++l)u+=(a=8*s.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(u>>>0),u=a>>>0;n.putInt32(u);var A={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};i(A,o,n);var h=sY.util.createBuffer();return h.putInt32(A.h0),h.putInt32(A.h1),h.putInt32(A.h2),h.putInt32(A.h3),h.putInt32(A.h4),h},s};var r=null,n=!1;function i(e,t,r){for(var n,i,o,s,a,c,u,l=r.length();l>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+c+1518500249+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+c+1518500249+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(o^s^a)+c+1859775393+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o^s^a)+c+1859775393+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o&s|a&(o^s))+c+2400959708+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o^s^a)+c+3395469782+n,c=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+c|0,l-=64}}})),cG((function(e){var t=e.exports=sY.sha256=sY.sha256||{};sY.md.sha256=sY.md.algorithms.sha256=t,t.create=function(){n||(r=String.fromCharCode(128),r+=sY.util.fillString(String.fromCharCode(0),64),i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0);var e=null,t=sY.util.createBuffer(),s=new Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,n=0;n<r;++n)a.fullMessageLength.push(0);return t=sY.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a}};return a.start(),a.update=function(r,n){"utf8"===n&&(r=sY.util.encodeUtf8(r));var i=r.length;a.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=i[1],i[1]=i[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,i[0]=i[1]/4294967296>>>0;return t.putBytes(r),o(e,s,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var n=sY.util.createBuffer();n.putBytes(t.bytes());var i,c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;n.putBytes(r.substr(0,a.blockLength-c));for(var u=8*a.fullMessageLength[0],l=0;l<a.fullMessageLength.length-1;++l)u+=(i=8*a.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(u>>>0),u=i>>>0;n.putInt32(u);var A={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};o(A,s,n);var h=sY.util.createBuffer();return h.putInt32(A.h0),h.putInt32(A.h1),h.putInt32(A.h2),h.putInt32(A.h3),h.putInt32(A.h4),h.putInt32(A.h5),h.putInt32(A.h6),h.putInt32(A.h7),h},a};var r=null,n=!1,i=null;function o(e,t,r){for(var n,o,s,a,c,u,l,A,h,f,d,p,g,m=r.length();m>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=((n=t[c-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=((o=t[c-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,t[c]=n+t[c-7]+o+t[c-16]|0;for(u=e.h0,l=e.h1,A=e.h2,h=e.h3,f=e.h4,d=e.h5,p=e.h6,g=e.h7,c=0;c<64;++c)s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),a=u&l|A&(u^l),n=g+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(p^f&(d^p))+i[c]+t[c],g=p,p=d,d=f,f=h+n>>>0,h=A,A=l,l=u,u=n+(o=s+a)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+A|0,e.h3=e.h3+h|0,e.h4=e.h4+f|0,e.h5=e.h5+d|0,e.h6=e.h6+p|0,e.h7=e.h7+g|0,m-=64}}}));var lY=class{constructor(e){this.md=sY.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}},AY=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,r=0;const n=this.list.length;for(let e=0;e<n;++e){const i=this.list[e],o=this.left[i];(null===t||i>t)&&(o&&e>0&&i>this.list[e-1]||!o&&e<n-1&&i>this.list[e+1])&&(t=i,r=e)}if(null===t)this.done=!0;else{const e=this.left[t]?r-1:r+1;this.list[r]=this.list[e],this.list[e]=t;for(let e=0;e<n;++e)this.list[e]>t&&(this.left[this.list[e]]=!this.left[this.list[e]])}return e}};const hY="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",fY="http://www.w3.org/2001/XMLSchema#string",dY={eoln:/(?:\r\n)|(?:\n)|(?:\r)/g};dY.empty=new RegExp("^[ \\t]*$"),dY.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9])(?:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ.])*(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9])(?:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ.])*(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9])(?:(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ.])*(?:[A-Za-z√Ä-√ñ√ò-√∂√∏-ÀøÕ∞-ÕΩÕø-·øø‚Äå-‚Äç‚Å∞-‚Üè‚∞Ä-‚øØ„ÄÅ-ÌüøÔ§Ä-Ô∑èÔ∑∞-ÔøΩ_0-9-¬∑ÃÄ-ÕØ‚Äø-‚ÅÄ]))?))[ \\t]*\\.))[ \\t]*$');var pY=class e{static parse(e){const t=[],r={},n=e.split(dY.eoln);let i=0;for(const e of n){if(i++,dY.empty.test(e))continue;const n=e.match(dY.quad);if(null===n)throw new Error("N-Quads parse error on line "+i+".");const o={};if(void 0!==n[1]?o.subject={termType:"NamedNode",value:n[1]}:o.subject={termType:"BlankNode",value:n[2]},o.predicate={termType:"NamedNode",value:n[3]},void 0!==n[4]?o.object={termType:"NamedNode",value:n[4]}:void 0!==n[5]?o.object={termType:"BlankNode",value:n[5]}:(o.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==n[7]?o.object.datatype.value=n[7]:void 0!==n[8]?(o.object.datatype.value=hY,o.object.language=n[8]):o.object.datatype.value=fY,o.object.value=vY(n[6])),void 0!==n[9]?o.graph={termType:"NamedNode",value:n[9]}:void 0!==n[10]?o.graph={termType:"BlankNode",value:n[10]}:o.graph={termType:"DefaultGraph",value:""},o.graph.value in r){let e=!0;const n=r[o.graph.value];for(const t of n)if(gY(t,o)){e=!1;break}e&&(n.push(o),t.push(o))}else r[o.graph.value]=[o],t.push(o)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const t=e.subject,r=e.predicate,n=e.object,i=e.graph;let o="";return[t,r].forEach((e=>{"NamedNode"===e.termType?o+="<"+e.value+">":o+=e.value,o+=" "})),"NamedNode"===n.termType?o+="<"+n.value+">":"BlankNode"===n.termType?o+=n.value:(o+='"'+function(e){return e.replace(mY,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(n.value)+'"',n.datatype.value===hY?n.language&&(o+="@"+n.language):n.datatype.value!==fY&&(o+="^^<"+n.datatype.value+">")),"NamedNode"===i.termType?o+=" <"+i.value+">":"BlankNode"===i.termType&&(o+=" "+i.value),o+=" .\n",o}static legacyDatasetToQuads(e){const t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const n in e)e[n].forEach((e=>{const i={};for(const t in e){const n=e[t],o={termType:r[n.type],value:n.value};"Literal"===o.termType&&(o.datatype={termType:"NamedNode"},"datatype"in n&&(o.datatype.value=n.datatype),"language"in n?("datatype"in n||(o.datatype.value=hY),o.language=n.language):"datatype"in n||(o.datatype.value=fY)),i[t]=o}i.graph="@default"===n?{termType:"DefaultGraph",value:""}:{termType:n.startsWith("_:")?"BlankNode":"NamedNode",value:n},t.push(i)}));return t}};function gY(e,t){for(const r in e)if(e[r].termType!==t[r].termType||e[r].value!==t[r].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}const mY=/["\\\n\r]/g,yY=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function vY(e){return e.replace(yY,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))}const bY={subject:"s",object:"o",graph:"g"};var wY=class extends class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:r=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=r}doWork(e,t){const r=this.schedule;if(r.totalDepth>=r.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function n(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,tY.nextTick(n);const i=Date.now();if(r.running||(r.start=Date.now(),r.deadline=r.start+r.timeSlice),i<r.deadline)return r.running=!0,r.depth++,r.totalDepth++,e(((e,n)=>{r.depth--,r.totalDepth--,t(e,n)}));r.depth=0,r.running=!1,tY.setImmediate(n)}()}forEach(e,t,r){const n=this;let i,o,s=0;if(Array.isArray(e))o=e.length,i=()=>s!==o&&(i.value=e[s++],i.key=s,!0);else{const t=Object.keys(e);o=t.length,i=()=>s!==o&&(i.key=t[s++],i.value=e[i.key],!0)}!function e(o){return o?r(o):i()?n.doWork((()=>t(i.value,i.key,e))):void r()}()}waterfall(e,t){const r=this;r.forEach(e,((e,t,n)=>r.doWork(e,n)),t)}whilst(e,t,r){const n=this;!function i(o){return o?r(o):e()?void n.doWork(t,i):r()}()}}{constructor(e){super(e=e||{}),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new oY("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e,t){const r=this;let n;r.schedule.start=Date.now(),r.quads=e;const i={};r.waterfall([t=>{r.forEach(e,((e,t,n)=>{r.forEachComponent(e,(t=>{if("BlankNode"!==t.termType)return;const n=t.value;n in r.blankNodeInfo?r.blankNodeInfo[n].quads.push(e):(i[n]=!0,r.blankNodeInfo[n]={quads:[e]})})),n()}),t)},e=>{let t=!0;r.whilst((()=>t),(e=>{t=!1,r.hashToBlankNodes={},r.waterfall([e=>{r.forEach(i,((e,t,n)=>{r.hashFirstDegreeQuads(t,((e,i)=>{if(e)return n(e);i in r.hashToBlankNodes?r.hashToBlankNodes[i].push(t):r.hashToBlankNodes[i]=[t],n()}))}),e)},e=>{const n=Object.keys(r.hashToBlankNodes).sort();r.forEach(n,((e,n,o)=>{const s=r.hashToBlankNodes[e];if(s.length>1)return o();const a=s[0];r.canonicalIssuer.getId(a),delete i[a],delete r.hashToBlankNodes[e],t=!0,o()}),e)}],e)}),e)},e=>{const t=Object.keys(r.hashToBlankNodes).sort();r.forEach(t,((e,t,n)=>{const i=[],o=r.hashToBlankNodes[e];r.waterfall([e=>{r.forEach(o,((e,t,n)=>{if(r.canonicalIssuer.hasId(e))return n();const o=new oY("_:b");o.getId(e),r.hashNDegreeQuads(e,o,((e,t)=>{if(e)return n(e);i.push(t),n()}))}),e)},e=>{i.sort(((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0)),r.forEach(i,((e,t,n)=>{for(const t in e.issuer.existing)r.canonicalIssuer.getId(t);n()}),e)}],n)}),e)},e=>{const t=[];r.waterfall([e=>{r.forEach(r.quads,((e,n,i)=>{r.forEachComponent(e,(e=>{"BlankNode"!==e.termType||e.value.startsWith(r.canonicalIssuer.prefix)||(e.value=r.canonicalIssuer.getId(e.value))})),t.push(pY.serializeQuad(e)),i()}),e)},e=>(t.sort(),n=t.join(""),e())],e)}],(e=>t(e,n)))}hashFirstDegreeQuads(e,t){const r=this,n=r.blankNodeInfo[e];if("hash"in n)return t(null,n.hash);const i=[],o=n.quads;r.forEach(o,((t,n,o)=>{const s={predicate:t.predicate};r.forEachComponent(t,((t,n)=>{s[n]=r.modifyFirstDegreeComponent(e,t,n)})),i.push(pY.serializeQuad(s)),o()}),(e=>{if(e)return t(e);i.sort();const o=new lY(r.hashAlgorithm);for(let e=0;e<i.length;++e)o.update(i[e]);n.hash=o.digest(),t(null,n.hash)}))}hashRelatedBlankNode(e,t,r,n,i){const o=this;let s;o.waterfall([t=>o.canonicalIssuer.hasId(e)?(s=o.canonicalIssuer.getId(e),t()):r.hasId(e)?(s=r.getId(e),t()):void o.hashFirstDegreeQuads(e,((e,r)=>{if(e)return t(e);s=r,t()}))],(e=>{if(e)return i(e);const r=new lY(o.hashAlgorithm);return r.update(n),"g"!==n&&r.update(o.getRelatedPredicate(t)),r.update(s),i(null,r.digest())}))}hashNDegreeQuads(e,t,r){const n=this;let i;const o=new lY(n.hashAlgorithm);n.waterfall([r=>n.createHashToRelated(e,t,((e,t)=>{if(e)return r(e);i=t,r()})),e=>{const r=Object.keys(i).sort();n.forEach(r,((e,r,s)=>{o.update(e);let a,c="";const u=new AY(i[e]);n.whilst((()=>u.hasNext()),(e=>{const r=u.next();let i=t.clone(),o="";const s=[];n.waterfall([t=>{n.forEach(r,((t,r,a)=>{if(n.canonicalIssuer.hasId(t)?o+=n.canonicalIssuer.getId(t):(i.hasId(t)||s.push(t),o+=i.getId(t)),0!==c.length&&o>c)return e();a()}),t)},t=>{n.forEach(s,((t,r,s)=>{n.hashNDegreeQuads(t,i,((r,n)=>r?s(r):(o+=i.getId(t),o+="<"+n.hash+">",i=n.issuer,0!==c.length&&o>c?e():void s())))}),t)},e=>{(0===c.length||o<c)&&(c=o,a=i),e()}],e)}),(e=>{if(e)return s(e);o.update(c),t=a,s()}))}),e)}],(e=>{r(e,{hash:o.digest(),issuer:t})}))}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType||((t=tY.clone(t)).value=t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,((r,o,s)=>{n.forEach(r,((o,s,a)=>{if("predicate"===s||"BlankNode"!==o.termType||o.value===e)return a();const c=o.value,u=bY[s];n.hashRelatedBlankNode(c,r,t,u,((e,t)=>{if(e)return a(e);t in i?i[t].push(c):i[t]=[c],a()}))}),s)}),(e=>r(e,i)))}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}},xY=class extends wY{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType||((t=tY.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,((r,o,s)=>{let a,c;if("BlankNode"===r.subject.termType&&r.subject.value!==e)c=r.subject.value,a="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)return s();c=r.object.value,a="r"}n.hashRelatedBlankNode(c,r,t,a,((e,t)=>{if(e)return s(e);t in i?i[t].push(c):i[t]=[c],s()}))}),(e=>r(e,i)))}};const _Y={subject:"s",object:"o",graph:"g"};var BY=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new oY("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e){const t=this;t.quads=e;const r={};for(const n of e)t.forEachComponent(n,(e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(n):(r[i]=!0,t.blankNodeInfo[i]={quads:[n]})}));let n=!0;for(;n;){n=!1,t.hashToBlankNodes={};for(const e in r){const r=t.hashFirstDegreeQuads(e);r in t.hashToBlankNodes?t.hashToBlankNodes[r].push(e):t.hashToBlankNodes[r]=[e]}const e=Object.keys(t.hashToBlankNodes).sort();for(let i=0;i<e.length;++i){const o=e[i],s=t.hashToBlankNodes[o];if(s.length>1)continue;const a=s[0];t.canonicalIssuer.getId(a),delete r[a],delete t.hashToBlankNodes[o],n=!0}}const i=Object.keys(t.hashToBlankNodes).sort();for(let e=0;e<i.length;++e){const r=[],n=i[e],o=t.hashToBlankNodes[n];for(let e=0;e<o.length;++e){const n=o[e];if(t.canonicalIssuer.hasId(n))continue;const i=new oY("_:b");i.getId(n);const s=t.hashNDegreeQuads(n,i);r.push(s)}r.sort(((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0));for(let e=0;e<r.length;++e){const n=r[e];for(const e in n.issuer.existing)t.canonicalIssuer.getId(e)}}const o=[];for(let e=0;e<t.quads.length;++e){const r=t.quads[e];t.forEachComponent(r,(e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))})),o.push(pY.serializeQuad(r))}return o.sort(),o.join("")}hashFirstDegreeQuads(e){const t=this,r=t.blankNodeInfo[e];if("hash"in r)return r.hash;const n=[],i=r.quads;for(let r=0;r<i.length;++r){const o=i[r],s={predicate:o.predicate};t.forEachComponent(o,((r,n)=>{s[n]=t.modifyFirstDegreeComponent(e,r,n)})),n.push(pY.serializeQuad(s))}n.sort();const o=new lY(t.hashAlgorithm);for(let e=0;e<n.length;++e)o.update(n[e]);return r.hash=o.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){const i=this;let o;o=i.canonicalIssuer.hasId(e)?i.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):i.hashFirstDegreeQuads(e);const s=new lY(i.hashAlgorithm);return s.update(n),"g"!==n&&s.update(i.getRelatedPredicate(t)),s.update(o),s.digest()}hashNDegreeQuads(e,t){const r=this,n=new lY(r.hashAlgorithm),i=r.createHashToRelated(e,t),o=Object.keys(i).sort();for(let e=0;e<o.length;++e){const s=o[e];n.update(s);let a,c="";const u=new AY(i[s]);for(;u.hasNext();){const e=u.next();let n=t.clone(),i="";const o=[];let s=!1;for(let t=0;t<e.length;++t){const a=e[t];if(r.canonicalIssuer.hasId(a)?i+=r.canonicalIssuer.getId(a):(n.hasId(a)||o.push(a),i+=n.getId(a)),0!==c.length&&i>c){s=!0;break}}if(!s){for(let e=0;e<o.length;++e){const t=o[e],a=r.hashNDegreeQuads(t,n);if(i+=n.getId(t),i+="<"+a.hash+">",n=a.issuer,0!==c.length&&i>c){s=!0;break}}s||(0===c.length||i<c)&&(c=i,a=n)}}n.update(c),t=a}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType||((t=tY.clone(t)).value=t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];for(const i in s){const o=s[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const a=o.value,c=_Y[i],u=r.hashRelatedBlankNode(a,s,t,c);u in n?n[u].push(a):n[u]=[a]}}return n}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}},EY=class extends BY{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType||((t=tY.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z"),t}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];let a,c;if("BlankNode"===s.subject.termType&&s.subject.value!==e)c=s.subject.value,a="p";else{if("BlankNode"!==s.object.termType||s.object.value===e)continue;c=s.object.value,a="r"}const u=r.hashRelatedBlankNode(c,s,t,a);u in n?n[u].push(c):n[u]=[c]}return n}},SY=uG(Object.freeze({__proto__:null,default:{}}));let CY;try{CY=SY}catch(e){}const IY={};var kY=IY;IY.NQuads=pY,IY.IdentifierIssuer=oY,IY._rdfCanonizeNative=function(e){return e&&(CY=e),CY},IY.canonize=tY.callbackify((async function(e,t){let r;const n=new Promise(((e,t)=>{r=(r,n)=>{if(r)return t(r);e(n)}}));if(Array.isArray(e)||(e=IY.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!CY)throw new Error("rdf-canonize-native not available");CY.canonize(e,t,r)}else if("URDNA2015"===t.algorithm)new wY(t).main(e,r);else{if("URGNA2012"!==t.algorithm)throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");new xY(t).main(e,r)}return n})),IY.canonizeSync=function(e,t){if(Array.isArray(e)||(e=IY.NQuads.legacyDatasetToQuads(e)),t.useNative){if(CY)return CY.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new BY(t).main(e);if("URGNA2012"===t.algorithm)return new EY(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)};const PY={};var TY=PY;PY.isArray=Array.isArray,PY.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),PY.isDouble=e=>PY.isNumber(e)&&-1!==String(e).indexOf("."),PY.isEmptyObject=e=>PY.isObject(e)&&0===Object.keys(e).length,PY.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),PY.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),PY.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),PY.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),PY.isUndefined=e=>void 0===e;const OY={};var LY=OY;OY.isSubject=e=>!(!TY.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),OY.isSubjectReference=e=>TY.isObject(e)&&1===Object.keys(e).length&&"@id"in e,OY.isValue=e=>TY.isObject(e)&&"@value"in e,OY.isList=e=>TY.isObject(e)&&"@list"in e,OY.isGraph=e=>TY.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,OY.isSimpleGraph=e=>OY.isGraph(e)&&!("@id"in e),OY.isBlankNode=e=>!!TY.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e));var NY=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}};const UY=kY.IdentifierIssuer,FY=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,MY=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,RY=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,DY="application/ld+json, application/json",jY={};var QY=jY;jY.IdentifierIssuer=UY;const HY="function"==typeof setImmediate&&setImmediate,KY=HY?e=>HY(e):e=>setTimeout(e,0);function VY(e,t,r){jY.nextTick((()=>e(t,r)))}function zY(e,t){if(TY.isArray(t))for(let r=0;r<t.length;++r)t[r]=zY(e,t[r]);else if(LY.isList(t))t["@list"]=zY(e,t["@list"]);else if(TY.isObject(t)){LY.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];"@id"!==i&&(t[i]=zY(e,t[i]))}}return t}jY.nextTick="object"==typeof RW?EW:KY,jY.setImmediate=HY?KY:jY.nextTick,jY.clone=function(e){if(e&&"object"==typeof e){let t;if(TY.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=jY.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,jY.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(jY.clone(r))}else if(TY.isObject(e)){t={};for(const r in e)t[r]=jY.clone(e[r])}else t=e.toString();return t}return e},jY.asArray=function(e){return Array.isArray(e)?e:[e]},jY.buildHeaders=(e={})=>{if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+DY+'" is supported.');return Object.assign({Accept:DY},e)},jY.parseLinkHeader=e=>{const t={},r=e.match(FY);for(let e=0;e<r.length;++e){let n=r[e].match(MY);if(!n)continue;const i={target:n[1]},o=n[2];for(;n=RY.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t.hasOwnProperty(s)?t[s]=[t[s],i]:t[s]=i}return t},jY.validateTypeValue=e=>{if(TY.isString(e)||TY.isEmptyObject(e))return;let t=!1;if(TY.isArray(e)){t=!0;for(let r=0;r<e.length;++r)if(!TY.isString(e[r])){t=!1;break}}if(!t)throw new NY('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})},jY.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!TY.isArray(r)||r.length>0}return!1},jY.hasValue=(e,t,r)=>{if(jY.hasProperty(e,t)){let n=e[t];const i=LY.isList(n);if(TY.isArray(n)||i){i&&(n=n["@list"]);for(let e=0;e<n.length;++e)if(jY.compareValues(r,n[e]))return!0}else if(!TY.isArray(r))return jY.compareValues(r,n)}return!1},jY.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),n.valueIsArray)e[t]=r;else if(TY.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]);for(let i=0;i<r.length;++i)jY.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&jY.hasValue(e,t,r);TY.isArray(e[t])||i&&!n.propertyIsArray||(e[t]=[e[t]]),i||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},jY.getValues=(e,t)=>[].concat(e[t]||[]),jY.removeProperty=(e,t)=>{delete e[t]},jY.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=jY.getValues(e,t).filter((e=>!jY.compareValues(e,r)));0===i.length?jY.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},jY.relabelBlankNodes=(e,t)=>zY((t=t||{}).issuer||new UY("_:b"),e),jY.compareValues=(e,t)=>e===t||!(!LY.isValue(e)||!LY.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(TY.isObject(e)&&"@id"in e&&TY.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],jY.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1,jY.normalizeDocumentLoader=e=>e.length<2?jY.callbackify(e):async function(t){const r=arguments[1];return new Promise(((n,i)=>{try{e(t,((e,t)=>{if("function"==typeof r)return VY(r,e,t);e?i(e):n(t)}))}catch(e){if("function"==typeof r)return VY(r,e);i(e)}}))},jY.callbackify=e=>async function(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=await e.apply(null,t)}catch(e){if("function"==typeof r)return VY(r,e);throw e}return"function"==typeof r?VY(r,null,n):n};var qY=kY.NQuads;const GY="http://www.w3.org/1999/02/22-rdf-syntax-ns#",WY="http://www.w3.org/2001/XMLSchema#";var $Y={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:GY,RDF_LIST:GY+"List",RDF_FIRST:GY+"first",RDF_REST:GY+"rest",RDF_NIL:GY+"nil",RDF_TYPE:GY+"type",RDF_PLAIN_LITERAL:GY+"PlainLiteral",RDF_XML_LITERAL:GY+"XMLLiteral",RDF_JSON_LITERAL:GY+"JSON",RDF_OBJECT:GY+"object",RDF_LANGSTRING:GY+"langString",XSD:WY,XSD_BOOLEAN:WY+"boolean",XSD_DOUBLE:WY+"double",XSD_INTEGER:WY+"integer",XSD_STRING:WY+"string"};const{RDF_LANGSTRING:JY,RDF_PLAIN_LITERAL:XY,RDF_OBJECT:YY,RDF_XML_LITERAL:ZY,XSD_STRING:eZ}=$Y;let tZ;tZ="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};const{clone:rZ}=QY,nZ={};var iZ=nZ;nZ.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},nZ.parse=(e,t)=>{const r={},n=nZ.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=void 0===i[o]?null:i[o];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=nZ.removeDotSegments(r.path),r},nZ.prependBase=(e,t)=>{if(null===e)return t;if(-1!==t.indexOf(":"))return t;TY.isString(e)&&(e=nZ.parse(e||""));const r=nZ.parse(t),n={protocol:e.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,""===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),t.length>0&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,n.path=t}n.query=r.query}""!==r.path&&(n.path=nZ.removeDotSegments(n.path));let i=n.protocol;return null!==n.authority&&(i+="//"+n.authority),i+=n.path,null!==n.query&&(i+="?"+n.query),null!==r.fragment&&(i+="#"+r.fragment),""===i&&(i="./"),i},nZ.removeBase=(e,t)=>{if(null===e)return t;TY.isString(e)&&(e=nZ.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const n=nZ.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),s=n.fragment||n.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let e=0;e<i.length;++e)a+="../"}return a+=o.join("/"),null!==n.query&&(a+="?"+n.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},nZ.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const oZ=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;nZ.isAbsolute=e=>TY.isString(e)&&oZ.test(e),nZ.isRelative=e=>TY.isString(e);const{isArray:sZ,isObject:aZ,isString:cZ,isUndefined:uZ}=TY,{isAbsolute:lZ,isRelative:AZ,prependBase:hZ,parse:fZ}=iZ,{asArray:dZ,compareShortestLeast:pZ}=QY,gZ=new Map,mZ={};var yZ=mZ;function vZ(e,t,r,n,i,o){if(null===t||!cZ(t)||mZ.isKeyword(t))return t;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&mZ.createTermDefinition(e,n,t,i,o),e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext),(r=r||{}).vocab){const r=e.mappings.get(t);if(null===r)return null;if(r)return r["@id"]}const s=t.indexOf(":");if(-1!==s){const r=t.substr(0,s),a=t.substr(s+1);return"_"===r||0===a.indexOf("//")?t:(n&&n.hasOwnProperty(r)&&mZ.createTermDefinition(e,n,r,i,o),e.mappings.has(r)?e.mappings.get(r)["@id"]+a:t)}return r.vocab&&"@vocab"in e?e["@vocab"]+t:r.base?hZ(e["@base"],t):t}function bZ(e,t,r,n){if(sZ(e))for(const i of e)bZ(i,t,r,n);else if(aZ(e))for(const i in e){if("@context"!==i){bZ(e[i],t,r,n);continue}const o=e[i];if(sZ(o)){let e=o.length;for(let i=0;i<e;++i){const s=o[i];if(cZ(s)){const a=hZ(n,s),c=t.get(a);r?sZ(c)?(Array.prototype.splice.apply(o,[i,1].concat(c)),i+=c.length-1,e=o.length):!1!==c&&(o[i]=c):void 0===c&&t.set(a,!1)}else for(const e in s)aZ(s[e])&&bZ(s[e],t,r,n)}}else if(cZ(o)){const s=hZ(n,o),a=t.get(s);r?!1!==a&&(e[i]=a):void 0===a&&t.set(s,!1)}else for(const e in o)aZ(o[e])&&bZ(o[e],t,r,n)}}function wZ(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!wZ(e[r],t[r]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const r in e){let n=e[r],i=t[r];if("@container"===r&&Array.isArray(n)&&Array.isArray(i)&&(n=n.slice().sort(),i=i.slice().sort()),!wZ(n,i))return!1}return!0}mZ.cache=new class{constructor(e=100){this.order=[],this.cache=new Map,this.size=e}get(e,t){const r=this.cache.get(e);if(r){const e=JSON.stringify(t);return r.get(e)||null}return null}set(e,t,r){if(this.order.length===this.size){const e=this.order.shift();this.cache.get(e.activeCtx).delete(e.localCtx)}const n=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:n});let i=this.cache.get(e);i||(i=new Map,this.cache.set(e,i)),i.set(n,rZ(r))}},mZ.process=({activeCtx:e,localCtx:t,options:r,isPropertyTermScopedContext:n=!1,isTypeScopedContext:i=!1})=>{aZ(t)&&"@context"in t&&sZ(t["@context"])&&(t=t["@context"]);const o=dZ(t);if(0===o.length)return e;const s=e.previousContext||e;if(n&&e.previousContext)return(e=e.clone()).isPropertyTermScoped=!0,e.previousContext=mZ.process({activeCtx:e.previousContext,localCtx:o,options:r,isPropertyTermScopedContext:n}),e;let a=e;for(let c=0;c<o.length;++c){let u=o[c];if(e=a,null===u){if(!n&&0!==Object.keys(e.protected).length){const n=r&&r.protectedMode||"error";if("error"===n)throw new NY("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===n){console.warn("WARNING: invalid context nullification");const t=e;a=e=mZ.getInitialContext(r).clone();for(const[r,n]of Object.entries(t.protected))n&&(e.mappings[r]=QY.clone(t.mappings[r]));e.protected=QY.clone(t.protected),mZ.cache&&mZ.cache.set(t,u,a);continue}throw new NY("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:n})}a=e=mZ.getInitialContext(r).clone(),i&&(a.previousContext=s.clone());continue}if(mZ.cache){const t=mZ.cache.get(e,u);if(t){a=e=t;continue}}if(aZ(u)&&"@context"in u&&(u=u["@context"]),!aZ(u))throw new NY("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});a=a.clone();const l=new Map;if("@version"in u){if(1.1!==u["@version"])throw new NY("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new NY("@version: "+u["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});a.processingMode="json-ld-1.1",a["@version"]=u["@version"],l.set("@version",!0)}if(a.processingMode=a.processingMode||e.processingMode||"json-ld-1.0","@base"in u){let t=u["@base"];if(null===t);else if(lZ(t))t=fZ(t);else{if(!AZ(t))throw new NY('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});t=fZ(hZ(e["@base"].href,t))}a["@base"]=t,l.set("@base",!0)}if("@vocab"in u){const e=u["@vocab"];if(null===e)delete a["@vocab"];else{if(!cZ(e))throw new NY('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});if(!lZ(e))throw new NY('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});a["@vocab"]=e}l.set("@vocab",!0)}if("@language"in u){const e=u["@language"];if(null===e)delete a["@language"];else{if(!cZ(e))throw new NY('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});a["@language"]=e.toLowerCase()}l.set("@language",!0)}l.set("@protected",u["@protected"]||!1);for(const e in u)mZ.createTermDefinition(a,u,e,l,r,n);i&&!a.previousContext&&(a.previousContext=s.clone()),mZ.cache&&mZ.cache.set(e,u,a)}return a},mZ.createTermDefinition=(e,t,r,n,i,o=!1)=>{if(n.has(r)){if(n.get(r))return;throw new NY("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n.set(r,!1),mZ.isKeyword(r))throw new NY("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new NY("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const s=e.mappings.get(r);let a;if(e.mappings.has(r)&&e.mappings.delete(r),t.hasOwnProperty(r)&&(a=t[r]),null===a||aZ(a)&&null===a["@id"])return e.mappings.set(r,null),void n.set(r,!0);let c=!1;if(cZ(a)&&(c=!0,a={"@id":a}),!aZ(a))throw new NY("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const l=["@container","@id","@language","@reverse","@type"];mZ.processingMode(e,1.1)&&l.push("@context","@nest","@prefix","@protected");for(const e in a)if(!l.includes(e))throw new NY("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const A=r.indexOf(":");if(u._termHasColon=-1!==A,"@reverse"in a){if("@id"in a)throw new NY("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in a)throw new NY("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const r=a["@reverse"];if(!cZ(r))throw new NY("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});const o=vZ(e,r,{vocab:!0,base:!1},t,n,i);if(!lZ(o))throw new NY("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=o,u.reverse=!0}else if("@id"in a){let o=a["@id"];if(!cZ(o))throw new NY("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(o!==r){if(o=vZ(e,o,{vocab:!0,base:!1},t,n,i),!lZ(o)&&!mZ.isKeyword(o))throw new NY("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=o,u._prefix=!u._termHasColon&&o.match(/[:\/\?#\[\]@]$/)&&(c||mZ.processingMode(e,1))}}if(!("@id"in u))if(u._termHasColon){const o=r.substr(0,A);if(t.hasOwnProperty(o)&&mZ.createTermDefinition(e,t,o,n,i),e.mappings.has(o)){const t=r.substr(A+1);u["@id"]=e.mappings.get(o)["@id"]+t}else u["@id"]=r}else{if(!("@vocab"in e))throw new NY("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((!0===a["@protected"]||!0===n.get("@protected")&&!1!==a["@protected"])&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in a){let r=a["@type"];if(!cZ(r))throw new NY("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==r&&"@vocab"!==r&&"@json"!==r){if(r=vZ(e,r,{vocab:!0,base:!1},t,n,i),!lZ(r))throw new NY("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new NY("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=r}if("@container"in a){const r=cZ(a["@container"])?[a["@container"]]:a["@container"]||[],n=["@list","@set","@index","@language"];let i=!0;const o=r.includes("@set");if(mZ.processingMode(e,1.1))if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new NY("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new NY("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else i&=r.length<=(o?2:1);else i&=!sZ(a["@container"]),i&=r.length<=1;if(i&=r.every((e=>n.includes(e))),i&=!(o&&r.includes("@list")),!i)throw new NY("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!r.every((e=>["@index","@set"].includes(e))))throw new NY("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=r}if("@context"in a&&(u["@context"]=a["@context"]),"@language"in a&&!("@type"in a)){let e=a["@language"];if(null!==e&&!cZ(e))throw new NY("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),u["@language"]=e}if("@prefix"in a){if(u._termHasColon)throw new NY("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof a["@prefix"])throw new NY("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});u._prefix=!0===a["@prefix"]}if("@nest"in a){const e=a["@nest"];if(!cZ(e)||"@nest"!==e&&0===e.indexOf("@"))throw new NY("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=e}
// disallow aliasing @context and @preserve
const h=u["@id"];if("@context"===h||"@preserve"===h)throw new NY("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!wZ(s,u))){const e=i&&i.protectedMode||"error";if("error"===e)throw new NY("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new NY("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},mZ.expandIri=(e,t,r,n)=>vZ(e,t,r,void 0,void 0,n),mZ.getInitialContext=e=>{const t=fZ(e.base||""),r=JSON.stringify({base:t,processingMode:e.processingMode}),n=gZ.get(r);if(n)return n;const i={"@base":t,processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},i=e["@language"]||"@none",a=e.mappings,c=[...a.keys()].sort(pZ);for(const e of c){const o=a.get(e);if(null===o)continue;let c=o["@container"]||"@none";c=[].concat(c).sort().join("");const u=dZ(o["@id"]);for(const a of u){let u=t[a];const l=mZ.isKeyword(a);if(u)l||o._termHasColon||n[a].push(e);else if(t[a]=u={},!l&&!o._termHasColon){n[a]=[e];const t={iri:a,terms:n[a]};a[0]in r?r[a[0]].push(t):r[a[0]]=[t]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],s(e,u["@any"],"@none"),o.reverse)s(e,u["@type"],"@reverse");else if("@type"in o)s(e,u["@type"],o["@type"]);else if("@language"in o){const t=o["@language"]||"@null";s(e,u["@language"],t)}else s(e,u["@language"],i),s(e,u["@type"],"@none"),s(e,u["@language"],"@none")}}for(const e in r)o(r,e,1);return t},clone:function(){const e={};return e["@base"]=this["@base"],e.mappings=QY.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=QY.clone(this.protected),this.previousContext&&(e.isPropertyTermScoped=this.previousContext.isPropertyTermScoped,e.previousContext=this.previousContext.clone()),e.revertTypeScopedContext=this.revertTypeScopedContext,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertTypeScopedContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===gZ.size&&gZ.clear(),gZ.set(r,i),i;function o(e,t,r){const n=e[t],i=e[t]={};let s,a;for(const e of n)s=e.iri,a=r>=s.length?"":s[r],a in i?i[a].push(e):i[a]=[e];for(const e in i)""!==e&&o(i,e,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},mZ.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(uZ(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&e.hasOwnProperty(r)?e[r]:"@context"!==r?null:void 0},mZ.getAllContexts=async(e,t)=>async function(e,t){const r=QY.normalizeDocumentLoader(t.documentLoader);return await async function e(r,n,i){if(n.size>10)throw new NY("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:10});const o=new Map;if(bZ(r,o,!1,t.base),0===o.size)return;const s=[...o.keys()].filter((e=>!1===o.get(e)));return Promise.all(s.map((async s=>{if(n.has(s))throw new NY("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:s});const a=new Set(n);let c,u;a.add(s);try{c=await i(s),u=c.document||null,cZ(u)&&(u=JSON.parse(u))}catch(e){throw new NY("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:s,cause:e})}if(!aZ(u))throw new NY("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:s});u="@context"in u?{"@context":u["@context"]}:{"@context":{}},c.contextUrl&&(sZ(u["@context"])||(u["@context"]=[u["@context"]]),u["@context"].push(c.contextUrl)),await e(u,a,i),o.set(s,u["@context"]),bZ(r,o,!0,t.base)})))}(e,new Set,r),e}(e,t),mZ.processingMode=(e,t)=>t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode,mZ.isKeyword=e=>{if(!cZ(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};const{isArray:xZ,isObject:_Z,isEmptyObject:BZ,isString:EZ,isUndefined:SZ}=TY,{isList:CZ,isValue:IZ,isGraph:kZ}=LY,{expandIri:PZ,getContextValue:TZ,isKeyword:OZ,process:LZ,processingMode:NZ}=yZ,{isAbsolute:UZ}=iZ,{addValue:FZ,asArray:MZ,getValues:RZ,validateTypeValue:DZ}=QY,jZ={};var QZ=jZ;function HZ({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:s,expansionMap:a}){const c=Object.keys(n).sort(),u=[];for(const l of c){let c,A=n[l];if("@context"===l)continue;let h=PZ(e,l,{vocab:!0},o);if((null===h||!UZ(h)&&!OZ(h))&&(h=a({unmappedProperty:l,activeCtx:e,activeProperty:t,parent:n,options:o,insideList:s,value:A,expandedParent:i}),void 0===h))continue;if(OZ(h)){if("@reverse"===r)throw new NY("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:A});if(h in i)throw new NY("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:h})}if("@id"===h){if(!EZ(A)){if(!o.isFrame)throw new NY('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(_Z(A)){if(!BZ(A))throw new NY('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}else{if(!xZ(A))throw new NY('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(!A.every((e=>EZ(e))))throw new NY('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}}FZ(i,"@id",MZ(A).map((t=>EZ(t)?PZ(e,t,{base:!0},o):t)),{propertyIsArray:o.isFrame});continue}if("@type"===h){DZ(A),FZ(i,"@type",MZ(A).map((t=>EZ(t)?PZ(e.previousContext||e,t,{base:!0,vocab:!0},o):t)),{propertyIsArray:o.isFrame});continue}if("@graph"===h&&!_Z(A)&&!xZ(A))throw new NY('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:A});if("@value"===h){FZ(i,"@value",A,{propertyIsArray:o.isFrame});continue}if("@language"===h){if(null===A)continue;if(!EZ(A)&&!o.isFrame)throw new NY('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:A});A=MZ(A).map((e=>EZ(e)?e.toLowerCase():e)),FZ(i,"@language",A,{propertyIsArray:o.isFrame});continue}if("@index"===h){if(!EZ(A))throw new NY('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:A});FZ(i,"@index",A);continue}if("@reverse"===h){if(!_Z(A))throw new NY('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:A});if(c=jZ.expand({activeCtx:e,activeProperty:"@reverse",element:A,options:o,expansionMap:a}),"@reverse"in c)for(const e in c["@reverse"])FZ(i,e,c["@reverse"][e],{propertyIsArray:!0});let t=i["@reverse"]||null;for(const e in c){if("@reverse"===e)continue;null===t&&(t=i["@reverse"]={}),FZ(t,e,[],{propertyIsArray:!0});const r=c[e];for(let n=0;n<r.length;++n){const i=r[n];if(IZ(i)||CZ(i))throw new NY('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:c});FZ(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===h){u.push(l);continue}let f=e;const d=TZ(e,l,"@context");SZ(d)||(f=LZ({activeCtx:e,localCtx:d,isPropertyTermScopedContext:!0,options:o}));const p=TZ(f,l,"@container")||[];if(p.includes("@language")&&_Z(A))c=KZ(f,A,o);else if(p.includes("@index")&&_Z(A)){const e=p.includes("@graph");c=VZ({activeCtx:f,options:o,activeProperty:l,value:A,expansionMap:a,asGraph:e,indexKey:"@index"})}else if(p.includes("@id")&&_Z(A)){const e=p.includes("@graph");c=VZ({activeCtx:f,options:o,activeProperty:l,value:A,expansionMap:a,asGraph:e,indexKey:"@id"})}else if(p.includes("@type")&&_Z(A))c=VZ({activeCtx:f.revertTypeScopedContext(),options:o,activeProperty:l,value:A,expansionMap:a,asGraph:!1,indexKey:"@type"});else{const n="@list"===h;if(n||"@set"===h){let e=t;n&&"@graph"===r&&(e=null),c=jZ.expand({activeCtx:f,activeProperty:e,element:A,options:o,insideList:n,expansionMap:a})}else c="@json"===TZ(e,l,"@type")?{"@type":"@json","@value":A}:jZ.expand({activeCtx:f,activeProperty:l,element:A,options:o,insideList:!1,expansionMap:a})}if(null===c&&"@value"!==h&&(c=a({unmappedValue:A,expandedProperty:h,activeCtx:f,activeProperty:t,parent:n,options:o,insideList:s,key:l,expandedParent:i}),void 0===c))continue;if("@list"!==h&&!CZ(c)&&p.includes("@list")&&(c={"@list":MZ(c)}),p.includes("@graph")&&!p.some((e=>"@id"===e||"@index"===e))&&(c=MZ(c).map((e=>kZ(e)?e:{"@graph":MZ(e)}))),f.mappings.has(l)&&f.mappings.get(l).reverse){const e=i["@reverse"]=i["@reverse"]||{};c=MZ(c);for(let t=0;t<c.length;++t){const r=c[t];if(IZ(r)||CZ(r))throw new NY('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:c});FZ(e,h,r,{propertyIsArray:!0})}continue}const g=!["@index","@id","@type","@value","@language"].includes(h);FZ(i,h,c,{propertyIsArray:g})}if("@value"in n){const t=n["@value"];if("@json"===n["@type"]&&NZ(e,1.1));else if((_Z(t)||xZ(t))&&!o.isFrame)throw new NY('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:t})}for(const c of u){const u=xZ(n[c])?n[c]:[n[c]];for(const n of u){if(!_Z(n)||Object.keys(n).some((t=>"@value"===PZ(e,t,{vocab:!0},o))))throw new NY("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:n});HZ({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o,insideList:s,expansionMap:a})}}}function KZ(e,t,r){const n=[],i=Object.keys(t).sort();for(const o of i){const i=PZ(e,o,{vocab:!0},r);let s=t[o];xZ(s)||(s=[s]);for(const e of s){if(null===e)continue;if(!EZ(e))throw new NY("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const r={"@value":e};"@none"!==i&&(r["@language"]=o.toLowerCase()),n.push(r)}}return n}function VZ({activeCtx:e,options:t,activeProperty:r,value:n,expansionMap:i,asGraph:o,indexKey:s}){const a=[],c=Object.keys(n).sort(),u="@type"===s;for(let l of c){if(u){const r=TZ(e,l,"@context");SZ(r)||(e=LZ({activeCtx:e,localCtx:r,isTypeScopedContext:!0,options:t}))}let c=n[l];xZ(c)||(c=[c]);const A=PZ(e,l,{vocab:!0},t);"@id"===s?l=PZ(e,l,{base:!0},t):u&&(l=A),c=jZ.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0,expansionMap:i});for(let e of c)o&&!kZ(e)&&(e={"@graph":[e]}),"@type"===s?"@none"===A||(e["@type"]?e["@type"]=[l].concat(e["@type"]):e["@type"]=[l]):"@none"===A||s in e||(e[s]=l),a.push(e)}return a}jZ.expand=({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null,expansionMap:a=(()=>{})})=>{if(null==r)return null;if("@default"===t&&(n=Object.assign({},n,{isFrame:!1})),!xZ(r)&&!_Z(r)){if(!i&&(null===t||"@graph"===PZ(e,t,{vocab:!0},n))){const o=a({unmappedValue:r,activeCtx:e,activeProperty:t,options:n,insideList:i});return void 0===o?null:o}return function({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;const i=PZ(e,t,{vocab:!0},n);if("@id"===i)return PZ(e,r,{base:!0},n);if("@type"===i)return PZ(e,r,{vocab:!0,base:!0},n);const o=TZ(e,t,"@type");if(("@id"===o||"@graph"===i)&&EZ(r))return{"@id":PZ(e,r,{base:!0},n)};if("@vocab"===o&&EZ(r))return{"@id":PZ(e,r,{vocab:!0,base:!0},n)};if(OZ(i))return r;const s={};if(o&&!["@id","@vocab"].includes(o))s["@type"]=o;else if(EZ(r)){const r=TZ(e,t,"@language");null!==r&&(s["@language"]=r)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}({activeCtx:e,activeProperty:t,value:r,options:n})}if(xZ(r)){let c=[];const u=TZ(e,t,"@container")||[];i=i||u.includes("@list");for(let u=0;u<r.length;++u){let l=jZ.expand({activeCtx:e,activeProperty:t,element:r[u],options:n,expansionMap:a,insideIndex:o,typeScopedContext:s});i&&xZ(l)&&(l={"@list":l}),null===l&&(l=a({unmappedValue:r[u],activeCtx:e,activeProperty:t,parent:r,index:u,options:n,expandedParent:c,insideList:i}),void 0===l)||(xZ(l)?c=c.concat(l):c.push(l))}return c}const c=PZ(e,t,{vocab:!0},n);s=s||(e.previousContext?e:null);let u=Object.keys(r).sort(),l=!o;if(l&&s&&u.length<=2&&!u.includes("@context"))for(const t of u){const r=PZ(s,t,{vocab:!0},n);if("@value"===r){l=!1,e=s;break}if("@id"===r&&1===u.length){l=!1;break}}l&&(e=e.revertTypeScopedContext()),"@context"in r&&(e=LZ({activeCtx:e,localCtx:r["@context"],options:n}));for(const t of u)if("@type"===PZ(e,t,{vocab:!0},n)){const i=r[t],o=Array.isArray(i)?i.length>1?i.slice().sort():i:[i];for(const t of o){const r=TZ(e.previousContext||e,t,"@context");SZ(r)||(e=LZ({activeCtx:e,localCtx:r,options:n,isTypeScopedContext:!0}))}}let A={};HZ({activeCtx:e,activeProperty:t,expandedActiveProperty:c,element:r,expandedParent:A,options:n,insideList:i,typeScopedContext:s,expansionMap:a}),u=Object.keys(A);let h=u.length;if("@value"in A){if("@type"in A&&"@language"in A)throw new NY('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:A});let o=h-1;if("@type"in A&&(o-=1),"@index"in A&&(o-=1),"@language"in A&&(o-=1),0!==o)throw new NY('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:A});const s=null===A["@value"]?[]:MZ(A["@value"]),c=RZ(A,"@type");if(0===s.length){const o=a({unmappedValue:A,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});A=void 0!==o?o:null}else{if(!s.every((e=>EZ(e)||BZ(e)))&&"@language"in A)throw new NY("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:A});if(NZ(e,1.1)&&c.includes("@json")&&1===c.length);else if(!c.every((e=>UZ(e)&&!(EZ(e)&&0===e.indexOf("_:"))||BZ(e))))throw new NY('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:A})}}else if("@type"in A&&!xZ(A["@type"]))A["@type"]=[A["@type"]];else if("@set"in A||"@list"in A){if(h>1&&(2!==h||!("@index"in A)))throw new NY('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:A});"@set"in A&&(A=A["@set"],u=Object.keys(A),h=u.length)}else if(1===h&&"@language"in A){const o=a(A,{unmappedValue:A,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});A=void 0!==o?o:null}if(_Z(A)&&!n.keepFreeFloatingNodes&&!i&&(null===t||"@graph"===c)&&(0===h||"@value"in A||"@list"in A||1===h&&"@id"in A)){const o=a({unmappedValue:A,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});A=void 0!==o?o:null}return A};const{isKeyword:zZ}=yZ,qZ={};var GZ=qZ;qZ.createMergedNodeMap=(e,t)=>{const r=(t=t||{}).issuer||new QY.IdentifierIssuer("_:b"),n={"@default":{}};return qZ.createNodeMap(e,n,"@default",r),qZ.mergeNodeMaps(n)},qZ.createNodeMap=(e,t,r,n,i,o)=>{if(TY.isArray(e)){for(const i of e)qZ.createNodeMap(i,t,r,n,void 0,o);return}if(!TY.isObject(e))return void(o&&o.push(e));if(LY.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=n.getId(t))}return void(o&&o.push(e))}if(o&&LY.isList(e)){const s=[];return qZ.createNodeMap(e["@list"],t,r,n,i,s),void o.push({"@list":s})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&n.getId(e)}TY.isUndefined(i)&&(i=LY.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const s=t[r],a=s[i]=s[i]||{};a["@id"]=i;const c=Object.keys(e).sort();for(let o of c){if("@id"===o)continue;if("@reverse"===o){const o={"@id":i},a=e["@reverse"];for(const e in a){const i=a[e];for(const a of i){let i=a["@id"];LY.isBlankNode(a)&&(i=n.getId(i)),qZ.createNodeMap(a,t,r,n,i),QY.addValue(s[i],e,o,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){i in t||(t[i]={}),qZ.createNodeMap(e[o],t,i,n);continue}if("@type"!==o&&zZ(o)){if("@index"===o&&o in a&&(e[o]!==a[o]||e[o]["@id"]!==a[o]["@id"]))throw new NY("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[o]=e[o];continue}const c=e[o];if(0===o.indexOf("_:")&&(o=n.getId(o)),0!==c.length)for(let e of c)if("@type"===o&&(e=0===e.indexOf("_:")?n.getId(e):e),LY.isSubject(e)||LY.isSubjectReference(e)){const i=LY.isBlankNode(e)?n.getId(e["@id"]):e["@id"];QY.addValue(a,o,{"@id":i},{propertyIsArray:!0,allowDuplicate:!1}),qZ.createNodeMap(e,t,r,n,i)}else if(LY.isValue(e))QY.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(LY.isList(e)){const s=[];qZ.createNodeMap(e["@list"],t,r,n,i,s),e={"@list":s},QY.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else qZ.createNodeMap(e,t,r,n,i),QY.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1});else QY.addValue(a,o,[],{propertyIsArray:!0})}},qZ.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const e of Object.keys(i).sort())if(zZ(e))o[e]=QY.clone(i[e]);else for(const t of i[e])QY.addValue(o,e,QY.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},qZ.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let i=t[n];i?"@graph"in i||(i["@graph"]=[]):t[n]=i={"@id":n,"@graph":[]};const o=i["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];LY.isSubjectReference(t)||o.push(t)}}return t};const{isSubjectReference:WZ}=LY,{createMergedNodeMap:$Z}=GZ,JZ={};var XZ=JZ;JZ.flatten=e=>{const t=$Z(e),r=[],n=Object.keys(t).sort();for(let e=0;e<n.length;++e){const i=t[n[e]];WZ(i)||r.push(i)}return r};const{RDF_LIST:YZ,RDF_FIRST:ZZ,RDF_REST:e0,RDF_NIL:t0,RDF_TYPE:r0,RDF_JSON_LITERAL:n0,XSD_BOOLEAN:i0,XSD_DOUBLE:o0,XSD_INTEGER:s0,XSD_STRING:a0}=$Y,c0={};var u0=c0;function l0(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};const r={"@value":e.value};if(e.language)r["@language"]=e.language;else{let n=e.datatype.value;if(n||(n=a0),n===n0){n="@json";try{r["@value"]=JSON.parse(r["@value"])}catch(e){throw new NY("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:r["@value"],cause:e})}}if(t){if(n===i0)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(TY.isNumeric(r["@value"]))if(n===s0){const e=parseInt(r["@value"],10);e.toFixed(0)===r["@value"]&&(r["@value"]=e)}else n===o0&&(r["@value"]=parseFloat(r["@value"]));[i0,s0,o0,a0].includes(n)||(r["@type"]=n)}else n!==a0&&(r["@type"]=n)}return r}c0.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1})=>{const n={},i={"@default":n},o={};for(const s of e){const e="DefaultGraph"===s.graph.termType?"@default":s.graph.value;e in i||(i[e]={}),"@default"===e||e in n||(n[e]={"@id":e});const a=i[e],c=s.subject.value,u=s.predicate.value,l=s.object;c in a||(a[c]={"@id":c});const A=a[c],h=l.termType.endsWith("Node");if(h&&!(l.value in a)&&(a[l.value]={"@id":l.value}),u===r0&&!t&&h){QY.addValue(A,"@type",l.value,{propertyIsArray:!0});continue}const f=l0(l,r);if(QY.addValue(A,u,f,{propertyIsArray:!0}),h)if(l.value===t0){const e=a[l.value];"usages"in e||(e.usages=[]),e.usages.push({node:A,property:u,value:f})}else l.value in o?o[l.value]=!1:o[l.value]={node:A,property:u,value:f}}for(const e in i){const t=i[e];if(!(t0 in t))continue;const r=t[t0];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,i=e.value;const s=[],a=[];let c=Object.keys(r).length;for(;n===e0&&TY.isObject(o[r["@id"]])&&TY.isArray(r[ZZ])&&1===r[ZZ].length&&TY.isArray(r[e0])&&1===r[e0].length&&(3===c||4===c&&TY.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===YZ)&&(s.push(r[ZZ][0]),a.push(r["@id"]),e=o[r["@id"]],r=e.node,n=e.property,i=e.value,c=Object.keys(r).length,LY.isBlankNode(r)););delete i["@id"],i["@list"]=s.reverse();for(const e of a)delete t[e]}delete r.usages}}const s=[],a=Object.keys(n).sort();for(const e of a){const t=n[e];if(e in i){const r=t["@graph"]=[],n=i[e],o=Object.keys(n).sort();for(const e of o){const t=n[e];LY.isSubjectReference(t)||r.push(t)}}LY.isSubjectReference(t)||s.push(t)}return s};var A0=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r)),"")+"]":"{"+Object.keys(t).sort().reduce(((r,n,i)=>void 0===t[n]||"symbol"==typeof t[n]?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])),"")+"}"};const{createNodeMap:h0}=GZ,{isKeyword:f0}=yZ,{RDF_FIRST:d0,RDF_REST:p0,RDF_NIL:g0,RDF_TYPE:m0,RDF_JSON_LITERAL:y0,RDF_LANGSTRING:v0,XSD_BOOLEAN:b0,XSD_DOUBLE:w0,XSD_INTEGER:x0,XSD_STRING:_0}=$Y,{isAbsolute:B0}=iZ,E0={};var S0=E0;function C0(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const o=t[s],a=Object.keys(o).sort();for(let t of a){const a=o[t];if("@type"===t)t=m0;else if(f0(t))continue;for(const o of a){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!B0(s))continue;const c={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!B0(t))continue;if("BlankNode"===c.termType&&!i.produceGeneralizedRdf)continue;const u=I0(o,n,e,r);u&&e.push({subject:a,predicate:c,object:u,graph:r})}}}}function I0(e,t,r,n){const i={};if(LY.isValue(e)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;"@json"===r?(i.value=A0(t),i.datatype.value=y0):TY.isBoolean(t)?(i.value=t.toString(),i.datatype.value=r||b0):TY.isDouble(t)||r===w0?(TY.isDouble(t)||(t=parseFloat(t)),i.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=r||w0):TY.isNumber(t)?(i.value=t.toFixed(0),i.datatype.value=r||x0):"@language"in e?(i.value=t,i.datatype.value=r||v0,i.language=e["@language"]):(i.value=t,i.datatype.value=r||_0)}else if(LY.isList(e)){const o=function(e,t,r,n){const i={termType:"NamedNode",value:d0},o={termType:"NamedNode",value:p0},s={termType:"NamedNode",value:g0},a=e.pop(),c=a?{termType:"BlankNode",value:t.getId()}:s;let u=c;for(const s of e){const e=I0(s,t,r,n),a={termType:"BlankNode",value:t.getId()};r.push({subject:u,predicate:i,object:e,graph:n}),r.push({subject:u,predicate:o,object:a,graph:n}),u=a}if(a){const e=I0(a,t,r,n);r.push({subject:u,predicate:i,object:e,graph:n}),r.push({subject:u,predicate:o,object:s,graph:n})}return c}(e["@list"],t,r,n);i.termType=o.termType,i.value=o.value}else{const t=TY.isObject(e)?e["@id"]:e;i.termType=t.startsWith("_:")?"BlankNode":"NamedNode",i.value=t}return"NamedNode"!==i.termType||B0(i.value)?i:null}E0.toRDF=(e,t)=>{const r=new QY.IdentifierIssuer("_:b"),n={"@default":{}};h0(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const e of o){let o;if("@default"===e)o={termType:"DefaultGraph",value:""};else{if(!B0(e))continue;o=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},o.value=e}C0(i,n[e],o,r,t)}return i};const{isKeyword:k0}=yZ,{createNodeMap:P0,mergeNodeMapGraphs:T0}=GZ,O0={};var L0=O0;function N0(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function U0(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function F0(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function M0(e){if(!TY.isArray(e)||1!==e.length||!TY.isObject(e[0]))throw new NY("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function R0(e,t,r,n){let i=!0,o=!1;for(const s in r){let a=!1;const c=QY.getValues(t,s),u=0===QY.getValues(r,s).length;if(k0(s)){if("@id"!==s&&"@type"!==s)continue;if(i=!1,"@id"===s){if(r["@id"].length>=0&&!TY.isEmptyObject(r["@id"][0]))return r["@id"].includes(c[0]);a=!0;continue}if("@type"in r)if(u){if(c.length>0)return!1;a=!0}else{if(1!==r["@type"].length||!TY.isEmptyObject(r["@type"][0])){for(const e of r["@type"])if(c.some((t=>t===e)))return!0;return!1}a=c.length>0}}const l=QY.getValues(r,s)[0];let A=!1;if(l&&(M0([l]),A="@default"in l),i=!1,0!==c.length||!A){if(c.length>0&&u)return!1;if(void 0===l){if(c.length>0)return!1;a=!0}else if(TY.isObject(l))a=c.length>0;else if(LY.isValue(l))a=c.some((e=>H0(l,e)));else if(LY.isSubject(l)||LY.isSubjectReference(l))a=c.some((t=>Q0(e,l,t,n)));else if(LY.isList(l)){const t=l["@list"][0];if(LY.isList(c[0])){const r=c[0]["@list"];LY.isValue(t)?a=r.some((e=>H0(t,e))):(LY.isSubject(t)||LY.isSubjectReference(t))&&(a=r.some((r=>Q0(e,t,r,n))))}else a=!1}if(!a&&n.requireAll)return!1;o=o||a}}return i||o}function D0(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,s={"@id":t};if(TY.isArray(i)){for(let e=0;e<i.length;++e)if(QY.compareValues(i[e],s)){i[e]=s;break}}else{const e=TY.isArray(i[o]);QY.removeValue(i,o,s,{propertyIsArray:e}),QY.addValue(i,o,s,{propertyIsArray:e})}const a=e=>{const t=Object.keys(r);for(const n of t)n in r&&TY.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],a(n))};a(t)}function j0(e,t,r){TY.isObject(e)?QY.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function Q0(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&R0(e,i,t,n)}function H0(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?TY.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?TY.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?TY.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===s.length&&0===a.length||!(!o.includes(r)&&!TY.isEmptyObject(o[0]))&&!!(!n&&0===s.length||s.includes(n)||n&&TY.isEmptyObject(s[0]))&&!!(!i&&0===a.length||a.includes(i)||i&&TY.isEmptyObject(a[0]))}O0.frameMergedOrDefault=(e,t,r)=>{const n={options:r,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new QY.IdentifierIssuer("_:b");P0(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=T0(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return O0.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((e=>1===n.bnodeMap[e].length))),o},O0.frame=(e,t,r,n,i=null)=>{M0(r),r=r[0];const o=e.options,s={embed:F0(r,o,"embed"),explicit:F0(r,o,"explicit"),requireAll:F0(r,o,"requireAll")},a=function(e,t,r,n){const i={};for(const o of t){const t=e.graphMap[e.graph][o];R0(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,s),c=Object.keys(a).sort();for(const t of c){const c=a[t];if("@link"===s.embed&&t in e.link){j0(n,i,e.link[t]);continue}null===i?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};const u={};if(u["@id"]=t,0===t.indexOf("_:")&&QY.addValue(e.bnodeMap,t,u,{propertyIsArray:!0}),e.link[t]=u,"@never"===s.embed||U0(c,e.graph,e.subjectStack))j0(n,i,u);else{if("@last"===s.embed&&(t in e.uniqueEmbeds[e.graph]&&D0(e,t),e.uniqueEmbeds[e.graph][t]={parent:n,property:i}),e.subjectStack.push({subject:c,graph:e.graph}),t in e.graphMap){let n=!1,i=null;"@graph"in r?(i=r["@graph"][0],TY.isObject(i)||(i={}),n=!("@merged"===t||"@default"===t)):(n="@merged"!==e.graph,i={}),n&&(e.graphStack.push(e.graph),e.graph=t,O0.frame(e,Object.keys(e.graphMap[t]).sort(),[i],u,"@graph"),e.graph=e.graphStack.pop)}for(const t of Object.keys(c).sort())if(k0(t)){if(u[t]=QY.clone(c[t]),"@type"===t)for(const t of c["@type"])0===t.indexOf("_:")&&QY.addValue(e.bnodeMap,t,u,{propertyIsArray:!0})}else if(!s.explicit||t in r)for(let n of c[t]){const i=t in r?r[t]:N0(s);if(LY.isList(n)){const i={"@list":[]};j0(u,t,i);const o=n["@list"];for(const a in o)if(n=o[a],LY.isSubjectReference(n)){const o=t in r?r[t][0]["@list"]:N0(s);O0.frame(e,[n["@id"]],o,i,"@list")}else j0(i,"@list",QY.clone(n))}else LY.isSubjectReference(n)?O0.frame(e,[n["@id"]],i,u,t):H0(i[0],n)&&j0(u,t,QY.clone(n))}for(const e of Object.keys(r).sort()){if(k0(e))continue;const t=r[e][0]||{};if(!F0(t,o,"omitDefault")&&!(e in u)){let r="@null";"@default"in t&&(r=QY.clone(t["@default"])),TY.isArray(r)||(r=[r]),u[e]=[{"@preserve":r}]}}if("@reverse"in r)for(const n of Object.keys(r["@reverse"]).sort()){const o=r["@reverse"][n];for(const r of Object.keys(e.subjects))QY.getValues(e.subjects[r],n).some((e=>e["@id"]===t))&&(u["@reverse"]=u["@reverse"]||{},QY.addValue(u["@reverse"],n,[],{propertyIsArray:!0}),O0.frame(e,[r],o,u["@reverse"][n],i))}j0(n,i,u),e.subjectStack.pop()}}};const{isArray:K0,isObject:V0,isString:z0,isUndefined:q0}=TY,{isList:G0,isValue:W0,isGraph:$0,isSimpleGraph:J0,isSubjectReference:X0}=LY,{expandIri:Y0,getContextValue:Z0,isKeyword:e1,process:t1}=yZ,{removeBase:r1}=iZ,{addValue:n1,asArray:i1,compareShortestLeast:o1}=QY,s1={};var a1=s1;function c1(e,t,r){if("@nest"!==Y0(e,t,{vocab:!0},r))throw new NY("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}s1.compact=({activeCtx:e,activeProperty:t=null,element:r,options:n={},compactionMap:i=(()=>{})})=>{if(K0(r)){let o=[];for(let s=0;s<r.length;++s){let a=s1.compact({activeCtx:e,activeProperty:t,element:r[s],options:n,compactionMap:i});null===a&&(a=i({unmappedValue:r[s],activeCtx:e,activeProperty:t,parent:r,index:s,options:n}),void 0===a)||o.push(a)}return n.compactArrays&&1===o.length&&0===(Z0(e,t,"@container")||[]).length&&(o=o[0]),o}const o=Z0(e,t,"@context");if(q0(o)||(e=t1({activeCtx:e,localCtx:o,isPropertyTermScopedContext:!0,options:n})),V0(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const e=n.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(W0(r)||X0(r)){const i=s1.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&X0(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:i})),i}if(G0(r)&&(Z0(e,t,"@container")||[]).includes("@list"))return s1.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n,compactionMap:i});const o="@reverse"===t,s={};e=e.revertTypeScopedContext(),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:s}));let a=r["@type"]||[];a.length>1&&(a=Array.from(a).sort());const c=e;for(const t of a){const r=s1.compactIri({activeCtx:c,iri:t,relativeTo:{vocab:!0}}),i=Z0(c,r,"@context");q0(i)||(e=t1({activeCtx:e,localCtx:i,options:n,isTypeScopedContext:!0}))}const u=Object.keys(r).sort();for(const a of u){const c=r[a];if("@id"!==a&&"@type"!==a)if("@reverse"!==a)if("@preserve"!==a)if("@index"!==a)if("@graph"!==a&&"@list"!==a&&e1(a)){const t=s1.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});n1(s,t,c)}else{if(!K0(c))throw new NY("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===c.length){const t=s1.compactIri({activeCtx:e,iri:a,value:c,relativeTo:{vocab:!0},reverse:o}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let i=s;r&&(c1(e,r,n),V0(s[r])||(s[r]={}),i=s[r]),n1(i,t,c,{propertyIsArray:!0})}for(const t of c){const r=s1.compactIri({activeCtx:e,iri:a,value:t,relativeTo:{vocab:!0},reverse:o}),c=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let u=s;c&&(c1(e,c,n),V0(s[c])||(s[c]={}),u=s[c]);const l=Z0(e,r,"@container")||[],A=$0(t),h=G0(t);let f;h?f=t["@list"]:A&&(f=t["@graph"]);let d=s1.compact({activeCtx:e,activeProperty:r,element:h||A?f:t,options:n,compactionMap:i});if(h){if(K0(d)||(d=[d]),l.includes("@list")){n1(u,r,d,{valueIsArray:!0,allowDuplicate:!0});continue}d={[s1.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:d},"@index"in t&&(d[s1.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(A)if(l.includes("@graph")&&(l.includes("@id")||l.includes("@index")&&J0(t))){let i;u.hasOwnProperty(r)?i=u[r]:u[r]=i={};const o=(l.includes("@id")?t["@id"]:t["@index"])||s1.compactIri({activeCtx:e,iri:"@none",vocab:!0});n1(i,o,d,{propertyIsArray:!n.compactArrays||l.includes("@set")})}else l.includes("@graph")&&J0(t)||(K0(d)&&1===d.length&&n.compactArrays&&(d=d[0]),d={[s1.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:d},"@id"in t&&(d[s1.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(d[s1.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])),n1(u,r,d,{propertyIsArray:!n.compactArrays||l.includes("@set")});else if(l.includes("@language")||l.includes("@index")||l.includes("@id")||l.includes("@type")){let n,i;if(u.hasOwnProperty(r)?n=u[r]:u[r]=n={},l.includes("@language"))W0(d)&&(d=d["@value"]),i=t["@language"];else if(l.includes("@index"))i=t["@index"];else if(l.includes("@id")){const t=s1.compactIri({activeCtx:e,iri:"@id",vocab:!0});i=d[t],delete d[t]}else if(l.includes("@type")){const t=s1.compactIri({activeCtx:e,iri:"@type",vocab:!0});let r;switch([i,...r]=i1(d[t]||[]),r.length){case 0:delete d[t];break;case 1:d[t]=r[0];break;default:d[t]=r}}i||(i=s1.compactIri({activeCtx:e,iri:"@none",vocab:!0})),n1(n,i,d,{propertyIsArray:l.includes("@set")})}else{const e=!n.compactArrays||l.includes("@set")||l.includes("@list")||K0(d)&&0===d.length||"@list"===a||"@graph"===a;n1(u,r,d,{propertyIsArray:e})}}}else{if((Z0(e,t,"@container")||[]).includes("@index"))continue;const r=s1.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});n1(s,r,c)}else{const r=s1.compact({activeCtx:e,activeProperty:t,element:c,options:n,compactionMap:i});K0(r)&&0===r.length||n1(s,a,r)}else{const t=s1.compact({activeCtx:e,activeProperty:"@reverse",element:c,options:n,compactionMap:i});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const i=t[r],o=(Z0(e,r,"@container")||[]).includes("@set")||!n.compactArrays;n1(s,r,i,{propertyIsArray:o}),delete t[r]}if(Object.keys(t).length>0){const r=s1.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});n1(s,r,t)}}else{const t="@type"===a,r=t&&e.previousContext||e;let n=i1(c).map((e=>s1.compactIri({activeCtx:r,iri:e,relativeTo:{vocab:t}})));1===n.length&&(n=n[0]);const i=s1.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}}),o=K0(n)&&0===c.length;n1(s,i,n,{propertyIsArray:o})}}return s}return r},s1.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const o=e.getInverse();if(e1(t)&&t in o&&"@none"in o[t]&&"@type"in o[t]["@none"]&&"@none"in o[t]["@none"]["@type"])return o[t]["@none"]["@type"]["@none"];if(n.vocab&&t in o){const n=e["@language"]||"@none",o=[];V0(r)&&"@index"in r&&!("@graph"in r)&&o.push("@index","@index@set"),V0(r)&&"@preserve"in r&&(r=r["@preserve"][0]),$0(r)?("@index"in r&&o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&o.push("@graph@id","@graph@id@set"),o.push("@graph","@graph@set","@set"),"@index"in r||o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||o.push("@graph@id","@graph@id@set")):V0(r)&&!W0(r)&&o.push("@id","@id@set","@type","@set@type");let s="@language",a="@null";if(i)s="@type",a="@reverse",o.push("@set");else if(G0(r)){"@index"in r||o.push("@list");const e=r["@list"];if(0===e.length)s="@any",a="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",s="@none";if(W0(i)?"@language"in i?o=i["@language"]:"@type"in i?s=i["@type"]:o="@null":s="@id",null===t?t=o:o!==t&&W0(i)&&(t="@none"),null===r?r=s:s!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(s="@type",a=r):a=t}}else W0(r)?"@language"in r&&!("@index"in r)?(o.push("@language","@language@set"),a=r["@language"]):"@type"in r&&(s="@type",a=r["@type"]):(s="@type",a="@id"),o.push("@set");o.push("@none"),V0(r)&&!("@index"in r)&&o.push("@index","@index@set"),W0(r)&&1===Object.keys(r).length&&o.push("@language","@language@set");const c=function(e,t,r,n,i,o){null===o&&(o="@null");const s=[];if("@id"!==o&&"@reverse"!==o||!X0(r))s.push(o);else{"@reverse"===o&&s.push("@reverse");const t=s1.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}s.push("@none");const a=e.inverse[t];for(let e=0;e<n.length;++e){const t=n[e];if(!(t in a))continue;const r=a[t][i];for(let e=0;e<s.length;++e){const t=s[e];if(t in r)return r[t]}}return null}(e,t,r,o,s,a);if(null!==c)return c}if(n.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let s=null;const a=[];let c=e.fastCurieMap;const u=t.length-1;for(let e=0;e<u&&t[e]in c;++e)c=c[t[e]],""in c&&a.push(c[""][0]);for(let n=a.length-1;n>=0;--n){const i=a[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t)&&(null===s||o1(o,s)<0)&&(s=o)}}return null!==s?s:n.vocab?t:r1(e["@base"],t)},s1.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(W0(r)){const n=Z0(e,t,"@type"),i=Z0(e,t,"@language"),o=Z0(e,t,"@container")||[],s="@index"in r&&!o.includes("@index");if(!s&&(r["@type"]===n||r["@language"]===i))return r["@value"];const a=Object.keys(r).length,c=1===a||2===a&&"@index"in r&&!s,u="@language"in e,l=z0(r["@value"]),A=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(c&&(!u||!l||A))return r["@value"];const h={};return s&&(h[s1.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?h[s1.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=s1.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(h[s1.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),h[s1.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],h}const i=Y0(e,t,{vocab:!0},n),o=Z0(e,t,"@type"),s=s1.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o}});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[s1.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}},
/**
   * Removes the @preserve keywords as the last step of the compaction
   * algorithm when it is running on framed output.
   *
   * @param ctx the active context used to compact the input.
   * @param input the framed, compacted output.
   * @param options the compaction options used.
   *
   * @return the resulting output.
   */
s1.removePreserve=(e,t,r)=>{if(K0(t)){const n=[];for(let i=0;i<t.length;++i){const o=s1.removePreserve(e,t[i],r);null!==o&&n.push(o)}t=n}else if(V0(t)){
// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(W0(t))return t;if(G0(t))return t["@list"]=s1.removePreserve(e,t["@list"],r),t;const n=s1.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(t.hasOwnProperty(n)){const e=t[n];if(r.link.hasOwnProperty(e)){const n=r.link[e].indexOf(t);if(-1!==n)return r.link[e][n];r.link[e].push(t)}else r.link[e]=[t]}const i=s1.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(const o in t){if(o===n&&r.bnodesToClear.includes(t[o])){delete t[n];continue}let s=s1.removePreserve(e,t[o],r);const a=Z0(e,o,"@container")||[];r.compactArrays&&K0(s)&&1===s.length&&0===a.length&&o!==i&&(s=s[0]),t[o]=s}}return t};const{callbackify:u1,normalizeDocumentLoader:l1}=QY;var A1=class{constructor(){this._requests={},this.add=u1(this.add.bind(this))}wrapLoader(e){const t=this;return t._loader=l1(e),function(){return t.add.apply(t,arguments)}}async add(e){const t=this;let r=t._requests[e];if(r)return Promise.resolve(r);r=t._requests[e]=t._loader(e);try{return await r}finally{delete t._requests[e]}}};const{parseLinkHeader:h1,buildHeaders:f1}=QY,{LINK_HEADER_REL:d1}=$Y;var p1=({secure:e,strictSSL:t=!0,maxRedirects:r=-1,request:n,headers:i={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{i=f1(i),n=n||SY;const o=SY;return(new A1).wrapLoader((function(e){return s(e,[])}));async function s(a,c){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new NY('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new NY('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let u,l=null;if(null!==l)return l;try{u=await function(e,t){return new Promise(((r,n)=>{e(t,((e,t,i)=>{e?n(e):r({res:t,body:i})}))}))}(n,{url:a,headers:i,strictSSL:t,followRedirect:!1})}catch(e){throw new NY("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:e})}const{res:A,body:h}=u;l={contextUrl:null,documentUrl:a,document:h||null};const f=o.STATUS_CODES[A.statusCode];if(A.statusCode>=400)throw new NY("URL could not be dereferenced: "+f,"jsonld.InvalidUrl",{code:"loading document failed",url:a,httpStatusCode:A.statusCode});if(A.headers.link&&"application/ld+json"!==A.headers["content-type"]){const e=h1(A.headers.link)[d1];if(Array.isArray(e))throw new NY("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});e&&(l.contextUrl=e.target)}if(A.statusCode>=300&&A.statusCode<400&&A.headers.location){if(c.length===r)throw new NY("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:a,httpStatusCode:A.statusCode,redirects:c});if(-1!==c.indexOf(a))throw new NY("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:a,httpStatusCode:A.statusCode,redirects:c});return c.push(a),s(A.headers.location,c)}return c.push(a),l}};const{parseLinkHeader:g1,buildHeaders:m1}=QY,{LINK_HEADER_REL:y1}=$Y,v1=/(^|(\r\n))link:/i;var b1=({secure:e,headers:t={},xhr:r}={headers:{}})=>(t=m1(t),(new A1).wrapLoader((async function(n){if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))throw new NY('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n});if(e&&0!==n.indexOf("https"))throw new NY('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n});let i;try{i=await function(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise(((e,i)=>{n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()}))}(r,n,t)}catch(e){throw new NY("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:e})}if(i.status>=400)throw new NY("URL could not be dereferenced: "+i.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:i.status});const o={contextUrl:null,documentUrl:n,document:i.response},s=i.getResponseHeader("Content-Type");let a;if(v1.test(i.getAllResponseHeaders())&&(a=i.getResponseHeader("Link")),a&&"application/ld+json"!==s){if(a=g1(a)[y1],Array.isArray(a))throw new NY("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n});a&&(o.contextUrl=a.target)}return o})));
/**
   * A JavaScript implementation of the JSON-LD API.
   *
   * @author Dave Longley
   *
   * @license BSD 3-Clause License
   * Copyright (c) 2011-2017 Digital Bazaar, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * Redistributions in binary form must reproduce the above copyright
   * notice, this list of conditions and the following disclaimer in the
   * documentation and/or other materials provided with the distribution.
   *
   * Neither the name of the Digital Bazaar, Inc. nor the names of its
   * contributors may be used to endorse or promote products derived from
   * this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
   * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
   * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */const w1=QY.IdentifierIssuer,{expand:x1}=QZ,{flatten:_1}=XZ,{fromRDF:B1}=u0,{toRDF:E1}=S0,{frameMergedOrDefault:S1}=L0,{isArray:C1,isObject:I1,isString:k1}=TY,{isSubjectReference:P1}=LY,{getInitialContext:T1,process:O1,getAllContexts:L1}=yZ,{compact:N1,compactIri:U1,removePreserve:F1}=a1,{createNodeMap:M1,createMergedNodeMap:R1,mergeNodeMaps:D1}=GZ,j1=void 0!==RW&&RW.versions&&RW.versions.node,Q1=!j1&&("undefined"!=typeof window||"undefined"!=typeof self),H1=function(e){const t={};function r(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=QY.callbackify((async function(t,n,i){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new NY("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(i=r(i,{base:k1(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new w1("_:b")})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,o=i.skipExpansion?t:await e.expand(t,i);const s=await e.processContext(T1(i),n,i);let a=N1({activeCtx:s,element:o,options:i,compactionMap:i.compactionMap});i.compactArrays&&!i.graph&&C1(a)?1===a.length?a=a[0]:0===a.length&&(a={}):i.graph&&I1(a)&&(a=[a]),I1(n)&&"@context"in n&&(n=n["@context"]),n=QY.clone(n),C1(n)||(n=[n]);const c=n;n=[];for(let e=0;e<c.length;++e)(!I1(c[e])||Object.keys(c[e]).length>0)&&n.push(c[e]);const u=n.length>0;if(1===n.length&&(n=n[0]),C1(a)){const e=U1({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}}),t=a;a={},u&&(a["@context"]=n),a[e]=t}else if(I1(a)&&u){const e=a;a={"@context":n};for(const t in e)a[t]=e[t]}if(i.framing){const e=U1({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}});
// remove @preserve from results
i.link={},a[e]=F1(s,a[e],i)}return a})),e.expand=QY.callbackify((async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=r(n,{keepFreeFloatingNodes:!1})).expansionMap&&(n.expansionMap=void 0);const i={},o=[];if("expandContext"in n){const e=QY.clone(n.expandContext);I1(e)&&"@context"in e?i.expandContext=e:i.expandContext={"@context":e},o.push(i.expandContext)}let s;if(k1(t)){const r=await e.get(t,n);s=r.documentUrl,i.input=r.document,r.contextUrl&&(i.remoteContext={"@context":r.contextUrl},o.push(i.remoteContext))}else i.input=QY.clone(t);"base"in n||(n.base=s||""),await L1(i,n);let a=T1(n);o.forEach((e=>{a=O1({activeCtx:a,localCtx:e,options:n})}));let c=x1({activeCtx:a,element:i.input,options:n,expansionMap:n.expansionMap});return I1(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),C1(c)||(c=[c]),c})),e.flatten=QY.callbackify((async function(t,n,i){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,i=r(i,{base:k1(t)?t:""});const o=await e.expand(t,i),s=_1(o);if(null===n)return s;i.graph=!0,i.skipExpansion=!0;const a=await e.compact(s,n,i);return a})),e.frame=QY.callbackify((async function(t,n,i){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(i=r(i,{base:k1(t)?t:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),k1(n)){const t=await e.get(n,i);if(n=t.document,t.contextUrl){let e=n["@context"];e?C1(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const o=n&&n["@context"]||{},s=await e.expand(t,i),a=QY.clone(i);a.isFrame=!0,a.keepFreeFloatingNodes=!0;const c=await e.expand(n,a);a.merged=!("@graph"in n);const u=S1(s,c,a);a.graph=!0,a.skipExpansion=!0,a.link={},a.framing=!0;const l=await e.compact(u,o,a);return l})),e.link=QY.callbackify((async function(t,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)})),e.normalize=e.canonize=QY.callbackify((async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=r(n,{base:k1(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new NY("Unknown canonicalization input format.","jsonld.CanonizeError");const e=qY.parse(t);return kY.canonize(e,n)}const i=QY.clone(n);delete i.format,i.produceGeneralizedRdf=!1;const o=await e.toRDF(t,i);return kY.canonize(o,n)})),e.fromRDF=QY.callbackify((async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=r(n,{format:k1(e)?"application/n-quads":void 0});const{format:i}=n;let o,{rdfParser:s}=n;if(i){if(s=s||t[i],!s)throw new NY("Unknown input format.","jsonld.UnknownFormat",{format:i})}else s=()=>e;return o=s.length>1?new Promise(((t,r)=>{s(e,((e,n)=>{e?r(e):t(n)}))})):Promise.resolve(s(e)),o=await o,Array.isArray(o)||(o=qY.legacyDatasetToQuads(o)),B1(o,n)})),e.toRDF=QY.callbackify((async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let i;i=(n=r(n,{base:k1(t)?t:"",skipExpansion:!1})).skipExpansion?t:await e.expand(t,n);const o=E1(i,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return await qY.serialize(o);throw new NY("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return o})),e.createNodeMap=QY.callbackify((async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=r(n,{base:k1(t)?t:""});const i=await e.expand(t,n);return R1(i,n)})),e.merge=QY.callbackify((async function(t,n,i){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!C1(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,i=r(i,{});const o=await Promise.all(t.map((t=>{const r=Object.assign({},i);return e.expand(t,r)})));let s=!0;"mergeNodes"in i&&(s=i.mergeNodes);const a=i.issuer||new w1("_:b"),c={"@default":{}};for(let e=0;e<o.length;++e){const t=QY.relabelBlankNodes(o[e],{issuer:new w1("_:b"+e+"-")}),r=s||0===e?c:{"@default":{}};if(M1(t,r,"@default",a),r!==c)for(const e in r){const t=r[e];if(!(e in c)){c[e]=t;continue}const n=c[e];for(const e in t)e in n||(n[e]=t[e])}}const u=D1(c),l=[],A=Object.keys(u).sort();for(let e=0;e<A.length;++e){const t=u[A[e]];P1(t)||l.push(t)}if(null===n)return l;i.graph=!0,i.skipExpansion=!0;const h=await e.compact(l,n,i);return h})),Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=QY.normalizeDocumentLoader(t)}),e.documentLoader=async e=>{throw new NY("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.loadDocument=QY.callbackify((async function(){return e.documentLoader.apply(null,arguments)})),e.get=QY.callbackify((async function(t,r){let n;n="function"==typeof r.documentLoader?QY.normalizeDocumentLoader(r.documentLoader):e.documentLoader;const i=await n(t);try{if(!i.document)throw new NY("No remote document found at the given URL.","jsonld.NullRemoteDocument");k1(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new NY("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i})),e.processContext=QY.callbackify((async function(e,t,n){if(n=r(n,{base:""}),null===t)return T1(n);t=QY.clone(t),I1(t)&&"@context"in t||(t={"@context":t});const i=await L1(t,n);return O1({activeCtx:e,localCtx:i,options:n})})),e.getContextValue=yZ.getContextValue,e.documentLoaders={},e.documentLoaders.node=p1,e.documentLoaders.xhr=b1,e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new NY('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",qY.parse),e.registerRDFParser("application/nquads",qY.parse),e.registerRDFParser("rdfa-api",class{parse(e){const t={"@default":[]},r=e.getSubjects();for(let n=0;n<r.length;++n){const i=r[n];if(null===i)continue;const o=e.getSubjectTriples(i);if(null===o)continue;const s=o.predicates;for(const e in s){const r=s[e].objects;for(let n=0;n<r.length;++n){const o=r[n],s={};0===i.indexOf("_:")?s.subject={type:"blank node",value:i}:s.subject={type:"IRI",value:i},0===e.indexOf("_:")?s.predicate={type:"blank node",value:e}:s.predicate={type:"IRI",value:e};let a=o.value;if(o.type===ZY){const e=new("undefined"==typeof XMLSerializer?SY.XMLSerializer:XMLSerializer);a="";for(let t=0;t<o.value.length;t++)o.value[t].nodeType===tZ.ELEMENT_NODE?a+=e.serializeToString(o.value[t]):o.value[t].nodeType===tZ.TEXT_NODE&&(a+=o.value[t].nodeValue)}s.object={},o.type===YY?0===o.value.indexOf("_:")?s.object.type="blank node":s.object.type="IRI":(s.object.type="literal",o.type===XY?o.language?(s.object.datatype=JY,s.object.language=o.language):s.object.datatype=eZ:s.object.datatype=o.type),s.object.value=a,t["@default"].push(s)}}}return t}}.parse),e.url=iZ,e.util=QY,Object.assign(e,QY),e.promises=e,e.RequestQueue=A1,e.JsonLdProcessor=(e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t})(e),Q1&&void 0===sG.JsonLdProcessor&&Object.defineProperty(sG,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),j1?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},K1=function(){return H1((function(){return K1()}))};H1(K1);var V1=K1;const z1={};var q1=z1;z1.isArray=Array.isArray,z1.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),z1.isDouble=e=>z1.isNumber(e)&&-1!==String(e).indexOf("."),z1.isEmptyObject=e=>z1.isObject(e)&&0===Object.keys(e).length,z1.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),z1.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),z1.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),z1.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),z1.isUndefined=e=>void 0===e;const G1={};var W1=G1;G1.isSubject=e=>!(!q1.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),G1.isSubjectReference=e=>q1.isObject(e)&&1===Object.keys(e).length&&"@id"in e,G1.isValue=e=>q1.isObject(e)&&"@value"in e,G1.isList=e=>q1.isObject(e)&&"@list"in e,G1.isGraph=e=>q1.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,G1.isSimpleGraph=e=>G1.isGraph(e)&&!("@id"in e),G1.isBlankNode=e=>!!q1.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e));var $1=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}};function J1(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function X1(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){J1(o,n,i,s,a,"next",e)}function a(e){J1(o,n,i,s,a,"throw",e)}s(void 0)}))}}const Y1=kY.IdentifierIssuer,Z1=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,e2=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,t2=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,r2="application/ld+json, application/json",n2={};var i2=n2;n2.IdentifierIssuer=Y1;const o2="function"==typeof setImmediate&&setImmediate,s2=o2?e=>o2(e):e=>setTimeout(e,0);function a2(e,t,r){n2.nextTick((()=>e(t,r)))}function c2(e,t){if(q1.isArray(t))for(let r=0;r<t.length;++r)t[r]=c2(e,t[r]);else if(W1.isList(t))t["@list"]=c2(e,t["@list"]);else if(q1.isObject(t)){W1.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];"@id"!==i&&(t[i]=c2(e,t[i]))}}return t}n2.nextTick="object"==typeof RW?EW:s2,n2.setImmediate=o2?s2:n2.nextTick,n2.clone=function(e){if(e&&"object"==typeof e){let t;if(q1.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=n2.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,n2.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(n2.clone(r))}else if(q1.isObject(e)){t={};for(const r in e)t[r]=n2.clone(e[r])}else t=e.toString();return t}return e},n2.asArray=function(e){return Array.isArray(e)?e:[e]},n2.buildHeaders=(e={})=>{if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+r2+'" is supported.');return Object.assign({Accept:r2},e)},n2.parseLinkHeader=e=>{const t={},r=e.match(Z1);for(let e=0;e<r.length;++e){let n=r[e].match(e2);if(!n)continue;const i={target:n[1]},o=n[2];for(;n=t2.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t.hasOwnProperty(s)?t[s]=[t[s],i]:t[s]=i}return t},n2.validateTypeValue=e=>{if(q1.isString(e)||q1.isEmptyObject(e))return;let t=!1;if(q1.isArray(e)){t=!0;for(let r=0;r<e.length;++r)if(!q1.isString(e[r])){t=!1;break}}if(!t)throw new $1('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})},n2.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!q1.isArray(r)||r.length>0}return!1},n2.hasValue=(e,t,r)=>{if(n2.hasProperty(e,t)){let n=e[t];const i=W1.isList(n);if(q1.isArray(n)||i){i&&(n=n["@list"]);for(let e=0;e<n.length;++e)if(n2.compareValues(r,n[e]))return!0}else if(!q1.isArray(r))return n2.compareValues(r,n)}return!1},n2.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),n.valueIsArray)e[t]=r;else if(q1.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]);for(let i=0;i<r.length;++i)n2.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&n2.hasValue(e,t,r);q1.isArray(e[t])||i&&!n.propertyIsArray||(e[t]=[e[t]]),i||e[t].push(r)}else e[t]=n.propertyIsArray?[r]:r},n2.getValues=(e,t)=>[].concat(e[t]||[]),n2.removeProperty=(e,t)=>{delete e[t]},n2.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=n2.getValues(e,t).filter((e=>!n2.compareValues(e,r)));0===i.length?n2.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},n2.relabelBlankNodes=(e,t)=>c2((t=t||{}).issuer||new Y1("_:b"),e),n2.compareValues=(e,t)=>e===t||!(!W1.isValue(e)||!W1.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(q1.isObject(e)&&"@id"in e&&q1.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],n2.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1,n2.normalizeDocumentLoader=e=>e.length<2?n2.callbackify(e):function(){var t=X1((function*(t){const r=arguments[1];return new Promise(((n,i)=>{try{e(t,((e,t)=>{if("function"==typeof r)return a2(r,e,t);e?i(e):n(t)}))}catch(e){if("function"==typeof r)return a2(r,e);i(e)}}))}));return function(e){return t.apply(this,arguments)}}(),n2.callbackify=e=>function(){var t=X1((function*(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=yield e.apply(null,t)}catch(e){if("function"==typeof r)return a2(r,e);throw e}return"function"==typeof r?a2(r,null,n):n}));return function(){return t.apply(this,arguments)}}();var u2=kY.NQuads;const l2="http://www.w3.org/1999/02/22-rdf-syntax-ns#",A2="http://www.w3.org/2001/XMLSchema#";var h2={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:l2,RDF_LIST:l2+"List",RDF_FIRST:l2+"first",RDF_REST:l2+"rest",RDF_NIL:l2+"nil",RDF_TYPE:l2+"type",RDF_PLAIN_LITERAL:l2+"PlainLiteral",RDF_XML_LITERAL:l2+"XMLLiteral",RDF_JSON_LITERAL:l2+"JSON",RDF_OBJECT:l2+"object",RDF_LANGSTRING:l2+"langString",XSD:A2,XSD_BOOLEAN:A2+"boolean",XSD_DOUBLE:A2+"double",XSD_INTEGER:A2+"integer",XSD_STRING:A2+"string"};const{RDF_LANGSTRING:f2,RDF_PLAIN_LITERAL:d2,RDF_OBJECT:p2,RDF_XML_LITERAL:g2,XSD_STRING:m2}=h2;let y2;y2="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};const{clone:v2}=i2,b2={};var w2=b2;b2.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},b2.parse=(e,t)=>{const r={},n=b2.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;for(;o--;)r[n.keys[o]]=void 0===i[o]?null:i[o];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=b2.removeDotSegments(r.path),r},b2.prependBase=(e,t)=>{if(null===e)return t;if(-1!==t.indexOf(":"))return t;q1.isString(e)&&(e=b2.parse(e||""));const r=b2.parse(t),n={protocol:e.protocol||""};if(null!==r.authority)n.authority=r.authority,n.path=r.path,n.query=r.query;else if(n.authority=e.authority,""===r.path)n.path=e.path,null!==r.query?n.query=r.query:n.query=e.query;else{if(0===r.path.indexOf("/"))n.path=r.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),t.length>0&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,n.path=t}n.query=r.query}""!==r.path&&(n.path=b2.removeDotSegments(n.path));let i=n.protocol;return null!==n.authority&&(i+="//"+n.authority),i+=n.path,null!==n.query&&(i+="?"+n.query),null!==r.fragment&&(i+="#"+r.fragment),""===i&&(i="./"),i},b2.removeBase=(e,t)=>{if(null===e)return t;q1.isString(e)&&(e=b2.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const n=b2.parse(t.substr(r.length)),i=e.normalizedPath.split("/"),o=n.normalizedPath.split("/"),s=n.fragment||n.query?0:1;for(;i.length>0&&o.length>s&&i[0]===o[0];)i.shift(),o.shift();let a="";if(i.length>0){i.pop();for(let e=0;e<i.length;++e)a+="../"}return a+=o.join("/"),null!==n.query&&(a+="?"+n.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},b2.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const x2=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;function _2(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function B2(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){_2(o,n,i,s,a,"next",e)}function a(e){_2(o,n,i,s,a,"throw",e)}s(void 0)}))}}b2.isAbsolute=e=>q1.isString(e)&&x2.test(e),b2.isRelative=e=>q1.isString(e);const{isArray:E2,isObject:S2,isString:C2,isUndefined:I2}=q1,{isAbsolute:k2,isRelative:P2,prependBase:T2,parse:O2}=w2,{asArray:L2,compareShortestLeast:N2}=i2,U2=new Map,F2={};var M2=F2;function R2(e,t,r,n,i,o){if(null===t||!C2(t)||F2.isKeyword(t))return t;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&F2.createTermDefinition(e,n,t,i,o),e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext),(r=r||{}).vocab){const r=e.mappings.get(t);if(null===r)return null;if(r)return r["@id"]}const s=t.indexOf(":");if(-1!==s){const r=t.substr(0,s),a=t.substr(s+1);return"_"===r||0===a.indexOf("//")?t:(n&&n.hasOwnProperty(r)&&F2.createTermDefinition(e,n,r,i,o),e.mappings.has(r)?e.mappings.get(r)["@id"]+a:t)}return r.vocab&&"@vocab"in e?e["@vocab"]+t:r.base?T2(e["@base"],t):t}function D2(){return(D2=B2((function*(e,t){const r=i2.normalizeDocumentLoader(t.documentLoader);return yield n(e,new Set,r),e;function n(e,t,r){return i.apply(this,arguments)}function i(){return(i=B2((function*(e,r,i){if(r.size>10)throw new $1("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:10});const o=new Map;if(j2(e,o,!1,t.base),0===o.size)return;const s=[...o.keys()].filter((e=>!1===o.get(e)));return Promise.all(s.map(function(){var s=B2((function*(s){if(r.has(s))throw new $1("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:s});const a=new Set(r);let c,u;a.add(s);try{c=yield i(s),u=c.document||null,C2(u)&&(u=JSON.parse(u))}catch(e){throw new $1("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:s,cause:e})}if(!S2(u))throw new $1("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:s});u="@context"in u?{"@context":u["@context"]}:{"@context":{}},c.contextUrl&&(E2(u["@context"])||(u["@context"]=[u["@context"]]),u["@context"].push(c.contextUrl)),yield n(u,a,i),o.set(s,u["@context"]),j2(e,o,!0,t.base)}));return function(e){return s.apply(this,arguments)}}()))}))).apply(this,arguments)}}))).apply(this,arguments)}function j2(e,t,r,n){if(E2(e))for(const i of e)j2(i,t,r,n);else if(S2(e))for(const i in e){if("@context"!==i){j2(e[i],t,r,n);continue}const o=e[i];if(E2(o)){let e=o.length;for(let i=0;i<e;++i){const s=o[i];if(C2(s)){const a=T2(n,s),c=t.get(a);r?E2(c)?(Array.prototype.splice.apply(o,[i,1].concat(c)),i+=c.length-1,e=o.length):!1!==c&&(o[i]=c):void 0===c&&t.set(a,!1)}else for(const e in s)S2(s[e])&&j2(s[e],t,r,n)}}else if(C2(o)){const s=T2(n,o),a=t.get(s);r?!1!==a&&(e[i]=a):void 0===a&&t.set(s,!1)}else for(const e in o)S2(o[e])&&j2(o[e],t,r,n)}}function Q2(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Q2(e[r],t[r]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const r in e){let n=e[r],i=t[r];if("@container"===r&&Array.isArray(n)&&Array.isArray(i)&&(n=n.slice().sort(),i=i.slice().sort()),!Q2(n,i))return!1}return!0}F2.cache=new class{constructor(e=100){this.order=[],this.cache=new Map,this.size=e}get(e,t){const r=this.cache.get(e);if(r){const e=JSON.stringify(t);return r.get(e)||null}return null}set(e,t,r){if(this.order.length===this.size){const e=this.order.shift();this.cache.get(e.activeCtx).delete(e.localCtx)}const n=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:n});let i=this.cache.get(e);i||(i=new Map,this.cache.set(e,i)),i.set(n,v2(r))}},F2.process=({activeCtx:e,localCtx:t,options:r,isPropertyTermScopedContext:n=!1,isTypeScopedContext:i=!1})=>{S2(t)&&"@context"in t&&E2(t["@context"])&&(t=t["@context"]);const o=L2(t);if(0===o.length)return e;const s=e.previousContext||e;if(n&&e.previousContext)return(e=e.clone()).isPropertyTermScoped=!0,e.previousContext=F2.process({activeCtx:e.previousContext,localCtx:o,options:r,isPropertyTermScopedContext:n}),e;let a=e;for(let c=0;c<o.length;++c){let u=o[c];if(e=a,null===u){if(!n&&0!==Object.keys(e.protected).length){const n=r&&r.protectedMode||"error";if("error"===n)throw new $1("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===n){console.warn("WARNING: invalid context nullification");const t=e;a=e=F2.getInitialContext(r).clone();for(const[r,n]of Object.entries(t.protected))n&&(e.mappings[r]=i2.clone(t.mappings[r]));e.protected=i2.clone(t.protected),F2.cache&&F2.cache.set(t,u,a);continue}throw new $1("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:n})}a=e=F2.getInitialContext(r).clone(),i&&(a.previousContext=s.clone());continue}if(F2.cache){const t=F2.cache.get(e,u);if(t){a=e=t;continue}}if(S2(u)&&"@context"in u&&(u=u["@context"]),!S2(u))throw new $1("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});a=a.clone();const l=new Map;if("@version"in u){if(1.1!==u["@version"])throw new $1("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new $1("@version: "+u["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});a.processingMode="json-ld-1.1",a["@version"]=u["@version"],l.set("@version",!0)}if(a.processingMode=a.processingMode||e.processingMode||"json-ld-1.0","@base"in u){let t=u["@base"];if(null===t);else if(k2(t))t=O2(t);else{if(!P2(t))throw new $1('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});t=O2(T2(e["@base"].href,t))}a["@base"]=t,l.set("@base",!0)}if("@vocab"in u){const e=u["@vocab"];if(null===e)delete a["@vocab"];else{if(!C2(e))throw new $1('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});if(!k2(e))throw new $1('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});a["@vocab"]=e}l.set("@vocab",!0)}if("@language"in u){const e=u["@language"];if(null===e)delete a["@language"];else{if(!C2(e))throw new $1('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});a["@language"]=e.toLowerCase()}l.set("@language",!0)}l.set("@protected",u["@protected"]||!1);for(const e in u)F2.createTermDefinition(a,u,e,l,r,n);i&&!a.previousContext&&(a.previousContext=s.clone()),F2.cache&&F2.cache.set(e,u,a)}return a},F2.createTermDefinition=(e,t,r,n,i,o=!1)=>{if(n.has(r)){if(n.get(r))return;throw new $1("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n.set(r,!1),F2.isKeyword(r))throw new $1("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new $1("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const s=e.mappings.get(r);let a;if(e.mappings.has(r)&&e.mappings.delete(r),t.hasOwnProperty(r)&&(a=t[r]),null===a||S2(a)&&null===a["@id"])return e.mappings.set(r,null),void n.set(r,!0);let c=!1;if(C2(a)&&(c=!0,a={"@id":a}),!S2(a))throw new $1("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const u={};e.mappings.set(r,u),u.reverse=!1;const l=["@container","@id","@language","@reverse","@type"];F2.processingMode(e,1.1)&&l.push("@context","@nest","@prefix","@protected");for(const e in a)if(!l.includes(e))throw new $1("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const A=r.indexOf(":");if(u._termHasColon=-1!==A,"@reverse"in a){if("@id"in a)throw new $1("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in a)throw new $1("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const r=a["@reverse"];if(!C2(r))throw new $1("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});const o=R2(e,r,{vocab:!0,base:!1},t,n,i);if(!k2(o))throw new $1("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=o,u.reverse=!0}else if("@id"in a){let o=a["@id"];if(!C2(o))throw new $1("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(o!==r){if(o=R2(e,o,{vocab:!0,base:!1},t,n,i),!k2(o)&&!F2.isKeyword(o))throw new $1("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});u["@id"]=o,u._prefix=!u._termHasColon&&o.match(/[:\/\?#\[\]@]$/)&&(c||F2.processingMode(e,1))}}if(!("@id"in u))if(u._termHasColon){const o=r.substr(0,A);if(t.hasOwnProperty(o)&&F2.createTermDefinition(e,t,o,n,i),e.mappings.has(o)){const t=r.substr(A+1);u["@id"]=e.mappings.get(o)["@id"]+t}else u["@id"]=r}else{if(!("@vocab"in e))throw new $1("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});u["@id"]=e["@vocab"]+r}if((!0===a["@protected"]||!0===n.get("@protected")&&!1!==a["@protected"])&&(e.protected[r]=!0,u.protected=!0),n.set(r,!0),"@type"in a){let r=a["@type"];if(!C2(r))throw new $1("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==r&&"@vocab"!==r&&"@json"!==r){if(r=R2(e,r,{vocab:!0,base:!1},t,n,i),!k2(r))throw new $1("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new $1("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}u["@type"]=r}if("@container"in a){const r=C2(a["@container"])?[a["@container"]]:a["@container"]||[],n=["@list","@set","@index","@language"];let i=!0;const o=r.includes("@set");if(F2.processingMode(e,1.1))if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new $1("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new $1("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else i&=r.length<=(o?2:1);else i&=!E2(a["@container"]),i&=r.length<=1;if(i&=r.every((e=>n.includes(e))),i&=!(o&&r.includes("@list")),!i)throw new $1("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(u.reverse&&!r.every((e=>["@index","@set"].includes(e))))throw new $1("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});u["@container"]=r}if("@context"in a&&(u["@context"]=a["@context"]),"@language"in a&&!("@type"in a)){let e=a["@language"];if(null!==e&&!C2(e))throw new $1("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),u["@language"]=e}if("@prefix"in a){if(u._termHasColon)throw new $1("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof a["@prefix"])throw new $1("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});u._prefix=!0===a["@prefix"]}if("@nest"in a){const e=a["@nest"];if(!C2(e)||"@nest"!==e&&0===e.indexOf("@"))throw new $1("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});u["@nest"]=e}// disallow aliasing @context and @preserve
const h=u["@id"];if("@context"===h||"@preserve"===h)throw new $1("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(s&&s.protected&&!o&&(e.protected[r]=!0,u.protected=!0,!Q2(s,u))){const e=i&&i.protectedMode||"error";if("error"===e)throw new $1("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new $1("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},F2.expandIri=(e,t,r,n)=>R2(e,t,r,void 0,void 0,n),F2.getInitialContext=e=>{const t=O2(e.base||""),r=JSON.stringify({base:t,processingMode:e.processingMode}),n=U2.get(r);if(n)return n;const i={"@base":t,processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},i=e["@language"]||"@none",a=e.mappings,c=[...a.keys()].sort(N2);for(const e of c){const o=a.get(e);if(null===o)continue;let c=o["@container"]||"@none";c=[].concat(c).sort().join("");const u=L2(o["@id"]);for(const a of u){let u=t[a];const l=F2.isKeyword(a);if(u)l||o._termHasColon||n[a].push(e);else if(t[a]=u={},!l&&!o._termHasColon){n[a]=[e];const t={iri:a,terms:n[a]};a[0]in r?r[a[0]].push(t):r[a[0]]=[t]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],s(e,u["@any"],"@none"),o.reverse)s(e,u["@type"],"@reverse");else if("@type"in o)s(e,u["@type"],o["@type"]);else if("@language"in o){const t=o["@language"]||"@null";s(e,u["@language"],t)}else s(e,u["@language"],i),s(e,u["@type"],"@none"),s(e,u["@language"],"@none")}}for(const e in r)o(r,e,1);return t},clone:function(){const e={};return e["@base"]=this["@base"],e.mappings=i2.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=i2.clone(this.protected),this.previousContext&&(e.isPropertyTermScoped=this.previousContext.isPropertyTermScoped,e.previousContext=this.previousContext.clone()),e.revertTypeScopedContext=this.revertTypeScopedContext,"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertTypeScopedContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===U2.size&&U2.clear(),U2.set(r,i),i;function o(e,t,r){const n=e[t],i=e[t]={};let s,a;for(const e of n)s=e.iri,a=r>=s.length?"":s[r],a in i?i[a].push(e):i[a]=[e];for(const e in i)""!==e&&o(i,e,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},F2.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(I2(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&e.hasOwnProperty(r)?e[r]:"@context"!==r?null:void 0},F2.getAllContexts=function(){var e=B2((function*(e,t){return function(e,t){return D2.apply(this,arguments)}(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),F2.processingMode=(e,t)=>t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode,F2.isKeyword=e=>{if(!C2(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};const{isArray:H2,isObject:K2,isEmptyObject:V2,isString:z2,isUndefined:q2}=q1,{isList:G2,isValue:W2,isGraph:$2}=W1,{expandIri:J2,getContextValue:X2,isKeyword:Y2,process:Z2,processingMode:e5}=M2,{isAbsolute:t5}=w2,{addValue:r5,asArray:n5,getValues:i5,validateTypeValue:o5}=i2,s5={};var a5=s5;function c5({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o={},insideList:s,expansionMap:a}){const c=Object.keys(n).sort(),u=[];for(const l of c){let c,A=n[l];if("@context"===l)continue;let h=J2(e,l,{vocab:!0},o);if((null===h||!t5(h)&&!Y2(h))&&(h=a({unmappedProperty:l,activeCtx:e,activeProperty:t,parent:n,options:o,insideList:s,value:A,expandedParent:i}),void 0===h))continue;if(Y2(h)){if("@reverse"===r)throw new $1("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:A});if(h in i)throw new $1("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:h})}if("@id"===h){if(!z2(A)){if(!o.isFrame)throw new $1('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(K2(A)){if(!V2(A))throw new $1('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}else{if(!H2(A))throw new $1('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A});if(!A.every((e=>z2(e))))throw new $1('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:A})}}r5(i,"@id",n5(A).map((t=>z2(t)?J2(e,t,{base:!0},o):t)),{propertyIsArray:o.isFrame});continue}if("@type"===h){o5(A),r5(i,"@type",n5(A).map((t=>z2(t)?J2(e.previousContext||e,t,{base:!0,vocab:!0},o):t)),{propertyIsArray:o.isFrame});continue}if("@graph"===h&&!K2(A)&&!H2(A))throw new $1('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:A});if("@value"===h){r5(i,"@value",A,{propertyIsArray:o.isFrame});continue}if("@language"===h){if(null===A)continue;if(!z2(A)&&!o.isFrame)throw new $1('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:A});A=n5(A).map((e=>z2(e)?e.toLowerCase():e)),r5(i,"@language",A,{propertyIsArray:o.isFrame});continue}if("@index"===h){if(!z2(A))throw new $1('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:A});r5(i,"@index",A);continue}if("@reverse"===h){if(!K2(A))throw new $1('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:A});if(c=s5.expand({activeCtx:e,activeProperty:"@reverse",element:A,options:o,expansionMap:a}),"@reverse"in c)for(const e in c["@reverse"])r5(i,e,c["@reverse"][e],{propertyIsArray:!0});let t=i["@reverse"]||null;for(const e in c){if("@reverse"===e)continue;null===t&&(t=i["@reverse"]={}),r5(t,e,[],{propertyIsArray:!0});const r=c[e];for(let n=0;n<r.length;++n){const i=r[n];if(W2(i)||G2(i))throw new $1('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:c});r5(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===h){u.push(l);continue}let f=e;const d=X2(e,l,"@context");q2(d)||(f=Z2({activeCtx:e,localCtx:d,isPropertyTermScopedContext:!0,options:o}));const p=X2(f,l,"@container")||[];if(p.includes("@language")&&K2(A))c=u5(f,A,o);else if(p.includes("@index")&&K2(A)){const e=p.includes("@graph");c=l5({activeCtx:f,options:o,activeProperty:l,value:A,expansionMap:a,asGraph:e,indexKey:"@index"})}else if(p.includes("@id")&&K2(A)){const e=p.includes("@graph");c=l5({activeCtx:f,options:o,activeProperty:l,value:A,expansionMap:a,asGraph:e,indexKey:"@id"})}else if(p.includes("@type")&&K2(A))c=l5({activeCtx:f.revertTypeScopedContext(),options:o,activeProperty:l,value:A,expansionMap:a,asGraph:!1,indexKey:"@type"});else{const n="@list"===h;if(n||"@set"===h){let e=t;n&&"@graph"===r&&(e=null),c=s5.expand({activeCtx:f,activeProperty:e,element:A,options:o,insideList:n,expansionMap:a})}else c="@json"===X2(e,l,"@type")?{"@type":"@json","@value":A}:s5.expand({activeCtx:f,activeProperty:l,element:A,options:o,insideList:!1,expansionMap:a})}if(null===c&&"@value"!==h&&(c=a({unmappedValue:A,expandedProperty:h,activeCtx:f,activeProperty:t,parent:n,options:o,insideList:s,key:l,expandedParent:i}),void 0===c))continue;if("@list"!==h&&!G2(c)&&p.includes("@list")&&(c={"@list":n5(c)}),p.includes("@graph")&&!p.some((e=>"@id"===e||"@index"===e))&&(c=n5(c).map((e=>$2(e)?e:{"@graph":n5(e)}))),f.mappings.has(l)&&f.mappings.get(l).reverse){const e=i["@reverse"]=i["@reverse"]||{};c=n5(c);for(let t=0;t<c.length;++t){const r=c[t];if(W2(r)||G2(r))throw new $1('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:c});r5(e,h,r,{propertyIsArray:!0})}continue}const g=!["@index","@id","@type","@value","@language"].includes(h);r5(i,h,c,{propertyIsArray:g})}if("@value"in n){const t=n["@value"];if("@json"===n["@type"]&&e5(e,1.1));else if((K2(t)||H2(t))&&!o.isFrame)throw new $1('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:t})}for(const c of u){const u=H2(n[c])?n[c]:[n[c]];for(const n of u){if(!K2(n)||Object.keys(n).some((t=>"@value"===J2(e,t,{vocab:!0},o))))throw new $1("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:n});c5({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:n,expandedParent:i,options:o,insideList:s,expansionMap:a})}}}function u5(e,t,r){const n=[],i=Object.keys(t).sort();for(const o of i){const i=J2(e,o,{vocab:!0},r);let s=t[o];H2(s)||(s=[s]);for(const e of s){if(null===e)continue;if(!z2(e))throw new $1("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const r={"@value":e};"@none"!==i&&(r["@language"]=o.toLowerCase()),n.push(r)}}return n}function l5({activeCtx:e,options:t,activeProperty:r,value:n,expansionMap:i,asGraph:o,indexKey:s}){const a=[],c=Object.keys(n).sort(),u="@type"===s;for(let l of c){if(u){const r=X2(e,l,"@context");q2(r)||(e=Z2({activeCtx:e,localCtx:r,isTypeScopedContext:!0,options:t}))}let c=n[l];H2(c)||(c=[c]);const A=J2(e,l,{vocab:!0},t);"@id"===s?l=J2(e,l,{base:!0},t):u&&(l=A),c=s5.expand({activeCtx:e,activeProperty:r,element:c,options:t,insideList:!1,insideIndex:!0,expansionMap:i});for(let e of c)o&&!$2(e)&&(e={"@graph":[e]}),"@type"===s?"@none"===A||(e["@type"]?e["@type"]=[l].concat(e["@type"]):e["@type"]=[l]):"@none"===A||s in e||(e[s]=l),a.push(e)}return a}s5.expand=({activeCtx:e,activeProperty:t=null,element:r,options:n={},insideList:i=!1,insideIndex:o=!1,typeScopedContext:s=null,expansionMap:a=(()=>{})})=>{if(null==r)return null;if("@default"===t&&(n=Object.assign({},n,{isFrame:!1})),!H2(r)&&!K2(r)){if(!i&&(null===t||"@graph"===J2(e,t,{vocab:!0},n))){const o=a({unmappedValue:r,activeCtx:e,activeProperty:t,options:n,insideList:i});return void 0===o?null:o}return function({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;const i=J2(e,t,{vocab:!0},n);if("@id"===i)return J2(e,r,{base:!0},n);if("@type"===i)return J2(e,r,{vocab:!0,base:!0},n);const o=X2(e,t,"@type");if(("@id"===o||"@graph"===i)&&z2(r))return{"@id":J2(e,r,{base:!0},n)};if("@vocab"===o&&z2(r))return{"@id":J2(e,r,{vocab:!0,base:!0},n)};if(Y2(i))return r;const s={};if(o&&!["@id","@vocab"].includes(o))s["@type"]=o;else if(z2(r)){const r=X2(e,t,"@language");null!==r&&(s["@language"]=r)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}({activeCtx:e,activeProperty:t,value:r,options:n})}if(H2(r)){let c=[];const u=X2(e,t,"@container")||[];i=i||u.includes("@list");for(let u=0;u<r.length;++u){let l=s5.expand({activeCtx:e,activeProperty:t,element:r[u],options:n,expansionMap:a,insideIndex:o,typeScopedContext:s});i&&H2(l)&&(l={"@list":l}),null===l&&(l=a({unmappedValue:r[u],activeCtx:e,activeProperty:t,parent:r,index:u,options:n,expandedParent:c,insideList:i}),void 0===l)||(H2(l)?c=c.concat(l):c.push(l))}return c}const c=J2(e,t,{vocab:!0},n);s=s||(e.previousContext?e:null);let u=Object.keys(r).sort(),l=!o;if(l&&s&&u.length<=2&&!u.includes("@context"))for(const t of u){const r=J2(s,t,{vocab:!0},n);if("@value"===r){l=!1,e=s;break}if("@id"===r&&1===u.length){l=!1;break}}l&&(e=e.revertTypeScopedContext()),"@context"in r&&(e=Z2({activeCtx:e,localCtx:r["@context"],options:n}));for(const t of u)if("@type"===J2(e,t,{vocab:!0},n)){const i=r[t],o=Array.isArray(i)?i.length>1?i.slice().sort():i:[i];for(const t of o){const r=X2(e.previousContext||e,t,"@context");q2(r)||(e=Z2({activeCtx:e,localCtx:r,options:n,isTypeScopedContext:!0}))}}let A={};c5({activeCtx:e,activeProperty:t,expandedActiveProperty:c,element:r,expandedParent:A,options:n,insideList:i,typeScopedContext:s,expansionMap:a}),u=Object.keys(A);let h=u.length;if("@value"in A){if("@type"in A&&"@language"in A)throw new $1('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:A});let o=h-1;if("@type"in A&&(o-=1),"@index"in A&&(o-=1),"@language"in A&&(o-=1),0!==o)throw new $1('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:A});const s=null===A["@value"]?[]:n5(A["@value"]),c=i5(A,"@type");if(0===s.length){const o=a({unmappedValue:A,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});A=void 0!==o?o:null}else{if(!s.every((e=>z2(e)||V2(e)))&&"@language"in A)throw new $1("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:A});if(e5(e,1.1)&&c.includes("@json")&&1===c.length);else if(!c.every((e=>t5(e)&&!(z2(e)&&0===e.indexOf("_:"))||V2(e))))throw new $1('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:A})}}else if("@type"in A&&!H2(A["@type"]))A["@type"]=[A["@type"]];else if("@set"in A||"@list"in A){if(h>1&&(2!==h||!("@index"in A)))throw new $1('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:A});"@set"in A&&(A=A["@set"],u=Object.keys(A),h=u.length)}else if(1===h&&"@language"in A){const o=a(A,{unmappedValue:A,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});A=void 0!==o?o:null}if(K2(A)&&!n.keepFreeFloatingNodes&&!i&&(null===t||"@graph"===c)&&(0===h||"@value"in A||"@list"in A||1===h&&"@id"in A)){const o=a({unmappedValue:A,activeCtx:e,activeProperty:t,element:r,options:n,insideList:i});A=void 0!==o?o:null}return A};const{isKeyword:A5}=M2,h5={};var f5=h5;h5.createMergedNodeMap=(e,t)=>{const r=(t=t||{}).issuer||new i2.IdentifierIssuer("_:b"),n={"@default":{}};return h5.createNodeMap(e,n,"@default",r),h5.mergeNodeMaps(n)},h5.createNodeMap=(e,t,r,n,i,o)=>{if(q1.isArray(e)){for(const i of e)h5.createNodeMap(i,t,r,n,void 0,o);return}if(!q1.isObject(e))return void(o&&o.push(e));if(W1.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=n.getId(t))}return void(o&&o.push(e))}if(o&&W1.isList(e)){const s=[];return h5.createNodeMap(e["@list"],t,r,n,i,s),void o.push({"@list":s})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&n.getId(e)}q1.isUndefined(i)&&(i=W1.isBlankNode(e)?n.getId(e["@id"]):e["@id"]),o&&o.push({"@id":i});const s=t[r],a=s[i]=s[i]||{};a["@id"]=i;const c=Object.keys(e).sort();for(let o of c){if("@id"===o)continue;if("@reverse"===o){const o={"@id":i},a=e["@reverse"];for(const e in a){const i=a[e];for(const a of i){let i=a["@id"];W1.isBlankNode(a)&&(i=n.getId(i)),h5.createNodeMap(a,t,r,n,i),i2.addValue(s[i],e,o,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){i in t||(t[i]={}),h5.createNodeMap(e[o],t,i,n);continue}if("@type"!==o&&A5(o)){if("@index"===o&&o in a&&(e[o]!==a[o]||e[o]["@id"]!==a[o]["@id"]))throw new $1("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:a});a[o]=e[o];continue}const c=e[o];if(0===o.indexOf("_:")&&(o=n.getId(o)),0!==c.length)for(let e of c)if("@type"===o&&(e=0===e.indexOf("_:")?n.getId(e):e),W1.isSubject(e)||W1.isSubjectReference(e)){const i=W1.isBlankNode(e)?n.getId(e["@id"]):e["@id"];i2.addValue(a,o,{"@id":i},{propertyIsArray:!0,allowDuplicate:!1}),h5.createNodeMap(e,t,r,n,i)}else if(W1.isValue(e))i2.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(W1.isList(e)){const s=[];h5.createNodeMap(e["@list"],t,r,n,i,s),e={"@list":s},i2.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else h5.createNodeMap(e,t,r,n,i),i2.addValue(a,o,e,{propertyIsArray:!0,allowDuplicate:!1});else i2.addValue(a,o,[],{propertyIsArray:!0})}},h5.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const n of Object.keys(e[r]).sort()){const i=e[r][n];n in t||(t[n]={"@id":n});const o=t[n];for(const e of Object.keys(i).sort())if(A5(e))o[e]=i2.clone(i[e]);else for(const t of i[e])i2.addValue(o,e,i2.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},h5.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let i=t[n];i?"@graph"in i||(i["@graph"]=[]):t[n]=i={"@id":n,"@graph":[]};const o=i["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];W1.isSubjectReference(t)||o.push(t)}}return t};const{isSubjectReference:d5}=W1,{createMergedNodeMap:p5}=f5,g5={};var m5=g5;function y5(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}g5.flatten=e=>{const t=p5(e),r=[],n=Object.keys(t).sort();for(let e=0;e<n.length;++e){const i=t[n[e]];d5(i)||r.push(i)}return r};const{RDF_LIST:v5,RDF_FIRST:b5,RDF_REST:w5,RDF_NIL:x5,RDF_TYPE:_5,RDF_JSON_LITERAL:B5,XSD_BOOLEAN:E5,XSD_DOUBLE:S5,XSD_INTEGER:C5,XSD_STRING:I5}=h2,k5={};var P5=k5;function T5(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};const r={"@value":e.value};if(e.language)r["@language"]=e.language;else{let n=e.datatype.value;if(n||(n=I5),n===B5){n="@json";try{r["@value"]=JSON.parse(r["@value"])}catch(e){throw new $1("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:r["@value"],cause:e})}}if(t){if(n===E5)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(q1.isNumeric(r["@value"]))if(n===C5){const e=parseInt(r["@value"],10);e.toFixed(0)===r["@value"]&&(r["@value"]=e)}else n===S5&&(r["@value"]=parseFloat(r["@value"]));[E5,C5,S5,I5].includes(n)||(r["@type"]=n)}else n!==I5&&(r["@type"]=n)}return r}k5.fromRDF=function(){var e,t=(e=function*(e,{useRdfType:t=!1,useNativeTypes:r=!1}){const n={},i={"@default":n},o={};for(const s of e){const e="DefaultGraph"===s.graph.termType?"@default":s.graph.value;e in i||(i[e]={}),"@default"===e||e in n||(n[e]={"@id":e});const a=i[e],c=s.subject.value,u=s.predicate.value,l=s.object;c in a||(a[c]={"@id":c});const A=a[c],h=l.termType.endsWith("Node");if(h&&!(l.value in a)&&(a[l.value]={"@id":l.value}),u===_5&&!t&&h){i2.addValue(A,"@type",l.value,{propertyIsArray:!0});continue}const f=T5(l,r);if(i2.addValue(A,u,f,{propertyIsArray:!0}),h)if(l.value===x5){const e=a[l.value];"usages"in e||(e.usages=[]),e.usages.push({node:A,property:u,value:f})}else l.value in o?o[l.value]=!1:o[l.value]={node:A,property:u,value:f}}for(const e in i){const t=i[e];if(!(x5 in t))continue;const r=t[x5];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,i=e.value;const s=[],a=[];let c=Object.keys(r).length;for(;n===w5&&q1.isObject(o[r["@id"]])&&q1.isArray(r[b5])&&1===r[b5].length&&q1.isArray(r[w5])&&1===r[w5].length&&(3===c||4===c&&q1.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===v5)&&(s.push(r[b5][0]),a.push(r["@id"]),e=o[r["@id"]],r=e.node,n=e.property,i=e.value,c=Object.keys(r).length,W1.isBlankNode(r)););delete i["@id"],i["@list"]=s.reverse();for(const e of a)delete t[e]}delete r.usages}}const s=[],a=Object.keys(n).sort();for(const e of a){const t=n[e];if(e in i){const r=t["@graph"]=[],n=i[e],o=Object.keys(n).sort();for(const e of o){const t=n[e];W1.isSubjectReference(t)||r.push(t)}}W1.isSubjectReference(t)||s.push(t)}return s},function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){y5(o,n,i,s,a,"next",e)}function a(e){y5(o,n,i,s,a,"throw",e)}s(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();const{createNodeMap:O5}=f5,{isKeyword:L5}=M2,{RDF_FIRST:N5,RDF_REST:U5,RDF_NIL:F5,RDF_TYPE:M5,RDF_JSON_LITERAL:R5,RDF_LANGSTRING:D5,XSD_BOOLEAN:j5,XSD_DOUBLE:Q5,XSD_INTEGER:H5,XSD_STRING:K5}=h2,{isAbsolute:V5}=w2,z5={};var q5=z5;function G5(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const o=t[s],a=Object.keys(o).sort();for(let t of a){const a=o[t];if("@type"===t)t=M5;else if(L5(t))continue;for(const o of a){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!V5(s))continue;const c={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!V5(t))continue;if("BlankNode"===c.termType&&!i.produceGeneralizedRdf)continue;const u=W5(o,n,e,r);u&&e.push({subject:a,predicate:c,object:u,graph:r})}}}}function W5(e,t,r,n){const i={};if(W1.isValue(e)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;"@json"===r?(i.value=A0(t),i.datatype.value=R5):q1.isBoolean(t)?(i.value=t.toString(),i.datatype.value=r||j5):q1.isDouble(t)||r===Q5?(q1.isDouble(t)||(t=parseFloat(t)),i.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=r||Q5):q1.isNumber(t)?(i.value=t.toFixed(0),i.datatype.value=r||H5):"@language"in e?(i.value=t,i.datatype.value=r||D5,i.language=e["@language"]):(i.value=t,i.datatype.value=r||K5)}else if(W1.isList(e)){const o=function(e,t,r,n){const i={termType:"NamedNode",value:N5},o={termType:"NamedNode",value:U5},s={termType:"NamedNode",value:F5},a=e.pop(),c=a?{termType:"BlankNode",value:t.getId()}:s;let u=c;for(const s of e){const e=W5(s,t,r,n),a={termType:"BlankNode",value:t.getId()};r.push({subject:u,predicate:i,object:e,graph:n}),r.push({subject:u,predicate:o,object:a,graph:n}),u=a}if(a){const e=W5(a,t,r,n);r.push({subject:u,predicate:i,object:e,graph:n}),r.push({subject:u,predicate:o,object:s,graph:n})}return c}(e["@list"],t,r,n);i.termType=o.termType,i.value=o.value}else{const t=q1.isObject(e)?e["@id"]:e;i.termType=t.startsWith("_:")?"BlankNode":"NamedNode",i.value=t}return"NamedNode"!==i.termType||V5(i.value)?i:null}z5.toRDF=(e,t)=>{const r=new i2.IdentifierIssuer("_:b"),n={"@default":{}};O5(e,n,"@default",r);const i=[],o=Object.keys(n).sort();for(const e of o){let o;if("@default"===e)o={termType:"DefaultGraph",value:""};else{if(!V5(e))continue;o=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},o.value=e}G5(i,n[e],o,r,t)}return i};const{isKeyword:$5}=M2,{createNodeMap:J5,mergeNodeMapGraphs:X5}=f5,Y5={};var Z5=Y5;function e3(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function t3(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function r3(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function n3(e){if(!q1.isArray(e)||1!==e.length||!q1.isObject(e[0]))throw new $1("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function i3(e,t,r,n){let i=!0,o=!1;for(const s in r){let a=!1;const c=i2.getValues(t,s),u=0===i2.getValues(r,s).length;if($5(s)){if("@id"!==s&&"@type"!==s)continue;if(i=!1,"@id"===s){if(r["@id"].length>=0&&!q1.isEmptyObject(r["@id"][0]))return r["@id"].includes(c[0]);a=!0;continue}if("@type"in r)if(u){if(c.length>0)return!1;a=!0}else{if(1!==r["@type"].length||!q1.isEmptyObject(r["@type"][0])){for(const e of r["@type"])if(c.some((t=>t===e)))return!0;return!1}a=c.length>0}}const l=i2.getValues(r,s)[0];let A=!1;if(l&&(n3([l]),A="@default"in l),i=!1,0!==c.length||!A){if(c.length>0&&u)return!1;if(void 0===l){if(c.length>0)return!1;a=!0}else if(q1.isObject(l))a=c.length>0;else if(W1.isValue(l))a=c.some((e=>c3(l,e)));else if(W1.isSubject(l)||W1.isSubjectReference(l))a=c.some((t=>a3(e,l,t,n)));else if(W1.isList(l)){const t=l["@list"][0];if(W1.isList(c[0])){const r=c[0]["@list"];W1.isValue(t)?a=r.some((e=>c3(t,e))):(W1.isSubject(t)||W1.isSubjectReference(t))&&(a=r.some((r=>a3(e,t,r,n))))}else a=!1}if(!a&&n.requireAll)return!1;o=o||a}}return i||o}function o3(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,s={"@id":t};if(q1.isArray(i)){for(let e=0;e<i.length;++e)if(i2.compareValues(i[e],s)){i[e]=s;break}}else{const e=q1.isArray(i[o]);i2.removeValue(i,o,s,{propertyIsArray:e}),i2.addValue(i,o,s,{propertyIsArray:e})}const a=e=>{const t=Object.keys(r);for(const n of t)n in r&&q1.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],a(n))};a(t)}function s3(e,t,r){q1.isObject(e)?i2.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function a3(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&i3(e,i,t,n)}function c3(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?q1.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?q1.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],a=e["@language"]?q1.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===s.length&&0===a.length||!(!o.includes(r)&&!q1.isEmptyObject(o[0]))&&!!(!n&&0===s.length||s.includes(n)||n&&q1.isEmptyObject(s[0]))&&!!(!i&&0===a.length||a.includes(i)||i&&q1.isEmptyObject(a[0]))}Y5.frameMergedOrDefault=(e,t,r)=>{const n={options:r,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new i2.IdentifierIssuer("_:b");J5(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=X5(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return Y5.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((e=>1===n.bnodeMap[e].length))),o},Y5.frame=(e,t,r,n,i=null)=>{n3(r),r=r[0];const o=e.options,s={embed:r3(r,o,"embed"),explicit:r3(r,o,"explicit"),requireAll:r3(r,o,"requireAll")},a=function(e,t,r,n){const i={};for(const o of t){const t=e.graphMap[e.graph][o];i3(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,s),c=Object.keys(a).sort();for(const t of c){const c=a[t];if("@link"===s.embed&&t in e.link){s3(n,i,e.link[t]);continue}null===i?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};const u={};if(u["@id"]=t,0===t.indexOf("_:")&&i2.addValue(e.bnodeMap,t,u,{propertyIsArray:!0}),e.link[t]=u,"@never"===s.embed||t3(c,e.graph,e.subjectStack))s3(n,i,u);else{if("@last"===s.embed&&(t in e.uniqueEmbeds[e.graph]&&o3(e,t),e.uniqueEmbeds[e.graph][t]={parent:n,property:i}),e.subjectStack.push({subject:c,graph:e.graph}),t in e.graphMap){let n=!1,i=null;"@graph"in r?(i=r["@graph"][0],q1.isObject(i)||(i={}),n=!("@merged"===t||"@default"===t)):(n="@merged"!==e.graph,i={}),n&&(e.graphStack.push(e.graph),e.graph=t,Y5.frame(e,Object.keys(e.graphMap[t]).sort(),[i],u,"@graph"),e.graph=e.graphStack.pop)}for(const t of Object.keys(c).sort())if($5(t)){if(u[t]=i2.clone(c[t]),"@type"===t)for(const t of c["@type"])0===t.indexOf("_:")&&i2.addValue(e.bnodeMap,t,u,{propertyIsArray:!0})}else if(!s.explicit||t in r)for(let n of c[t]){const i=t in r?r[t]:e3(s);if(W1.isList(n)){const i={"@list":[]};s3(u,t,i);const o=n["@list"];for(const a in o)if(n=o[a],W1.isSubjectReference(n)){const o=t in r?r[t][0]["@list"]:e3(s);Y5.frame(e,[n["@id"]],o,i,"@list")}else s3(i,"@list",i2.clone(n))}else W1.isSubjectReference(n)?Y5.frame(e,[n["@id"]],i,u,t):c3(i[0],n)&&s3(u,t,i2.clone(n))}for(const e of Object.keys(r).sort()){if($5(e))continue;const t=r[e][0]||{};if(!r3(t,o,"omitDefault")&&!(e in u)){let r="@null";"@default"in t&&(r=i2.clone(t["@default"])),q1.isArray(r)||(r=[r]),u[e]=[{"@preserve":r}]}}if("@reverse"in r)for(const n of Object.keys(r["@reverse"]).sort()){const o=r["@reverse"][n];for(const r of Object.keys(e.subjects))i2.getValues(e.subjects[r],n).some((e=>e["@id"]===t))&&(u["@reverse"]=u["@reverse"]||{},i2.addValue(u["@reverse"],n,[],{propertyIsArray:!0}),Y5.frame(e,[r],o,u["@reverse"][n],i))}s3(n,i,u),e.subjectStack.pop()}}};const{isArray:u3,isObject:l3,isString:A3,isUndefined:h3}=q1,{isList:f3,isValue:d3,isGraph:p3,isSimpleGraph:g3,isSubjectReference:m3}=W1,{expandIri:y3,getContextValue:v3,isKeyword:b3,process:w3}=M2,{removeBase:x3}=w2,{addValue:_3,asArray:B3,compareShortestLeast:E3}=i2,S3={};var C3=S3;function I3(e,t,r){if("@nest"!==y3(e,t,{vocab:!0},r))throw new $1("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}function k3(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}S3.compact=({activeCtx:e,activeProperty:t=null,element:r,options:n={},compactionMap:i=(()=>{})})=>{if(u3(r)){let o=[];for(let s=0;s<r.length;++s){let a=S3.compact({activeCtx:e,activeProperty:t,element:r[s],options:n,compactionMap:i});null===a&&(a=i({unmappedValue:r[s],activeCtx:e,activeProperty:t,parent:r,index:s,options:n}),void 0===a)||o.push(a)}return n.compactArrays&&1===o.length&&0===(v3(e,t,"@container")||[]).length&&(o=o[0]),o}const o=v3(e,t,"@context");if(h3(o)||(e=w3({activeCtx:e,localCtx:o,isPropertyTermScopedContext:!0,options:n})),l3(r)){if(n.link&&"@id"in r&&n.link.hasOwnProperty(r["@id"])){const e=n.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(d3(r)||m3(r)){const i=S3.compactValue({activeCtx:e,activeProperty:t,value:r,options:n});return n.link&&m3(r)&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:i})),i}if(f3(r)&&(v3(e,t,"@container")||[]).includes("@list"))return S3.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:n,compactionMap:i});const o="@reverse"===t,s={};e=e.revertTypeScopedContext(),n.link&&"@id"in r&&(n.link.hasOwnProperty(r["@id"])||(n.link[r["@id"]]=[]),n.link[r["@id"]].push({expanded:r,compacted:s}));let a=r["@type"]||[];a.length>1&&(a=Array.from(a).sort());const c=e;for(const t of a){const r=S3.compactIri({activeCtx:c,iri:t,relativeTo:{vocab:!0}}),i=v3(c,r,"@context");h3(i)||(e=w3({activeCtx:e,localCtx:i,options:n,isTypeScopedContext:!0}))}const u=Object.keys(r).sort();for(const a of u){const c=r[a];if("@id"!==a&&"@type"!==a)if("@reverse"!==a)if("@preserve"!==a)if("@index"!==a)if("@graph"!==a&&"@list"!==a&&b3(a)){const t=S3.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});_3(s,t,c)}else{if(!u3(c))throw new $1("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===c.length){const t=S3.compactIri({activeCtx:e,iri:a,value:c,relativeTo:{vocab:!0},reverse:o}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let i=s;r&&(I3(e,r,n),l3(s[r])||(s[r]={}),i=s[r]),_3(i,t,c,{propertyIsArray:!0})}for(const t of c){const r=S3.compactIri({activeCtx:e,iri:a,value:t,relativeTo:{vocab:!0},reverse:o}),c=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let u=s;c&&(I3(e,c,n),l3(s[c])||(s[c]={}),u=s[c]);const l=v3(e,r,"@container")||[],A=p3(t),h=f3(t);let f;h?f=t["@list"]:A&&(f=t["@graph"]);let d=S3.compact({activeCtx:e,activeProperty:r,element:h||A?f:t,options:n,compactionMap:i});if(h){if(u3(d)||(d=[d]),l.includes("@list")){_3(u,r,d,{valueIsArray:!0,allowDuplicate:!0});continue}d={[S3.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:d},"@index"in t&&(d[S3.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(A)if(l.includes("@graph")&&(l.includes("@id")||l.includes("@index")&&g3(t))){let i;u.hasOwnProperty(r)?i=u[r]:u[r]=i={};const o=(l.includes("@id")?t["@id"]:t["@index"])||S3.compactIri({activeCtx:e,iri:"@none",vocab:!0});_3(i,o,d,{propertyIsArray:!n.compactArrays||l.includes("@set")})}else l.includes("@graph")&&g3(t)||(u3(d)&&1===d.length&&n.compactArrays&&(d=d[0]),d={[S3.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:d},"@id"in t&&(d[S3.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(d[S3.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])),_3(u,r,d,{propertyIsArray:!n.compactArrays||l.includes("@set")});else if(l.includes("@language")||l.includes("@index")||l.includes("@id")||l.includes("@type")){let n,i;if(u.hasOwnProperty(r)?n=u[r]:u[r]=n={},l.includes("@language"))d3(d)&&(d=d["@value"]),i=t["@language"];else if(l.includes("@index"))i=t["@index"];else if(l.includes("@id")){const t=S3.compactIri({activeCtx:e,iri:"@id",vocab:!0});i=d[t],delete d[t]}else if(l.includes("@type")){const t=S3.compactIri({activeCtx:e,iri:"@type",vocab:!0});let r;switch([i,...r]=B3(d[t]||[]),r.length){case 0:delete d[t];break;case 1:d[t]=r[0];break;default:d[t]=r}}i||(i=S3.compactIri({activeCtx:e,iri:"@none",vocab:!0})),_3(n,i,d,{propertyIsArray:l.includes("@set")})}else{const e=!n.compactArrays||l.includes("@set")||l.includes("@list")||u3(d)&&0===d.length||"@list"===a||"@graph"===a;_3(u,r,d,{propertyIsArray:e})}}}else{if((v3(e,t,"@container")||[]).includes("@index"))continue;const r=S3.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});_3(s,r,c)}else{const r=S3.compact({activeCtx:e,activeProperty:t,element:c,options:n,compactionMap:i});u3(r)&&0===r.length||_3(s,a,r)}else{const t=S3.compact({activeCtx:e,activeProperty:"@reverse",element:c,options:n,compactionMap:i});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const i=t[r],o=(v3(e,r,"@container")||[]).includes("@set")||!n.compactArrays;_3(s,r,i,{propertyIsArray:o}),delete t[r]}if(Object.keys(t).length>0){const r=S3.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});_3(s,r,t)}}else{const t="@type"===a,r=t&&e.previousContext||e;let n=B3(c).map((e=>S3.compactIri({activeCtx:r,iri:e,relativeTo:{vocab:t}})));1===n.length&&(n=n[0]);const i=S3.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}}),o=u3(n)&&0===c.length;_3(s,i,n,{propertyIsArray:o})}}return s}return r},S3.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:n={vocab:!1},reverse:i=!1})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const o=e.getInverse();if(b3(t)&&t in o&&"@none"in o[t]&&"@type"in o[t]["@none"]&&"@none"in o[t]["@none"]["@type"])return o[t]["@none"]["@type"]["@none"];if(n.vocab&&t in o){const n=e["@language"]||"@none",o=[];l3(r)&&"@index"in r&&!("@graph"in r)&&o.push("@index","@index@set"),l3(r)&&"@preserve"in r&&(r=r["@preserve"][0]),p3(r)?("@index"in r&&o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&o.push("@graph@id","@graph@id@set"),o.push("@graph","@graph@set","@set"),"@index"in r||o.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||o.push("@graph@id","@graph@id@set")):l3(r)&&!d3(r)&&o.push("@id","@id@set","@type","@set@type");let s="@language",a="@null";if(i)s="@type",a="@reverse",o.push("@set");else if(f3(r)){"@index"in r||o.push("@list");const e=r["@list"];if(0===e.length)s="@any",a="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",s="@none";if(d3(i)?"@language"in i?o=i["@language"]:"@type"in i?s=i["@type"]:o="@null":s="@id",null===t?t=o:o!==t&&d3(i)&&(t="@none"),null===r?r=s:s!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(s="@type",a=r):a=t}}else d3(r)?"@language"in r&&!("@index"in r)?(o.push("@language","@language@set"),a=r["@language"]):"@type"in r&&(s="@type",a=r["@type"]):(s="@type",a="@id"),o.push("@set");o.push("@none"),l3(r)&&!("@index"in r)&&o.push("@index","@index@set"),d3(r)&&1===Object.keys(r).length&&o.push("@language","@language@set");const c=function(e,t,r,n,i,o){null===o&&(o="@null");const s=[];if("@id"!==o&&"@reverse"!==o||!m3(r))s.push(o);else{"@reverse"===o&&s.push("@reverse");const t=S3.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}s.push("@none");const a=e.inverse[t];for(let e=0;e<n.length;++e){const t=n[e];if(!(t in a))continue;const r=a[t][i];for(let e=0;e<s.length;++e){const t=s[e];if(t in r)return r[t]}}return null}(e,t,r,o,s,a);if(null!==c)return c}if(n.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let s=null;const a=[];let c=e.fastCurieMap;const u=t.length-1;for(let e=0;e<u&&t[e]in c;++e)c=c[t[e]],""in c&&a.push(c[""][0]);for(let n=a.length-1;n>=0;--n){const i=a[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t)&&(null===s||E3(o,s)<0)&&(s=o)}}return null!==s?s:n.vocab?t:x3(e["@base"],t)},S3.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(d3(r)){const n=v3(e,t,"@type"),i=v3(e,t,"@language"),o=v3(e,t,"@container")||[],s="@index"in r&&!o.includes("@index");if(!s&&(r["@type"]===n||r["@language"]===i))return r["@value"];const a=Object.keys(r).length,c=1===a||2===a&&"@index"in r&&!s,u="@language"in e,l=A3(r["@value"]),A=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(c&&(!u||!l||A))return r["@value"];const h={};return s&&(h[S3.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?h[S3.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=S3.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(h[S3.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),h[S3.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],h}const i=y3(e,t,{vocab:!0},n),o=v3(e,t,"@type"),s=S3.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o}});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[S3.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}},
/**
   * Removes the @preserve keywords as the last step of the compaction
   * algorithm when it is running on framed output.
   *
   * @param ctx the active context used to compact the input.
   * @param input the framed, compacted output.
   * @param options the compaction options used.
   *
   * @return the resulting output.
   */
S3.removePreserve=(e,t,r)=>{if(u3(t)){const n=[];for(let i=0;i<t.length;++i){const o=S3.removePreserve(e,t[i],r);null!==o&&n.push(o)}t=n}else if(l3(t)){
// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(d3(t))return t;if(f3(t))return t["@list"]=S3.removePreserve(e,t["@list"],r),t;const n=S3.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(t.hasOwnProperty(n)){const e=t[n];if(r.link.hasOwnProperty(e)){const n=r.link[e].indexOf(t);if(-1!==n)return r.link[e][n];r.link[e].push(t)}else r.link[e]=[t]}const i=S3.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(const o in t){if(o===n&&r.bnodesToClear.includes(t[o])){delete t[n];continue}let s=S3.removePreserve(e,t[o],r);const a=v3(e,o,"@container")||[];r.compactArrays&&u3(s)&&1===s.length&&0===a.length&&o!==i&&(s=s[0]),t[o]=s}}return t};const{callbackify:P3,normalizeDocumentLoader:T3}=i2;var O3=class{constructor(){this._requests={},this.add=P3(this.add.bind(this))}wrapLoader(e){const t=this;return t._loader=T3(e),function(){return t.add.apply(t,arguments)}}add(e){var t,r=this;return(t=function*(){const t=r;let n=t._requests[e];if(n)return Promise.resolve(n);n=t._requests[e]=t._loader(e);try{return yield n}finally{delete t._requests[e]}},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(e){k3(o,n,i,s,a,"next",e)}function a(e){k3(o,n,i,s,a,"throw",e)}s(void 0)}))})()}};function L3(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function N3(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){L3(o,n,i,s,a,"next",e)}function a(e){L3(o,n,i,s,a,"throw",e)}s(void 0)}))}}const{parseLinkHeader:U3,buildHeaders:F3}=i2,{LINK_HEADER_REL:M3}=h2;var R3=({secure:e,strictSSL:t=!0,maxRedirects:r=-1,request:n,headers:i={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{i=F3(i),n=n||SY;const o=SY;return(new O3).wrapLoader((function(e){return s(e,[])}));function s(e,t){return a.apply(this,arguments)}function a(){return(a=N3((function*(a,c){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new $1('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new $1('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let u,l=null;if(null!==l)return l;try{u=yield D3(n,{url:a,headers:i,strictSSL:t,followRedirect:!1})}catch(e){throw new $1("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:e})}const{res:A,body:h}=u;l={contextUrl:null,documentUrl:a,document:h||null};const f=o.STATUS_CODES[A.statusCode];if(A.statusCode>=400)throw new $1("URL could not be dereferenced: "+f,"jsonld.InvalidUrl",{code:"loading document failed",url:a,httpStatusCode:A.statusCode});if(A.headers.link&&"application/ld+json"!==A.headers["content-type"]){const e=U3(A.headers.link)[M3];if(Array.isArray(e))throw new $1("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});e&&(l.contextUrl=e.target)}if(A.statusCode>=300&&A.statusCode<400&&A.headers.location){if(c.length===r)throw new $1("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:a,httpStatusCode:A.statusCode,redirects:c});if(-1!==c.indexOf(a))throw new $1("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:a,httpStatusCode:A.statusCode,redirects:c});return c.push(a),s(A.headers.location,c)}return c.push(a),l}))).apply(this,arguments)}};function D3(e,t){return new Promise(((r,n)=>{e(t,((e,t,i)=>{e?n(e):r({res:t,body:i})}))}))}function j3(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Q3(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){j3(o,n,i,s,a,"next",e)}function a(e){j3(o,n,i,s,a,"throw",e)}s(void 0)}))}}const{parseLinkHeader:H3,buildHeaders:K3}=i2,{LINK_HEADER_REL:V3}=h2,z3=/(^|(\r\n))link:/i;var q3=({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=K3(t),(new O3).wrapLoader((function(e){return n.apply(this,arguments)}));function n(){return(n=Q3((function*(n){if(0!==n.indexOf("http:")&&0!==n.indexOf("https:"))throw new $1('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:n});if(e&&0!==n.indexOf("https"))throw new $1('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:n});let i;try{i=yield G3(r,n,t)}catch(e){throw new $1("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:n,cause:e})}if(i.status>=400)throw new $1("URL could not be dereferenced: "+i.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:n,httpStatusCode:i.status});const o={contextUrl:null,documentUrl:n,document:i.response},s=i.getResponseHeader("Content-Type");let a;if(z3.test(i.getAllResponseHeaders())&&(a=i.getResponseHeader("Link")),a&&"application/ld+json"!==s){if(a=H3(a)[V3],Array.isArray(a))throw new $1("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:n});a&&(o.contextUrl=a.target)}return o}))).apply(this,arguments)}};function G3(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise(((e,i)=>{n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()}))}function W3(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function $3(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){W3(o,n,i,s,a,"next",e)}function a(e){W3(o,n,i,s,a,"throw",e)}s(void 0)}))}}
/**
   * A JavaScript implementation of the JSON-LD API.
   *
   * @author Dave Longley
   *
   * @license BSD 3-Clause License
   * Copyright (c) 2011-2017 Digital Bazaar, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * Redistributions in binary form must reproduce the above copyright
   * notice, this list of conditions and the following disclaimer in the
   * documentation and/or other materials provided with the distribution.
   *
   * Neither the name of the Digital Bazaar, Inc. nor the names of its
   * contributors may be used to endorse or promote products derived from
   * this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
   * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
   * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   */const J3=i2.IdentifierIssuer,{expand:X3}=a5,{flatten:Y3}=m5,{fromRDF:Z3}=P5,{toRDF:e4}=q5,{frameMergedOrDefault:t4}=Z5,{isArray:r4,isObject:n4,isString:i4}=q1,{isSubjectReference:o4}=W1,{getInitialContext:s4,process:a4,getAllContexts:c4}=M2,{compact:u4,compactIri:l4,removePreserve:A4}=C3,{createNodeMap:h4,createMergedNodeMap:f4,mergeNodeMaps:d4}=f5,p4=void 0!==RW&&RW.versions&&RW.versions.node,g4=!p4&&("undefined"!=typeof window||"undefined"!=typeof self),m4=function(e){const t={};function r(t,r){let{documentLoader:n=e.documentLoader}=r,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,["documentLoader"]);return Object.assign({},{documentLoader:n},i,t)}return e.compact=i2.callbackify(function(){var t=$3((function*(t,n,i){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new $1("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(i=r(i,{base:i4(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new J3("_:b")})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,o=i.skipExpansion?t:yield e.expand(t,i);const s=yield e.processContext(s4(i),n,i);let a=u4({activeCtx:s,element:o,options:i,compactionMap:i.compactionMap});i.compactArrays&&!i.graph&&r4(a)?1===a.length?a=a[0]:0===a.length&&(a={}):i.graph&&n4(a)&&(a=[a]),n4(n)&&"@context"in n&&(n=n["@context"]),n=i2.clone(n),r4(n)||(n=[n]);const c=n;n=[];for(let e=0;e<c.length;++e)(!n4(c[e])||Object.keys(c[e]).length>0)&&n.push(c[e]);const u=n.length>0;if(1===n.length&&(n=n[0]),r4(a)){const e=l4({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}}),t=a;a={},u&&(a["@context"]=n),a[e]=t}else if(n4(a)&&u){const e=a;a={"@context":n};for(const t in e)a[t]=e[t]}if(i.framing){const e=l4({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}});// remove @preserve from results
i.link={},a[e]=A4(s,a[e],i)}return a}));return function(e,r,n){return t.apply(this,arguments)}}()),e.expand=i2.callbackify(function(){var t=$3((function*(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=r(n,{keepFreeFloatingNodes:!1})).expansionMap&&(n.expansionMap=void 0);const i={},o=[];if("expandContext"in n){const e=i2.clone(n.expandContext);n4(e)&&"@context"in e?i.expandContext=e:i.expandContext={"@context":e},o.push(i.expandContext)}let s;if(i4(t)){const r=yield e.get(t,n);s=r.documentUrl,i.input=r.document,r.contextUrl&&(i.remoteContext={"@context":r.contextUrl},o.push(i.remoteContext))}else i.input=i2.clone(t);"base"in n||(n.base=s||""),yield c4(i,n);let a=s4(n);o.forEach((e=>{a=a4({activeCtx:a,localCtx:e,options:n})}));let c=X3({activeCtx:a,element:i.input,options:n,expansionMap:n.expansionMap});return n4(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),r4(c)||(c=[c]),c}));return function(e,r){return t.apply(this,arguments)}}()),e.flatten=i2.callbackify(function(){var t=$3((function*(t,n,i){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,i=r(i,{base:i4(t)?t:""});const o=yield e.expand(t,i),s=Y3(o);if(null===n)return s;i.graph=!0,i.skipExpansion=!0;const a=yield e.compact(s,n,i);return a}));return function(e,r,n){return t.apply(this,arguments)}}()),e.frame=i2.callbackify(function(){var t=$3((function*(t,n,i){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(i=r(i,{base:i4(t)?t:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),i4(n)){const t=yield e.get(n,i);if(n=t.document,t.contextUrl){let e=n["@context"];e?r4(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const o=n&&n["@context"]||{},s=yield e.expand(t,i),a=i2.clone(i);a.isFrame=!0,a.keepFreeFloatingNodes=!0;const c=yield e.expand(n,a);a.merged=!("@graph"in n);const u=t4(s,c,a);a.graph=!0,a.skipExpansion=!0,a.link={},a.framing=!0;const l=yield e.compact(u,o,a);return l}));return function(e,r,n){return t.apply(this,arguments)}}()),e.link=i2.callbackify(function(){var t=$3((function*(t,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)}));return function(e,r,n){return t.apply(this,arguments)}}()),e.normalize=e.canonize=i2.callbackify(function(){var t=$3((function*(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=r(n,{base:i4(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new $1("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u2.parse(t);return kY.canonize(e,n)}const i=i2.clone(n);delete i.format,i.produceGeneralizedRdf=!1;const o=yield e.toRDF(t,i);return kY.canonize(o,n)}));return function(e,r){return t.apply(this,arguments)}}()),e.fromRDF=i2.callbackify(function(){var e=$3((function*(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=r(n,{format:i4(e)?"application/n-quads":void 0});const{format:i}=n;let o,{rdfParser:s}=n;if(i){if(s=s||t[i],!s)throw new $1("Unknown input format.","jsonld.UnknownFormat",{format:i})}else s=()=>e;return o=s.length>1?new Promise(((t,r)=>{s(e,((e,n)=>{e?r(e):t(n)}))})):Promise.resolve(s(e)),o=yield o,Array.isArray(o)||(o=u2.legacyDatasetToQuads(o)),Z3(o,n)}));return function(t,r){return e.apply(this,arguments)}}()),e.toRDF=i2.callbackify(function(){var t=$3((function*(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let i;i=(n=r(n,{base:i4(t)?t:"",skipExpansion:!1})).skipExpansion?t:yield e.expand(t,n);const o=e4(i,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return yield u2.serialize(o);throw new $1("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return o}));return function(e,r){return t.apply(this,arguments)}}()),e.createNodeMap=i2.callbackify(function(){var t=$3((function*(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=r(n,{base:i4(t)?t:""});const i=yield e.expand(t,n);return f4(i,n)}));return function(e,r){return t.apply(this,arguments)}}()),e.merge=i2.callbackify(function(){var t=$3((function*(t,n,i){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!r4(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,i=r(i,{});const o=yield Promise.all(t.map((t=>{const r=Object.assign({},i);return e.expand(t,r)})));let s=!0;"mergeNodes"in i&&(s=i.mergeNodes);const a=i.issuer||new J3("_:b"),c={"@default":{}};for(let e=0;e<o.length;++e){const t=i2.relabelBlankNodes(o[e],{issuer:new J3("_:b"+e+"-")}),r=s||0===e?c:{"@default":{}};if(h4(t,r,"@default",a),r!==c)for(const e in r){const t=r[e];if(!(e in c)){c[e]=t;continue}const n=c[e];for(const e in t)e in n||(n[e]=t[e])}}const u=d4(c),l=[],A=Object.keys(u).sort();for(let e=0;e<A.length;++e){const t=u[A[e]];o4(t)||l.push(t)}if(null===n)return l;i.graph=!0,i.skipExpansion=!0;const h=yield e.compact(l,n,i);return h}));return function(e,r,n){return t.apply(this,arguments)}}()),Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=i2.normalizeDocumentLoader(t)}),e.documentLoader=function(){var e=$3((function*(e){throw new $1("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})}));return function(t){return e.apply(this,arguments)}}(),e.loadDocument=i2.callbackify($3((function*(){return e.documentLoader.apply(null,arguments)}))),e.get=i2.callbackify(function(){var t=$3((function*(t,r){let n;n="function"==typeof r.documentLoader?i2.normalizeDocumentLoader(r.documentLoader):e.documentLoader;const i=yield n(t);try{if(!i.document)throw new $1("No remote document found at the given URL.","jsonld.NullRemoteDocument");i4(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new $1("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i}));return function(e,r){return t.apply(this,arguments)}}()),e.processContext=i2.callbackify(function(){var e=$3((function*(e,t,n){if(n=r(n,{base:""}),null===t)return s4(n);t=i2.clone(t),n4(t)&&"@context"in t||(t={"@context":t});const i=yield c4(t,n);return a4({activeCtx:e,localCtx:i,options:n})}));return function(t,r,n){return e.apply(this,arguments)}}()),e.getContextValue=M2.getContextValue,e.documentLoaders={},e.documentLoaders.node=R3,e.documentLoaders.xhr=q3,e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new $1('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u2.parse),e.registerRDFParser("application/nquads",u2.parse),e.registerRDFParser("rdfa-api",class{parse(e){const t={"@default":[]},r=e.getSubjects();for(let n=0;n<r.length;++n){const i=r[n];if(null===i)continue;const o=e.getSubjectTriples(i);if(null===o)continue;const s=o.predicates;for(const e in s){const r=s[e].objects;for(let n=0;n<r.length;++n){const o=r[n],s={};0===i.indexOf("_:")?s.subject={type:"blank node",value:i}:s.subject={type:"IRI",value:i},0===e.indexOf("_:")?s.predicate={type:"blank node",value:e}:s.predicate={type:"IRI",value:e};let a=o.value;if(o.type===g2){const e=new("undefined"==typeof XMLSerializer?SY.XMLSerializer:XMLSerializer);a="";for(let t=0;t<o.value.length;t++)o.value[t].nodeType===y2.ELEMENT_NODE?a+=e.serializeToString(o.value[t]):o.value[t].nodeType===y2.TEXT_NODE&&(a+=o.value[t].nodeValue)}s.object={},o.type===p2?0===o.value.indexOf("_:")?s.object.type="blank node":s.object.type="IRI":(s.object.type="literal",o.type===d2?o.language?(s.object.datatype=f2,s.object.language=o.language):s.object.datatype=m2:s.object.datatype=o.type),s.object.value=a,t["@default"].push(s)}}}return t}}.parse),e.url=w2,e.util=i2,Object.assign(e,i2),e.promises=e,e.RequestQueue=O3,e.JsonLdProcessor=(e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t})(e),g4&&void 0===sG.JsonLdProcessor&&Object.defineProperty(sG,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),p4?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},y4=function(){return m4((function(){return y4()}))};m4(y4);var v4=y4,b4=cG((function(e){ZX.gte(RW.version,"8.6.0")?e.exports=V1:e.exports=v4}));b4.jsonld;var w4=cG((function(e){!function(t){var r={bytesToHex:function(e){return function(e){return e.map((function(e){return 2,(t=e.toString(16)).length>2?t:Array(2-t.length+1).join("0")+t;var t})).join("")}(e)},hexToBytes:function(e){if(e.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===e.indexOf("0x")&&(e=e.slice(2)),e.match(/../g).map((function(e){return parseInt(e,16)}))}};e.exports?e.exports=r:t.convertHex=r}(sG)})),x4=cG((function(e){!function(t){var r={bytesToString:function(e){return e.map((function(e){return String.fromCharCode(e)})).join("")},stringToBytes:function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))}};r.UTF8={bytesToString:function(e){return decodeURIComponent(escape(r.bytesToString(e)))},stringToBytes:function(e){return r.stringToBytes(unescape(encodeURIComponent(e)))}},e.exports?e.exports=r:t.convertString=r}(sG)})),_4=cG((function(e){!function(t){var r={};e.exports?(r.bytesToHex=w4.bytesToHex,r.convertString=x4,e.exports=s):(r.bytesToHex=t.convertHex.bytesToHex,r.convertString=t.convertString,t.sha256=s);var n=[];!function(){function e(e){for(var t=Math.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(n[i]=t(Math.pow(r,1/3)),i++),r++}();var i=[],o=function(e,t,r){for(var o=e[0],s=e[1],a=e[2],c=e[3],u=e[4],l=e[5],A=e[6],h=e[7],f=0;f<64;f++){if(f<16)i[f]=0|t[r+f];else{var d=i[f-15],p=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=i[f-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;i[f]=p+i[f-7]+m+i[f-16]}var y=o&s^o&a^s&a,v=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),b=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&A)+n[f]+i[f];h=A,A=l,l=u,u=c+b|0,c=a,a=s,s=o,o=b+(v+y)|0}e[0]=e[0]+o|0,e[1]=e[1]+s|0,e[2]=e[2]+a|0,e[3]=e[3]+c|0,e[4]=e[4]+u|0,e[5]=e[5]+l|0,e[6]=e[6]+A|0,e[7]=e[7]+h|0};function s(e,t){e.constructor===String&&(e=r.convertString.UTF8.stringToBytes(e));var n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],i=function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t}(e),s=8*e.length;i[s>>5]|=128<<24-s%32,i[15+(s+64>>9<<4)]=s;for(var a=0;a<i.length;a+=16)o(n,i,a);var c=function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t}(n);return t&&t.asBytes?c:t&&t.asString?r.convertString.bytesToString(c):r.bytesToHex(c)}s.x2=function(e,t){return s(s(e,{asBytes:!0}),t)}}(sG)}));function B4(e){e=e.trim();const t=[];for(let r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t}var E4=cG((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),S4=cG((function(e,t){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=fW.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=fW:(n(fW,t),t.Buffer=i),i.prototype=Object.create(r.prototype),n(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return fW.SlowBuffer(e)}}));S4.Buffer;var C4=rJ.EventEmitter;function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k4(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P4=fW.Buffer,T4=SY.inspect,O4=T4&&T4.custom||"inspect";function L4(e,t,r){P4.prototype.copy.call(e,t,r)}var N4=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t;return(t=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return P4.alloc(0);for(var t=P4.allocUnsafe(e>>>0),r=this.head,n=0;r;)L4(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=P4.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:O4,value:function(e,t){return T4(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I4(Object(r),!0).forEach((function(t){k4(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function U4(e,t){M4(e,t),F4(e)}function F4(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function M4(e,t){e.emit("error",t)}var R4=function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,EW(M4,this,e)):EW(M4,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?EW(F4,r):(r._writableState.errorEmitted=!0,EW(U4,r,e)):EW(U4,r,e):t?(EW(F4,r),t(e)):EW(F4,r)})),this)},D4=function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},j4=function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)},Q4={};function H4(e,t,r){r||(r=Error);var n=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);n.prototype.name=r.name,n.prototype.code=e,Q4[e]=n}function K4(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}H4("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),H4("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i,o;if("string"==typeof t&&(i="not ",t.substr(0,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(K4(t,"type"));else{var s=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+".".length>e.length)&&-1!==e.indexOf(".",r)}(e)?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(K4(t,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),H4("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),H4("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),H4("ERR_STREAM_PREMATURE_CLOSE","Premature close"),H4("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),H4("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),H4("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),H4("ERR_STREAM_WRITE_AFTER_END","write after end"),H4("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),H4("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),H4("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");var V4={codes:Q4},z4=V4.codes.ERR_INVALID_OPT_VALUE,q4=function(e,t,r,n){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new z4(n?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384};function G4(e){try{if(!sG.localStorage)return!1}catch(e){return!1}var t=sG.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}var W4,$4=d6;function J4(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}d6.WritableState=f6;var X4,Y4=function(e,t){if(G4("noDeprecation"))return e;var r=!1;return function(){if(!r){if(G4("throwDeprecation"))throw new Error(t);G4("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}},Z4=fW.Buffer,e6=sG.Uint8Array||function(){},t6=q4,r6=V4.codes,n6=r6.ERR_INVALID_ARG_TYPE,i6=r6.ERR_METHOD_NOT_IMPLEMENTED,o6=r6.ERR_MULTIPLE_CALLBACK,s6=r6.ERR_STREAM_CANNOT_PIPE,a6=r6.ERR_STREAM_DESTROYED,c6=r6.ERR_STREAM_NULL_VALUES,u6=r6.ERR_STREAM_WRITE_AFTER_END,l6=r6.ERR_UNKNOWN_ENCODING,A6=j4;function h6(){}function f6(e,t,r){W4=W4||x6,e=e||{},"boolean"!=typeof r&&(r=t instanceof W4),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=t6(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new o6;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(EW(i,n),EW(b6,e,t),e._writableState.errorEmitted=!0,A6(e,n)):(i(n),e._writableState.errorEmitted=!0,A6(e,n),b6(e,t))}(e,r,n,t,i);else{var o=y6(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||m6(e,r),n?EW(g6,e,r,o,i):g6(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new J4(this)}function d6(e){var t=this instanceof(W4=W4||x6);if(!t&&!X4.call(d6,this))return new d6(e);this._writableState=new f6(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),C4.call(this)}function p6(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new a6("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g6(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),b6(e,t)}function m6(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,p6(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new J4(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback;if(p6(e,t,!1,t.objectMode?1:c.length,c,u,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function y6(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function v6(e,t){e._final((function(r){t.pendingcb--,r&&A6(e,r),t.prefinished=!0,e.emit("prefinish"),b6(e,t)}))}function b6(e,t){var r=y6(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,EW(v6,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}E4(d6,C4),f6.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(f6.prototype,"buffer",{get:Y4((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(X4=Function.prototype[Symbol.hasInstance],Object.defineProperty(d6,Symbol.hasInstance,{value:function(e){return!!X4.call(this,e)||this===d6&&e&&e._writableState instanceof f6}})):X4=function(e){return e instanceof this},d6.prototype.pipe=function(){A6(this,new s6)},d6.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,Z4.isBuffer(n)||n instanceof e6);return s&&!Z4.isBuffer(e)&&(e=function(e){return Z4.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=h6),i.ending?function(e,t){var r=new u6;A6(e,r),EW(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new c6:"string"==typeof r||t.objectMode||(i=new n6("chunk",["string","Buffer"],r)),!i||(A6(e,i),EW(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Z4.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else p6(e,t,!1,a,n,i,o);return c}(this,i,s,e,t,r)),o},d6.prototype.cork=function(){this._writableState.corked++},d6.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||m6(this,e))},d6.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new l6(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(d6.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d6.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),d6.prototype._write=function(e,t,r){r(new i6("_write()"))},d6.prototype._writev=null,d6.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,b6(e,t),r&&(t.finished?EW(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(d6.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d6.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),d6.prototype.destroy=R4,d6.prototype._undestroy=D4,d6.prototype._destroy=function(e,t){t(e)};var w6=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},x6=S6;E4(S6,c8);for(var _6=w6($4.prototype),B6=0;B6<_6.length;B6++){var E6=_6[B6];S6.prototype[E6]||(S6.prototype[E6]=$4.prototype[E6])}function S6(e){if(!(this instanceof S6))return new S6(e);c8.call(this,e),$4.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",C6)))}function C6(){this._writableState.ended||EW(I6,this)}function I6(e){e.end()}Object.defineProperty(S6.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(S6.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S6.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S6.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}});var k6=S4.Buffer,P6=k6.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},T6=O6;function O6(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(k6.isEncoding===P6||!P6(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=U6,this.end=F6,t=4;break;case"utf8":this.fillLast=N6,t=4;break;case"base64":this.text=M6,this.end=R6,t=3;break;default:return this.write=D6,void(this.end=j6)}this.lastNeed=0,this.lastTotal=0,this.lastChar=k6.allocUnsafe(t)}function L6(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function N6(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ÔøΩ";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ÔøΩ";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ÔøΩ"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function U6(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function F6(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function M6(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function R6(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function D6(e){return e.toString(this.encoding)}function j6(e){return e&&e.length?this.write(e):""}O6.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},O6.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ÔøΩ":t},O6.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=L6(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=L6(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=L6(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},O6.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var Q6={StringDecoder:T6},H6=V4.codes.ERR_STREAM_PREMATURE_CLOSE;function K6(){}var V6,z6=function e(t,r,n){if("function"==typeof r)return e(t,null,r);r||(r={}),n=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(n||K6);var i=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,s=function(){t.writable||c()},a=t._writableState&&t._writableState.finished,c=function(){o=!1,a=!0,i||n.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){i=!1,u=!0,o||n.call(t)},A=function(e){n.call(t,e)},h=function(){var e;return i&&!u?(t._readableState&&t._readableState.ended||(e=new H6),n.call(t,e)):o&&!a?(t._writableState&&t._writableState.ended||(e=new H6),n.call(t,e)):void 0},f=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",h),t.req?f():t.on("request",f)):o&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",c),!1!==r.error&&t.on("error",A),t.on("close",h),function(){t.removeListener("complete",c),t.removeListener("abort",h),t.removeListener("request",f),t.req&&t.req.removeListener("finish",c),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",c),t.removeListener("end",l),t.removeListener("error",A),t.removeListener("close",h)}};function q6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G6=Symbol("lastResolve"),W6=Symbol("lastReject"),$6=Symbol("error"),J6=Symbol("ended"),X6=Symbol("lastPromise"),Y6=Symbol("handlePromise"),Z6=Symbol("stream");function e8(e,t){return{value:e,done:t}}function t8(e){var t=e[G6];if(null!==t){var r=e[Z6].read();null!==r&&(e[X6]=null,e[G6]=null,e[W6]=null,t(e8(r,!1)))}}function r8(e){EW(t8,e)}var n8,i8=Object.getPrototypeOf((function(){})),o8=Object.setPrototypeOf((q6(V6={get stream(){return this[Z6]},next:function(){var e=this,t=this[$6];if(null!==t)return Promise.reject(t);if(this[J6])return Promise.resolve(e8(void 0,!0));if(this[Z6].destroyed)return new Promise((function(t,r){EW((function(){e[$6]?r(e[$6]):t(e8(void 0,!0))}))}));var r,n=this[X6];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[J6]?r(e8(void 0,!0)):t[Y6](r,n)}),n)}}(n,this));else{var i=this[Z6].read();if(null!==i)return Promise.resolve(e8(i,!1));r=new Promise(this[Y6])}return this[X6]=r,r}},Symbol.asyncIterator,(function(){return this})),q6(V6,"return",(function(){var e=this;return new Promise((function(t,r){e[Z6].destroy(null,(function(e){e?r(e):t(e8(void 0,!0))}))}))})),V6),i8),s8=function(e){var t,r=Object.create(o8,(q6(t={},Z6,{value:e,writable:!0}),q6(t,G6,{value:null,writable:!0}),q6(t,W6,{value:null,writable:!0}),q6(t,$6,{value:null,writable:!0}),q6(t,J6,{value:e._readableState.endEmitted,writable:!0}),q6(t,Y6,{value:function(e,t){var n=r[Z6].read();n?(r[X6]=null,r[G6]=null,r[W6]=null,e(e8(n,!1))):(r[G6]=e,r[W6]=t)},writable:!0}),t));return r[X6]=null,z6(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[W6];return null!==t&&(r[X6]=null,r[G6]=null,r[W6]=null,t(e)),void(r[$6]=e)}var n=r[G6];null!==n&&(r[X6]=null,r[G6]=null,r[W6]=null,n(e8(void 0,!0))),r[J6]=!0})),e.on("readable",r8.bind(null,r)),r},a8=function(){throw new Error("Readable.from is not available in the browser")},c8=E8;E8.ReadableState=B8;var u8,l8=function(e,t){return e.listeners(t).length},A8=fW.Buffer,h8=sG.Uint8Array||function(){};u8=SY&&SY.debuglog?SY.debuglog("stream"):function(){};var f8,d8,p8,g8=q4,m8=V4.codes,y8=m8.ERR_INVALID_ARG_TYPE,v8=m8.ERR_STREAM_PUSH_AFTER_EOF,b8=m8.ERR_METHOD_NOT_IMPLEMENTED,w8=m8.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E4(E8,C4);var x8=j4,_8=["error","close","destroy","pause","resume"];function B8(e,t,r){n8=n8||x6,e=e||{},"boolean"!=typeof r&&(r=t instanceof n8),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g8(this,e,"readableHighWaterMark",r),this.buffer=new N4,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f8||(f8=Q6.StringDecoder),this.decoder=new f8(e.encoding),this.encoding=e.encoding)}function E8(e){if(n8=n8||x6,!(this instanceof E8))return new E8(e);var t=this instanceof n8;this._readableState=new B8(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),C4.call(this)}function S8(e,t,r,n,i){u8("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u8("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k8(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P8(e)))}}(e,s);else if(i||(o=function(e,t){var r,n;return n=t,A8.isBuffer(n)||n instanceof h8||"string"==typeof t||void 0===t||e.objectMode||(r=new y8("chunk",["string","Buffer","Uint8Array"],t)),r}(s,t)),o)x8(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===A8.prototype||(t=function(e){return A8.from(e)}(t)),n)s.endEmitted?x8(e,new w8):C8(e,s,t,!0);else if(s.ended)x8(e,new v8);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?C8(e,s,t,!1):T8(e,s)):C8(e,s,t,!1)}else n||(s.reading=!1,T8(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function C8(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k8(e)),T8(e,t)}function I8(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k8(e){var t=e._readableState;u8("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u8("emitReadable",t.flowing),t.emittedReadable=!0,EW(P8,e))}function P8(e){var t=e._readableState;u8("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F8(e)}function T8(e,t){t.readingMore||(t.readingMore=!0,EW(O8,e,t))}function O8(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u8("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L8(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N8(e){u8("readable nexttick read 0"),e.read(0)}function U8(e,t){u8("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F8(e),t.flowing&&!t.reading&&e.read(0)}function F8(e){var t=e._readableState;for(u8("flow",t.flowing);t.flowing&&null!==e.read(););}function M8(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function R8(e){var t=e._readableState;u8("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,EW(D8,t,e))}function D8(e,t){if(u8("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function j8(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}Object.defineProperty(E8.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E8.prototype.destroy=R4,E8.prototype._undestroy=D4,E8.prototype._destroy=function(e,t){t(e)},E8.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=A8.from(e,t),t=""),r=!0),S8(this,e,t,!1,r)},E8.prototype.unshift=function(e){return S8(this,e,null,!0,!1)},E8.prototype.isPaused=function(){return!1===this._readableState.flowing},E8.prototype.setEncoding=function(e){f8||(f8=Q6.StringDecoder);var t=new f8(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},E8.prototype.read=function(e){u8("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u8("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R8(this):k8(this),null;if(0===(e=I8(e,t))&&t.ended)return 0===t.length&&R8(this),null;var n,i=t.needReadable;return u8("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u8("length less than watermark",i=!0),t.ended||t.reading?u8("reading or ended",i=!1):i&&(u8("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I8(r,t))),null===(n=e>0?M8(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&R8(this)),null!==n&&this.emit("data",n),n},E8.prototype._read=function(e){x8(this,new b8("_read()"))},E8.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,u8("pipe count=%d opts=%j",n.pipesCount,t);var i=t&&!1===t.end||e===RW.stdout||e===RW.stderr?h:o;function o(){u8("onend"),e.end()}n.endEmitted?EW(i):r.once("end",i),e.on("unpipe",(function t(i,f){u8("onunpipe"),i===r&&f&&!1===f.hasUnpiped&&(f.hasUnpiped=!0,u8("cleanup"),e.removeListener("close",l),e.removeListener("finish",A),e.removeListener("drain",s),e.removeListener("error",u),e.removeListener("unpipe",t),r.removeListener("end",o),r.removeListener("end",h),r.removeListener("data",c),a=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s())}));var s=function(e){return function(){var t=e._readableState;u8("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&l8(e,"data")&&(t.flowing=!0,F8(e))}}(r);e.on("drain",s);var a=!1;function c(t){u8("ondata");var i=e.write(t);u8("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==j8(n.pipes,e))&&!a&&(u8("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function u(t){u8("onerror",t),h(),e.removeListener("error",u),0===l8(e,"error")&&x8(e,t)}function l(){e.removeListener("finish",A),h()}function A(){u8("onfinish"),e.removeListener("close",l),h()}function h(){u8("unpipe"),r.unpipe(e)}return r.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",u),e.once("close",l),e.once("finish",A),e.emit("pipe",r),n.flowing||(u8("pipe resume"),r.resume()),e},E8.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=j8(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E8.prototype.on=function(e,t){var r=C4.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,u8("on readable",n.length,n.reading),n.length?k8(this):n.reading||EW(N8,this))),r},E8.prototype.addListener=E8.prototype.on,E8.prototype.removeListener=function(e,t){var r=C4.prototype.removeListener.call(this,e,t);return"readable"===e&&EW(L8,this),r},E8.prototype.removeAllListeners=function(e){var t=C4.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||EW(L8,this),t},E8.prototype.resume=function(){var e=this._readableState;return e.flowing||(u8("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,EW(U8,e,t))}(this,e)),e.paused=!1,this},E8.prototype.pause=function(){return u8("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u8("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E8.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u8("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){u8("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_8.length;o++)e.on(_8[o],this.emit.bind(this,_8[o]));return this._read=function(t){u8("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E8.prototype[Symbol.asyncIterator]=function(){return void 0===d8&&(d8=s8),d8(this)}),Object.defineProperty(E8.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E8.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E8.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E8._fromList=M8,Object.defineProperty(E8.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E8.from=function(e,t){return void 0===p8&&(p8=a8),p8(E8,e,t)});var Q8=W8,H8=V4.codes,K8=H8.ERR_METHOD_NOT_IMPLEMENTED,V8=H8.ERR_MULTIPLE_CALLBACK,z8=H8.ERR_TRANSFORM_ALREADY_TRANSFORMING,q8=H8.ERR_TRANSFORM_WITH_LENGTH_0;function G8(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new V8);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function W8(e){if(!(this instanceof W8))return new W8(e);x6.call(this,e),this._transformState={afterTransform:G8.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",$8)}function $8(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?J8(this,null,null):this._flush((function(t,r){J8(e,t,r)}))}function J8(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new q8;if(e._transformState.transforming)throw new z8;return e.push(null)}E4(W8,x6),W8.prototype.push=function(e,t){return this._transformState.needTransform=!1,x6.prototype.push.call(this,e,t)},W8.prototype._transform=function(e,t,r){r(new K8("_transform()"))},W8.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},W8.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},W8.prototype._destroy=function(e,t){x6.prototype._destroy.call(this,e,(function(e){t(e)}))};var X8,Y8=Z8;function Z8(e){if(!(this instanceof Z8))return new Z8(e);Q8.call(this,e)}E4(Z8,Q8),Z8.prototype._transform=function(e,t,r){r(null,e)};var e7=V4.codes,t7=e7.ERR_MISSING_ARGS,r7=e7.ERR_STREAM_DESTROYED;function n7(e){if(e)throw e}function i7(e,t,r,n){n=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(n);var i=!1;e.on("close",(function(){i=!0})),void 0===X8&&(X8=z6),X8(e,{readable:t,writable:r},(function(e){if(e)return n(e);i=!0,n()}));var o=!1;return function(t){if(!i&&!o)return o=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void n(t||new r7("pipe"))}}function o7(e){e()}function s7(e,t){return e.pipe(t)}function a7(e){return e.length?"function"!=typeof e[e.length-1]?n7:e.pop():n7}var c7=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=a7(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new t7("streams");var o=t.map((function(e,r){var s=r<t.length-1;return i7(e,s,r>0,(function(e){n||(n=e),e&&o.forEach(o7),s||(o.forEach(o7),i(n))}))}));return t.reduce(s7)},u7=cG((function(e,t){(t=e.exports=c8).Stream=t,t.Readable=t,t.Writable=$4,t.Duplex=x6,t.Transform=Q8,t.PassThrough=Y8,t.finished=z6,t.pipeline=c7}));u7.Stream,u7.Readable,u7.Writable,u7.Duplex,u7.Transform,u7.PassThrough,u7.finished,u7.pipeline;var l7=S4.Buffer,A7=u7.Transform;function h7(e){A7.call(this),this._block=l7.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E4(h7,A7),h7.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},h7.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},h7.prototype.update=function(e,t){if(function(e,t){if(!l7.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");l7.isBuffer(e)||(e=l7.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,s=8*e.length;s>0;++o)this._length[o]+=s,(s=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*s);return this},h7.prototype._update=function(){throw new Error("_update is not implemented")},h7.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},h7.prototype._digest=function(){throw new Error("_digest is not implemented")};var f7=h7,d7=S4.Buffer,p7=new Array(16);function g7(){f7.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function m7(e,t){return e<<t|e>>>32-t}function y7(e,t,r,n,i,o,s){return m7(e+(t&r|~t&n)+i+o|0,s)+t|0}function v7(e,t,r,n,i,o,s){return m7(e+(t&n|r&~n)+i+o|0,s)+t|0}function b7(e,t,r,n,i,o,s){return m7(e+(t^r^n)+i+o|0,s)+t|0}function w7(e,t,r,n,i,o,s){return m7(e+(r^(t|~n))+i+o|0,s)+t|0}E4(g7,f7),g7.prototype._update=function(){for(var e=p7,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=y7(r,n,i,o,e[0],3614090360,7),o=y7(o,r,n,i,e[1],3905402710,12),i=y7(i,o,r,n,e[2],606105819,17),n=y7(n,i,o,r,e[3],3250441966,22),r=y7(r,n,i,o,e[4],4118548399,7),o=y7(o,r,n,i,e[5],1200080426,12),i=y7(i,o,r,n,e[6],2821735955,17),n=y7(n,i,o,r,e[7],4249261313,22),r=y7(r,n,i,o,e[8],1770035416,7),o=y7(o,r,n,i,e[9],2336552879,12),i=y7(i,o,r,n,e[10],4294925233,17),n=y7(n,i,o,r,e[11],2304563134,22),r=y7(r,n,i,o,e[12],1804603682,7),o=y7(o,r,n,i,e[13],4254626195,12),i=y7(i,o,r,n,e[14],2792965006,17),r=v7(r,n=y7(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=v7(o,r,n,i,e[6],3225465664,9),i=v7(i,o,r,n,e[11],643717713,14),n=v7(n,i,o,r,e[0],3921069994,20),r=v7(r,n,i,o,e[5],3593408605,5),o=v7(o,r,n,i,e[10],38016083,9),i=v7(i,o,r,n,e[15],3634488961,14),n=v7(n,i,o,r,e[4],3889429448,20),r=v7(r,n,i,o,e[9],568446438,5),o=v7(o,r,n,i,e[14],3275163606,9),i=v7(i,o,r,n,e[3],4107603335,14),n=v7(n,i,o,r,e[8],1163531501,20),r=v7(r,n,i,o,e[13],2850285829,5),o=v7(o,r,n,i,e[2],4243563512,9),i=v7(i,o,r,n,e[7],1735328473,14),r=b7(r,n=v7(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=b7(o,r,n,i,e[8],2272392833,11),i=b7(i,o,r,n,e[11],1839030562,16),n=b7(n,i,o,r,e[14],4259657740,23),r=b7(r,n,i,o,e[1],2763975236,4),o=b7(o,r,n,i,e[4],1272893353,11),i=b7(i,o,r,n,e[7],4139469664,16),n=b7(n,i,o,r,e[10],3200236656,23),r=b7(r,n,i,o,e[13],681279174,4),o=b7(o,r,n,i,e[0],3936430074,11),i=b7(i,o,r,n,e[3],3572445317,16),n=b7(n,i,o,r,e[6],76029189,23),r=b7(r,n,i,o,e[9],3654602809,4),o=b7(o,r,n,i,e[12],3873151461,11),i=b7(i,o,r,n,e[15],530742520,16),r=w7(r,n=b7(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=w7(o,r,n,i,e[7],1126891415,10),i=w7(i,o,r,n,e[14],2878612391,15),n=w7(n,i,o,r,e[5],4237533241,21),r=w7(r,n,i,o,e[12],1700485571,6),o=w7(o,r,n,i,e[3],2399980690,10),i=w7(i,o,r,n,e[10],4293915773,15),n=w7(n,i,o,r,e[1],2240044497,21),r=w7(r,n,i,o,e[8],1873313359,6),o=w7(o,r,n,i,e[15],4264355552,10),i=w7(i,o,r,n,e[6],2734768916,15),n=w7(n,i,o,r,e[13],1309151649,21),r=w7(r,n,i,o,e[4],4149444226,6),o=w7(o,r,n,i,e[11],3174756917,10),i=w7(i,o,r,n,e[2],718787259,15),n=w7(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},g7.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=d7.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};var x7=g7,_7=fW.Buffer,B7=new Array(16),E7=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],S7=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],C7=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],I7=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],k7=[0,1518500249,1859775393,2400959708,2840853838],P7=[1352829926,1548603684,1836072691,2053994217,0];function T7(){f7.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function O7(e,t){return e<<t|e>>>32-t}function L7(e,t,r,n,i,o,s,a){return O7(e+(t^r^n)+o+s|0,a)+i|0}function N7(e,t,r,n,i,o,s,a){return O7(e+(t&r|~t&n)+o+s|0,a)+i|0}function U7(e,t,r,n,i,o,s,a){return O7(e+((t|~r)^n)+o+s|0,a)+i|0}function F7(e,t,r,n,i,o,s,a){return O7(e+(t&n|r&~n)+o+s|0,a)+i|0}function M7(e,t,r,n,i,o,s,a){return O7(e+(t^(r|~n))+o+s|0,a)+i|0}E4(T7,f7),T7.prototype._update=function(){for(var e=B7,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,c=0|this._b,u=0|this._c,l=0|this._d,A=0|this._e,h=0;h<80;h+=1){var f,d;h<16?(f=L7(r,n,i,o,s,e[E7[h]],k7[0],C7[h]),d=M7(a,c,u,l,A,e[S7[h]],P7[0],I7[h])):h<32?(f=N7(r,n,i,o,s,e[E7[h]],k7[1],C7[h]),d=F7(a,c,u,l,A,e[S7[h]],P7[1],I7[h])):h<48?(f=U7(r,n,i,o,s,e[E7[h]],k7[2],C7[h]),d=U7(a,c,u,l,A,e[S7[h]],P7[2],I7[h])):h<64?(f=F7(r,n,i,o,s,e[E7[h]],k7[3],C7[h]),d=N7(a,c,u,l,A,e[S7[h]],P7[3],I7[h])):(f=M7(r,n,i,o,s,e[E7[h]],k7[4],C7[h]),d=L7(a,c,u,l,A,e[S7[h]],P7[4],I7[h])),r=s,s=o,o=O7(i,10),i=n,n=f,a=A,A=l,l=O7(u,10),u=c,c=d}var p=this._b+i+l|0;this._b=this._c+o+A|0,this._c=this._d+s+a|0,this._d=this._e+r+c|0,this._e=this._a+n+u|0,this._a=p},T7.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=_7.alloc?_7.alloc(20):new _7(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};var R7=T7,D7=S4.Buffer;function j7(e,t){this._block=D7.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}j7.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=D7.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%n,c=Math.min(i-s,n-a),u=0;u<c;u++)r[a+u]=e[s+u];s+=c,(o+=c)%n==0&&this._update(r)}return this._len+=i,this},j7.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},j7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Q7=j7,H7=S4.Buffer,K7=[1518500249,1859775393,-1894007588,-899497514],V7=new Array(80);function z7(){this.init(),this._w=V7,Q7.call(this,64,56)}function q7(e){return e<<30|e>>>2}function G7(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}E4(z7,Q7),z7.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},z7.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,c=0;c<16;++c)r[c]=e.readInt32BE(4*c);for(;c<80;++c)r[c]=r[c-3]^r[c-8]^r[c-14]^r[c-16];for(var u=0;u<80;++u){var l=~~(u/20),A=0|((t=n)<<5|t>>>27)+G7(l,i,o,s)+a+r[u]+K7[l];a=s,s=o,o=q7(i),i=n,n=A}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},z7.prototype._hash=function(){var e=H7.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var W7=z7,$7=S4.Buffer,J7=[1518500249,1859775393,-1894007588,-899497514],X7=new Array(80);function Y7(){this.init(),this._w=X7,Q7.call(this,64,56)}function Z7(e){return e<<5|e>>>27}function e9(e){return e<<30|e>>>2}function t9(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}E4(Y7,Q7),Y7.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Y7.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,c=0;c<16;++c)r[c]=e.readInt32BE(4*c);for(;c<80;++c)r[c]=(t=r[c-3]^r[c-8]^r[c-14]^r[c-16])<<1|t>>>31;for(var u=0;u<80;++u){var l=~~(u/20),A=Z7(n)+t9(l,i,o,s)+a+r[u]+J7[l]|0;a=s,s=o,o=e9(i),i=n,n=A}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},Y7.prototype._hash=function(){var e=$7.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var r9=Y7,n9=S4.Buffer,i9=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o9=new Array(64);function s9(){this.init(),this._w=o9,Q7.call(this,64,56)}function a9(e,t,r){return r^e&(t^r)}function c9(e,t,r){return e&t|r&(e|t)}function u9(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l9(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function A9(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function h9(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}E4(s9,Q7),s9.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s9.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._f,c=0|this._g,u=0|this._h,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<64;++l)t[l]=h9(t[l-2])+t[l-7]+A9(t[l-15])+t[l-16]|0;for(var A=0;A<64;++A){var h=u+l9(s)+a9(s,a,c)+i9[A]+t[A]|0,f=u9(r)+c9(r,n,i)|0;u=c,c=a,a=s,s=o+h|0,o=i,i=n,n=r,r=h+f|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},s9.prototype._hash=function(){var e=n9.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var f9=s9,d9=S4.Buffer,p9=new Array(64);function g9(){this.init(),this._w=p9,Q7.call(this,64,56)}E4(g9,f9),g9.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},g9.prototype._hash=function(){var e=d9.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var m9=g9,y9=S4.Buffer,v9=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],b9=new Array(160);function w9(){this.init(),this._w=b9,Q7.call(this,128,112)}function x9(e,t,r){return r^e&(t^r)}function _9(e,t,r){return e&t|r&(e|t)}function B9(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function E9(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function S9(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function C9(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function I9(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function k9(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function P9(e,t){return e>>>0<t>>>0?1:0}E4(w9,Q7),w9.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},w9.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,a=0|this._fh,c=0|this._gh,u=0|this._hh,l=0|this._al,A=0|this._bl,h=0|this._cl,f=0|this._dl,d=0|this._el,p=0|this._fl,g=0|this._gl,m=0|this._hl,y=0;y<32;y+=2)t[y]=e.readInt32BE(4*y),t[y+1]=e.readInt32BE(4*y+4);for(;y<160;y+=2){var v=t[y-30],b=t[y-30+1],w=S9(v,b),x=C9(b,v),_=I9(v=t[y-4],b=t[y-4+1]),B=k9(b,v),E=t[y-14],S=t[y-14+1],C=t[y-32],I=t[y-32+1],k=x+S|0,P=w+E+P9(k,x)|0;P=(P=P+_+P9(k=k+B|0,B)|0)+C+P9(k=k+I|0,I)|0,t[y]=P,t[y+1]=k}for(var T=0;T<160;T+=2){P=t[T],k=t[T+1];var O=_9(r,n,i),L=_9(l,A,h),N=B9(r,l),U=B9(l,r),F=E9(s,d),M=E9(d,s),R=v9[T],D=v9[T+1],j=x9(s,a,c),Q=x9(d,p,g),H=m+M|0,K=u+F+P9(H,m)|0;K=(K=(K=K+j+P9(H=H+Q|0,Q)|0)+R+P9(H=H+D|0,D)|0)+P+P9(H=H+k|0,k)|0;var V=U+L|0,z=N+O+P9(V,U)|0;u=c,m=g,c=a,g=p,a=s,p=d,s=o+K+P9(d=f+H|0,f)|0,o=i,f=h,i=n,h=A,n=r,A=l,r=K+z+P9(l=H+V|0,H)|0}this._al=this._al+l|0,this._bl=this._bl+A|0,this._cl=this._cl+h|0,this._dl=this._dl+f|0,this._el=this._el+d|0,this._fl=this._fl+p|0,this._gl=this._gl+g|0,this._hl=this._hl+m|0,this._ah=this._ah+r+P9(this._al,l)|0,this._bh=this._bh+n+P9(this._bl,A)|0,this._ch=this._ch+i+P9(this._cl,h)|0,this._dh=this._dh+o+P9(this._dl,f)|0,this._eh=this._eh+s+P9(this._el,d)|0,this._fh=this._fh+a+P9(this._fl,p)|0,this._gh=this._gh+c+P9(this._gl,g)|0,this._hh=this._hh+u+P9(this._hl,m)|0},w9.prototype._hash=function(){var e=y9.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var T9=w9,O9=S4.Buffer,L9=new Array(160);function N9(){this.init(),this._w=L9,Q7.call(this,128,112)}E4(N9,T9),N9.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},N9.prototype._hash=function(){var e=O9.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var U9=N9,F9=cG((function(e){var t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};t.sha=W7,t.sha1=r9,t.sha224=m9,t.sha256=f9,t.sha384=U9,t.sha512=T9})),M9=S4.Buffer,R9=rX.Transform,D9=vJ.StringDecoder;function j9(e){R9.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}E4(j9,R9),j9.prototype.update=function(e,t,r){"string"==typeof e&&(e=M9.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},j9.prototype.setAutoPadding=function(){},j9.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},j9.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},j9.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},j9.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},j9.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},j9.prototype._finalOrDigest=function(e){var t=this.__final()||M9.alloc(0);return e&&(t=this._toString(t,e,!0)),t},j9.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new D9(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var Q9=j9;function H9(e){Q9.call(this,"digest"),this._hash=e}E4(H9,Q9),H9.prototype._update=function(e){this._hash.update(e)},H9.prototype._final=function(){return this._hash.digest()};var K9=function(e){return"md5"===(e=e.toLowerCase())?new x7:"rmd160"===e||"ripemd160"===e?new R7:new H9(F9(e))},V9=S4.Buffer,z9=V9.alloc(128);function q9(e,t){Q9.call(this,"digest"),"string"==typeof t&&(t=V9.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=V9.concat([t,z9],64));for(var r=this._ipad=V9.allocUnsafe(64),n=this._opad=V9.allocUnsafe(64),i=0;i<64;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}E4(q9,Q9),q9.prototype._update=function(e){this._hash.push(e)},q9.prototype._final=function(){var e=this._alg(V9.concat(this._hash));return this._alg(V9.concat([this._opad,e]))};var G9=q9,W9=function(e){return(new x7).update(e).digest()},$9=S4.Buffer,J9=$9.alloc(128);function X9(e,t){Q9.call(this,"digest"),"string"==typeof t&&(t=$9.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new R7:F9(e)).update(t).digest():t.length<r&&(t=$9.concat([t,J9],r));for(var n=this._ipad=$9.allocUnsafe(r),i=this._opad=$9.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new R7:F9(e),this._hash.update(n)}E4(X9,Q9),X9.prototype._update=function(e){this._hash.update(e)},X9.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new R7:F9(this._alg)).update(this._opad).update(e).digest()};var Y9=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new X9("rmd160",t):"md5"===e?new G9(W9,t):new X9(e,t)},Z9=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash160=function(e){const t=K9("sha256").update(e).digest();try{return K9("rmd160").update(t).digest()}catch(e){return K9("ripemd160").update(t).digest()}},t.hmacSHA512=function(e,t){return Y9("sha512",e).update(t).digest()}}));aG(Z9),Z9.hash160,Z9.hmacSHA512;var eee=S4.Buffer,tee=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return eee.alloc(0);var r=0;if(" "!==e[r]){for(var n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var A=0,h=o-1;(0!==l||A<i)&&-1!==h;h--,A++)l+=s*u[h]>>>0,u[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=A,r++}if(" "!==e[r]){for(var f=o-i;f!==o&&0===u[f];)f++;var d=eee.allocUnsafe(n+(o-f));d.fill(0,0,n);for(var p=n;f!==o;)d[p++]=u[f++];return d}}}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=eee.from(t)),!eee.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var A=t[i],h=0,f=c-1;(0!==A||h<n)&&-1!==f;f--,h++)A+=256*l[f]>>>0,l[f]=A%s>>>0,A=A/s>>>0;if(0!==A)throw new Error("Non-zero carry");n=h,i++}for(var d=c-n;d!==c&&0===l[d];)d++;for(var p=a.repeat(r);d<c;++d)p+=e.charAt(l[d]);return p},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),ree=S4.Buffer,nee=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return tee.encode(ree.concat([t,r],t.length+4))},decode:function(e){var r=t(tee.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=tee.decodeUnsafe(e);if(r)return t(r)}}}((function(e){var t=K9("sha256").update(e).digest();return K9("sha256").update(t).digest()})),iee=cG((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:SY.Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var A=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)A*=t;this.imuln(A),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,A=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(s=(i=0|e.words[d])*(o=0|t.words[f])+A)/67108864|0,A=67108863&s}r.words[u]=0|A,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var h=l[e],f=A[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var p=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?p+n:u[h-p.length]+p+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==o),this.toArrayLike(o,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],A=8191&l,h=l>>>13,f=0|s[1],d=8191&f,p=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,v=0|s[3],b=8191&v,w=v>>>13,x=0|s[4],_=8191&x,B=x>>>13,E=0|s[5],S=8191&E,C=E>>>13,I=0|s[6],k=8191&I,P=I>>>13,T=0|s[7],O=8191&T,L=T>>>13,N=0|s[8],U=8191&N,F=N>>>13,M=0|s[9],R=8191&M,D=M>>>13,j=0|a[0],Q=8191&j,H=j>>>13,K=0|a[1],V=8191&K,z=K>>>13,q=0|a[2],G=8191&q,W=q>>>13,$=0|a[3],J=8191&$,X=$>>>13,Y=0|a[4],Z=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],Ae=8191&le,he=le>>>13,fe=0|a[9],de=8191&fe,pe=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(A,Q))|0)+((8191&(i=(i=Math.imul(A,H))+Math.imul(h,Q)|0))<<13)|0;u=((o=Math.imul(h,H))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(d,Q),i=(i=Math.imul(d,H))+Math.imul(p,Q)|0,o=Math.imul(p,H);var me=(u+(n=n+Math.imul(A,V)|0)|0)+((8191&(i=(i=i+Math.imul(A,z)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,z)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,Q),i=(i=Math.imul(m,H))+Math.imul(y,Q)|0,o=Math.imul(y,H),n=n+Math.imul(d,V)|0,i=(i=i+Math.imul(d,z)|0)+Math.imul(p,V)|0,o=o+Math.imul(p,z)|0;var ye=(u+(n=n+Math.imul(A,G)|0)|0)+((8191&(i=(i=i+Math.imul(A,W)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(b,Q),i=(i=Math.imul(b,H))+Math.imul(w,Q)|0,o=Math.imul(w,H),n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,z)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,z)|0,n=n+Math.imul(d,G)|0,i=(i=i+Math.imul(d,W)|0)+Math.imul(p,G)|0,o=o+Math.imul(p,W)|0;var ve=(u+(n=n+Math.imul(A,J)|0)|0)+((8191&(i=(i=i+Math.imul(A,X)|0)+Math.imul(h,J)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(_,Q),i=(i=Math.imul(_,H))+Math.imul(B,Q)|0,o=Math.imul(B,H),n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,z)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,z)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(p,J)|0,o=o+Math.imul(p,X)|0;var be=(u+(n=n+Math.imul(A,Z)|0)|0)+((8191&(i=(i=i+Math.imul(A,ee)|0)+Math.imul(h,Z)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(S,Q),i=(i=Math.imul(S,H))+Math.imul(C,Q)|0,o=Math.imul(C,H),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(B,V)|0,o=o+Math.imul(B,z)|0,n=n+Math.imul(b,G)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,X)|0,n=n+Math.imul(d,Z)|0,i=(i=i+Math.imul(d,ee)|0)+Math.imul(p,Z)|0,o=o+Math.imul(p,ee)|0;var we=(u+(n=n+Math.imul(A,re)|0)|0)+((8191&(i=(i=i+Math.imul(A,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(k,Q),i=(i=Math.imul(k,H))+Math.imul(P,Q)|0,o=Math.imul(P,H),n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,z)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,z)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,W)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(w,J)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(m,Z)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(d,re)|0,i=(i=i+Math.imul(d,ne)|0)+Math.imul(p,re)|0,o=o+Math.imul(p,ne)|0;var xe=(u+(n=n+Math.imul(A,oe)|0)|0)+((8191&(i=(i=i+Math.imul(A,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(O,Q),i=(i=Math.imul(O,H))+Math.imul(L,Q)|0,o=Math.imul(L,H),n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,z)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,z)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(B,J)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(d,oe)|0,i=(i=i+Math.imul(d,se)|0)+Math.imul(p,oe)|0,o=o+Math.imul(p,se)|0;var _e=(u+(n=n+Math.imul(A,ce)|0)|0)+((8191&(i=(i=i+Math.imul(A,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,H))+Math.imul(F,Q)|0,o=Math.imul(F,H),n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,z)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,z)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,n=n+Math.imul(d,ce)|0,i=(i=i+Math.imul(d,ue)|0)+Math.imul(p,ce)|0,o=o+Math.imul(p,ue)|0;var Be=(u+(n=n+Math.imul(A,Ae)|0)|0)+((8191&(i=(i=i+Math.imul(A,he)|0)+Math.imul(h,Ae)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(R,Q),i=(i=Math.imul(R,H))+Math.imul(D,Q)|0,o=Math.imul(D,H),n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,z)|0)+Math.imul(F,V)|0,o=o+Math.imul(F,z)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(d,Ae)|0,i=(i=i+Math.imul(d,he)|0)+Math.imul(p,Ae)|0,o=o+Math.imul(p,he)|0;var Ee=(u+(n=n+Math.imul(A,de)|0)|0)+((8191&(i=(i=i+Math.imul(A,pe)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(D,V)|0,o=Math.imul(D,z),n=n+Math.imul(U,G)|0,i=(i=i+Math.imul(U,W)|0)+Math.imul(F,G)|0,o=o+Math.imul(F,W)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(L,J)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(m,Ae)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(y,Ae)|0,o=o+Math.imul(y,he)|0;var Se=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,pe)|0)+Math.imul(p,de)|0))<<13)|0;u=((o=o+Math.imul(p,pe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(R,G),i=(i=Math.imul(R,W))+Math.imul(D,G)|0,o=Math.imul(D,W),n=n+Math.imul(U,J)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(F,J)|0,o=o+Math.imul(F,X)|0,n=n+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(b,Ae)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(w,Ae)|0,o=o+Math.imul(w,he)|0;var Ce=(u+(n=n+Math.imul(m,de)|0)|0)+((8191&(i=(i=i+Math.imul(m,pe)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,pe)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(R,J),i=(i=Math.imul(R,X))+Math.imul(D,J)|0,o=Math.imul(D,X),n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,ee)|0)+Math.imul(F,Z)|0,o=o+Math.imul(F,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(_,Ae)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(B,Ae)|0,o=o+Math.imul(B,he)|0;var Ie=(u+(n=n+Math.imul(b,de)|0)|0)+((8191&(i=(i=i+Math.imul(b,pe)|0)+Math.imul(w,de)|0))<<13)|0;u=((o=o+Math.imul(w,pe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(R,Z),i=(i=Math.imul(R,ee))+Math.imul(D,Z)|0,o=Math.imul(D,ee),n=n+Math.imul(U,re)|0,i=(i=i+Math.imul(U,ne)|0)+Math.imul(F,re)|0,o=o+Math.imul(F,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,se)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(S,Ae)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(C,Ae)|0,o=o+Math.imul(C,he)|0;var ke=(u+(n=n+Math.imul(_,de)|0)|0)+((8191&(i=(i=i+Math.imul(_,pe)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,pe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,re),i=(i=Math.imul(R,ne))+Math.imul(D,re)|0,o=Math.imul(D,ne),n=n+Math.imul(U,oe)|0,i=(i=i+Math.imul(U,se)|0)+Math.imul(F,oe)|0,o=o+Math.imul(F,se)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(k,Ae)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(P,Ae)|0,o=o+Math.imul(P,he)|0;var Pe=(u+(n=n+Math.imul(S,de)|0)|0)+((8191&(i=(i=i+Math.imul(S,pe)|0)+Math.imul(C,de)|0))<<13)|0;u=((o=o+Math.imul(C,pe)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(R,oe),i=(i=Math.imul(R,se))+Math.imul(D,oe)|0,o=Math.imul(D,se),n=n+Math.imul(U,ce)|0,i=(i=i+Math.imul(U,ue)|0)+Math.imul(F,ce)|0,o=o+Math.imul(F,ue)|0,n=n+Math.imul(O,Ae)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(L,Ae)|0,o=o+Math.imul(L,he)|0;var Te=(u+(n=n+Math.imul(k,de)|0)|0)+((8191&(i=(i=i+Math.imul(k,pe)|0)+Math.imul(P,de)|0))<<13)|0;u=((o=o+Math.imul(P,pe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(R,ce),i=(i=Math.imul(R,ue))+Math.imul(D,ce)|0,o=Math.imul(D,ue),n=n+Math.imul(U,Ae)|0,i=(i=i+Math.imul(U,he)|0)+Math.imul(F,Ae)|0,o=o+Math.imul(F,he)|0;var Oe=(u+(n=n+Math.imul(O,de)|0)|0)+((8191&(i=(i=i+Math.imul(O,pe)|0)+Math.imul(L,de)|0))<<13)|0;u=((o=o+Math.imul(L,pe)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(R,Ae),i=(i=Math.imul(R,he))+Math.imul(D,Ae)|0,o=Math.imul(D,he);var Le=(u+(n=n+Math.imul(U,de)|0)|0)+((8191&(i=(i=i+Math.imul(U,pe)|0)+Math.imul(F,de)|0))<<13)|0;u=((o=o+Math.imul(F,pe)|0)+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863;var Ne=(u+(n=Math.imul(R,de))|0)+((8191&(i=(i=Math.imul(R,pe))+Math.imul(D,de)|0))<<13)|0;return u=((o=Math.imul(D,pe))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=ve,c[4]=be,c[5]=we,c[6]=xe,c[7]=_e,c[8]=Be,c[9]=Ee,c[10]=Se,c[11]=Ce,c[12]=Ie,c[13]=ke,c[14]=Pe,c[15]=Te,c[16]=Oe,c[17]=Le,c[18]=Ne,0!==u&&(c[19]=u,r.length++),r};function d(e,t,r){return(new p).mulp(e,t,r)}function p(e,t){this.x=e,this.y=t}Math.imul||(f=h),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?f(this,e,t):r<63?h(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,A=(0|e.words[l])*(0|t.words[u]),h=67108863&A;a=67108863&(h=h+a|0),i+=(s=(s=s+(A/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):d(this,e,t)},p.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},p.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},p.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},p.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var A=c,h=u,f=0;f<s;f++){var d=r[l+f],p=n[l+f],g=r[l+f+s],m=n[l+f+s],y=A*g-h*m;m=A*m+h*g,g=y,r[l+f]=d+g,n[l+f]=p+m,r[l+f+s]=d-g,n[l+f+s]=p-m,f!==a&&(y=c*A-u*h,h=c*h+u*A,A=y)}},p.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},p.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},p.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},p.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),A=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,A,n,i);for(var f=0;f<n;f++){var d=a[f]*l[f]-c[f]*A[f];c[f]=a[f]*A[f]+c[f]*l[f],a[f]=d}return this.conjugate(a,c,n),this.transform(a,c,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),d(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var o=r.sqr();n<t.length;n++,o=o.sqr())0!==t[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<n;this.words[t]=c|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var A=0|this.words[u];this.words[u]=l<<26-o|A>>>o,l=A&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),o=e,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,c=n.length-o.length;if("mod"!==t){(a=new i(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(o,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var A=c-1;A>=0;A--){var h=67108864*(0|n.words[o.length+A])+(0|n.words[o.length+A-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(o,h,A);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(o,1,A),n.isZero()||(n.negative^=1);a&&(a.words[A]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(o=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:o,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var o,s,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o=new i(1),s=new i(0),a=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),A=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(A)),o.iushrn(1),s.iushrn(1);for(var d=0,p=1;0==(n.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(A)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(a),s.isub(c)):(n.isub(t),a.isub(o),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var o,s=new i(1),a=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var A=0,h=1;0==(n.words[0]&h)&&A<26;++A,h<<=1);if(A>0)for(n.iushrn(A);A-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(o=0===t.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(e),o},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new x(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},n(y,m),y.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(v,m),n(b,m),n(w,m),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new v;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return g[e]=t,t},x.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var A=this.pow(l,o),h=this.pow(e,o.addn(1).iushrn(1)),f=this.pow(e,o),d=s;0!==f.cmp(a);){for(var p=f,g=0;0!==p.cmp(a);g++)p=p.redSqr();r(g<d);var m=this.pow(A,new i(1).iushln(d-g-1));h=h.redMul(m),A=m.redSqr(),f=f.redMul(A),d=g}return h},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var o=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var A=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==A||0!==s?(s<<=1,s|=A,(4==++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0}c=26}return o},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new _(e)},n(_,x),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,sG)})),oee="lib/elliptic.js",see=["lib"],aee={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},cee={type:"git",url:"git@github.com:indutny/elliptic"},uee=["EC","Elliptic","curve","Cryptography"],lee="Fedor Indutny <fedor@indutny.com>",Aee={url:"https://github.com/indutny/elliptic/issues"},hee="https://github.com/indutny/elliptic",fee={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dee={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},pee={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:oee,files:see,scripts:aee,repository:cee,keywords:uee,author:lee,license:"MIT",bugs:Aee,homepage:hee,devDependencies:fee,dependencies:dee},gee=Object.freeze({__proto__:null,name:"elliptic",version:"6.5.4",description:"EC cryptography",main:oee,files:see,scripts:aee,repository:cee,keywords:uee,author:lee,license:"MIT",bugs:Aee,homepage:hee,devDependencies:fee,dependencies:dee,default:pee}),mee=yee;function yee(e,t){if(!e)throw new Error(t||"Assertion failed")}yee.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var vee,bee=cG((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),wee=cG((function(e,t){var r=t;r.assert=mee,r.toArray=bee.toArray,r.zero2=bee.zero2,r.toHex=bee.toHex,r.encode=bee.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0==(1&u)?0:3!=(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new iee(e,"hex","le")}})),xee=function(e){return vee||(vee=new _ee(null)),vee.generate(e)};function _ee(e){this.rand=e}var Bee=_ee;if(_ee.prototype.generate=function(e){return this._rand(e)},_ee.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?_ee.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?_ee.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(_ee.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Eee=SY;if("function"!=typeof Eee.randomBytes)throw new Error("Not supported");_ee.prototype._rand=function(e){return Eee.randomBytes(e)}}catch(e){}xee.Rand=Bee;var See=wee.getNAF,Cee=wee.getJSF,Iee=wee.assert;function kee(e,t){this.type=e,this.p=new iee(t.p,16),this.red=t.prime?iee.red(t.prime):iee.mont(this.p),this.zero=new iee(0).toRed(this.red),this.one=new iee(1).toRed(this.red),this.two=new iee(2).toRed(this.red),this.n=t.n&&new iee(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Pee=kee;function Tee(e,t){this.curve=e,this.type=t,this.precomputed=null}kee.prototype.point=function(){throw new Error("Not implemented")},kee.prototype.validate=function(){throw new Error("Not implemented")},kee.prototype._fixedNafMul=function(e,t){Iee(e.precomputed);var r=e._getDoubles(),n=See(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var c=o+r.step-1;c>=o;c--)s=(s<<1)+n[c];a.push(s)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),A=i;A>0;A--){for(o=0;o<a.length;o++)(s=a[o])===A?l=l.mixedAdd(r.points[o]):s===-A&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l)}return u.toP()},kee.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=See(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var c=0;a>=0&&0===o[a];a--)c++;if(a>=0&&c++,s=s.dblp(c),a<0)break;var u=o[a];Iee(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},kee.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,c=this._wnafT1,u=this._wnafT2,l=this._wnafT3,A=0;for(o=0;o<n;o++){var h=(a=t[o])._getNAFPoints(e);c[o]=h.wnd,u[o]=h.points}for(o=n-1;o>=1;o-=2){var f=o-1,d=o;if(1===c[f]&&1===c[d]){var p=[t[f],null,null,t[d]];0===t[f].y.cmp(t[d].y)?(p[1]=t[f].add(t[d]),p[2]=t[f].toJ().mixedAdd(t[d].neg())):0===t[f].y.cmp(t[d].y.redNeg())?(p[1]=t[f].toJ().mixedAdd(t[d]),p[2]=t[f].add(t[d].neg())):(p[1]=t[f].toJ().mixedAdd(t[d]),p[2]=t[f].toJ().mixedAdd(t[d].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],m=Cee(r[f],r[d]);for(A=Math.max(m[0].length,A),l[f]=new Array(A),l[d]=new Array(A),s=0;s<A;s++){var y=0|m[0][s],v=0|m[1][s];l[f][s]=g[3*(y+1)+(v+1)],l[d][s]=0,u[f]=p}}else l[f]=See(r[f],c[f],this._bitLength),l[d]=See(r[d],c[d],this._bitLength),A=Math.max(l[f].length,A),A=Math.max(l[d].length,A)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(o=A;o>=0;o--){for(var x=0;o>=0;){var _=!0;for(s=0;s<n;s++)w[s]=0|l[s][o],0!==w[s]&&(_=!1);if(!_)break;x++,o--}if(o>=0&&x++,b=b.dblp(x),o<0)break;for(s=0;s<n;s++){var B=w[s];0!==B&&(B>0?a=u[s][B-1>>1]:B<0&&(a=u[s][-B-1>>1].neg()),b="affine"===a.type?b.mixedAdd(a):b.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?b:b.toP()},kee.BasePoint=Tee,Tee.prototype.eq=function(){throw new Error("Not implemented")},Tee.prototype.validate=function(){return this.curve.validate(this)},kee.prototype.decodePoint=function(e,t){e=wee.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?Iee(e[e.length-1]%2==0):7===e[0]&&Iee(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Tee.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Tee.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Tee.prototype.encode=function(e,t){return wee.encode(this._encode(t),e)},Tee.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Tee.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Tee.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},Tee.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Tee.prototype._getBeta=function(){return null},Tee.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Oee=wee.assert;function Lee(e){Pee.call(this,"short",e),this.a=new iee(e.a,16).toRed(this.red),this.b=new iee(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}E4(Lee,Pee);var Nee=Lee;function Uee(e,t,r,n){Pee.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new iee(t,16),this.y=new iee(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Fee(e,t,r,n){Pee.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new iee(0)):(this.x=new iee(t,16),this.y=new iee(r,16),this.z=new iee(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function Mee(e){Pee.call(this,"mont",e),this.a=new iee(e.a,16).toRed(this.red),this.b=new iee(e.b,16).toRed(this.red),this.i4=new iee(4).toRed(this.red).redInvm(),this.two=new iee(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Lee.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new iee(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new iee(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Oee(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new iee(e.a,16),b:new iee(e.b,16)}})):this._getEndoBasis(r)}}},Lee.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:iee.mont(e),r=new iee(2).toRed(t).redInvm(),n=r.redNeg(),i=new iee(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Lee.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,c,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),A=e,h=this.n.clone(),f=new iee(1),d=new iee(0),p=new iee(0),g=new iee(1),m=0;0!==A.cmpn(0);){var y=h.div(A);c=h.sub(y.mul(A)),u=p.sub(y.mul(f));var v=g.sub(y.mul(d));if(!n&&c.cmp(l)<0)t=a.neg(),r=f,n=c.neg(),i=u;else if(n&&2==++m)break;a=c,h=A,A=c,p=f,f=u,g=d,d=v}o=c.neg(),s=u;var b=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(b)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},Lee.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},Lee.prototype.pointFromX=function(e,t){(e=new iee(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Lee.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Lee.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},E4(Uee,Pee.BasePoint),Lee.prototype.point=function(e,t,r){return new Uee(this,e,t,r)},Lee.prototype.pointFromJSON=function(e,t){return Uee.fromJSON(this,e,t)},Uee.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Uee.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Uee.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Uee.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Uee.prototype.isInfinity=function(){return this.inf},Uee.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Uee.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Uee.prototype.getX=function(){return this.x.fromRed()},Uee.prototype.getY=function(){return this.y.fromRed()},Uee.prototype.mul=function(e){return e=new iee(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Uee.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Uee.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Uee.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Uee.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Uee.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},E4(Fee,Pee.BasePoint),Lee.prototype.jpoint=function(e,t,r){return new Fee(this,e,t,r)},Fee.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Fee.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Fee.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),A=n.redMul(u),h=c.redSqr().redIAdd(l).redISub(A).redISub(A),f=c.redMul(A.redISub(h)).redISub(o.redMul(l)),d=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,f,d)},Fee.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=r.redMul(c),A=a.redSqr().redIAdd(u).redISub(l).redISub(l),h=a.redMul(l.redISub(A)).redISub(i.redMul(u)),f=this.z.redMul(s);return this.curve.jpoint(A,h,f)},Fee.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),A=u.redSqr(),h=A.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),d=o.redMul(A),p=f.redSqr().redISub(d.redAdd(d)),g=d.redISub(p),m=f.redMul(g);m=m.redIAdd(m).redISub(h);var y=u.redMul(a);t+1<e&&(c=c.redMul(h)),o=p,a=y,u=m}return this.curve.jpoint(o,u.redMul(i),a)},Fee.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Fee.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),A=this.y.redSqr(),h=A.redSqr(),f=this.x.redAdd(A).redSqr().redISub(l).redISub(h);f=f.redIAdd(f);var d=l.redAdd(l).redIAdd(l),p=d.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=p.redISub(f).redISub(f),t=d.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Fee.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),A=this.y.redSqr(),h=this.x.redMul(A),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var d=h.redIAdd(h),p=(d=d.redIAdd(d)).redAdd(d);e=f.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(A).redISub(l);var g=A.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(d.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},Fee.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),A=u.redISub(l),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=a.redMul(A).redISub(h),d=r.redAdd(r).redMul(n);return this.curve.jpoint(l,f,d)},Fee.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var A=this.x.redMul(a).redISub(l);A=(A=A.redIAdd(A)).redIAdd(A);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(A,h,f)},Fee.prototype.mul=function(e,t){return e=new iee(e,t),this.curve._wnafMul(this,e)},Fee.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Fee.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Fee.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Fee.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},E4(Mee,Pee);var Ree=Mee;function Dee(e,t,r){Pee.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new iee(t,16),this.z=new iee(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Mee.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},E4(Dee,Pee.BasePoint),Mee.prototype.decodePoint=function(e,t){return this.point(wee.toArray(e,t),1)},Mee.prototype.point=function(e,t){return new Dee(this,e,t)},Mee.prototype.pointFromJSON=function(e){return Dee.fromJSON(this,e)},Dee.prototype.precompute=function(){},Dee.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Dee.fromJSON=function(e,t){return new Dee(e,t[0],t[1]||e.one)},Dee.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Dee.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Dee.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Dee.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Dee.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},Dee.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Dee.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Dee.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Dee.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Dee.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Dee.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var jee=wee.assert;function Qee(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Pee.call(this,"edwards",e),this.a=new iee(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new iee(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new iee(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),jee(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}E4(Qee,Pee);var Hee=Qee;function Kee(e,t,r,n,i){Pee.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new iee(t,16),this.y=new iee(r,16),this.z=n?new iee(n,16):this.curve.one,this.t=i&&new iee(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Qee.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},Qee.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},Qee.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},Qee.prototype.pointFromX=function(e,t){(e=new iee(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var a=s.fromRed().isOdd();return(t&&!a||!t&&a)&&(s=s.redNeg()),this.point(e,s)},Qee.prototype.pointFromY=function(e,t){(e=new iee(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},Qee.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},E4(Kee,Pee.BasePoint),Qee.prototype.pointFromJSON=function(e){return Kee.fromJSON(this,e)},Qee.prototype.point=function(e,t,r,n){return new Kee(this,e,t,r,n)},Kee.fromJSON=function(e,t){return new Kee(e,t[0],t[1],t[2])},Kee.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Kee.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Kee.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),l=i.redMul(a),A=s.redMul(o);return this.curve.point(c,u,A,l)},Kee.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},Kee.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Kee.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),l=a.redMul(c),A=o.redMul(c),h=s.redMul(a);return this.curve.point(u,l,h,A)},Kee.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),A=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(A,t,r)},Kee.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Kee.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Kee.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Kee.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Kee.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Kee.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Kee.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Kee.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Kee.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Kee.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Kee.prototype.toP=Kee.prototype.normalize,Kee.prototype.mixedAdd=Kee.prototype.add;var Vee=cG((function(e,t){var r=t;r.base=Pee,r.short=Nee,r.mont=Ree,r.edwards=Hee}));function zee(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function qee(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function Gee(e){return 1===e.length?"0"+e:e}function Wee(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var $ee={inherits:E4,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):zee(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=Gee(e[r].toString(16));return t},htonl:qee,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=qee(i)),r+=Wee(i.toString(16))}return r},zero2:Gee,zero8:Wee,join32:function(e,t,r,n){var i=r-t;mee(i%4==0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var c;c="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=c>>>0}return o},split32:function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},sum64_5_hi:function(e,t,r,n,i,o,s,a,c,u){var l=0,A=t;return l+=(A=A+n>>>0)<t?1:0,l+=(A=A+o>>>0)<o?1:0,l+=(A=A+a>>>0)<a?1:0,e+r+i+s+c+(l+=(A=A+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function Jee(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var Xee=Jee;Jee.prototype.update=function(e,t){if(e=$ee.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=$ee.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},Jee.prototype.digest=function(e){return this.update(this._pad()),mee(null===this.pending),this._digest(e)},Jee.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Yee={BlockHash:Xee},Zee=$ee.rotr32;function ete(e,t,r){return e&t^~e&r}function tte(e,t,r){return e&t^e&r^t&r}function rte(e,t,r){return e^t^r}var nte=function(e,t,r,n){return 0===e?ete(t,r,n):1===e||3===e?rte(t,r,n):2===e?tte(t,r,n):void 0},ite=ete,ote=tte,ste=function(e){return Zee(e,2)^Zee(e,13)^Zee(e,22)},ate=function(e){return Zee(e,6)^Zee(e,11)^Zee(e,25)},cte=function(e){return Zee(e,7)^Zee(e,18)^e>>>3},ute=function(e){return Zee(e,17)^Zee(e,19)^e>>>10},lte=$ee.rotl32,Ate=$ee.sum32,hte=$ee.sum32_5,fte=nte,dte=Yee.BlockHash,pte=[1518500249,1859775393,2400959708,3395469782];function gte(){if(!(this instanceof gte))return new gte;dte.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}$ee.inherits(gte,dte);var mte=gte;gte.blockSize=512,gte.outSize=160,gte.hmacStrength=80,gte.padLength=64,gte.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=lte(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=hte(lte(i,5),fte(u,o,s,a),c,r[n],pte[u]);c=a,a=s,s=lte(o,30),o=i,i=l}this.h[0]=Ate(this.h[0],i),this.h[1]=Ate(this.h[1],o),this.h[2]=Ate(this.h[2],s),this.h[3]=Ate(this.h[3],a),this.h[4]=Ate(this.h[4],c)},gte.prototype._digest=function(e){return"hex"===e?$ee.toHex32(this.h,"big"):$ee.split32(this.h,"big")};var yte=$ee.sum32,vte=$ee.sum32_4,bte=$ee.sum32_5,wte=ite,xte=ote,_te=ste,Bte=ate,Ete=cte,Ste=ute,Cte=Yee.BlockHash,Ite=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function kte(){if(!(this instanceof kte))return new kte;Cte.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ite,this.W=new Array(64)}$ee.inherits(kte,Cte);var Pte=kte;function Tte(){if(!(this instanceof Tte))return new Tte;Pte.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}kte.blockSize=512,kte.outSize=256,kte.hmacStrength=192,kte.padLength=64,kte.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=vte(Ste(r[n-2]),r[n-7],Ete(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],A=this.h[7];for(mee(this.k.length===r.length),n=0;n<r.length;n++){var h=bte(A,Bte(c),wte(c,u,l),this.k[n],r[n]),f=yte(_te(i),xte(i,o,s));A=l,l=u,u=c,c=yte(a,h),a=s,s=o,o=i,i=yte(h,f)}this.h[0]=yte(this.h[0],i),this.h[1]=yte(this.h[1],o),this.h[2]=yte(this.h[2],s),this.h[3]=yte(this.h[3],a),this.h[4]=yte(this.h[4],c),this.h[5]=yte(this.h[5],u),this.h[6]=yte(this.h[6],l),this.h[7]=yte(this.h[7],A)},kte.prototype._digest=function(e){return"hex"===e?$ee.toHex32(this.h,"big"):$ee.split32(this.h,"big")},$ee.inherits(Tte,Pte);var Ote=Tte;Tte.blockSize=512,Tte.outSize=224,Tte.hmacStrength=192,Tte.padLength=64,Tte.prototype._digest=function(e){return"hex"===e?$ee.toHex32(this.h.slice(0,7),"big"):$ee.split32(this.h.slice(0,7),"big")};var Lte=$ee.rotr64_hi,Nte=$ee.rotr64_lo,Ute=$ee.shr64_hi,Fte=$ee.shr64_lo,Mte=$ee.sum64,Rte=$ee.sum64_hi,Dte=$ee.sum64_lo,jte=$ee.sum64_4_hi,Qte=$ee.sum64_4_lo,Hte=$ee.sum64_5_hi,Kte=$ee.sum64_5_lo,Vte=Yee.BlockHash,zte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function qte(){if(!(this instanceof qte))return new qte;Vte.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=zte,this.W=new Array(160)}$ee.inherits(qte,Vte);var Gte=qte;function Wte(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function $te(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function Jte(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function Xte(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function Yte(e,t){var r=Lte(e,t,28)^Lte(t,e,2)^Lte(t,e,7);return r<0&&(r+=4294967296),r}function Zte(e,t){var r=Nte(e,t,28)^Nte(t,e,2)^Nte(t,e,7);return r<0&&(r+=4294967296),r}function ere(e,t){var r=Lte(e,t,14)^Lte(e,t,18)^Lte(t,e,9);return r<0&&(r+=4294967296),r}function tre(e,t){var r=Nte(e,t,14)^Nte(e,t,18)^Nte(t,e,9);return r<0&&(r+=4294967296),r}function rre(e,t){var r=Lte(e,t,1)^Lte(e,t,8)^Ute(e,t,7);return r<0&&(r+=4294967296),r}function nre(e,t){var r=Nte(e,t,1)^Nte(e,t,8)^Fte(e,t,7);return r<0&&(r+=4294967296),r}function ire(e,t){var r=Lte(e,t,19)^Lte(t,e,29)^Ute(e,t,6);return r<0&&(r+=4294967296),r}function ore(e,t){var r=Nte(e,t,19)^Nte(t,e,29)^Fte(e,t,6);return r<0&&(r+=4294967296),r}function sre(){if(!(this instanceof sre))return new sre;Gte.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}qte.blockSize=1024,qte.outSize=512,qte.hmacStrength=192,qte.padLength=128,qte.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=ire(r[n-4],r[n-3]),o=ore(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=rre(r[n-30],r[n-29]),u=nre(r[n-30],r[n-29]),l=r[n-32],A=r[n-31];r[n]=jte(i,o,s,a,c,u,l,A),r[n+1]=Qte(i,o,s,a,c,u,l,A)}},qte.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],A=this.h[8],h=this.h[9],f=this.h[10],d=this.h[11],p=this.h[12],g=this.h[13],m=this.h[14],y=this.h[15];mee(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var b=m,w=y,x=ere(A,h),_=tre(A,h),B=Wte(A,0,f,0,p),E=$te(0,h,0,d,0,g),S=this.k[v],C=this.k[v+1],I=r[v],k=r[v+1],P=Hte(b,w,x,_,B,E,S,C,I,k),T=Kte(b,w,x,_,B,E,S,C,I,k);b=Yte(n,i),w=Zte(n,i),x=Jte(n,0,o,0,a),_=Xte(0,i,0,s,0,c);var O=Rte(b,w,x,_),L=Dte(b,w,x,_);m=p,y=g,p=f,g=d,f=A,d=h,A=Rte(u,l,P,T),h=Dte(l,l,P,T),u=a,l=c,a=o,c=s,o=n,s=i,n=Rte(P,T,O,L),i=Dte(P,T,O,L)}Mte(this.h,0,n,i),Mte(this.h,2,o,s),Mte(this.h,4,a,c),Mte(this.h,6,u,l),Mte(this.h,8,A,h),Mte(this.h,10,f,d),Mte(this.h,12,p,g),Mte(this.h,14,m,y)},qte.prototype._digest=function(e){return"hex"===e?$ee.toHex32(this.h,"big"):$ee.split32(this.h,"big")},$ee.inherits(sre,Gte);var are=sre;sre.blockSize=1024,sre.outSize=384,sre.hmacStrength=192,sre.padLength=128,sre.prototype._digest=function(e){return"hex"===e?$ee.toHex32(this.h.slice(0,12),"big"):$ee.split32(this.h.slice(0,12),"big")};var cre={sha1:mte,sha224:Ote,sha256:Pte,sha384:are,sha512:Gte},ure=$ee.rotl32,lre=$ee.sum32,Are=$ee.sum32_3,hre=$ee.sum32_4,fre=Yee.BlockHash;function dre(){if(!(this instanceof dre))return new dre;fre.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}$ee.inherits(dre,fre);var pre=dre;function gre(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function mre(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function yre(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}dre.blockSize=512,dre.outSize=160,dre.hmacStrength=192,dre.padLength=64,dre.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,c=n,u=i,l=o,A=s,h=0;h<80;h++){var f=lre(ure(hre(r,gre(h,n,i,o),e[vre[h]+t],mre(h)),wre[h]),s);r=s,s=o,o=ure(i,10),i=n,n=f,f=lre(ure(hre(a,gre(79-h,c,u,l),e[bre[h]+t],yre(h)),xre[h]),A),a=A,A=l,l=ure(u,10),u=c,c=f}f=Are(this.h[1],i,l),this.h[1]=Are(this.h[2],o,A),this.h[2]=Are(this.h[3],s,a),this.h[3]=Are(this.h[4],r,c),this.h[4]=Are(this.h[0],n,u),this.h[0]=f},dre.prototype._digest=function(e){return"hex"===e?$ee.toHex32(this.h,"little"):$ee.split32(this.h,"little")};var vre=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],bre=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],wre=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xre=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_re={ripemd160:pre};function Bre(e,t,r){if(!(this instanceof Bre))return new Bre(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init($ee.toArray(t,r))}var Ere=Bre;Bre.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),mee(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Bre.prototype.update=function(e,t){return this.inner.update(e,t),this},Bre.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var Sre=cG((function(e,t){var r=t;r.utils=$ee,r.common=Yee,r.sha=cre,r.ripemd=_re,r.hmac=Ere,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),Cre={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},Ire=cG((function(e,t){var r,n=t,i=wee.assert;function o(e){"short"===e.type?this.curve=new Vee.short(e):"edwards"===e.type?this.curve=new Vee.edwards(e):this.curve=new Vee.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Sre.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Sre.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Sre.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Sre.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Sre.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sre.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sre.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=Cre}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Sre.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function kre(e){if(!(this instanceof kre))return new kre(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=bee.toArray(e.entropy,e.entropyEnc||"hex"),r=bee.toArray(e.nonce,e.nonceEnc||"hex"),n=bee.toArray(e.pers,e.persEnc||"hex");mee(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Pre=kre;kre.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},kre.prototype._hmac=function(){return new Sre.hmac(this.hash,this.K)},kre.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},kre.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=bee.toArray(e,t),r=bee.toArray(r,n),mee(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},kre.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=bee.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,bee.encode(o,t)};var Tre=wee.assert;function Ore(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Lre=Ore;Ore.fromPublic=function(e,t,r){return t instanceof Ore?t:new Ore(e,{pub:t,pubEnc:r})},Ore.fromPrivate=function(e,t,r){return t instanceof Ore?t:new Ore(e,{priv:t,privEnc:r})},Ore.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ore.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Ore.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Ore.prototype._importPrivate=function(e,t){this.priv=new iee(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Ore.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Tre(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Tre(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Ore.prototype.derive=function(e){return e.validate()||Tre(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Ore.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Ore.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Ore.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Nre=wee.assert;function Ure(e,t){if(e instanceof Ure)return e;this._importDER(e,t)||(Nre(e.r&&e.s,"Signature without r or s"),this.r=new iee(e.r,16),this.s=new iee(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Fre=Ure;function Mre(){this.place=0}function Rre(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function Dre(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function jre(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Ure.prototype._importDER=function(e,t){e=wee.toArray(e,t);var r=new Mre;if(48!==e[r.place++])return!1;var n=Rre(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Rre(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=Rre(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new iee(o),this.s=new iee(a),this.recoveryParam=null,!0},Ure.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Dre(t),r=Dre(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];jre(n,t.length),(n=n.concat(t)).push(2),jre(n,r.length);var i=n.concat(r),o=[48];return jre(o,i.length),o=o.concat(i),wee.encode(o,e)};var Qre=wee.assert;function Hre(e){if(!(this instanceof Hre))return new Hre(e);"string"==typeof e&&(Qre(Object.prototype.hasOwnProperty.call(Ire,e),"Unknown curve "+e),e=Ire[e]),e instanceof Ire.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Kre=Hre;Hre.prototype.keyPair=function(e){return new Lre(this,e)},Hre.prototype.keyFromPrivate=function(e,t){return Lre.fromPrivate(this,e,t)},Hre.prototype.keyFromPublic=function(e,t){return Lre.fromPublic(this,e,t)},Hre.prototype.genKeyPair=function(e){e||(e={});for(var t=new Pre({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||xee(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new iee(2));;){var i=new iee(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Hre.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Hre.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new iee(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new Pre({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new iee(1)),u=0;;u++){var l=n.k?n.k(u):new iee(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(c)>=0)){var A=this.g.mul(l);if(!A.isInfinity()){var h=A.getX(),f=h.umod(this.n);if(0!==f.cmpn(0)){var d=l.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(d=d.umod(this.n)).cmpn(0)){var p=(A.getY().isOdd()?1:0)|(0!==h.cmp(f)?2:0);return n.canonical&&d.cmp(this.nh)>0&&(d=this.n.sub(d),p^=1),new Fre({r:f,s:d,recoveryParam:p})}}}}}},Hre.prototype.verify=function(e,t,r,n){e=this._truncateToN(new iee(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Fre(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Hre.prototype.recoverPubKey=function(e,t,r,n){Qre((3&r)===r,"The recovery param is more than two bits"),t=new Fre(t,n);var i=this.n,o=new iee(e),s=t.r,a=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var l=t.r.invm(i),A=i.sub(o).mul(l).umod(i),h=a.mul(l).umod(i);return this.g.mulAdd(A,s,h)},Hre.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Fre(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Vre=wee.assert,zre=wee.parseBytes,qre=wee.cachedProperty;function Gre(e,t){this.eddsa=e,this._secret=zre(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=zre(t.pub)}Gre.fromPublic=function(e,t){return t instanceof Gre?t:new Gre(e,{pub:t})},Gre.fromSecret=function(e,t){return t instanceof Gre?t:new Gre(e,{secret:t})},Gre.prototype.secret=function(){return this._secret},qre(Gre,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),qre(Gre,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),qre(Gre,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),qre(Gre,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),qre(Gre,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),qre(Gre,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),Gre.prototype.sign=function(e){return Vre(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Gre.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Gre.prototype.getSecret=function(e){return Vre(this._secret,"KeyPair is public only"),wee.encode(this.secret(),e)},Gre.prototype.getPublic=function(e){return wee.encode(this.pubBytes(),e)};var Wre=Gre,$re=wee.assert,Jre=wee.cachedProperty,Xre=wee.parseBytes;function Yre(e,t){this.eddsa=e,"object"!=typeof t&&(t=Xre(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),$re(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof iee&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Jre(Yre,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Jre(Yre,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Jre(Yre,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),Jre(Yre,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Yre.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Yre.prototype.toHex=function(){return wee.encode(this.toBytes(),"hex").toUpperCase()};var Zre=Yre,ene=wee.assert,tne=wee.parseBytes;function rne(e){if(ene("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof rne))return new rne(e);e=Ire[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Sre.sha512}var nne=rne;rne.prototype.sign=function(e,t){e=tne(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:o})},rne.prototype.verify=function(e,t,r){e=tne(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},rne.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return wee.intFromLE(e.digest()).umod(this.curve.n)},rne.prototype.keyFromPublic=function(e){return Wre.fromPublic(this,e)},rne.prototype.keyFromSecret=function(e){return Wre.fromSecret(this,e)},rne.prototype.makeSignature=function(e){return e instanceof Zre?e:new Zre(this,e)},rne.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},rne.prototype.decodePoint=function(e){var t=(e=wee.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=wee.intFromLE(r);return this.curve.pointFromY(i,n)},rne.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},rne.prototype.decodeInt=function(e){return wee.intFromLE(e)},rne.prototype.isPoint=function(e){return e instanceof this.pointClass};var ine=uG(gee),one=cG((function(e,t){var r=t;r.version=ine.version,r.utils=wee,r.rand=xee,r.curve=Vee,r.curves=Ire,r.ec=Kre,r.eddsa=nne}));const sne=kG.alloc(1,1),ane=kG.alloc(1,0);const cne=new one.ec("secp256k1"),une=kG.alloc(32,0),lne=kG.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),Ane=kG.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex"),hne=cne.curve.n,fne=hne.shrn(1),dne=cne.curve.g;function pne(e){return AW(e)&&32===e.length}function gne(e){return!!pne(e)&&e.compare(lne)<0}function mne(e){if(!AW(e))return!1;if(e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(0===r.compare(une))return!1;if(r.compare(Ane)>=0)return!1;if((2===t||3===t)&&33===e.length){try{_ne(e)}catch(e){return!1}return!0}const n=e.slice(33);return 0!==n.compare(une)&&!(n.compare(Ane)>=0)&&4===t&&65===e.length}function yne(e){return 4!==e[0]}function vne(e){return!!pne(e)&&e.compare(une)>0&&e.compare(lne)<0}function bne(e,t){return void 0===e&&void 0!==t?yne(t):void 0===e||e}function wne(e){return new iee(e)}function xne(e){return e.toArrayLike(kG,"be",32)}function _ne(e){return cne.curve.decodePoint(e)}function Bne(e,t){return kG.from(e._encode(t))}function Ene(e,t,r){if(!pne(e))throw new TypeError("Expected Hash");if(!vne(t))throw new TypeError("Expected Private");if(void 0!==r&&!pne(r))throw new TypeError("Expected Extra Data (32 bytes)");const n=wne(t),i=wne(e);let o,s;(function(e,t,r,n,i){let o=kG.alloc(32,0),s=kG.alloc(32,1);o=Y9("sha256",o).update(s).update(ane).update(t).update(e).update(i||"").digest(),s=Y9("sha256",o).update(s).digest(),o=Y9("sha256",o).update(s).update(sne).update(t).update(e).update(i||"").digest(),s=Y9("sha256",o).update(s).digest(),s=Y9("sha256",o).update(s).digest();let a=s;for(;!n(a)||!r(a);)o=Y9("sha256",o).update(s).update(ane).digest(),s=Y9("sha256",o).update(s).digest(),s=Y9("sha256",o).update(s).digest(),a=s})(e,t,(function(e){const t=wne(e),r=dne.mul(t);return!r.isInfinity()&&(o=r.x.umod(hne),0!==o.isZero()&&(s=t.invm(hne).mul(i.add(n.mul(o))).umod(hne),0!==s.isZero()))}),vne,r),s.cmp(fne)>0&&(s=hne.sub(s));const a=kG.allocUnsafe(64);return xne(o).copy(a,0),xne(s).copy(a,32),a}var Sne={isPoint:mne,isPointCompressed:function(e){return!!mne(e)&&yne(e)},isPrivate:vne,pointAdd:function(e,t,r){if(!mne(e))throw new TypeError("Expected Point");if(!mne(t))throw new TypeError("Expected Point");const n=_ne(e),i=_ne(t),o=n.add(i);return o.isInfinity()?null:Bne(o,bne(r,e))},pointAddScalar:function(e,t,r){if(!mne(e))throw new TypeError("Expected Point");if(!gne(t))throw new TypeError("Expected Tweak");const n=bne(r,e),i=_ne(e);if(0===t.compare(une))return Bne(i,n);const o=wne(t),s=dne.mul(o),a=i.add(s);return a.isInfinity()?null:Bne(a,n)},pointCompress:function(e,t){if(!mne(e))throw new TypeError("Expected Point");const r=_ne(e);if(r.isInfinity())throw new TypeError("Expected Point");return Bne(r,bne(t,e))},pointFromScalar:function(e,t){if(!vne(e))throw new TypeError("Expected Private");const r=wne(e),n=dne.mul(r);return n.isInfinity()?null:Bne(n,bne(t))},pointMultiply:function(e,t,r){if(!mne(e))throw new TypeError("Expected Point");if(!gne(t))throw new TypeError("Expected Tweak");const n=bne(r,e),i=_ne(e),o=wne(t),s=i.mul(o);return s.isInfinity()?null:Bne(s,n)},privateAdd:function(e,t){if(!vne(e))throw new TypeError("Expected Private");if(!gne(t))throw new TypeError("Expected Tweak");const r=wne(e),n=wne(t),i=xne(r.add(n).umod(hne));return vne(i)?i:null},privateSub:function(e,t){if(!vne(e))throw new TypeError("Expected Private");if(!gne(t))throw new TypeError("Expected Tweak");const r=wne(e),n=wne(t),i=xne(r.sub(n).umod(hne));return vne(i)?i:null},sign:function(e,t){return Ene(e,t)},signWithEntropy:function(e,t,r){return Ene(e,t,r)},verify:function(e,t,r,n){if(!pne(e))throw new TypeError("Expected Hash");if(!mne(t))throw new TypeError("Expected Point");if(!function(e){const t=e.slice(0,32),r=e.slice(32,64);return AW(e)&&64===e.length&&t.compare(lne)<0&&r.compare(lne)<0}(r))throw new TypeError("Expected Signature");const i=_ne(t),o=wne(r.slice(0,32)),s=wne(r.slice(32,64));if(n&&s.cmp(fne)>0)return!1;if(o.gtn(0)<=0)return!1;if(s.gtn(0)<=0)return!1;const a=wne(e),c=s.invm(hne),u=a.mul(c).umod(hne),l=o.mul(c).umod(hne),A=dne.mulAdd(u,i,l);return!A.isInfinity()&&A.x.umod(hne).eq(o)}},Cne={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var Ine in Cne.Null=Cne.Nil,Cne)Cne[Ine].toJSON=function(e){return e}.bind(null,Ine);var kne=Cne;function Pne(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function Tne(e){return kne.Nil(e)?"":Pne(e.constructor)}function One(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function Lne(e){return kne.Function(e)?e.toJSON?e.toJSON():Pne(e):kne.Array(e)?"Array":e&&kne.Object(e)?"Object":void 0!==e?e:""}function Nne(e,t,r){var n=function(e){return kne.Function(e)?"":kne.String(e)?JSON.stringify(e):e&&kne.Object(e)?"":e}(t);return"Expected "+Lne(e)+", got"+(""!==r?" "+r:"")+(""!==n?" "+n:"")}function Une(e,t,r){r=r||Tne(t),this.message=Nne(e,t,r),One(this,Une),this.__type=e,this.__value=t,this.__valueTypeName=r}function Fne(e,t,r,n,i){e?(i=i||Tne(n),this.message=function(e,t,r,n,i){var o='" of type ';return"key"===t&&(o='" with key type '),Nne('property "'+Lne(r)+o+Lne(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',One(this,Une),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}Une.prototype=Object.create(Error.prototype),Une.prototype.constructor=Une,Fne.prototype=Object.create(Error.prototype),Fne.prototype.constructor=Une;var Mne=Une,Rne=Fne,Dne=function(e,t){return new Une(e,{},t)},jne=function(e,t,r){return e instanceof Fne?(t=t+"."+e.__property,e=new Fne(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof Une&&(e=new Fne(e.__type,t,r,e.__value,e.__valueTypeName)),One(e),e},Qne=Lne,Hne=Tne;function Kne(e){return AW(e)}function Vne(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function zne(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw Dne(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var qne=zne.bind(null,kne.Array),Gne=zne.bind(null,Kne),Wne=zne.bind(null,Vne),$ne=zne.bind(null,kne.String),Jne=Math.pow(2,53)-1,Xne={ArrayN:qne,Buffer:Kne,BufferN:Gne,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:Vne,HexN:Wne,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-Jne&&e<=Jne&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||kne.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:$ne,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=Jne&&Math.floor(e)===e}};for(var Yne in Xne)Xne[Yne].toJSON=function(e){return e}.bind(null,Yne);var Zne=Xne,eie=Qne,tie=Mne,rie=Rne,nie=jne,iie=Hne,oie={arrayOf:function(e,t){function r(r,n){return!!kne.Array(r)&&!kne.Nil(r)&&!(void 0!==t.minLength&&r.length<t.minLength)&&!(void 0!==t.maxLength&&r.length>t.maxLength)&&(void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return aie(e,t,n)}catch(e){throw nie(e,r)}}))}return e=sie(e),t=t||{},r.toJSON=function(){var r="["+eie(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return kne.Nil(r)||t(r,n,e)}return t=sie(t),r.toJSON=function(){return"?"+eie(t)},r},map:function(e,t){function r(r,n){if(!kne.Object(r))return!1;if(kne.Nil(r))return!1;for(var i in r){try{t&&aie(t,i,n)}catch(e){throw nie(e,i,"key")}try{var o=r[i];aie(e,o,n)}catch(e){throw nie(e,i)}}return!0}return e=sie(e),t&&(t=sie(t)),r.toJSON=t?function(){return"{"+eie(t)+": "+eie(e)+"}"}:function(){return"{"+eie(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=sie(e[r]);function n(e,r){if(!kne.Object(e))return!1;if(kne.Nil(e))return!1;var n;try{for(n in t)aie(t[n],e[n],r)}catch(e){throw nie(e,n)}if(r)for(n in e)if(!t[n])throw new rie(void 0,n);return!0}return n.toJSON=function(){return eie(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(sie);function t(t,r){return e.some((function(e){try{return aie(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(eie).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(sie);function t(t,r){return e.every((function(e){try{return aie(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(eie).join(" & ")},t},quacksLike:function(e){function t(t){return e===iie(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(sie);function t(t,r){return!kne.Nil(t)&&!kne.Nil(t.length)&&(!r||t.length===e.length)&&e.every((function(e,n){try{return aie(e,t[n],r)}catch(e){throw nie(e,n)}}))}return t.toJSON=function(){return"("+e.map(eie).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function sie(e){if(kne.String(e))return"?"===e[0]?oie.maybe(e.slice(1)):kne[e]||oie.quacksLike(e);if(e&&kne.Object(e)){if(kne.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return oie.arrayOf(e[0])}return oie.object(e)}return kne.Function(e)?e:oie.value(e)}function aie(e,t,r,n){if(kne.Function(e)){if(e(t,r))return!0;throw new tie(n||e,t)}return aie(sie(e),t,r)}for(var cie in oie.oneOf=oie.anyOf,kne)aie[cie]=kne[cie];for(cie in oie)aie[cie]=oie[cie];for(cie in Zne)aie[cie]=Zne[cie];aie.compile=sie,aie.TfTypeError=tie,aie.TfPropertyTypeError=rie;var uie=aie;function lie(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function Aie(e,t,r){var n=new kG(r?34:33);return n.writeUInt8(e,0),t.copy(n,1),r&&(n[33]=1),n}var hie=function(e,t){return lie(nee.decode(e),t)},fie=function(e,t,r){return"number"==typeof e?nee.encode(Aie(e,t,r)):nee.encode(Aie(e.version,e.privateKey,e.compressed))},die=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=uie.BufferN(32),n=uie.compile({wif:uie.UInt8,bip32:{public:uie.UInt32,private:uie.UInt32}}),i={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},o=2147483648,s=Math.pow(2,31)-1;function a(e){return uie.String(e)&&null!==e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function c(e){return uie.UInt32(e)&&e<=s}class u{constructor(e,t,r,i,o=0,s=0,a=0){this.__D=e,this.__Q=t,this.chainCode=r,this.network=i,this.__DEPTH=o,this.__INDEX=s,this.__PARENT_FINGERPRINT=a,uie(n,i),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return void 0===this.__Q&&(this.__Q=Sne.pointFromScalar(this.__D,!0)),this.__Q}get privateKey(){return this.__D}get identifier(){return Z9.hash160(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return void 0===this.__D}neutered(){return h(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){const e=this.network,t=this.isNeutered()?e.bip32.public:e.bip32.private,r=kG.allocUnsafe(78);return r.writeUInt32BE(t,0),r.writeUInt8(this.depth,4),r.writeUInt32BE(this.parentFingerprint,5),r.writeUInt32BE(this.index,9),this.chainCode.copy(r,13),this.isNeutered()?this.publicKey.copy(r,45):(r.writeUInt8(0,45),this.privateKey.copy(r,46)),nee.encode(r)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return fie(this.network.wif,this.privateKey,!0)}derive(e){uie(uie.UInt32,e);const t=e>=o,r=kG.allocUnsafe(37);if(t){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");r[0]=0,this.privateKey.copy(r,1),r.writeUInt32BE(e,33)}else this.publicKey.copy(r,0),r.writeUInt32BE(e,33);const n=Z9.hmacSHA512(this.chainCode,r),i=n.slice(0,32),s=n.slice(32);if(!Sne.isPrivate(i))return this.derive(e+1);let a;if(this.isNeutered()){const t=Sne.pointAddScalar(this.publicKey,i,!0);if(null===t)return this.derive(e+1);a=h(t,s,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}else{const t=Sne.privateAdd(this.privateKey,i);if(null==t)return this.derive(e+1);a=A(t,s,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}return a}deriveHardened(e){return uie(c,e),this.derive(e+o)}derivePath(e){uie(a,e);let t=e.split("/");if("m"===t[0]){if(this.parentFingerprint)throw new TypeError("Expected master, got child");t=t.slice(1)}return t.reduce(((e,t)=>{let r;return"'"===t.slice(-1)?(r=parseInt(t.slice(0,-1),10),e.deriveHardened(r)):(r=parseInt(t,10),e.derive(r))}),this)}sign(e,t){if(!this.privateKey)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return Sne.sign(e,this.privateKey);{let t=Sne.sign(e,this.privateKey);const r=kG.alloc(32,0);let n=0;for(;t[0]>127;)n++,r.writeUIntLE(n,0,6),t=Sne.signWithEntropy(e,this.privateKey,r);return t}}verify(e,t){return Sne.verify(e,this.publicKey,t)}}function l(e,t,r){return A(e,t,r)}function A(e,t,n,o,s,a){if(uie({privateKey:r,chainCode:r},{privateKey:e,chainCode:t}),n=n||i,!Sne.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return new u(e,void 0,t,n,o,s,a)}function h(e,t,n,o,s,a){if(uie({publicKey:uie.BufferN(33),chainCode:r},{publicKey:e,chainCode:t}),n=n||i,!Sne.isPoint(e))throw new TypeError("Point is not on the curve");return new u(void 0,e,t,n,o,s,a)}t.fromBase58=function(e,t){const r=nee.decode(e);if(78!==r.length)throw new TypeError("Invalid buffer length");t=t||i;const n=r.readUInt32BE(0);if(n!==t.bip32.private&&n!==t.bip32.public)throw new TypeError("Invalid network version");const o=r[4],s=r.readUInt32BE(5);if(0===o&&0!==s)throw new TypeError("Invalid parent fingerprint");const a=r.readUInt32BE(9);if(0===o&&0!==a)throw new TypeError("Invalid index");const c=r.slice(13,45);let u;if(n===t.bip32.private){if(0!==r.readUInt8(45))throw new TypeError("Invalid private key");u=A(r.slice(46,78),c,t,o,a,s)}else u=h(r.slice(45,78),c,t,o,a,s);return u},t.fromPrivateKey=l,t.fromPublicKey=function(e,t,r){return h(e,t,r)},t.fromSeed=function(e,t){if(uie(uie.Buffer,e),e.length<16)throw new TypeError("Seed should be at least 128 bits");if(e.length>64)throw new TypeError("Seed should be at most 512 bits");t=t||i;const r=Z9.hmacSHA512(kG.from("Bitcoin seed","utf8"),e);return l(r.slice(0,32),r.slice(32),t)}}));aG(die),die.fromBase58,die.fromPrivateKey,die.fromPublicKey,die.fromSeed;var pie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.fromSeed=die.fromSeed,t.fromBase58=die.fromBase58,t.fromPublicKey=die.fromPublicKey,t.fromPrivateKey=die.fromPrivateKey}));aG(pie),pie.fromSeed,pie.fromBase58,pie.fromPublicKey,pie.fromPrivateKey;var gie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}}));aG(gie),gie.bitcoin,gie.regtest,gie.testnet;var mie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e,t,r){t=t||4,r=void 0===r||r;const n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&0==(127&e[n-1])&&(n<=1||0==(128&e[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-(4294967296*(-129&r)+t):4294967296*r+t}let i=0;for(let t=0;t<n;++t)i|=e[t]<<8*t;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},t.encode=function(e){let t=Math.abs(e);const r=(n=t)>2147483647?5:n>8388607?4:n>32767?3:n>127?2:n>0?1:0;var n;const i=kG.allocUnsafe(r),o=e<0;for(let e=0;e<r;++e)i.writeUInt8(255&t,e),t>>=8;return 128&i[r-1]?i.writeUInt8(o?128:0,r-1):o&&(i[r-1]|=128),i}}));aG(mie),mie.decode,mie.encode;var yie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Math.pow(2,31)-1;function n(e){return uie.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return uie.UInt32(e)&&e<=r},t.BIP32Path=n,n.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(uie.Buffer(e.publicKey)||"function"==typeof e.getPublicKey)&&"function"==typeof e.sign},t.Satoshi=function(e){return uie.UInt53(e)&&e<=21e14},t.ECPoint=uie.quacksLike("Point"),t.Network=uie.compile({messagePrefix:uie.oneOf(uie.Buffer,uie.String),bip32:{public:uie.UInt32,private:uie.UInt32},pubKeyHash:uie.UInt8,scriptHash:uie.UInt8,wif:uie.UInt8}),t.Buffer256bit=uie.BufferN(32),t.Hash160bit=uie.BufferN(20),t.Hash256bit=uie.BufferN(32),t.Number=uie.Number,t.Array=uie.Array,t.Boolean=uie.Boolean,t.String=uie.String,t.Buffer=uie.Buffer,t.Hex=uie.Hex,t.maybe=uie.maybe,t.tuple=uie.tuple,t.UInt8=uie.UInt8,t.UInt32=uie.UInt32,t.Function=uie.Function,t.BufferN=uie.BufferN,t.Null=uie.Null,t.oneOf=uie.oneOf}));aG(yie),yie.UInt31,yie.BIP32Path,yie.Signer,yie.Satoshi,yie.ECPoint,yie.Network,yie.Buffer256bit,yie.Hash160bit,yie.Hash256bit,yie.Number,yie.Array,yie.Boolean,yie.String,yie.Buffer,yie.Hex,yie.maybe,yie.tuple,yie.UInt8,yie.UInt32,yie.Function,yie.BufferN,yie.Null,yie.oneOf;var vie=S4.Buffer,bie=function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return!(0===r||6+t+r!==e.length||128&e[4]||t>1&&0===e[4]&&!(128&e[5])||128&e[t+6]||r>1&&0===e[t+6]&&!(128&e[t+7]))},wie=function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},xie=function(e,t){var r=e.length,n=t.length;if(0===r)throw new Error("R length is zero");if(0===n)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(n>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var i=vie.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i},_ie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=kG.alloc(1,0);function n(e){let t=0;for(;0===e[t];)++t;return t===e.length?r:128&(e=e.slice(t))[0]?kG.concat([r,e],1+e.length):e}function i(e){0===e[0]&&(e=e.slice(1));const t=kG.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}t.decode=function(e){const t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const n=wie(e.slice(0,-1)),o=i(n.r),s=i(n.s);return{signature:kG.concat([o,s],64),hashType:t}},t.encode=function(e,t){uie({signature:yie.BufferN(64),hashType:yie.UInt8},{signature:e,hashType:t});const r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const i=kG.allocUnsafe(1);i.writeUInt8(t,0);const o=n(e.slice(0,32)),s=n(e.slice(32,64));return kG.concat([xie(o,s),i])}}));aG(_ie),_ie.decode,_ie.encode;var Bie=uG(Object.freeze({__proto__:null,OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255,default:{OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255}}));function Eie(e){return e<Bie.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}var Sie={encodingLength:Eie,encode:function(e,t,r){var n=Eie(t);return 1===n?e.writeUInt8(t,r):2===n?(e.writeUInt8(Bie.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===n?(e.writeUInt8(Bie.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(Bie.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),n},decode:function(e,t){var r,n,i=e.readUInt8(t);if(i<Bie.OP_PUSHDATA1)r=i,n=1;else if(i===Bie.OP_PUSHDATA1){if(t+2>e.length)return null;r=e.readUInt8(t+1),n=2}else if(i===Bie.OP_PUSHDATA2){if(t+3>e.length)return null;r=e.readUInt16LE(t+1),n=3}else{if(t+5>e.length)return null;if(i!==Bie.OP_PUSHDATA4)throw new Error("Unexpected opcode");r=e.readUInt32LE(t+1),n=5}return{opcode:i,number:r,size:n}}},Cie={};for(var Iie in Bie)Cie[Bie[Iie]]=Iie;var kie=Cie,Pie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.OPS=Bie;const r=t.OPS.OP_RESERVED;function n(e){return yie.Buffer(e)||function(e){return yie.Number(e)&&(e===t.OPS.OP_0||e>=t.OPS.OP_1&&e<=t.OPS.OP_16||e===t.OPS.OP_1NEGATE)}(e)}function i(e){return yie.Array(e)&&e.every(n)}function o(e){return 0===e.length?t.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?r+e[0]:129===e[0]?t.OPS.OP_1NEGATE:void 0:void 0}function s(e){return AW(e)}function a(e){return AW(e)}function c(e){if(s(e))return e;uie(yie.Array,e);const t=e.reduce(((e,t)=>a(t)?1===t.length&&void 0!==o(t)?e+1:e+Sie.encodingLength(t.length)+t.length:e+1),0),r=kG.allocUnsafe(t);let n=0;if(e.forEach((e=>{if(a(e)){const t=o(e);if(void 0!==t)return r.writeUInt8(t,n),void(n+=1);n+=Sie.encode(r,e.length,n),e.copy(r,n),n+=e.length}else r.writeUInt8(e,n),n+=1})),n!==r.length)throw new Error("Could not decode chunks");return r}function u(e){if(r=e,yie.Array(r))return e;var r;uie(yie.Buffer,e);const n=[];let i=0;for(;i<e.length;){const r=e[i];if(r>t.OPS.OP_0&&r<=t.OPS.OP_PUSHDATA4){const t=Sie.decode(e,i);if(null===t)return null;if(i+=t.size,i+t.number>e.length)return null;const r=e.slice(i,i+t.number);i+=t.number;const s=o(r);void 0!==s?n.push(s):n.push(r)}else n.push(r),i+=1}return n}function l(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=i,t.compile=c,t.decompile=u,t.toASM=function(e){return s(e)&&(e=u(e)),e.map((e=>{if(a(e)){const t=o(e);if(void 0===t)return e.toString("hex");e=t}return kie[e]})).join(" ")},t.fromASM=function(e){return uie(yie.String,e),c(e.split(" ").map((e=>void 0!==t.OPS[e]?t.OPS[e]:(uie(yie.Hex,e),kG.from(e,"hex")))))},t.toStack=function(e){return e=u(e),uie(i,e),e.map((e=>a(e)?e:e===t.OPS.OP_0?kG.allocUnsafe(0):mie.encode(e-r)))},t.isCanonicalPubKey=function(e){return Sne.isPoint(e)},t.isDefinedHashType=l,t.isCanonicalScriptSignature=function(e){return!!AW(e)&&!!l(e[e.length-1])&&bie(e.slice(0,-1))},t.number=mie,t.signature=_ie}));aG(Pie),Pie.OPS,Pie.isPushOnly,Pie.compile,Pie.decompile,Pie.toASM,Pie.fromASM,Pie.toStack,Pie.isCanonicalPubKey,Pie.isDefinedHashType,Pie.isCanonicalScriptSignature,Pie.number,Pie.signature;var Tie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}}));aG(Tie),Tie.prop,Tie.value;var Oie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),uie({network:uie.maybe(uie.Object),output:uie.maybe(uie.Buffer),data:uie.maybe(uie.arrayOf(uie.Buffer))},e);const n={name:"embed",network:e.network||gie.bitcoin};if(Tie.prop(n,"output",(()=>{if(e.data)return Pie.compile([r.OP_RETURN].concat(e.data))})),Tie.prop(n,"data",(()=>{if(e.output)return Pie.decompile(e.output).slice(1)})),t.validate&&e.output){const t=Pie.decompile(e.output);if(t[0]!==r.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(uie.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,e)}}));aG(Oie),Oie.p2data;var Lie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS,n=r.OP_RESERVED;function i(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function o(e){return Pie.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===r.OP_0)}t=Object.assign({validate:!0},t||{}),uie({network:uie.maybe(uie.Object),m:uie.maybe(uie.Number),n:uie.maybe(uie.Number),output:uie.maybe(uie.Buffer),pubkeys:uie.maybe(uie.arrayOf(Sne.isPoint)),signatures:uie.maybe(uie.arrayOf(o)),input:uie.maybe(uie.Buffer)},e);const s={network:e.network||gie.bitcoin};let a=[],c=!1;function u(e){c||(c=!0,a=Pie.decompile(e),s.m=a[0]-n,s.n=a[a.length-2]-n,s.pubkeys=a.slice(1,-2))}if(Tie.prop(s,"output",(()=>{if(e.m&&s.n&&e.pubkeys)return Pie.compile([].concat(n+e.m,e.pubkeys,n+s.n,r.OP_CHECKMULTISIG))})),Tie.prop(s,"m",(()=>{if(s.output)return u(s.output),s.m})),Tie.prop(s,"n",(()=>{if(s.pubkeys)return s.pubkeys.length})),Tie.prop(s,"pubkeys",(()=>{if(e.output)return u(e.output),s.pubkeys})),Tie.prop(s,"signatures",(()=>{if(e.input)return Pie.decompile(e.input).slice(1)})),Tie.prop(s,"input",(()=>{if(e.signatures)return Pie.compile([r.OP_0].concat(e.signatures))})),Tie.prop(s,"witness",(()=>{if(s.input)return[]})),Tie.prop(s,"name",(()=>{if(s.m&&s.n)return`p2ms(${s.m} of ${s.n})`})),t.validate){if(e.output){if(u(e.output),!uie.Number(a[0]))throw new TypeError("Output is invalid");if(!uie.Number(a[a.length-2]))throw new TypeError("Output is invalid");if(a[a.length-1]!==r.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(s.m<=0||s.n>16||s.m>s.n||s.n!==a.length-3)throw new TypeError("Output is invalid");if(!s.pubkeys.every((e=>Sne.isPoint(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==s.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==s.n)throw new TypeError("n mismatch");if(e.pubkeys&&!i(e.pubkeys,s.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(s.n=e.pubkeys.length,s.n<s.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<s.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>s.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==r.OP_0)throw new TypeError("Input is invalid");if(0===s.signatures.length||!s.signatures.every(o))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!i(e.signatures,s.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(s,e)}}));aG(Lie),Lie.p2ms;var Nie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),uie({network:uie.maybe(uie.Object),output:uie.maybe(uie.Buffer),pubkey:uie.maybe(Sne.isPoint),signature:uie.maybe(Pie.isCanonicalScriptSignature),input:uie.maybe(uie.Buffer)},e);const n=Tie.value((()=>Pie.decompile(e.input))),i={name:"p2pk",network:e.network||gie.bitcoin};if(Tie.prop(i,"output",(()=>{if(e.pubkey)return Pie.compile([e.pubkey,r.OP_CHECKSIG])})),Tie.prop(i,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),Tie.prop(i,"signature",(()=>{if(e.input)return n()[0]})),Tie.prop(i,"input",(()=>{if(e.signature)return Pie.compile([e.signature])})),Tie.prop(i,"witness",(()=>{if(i.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==r.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!Sne.isPoint(i.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(i.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==n().length)throw new TypeError("Input is invalid");if(!Pie.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,e)}}));aG(Nie),Nie.p2pk;var Uie=cG((function(e,t){function r(e){try{return K9("rmd160").update(e).digest()}catch(t){return K9("ripemd160").update(e).digest()}}function n(e){return K9("sha256").update(e).digest()}Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=r,t.sha1=function(e){return K9("sha1").update(e).digest()},t.sha256=n,t.hash160=function(e){return r(n(e))},t.hash256=function(e){return n(n(e))}}));aG(Uie),Uie.ripemd160,Uie.sha1,Uie.sha256,Uie.hash160,Uie.hash256;var Fie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),uie({network:uie.maybe(uie.Object),address:uie.maybe(uie.String),hash:uie.maybe(uie.BufferN(20)),output:uie.maybe(uie.BufferN(25)),pubkey:uie.maybe(Sne.isPoint),signature:uie.maybe(Pie.isCanonicalScriptSignature),input:uie.maybe(uie.Buffer)},e);const n=Tie.value((()=>{const t=nee.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),i=Tie.value((()=>Pie.decompile(e.input))),o=e.network||gie.bitcoin,s={name:"p2pkh",network:o};if(Tie.prop(s,"address",(()=>{if(!s.hash)return;const e=kG.allocUnsafe(21);return e.writeUInt8(o.pubKeyHash,0),s.hash.copy(e,1),nee.encode(e)})),Tie.prop(s,"hash",(()=>e.output?e.output.slice(3,23):e.address?n().hash:e.pubkey||s.pubkey?Uie.hash160(e.pubkey||s.pubkey):void 0)),Tie.prop(s,"output",(()=>{if(s.hash)return Pie.compile([r.OP_DUP,r.OP_HASH160,s.hash,r.OP_EQUALVERIFY,r.OP_CHECKSIG])})),Tie.prop(s,"pubkey",(()=>{if(e.input)return i()[1]})),Tie.prop(s,"signature",(()=>{if(e.input)return i()[0]})),Tie.prop(s,"input",(()=>{if(e.pubkey&&e.signature)return Pie.compile([e.signature,e.pubkey])})),Tie.prop(s,"witness",(()=>{if(s.input)return[]})),t.validate){let t=kG.from([]);if(e.address){if(n().version!==o.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==n().hash.length)throw new TypeError("Invalid address");t=n().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==r.OP_DUP||e.output[1]!==r.OP_HASH160||20!==e.output[2]||e.output[23]!==r.OP_EQUALVERIFY||e.output[24]!==r.OP_CHECKSIG)throw new TypeError("Output is invalid");const n=e.output.slice(3,23);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.pubkey){const r=Uie.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const r=i();if(2!==r.length)throw new TypeError("Input is invalid");if(!Pie.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!Sne.isPoint(r[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=Uie.hash160(r[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(s,e)}}));aG(Fie),Fie.p2pkh;var Mie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),uie({network:uie.maybe(uie.Object),address:uie.maybe(uie.String),hash:uie.maybe(uie.BufferN(20)),output:uie.maybe(uie.BufferN(23)),redeem:uie.maybe({network:uie.maybe(uie.Object),output:uie.maybe(uie.Buffer),input:uie.maybe(uie.Buffer),witness:uie.maybe(uie.arrayOf(uie.Buffer))}),input:uie.maybe(uie.Buffer),witness:uie.maybe(uie.arrayOf(uie.Buffer))},e);let n=e.network;n||(n=e.redeem&&e.redeem.network||gie.bitcoin);const i={network:n},o=Tie.value((()=>{const t=nee.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),s=Tie.value((()=>Pie.decompile(e.input))),a=Tie.value((()=>{const t=s();return{network:n,output:t[t.length-1],input:Pie.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(Tie.prop(i,"address",(()=>{if(!i.hash)return;const e=kG.allocUnsafe(21);return e.writeUInt8(i.network.scriptHash,0),i.hash.copy(e,1),nee.encode(e)})),Tie.prop(i,"hash",(()=>e.output?e.output.slice(2,22):e.address?o().hash:i.redeem&&i.redeem.output?Uie.hash160(i.redeem.output):void 0)),Tie.prop(i,"output",(()=>{if(i.hash)return Pie.compile([r.OP_HASH160,i.hash,r.OP_EQUAL])})),Tie.prop(i,"redeem",(()=>{if(e.input)return a()})),Tie.prop(i,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return Pie.compile([].concat(Pie.decompile(e.redeem.input),e.redeem.output))})),Tie.prop(i,"witness",(()=>i.redeem&&i.redeem.witness?i.redeem.witness:i.input?[]:void 0)),Tie.prop(i,"name",(()=>{const e=["p2sh"];return void 0!==i.redeem&&e.push(i.redeem.name),e.join("-")})),t.validate){let t=kG.from([]);if(e.address){if(o().version!==n.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==o().hash.length)throw new TypeError("Invalid address");t=o().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==r.OP_HASH160||20!==e.output[1]||e.output[22]!==r.OP_EQUAL)throw new TypeError("Output is invalid");const n=e.output.slice(2,22);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}const i=e=>{if(e.output){const r=Pie.decompile(e.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");const n=Uie.hash160(e.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw new TypeError("Empty input");if(t&&r)throw new TypeError("Input and witness provided");if(t){const t=Pie.decompile(e.input);if(!Pie.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=s();if(!e||e.length<1)throw new TypeError("Input too short");if(!AW(a().output))throw new TypeError("Input is invalid");i(a())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==n)throw new TypeError("Network mismatch");if(e.input){const t=a();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}i(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(i,e)}}));aG(Mie),Mie.p2sh;for(var Rie="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Die={},jie=0;jie<Rie.length;jie++){var Qie=Rie.charAt(jie);if(void 0!==Die[Qie])throw new TypeError(Qie+" is ambiguous");Die[Qie]=jie}function Hie(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function Kie(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=Hie(t)^n>>5}for(t=Hie(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=Hie(t)^31&i}return t}function Vie(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var i=(e=r).lastIndexOf("1");if(-1===i)return"No separator character for "+e;if(0===i)return"Missing prefix for "+e;var o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)return"Data too short";var a=Kie(o);if("string"==typeof a)return a;for(var c=[],u=0;u<s.length;++u){var l=s.charAt(u),A=Die[l];if(void 0===A)return"Unknown character "+l;a=Hie(a)^A,u+6>=s.length||c.push(A)}return 1!==a?"Invalid checksum for "+e:{prefix:o,words:c}}function zie(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}var qie=function(e){var t=Vie.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},Gie=function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var n=Kie(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",o=0;o<t.length;++o){var s=t[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=Hie(n)^s,i+=Rie.charAt(s)}for(o=0;o<6;++o)n=Hie(n);for(n^=1,o=0;o<6;++o)i+=Rie.charAt(n>>5*(5-o)&31);return i},Wie=function(e){var t=zie(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},$ie=function(e){var t=zie(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)},Jie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS,n=kG.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),uie({address:uie.maybe(uie.String),hash:uie.maybe(uie.BufferN(20)),input:uie.maybe(uie.BufferN(0)),network:uie.maybe(uie.Object),output:uie.maybe(uie.BufferN(22)),pubkey:uie.maybe(Sne.isPoint),signature:uie.maybe(Pie.isCanonicalScriptSignature),witness:uie.maybe(uie.arrayOf(uie.Buffer))},e);const i=Tie.value((()=>{const t=qie(e.address),r=t.words.shift(),n=$ie(t.words);return{version:r,prefix:t.prefix,data:kG.from(n)}})),o=e.network||gie.bitcoin,s={name:"p2wpkh",network:o};if(Tie.prop(s,"address",(()=>{if(!s.hash)return;const e=Wie(s.hash);return e.unshift(0),Gie(o.bech32,e)})),Tie.prop(s,"hash",(()=>e.output?e.output.slice(2,22):e.address?i().data:e.pubkey||s.pubkey?Uie.hash160(e.pubkey||s.pubkey):void 0)),Tie.prop(s,"output",(()=>{if(s.hash)return Pie.compile([r.OP_0,s.hash])})),Tie.prop(s,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),Tie.prop(s,"signature",(()=>{if(e.witness)return e.witness[0]})),Tie.prop(s,"input",(()=>{if(s.witness)return n})),Tie.prop(s,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=kG.from([]);if(e.address){if(o&&o.bech32!==i().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==i().version)throw new TypeError("Invalid address version");if(20!==i().data.length)throw new TypeError("Invalid address data");t=i().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==r.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const r=Uie.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");if(t=r,!Sne.isPoint(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!Pie.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!Sne.isPoint(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const r=Uie.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(s,e)}}));aG(Jie),Jie.p2wpkh;var Xie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS,n=kG.alloc(0);function i(e){return!(!AW(e)||65!==e.length||4!==e[0]||!Sne.isPoint(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),uie({network:uie.maybe(uie.Object),address:uie.maybe(uie.String),hash:uie.maybe(uie.BufferN(32)),output:uie.maybe(uie.BufferN(34)),redeem:uie.maybe({input:uie.maybe(uie.Buffer),network:uie.maybe(uie.Object),output:uie.maybe(uie.Buffer),witness:uie.maybe(uie.arrayOf(uie.Buffer))}),input:uie.maybe(uie.BufferN(0)),witness:uie.maybe(uie.arrayOf(uie.Buffer))},e);const o=Tie.value((()=>{const t=qie(e.address),r=t.words.shift(),n=$ie(t.words);return{version:r,prefix:t.prefix,data:kG.from(n)}})),s=Tie.value((()=>Pie.decompile(e.redeem.input)));let a=e.network;a||(a=e.redeem&&e.redeem.network||gie.bitcoin);const c={network:a};if(Tie.prop(c,"address",(()=>{if(!c.hash)return;const e=Wie(c.hash);return e.unshift(0),Gie(a.bech32,e)})),Tie.prop(c,"hash",(()=>e.output?e.output.slice(2):e.address?o().data:c.redeem&&c.redeem.output?Uie.sha256(c.redeem.output):void 0)),Tie.prop(c,"output",(()=>{if(c.hash)return Pie.compile([r.OP_0,c.hash])})),Tie.prop(c,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:n,witness:e.witness.slice(0,-1)}})),Tie.prop(c,"input",(()=>{if(c.witness)return n})),Tie.prop(c,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=Pie.toStack(s());return c.redeem=Object.assign({witness:t},e.redeem),c.redeem.input=n,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),Tie.prop(c,"name",(()=>{const e=["p2wsh"];return void 0!==c.redeem&&e.push(c.redeem.name),e.join("-")})),t.validate){let t=kG.from([]);if(e.address){if(o().prefix!==a.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==o().version)throw new TypeError("Invalid address version");if(32!==o().data.length)throw new TypeError("Invalid address data");t=o().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==r.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const n=e.output.slice(2);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem){if(e.redeem.network&&e.redeem.network!==a)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===Pie.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");const r=Uie.sha256(e.redeem.output);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem.input&&!Pie.isPushOnly(s()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&s().some(i)||e.redeem.output&&(Pie.decompile(e.redeem.output)||[]).some(i))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(i)||(Pie.decompile(t)||[]).some(i))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(c,e)}}));aG(Xie),Xie.p2wsh;var Yie=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.embed=Oie.p2data,t.p2ms=Lie.p2ms,t.p2pk=Nie.p2pk,t.p2pkh=Fie.p2pkh,t.p2sh=Mie.p2sh,t.p2wpkh=Jie.p2wpkh,t.p2wsh=Xie.p2wsh}));aG(Yie),Yie.embed,Yie.p2ms,Yie.p2pk,Yie.p2pkh,Yie.p2sh,Yie.p2wpkh,Yie.p2wsh;var Zie=cG((function(e,t){function r(e){const t=nee.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function n(e){const t=qie(e),r=$ie(t.words.slice(1));return{version:t.words[0],prefix:t.prefix,data:kG.from(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.fromBase58Check=r,t.fromBech32=n,t.toBase58Check=function(e,t){uie(yie.tuple(yie.Hash160bit,yie.UInt8),arguments);const r=kG.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),nee.encode(r)},t.toBech32=function(e,t,r){const n=Wie(e);return n.unshift(t),Gie(r,n)},t.fromOutputScript=function(e,t){t=t||gie.bitcoin;try{return Yie.p2pkh({output:e,network:t}).address}catch(e){}try{return Yie.p2sh({output:e,network:t}).address}catch(e){}try{return Yie.p2wpkh({output:e,network:t}).address}catch(e){}try{return Yie.p2wsh({output:e,network:t}).address}catch(e){}throw new Error(Pie.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let i,o;t=t||gie.bitcoin;try{i=r(e)}catch(e){}if(i){if(i.version===t.pubKeyHash)return Yie.p2pkh({hash:i.hash}).output;if(i.version===t.scriptHash)return Yie.p2sh({hash:i.hash}).output}else{try{o=n(e)}catch(e){}if(o){if(o.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===o.version){if(20===o.data.length)return Yie.p2wpkh({hash:o.data}).output;if(32===o.data.length)return Yie.p2wsh({hash:o.data}).output}}}throw new Error(e+" has no matching Script")}}));aG(Zie),Zie.fromBase58Check,Zie.fromBech32,Zie.toBase58Check,Zie.toBech32,Zie.fromOutputScript,Zie.toOutputScript;var eoe=cG((function(e){var t=65536,r=S4.Buffer,n=sG.crypto||sG.msCrypto;n&&n.getRandomValues?e.exports=function(e,i){if(e>4294967295)throw new RangeError("requested too many random bytes");var o=r.allocUnsafe(e);if(e>0)if(e>t)for(var s=0;s<e;s+=t)n.getRandomValues(o.slice(s,s+t));else n.getRandomValues(o);return"function"==typeof i?EW((function(){i(null,o)})):o}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}})),toe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=uie.maybe(uie.compile({compressed:yie.maybe(yie.Boolean),network:yie.maybe(yie.Network)}));class n{constructor(e,t,r){this.__D=e,this.__Q=t,this.lowR=!1,void 0===r&&(r={}),this.compressed=void 0===r.compressed||r.compressed,this.network=r.network||gie.bitcoin,void 0!==t&&(this.__Q=Sne.pointCompress(t,this.compressed))}get privateKey(){return this.__D}get publicKey(){return this.__Q||(this.__Q=Sne.pointFromScalar(this.__D,this.compressed)),this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return fie(this.network.wif,this.__D,this.compressed)}sign(e,t){if(!this.__D)throw new Error("Missing private key");if(void 0===t&&(t=this.lowR),!1===t)return Sne.sign(e,this.__D);{let t=Sne.sign(e,this.__D);const r=kG.alloc(32,0);let n=0;for(;t[0]>127;)n++,r.writeUIntLE(n,0,6),t=Sne.signWithEntropy(e,this.__D,r);return t}}verify(e,t){return Sne.verify(e,this.publicKey,t)}}function i(e,t){if(uie(yie.Buffer256bit,e),!Sne.isPrivate(e))throw new TypeError("Private key not in range [1, n)");return uie(r,t),new n(e,void 0,t)}t.fromPrivateKey=i,t.fromPublicKey=function(e,t){return uie(Sne.isPoint,e),uie(r,t),new n(void 0,e,t)},t.fromWIF=function(e,t){const r=hie(e),n=r.version;if(yie.Array(t)){if(!(t=t.filter((e=>n===e.wif)).pop()))throw new Error("Unknown network version")}else if(t=t||gie.bitcoin,n!==t.wif)throw new Error("Invalid network version");return i(r.privateKey,{compressed:r.compressed,network:t})},t.makeRandom=function(e){uie(r,e),void 0===e&&(e={});const t=e.rng||eoe;let n;do{n=t(32),uie(yie.Buffer256bit,n)}while(!Sne.isPrivate(n));return i(n,e)}}));aG(toe),toe.fromPrivateKey,toe.fromPublicKey,toe.fromWIF,toe.makeRandom;var roe=S4.Buffer;function noe(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function ioe(e){return noe(e),e<253?1:e<=65535?3:e<=4294967295?5:9}var ooe={encode:function e(t,r,n){if(noe(t),r||(r=roe.allocUnsafe(ioe(t))),!roe.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return n||(n=0),t<253?(r.writeUInt8(t,n),e.bytes=1):t<=65535?(r.writeUInt8(253,n),r.writeUInt16LE(t,n+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,n),r.writeUInt32LE(t,n+1),e.bytes=5):(r.writeUInt8(255,n),r.writeUInt32LE(t>>>0,n+1),r.writeUInt32LE(t/4294967296|0,n+5),e.bytes=9),r},decode:function e(t,r){if(!roe.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var n=t.readUInt8(r);if(n<253)return e.bytes=1,n;if(253===n)return e.bytes=3,t.readUInt16LE(r+1);if(254===n)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var i=t.readUInt32LE(r+1),o=4294967296*t.readUInt32LE(r+5)+i;return noe(o),o},encodingLength:ioe},soe=cG((function(e,t){function r(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function n(e,t){const n=e.readUInt32LE(t);let i=e.readUInt32LE(t+4);return i*=4294967296,r(i+n,9007199254740991),i+n}function i(e,t,n){return r(t,9007199254740991),e.writeInt32LE(-1&t,n),e.writeUInt32LE(Math.floor(t/4294967296),n+4),n+8}Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt64LE=n,t.writeUInt64LE=i,t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.cloneBuffer=function(e){const t=kG.allocUnsafe(e.length);return e.copy(t),t},t.BufferWriter=class{constructor(e,t=0){this.buffer=e,this.offset=t,uie(yie.tuple(yie.Buffer,yie.UInt32),[e,t])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=i(this.buffer,e,this.offset)}writeVarInt(e){ooe.encode(e,this.buffer,this.offset),this.offset+=ooe.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}},t.BufferReader=class{constructor(e,t=0){this.buffer=e,this.offset=t,uie(yie.tuple(yie.Buffer,yie.UInt32),[e,t])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=n(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=ooe.decode(this.buffer,this.offset);return this.offset+=ooe.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}}));aG(soe),soe.readUInt64LE,soe.writeUInt64LE,soe.reverseBuffer,soe.cloneBuffer,soe.BufferWriter,soe.BufferReader;var aoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie;function n(e){const t=e.length;return ooe.encodingLength(t)+t}const i=kG.allocUnsafe(0),o=[],s=kG.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),a=kG.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),c=kG.from("ffffffffffffffff","hex"),u={script:i,valueBuffer:c};class l{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){const r=new soe.BufferReader(e),n=new l;n.version=r.readInt32();const i=r.readUInt8(),s=r.readUInt8();let a=!1;i===l.ADVANCED_TRANSACTION_MARKER&&s===l.ADVANCED_TRANSACTION_FLAG?a=!0:r.offset-=2;const c=r.readVarInt();for(let e=0;e<c;++e)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:o});const u=r.readVarInt();for(let e=0;e<u;++e)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(a){for(let e=0;e<c;++e)n.ins[e].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),t)return n;if(r.offset!==e.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return l.fromBuffer(kG.from(e,"hex"),!1)}static isCoinbaseHash(e){uie(yie.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&l.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return uie(yie.tuple(yie.Hash256bit,yie.UInt32,yie.maybe(yie.UInt32),yie.maybe(yie.Buffer)),arguments),yie.Null(r)&&(r=l.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||i,sequence:r,witness:o})-1}addOutput(e,t){return uie(yie.tuple(yie.Buffer,yie.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+ooe.encodingLength(this.ins.length)+ooe.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+n(t.script)),0)+this.outs.reduce(((e,t)=>e+8+n(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return ooe.encodingLength(t)+e.reduce(((e,t)=>e+n(t)),0)}(t.witness)),0):0)}clone(){const e=new l;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,n){if(uie(yie.tuple(yie.UInt32,yie.Buffer,yie.Number),arguments),e>=this.ins.length)return a;const o=Pie.compile(Pie.decompile(t).filter((e=>e!==r.OPS.OP_CODESEPARATOR))),s=this.clone();if((31&n)===l.SIGHASH_NONE)s.outs=[],s.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}));else if((31&n)===l.SIGHASH_SINGLE){if(e>=this.outs.length)return a;s.outs.length=e+1;for(let t=0;t<e;t++)s.outs[t]=u;s.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}))}n&l.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=o):(s.ins.forEach((e=>{e.script=i})),s.ins[e].script=o);const c=kG.allocUnsafe(s.byteLength(!1)+4);return c.writeInt32LE(n,c.length-4),s.__toBuffer(c,0,!1),Uie.hash256(c)}hashForWitnessV0(e,t,r,i){uie(yie.tuple(yie.UInt32,yie.Buffer,yie.Satoshi,yie.UInt32),arguments);let o,a=kG.from([]),c=s,u=s,A=s;if(i&l.SIGHASH_ANYONECANPAY||(a=kG.allocUnsafe(36*this.ins.length),o=new soe.BufferWriter(a,0),this.ins.forEach((e=>{o.writeSlice(e.hash),o.writeUInt32(e.index)})),u=Uie.hash256(a)),i&l.SIGHASH_ANYONECANPAY||(31&i)===l.SIGHASH_SINGLE||(31&i)===l.SIGHASH_NONE||(a=kG.allocUnsafe(4*this.ins.length),o=new soe.BufferWriter(a,0),this.ins.forEach((e=>{o.writeUInt32(e.sequence)})),A=Uie.hash256(a)),(31&i)!==l.SIGHASH_SINGLE&&(31&i)!==l.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+n(t.script)),0);a=kG.allocUnsafe(e),o=new soe.BufferWriter(a,0),this.outs.forEach((e=>{o.writeUInt64(e.value),o.writeVarSlice(e.script)})),c=Uie.hash256(a)}else if((31&i)===l.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];a=kG.allocUnsafe(8+n(t.script)),o=new soe.BufferWriter(a,0),o.writeUInt64(t.value),o.writeVarSlice(t.script),c=Uie.hash256(a)}a=kG.allocUnsafe(156+n(t)),o=new soe.BufferWriter(a,0);const h=this.ins[e];return o.writeUInt32(this.version),o.writeSlice(u),o.writeSlice(A),o.writeSlice(h.hash),o.writeUInt32(h.index),o.writeVarSlice(t),o.writeUInt64(r),o.writeUInt32(h.sequence),o.writeSlice(c),o.writeUInt32(this.locktime),o.writeUInt32(i),Uie.hash256(a)}getHash(e){return e&&this.isCoinbase()?kG.alloc(32,0):Uie.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return soe.reverseBuffer(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){uie(yie.tuple(yie.Number,yie.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){uie(yie.tuple(yie.Number,[yie.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=kG.allocUnsafe(this.byteLength(r)));const n=new soe.BufferWriter(e,t||0);n.writeInt32(this.version);const i=r&&this.hasWitnesses();return i&&(n.writeUInt8(l.ADVANCED_TRANSACTION_MARKER),n.writeUInt8(l.ADVANCED_TRANSACTION_FLAG)),n.writeVarInt(this.ins.length),this.ins.forEach((e=>{n.writeSlice(e.hash),n.writeUInt32(e.index),n.writeVarSlice(e.script),n.writeUInt32(e.sequence)})),n.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?n.writeUInt64(e.value):n.writeSlice(e.valueBuffer),n.writeVarSlice(e.script)})),i&&this.ins.forEach((e=>{n.writeVector(e.witness)})),n.writeUInt32(this.locktime),void 0!==t?e.slice(t,n.offset):e}}l.DEFAULT_SEQUENCE=4294967295,l.SIGHASH_ALL=1,l.SIGHASH_NONE=2,l.SIGHASH_SINGLE=3,l.SIGHASH_ANYONECANPAY=128,l.ADVANCED_TRANSACTION_MARKER=0,l.ADVANCED_TRANSACTION_FLAG=1,t.Transaction=l}));aG(aoe),aoe.Transaction;var coe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=new TypeError("Cannot compute merkle root for zero transactions"),n=new TypeError("Cannot compute witness commit for non-segwit block");class i{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const t=new soe.BufferReader(e),r=new i;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;const n=()=>{const e=aoe.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},o=t.readVarInt();r.transactions=[];for(let e=0;e<o;++e){const e=n();r.transactions.push(e)}const s=r.getWitnessCommit();return s&&(r.witnessCommit=s),r}static fromHex(e){return i.fromBuffer(kG.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,r=8388607&e,n=kG.alloc(32,0);return n.writeUIntBE(r,29-t,3),n}static calculateMerkleRoot(e,t){if(uie([{getHash:yie.Function}],e),0===e.length)throw r;if(t&&!o(e))throw n;const i=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");for(var r=e.length,n=e.concat();r>1;){for(var i=0,o=0;o<r;o+=2,++i){var s=n[o],a=o+1===r?s:n[o+1],c=kG.concat([s,a]);n[i]=t(c)}r=i}return n[0]}(e.map((e=>e.getHash(t))),Uie.hash256);return t?Uie.hash256(kG.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!o(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(kG.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof kG&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof kG&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+ooe.encodingLength(this.transactions.length)+this.transactions.reduce(((e,r)=>e+r.byteLength(t)),0)}getHash(){return Uie.hash256(this.toBuffer(!0))}getId(){return soe.reverseBuffer(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const t=kG.allocUnsafe(this.byteLength(e)),r=new soe.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(ooe.encode(this.transactions.length,t,r.offset),r.offset+=ooe.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit())}checkProofOfWork(){const e=soe.reverseBuffer(this.getHash()),t=i.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw r;const e=i.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw r;if(!this.hasWitnessCommit())throw n;const e=i.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function o(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=i}));aG(coe),coe.Block;var uoe=cG((function(e,t){var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.GlobalTypes||(t.GlobalTypes={}))[r.UNSIGNED_TX=0]="UNSIGNED_TX",r[r.GLOBAL_XPUB=1]="GLOBAL_XPUB",t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(n=t.InputTypes||(t.InputTypes={}))[n.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",n[n.WITNESS_UTXO=1]="WITNESS_UTXO",n[n.PARTIAL_SIG=2]="PARTIAL_SIG",n[n.SIGHASH_TYPE=3]="SIGHASH_TYPE",n[n.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",n[n.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",n[n.BIP32_DERIVATION=6]="BIP32_DERIVATION",n[n.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",n[n.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",n[n.POR_COMMITMENT=9]="POR_COMMITMENT",t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment"],(i=t.OutputTypes||(t.OutputTypes={}))[i.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",i[i.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",i[i.BIP32_DERIVATION=2]="BIP32_DERIVATION",t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation"]}));aG(uoe),uoe.GlobalTypes,uoe.GLOBAL_TYPE_NAMES,uoe.InputTypes,uoe.INPUT_TYPE_NAMES,uoe.OutputTypes,uoe.OUTPUT_TYPE_NAMES;var loe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const t of(e=>[...Array(e).keys()])(e.value.length/4-1)){const n=e.value.readUInt32LE(4*t+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}return r},t.encode=function(e){const t=kG.from([uoe.GlobalTypes.GLOBAL_XPUB]),r=kG.concat([t,e.extendedPubkey]),n=e.path.split("/"),i=kG.allocUnsafe(4*n.length);e.masterFingerprint.copy(i,0);let o=4;return n.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),i.writeUInt32LE(r,o),o+=4})),{key:r,value:i}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){const t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return AW(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&AW(r)&&4===r.length&&"string"==typeof n&&!!n.match(/^m(\/\d+'?)+$/)},t.canAddToArray=function(e,t,r){const n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)}}));aG(loe),loe.decode,loe.encode,loe.expected,loe.check,loe.canAddToArray;var Aoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return{key:kG.from([uoe.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}}));aG(Aoe),Aoe.encode;var hoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:kG.from([uoe.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return AW(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}}));aG(hoe),hoe.decode,hoe.encode,hoe.expected,hoe.check,hoe.canAdd;var foe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:kG.from([uoe.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return AW(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}}));aG(foe),foe.decode,foe.encode,foe.expected,foe.check,foe.canAdd;var doe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:kG.from([uoe.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return AW(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}}));aG(doe),doe.decode,doe.encode,doe.expected,doe.check,doe.canAdd;var poe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){const t=kG.from([uoe.InputTypes.PARTIAL_SIG]);return{key:kG.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return AW(e.pubkey)&&AW(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!AW(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}));aG(poe),poe.decode,poe.encode,poe.expected,poe.check,poe.canAddToArray;var goe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:kG.from([uoe.InputTypes.POR_COMMITMENT]),value:kG.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}}));aG(goe),goe.decode,goe.encode,goe.expected,goe.check,goe.canAdd;var moe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){const t=kG.from([uoe.InputTypes.SIGHASH_TYPE]),r=kG.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},t.expected="number",t.check=function(e){return"number"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}}));aG(moe),moe.decode,moe.encode,moe.expected,moe.check,moe.canAdd;var yoe=cG((function(e,t){function r(e){if(e<0||e>9007199254740991||e%1!=0)throw new RangeError("value out of range")}function n(e){return r(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function e(t,i,o){if(r(t),i||(i=kG.allocUnsafe(n(t))),!AW(i))throw new TypeError("buffer must be a Buffer instance");return o||(o=0),t<253?(i.writeUInt8(t,o),Object.assign(e,{bytes:1})):t<=65535?(i.writeUInt8(253,o),i.writeUInt16LE(t,o+1),Object.assign(e,{bytes:3})):t<=4294967295?(i.writeUInt8(254,o),i.writeUInt32LE(t,o+1),Object.assign(e,{bytes:5})):(i.writeUInt8(255,o),i.writeUInt32LE(t>>>0,o+1),i.writeUInt32LE(t/4294967296|0,o+5),Object.assign(e,{bytes:9})),i},t.decode=function e(t,n){if(!AW(t))throw new TypeError("buffer must be a Buffer instance");n||(n=0);const i=t.readUInt8(n);if(i<253)return Object.assign(e,{bytes:1}),i;if(253===i)return Object.assign(e,{bytes:3}),t.readUInt16LE(n+1);if(254===i)return Object.assign(e,{bytes:5}),t.readUInt32LE(n+1);{Object.assign(e,{bytes:9});const i=t.readUInt32LE(n+1),o=4294967296*t.readUInt32LE(n+5)+i;return r(o),o}},t.encodingLength=n}));aG(yoe),yoe.encode,yoe.decode,yoe.encodingLength;var voe=cG((function(e,t){function r(e){const t=e.key.length,r=e.value.length,n=yoe.encodingLength(t),i=yoe.encodingLength(r),o=kG.allocUnsafe(n+t+i+r);return yoe.encode(t,o,0),e.key.copy(o,n),yoe.encode(r,o,n+t),e.value.copy(o,n+t+i),o}function n(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}Object.defineProperty(t,"__esModule",{value:!0}),t.range=e=>[...Array(e).keys()],t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.keyValsToBuffer=function(e){const t=e.map(r);return t.push(kG.from([0])),kG.concat(t)},t.keyValToBuffer=r,t.readUInt64LE=function(e,t){const r=e.readUInt32LE(t);let i=e.readUInt32LE(t+4);return i*=4294967296,n(i+r,9007199254740991),i+r},t.writeUInt64LE=function(e,t,r){return n(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}}));aG(voe),voe.range,voe.reverseBuffer,voe.keyValsToBuffer,voe.keyValToBuffer,voe.readUInt64LE,voe.writeUInt64LE;var boe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.decode=function(e){if(e.key[0]!==uoe.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=voe.readUInt64LE(e.value,0);let r=8;const n=yoe.decode(e.value,r);r+=yoe.encodingLength(n);const i=e.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:t}},t.encode=function(e){const{script:t,value:r}=e,n=yoe.encodingLength(t.length),i=kG.allocUnsafe(8+n+t.length);return voe.writeUInt64LE(i,r,0),yoe.encode(t.length,i,8),t.copy(i,8+n),{key:kG.from([uoe.InputTypes.WITNESS_UTXO]),value:i}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return AW(e.script)&&"number"==typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}}));aG(boe),boe.decode,boe.encode,boe.expected,boe.check,boe.canAdd;var woe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const r=t.key.slice(1),n={masterFingerprint:t.value.slice(0,4),pubkey:r,path:"m"};for(const e of(e=>[...Array(e).keys()])(t.value.length/4-1)){const r=t.value.readUInt32LE(4*e+4),i=!!(2147483648&r),o=2147483647&r;n.path+="/"+o.toString(10)+(i?"'":"")}return n},encode:function(t){const r=kG.from([e]),n=kG.concat([r,t.pubkey]),i=t.path.split("/"),o=kG.allocUnsafe(4*i.length);t.masterFingerprint.copy(o,0);let s=4;return i.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),o.writeUInt32LE(r,s),s+=4})),{key:n,value:o}},check:function(e){return AW(e.pubkey)&&AW(e.masterFingerprint)&&"string"==typeof e.path&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}}}));aG(woe),woe.makeConverter;var xoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(r=t.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}}));aG(xoe),xoe.makeChecker;var _oe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:kG.from([e]),value:t}},check:function(e){return AW(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}}));aG(_oe),_oe.makeConverter;var Boe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:kG.from([e]),value:t}},check:function(e){return AW(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}}));aG(Boe),Boe.makeConverter;var Eoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={unsignedTx:Aoe,globalXpub:loe,checkPubkey:xoe.makeChecker([])};t.globals=r;const n={nonWitnessUtxo:doe,partialSig:poe,sighashType:moe,finalScriptSig:hoe,finalScriptWitness:foe,porCommitment:goe,witnessUtxo:boe,bip32Derivation:woe.makeConverter(uoe.InputTypes.BIP32_DERIVATION),redeemScript:_oe.makeConverter(uoe.InputTypes.REDEEM_SCRIPT),witnessScript:Boe.makeConverter(uoe.InputTypes.WITNESS_SCRIPT),checkPubkey:xoe.makeChecker([uoe.InputTypes.PARTIAL_SIG,uoe.InputTypes.BIP32_DERIVATION])};t.inputs=n;const i={bip32Derivation:woe.makeConverter(uoe.OutputTypes.BIP32_DERIVATION),redeemScript:_oe.makeConverter(uoe.OutputTypes.REDEEM_SCRIPT),witnessScript:Boe.makeConverter(uoe.OutputTypes.WITNESS_SCRIPT),checkPubkey:xoe.makeChecker([uoe.OutputTypes.BIP32_DERIVATION])};t.outputs=i}));aG(Eoe),Eoe.globals,Eoe.inputs,Eoe.outputs;var Soe=cG((function(e,t){function r(e,t,r){if(!t.equals(kG.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function n(e,{globalMapKeyVals:t,inputKeyVals:n,outputKeyVals:i}){const o={unsignedTx:e};let s=0;for(const e of t)switch(e.key[0]){case uoe.GlobalTypes.UNSIGNED_TX:if(r("global",e.key,uoe.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case uoe.GlobalTypes.GLOBAL_XPUB:void 0===o.globalXpub&&(o.globalXpub=[]),o.globalXpub.push(Eoe.globals.globalXpub.decode(e));break;default:o.unknownKeyVals||(o.unknownKeyVals=[]),o.unknownKeyVals.push(e)}const a=n.length,c=i.length,u=[],l=[];for(const e of voe.range(a)){const t={};for(const i of n[e])switch(Eoe.inputs.checkPubkey(i),i.key[0]){case uoe.InputTypes.NON_WITNESS_UTXO:if(r("input",i.key,uoe.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=Eoe.inputs.nonWitnessUtxo.decode(i);break;case uoe.InputTypes.WITNESS_UTXO:if(r("input",i.key,uoe.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=Eoe.inputs.witnessUtxo.decode(i);break;case uoe.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(Eoe.inputs.partialSig.decode(i));break;case uoe.InputTypes.SIGHASH_TYPE:if(r("input",i.key,uoe.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=Eoe.inputs.sighashType.decode(i);break;case uoe.InputTypes.REDEEM_SCRIPT:if(r("input",i.key,uoe.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=Eoe.inputs.redeemScript.decode(i);break;case uoe.InputTypes.WITNESS_SCRIPT:if(r("input",i.key,uoe.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=Eoe.inputs.witnessScript.decode(i);break;case uoe.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(Eoe.inputs.bip32Derivation.decode(i));break;case uoe.InputTypes.FINAL_SCRIPTSIG:r("input",i.key,uoe.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=Eoe.inputs.finalScriptSig.decode(i);break;case uoe.InputTypes.FINAL_SCRIPTWITNESS:r("input",i.key,uoe.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=Eoe.inputs.finalScriptWitness.decode(i);break;case uoe.InputTypes.POR_COMMITMENT:r("input",i.key,uoe.InputTypes.POR_COMMITMENT),t.porCommitment=Eoe.inputs.porCommitment.decode(i);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(i)}u.push(t)}for(const e of voe.range(c)){const t={};for(const n of i[e])switch(Eoe.outputs.checkPubkey(n),n.key[0]){case uoe.OutputTypes.REDEEM_SCRIPT:if(r("output",n.key,uoe.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=Eoe.outputs.redeemScript.decode(n);break;case uoe.OutputTypes.WITNESS_SCRIPT:if(r("output",n.key,uoe.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=Eoe.outputs.witnessScript.decode(n);break;case uoe.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(Eoe.outputs.bip32Derivation.decode(n));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}l.push(t)}return{globalMap:o,inputs:u,outputs:l}}Object.defineProperty(t,"__esModule",{value:!0}),t.psbtFromBuffer=function(e,t){let r=0;function i(){const t=yoe.decode(e,r);r+=yoe.encodingLength(t);const n=e.slice(r,r+t);return r+=t,n}function o(){return{key:i(),value:i()}}function s(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){const t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const a=[],c={};for(;!s();){const e=o(),t=e.key.toString("hex");if(c[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);c[t]=1,a.push(e)}const u=a.filter((e=>e.key[0]===uoe.GlobalTypes.UNSIGNED_TX));if(1!==u.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const l=t(u[0].value),{inputCount:A,outputCount:h}=l.getInputOutputCounts(),f=[],d=[];for(const e of voe.range(A)){const t={},r=[];for(;!s();){const n=o(),i=n.key.toString("hex");if(t[i])throw new Error("Format Error: Keys must be unique for each input: input index "+e+" key "+i);t[i]=1,r.push(n)}f.push(r)}for(const e of voe.range(h)){const t={},r=[];for(;!s();){const n=o(),i=n.key.toString("hex");if(t[i])throw new Error("Format Error: Keys must be unique for each output: output index "+e+" key "+i);t[i]=1,r.push(n)}d.push(r)}return n(l,{globalMapKeyVals:a,inputKeyVals:f,outputKeyVals:d})},t.checkKeyBuffer=r,t.psbtFromKeyVals=n}));aG(Soe),Soe.psbtFromBuffer,Soe.checkKeyBuffer,Soe.psbtFromKeyVals;var Coe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:n,inputKeyVals:o,outputKeyVals:s}=i({globalMap:e,inputs:t,outputs:r}),a=voe.keyValsToBuffer(n),c=e=>0===e.length?[kG.from([0])]:e.map(voe.keyValsToBuffer),u=c(o),l=c(s),A=kG.allocUnsafe(5);return A.writeUIntBE(482972169471,0,5),kG.concat([A,a].concat(u,l))};const r=(e,t)=>e.key.compare(t.key);function n(e,t){const n=new Set,i=Object.entries(e).reduce(((e,[r,i])=>{if("unknownKeyVals"===r)return e;const o=t[r];if(void 0===o)return e;const s=(Array.isArray(i)?i:[i]).map(o.encode);return s.map((e=>e.key.toString("hex"))).forEach((e=>{if(n.has(e))throw new Error("Serialize Error: Duplicate key: "+e);n.add(e)})),e.concat(s)}),[]),o=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!n.has(e.key.toString("hex")))):[];return i.concat(o).sort(r)}function i({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:n(e,Eoe.globals),inputKeyVals:t.map((e=>n(e,Eoe.inputs))),outputKeyVals:r.map((e=>n(e,Eoe.outputs)))}}t.psbtToKeyVals=i}));aG(Coe),Coe.psbtToBuffer,Coe.psbtToKeyVals;var Ioe=cG((function(e,t){function r(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),r(Soe),r(Coe)}));aG(Ioe);var koe=cG((function(e,t){function r(e,t,r){return n=>{if(e.has(n))return;const i=r.filter((e=>e.key.toString("hex")===n))[0];t.push(i),e.add(n)}}function n(e){return e.globalMap.unsignedTx}function i(e){const t=new Set;return e.forEach((e=>{const r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}Object.defineProperty(t,"__esModule",{value:!0}),t.combine=function(e){const t=e[0],o=Ioe.psbtToKeyVals(t),s=e.slice(1);if(0===s.length)throw new Error("Combine: Nothing to combine");const a=n(t);if(void 0===a)throw new Error("Combine: Self missing transaction");const c=i(o.globalKeyVals),u=o.inputKeyVals.map(i),l=o.outputKeyVals.map(i);for(const e of s){const t=n(e);if(void 0===t||!t.toBuffer().equals(a.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const s=Ioe.psbtToKeyVals(e);i(s.globalKeyVals).forEach(r(c,o.globalKeyVals,s.globalKeyVals)),s.inputKeyVals.map(i).forEach(((e,t)=>e.forEach(r(u[t],o.inputKeyVals[t],s.inputKeyVals[t])))),s.outputKeyVals.map(i).forEach(((e,t)=>e.forEach(r(l[t],o.outputKeyVals[t],s.outputKeyVals[t]))))}return Ioe.psbtFromKeyVals(a,{globalMapKeyVals:o.globalKeyVals,inputKeyVals:o.inputKeyVals,outputKeyVals:o.outputKeyVals})}}));aG(koe),koe.combine;var Poe=cG((function(e,t){function r(e,t){const r=e[t];if(void 0===r)throw new Error(`No input #${t}`);return r}function n(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function i(e){return(t,r)=>{for(const i of Object.keys(t)){const o=t[i],{canAdd:s,canAddToArray:a,check:c,expected:u}=Eoe[e+"s"][i]||{},l=!!a;if(c)if(l){if(!Array.isArray(o)||r[i]&&!Array.isArray(r[i]))throw new Error(`Key type ${i} must be an array`);o.every(c)||n(e,i,u,o);const t=r[i]||[],s=new Set;if(!o.every((e=>a(t,e,s))))throw new Error("Can not add duplicate data to array");r[i]=t.concat(o)}else{if(c(o)||n(e,i,u,o),!s(r,o))throw new Error(`Can not add duplicate data to ${e}`);r[i]=o}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkForInput=r,t.checkForOutput=function(e,t){const r=e[t];if(void 0===r)throw new Error(`No output #${t}`);return r},t.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},t.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&s}if(!1===r)throw new Error(`Input #${e} has too much or too little data to clean`)},t.updateGlobal=i("global"),t.updateInput=i("input"),t.updateOutput=i("output"),t.addInputAttributes=function(e,n){const i=r(e,e.length-1);t.updateInput(n,i)},t.addOutputAttributes=function(e,n){const i=r(e,e.length-1);t.updateOutput(n,i)},t.defaultVersionSetter=function(e,t){if(!AW(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!AW(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}}));aG(Poe),Poe.checkForInput,Poe.checkForOutput,Poe.checkHasKey,Poe.getEnumLength,Poe.inputCheckUncleanFinalized,Poe.updateGlobal,Poe.updateInput,Poe.updateOutput,Poe.addInputAttributes,Poe.addOutputAttributes,Poe.defaultVersionSetter,Poe.defaultLocktimeSetter;var Toe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=kG.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=kG.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=Ioe.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return Ioe.psbtToBuffer(this)}updateGlobal(e){return Poe.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=Poe.checkForInput(this.inputs,e);return Poe.updateInput(t,r),this}updateOutput(e,t){const r=Poe.checkForOutput(this.outputs,e);return Poe.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return Poe.checkHasKey(e,this.globalMap.unknownKeyVals,Poe.getEnumLength(uoe.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=Poe.checkForInput(this.inputs,e);return Poe.checkHasKey(t,r.unknownKeyVals,Poe.getEnumLength(uoe.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=Poe.checkForOutput(this.outputs,e);return Poe.checkHasKey(t,r.unknownKeyVals,Poe.getEnumLength(uoe.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),Poe.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),Poe.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=Poe.checkForInput(this.inputs,e);Poe.inputCheckUncleanFinalized(e,t);for(const e of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(e)||delete t[e];return this}combine(...e){const t=koe.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}}));aG(Toe),Toe.Psbt;var Ooe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={network:gie.bitcoin,maximumFeeRate:5e3};class n{constructor(e={},t=new Toe.Psbt(new o)){this.data=t,this.opts=Object.assign({},r,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const n=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}static fromBase64(e,t={}){const r=kG.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){const r=kG.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){const r=Toe.Psbt.fromBuffer(e,i),o=new n(t,r);var s,a;return s=o.__CACHE.__TX,a=o.__CACHE,s.ins.forEach((e=>{v(a,e)})),o}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:soe.cloneBuffer(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=Zie.fromOutputScript(e.script,this.opts.network)}catch(e){}return{script:soe.cloneBuffer(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=n.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){g(e),this.opts.maximumFeeRate=e}setVersion(e){g(e),m(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){g(e),m(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){g(t),m(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");m(this.data.inputs,"addInput"),e.witnessScript&&U(e.witnessScript);const t=this.__CACHE;this.data.addInput(e),v(t,t.__TX.ins[t.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&k(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");m(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:r}=this.opts,n=Zie.toOutputScript(t,r);e=Object.assign(e,{script:n})}const r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(a))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const r=t.__TX.clone();return P(this.data.inputs,r,t,!0),r}getFeeRate(){return _("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return _("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return Poe.checkForInput(this.data.inputs,0),R(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t=B){const r=Poe.checkForInput(this.data.inputs,e),{script:n,isP2SH:i,isP2WSH:o,isSegwit:s}=function(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=T(r,t,e),s=n.ins[e].index;i.script=o.outs[s].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||h(i.script))&&(i.isSegwit=!0),i}(e,r,this.__CACHE);if(!n)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach((e=>{const{hashType:t}=Pie.signature.decode(e.signature);if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}(r);const{finalScriptSig:a,finalScriptWitness:c}=t(e,r,n,s,i,o);if(a&&this.data.updateInput(e,{finalScriptSig:a}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!a&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}getInputType(e){const t=Poe.checkForInput(this.data.inputs,e),r=N(O(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=Pie.decompile(e);if(!t)return;const r=t[t.length-1];if(!AW(r)||L(r)||(n=r,Pie.isCanonicalScriptSignature(n)))return;var n;return Pie.decompile(r)?r:void 0}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=I(e),r=t[t.length-1];if(L(r))return;return Pie.decompile(r)?r:void 0}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+M(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){const i=O(r,t,n),{meaningfulScript:o}=N(i,r,"input",t.redeemScript,t.witnessScript);return F(e,o)}(t,Poe.checkForInput(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const r=Poe.checkForInput(this.data.inputs,e),n=p(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=N(i,r,"output",t.redeemScript,t.witnessScript);return F(e,o)}(t,Poe.checkForOutput(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const r=Poe.checkForOutput(this.data.outputs,e),n=p(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(){return Poe.checkForInput(this.data.inputs,0),R(this.data.inputs.length).map((e=>this.validateSignaturesOfInput(e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t){const r=this.data.inputs[e],n=(r||{}).partialSig;if(!r||!n||n.length<1)throw new Error("No signatures to validate");const i=t?n.filter((e=>e.pubkey.equals(t))):n;if(i.length<1)throw new Error("No signatures for this pubkey");const o=[];let s,a,c;for(const t of i){const n=Pie.signature.decode(t.signature),{hash:i,script:u}=c!==n.hashType?S(e,Object.assign({},r,{sighashType:n.hashType}),this.__CACHE,!0):{hash:s,script:a};c=n.hashType,s=i,a=u,y(t.pubkey,u,"verify");const l=toe.fromPublicKey(t.pubkey);o.push(l.verify(i,n.signature))}return o.every((e=>!0===e))}signAllInputsHD(e,t=[aoe.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of R(this.data.inputs.length))try{this.signInputHD(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[aoe.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const r of R(this.data.inputs.length))o.push(this.signInputHDAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(e,t,r=[aoe.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return C(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,r))),this}signInputHDAsync(e,t,r=[aoe.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=C(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(e,t=[aoe.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of R(this.data.inputs.length))try{this.signInput(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t=[aoe.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInput(e,t,r=[aoe.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const{hash:n,sighashType:i}=E(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:Pie.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}signInputAsync(e,t,r=[aoe.Transaction.SIGHASH_ALL]){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const{hash:n,sighashType:i}=E(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then((r=>{const n=[{pubkey:t.publicKey,signature:Pie.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})}))}))}toBuffer(){return s(this.__CACHE),this.data.toBuffer()}toHex(){return s(this.__CACHE),this.data.toHex()}toBase64(){return s(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&U(t.witnessScript),this.data.updateInput(e,t),t.nonWitnessUtxo&&k(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){return this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=n;const i=e=>new o(e);class o{constructor(e=kG.from([2,0,0,0,0,0,0,0,0,0])){this.tx=aoe.Transaction.fromBuffer(e),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!AW(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?soe.reverseBuffer(kG.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!AW(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function s(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function a(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function c(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}const u=c(Yie.p2ms),l=c(Yie.p2pk),A=c(Yie.p2pkh),h=c(Yie.p2wpkh),f=c(Yie.p2wsh),d=c(Yie.p2sh);function p(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function g(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function m(e,t){e.forEach((e=>{let r=!1,n=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;n=function(e){const t=e.finalScriptSig&&Pie.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&Pie.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((e=>AW(e)&&Pie.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else n=e.partialSig;if(n.forEach((e=>{const{hashType:n}=Pie.signature.decode(e.signature),i=[];switch(n&aoe.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&n){case aoe.Transaction.SIGHASH_ALL:break;case aoe.Transaction.SIGHASH_SINGLE:case aoe.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}-1===i.indexOf(t)&&(r=!0)})),r)throw new Error("Can not modify transaction, signatures exist.")}))}function y(e,t,r){if(!F(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function v(e,t){const r=soe.reverseBuffer(kG.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function b(e,t){return(r,n,i,o)=>{const s=e({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const w=b(Yie.p2sh,"Redeem script"),x=b(Yie.p2wsh,"Witness script");function _(e,t,r,n){if(!r.every(a))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),P(r,i,n,o),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function B(e,t,r,n,i,o){M(r);throw new Error(`Can not finalize input #${e}`)}function E(e,t,r,n,i){const o=Poe.checkForInput(e,t),{hash:s,sighashType:a,script:c}=S(t,o,n,!1,i);return y(r,c,"sign"),{hash:s,sighashType:a}}function S(e,t,r,n,i){const o=r.__TX,s=t.sighashType||aoe.Transaction.SIGHASH_ALL;if(i&&i.indexOf(s)<0){const e=function(e){let t=e&aoe.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case aoe.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case aoe.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case aoe.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(s);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${e}`)}let a,c;if(t.nonWitnessUtxo){const n=T(r,t,e),i=o.ins[e].hash,s=n.getHash();if(!i.equals(s))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const a=o.ins[e].index;c=n.outs[a]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");c=t.witnessUtxo}const{meaningfulScript:u,type:l}=N(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)a=o.hashForWitnessV0(e,u,c.value,s);else if(h(u)){const t=Yie.p2pkh({hash:u.slice(2)}).output;a=o.hashForWitnessV0(e,t,c.value,s)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as the old TransactionBuilder class when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=o.hashForSignature(e,u,s)}return{script:u,sighashType:s,hash:a}}function C(e,t,r){const n=Poe.checkForInput(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function I(e){let t=0;function r(){const r=yoe.decode(e,t);return t+=yoe.decode.bytes,r}function n(){return function(r){return t+=r,e.slice(t-r,t)}(r())}return function(){const e=r(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function k(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=aoe.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function P(e,t,r,n){let i=0;e.forEach(((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=I(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const n=T(r,e,o),s=t.ins[o].index,a=n.outs[s];i+=a.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=t.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(s/a)}function T(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||k(e,t,r),n[r]}function O(e,t,r){if(void 0!==t.witnessUtxo)return t.witnessUtxo.script;if(void 0!==t.nonWitnessUtxo)return T(r,t,e).outs[r.__TX.ins[e].index].script;throw new Error("Can't find pubkey in input without Utxo data")}function L(e){return 33===e.length&&Pie.isCanonicalPubKey(e)}function N(e,t,r,n,i){const o=d(e),s=o&&n&&f(n),a=f(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return s?(c=i,w(t,e,n,r),x(t,n,i,r),U(c)):a?(c=i,x(t,e,i,r),U(c)):o?(c=n,w(t,e,n,r)):c=e,{meaningfulScript:c,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function U(e){if(h(e)||d(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function F(e,t){const r=Uie.hash160(e),n=Pie.decompile(t);if(null===n)throw new Error("Unknown script error");return n.some((t=>"number"!=typeof t&&(t.equals(e)||t.equals(r))))}function M(e){return h(e)?"witnesspubkeyhash":A(e)?"pubkeyhash":u(e)?"multisig":l(e)?"pubkey":"nonstandard"}function R(e){return[...Array(e).keys()]}}));aG(Ooe),Ooe.Psbt;var Loe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie;function n(e){return e===r.OPS.OP_0||Pie.isCanonicalScriptSignature(e)}function i(e,t){const i=Pie.decompile(e);return!(i.length<2)&&i[0]===r.OPS.OP_0&&(t?i.slice(1).every(n):i.slice(1).every(Pie.isCanonicalScriptSignature))}t.check=i,i.toJSON=()=>"multisig input"}));aG(Loe),Loe.check;var Noe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie,n=r.OPS.OP_RESERVED;function i(e,t){const i=Pie.decompile(e);if(i.length<4)return!1;if(i[i.length-1]!==r.OPS.OP_CHECKMULTISIG)return!1;if(!yie.Number(i[0]))return!1;if(!yie.Number(i[i.length-2]))return!1;const o=i[0]-n,s=i[i.length-2]-n;return!(o<=0)&&(!(s>16)&&(!(o>s)&&(s===i.length-3&&(!!t||i.slice(1,-2).every(Pie.isCanonicalPubKey)))))}t.check=i,i.toJSON=()=>"multi-sig output"}));aG(Noe),Noe.check;var Uoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=Loe,t.output=Noe}));aG(Uoe),Uoe.input,Uoe.output;var Foe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie.OPS;function n(e){const t=Pie.compile(e);return t.length>1&&t[0]===r.OP_RETURN}t.check=n,n.toJSON=()=>"null data output";const i={check:n};t.output=i}));aG(Foe),Foe.check,Foe.output;var Moe=cG((function(e,t){function r(e){const t=Pie.decompile(e);return 1===t.length&&Pie.isCanonicalScriptSignature(t[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=()=>"pubKey input"}));aG(Moe),Moe.check;var Roe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie;function n(e){const t=Pie.decompile(e);return 2===t.length&&Pie.isCanonicalPubKey(t[0])&&t[1]===r.OPS.OP_CHECKSIG}t.check=n,n.toJSON=()=>"pubKey output"}));aG(Roe),Roe.check;var Doe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=Moe,t.output=Roe}));aG(Doe),Doe.input,Doe.output;var joe=cG((function(e,t){function r(e){const t=Pie.decompile(e);return 2===t.length&&Pie.isCanonicalScriptSignature(t[0])&&Pie.isCanonicalPubKey(t[1])}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=()=>"pubKeyHash input"}));aG(joe),joe.check;var Qoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie;function n(e){const t=Pie.compile(e);return 25===t.length&&t[0]===r.OPS.OP_DUP&&t[1]===r.OPS.OP_HASH160&&20===t[2]&&t[23]===r.OPS.OP_EQUALVERIFY&&t[24]===r.OPS.OP_CHECKSIG}t.check=n,n.toJSON=()=>"pubKeyHash output"}));aG(Qoe),Qoe.check;var Hoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=joe,t.output=Qoe}));aG(Hoe),Hoe.input,Hoe.output;var Koe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie;function n(e){const t=Pie.compile(e);return 22===t.length&&t[0]===r.OPS.OP_0&&20===t[1]}t.check=n,n.toJSON=()=>"Witness pubKeyHash output"}));aG(Koe),Koe.check;var Voe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie;function n(e){const t=Pie.compile(e);return 34===t.length&&t[0]===r.OPS.OP_0&&32===t[1]}t.check=n,n.toJSON=()=>"Witness scriptHash output"}));aG(Voe),Voe.check;var zoe=cG((function(e,t){function r(e,t){const r=Pie.decompile(e);if(r.length<1)return!1;const n=r[r.length-1];if(!AW(n))return!1;const i=Pie.decompile(Pie.compile(r.slice(0,-1))),o=Pie.decompile(n);return!!o&&!!Pie.isPushOnly(i)&&(1===r.length?Voe.check(o)||Koe.check(o):!(!Hoe.input.check(i)||!Hoe.output.check(o))||!(!Uoe.input.check(i,t)||!Uoe.output.check(o))||!(!Doe.input.check(i)||!Doe.output.check(o)))}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=()=>"scriptHash input"}));aG(zoe),zoe.check;var qoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie;function n(e){const t=Pie.compile(e);return 23===t.length&&t[0]===r.OPS.OP_HASH160&&20===t[1]&&t[22]===r.OPS.OP_EQUAL}t.check=n,n.toJSON=()=>"scriptHash output"}));aG(qoe),qoe.check;var Goe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=zoe,t.output=qoe}));aG(Goe),Goe.input,Goe.output;var Woe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie,n=kG.from("aa21a9ed","hex");function i(e){const t=Pie.compile(e);return t.length>37&&t[0]===r.OPS.OP_RETURN&&36===t[1]&&t.slice(2,6).equals(n)}t.check=i,i.toJSON=()=>"Witness commitment output",t.encode=function(e){uie(yie.Hash256bit,e);const t=kG.allocUnsafe(36);return n.copy(t,0),e.copy(t,4),Pie.compile([r.OPS.OP_RETURN,t])},t.decode=function(e){return uie(i,e),Pie.decompile(e)[1].slice(4,36)}}));aG(Woe),Woe.check,Woe.encode,Woe.decode;var $oe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.output=Woe}));aG($oe),$oe.output;var Joe=cG((function(e,t){function r(e){const t=Pie.decompile(e);return 2===t.length&&Pie.isCanonicalScriptSignature(t[0])&&(r=t[1],Pie.isCanonicalPubKey(r)&&33===r.length);var r}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=()=>"witnessPubKeyHash input"}));aG(Joe),Joe.check;var Xoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=Joe,t.output=Koe}));aG(Xoe),Xoe.input,Xoe.output;var Yoe=cG((function(e,t){function r(e,t){if(uie(uie.Array,e),e.length<1)return!1;const r=e[e.length-1];if(!AW(r))return!1;const n=Pie.decompile(r);if(!n||0===n.length)return!1;const i=Pie.compile(e.slice(0,-1));return!(!Hoe.input.check(i)||!Hoe.output.check(n))||!(!Uoe.input.check(i,t)||!Uoe.output.check(n))||!(!Doe.input.check(i)||!Doe.output.check(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.check=r,r.toJSON=()=>"witnessScriptHash input"}));aG(Yoe),Yoe.check;var Zoe=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.input=Yoe,t.output=Voe}));aG(Zoe),Zoe.input,Zoe.output;var ese=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={P2MS:"multisig",NONSTANDARD:"nonstandard",NULLDATA:"nulldata",P2PK:"pubkey",P2PKH:"pubkeyhash",P2SH:"scripthash",P2WPKH:"witnesspubkeyhash",P2WSH:"witnessscripthash",WITNESS_COMMITMENT:"witnesscommitment"};t.types=r,t.output=function(e){if(Xoe.output.check(e))return r.P2WPKH;if(Zoe.output.check(e))return r.P2WSH;if(Hoe.output.check(e))return r.P2PKH;if(Goe.output.check(e))return r.P2SH;const t=Pie.decompile(e);if(!t)throw new TypeError("Invalid script");return Uoe.output.check(t)?r.P2MS:Doe.output.check(t)?r.P2PK:$oe.output.check(t)?r.WITNESS_COMMITMENT:Foe.output.check(t)?r.NULLDATA:r.NONSTANDARD},t.input=function(e,t){const n=Pie.decompile(e);if(!n)throw new TypeError("Invalid script");return Hoe.input.check(n)?r.P2PKH:Goe.input.check(n,t)?r.P2SH:Uoe.input.check(n,t)?r.P2MS:Doe.input.check(n)?r.P2PK:r.NONSTANDARD},t.witness=function(e,t){const n=Pie.decompile(e);if(!n)throw new TypeError("Invalid script");return Xoe.input.check(n)?r.P2WPKH:Zoe.input.check(n,t)?r.P2WSH:r.NONSTANDARD}}));aG(ese),ese.types,ese.output,ese.input,ese.witness;var tse=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Pie,n=ese.types,i=new Set(["p2pkh","p2pk","p2wpkh","p2ms","p2sh-p2pkh","p2sh-p2pk","p2sh-p2wpkh","p2sh-p2ms","p2wsh-p2pkh","p2wsh-p2pk","p2wsh-p2ms","p2sh-p2wsh-p2pkh","p2sh-p2wsh-p2pk","p2sh-p2wsh-p2ms"]);function o(e,t,r){try{uie(e,t)}catch(e){throw new Error(r)}}class s{constructor(e=gie.bitcoin,t=2500){this.network=e,this.maximumFeeRate=t,this.__PREV_TX_SET={},this.__INPUTS=[],this.__TX=new aoe.Transaction,this.__TX.version=2,this.__USE_LOW_R=!1,console.warn("Deprecation Warning: TransactionBuilder will be removed in the future. (v6.x.x or later) Please use the Psbt class instead. Examples of usage are available in the transactions-psbt.js integration test file on our Github. A high level explanation is available in the psbt.ts and psbt.js files as well.")}static fromTransaction(e,t){const r=new s(t);return r.setVersion(e.version),r.setLockTime(e.locktime),e.outs.forEach((e=>{r.addOutput(e.script,e.value)})),e.ins.forEach((e=>{r.__addInputUnsafe(e.hash,e.index,{sequence:e.sequence,script:e.script,witness:e.witness})})),r.__INPUTS.forEach(((t,r)=>{!function(e,t,r){if(e.redeemScriptType!==n.P2MS||!e.redeemScript)return;if(e.pubkeys.length===e.signatures.length)return;const i=e.signatures.concat();e.signatures=e.pubkeys.map((n=>{const o=toe.fromPublicKey(n);let s;return i.some(((n,a)=>{if(!n)return!1;const c=Pie.signature.decode(n),u=t.hashForSignature(r,e.redeemScript,c.hashType);return!!o.verify(u,c.signature)&&(i[a]=void 0,s=n,!0)})),s}))}(t,e,r)})),r}setLowR(e){return uie(uie.maybe(uie.Boolean),e),void 0===e&&(e=!0),this.__USE_LOW_R=e,e}setLockTime(e){if(uie(yie.UInt32,e),this.__INPUTS.some((e=>!!e.signatures&&e.signatures.some((e=>void 0!==e)))))throw new Error("No, this would invalidate signatures");this.__TX.locktime=e}setVersion(e){uie(yie.UInt32,e),this.__TX.version=e}addInput(e,t,r,n){if(!this.__canModifyInputs())throw new Error("No, this would invalidate signatures");let i;if("string"==typeof(o=e)||o instanceof String)e=soe.reverseBuffer(kG.from(e,"hex"));else if(function(e){return e instanceof aoe.Transaction}(e)){const r=e.outs[t];n=r.script,i=r.value,e=e.getHash(!1)}var o;return this.__addInputUnsafe(e,t,{sequence:r,prevOutScript:n,value:i})}addOutput(e,t){if(!this.__canModifyOutputs())throw new Error("No, this would invalidate signatures");return"string"==typeof e&&(e=Zie.toOutputScript(e,this.network)),this.__TX.addOutput(e,t)}build(){return this.__build(!1)}buildIncomplete(){return this.__build(!0)}sign(e,t,r,s,a,u){!function({input:e,ourPubKey:t,keyPair:r,signatureHash:n,hashType:i,useLowR:o}){let s=!1;for(const[a,c]of e.pubkeys.entries()){if(!t.equals(c))continue;if(e.signatures[a])throw new Error("Signature already exists");if(33!==t.length&&e.hasWitness)throw new Error("BIP143 rejects uncompressed public keys in P2WPKH or P2WSH");const u=r.sign(n,o);e.signatures[a]=Pie.signature.encode(u,i),s=!0}if(!s)throw new Error("Key pair cannot sign for this input")}(function(e,t,r,s,a,u,A,h,f,d,p){let g;if("number"==typeof a)console.warn("DEPRECATED: TransactionBuilder sign method arguments will change in v6, please use the TxbSignArg interface"),g=a;else{if("object"!=typeof a)throw new TypeError("TransactionBuilder sign first arg must be TxbSignArg or number");!function(e,t){if(!i.has(t.prevOutScriptType))throw new TypeError(`Unknown prevOutScriptType "${t.prevOutScriptType}"`);o(uie.Number,t.vin,"sign must include vin parameter as Number (input index)"),o(yie.Signer,t.keyPair,"sign must include keyPair parameter as Signer interface"),o(uie.maybe(uie.Number),t.hashType,"sign hashType parameter must be a number");const r=(e[t.vin]||[]).prevOutType,n=t.prevOutScriptType;switch(n){case"p2pkh":if(r&&"pubkeyhash"!==r)throw new TypeError(`input #${t.vin} is not of type p2pkh: ${r}`);o(uie.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),o(uie.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),o(uie.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2pk":if(r&&"pubkey"!==r)throw new TypeError(`input #${t.vin} is not of type p2pk: ${r}`);o(uie.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),o(uie.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),o(uie.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2wpkh":if(r&&"witnesspubkeyhash"!==r)throw new TypeError(`input #${t.vin} is not of type p2wpkh: ${r}`);o(uie.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),o(uie.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),o(yie.Satoshi,t.witnessValue,`${n} requires witnessValue`);break;case"p2ms":if(r&&"multisig"!==r)throw new TypeError(`input #${t.vin} is not of type p2ms: ${r}`);o(uie.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),o(uie.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),o(uie.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2sh-p2wpkh":if(r&&"scripthash"!==r)throw new TypeError(`input #${t.vin} is not of type p2sh-p2wpkh: ${r}`);o(uie.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),o(uie.Buffer,t.redeemScript,`${n} requires redeemScript`),o(yie.Satoshi,t.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2ms":case"p2sh-p2pk":case"p2sh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError(`input #${t.vin} is not of type ${n}: ${r}`);o(uie.value(void 0),t.witnessScript,`${n} requires NO witnessScript`),o(uie.Buffer,t.redeemScript,`${n} requires redeemScript`),o(uie.value(void 0),t.witnessValue,`${n} requires NO witnessValue`);break;case"p2wsh-p2ms":case"p2wsh-p2pk":case"p2wsh-p2pkh":if(r&&"witnessscripthash"!==r)throw new TypeError(`input #${t.vin} is not of type ${n}: ${r}`);o(uie.Buffer,t.witnessScript,`${n} requires witnessScript`),o(uie.value(void 0),t.redeemScript,`${n} requires NO redeemScript`),o(yie.Satoshi,t.witnessValue,`${n} requires witnessValue`);break;case"p2sh-p2wsh-p2ms":case"p2sh-p2wsh-p2pk":case"p2sh-p2wsh-p2pkh":if(r&&"scripthash"!==r)throw new TypeError(`input #${t.vin} is not of type ${n}: ${r}`);o(uie.Buffer,t.witnessScript,`${n} requires witnessScript`),o(uie.Buffer,t.redeemScript,`${n} requires witnessScript`),o(yie.Satoshi,t.witnessValue,`${n} requires witnessScript`)}}(t,a),({vin:g,keyPair:u,redeemScript:A,hashType:h,witnessValue:f,witnessScript:d}=a)}if(void 0===u)throw new Error("sign requires keypair");if(u.network&&u.network!==e)throw new TypeError("Inconsistent network");if(!t[g])throw new Error("No input at index: "+g);if(r(h=h||aoe.Transaction.SIGHASH_ALL))throw new Error("Transaction needs outputs");const m=t[g];if(void 0!==m.redeemScript&&A&&!m.redeemScript.equals(A))throw new Error("Inconsistent redeemScript");const y=u.publicKey||u.getPublicKey&&u.getPublicKey();if(!l(m)){if(void 0!==f){if(void 0!==m.value&&m.value!==f)throw new Error("Input did not match witnessValue");uie(yie.Satoshi,f),m.value=f}if(!l(m)){const e=function(e,t,r,i){if(r&&i){const o=Yie.p2wsh({redeem:{output:i}}),s=Yie.p2wsh({output:r}),a=Yie.p2sh({redeem:{output:r}}),u=Yie.p2sh({redeem:o});if(!o.hash.equals(s.hash))throw new Error("Witness script inconsistent with prevOutScript");if(!a.hash.equals(u.hash))throw new Error("Redeem script inconsistent with prevOutScript");const l=c(o.redeem.output,t);if(!l.pubkeys)throw new Error(l.type+" not supported as witnessScript ("+Pie.toASM(i)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(l.signatures=e.signatures);const A=i;if(l.type===n.P2WPKH)throw new Error("P2SH(P2WSH(P2WPKH)) is a consensus failure");return{redeemScript:r,redeemScriptType:n.P2WSH,witnessScript:i,witnessScriptType:l.type,prevOutType:n.P2SH,prevOutScript:a.output,hasWitness:!0,signScript:A,signType:l.type,pubkeys:l.pubkeys,signatures:l.signatures,maxSignatures:l.maxSignatures}}if(r){const i=Yie.p2sh({redeem:{output:r}});if(e.prevOutScript){let t;try{t=Yie.p2sh({output:e.prevOutScript})}catch(e){throw new Error("PrevOutScript must be P2SH")}if(!i.hash.equals(t.hash))throw new Error("Redeem script inconsistent with prevOutScript")}const o=c(i.redeem.output,t);if(!o.pubkeys)throw new Error(o.type+" not supported as redeemScript ("+Pie.toASM(r)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(o.signatures=e.signatures);let s=r;return o.type===n.P2WPKH&&(s=Yie.p2pkh({pubkey:o.pubkeys[0]}).output),{redeemScript:r,redeemScriptType:o.type,prevOutType:n.P2SH,prevOutScript:i.output,hasWitness:o.type===n.P2WPKH,signScript:s,signType:o.type,pubkeys:o.pubkeys,signatures:o.signatures,maxSignatures:o.maxSignatures}}if(i){const r=Yie.p2wsh({redeem:{output:i}});if(e.prevOutScript){const t=Yie.p2wsh({output:e.prevOutScript});if(!r.hash.equals(t.hash))throw new Error("Witness script inconsistent with prevOutScript")}const o=c(r.redeem.output,t);if(!o.pubkeys)throw new Error(o.type+" not supported as witnessScript ("+Pie.toASM(i)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(o.signatures=e.signatures);const s=i;if(o.type===n.P2WPKH)throw new Error("P2WSH(P2WPKH) is a consensus failure");return{witnessScript:i,witnessScriptType:o.type,prevOutType:n.P2WSH,prevOutScript:r.output,hasWitness:!0,signScript:s,signType:o.type,pubkeys:o.pubkeys,signatures:o.signatures,maxSignatures:o.maxSignatures}}if(e.prevOutType&&e.prevOutScript){if(e.prevOutType===n.P2SH)throw new Error("PrevOutScript is "+e.prevOutType+", requires redeemScript");if(e.prevOutType===n.P2WSH)throw new Error("PrevOutScript is "+e.prevOutType+", requires witnessScript");if(!e.prevOutScript)throw new Error("PrevOutScript is missing");const r=c(e.prevOutScript,t);if(!r.pubkeys)throw new Error(r.type+" not supported ("+Pie.toASM(e.prevOutScript)+")");e.signatures&&e.signatures.some((e=>void 0!==e))&&(r.signatures=e.signatures);let i=e.prevOutScript;return r.type===n.P2WPKH&&(i=Yie.p2pkh({pubkey:r.pubkeys[0]}).output),{prevOutType:r.type,prevOutScript:e.prevOutScript,hasWitness:r.type===n.P2WPKH,signScript:i,signType:r.type,pubkeys:r.pubkeys,signatures:r.signatures,maxSignatures:r.maxSignatures}}const o=Yie.p2pkh({pubkey:t}).output;return{prevOutType:n.P2PKH,prevOutScript:o,hasWitness:!1,signScript:o,signType:n.P2PKH,pubkeys:[t],signatures:[void 0]}}(m,y,A,d);Object.assign(m,e)}if(!l(m))throw Error(m.prevOutType+" not supported")}let v;return v=m.hasWitness?s.hashForWitnessV0(g,m.signScript,m.value,h):s.hashForSignature(g,m.signScript,h),{input:m,ourPubKey:y,keyPair:u,signatureHash:v,hashType:h,useLowR:!!p}}(this.network,this.__INPUTS,this.__needsOutputs.bind(this),this.__TX,e,t,r,s,a,u,this.__USE_LOW_R))}__addInputUnsafe(e,t,r){if(aoe.Transaction.isCoinbaseHash(e))throw new Error("coinbase inputs not supported");const n=e.toString("hex")+":"+t;if(void 0!==this.__PREV_TX_SET[n])throw new Error("Duplicate TxOut: "+n);let i={};if(void 0!==r.script&&(i=a(r.script,r.witness||[])),void 0!==r.value&&(i.value=r.value),!i.prevOutScript&&r.prevOutScript){let e;if(!i.pubkeys&&!i.signatures){const t=c(r.prevOutScript);t.pubkeys&&(i.pubkeys=t.pubkeys,i.signatures=t.signatures),e=t.type}i.prevOutScript=r.prevOutScript,i.prevOutType=e||ese.output(r.prevOutScript)}const o=this.__TX.addInput(e,t,r.sequence,r.scriptSig);return this.__INPUTS[o]=i,this.__PREV_TX_SET[n]=!0,o}__build(e){if(!e){if(!this.__TX.ins.length)throw new Error("Transaction has no inputs");if(!this.__TX.outs.length)throw new Error("Transaction has no outputs")}const t=this.__TX.clone();if(this.__INPUTS.forEach(((r,i)=>{if(!r.prevOutType&&!e)throw new Error("Transaction is not complete");const o=u(r.prevOutType,r,e);if(o)t.setInputScript(i,o.input),t.setWitness(i,o.witness);else{if(!e&&r.prevOutType===n.NONSTANDARD)throw new Error("Unknown input type");if(!e)throw new Error("Not enough information")}})),!e&&this.__overMaximumFees(t.virtualSize()))throw new Error("Transaction has absurd fees");return t}__canModifyInputs(){return this.__INPUTS.every((e=>!e.signatures||e.signatures.every((e=>!e||0!=(A(e)&aoe.Transaction.SIGHASH_ANYONECANPAY)))))}__needsOutputs(e){return e===aoe.Transaction.SIGHASH_ALL?0===this.__TX.outs.length:0===this.__TX.outs.length&&this.__INPUTS.some((e=>!!e.signatures&&e.signatures.some((e=>!!e&&!(A(e)&aoe.Transaction.SIGHASH_NONE)))))}__canModifyOutputs(){const e=this.__TX.ins.length,t=this.__TX.outs.length;return this.__INPUTS.every((r=>void 0===r.signatures||r.signatures.every((r=>{if(!r)return!0;const n=31&A(r);return n===aoe.Transaction.SIGHASH_NONE||n===aoe.Transaction.SIGHASH_SINGLE&&e<=t}))))}__overMaximumFees(e){return(this.__INPUTS.reduce(((e,t)=>e+(t.value>>>0)),0)-this.__TX.outs.reduce(((e,t)=>e+t.value),0))/e>this.maximumFeeRate}}function a(e,t,r,i){if(0===e.length&&0===t.length)return{};if(!r){let i=ese.input(e,!0),o=ese.witness(t,!0);i===n.NONSTANDARD&&(i=void 0),o===n.NONSTANDARD&&(o=void 0),r=i||o}switch(r){case n.P2WPKH:{const{output:e,pubkey:r,signature:i}=Yie.p2wpkh({witness:t});return{prevOutScript:e,prevOutType:n.P2WPKH,pubkeys:[r],signatures:[i]}}case n.P2PKH:{const{output:t,pubkey:r,signature:i}=Yie.p2pkh({input:e});return{prevOutScript:t,prevOutType:n.P2PKH,pubkeys:[r],signatures:[i]}}case n.P2PK:{const{signature:t}=Yie.p2pk({input:e});return{prevOutType:n.P2PK,pubkeys:[void 0],signatures:[t]}}case n.P2MS:{const{m:t,pubkeys:r,signatures:o}=Yie.p2ms({input:e,output:i},{allowIncomplete:!0});return{prevOutType:n.P2MS,pubkeys:r,signatures:o,maxSignatures:t}}}if(r===n.P2SH){const{output:r,redeem:i}=Yie.p2sh({input:e,witness:t}),o=ese.output(i.output),s=a(i.input,i.witness,o,i.output);return s.prevOutType?{prevOutScript:r,prevOutType:n.P2SH,redeemScript:i.output,redeemScriptType:s.prevOutType,witnessScript:s.witnessScript,witnessScriptType:s.witnessScriptType,pubkeys:s.pubkeys,signatures:s.signatures}:{}}if(r===n.P2WSH){const{output:r,redeem:i}=Yie.p2wsh({input:e,witness:t}),o=ese.output(i.output);let s;return s=o===n.P2WPKH?a(i.input,i.witness,o):a(Pie.compile(i.witness),[],o,i.output),s.prevOutType?{prevOutScript:r,prevOutType:n.P2WSH,witnessScript:i.output,witnessScriptType:s.prevOutType,pubkeys:s.pubkeys,signatures:s.signatures}:{}}return{prevOutType:n.NONSTANDARD,prevOutScript:e}}function c(e,t){uie(yie.Buffer,e);const r=ese.output(e);switch(r){case n.P2PKH:{if(!t)return{type:r};const n=Yie.p2pkh({output:e}).hash,i=Uie.hash160(t);return n.equals(i)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r}}case n.P2WPKH:{if(!t)return{type:r};const n=Yie.p2wpkh({output:e}).hash,i=Uie.hash160(t);return n.equals(i)?{type:r,pubkeys:[t],signatures:[void 0]}:{type:r}}case n.P2PK:return{type:r,pubkeys:[Yie.p2pk({output:e}).pubkey],signatures:[void 0]};case n.P2MS:{const t=Yie.p2ms({output:e});return{type:r,pubkeys:t.pubkeys,signatures:t.pubkeys.map((()=>{})),maxSignatures:t.m}}}return{type:r}}function u(e,t,i){const o=t.pubkeys||[];let s=t.signatures||[];switch(e){case n.P2PKH:if(0===o.length)break;if(0===s.length)break;return Yie.p2pkh({pubkey:o[0],signature:s[0]});case n.P2WPKH:if(0===o.length)break;if(0===s.length)break;return Yie.p2wpkh({pubkey:o[0],signature:s[0]});case n.P2PK:if(0===o.length)break;if(0===s.length)break;return Yie.p2pk({signature:s[0]});case n.P2MS:{const e=t.maxSignatures;s=i?s.map((e=>e||r.OPS.OP_0)):s.filter((e=>e));const n=!i||e===s.length;return Yie.p2ms({m:e,pubkeys:o,signatures:s},{allowIncomplete:i,validate:n})}case n.P2SH:{const e=u(t.redeemScriptType,t,i);if(!e)return;return Yie.p2sh({redeem:{output:e.output||t.redeemScript,input:e.input,witness:e.witness}})}case n.P2WSH:{const e=u(t.witnessScriptType,t,i);if(!e)return;return Yie.p2wsh({redeem:{output:t.witnessScript,input:e.input,witness:e.witness}})}}}function l(e){return void 0!==e.signScript&&void 0!==e.signType&&void 0!==e.pubkeys&&void 0!==e.signatures&&e.signatures.length===e.pubkeys.length&&e.pubkeys.length>0&&(!1===e.hasWitness||void 0!==e.value)}function A(e){return e.readUInt8(e.length-1)}t.TransactionBuilder=s}));aG(tse),tse.TransactionBuilder;var rse=cG((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bip32=pie,t.address=Zie,t.crypto=Uie,t.ECPair=toe,t.networks=gie,t.payments=Yie,t.script=Pie,t.Block=coe.Block,t.Psbt=Ooe.Psbt;var r=Pie;t.opcodes=r.OPS,t.Transaction=aoe.Transaction,t.TransactionBuilder=tse.TransactionBuilder}));aG(rse),rse.bitcoin,rse.bip32,rse.address,rse.crypto,rse.ECPair,rse.networks,rse.payments,rse.script,rse.Block,rse.Psbt,rse.opcodes,rse.Transaction,rse.TransactionBuilder;const nse=gX("Verifier");class ise{constructor({certificateJson:e,chain:t,expires:r,id:n,issuer:i,receipt:o,revocationKey:s,transactionId:a,version:c,explorerAPIs:u}){this.chain=t,this.expires=r,this.id=n,this.issuer=i,this.receipt=o,this.revocationKey=s,this.version=c,this.transactionId=a,this.explorerAPIs=u;let l=e.document;l||(l=this._retrieveDocumentBeforeIssuance(e)),this.documentToVerify=Object.assign({},l),this._stepsStatuses=[]}verify(e=(()=>{})){return Oq(this,void 0,void 0,(function*(){if(this._stepCallback=e,this.version===Fq.V1_1)throw new iG("","Verification of 1.1 certificates is not supported by this component. See the python cert-verifier for legacy verification");XX.chains.isMockChain(this.chain)?yield this._verifyV2Mock():yield this._verifyMain();const t=this._stepsStatuses.find((e=>"failure"===e.status));return t?this._failed(t):this._succeed()}))}_getRevocationListUrl(e){var t;return(null===(t=this.issuer)||void 0===t?void 0:t.revocationList)?this.issuer.revocationList:e.revocationList}_doAction(e,t){return Oq(this,void 0,void 0,(function*(){if(this._isFailing())return;let r;e&&(r=XX.i18n.getText("subSteps",`${e}LabelPending`),nse(r),this._updateStatusCallback(e,r,"starting"));try{const n=yield t();return e&&(this._updateStatusCallback(e,r,"success"),this._stepsStatuses.push({step:e,label:r,status:"success"})),n}catch(t){e&&(this._updateStatusCallback(e,r,"failure",t.message),this._stepsStatuses.push({code:e,label:r,status:"failure",errorMessage:t.message}))}}))}_stepCallback(e){}_verifyMain(){return Oq(this,void 0,void 0,(function*(){yield this.getTransactionId(),yield this.computeLocalHash(),yield this.fetchRemoteHash(),yield this.getIssuerProfile(),yield this.parseIssuerKeys(),yield this.compareHashes(),yield this.checkMerkleRoot(),yield this.checkReceipt(),yield this.checkRevokedStatus(),yield this.checkAuthenticity(),yield this.checkExpiresDate()}))}_verifyV2Mock(){return Oq(this,void 0,void 0,(function*(){yield this.computeLocalHash(),yield this.compareHashes(),yield this.checkReceipt(),yield this.checkExpiresDate()}))}getTransactionId(){return Oq(this,void 0,void 0,(function*(){yield this._doAction("getTransactionId",(()=>function(e){if("string"==typeof e&&e.length>0)return e;throw new iG("getTransactionId",Yq("errors","isTransactionIdValid"))}(this.transactionId)))}))}computeLocalHash(){return Oq(this,void 0,void 0,(function*(){this.localHash=yield this._doAction("computeLocalHash",(()=>Oq(this,void 0,void 0,(function*(){return yield function(e,t){return Oq(this,void 0,void 0,(function*(){let r=e["@context"];const n=e;!function(e){return e===Uq.V1_1||e===Uq.V1_2}(t)&&(r.find((e=>e===Object(e)&&"@vocab"in e))?r=null:r.push({"@vocab":"http://fallback.org/"}));const i="undefined"!=typeof window&&void 0!==window.XMLHttpRequest?b4.documentLoaders.xhr():b4.documentLoaders.node();b4.documentLoader=function(e,t){return e in Wq?t(null,{contextUrl:null,document:Wq[e],documentUrl:e}):i(e,t)};const o={algorithm:"URDNA2015",format:"application/nquads"};return r&&(o.expandContext=r),new Promise(((e,t)=>{b4.normalize(n,o,((r,n)=>{if(r)console.error(r),t(new iG("computeLocalHash",Yq("errors","failedJsonLdNormalization")));else{const r=function(e){const t=/<http:\/\/fallback\.org\/(.*)>/.exec(e);if(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e}return null}(n);r?t(new iG("computeLocalHash",`${Yq("errors","foundUnmappedFields")}: ${r.join(", ")}`)):e(_4(function(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}(n)))}}))}))}))}(this.documentToVerify,this.version)}))))}))}fetchRemoteHash(){return Oq(this,void 0,void 0,(function*(){this.txData=yield this._doAction("fetchRemoteHash",(()=>Oq(this,void 0,void 0,(function*(){return yield XX.verifier.lookForTx({transactionId:this.transactionId,chain:this.chain.code,explorerAPIs:this.explorerAPIs})}))))}))}getIssuerProfile(){return Oq(this,void 0,void 0,(function*(){this.issuer=yield this._doAction("getIssuerProfile",(()=>Oq(this,void 0,void 0,(function*(){return yield XX.verifier.getIssuerProfile(this.issuer)}))))}))}parseIssuerKeys(){return Oq(this,void 0,void 0,(function*(){this.issuerPublicKeyList=yield this._doAction("parseIssuerKeys",(()=>XX.verifier.parseIssuerKeys(this.issuer)))}))}compareHashes(){return Oq(this,void 0,void 0,(function*(){yield this._doAction("compareHashes",(()=>{!function(e,t){if(e!==t)throw new iG("compareHashes",Yq("errors","ensureHashesEqual"))}(this.localHash,this.receipt.targetHash)}))}))}checkMerkleRoot(){return Oq(this,void 0,void 0,(function*(){yield this._doAction("checkMerkleRoot",(()=>function(e,t){if(e!==t)throw new iG("checkMerkleRoot",Yq("errors","ensureMerkleRootEqual"));return!0}(this.receipt.merkleRoot,this.txData.remoteHash)))}))}checkReceipt(){return Oq(this,void 0,void 0,(function*(){yield this._doAction("checkReceipt",(()=>function(e){let t=e.targetHash;const r=e.merkleRoot;try{const r=e.proof||e.path;if(r)for(const e in r){const n=r[e];let i;if(void 0!==n.left)i=B4(`${n.left}${t}`),t=_4(i);else{if(void 0===n.right)throw new iG("checkReceipt","Trigger catch error.");i=B4(`${t}${n.right}`),t=_4(i)}}}catch(e){throw new iG("checkReceipt",Yq("errors","ensureValidReceipt"))}if(t!==r)throw new iG("checkReceipt",Yq("errors","invalidMerkleReceipt"))}(this.receipt)))}))}checkRevokedStatus(){var e;return Oq(this,void 0,void 0,(function*(){let t,r;this.version===Fq.V1_2?(r=(null===(e=this.txData)||void 0===e?void 0:e.revokedAddresses)||[],t=[XX.verifier.parseRevocationKey(this.issuer),this.revocationKey]):(r=yield this._doAction(null,(()=>Oq(this,void 0,void 0,(function*(){return yield XX.verifier.getRevokedAssertions(this._getRevocationListUrl(this.issuer),this.id)})))),t=this.id),yield this._doAction("checkRevokedStatus",(()=>function(e,t){if(!e||!t)return;Array.isArray(t)||(t=[t]);const r=function(e=[],t=[]){return e.filter((e=>-1!==t.indexOf(e))).filter(((e,t,r)=>r.indexOf(e)===t))}(t=t.filter((e=>null!=e)),e.map((e=>e.id)));if(r.length>0){const t=e.findIndex((e=>e.id===r[0]));if(t>-1)throw new iG("checkRevokedStatus",XX.certificates.generateRevocationReason(e[t].revocationReason))}}(r,t)))}))}checkAuthenticity(){return Oq(this,void 0,void 0,(function*(){yield this._doAction("checkAuthenticity",(()=>function(e,t,r){let n="";const i=function(e,t){let r=null;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&n.toLowerCase()===t.toLowerCase()&&(r=n);return e[r]}(e,t),o=$X(r);if(i?(i.created&&o<=i.created&&(n="invalidIssuingAddressCreationTime"),i.revoked&&o>=i.revoked&&(n="invalidIssuingAddressRevoked"),i.expires&&o>=i.expires&&(n="invalidIssuingAddressExpired")):n="invalidIssuingAddressUnknown",n)throw new iG("checkAuthenticity",Yq("errors",n))}(this.issuerPublicKeyList,this.txData.issuingAddress,this.txData.time)))}))}checkExpiresDate(){return Oq(this,void 0,void 0,(function*(){yield this._doAction("checkExpiresDate",(()=>function(e=null){if(!e)return;const t=$X(e);if(new Date>=t)throw new iG("checkExpiresDate",Yq("errors","ensureNotExpired"))}(this.expires)))}))}_failed(e){const t=e.errorMessage;return nse(`failure:${t}`),this._setFinalStep({status:"failure",message:t})}_isFailing(){return this._stepsStatuses.some((e=>"failure"===e.status))}_retrieveDocumentBeforeIssuance(e){const t=Object.assign({},e);return delete t.signature,t}_succeed(){const e=XX.chains.isMockChain(this.chain)?XX.i18n.getText("success","mocknet"):XX.i18n.getText("success","blockchain");return nse(e),this._setFinalStep({status:"success",message:e})}_setFinalStep({status:e,message:t}){return{code:"final",status:e,message:t}}_updateStatusCallback(e,t,r,n=""){if(null!=e){const i={code:e,label:t,status:r};n&&(i.errorMessage=n),this._stepCallback(i)}}}class ose{constructor(e,t={}){if(this.explorerAPIs=[],this._setOptions(t),"object"!=typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(XX.i18n.getText("errors","certificateNotValid"))}this.certificateJson=AG(e)}init(){return Oq(this,void 0,void 0,(function*(){yield this.parseJson(this.certificateJson)}))}parseJson(e){return Oq(this,void 0,void 0,(function*(){const t=yield function(e){return Oq(this,void 0,void 0,(function*(){try{const t=function(e){"string"==typeof e&&(e=[e]);const t=e.filter((e=>"string"==typeof e)).find((e=>e.toLowerCase().indexOf("blockcerts")>0)).split("/").filter((e=>""!==e)),r=Object.keys(YX);return parseInt(r.filter((e=>function(e,t){return e.some((e=>e.includes(`v${t}`)||e.includes(`${t}.`)))}(t,e.toString())))[0],10)}(e["@context"]);if(1!==t){const e="The document you are trying to parse is not Blockcerts V1. Please refer to cert-verifier-js to parse and verify newer versions: https://github.com/blockchain-certificates/cert-verifier-js";return console.warn(e),{isFormatValid:!1,error:e}}const r=yield YX[t](e);return r.isFormatValid=!0,r}catch(e){return{isFormatValid:!1,error:e}}}))}(e);if(!t.isFormatValid)throw new Error(t.error);this._setProperties(t)}))}verify(e){return Oq(this,void 0,void 0,(function*(){const t=new ise({certificateJson:this.certificateJson,chain:this.chain,expires:this.expires,id:this.id,issuer:this.issuer,receipt:this.receipt,revocationKey:this.revocationKey,transactionId:this.transactionId,version:this.version,explorerAPIs:AG(this.explorerAPIs)});return yield t.verify(e)}))}_setOptions(e){this.options=Object.assign({},$q,e),this.locale=XX.i18n.ensureIsSupported("auto"===this.options.locale?XX.i18n.detectLocale():this.options.locale),this.explorerAPIs=this.options.explorerAPIs||[],Xq.locale=this.locale}_setProperties({certificateImage:e,chain:t,description:r,expires:n,id:i,isFormatValid:o,issuedOn:s,issuer:a,metadataJson:c,name:u,publicKey:l,receipt:A,recipientFullName:h,recordLink:f,revocationKey:d,sealImage:p,signature:g,signatureImage:m,subtitle:y,version:v}){this.isFormatValid=o,this.certificateImage=e,this.chain=t,this.description=r,this.expires=n,this.id=i,this.issuedOn=s,this.issuer=a,this.metadataJson=c,this.name=u,this.publicKey=l,this.receipt=A,this.recipientFullName=h,this.recordLink=f,this.revocationKey=d,this.sealImage=p,this.signature=g,this.signatureImage=m,this.subtitle=y,this.verificationSteps=XX.certificates.getVerificationMap(t),this.version=v,this._setTransactionDetails()}_setTransactionDetails(){this.transactionId=XX.certificates.getTransactionId(this.receipt),this.rawTransactionLink=XX.certificates.getTransactionLink(this.transactionId,this.chain,!0),this.transactionLink=XX.certificates.getTransactionLink(this.transactionId,this.chain)}}var sse=Object.freeze({__proto__:null,displayHtmlHasNoWidthConstraint:Xe,download:function(e){return e+Ye},downloadPDF:async function(e){await Ui(e)},initializeVerificationSteps:function(e){const t=JSON.parse(JSON.stringify(e.verificationSteps));return t.map(((e,r)=>({...e,isLast:r===t.length-1,status:ud.DEFAULT})))},retrieve:function(e){return kq(e)||Pq(e)?fetch(e+Ye).then((e=>e.text())).then((e=>{try{return{certificateDefinition:JSON.parse(e)}}catch(e){return console.log(e),{certificateDefinition:null,errorMessage:"errors.invalidBlockcertsUrl"}}})).catch(Tq):(console.error("Invalid url to retrieve:",e),null)},read:async function(e){if(!e)return;const t=await function(e){return new Promise((function(t,r){const n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=n.onabort=r,n.readAsText(e)}))}(e);return t},parse:async function(e,t={}){t.locale||(t.locale="auto");try{let r;return r=1===md(e["@context"]).versionNumber?new ose(e,t):new Iq(e,t),await r.init(),{certificateDefinition:r}}catch(e){return console.error(e),{certificateDefinition:null,errorMessage:"errors.invalidBlockcerts"}}},isPathToCertificateValidURI:function(e){return kq(e)||Pq(e)}});var ase=((e={})=>{if(!window.Proxy){const t=function(){let e=null;function t(e){return!!e&&("object"==typeof e||"function"==typeof e)}const r=function(r,n){if(!t(r)||!t(n))throw new TypeError("Cannot create proxy with a non-object as target or handler");let i=function(){};e=function(){i=function(e){throw new TypeError(`Cannot perform '${e}' on a proxy that has been revoked`)}};const o=n;n={get:null,set:null,apply:null,construct:null};for(const e in o)e in n&&(n[e]=o[e]);"function"==typeof o&&(n.apply=o.apply.bind(o));let s=this,a=!1,c=!1;"function"==typeof r?(s=function(){const e=this&&this.constructor===s,t=Array.prototype.slice.call(arguments);return i(e?"construct":"apply"),e&&n.construct?n.construct.call(this,r,t):!e&&n.apply?n.apply(r,this,t):e?(t.unshift(r),new(r.bind.apply(r,t))):r.apply(this,t)},a=!0):r instanceof Array&&(s=[],c=!0);const u=n.get?function(e){return i("get"),n.get(this,e,s)}:function(e){return i("get"),this[e]},l=n.set?function(e,t){i("set"),n.set(this,e,t,s)}:function(e,t){i("set"),this[e]=t},A=Object.getOwnPropertyNames(r),h={};A.forEach((function(e){if((a||c)&&e in s)return;const t={enumerable:!!Object.getOwnPropertyDescriptor(r,e).enumerable,get:u.bind(r,e),set:l.bind(r,e)};Object.defineProperty(s,e,t),h[e]=!0}));let f=!0;if(Object.setPrototypeOf?Object.setPrototypeOf(s,Object.getPrototypeOf(r)):s.__proto__?s.__proto__=r.__proto__:f=!1,n.get||!f)for(const e in r)h[e]||Object.defineProperty(s,e,{get:u.bind(r,e)});return Object.seal(r),Object.seal(s),s};return r.revocable=function(t,n){return{proxy:new r(t,n),revoke:e}},r}();return new t(e,We)}return new Proxy(e,We)})({certificates:sse,events:Object.freeze({__proto__:null,dispatch:function(e="",t=null,r){if(!e||"string"!=typeof e)return;if(!t||"object"!=typeof t)return;const n=new CustomEvent(e,{detail:{certificateDefinition:t,...r}});window.dispatchEvent(n)}})});function cse(e,t){return e(t={exports:{}},t.exports),t.exports}function use(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var lse=/javascript\s*\:/gim;var Ase={whiteList:use(),getDefaultWhiteList:use,onAttr:function(e,t,r){},onIgnoreAttr:function(e,t,r){},safeAttrValue:function(e,t){return lse.test(t)?"":t}},hse=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},fse=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")};var dse=function(e,t){";"!==(e=fse(e))[e.length-1]&&(e+=";");var r=e.length,n=!1,i=0,o=0,s="";function a(){if(!n){var r=hse(e.slice(i,o)),a=r.indexOf(":");if(-1!==a){var c=hse(r.slice(0,a)),u=hse(r.slice(a+1));if(c){var l=t(i,s.length,c,u,r);l&&(s+=l+"; ")}}}i=o+1}for(;o<r;o++){var c=e[o];if("/"===c&&"*"===e[o+1]){var u=e.indexOf("*/",o+2);if(-1===u)break;i=(o=u+1)+1,n=!1}else"("===c?n=!0:")"===c?n=!1:";"===c?n||a():"\n"===c&&a()}return hse(s)};function pse(e){return null==e}function gse(e){e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{}),e.whiteList=e.whiteList||Ase.whiteList,e.onAttr=e.onAttr||Ase.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||Ase.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||Ase.safeAttrValue,this.options=e}gse.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,i=t.onIgnoreAttr,o=t.safeAttrValue,s=dse(e,(function(e,t,s,a,c){var u=r[s],l=!1;if(!0===u?l=u:"function"==typeof u?l=u(a):u instanceof RegExp&&(l=u.test(a)),!0!==l&&(l=!1),a=o(s,a)){var A,h={position:t,sourcePosition:e,source:c,isWhite:l};return l?pse(A=n(s,a,h))?s+":"+a:A:pse(A=i(s,a,h))?void 0:A}}));return s};var mse=gse,yse=cse((function(e,t){for(var r in t=e.exports=function(e,t){return new mse(t).process(e)},t.FilterCSS=mse,Ase)t[r]=Ase[r];"undefined"!=typeof window&&(window.filterCSS=e.exports)}));yse.cssfilter,yse.FilterCSS;var vse=function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},bse=function(e,t,r){var n,i;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e)},wse=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},xse=function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1},_se=yse.FilterCSS,Bse=yse.getDefaultWhiteList;function Ese(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Sse=new _se;function Cse(e){return e.replace(Ise,"&lt;").replace(kse,"&gt;")}var Ise=/</g,kse=/>/g,Pse=/"/g,Tse=/&quot;/g,Ose=/&#([a-zA-Z0-9]*);?/gim,Lse=/&colon;?/gim,Nse=/&newline;?/gim,Use=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,Fse=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Mse=/u\s*r\s*l\s*\(.*/gi;function Rse(e){return e.replace(Pse,"&quot;")}function Dse(e){return e.replace(Tse,'"')}function jse(e){return e.replace(Ose,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Qse(e){return e.replace(Lse,":").replace(Nse," ")}function Hse(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return wse(t)}function Kse(e){return e=Hse(e=Qse(e=jse(e=Dse(e))))}function Vse(e){return e=Cse(e=Rse(e))}var zse=function(e,t,r,n){if(r=Kse(r),"href"===t||"src"===t){if("#"===(r=wse(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(Use.lastIndex=0,Use.test(r))return""}else if("style"===t){if(Fse.lastIndex=0,Fse.test(r))return"";if(Mse.lastIndex=0,Mse.test(r)&&(Use.lastIndex=0,Use.test(r)))return"";!1!==n&&(r=(n=n||Sse).process(r))}return r=Vse(r)},qse=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],i=!1;return{onIgnoreTag:function(o,s,a){if(function(t){return!!r||-1!==vse(e,t)}(o)){if(a.isClosing){var c="[/removed]",u=a.position+c.length;return n.push([!1!==i?i:a.position,u]),i=!1,c}return i||(i=a.position),"[removed]"}return t(o,s,a)},remove:function(e){var t="",r=0;return bse(n,(function(n){t+=e.slice(r,n[0]),r=n[1]})),t+=e.slice(r)}}},Gse=function(e){for(var t="",r=0;r<e.length;){var n=e.indexOf("\x3c!--",r);if(-1===n){t+=e.slice(r);break}t+=e.slice(r,n);var i=e.indexOf("--\x3e",n);if(-1===i)break;r=i+3}return t},Wse=function(e){var t=e.split("");return t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})),t.join("")},$se={whiteList:{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},getDefaultWhiteList:Ese,onTag:function(e,t,r){},onIgnoreTag:function(e,t,r){},onTagAttr:function(e,t,r){},onIgnoreTagAttr:function(e,t,r){},safeAttrValue:zse,escapeHtml:Cse,escapeQuote:Rse,unescapeQuote:Dse,escapeHtmlEntities:jse,escapeDangerHtml5Entities:Qse,clearNonPrintableCharacter:Hse,friendlyAttrValue:Kse,escapeAttrValue:Vse,onIgnoreTagStripAll:function(){return""},StripTagBody:qse,stripCommentTag:Gse,stripBlankChar:Wse,cssFilter:Sse,getDefaultCSSWhiteList:Bse};function Jse(e){var t=xse(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=wse(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function Xse(e){return"</"===e.slice(0,2)}var Yse=/[^a-zA-Z0-9_:\.\-]/gim;function Zse(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function eae(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function tae(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}var rae=function(e,t,r){var n="",i=0,o=!1,s=!1,a=0,c=e.length,u="",l="";e:for(a=0;a<c;a++){var A=e.charAt(a);if(!1===o){if("<"===A){o=a;continue}}else if(!1===s){if("<"===A){n+=r(e.slice(i,a)),o=a,i=a;continue}if(">"===A){n+=r(e.slice(i,o)),u=Jse(l=e.slice(o,a+1)),n+=t(o,n.length,u,l,Xse(l)),i=a+1,o=!1;continue}if('"'===A||"'"===A)for(var h=1,f=e.charAt(a-h);""===f.trim()||"="===f;){if("="===f){s=A;continue e}f=e.charAt(a-++h)}}else if(A===s){s=!1;continue}}return i<e.length&&(n+=r(e.substr(i))),n},nae=function(e,t){var r=0,n=[],i=!1,o=e.length;function s(e,r){if(!((e=(e=wse(e)).replace(Yse,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&n.push(i)}}for(var a=0;a<o;a++){var c,u=e.charAt(a);if(!1!==i||"="!==u)if(!1===i||a!==r||'"'!==u&&"'"!==u||"="!==e.charAt(a-1))if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(c=Zse(e,a))){s(wse(e.slice(r,a))),i=!1,r=a+1;continue}a=c-1;continue}if(-1===(c=eae(e,a-1))){s(i,tae(wse(e.slice(r,a)))),i=!1,r=a+1;continue}}else;else{if(-1===(c=e.indexOf(u,a+1)))break;s(i,wse(e.slice(r+1,c))),i=!1,r=(a=c)+1}else i=e.slice(r,a),r=a+1}return r<e.length&&(!1===i?s(e.slice(r)):s(i,tae(wse(e.slice(r))))),wse(n.join(" "))},iae={parseTag:rae,parseAttr:nae},oae=yse.FilterCSS,sae=iae.parseTag,aae=iae.parseAttr;function cae(e){return null==e}function uae(e){e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=$se.onIgnoreTagStripAll),e.whiteList=e.whiteList||$se.whiteList,e.onTag=e.onTag||$se.onTag,e.onTagAttr=e.onTagAttr||$se.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||$se.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||$se.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||$se.safeAttrValue,e.escapeHtml=e.escapeHtml||$se.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new oae(e.css))}uae.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,o=t.onTagAttr,s=t.onIgnoreTagAttr,a=t.safeAttrValue,c=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=$se.stripBlankChar(e)),t.allowCommentTag||(e=$se.stripCommentTag(e));var l=!1;if(t.stripIgnoreTagBody){l=$se.StripTagBody(t.stripIgnoreTagBody,i);i=l.onIgnoreTag}var A=sae(e,(function(e,t,l,A,h){var f,d={sourcePosition:e,position:t,isClosing:h,isWhite:r.hasOwnProperty(l)};if(!cae(f=n(l,A,d)))return f;if(d.isWhite){if(d.isClosing)return"</"+l+">";var p=function(e){var t=xse(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=wse(e.slice(t+1,-1)))[e.length-1];return r&&(e=wse(e.slice(0,-1))),{html:e,closing:r}}(A),g=r[l],m=aae(p.html,(function(e,t){var r,n=-1!==vse(g,e);return cae(r=o(l,e,t,n))?n?(t=a(l,e,t,u))?e+'="'+t+'"':e:cae(r=s(l,e,t,n))?void 0:r:r}));A="<"+l;return m&&(A+=" "+m),p.closing&&(A+=" /"),A+=">"}return cae(f=i(l,A,d))?c(A):f}),c);return l&&(A=l.remove(A)),A};var lae=uae,Aae=cse((function(e,t){function r(e,t){return new lae(t).process(e)}for(var n in(t=e.exports=r).filterXSS=r,t.FilterXSS=lae,$se)t[n]=$se[n];for(var n in iae)t[n]=iae[n];"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}));Aae.xss,Aae.filterXSS,Aae.FilterXSS;const hae={...yse.getDefaultWhiteList(),bottom:!0,left:!0,float:!0,overflow:!0,position:!0,right:!0,top:!0,transform:!0,opacity:!0,"transform-origin":!0,"flex-direction":!0,"flex-wrap":!0,"justify-content":!0,"align-items":!0,"white-space":!0,"line-height":!0,"grid-template-columns":!0,"grid-template-rows":!0,"grid-column":!0,"grid-row":!0,"grid-area":!0,"align-self":!0,"justify-self":!0,span:!0};var fae=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,dae=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,pae=/u\s*r\s*l\s*\(.*/gi;const gae={whiteList:function(){const e=Aae.getDefaultWhiteList();return Object.keys(e).forEach((t=>{e[t].push("style"),e[t].push("class"),e[t].push("download")})),e}(),css:!1,stripIgnoreTagBody:!0,onTagAttr:function(e,t,r,n){if("style"===t)return`${t}="${yse(r,{whiteList:hae}).replace(/; /g,";")}"`;if("img"===e&&"src"===t&&function(e){return!!e.match(/^data:.+;base64,/)}(r)){const e=function(e){return e.split("base64,")[1]}(r);try{return atob(e),`${t}="${r}"`}catch(e){return t}}},safeAttrValue:function(e,t,r,n){if(r=Aae.friendlyAttrValue(r),"href"===t||"src"===t){if("#"===(r=function(e){if(String.prototype.trim)return e.trim();return e.replace(/(^\s*)|(\s*$)/g,"")}(r)))return"#";if(!function(e){return["http://","https://","mailto:","tel:","data:","#","/"].some((t=>e.substr(0,t.length)===t))}(r))return""}else if("background"===t){if(fae.lastIndex=0,fae.test(r))return""}else if("style"===t){if(dae.lastIndex=0,dae.test(r))return"";if(pae.lastIndex=0,pae.test(r)&&(fae.lastIndex=0,fae.test(r)))return"";!1!==n&&(r=(n=n||Aae.getDefaultCSSWhiteList()).process(r))}return r=Aae.escapeAttrValue(r)}},mae=new Aae.FilterXSS(gae);function yae(e){return mae.process(e)}function vae(e){const t=xi("date","pattern");"Z"===e.slice(-1)?e=e.slice(0,e.length-1):e.includes("+")&&(e=e.split("+")[0]);const r=new Date(e);let n=function(e,t){const r=xi("date","months");return e.replace("MM",r[t])}(t,r.getMonth());return n=function(e,t){return e.replace("DD",t)}(n,r.getDate().toString(10)),n=function(e,t){return e.replace("YYYY",t)}(n,r.getFullYear().toString(10)),n}function bae(e){return e.certificateDefinition}function wae(e){const t=bae(e);return t?t.signers:[]}function xae(e){const t=bae(e);return t?t.issuedOn:""}function _ae(e){return bae(e)?vae(xae(e)):""}function Bae(e){const t=bae(e);return t?t.recipientFullName:""}function Eae(e){const t=bae(e);return t?t.name:""}function Sae(e){const t=bae(e);return t?t.issuer.name:""}function Cae(e){const t=bae(e);return t?t.issuer.image:""}function Iae(e){const t=bae(e);if(!t)return"";const{displayHtml:r}=t.certificateJson;if(r)return yae(r);const n=t.display;if(n)switch(n.contentMediaType){case $e.TEXT_HTML:return yae(n.content);case $e.IMAGE_PNG:case $e.IMAGE_JPEG:case $e.IMAGE_GIF:case $e.IMAGE_BMP:return`<img src="data:${n.contentMediaType};${n.contentEncoding},${n.content}"/>`;case $e.APPLICATION_PDF:return`<embed width="100%" height="100%" type="application/pdf" src="data:${n.contentMediaType};${n.contentEncoding},${n.content}"/>`;default:return""}return""}function kae(e){const t=bae(e);return t&&kq(t.recordLink)?t.recordLink:""}function Pae(e){const t=kae(e);return t?ase.certificates.download(t):""}function Tae(e){const t=bae(e);if(t)try{return JSON.parse(t.metadataJson)}catch(e){return null}return null}function Oae(e){const t=wae(e);return 0===t.length?zae(e,"transactionLink")??[]:t.map((e=>e.transactionLink))}function Lae(e){const t=wae(e);return 0===t.length?zae(e,"transactionId")??[]:t.map((e=>e.transactionId))}function Nae(e){const t=wae(e);if(0===t.length){const t=zae(e,"chain");return t?t.map((e=>e?.name)):[]}return t.map((e=>e.chain?.name))}function Uae(e){return Nae(e).some((e=>"Mocknet"===e||e?.includes("Testnet")))}function Fae(e,t){const r=Nae(e)[t];return!!r&&("Mocknet"===r||r.includes("Testnet"))}function Mae(e){return e.verifiedSteps||[]}function Rae(e,t){return Mae(e).find((e=>e.code===t))}function Dae(e){return Mae(e).some((e=>e.status===ud.FAILURE))}function jae(e){return e.finalStep}function Qae(e){return wae(e).map((e=>e.issuerPublicKey))}function Hae(e){return wae(e).map((e=>e.issuerProfileUrl))}function Kae(e){return wae(e).map((e=>e.issuerProfileDomain))}function Vae(e){return wae(e).map((e=>e.signatureSuiteType))}function zae(e,t){const r=bae(e);return r?[r[t]]:null}function qae(e){const t=bae(e);return t?t.certificateImage:""}function Gae(e){const t=bae(e);return t?t.subtitle:""}function Wae(e){const t=bae(e);return t?t.description:""}function $ae(e){const t=bae(e);return t?t.signatureImage:""}function Jae(e){const t=bae(e);return t?t.sealImage:""}function Xae(e){return e.isGeneratingPDF}function Yae(e,t){switch(t.type){case je:return function(e,t){const{resetSteps:r}=t.payload;return{...e,verifiedSteps:r}}(e,t);case Ue:return function(e,t){return{...e,...t.payload.options}}(e,t);case Fe:return function(e,t){return{...e,...t.payload,...t.payload.certificateDefinition&&{verifiedSteps:ase.certificates.initializeVerificationSteps(t.payload.certificateDefinition)}}}(e,t);case Me:return function(e,t){return{...e,certificateDefinition:t.payload.definition}}(e,t);case Re:return function(e,t){return{...e,input:{...e.input,certificateUrl:t.payload.url}}}(e,t);case He:return function(e,t){const{parentStepCode:r,status:n}=t.payload;return Rae(e,r).status=n,e}(e,t);case De:return function(e,t){return{...e,input:{...e.input,isValid:t.payload.isValid}}}(e,t);case ze:return function(e,t){const{errorMessage:r}=t.payload;return{...e,errorMessage:r}}(e,t);case qe:return function(e,t){return{...e,showVerificationModal:t.payload.showVerificationModal}}(e,t);case Qe:return function(e,t){const{parentStep:r}=t.payload;return function(e,t){let r=e.subSteps.findIndex((e=>e.code===t.code));r>-1?e.subSteps[r]=t:e.suites?.length&&e.suites.forEach((e=>{r=e.subSteps.findIndex((e=>e.code===t.code)),r>-1&&(e.subSteps[r]=t)}))}(Rae(e,r),t.payload),e}(e,t);case Ke:return function(e,t){return{...e,verificationStatus:t.payload.status}}(e,t);case Ve:return function(e,t){return{...e,finalStep:t.payload.finalStep}}(e,t);case Ge:return function(e,t){return{...e,isGeneratingPDF:t.payload.isGeneratingPDF}}(e,t);default:return e}}const Zae="full",ece="bright",tce="dark";const rce=function(e=function(e={}){return{input:{},verifiedSteps:[],finalStep:null,verificationStatus:ud.DEFAULT,showVerificationModal:!1,displayMode:"card",disableDownloadPdf:!1,theme:ece,...e}}()){return Ce(Yae,e,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(xe(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return n=ke.apply(void 0,o)(r.dispatch),we(we({},r),{},{dispatch:n})}}}(...[Te]))}();function nce(e,{mapDispatchToProps:t={},mapStateToProps:r=(()=>({})),ownProps:n={}}){return class extends(ye(rce)(me)){mapDispatchToProps(){return function(e,t){if("function"==typeof e)return Ie(e,t);if("object"!=typeof e||null===e)throw new Error(xe(16));var r={};for(var n in e){var i=e[n];"function"==typeof i&&(r[n]=Ie(i,t))}return r}(t,rce.dispatch)}mapStateToProps(e){return r(rce.getState(),e)}static get properties(){return n}_render(t){const r={...this.mapDispatchToProps(),...this.mapStateToProps(t),...t};return he`${e(r)}`}_stateChanged(e){this._requestRender()}}}function ice(e){return{type:ze,payload:{errorMessage:e}}}function oce(e){return e.status===ud.SUCCESS}function sce(e){return e.status===ud.FAILURE}function ace(e){return function(t,r){if(null==e)return;const n=Rae(r(),e);let i=n.status;i===ud.DEFAULT&&function(e){let t=!0;return e.suites?.length&&(t=e.suites?.flatMap((e=>e.subSteps)).some(oce)),t||e.subSteps.some(oce)}(n)&&(i=ud.STARTING),i!==ud.DEFAULT&&function(e){let t=!0;return e.suites?.length&&(t=e.suites?.flatMap((e=>e.subSteps)).every(oce)),t&&e.subSteps.every(oce)}(n)&&(i=ud.SUCCESS),function(e){let t=!1;return e.suites?.length&&(t=e.suites?.flatMap((e=>e.subSteps)).some(sce)),t||e.subSteps.some(sce)}(n)&&(i=ud.FAILURE),t({type:He,payload:{parentStepCode:e,status:i}})}}class cce{constructor(){this.queue=[],this.dispatchCb=null,this.isExecuting=!1,this.intervalId=null,this.dispatchNext=this.dispatchNext.bind(this)}registerCb(e){this.dispatchCb=e}push(e){this.queue.push(e)}dispatchNext(){const e=this.queue.shift();e?this.dispatchCb(e):this.intervalId&&(this.isExecuting=!1,clearInterval(this.intervalId))}execute(){!this.isExecuting&&this.queue.length&&(this.isExecuting=!0,this.intervalId=setInterval(this.dispatchNext,200))}}const uce=new cce;function lce(e){return function(t,r){const n=function(e){return function(t){e({type:Qe,payload:t}),e(ace(t.parentStep))}}(t);uce.dispatchCb||uce.registerCb(n),uce.push(e),uce.execute()}}function Ace(){return function(e,t){const r=bae(t());let n=[];r&&(n=ase.certificates.initializeVerificationSteps(r)),e({type:je,payload:{resetSteps:n}})}}function hce(e){return{type:Ke,payload:{status:e}}}function fce(e){return e.disableVerify}function dce(e){return e.allowDownload}function pce(e){return e.disableDownloadPdf}function gce(e){return e.allowSocialShare}function mce(e){return e.showMetadata}function yce(e){return e.displayMode}function vce(e){return e.theme}function bce(e){return e.locale}function wce(e){return e.explorerAPIs}function xce(e){return e.clickableUrls}function _ce(e){return e.didResolverUrl}function Bce(e){return"string"==typeof e&&(e={label:e}),{type:Ve,payload:{finalStep:e}}}function Ece(){return async function(e,t){const r=t();if(fce(r))return void console.warn("Verification is disabled");e({type:"VERIFY_CERTIFICATE"}),e(hce(ud.STARTING)),e(Ace());const n=bae(r);if(n){ase.events.dispatch("certificate-verify",n);const t=await n.verify((t=>{e(lce(t))}));e(Bce(t.message)),e(hce(t.status))}}}function Sce(e){return{type:qe,payload:{showVerificationModal:e}}}function Cce(e){return async function(t,r){const n=r(),i={locale:bce(n),explorerAPIs:wce(n),didResolverUrl:_ce(n)},{certificateDefinition:o,errorMessage:s}=await ase.certificates.parse(e,i);t(ice(s)),t({type:Fe,payload:{certificateDefinition:o}}),ase.events.dispatch("certificate-load",o),null!=o&&await t((async function(e,t){(function(e){return e.disableAutoVerify})(t())||(e({type:Ne}),e(Sce(!0))),await e(Ece())}))}}function Ice(e){return async function(t){const r=ase.certificates.isPathToCertificateValidURI(e);var n;if(t((n=r,function(e){e({type:De,payload:{isValid:n}}),e(ice(n?null:"errors.invalidUrl"))})),!r)return null;t({type:Re,payload:{url:e}});const i=await ase.certificates.retrieve(e);i.certificateDefinition?await t(Cce(i.certificateDefinition)):t(ice(i.errorMessage))}}const kce=/(-\w)/g,Pce=e=>e[1].toUpperCase();const Tce={src:String,"disable-auto-verify":Boolean,"disable-verify":Boolean,"allow-download":Boolean,"disable-download-pdf":Boolean,"allow-social-share":Boolean,"display-mode":String,"show-metadata":Boolean,"clickable-urls":Boolean,theme:0,locale:String,explorerAPIs:{},"did-resolver-url":String},Oce=Object.keys(Tce).map((function(e){return e.replace(kce,Pce)})).reduce(((e,t)=>(e[t]=Tce[t],e)),{});function Lce(e){let t;const r=Object.keys(bi).map((e=>e.toLowerCase()));if(t=r.indexOf(e.toLowerCase())>-1,!t){const n=e.substr(0,2).toLowerCase(),i=r.map((e=>e.split("-")[0])).indexOf(n);t=i>-1,t&&(e=r[i])}return t||(e=yi),function(e){const t=e.split("-");return t.length>1?`${t[0].toLowerCase()}-${t[1].toUpperCase()}`:t[0].toLowerCase()}(e)}function Nce(e){"auto"!==e&&e||(e=navigator.language||navigator.userLanguage||navigator.browserLanguage||yi),vi.locale=Lce(e)}var Uce=he`<style>.buv-c-input{font-size:15px;color:#031532;border-radius:2px 0 0 2px;padding:12px 15px;background-color:#f3f4f5;border:solid 1px rgba(3,21,50,.13);box-sizing:border-box;width:100%}.buv-c-input.is-invalid{border:2px solid red}.buv-c-input::-moz-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-c-input::-webkit-input-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-c-input:-moz-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-c-input:-ms-input-placeholder{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:rgba(3,21,50,.3);letter-spacing:-0.25px}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;function Fce(e){return void 0===e.input.isValid||e.input.isValid}const Mce=nce((({onInput:e=(()=>{}),isValid:t=!0}={})=>{const r="buv-c-input "+(t?"":"is-invalid");return he`
    ${Uce}
    <label 
      for='certificate-json-url'
      class='buv-u-visually-hidden'>${xi("text.urlInput")}</label>
    <input 
      type='text'
      id='certificate-json-url'
      placeholder='${xi("text.urlInputPlaceholder")}'
      class$='${r}'
      on-input='${t=>{e(t.target.value)}}'
    />
  `}),{mapDispatchToProps:{onInput:Ice},mapStateToProps:e=>({isValid:Fce(e)})});window.customElements.define("buv-input",Mce);var Rce=he`<style>.buv-c-verify-button{background-color:#2ab27b;border-radius:0 2px 2px 0;color:#fff;cursor:pointer;display:block;font-size:15px;font-weight:400;padding:12px 38px;border:1px solid #2ab27b;width:100%}.buv-c-verify-button__label{cursor:pointer}.buv-c-verify-button--hollow{background:#fff;color:#2ab27b;font-weight:100;text-transform:uppercase;padding:12px 30px;font-size:13px}.buv-c-verify-button--link{background:none;color:#031532;border:0;text-decoration:underline;padding:0;margin-top:5px;font-size:13px}.buv-c-verify-button.is-disabled{pointer-events:none}</style>`;const Dce={onClick:function(){return function(e){e({type:"START_VERIFICATION_PROCESS"}),e(Sce(!0)),e(Ece())}}},jce=nce((function({isHollow:e=!1,isDisabled:t=!1,onClick:r=(()=>{}),type:n=""}={}){const i=["buv-c-verify-button",e?"buv-c-verify-button--hollow":"",t?"is-disabled":"","link"===n?"buv-c-verify-button--link":""].join(" ");return he`
    ${Rce}
    <button class$='${i}' on-click='${r}' disabled?='${t}'>
      <label class='buv-c-verify-button__label'><slot>${xi("text.verify")}</slot></label>
    </button>
  `}),{mapDispatchToProps:Dce,mapStateToProps:e=>({isDisabled:fce(e)||!bae(e)}),ownProps:{isHollow:Boolean,type:String}});window.customElements.define("buv-verify-button",jce);var Qce=he`<style>.buv-c-certificate-input{display:flex;width:100%;padding:40px 30px;background-color:rgba(255,255,255,.1);border:1px solid rgba(0,0,0,.1);box-sizing:border-box}@media only screen and (max-width: 600px){.buv-c-certificate-input{flex-direction:column;grid-row-gap:10px;height:162px;padding:30px;justify-content:space-between}}.buv-c-certificate-input__input{width:100%}</style>`;const Hce=nce((({showInput:e=!0})=>e?he`
    ${Qce}
    <section class="buv-c-certificate-input  buv-qa-certificate-input">
        <buv-input class="buv-c-certificate-input__input"></buv-input><buv-verify-button></buv-verify-button>     
    </section>
`:null),{mapStateToProps:e=>({showInput:!bae(e)})});window.customElements.define("buv-certificate-input",Hce);var Kce=he`<style>.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-c-download-link{text-decoration:none;color:currentColor}.buv-c-download-link--icon{background-image:url("data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20id%3D%22Capa%5f1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%09%20width%3D%22433.5px%22%20height%3D%22433.5px%22%20fill%3D%22%236e7e8e%22%20viewBox%3D%220%200%20433.5%20433.5%22%20style%3D%22enable-background%3Anew%200%200%20433.5%20433.5%3B%22%20xml%3Aspace%3D%22preserve%22%0A%09%3E%3Cg%3E%3Cg%20id%3D%22file-download%22%3E%3Cpath%20d%3D%22M395.25%2C153h-102V0h-153v153h-102l178.5%2C178.5L395.25%2C153z%20M38.25%2C382.5v51h357v-51H38.25z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");width:17px;height:17px;background-size:17px}.buv-c-download-link.is-disabled{pointer-events:none}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;const Vce=nce((function({downloadLink:e,display:t=""}){if(!e)return null;const r="plaintext"===t,n=xi("text.downloadLink"),i=["buv-c-download-link","buv-o-button-link",r?"":"buv-c-download-link--icon"].join(" ");return he`
    ${Kce}
    <a class$='${i}' href='${e}' title$='${n}'>
      <span class$='${r?"buv-o-button-link__label":"buv-u-visually-hidden"}'>${n}</span>
    </a>`}),{mapStateToProps:e=>({downloadLink:Pae(e)}),ownProps:{display:String}});window.customElements.define("buv-download-link",Vce);var zce=he`<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-c-download-pdf-link{padding:0}.buv-c-download-pdf-link__icon{background-image:url('data:image/svg+xml,%3Csvg data-bx-workspace="master" xmlns="http://www.w3.org/2000/svg" xmlns:bx="https://boxy-svg.com" version="1.1" fill="%236e7e8e" id="Capa_1" x="0px" y="0px" width="550.801px" height="550.801px" viewBox="0 0 550.801 550.801"%3E%3Cg style="" transform="matrix(0.855886, 0, 0, 0.855886, 39.688637, 39.689045)"%3E%3Cpath d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"%3E%3C/path%3E%3Cpath d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"%3E%3C/path%3E%3Cpath d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"%3E%3C/path%3E%3C/g%3E%3C/svg%3E');width:25px;height:25px;background-size:25px}.buv-c-download-pdf-link__label--loading{display:none}.buv-c-download-pdf-link--loading{pointer-events:none}.buv-c-download-pdf-link--loading.buv-c-download-pdf-link__icon{background-image:url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin:auto;background:transparent;display:block;" width="25px" height="25px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"%3E%3Ccircle cx="50" cy="50" fill="none" stroke="%23999999" stroke-width="7" r="35" stroke-dasharray="164.93361431346415 56.97787143782138"%3E%3CanimateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"%3E%3C/animateTransform%3E%3C/circle%3E%3C/svg%3E')}.buv-c-download-pdf-link--loading .buv-c-download-pdf-link__label{color:#999}.buv-c-download-pdf-link--loading .buv-c-download-pdf-link__label--static{display:none}.buv-c-download-pdf-link--loading .buv-c-download-pdf-link__label--loading{display:block}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;function qce(e){return{type:Ge,payload:{isGeneratingPDF:e}}}const Gce={onClick:function(){return async function(e,t){const r=t(),n=function(e){const t=bae(e);return t?"displayHtml"in t.certificateJson?$e.TEXT_HTML:t.display?.contentMediaType:null}(r),i=function(e){const t=bae(e);return t?"displayHtml"in t.certificateJson?"":t.display?.contentEncoding:""}(r),o=function(e){const t=bae(e);return t?"displayHtml"in t.certificateJson?t.certificateJson.displayHtml:t.display?.content??"":""}(r),s=Bae(r),a=Eae(r),c=_ae(r),u=Sae(r),l=Cae(r),A=kae(r),h=Qae(r);e(qce(!0)),await ase.certificates.downloadPDF({contentType:n,contentEncoding:i,content:o,recipientName:s,certificateTitle:a,issueDate:c,issuerName:u,issuerLogo:l,recordLink:A,issuerPublicKey:h}),e(qce(!1))}}},Wce=nce((function({display:e="plaintext",isGeneratingPDF:t=!1,onClick:r=(()=>{}),isVisible:n=!0}={display:"plaintext",isGeneratingPDF:!1,onClick:()=>{},isVisible:!0}){if(!n)return null;const i="plaintext"===e,o=xi("text.downloadPDFLink"),s=xi("text.downloadPDFLinkIsLoading"),a=["buv-o-button-link","buv-c-download-pdf-link","buv-js-download-pdf-link",i?"":"buv-c-download-pdf-link__icon",t?"buv-c-download-pdf-link--loading":""].join(" ");return he`
      ${zce}
      <button onclick='${r}'
              class$='${a}'
              title$='${o}'>
        <label class$='buv-c-download-pdf-link__label ${i?"buv-o-button-link__label":"buv-u-visually-hidden"}'>
          <span class='buv-c-download-pdf-link__label--static'>${o}</span>
          <span class='buv-c-download-pdf-link__label--loading'>${s}</span>
        </label>
      </button>`}),{mapDispatchToProps:Gce,mapStateToProps:e=>({isVisible:!!bae(e),isGeneratingPDF:Xae(e)}),ownProps:{display:String}});window.customElements.define("buv-download-pdf-link",Wce);var $ce=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-o-overlay{z-index:100;box-shadow:0 0 30px rgba(0,0,0,.25);background-color:#fff}.buv-c-metadata-container{box-sizing:border-box;padding:47px;height:100%;width:400px;position:fixed;top:0;right:-400px;display:flex;flex-direction:column}.buv-c-metadata-container__close-button{top:52px;right:47px}.buv-c-metadata-container__title{border-bottom:solid 1px #e8e9eb;padding-bottom:38px;font-weight:300;margin:0 0 38px}.buv-c-metadata-link{padding:0}.buv-c-metadata-link--icon{background-image:url("data:image/svg+xml,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%0A%0A%09%20width%3D%22512px%22%20fill%3D%22%236e7e8e%22%20height%3D%22512px%22%20viewBox%3D%220%200%20512%20512%22%20enable-background%3D%22new%200%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%3E%0A%0A%3Cpath%20id%3D%22info-2-icon%22%20d%3D%22M255.998%2C90.001c91.74%2C0%2C166.002%2C74.241%2C166.002%2C165.998c0%2C91.741-74.245%2C166-166.002%2C166%0A%0A%09c-91.74%2C0-165.998-74.243-165.998-166C90%2C164.259%2C164.243%2C90.001%2C255.998%2C90.001%20M255.998%2C50.001%0A%0A%09C142.229%2C50.001%2C50%2C142.229%2C50%2C255.999c0%2C113.771%2C92.229%2C206%2C205.998%2C206c113.771%2C0%2C206.002-92.229%2C206.002-206%0A%0A%09C462%2C142.229%2C369.77%2C50.001%2C255.998%2C50.001L255.998%2C50.001z%20M285.822%2C367.567h-57.646V230.6h57.646V367.567z%20M257%2C202.268%0A%09c-17.522%2C0-31.729-14.206-31.729-31.73c0-17.522%2C14.206-31.729%2C31.729-31.729c17.524%2C0%2C31.728%2C14.206%2C31.728%2C31.729%0A%09C288.728%2C188.062%2C274.524%2C202.268%2C257%2C202.268z%22%2F%3E%3C%2Fsvg%3E");width:22px;height:22px;background-size:22px}.buv-c-metadata-list{margin:0;overflow:auto;flex:1}.buv-c-metadata-list__title{color:#999;line-height:15px}.buv-c-metadata-list__detail{margin:0 0 20px}.buv-c-metadata-list__detail-text{white-space:pre-wrap;word-wrap:break-word;font:inherit;margin:0}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}.buv-u-slide-from-right{opacity:0;-webkit-transition:right ease .5s,opacity .2s;-moz-transition:right ease .5s,opacity .2s;-ms-transition:right ease .5s,opacity .2s;-o-transition:right ease .5s,opacity .2s;transition:right ease .5s,opacity .2s}.buv-u-slide-from-right.is-active{right:0;opacity:1}</style>`,Jce=he`<style>.buv-c-close-button{display:inline-block;overflow:hidden;cursor:pointer;border:0;width:20px;height:20px;position:absolute;background-color:rgba(0,0,0,0)}.buv-c-close-button::before,.buv-c-close-button::after{content:"";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px;background:#000}.buv-c-close-button::before{transform:rotate(45deg)}.buv-c-close-button::after{transform:rotate(-45deg)}.buv-c-close-button--big{transform:scale(3)}.buv-c-close-button--hairline::before,.buv-c-close-button--hairline::after{height:1px}.buv-c-close-button--thick::before,.buv-c-close-button--thick::after{height:4px;margin-top:-2px}.buv-c-close-button--black::before,.buv-c-close-button--black::after{height:8px;margin-top:-4px}.buv-c-close-button--heavy::before,.buv-c-close-button--heavy::after{height:12px;margin-top:-6px}.buv-c-close-button--pointy::before,.buv-c-close-button--pointy::after{width:200%;left:-50%}.buv-c-close-button--rounded::before,.buv-c-close-button--rounded::after{border-radius:5px}.buv-c-close-button--blades::before,.buv-c-close-button--blades::after{border-radius:5px 0}.buv-c-close-button--warp::before,.buv-c-close-button--warp::after{border-radius:120% 0}.buv-c-close-button--fat::before,.buv-c-close-button--fat::after{border-radius:100%}.buv-c-close-button--position{position:relative}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;const Xce=({onClick:e=(()=>{}),className:t=""}={})=>he`
    ${Jce}
    <button onclick='${e}' class$='${`buv-c-close-button  buv-c-close-button--hairline  ${t||"buv-c-close-button--position"} `}'>
      <label class='buv-u-visually-hidden'>${xi("text.closeButton")}</label>
    </button>
  `;window.customElements.define("buv-metadata-raw",class extends me{constructor(){super(),this.isOpen=!1,this.toggleOpen=this.toggleOpen.bind(this)}static get properties(){return{isOpen:Boolean,metadataList:Object,display:String}}toggleOpen(){this.isOpen=!this.isOpen}_render({metadataList:e,display:t}){const r=["buv-o-overlay","buv-c-metadata-container","buv-u-slide-from-right",this.isOpen?"is-active":""].join(" ");let n="";if(e){const t=function(e){return e.schema.properties.certificate.properties}(e);n=e.displayOrder.map((r=>{const n=r.split(".")[1],i=function(e,t){const r=t.split(".");return function e(t,r,n){const i=n.indexOf(r)+1,o=n[i];return o?Object.prototype.hasOwnProperty.call(t[r],o)?e(t[r],o,n):void 0:t[r]}(e,r[0],r)}(e,r);return function(e,t){let{title:r,format:n,type:i}=e;Array.isArray(i)&&(i=i[0]);const o=he`<dt class='buv-c-metadata-list__title'>${r}</dt>`;let s=!1,a="",c=t;if("string"===i)switch(n){case"uri":s=!0,a=t;break;case"email":a=`mailto:${t}`;break;case"phoneNumber":a=`tel:${t}`}a&&(c=he`<a href="${a}" target="${s?"_blank":""}" >${t}</a>`);const u=he`<dd class='buv-c-metadata-list__detail'>
            <pre class='buv-c-metadata-list__detail-text'>${c}</pre></dd>`;return he`${o}${u}`}(t[n],i)}))}const i="plaintext"===t,o=xi(e?"text.metadataButton":"errors.noMetadata"),s=["buv-c-metadata-link","buv-o-button-link",i?"":"buv-c-metadata-link--icon"].join(" ");return he`
      ${$ce}
      <button onclick='${this.toggleOpen}' 
        class$='${s}' 
        disabled?='${!e}' 
        aria-disabled?='${!e}'
        title$=${o}>
        <label class$='${i?"buv-o-button-link__label":"buv-u-visually-hidden"}'>${o}</label>
      </button>
      <section class$='${r}'>
        <h1 class='buv-c-metadata-container__title'>${xi("text.metadataTitle")}</h1>
        ${Xce({onClick:this.toggleOpen,className:"buv-c-metadata-container__close-button"})}
        <dl class='buv-c-metadata-list  buv-o-text-12'>${n}</dl>
      </section>
    `}});const Yce=nce((function(e){return he`
    <buv-metadata-raw
      metadataList='${e.metadataList}'
      display='${e.display}'
    ></buv-metadata-raw>`}),{mapStateToProps:e=>({metadataList:Tae(e)}),ownProps:{display:String}});window.customElements.define("buv-metadata",Yce);var Zce=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-button-link{display:block;cursor:pointer;border:0;background-color:rgba(0,0,0,0)}.buv-o-button-link__label{display:block;font-size:13px;cursor:pointer}.buv-o-button-link.is-disabled,.buv-o-button-link:disabled{cursor:help;opacity:.6}.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-overlay{z-index:100;box-shadow:0 0 30px rgba(0,0,0,.25);background-color:#fff}.buv-c-social-share-link{width:17px;height:17px;background-size:17px;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' id='Capa_1' x='0px' y='0px' viewBox='0 0 473.932 473.932' style='enable-background:new 0 0 473.932 473.932;' xml:space='preserve' width='24px' height='24px'%3E%3Cg%3E%3Cg%3E%3Cpath d='M385.513,301.214c-27.438,0-51.64,13.072-67.452,33.09l-146.66-75.002 c1.92-7.161,3.3-14.56,3.3-22.347c0-8.477-1.639-16.458-3.926-24.224l146.013-74.656c15.725,20.924,40.553,34.6,68.746,34.6 c47.758,0,86.391-38.633,86.391-86.348C471.926,38.655,433.292,0,385.535,0c-47.65,0-86.326,38.655-86.326,86.326 c0,7.809,1.381,15.229,3.322,22.412L155.892,183.74c-15.833-20.039-40.079-33.154-67.56-33.154 c-47.715,0-86.326,38.676-86.326,86.369s38.612,86.348,86.326,86.348c28.236,0,53.043-13.719,68.832-34.664l145.948,74.656 c-2.287,7.744-3.947,15.79-3.947,24.289c0,47.693,38.676,86.348,86.326,86.348c47.758,0,86.391-38.655,86.391-86.348 C471.904,339.848,433.271,301.214,385.513,301.214z' fill='%236e7e8e'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A")}.buv-c-social-share-modal{position:absolute;padding:38px 34px 34px;width:120px}.buv-c-social-share-modal__close-button{top:10px;right:10px}.buv-c-social-share-modal__list{list-style-type:none;margin:0;padding:0}.buv-c-social-share-modal__list-item{margin-bottom:24px}.buv-c-social-share-modal__list-item--plaintext{margin-bottom:5px;font-size:13px}.buv-c-social-share-modal__list-item:last-child{margin-bottom:0}.buv-c-social-share-modal__link{text-decoration:none}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;window.customElements.define("buv-social-share-raw",class extends me{constructor(){super(),this.isOpen=!1,this.toggleOpen=this.toggleOpen.bind(this)}static get properties(){return{url:String,isOpen:String,onShare:Function,display:String}}toggleOpen(){this.isOpen=!this.isOpen}sharingTemplate({url:e,onShare:t,display:r}){if(!this.isOpen)return;if(!e)return;const n="plaintext"===r,i=[{name:"LinkedIn",shareUrl:`https://www.linkedin.com/shareArticle?url=${e}&mini=true`},{name:"Facebook",shareUrl:`https://www.facebook.com/sharer/sharer.php?u=${e}`},{name:"Twitter",shareUrl:`https://twitter.com/intent/tweet?url=${e}`}].map((e=>he`<li class$='buv-c-social-share-modal__list-item  ${n?"buv-c-social-share-modal__list-item--plaintext":""}'>
            <a
              href='${e.shareUrl}'
              title='Share on ${e.name}'
              class='buv-o-link  buv-c-social-share-modal__link'
              target='_blank'
              onclick='${()=>{t(e.name)}}'
            >
              <span>${xi("text.share")} ${e.name}</span>
            </a>
          </li>`)),o=he`<ul class='buv-c-social-share-modal__list'>
        ${i}
      </ul>`;return n?o:he`<div class='buv-c-social-share-modal  buv-o-text-12  buv-o-overlay'>
      ${Xce({onClick:this.toggleOpen,className:"buv-c-social-share-modal__close-button"})}
      ${o}
    </div>`}sharingButton({url:e,display:t}){if("plaintext"===t)return void(this.isOpen=!0);const r=!!e,n=xi(r?"text.shareButton":"text.noShareUrl");return he`<button 
        onclick='${this.toggleOpen}'
        class='buv-c-social-share-link  buv-o-button-link'
        disabled?='${!r}'
        aria-disabled?='${!r}'
        title$='${n}'
      >
      <label class='buv-u-visually-hidden'>${n}</label>
    </button>`}_render(e){return he`
      ${Zce}
      ${this.sharingButton(e)}
      ${this.sharingTemplate(e)}
    `}});const eue={onShare:function(e){return function(t,r){const n=bae(r());ase.events.dispatch("certificate-share",n,{socialNetwork:e}),t({type:"SHARE_SOCIAL_NETWORK"})}}},tue=nce((function(e){return he`
  <buv-social-share-raw
    url='${e.url}'
    onShare='${e.onShare}'
    display='${e.display}'
  ></buv-social-share-raw>`}),{mapDispatchToProps:eue,mapStateToProps:e=>({url:kae(e)}),ownProps:{display:String}});window.customElements.define("buv-social-share",tue);var rue=he`<style>.buv-c-action-menu{display:flex;align-items:center;padding:0}.buv-c-action-menu-item{flex-basis:30px}</style>`;const nue=nce((({allowDownload:e,disableDownloadPdf:t,allowSocialShare:r,showMetadata:n,isVisible:i})=>(e||!t||r||n||(i=!1),i?he`
    ${rue}
    <menu class='buv-c-action-menu'>
      ${e?he`
        <menuitem class='buv-c-action-menu-item'>
          <buv-download-link></buv-download-link>
        </menuitem>`:""}
      ${n?he`
        <menuitem class='buv-c-action-menu-item'>
          <buv-metadata></buv-metadata>
        </menuitem>`:""}
      ${t?"":he`
        <menuitem class='buv-c-action-menu-item'>
          <buv-download-pdf-link></buv-download-pdf-link>
        </menuitem>`}
      ${r?he`
        <menuitem class='buv-c-action-menu-item'>
          <buv-social-share></buv-social-share>
        </menuitem>`:""}
    </menu>
  `:null)),{mapStateToProps:e=>({allowDownload:dce(e),disableDownloadPdf:pce(e),allowSocialShare:gce(e),showMetadata:mce(e),isVisible:yce(e)===Zae&&!!bae(e)})});window.customElements.define("buv-action-menu",nue);var iue=he`<style>.buv-c-verification-modal__process{display:flex;justify-content:space-around}.buv-c-verification-modal__separator{margin-bottom:30px;background-color:rgba(3,21,50,.05);height:1px;border:0 none}.buv-c-verification-modal__content{max-height:100vh;padding-bottom:43px;box-sizing:border-box;overflow:auto}@media only screen and (max-width: 600px){.buv-c-verification-modal__content{max-height:calc(100vh - 120px)}}</style>`,oue=he`<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;let sue=!1,aue=!1;function cue(e){return async function(t){t({type:"UPLOAD_CERTIFICATE_DEFINITION"});const r=await ase.certificates.read(e);t(Cce(JSON.parse(r)))}}const uue=nce((function({onChange:e=(()=>{}),hideFileUpload:t=!1}){return t?null:he`
    ${oue}
    <label for='buv-json-file-upload' class='buv-o-link  buv-o-text-12'>
      <span class='buv-o-link__text--underline'>${xi("text.fileUpload")}</span>
      <input
        type='file'
        accept='application/json'
        id='buv-json-file-upload'
        class='buv-u-visually-hidden'
        onchange='${t=>{e(t.target.files[0])}}'
      />
    </label>
    ${(sue?aue:(sue=!0,!("ontouchstart"in document.createElement("div"))&&(aue=!0,aue)))?he`<span class="buv-o-text-12  qa-drag-and-drop-hint">${xi("text.dragAndDropHint")}</span>`:""}`}),{mapDispatchToProps:{onChange:cue},mapStateToProps:e=>({hideFileUpload:bae(e)})});function lue(){return function(e){e(Ace()),e((function(e){e({type:"RESET_VERIFICATION_STATUS"}),e(hce(ud.DEFAULT)),e(Bce(null))})),e({type:Me,payload:{definition:null}})}}window.customElements.define("buv-file-upload",uue);var Aue=he`<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-verify-other-certificate{display:block}</style>`;const hue=nce((function({onClick:e=(()=>{}),isVisible:t=!1}={}){return t?he`
    ${Aue}
    <a onclick='${e}' class='buv-o-text-12  buv-o-link  buv-c-verify-other-certificate  buv-qa-verify-other-certificate'>
      <span class='buv-o-link__text--underline'>${xi("text.verifyOther")}</span>
    </a>
  `:null}),{mapDispatchToProps:{onClick:lue},mapStateToProps:e=>({isVisible:!!bae(e)})});window.customElements.define("buv-verify-other-certificate",hue);var fue=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-footer{width:100%;height:60px;background-color:rgba(0,0,0,.1);color:#031532;fill:#111;display:flex;justify-content:space-between;align-items:center;padding:0 30px;box-sizing:border-box}.buv-c-footer a{line-height:1}.buv-c-footer--dark{color:#fff;fill:#fff}.buv-c-footer--forced{position:absolute;bottom:0;left:0;margin-top:0;justify-content:flex-end}</style>`;const due=nce((({forceInPlace:e=!1,interactive:t=!1,theme:r}={})=>{const n=["buv-c-footer",e?"buv-c-footer--forced":"",r===tce?"buv-c-footer--dark":""].join(" ");return he`
  ${fue}
  <footer class$='${n}'>
    ${t?he`<section>
      <buv-file-upload></buv-file-upload>
      <buv-verify-other-certificate></buv-verify-other-certificate>
    </section>`:""}
    ${Bi()}
  </footer>`}),{mapStateToProps:e=>({theme:vce(e)}),ownProps:{forceInPlace:Boolean,interactive:Boolean}});window.customElements.define("buv-footer",due);var pue=he`<style>.buv-o-overlay{z-index:100;box-shadow:0 0 30px rgba(0,0,0,.25);background-color:#fff}.buv-c-modal{position:fixed;width:100%;height:100%;background-color:rgba(3,21,50,.7);top:0;left:0;z-index:1000}.buv-c-modal.is-hidden{display:none}.buv-c-modal__content{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);width:100vw;min-width:300px;max-width:600px;min-height:calc(600px - 50px);padding:49px 38px 98px;box-sizing:border-box}@media only screen and (max-width: 600px){.buv-c-modal__content{height:100vh;min-height:100vh;top:0;left:0;transform:none}}.buv-c-modal__close-button{top:25px;right:25px}</style>`;window.customElements.define("buv-modal",class extends me{constructor(){super(),this.isOpen=!1,this.handleClick=this.handleClick.bind(this)}static get properties(){return{isOpen:Boolean,onClose:Function}}close(){this.isOpen=!1}handleClick(){this.close(),this._props.onClose()}_propertiesChanged(e,t,r){this._props=e,super._propertiesChanged(e,t,r)}_render(){const e=["buv-c-modal","buv-qa-modal",this.isOpen?"":"is-hidden"].join(" ");return he`
      ${pue}
      <div class$='${e}' onclick='${this.handleClick}'>
        <div class='buv-c-modal__content  buv-o-overlay' onclick='${e=>{e.stopPropagation()}}'>
          ${Xce({className:"buv-c-modal__close-button",onClick:this.handleClick})}
          <slot></slot>
        </div>  
      </div>
    `}});var gue=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}</style>`,mue=he`<style>.buv-c-error-message{background:rgba(208,2,27,.1);border-radius:2px;letter-spacing:.05px;padding:10px}.buv-c-error-message--solid{background:#fff;border-radius:2px 2px 0 0;margin:0}.buv-c-error-message-title{color:#d0021b;font-weight:bold;display:block;margin-bottom:5px;font-size:15px}</style>`;function yue(e,t=!1){if(null==e)return null;const r=["buv-c-error-message","buv-qa-error-message",t?"buv-c-error-message--solid":""].join(" ");return he`
    ${mue}
    <p class$='${r}'>
      <span class='buv-c-error-message-title'>${xi("errors.errorLabel")}</span>
      ${function(e){return function(e){return e.indexOf(".")>-1&&-1===e.indexOf(" ")}(e)?xi(e):e}(e)}
    </p>`}function vue({label:e,code:t,status:r,errorMessage:n,isParent:i,isFirst:o,isTestChain:s}){const a=["buv-o-text-15","buv-c-verification-step","buv-c-badge",o?"is-first":"",`is-${r}`,s?"is-test":""].join(" ");let c;return c=i?he`${gue}<dt class$='${a}'>${e}</dt>`:he`${gue}<dd class='buv-c-verification-step  buv-c-verification-substep  buv-o-text-12'>
      ${e}
      ${yue(n)}
    </dd>`,he`${c}`}var bue=he`<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}.buv-c-final-verification-step{white-space:nowrap;opacity:0;position:relative;font-weight:600;font-size:15px;color:#031532;margin-top:15px}.buv-c-final-verification-step.is-success{font-size:21px;color:#2ab27b;line-height:19px}.buv-c-final-verification-step--standalone{margin-top:0}.buv-c-final-verification-step.is-test,.buv-c-final-verification-step--standalone.is-success{font-size:15px;color:#031532}.buv-c-final-verification-step.is-failure{font-size:13px;font-weight:400}.buv-c-verification-step__description{margin:0}.buv-c-final-verification-step.is-visible{opacity:1}.buv-c-final-verification-step.is-visible::after{opacity:1}.buv-c-final-verification-step::after{position:absolute;content:"";height:26px;width:23px;left:-37px;top:-3px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjAgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iVmVyaWZpY2F0aW9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI1NC4wMDAwMDAsIC00NzQuMDAwMDAwKSIgZmlsbD0iIzJBQjI3QiI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ4LjAwMDAwMCwgNDY5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LDUgTDYsOS4xODE4MTgxOCBMNiwxNS40NTQ1NDU1IEM2LDIxLjI1NjgxODIgMTAuMjY2NjY2NywyNi42ODI3MjczIDE2LDI4IEMyMS43MzMzMzMzLDI2LjY4MjcyNzMgMjYsMjEuMjU2ODE4MiAyNiwxNS40NTQ1NDU1IEwyNiw5LjE4MTgxODE4IEwxNiw1IEwxNiw1IFogTTksMTcuNzUzNzE1NSBMMTAuNTI3NSwxNi4yNTY5MDAyIEwxMy4zMzMzMzMzLDE4Ljk5NTc1MzcgTDIwLjQ3MjUsMTIgTDIyLDEzLjUwNzQzMSBMMTMuMzMzMzMzMywyMiBMOSwxNy43NTM3MTU1IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=");background-repeat:no-repeat;background-position:center;background-size:contain;z-index:3}.buv-c-final-verification-step.is-test::after{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4IiBmaWxsPSIjRjVBNjIzIj48cGF0aCBkPSJNLjUgMTZoMTdMOSAxIC41IDE2em05LjUtMkg4di0yaDJ2MnptMC0zSDhWN2gydjR6Ii8+PC9zdmc+IA==")}.buv-c-final-verification-step.is-failure::after{content:"\\\\274C";font-size:17px;top:-1px;color:#d0021b;background:none}.buv-c-final-verification-step--standalone-wrapper{padding:10px;box-sizing:border-box;border-left:3px solid}.buv-c-final-verification-step--standalone-wrapper.is-success{background-color:rgba(42,178,123,.1);border-color:#2ab27b}.buv-c-final-verification-step--standalone-wrapper.is-failure{background-color:rgba(208,2,27,.1);border-color:#d0021b}.buv-c-final-verification-step--standalone-wrapper.is-test{background-color:rgba(245,166,35,.1);border-color:#f5a623}.buv-c-final-verification-step--standalone{margin:0 0 5px 30px;white-space:unset}.buv-c-final-verification-step--standalone.is-failure{margin-bottom:0}.buv-c-final-verification-step--standalone::after{left:-30px}.buv-c-verification-substep.is-final{display:none;line-height:1.35}.buv-c-verification-substep.is-final.is-visible{display:block}.buv-c-verification-substep::after{display:none}.buv-u-excluded-from-flow{position:absolute}.buv-u-full-width{width:100%}</style>`;function wue(e){return e.verificationStatus}function xue(e,t){const r=Mae(e).find((e=>"proofVerification"===e.code)).suites?.find((e=>e.proofType===t));return r.subSteps.every((e=>e.status===ud.SUCCESS))?ud.SUCCESS:r.subSteps.some((e=>e.status===ud.FAILURE))?ud.FAILURE:""}function _ue(e){return e.showVerificationModal}const Bue=nce((function({chain:e="",transactionLink:t="",isTestChain:r,isVisible:n=!1,finalStep:i=null,hideLink:o=!1,status:s=!1,standalone:a=!1}={}){if(!i)return;const c=[a?"buv-c-final-verification-step--standalone-wrapper":"",`is-${s}`,r?"is-test":""].join(" "),u=["buv-c-final-verification-step","buv-qa-final-verification-step",a?"buv-c-final-verification-step--standalone":"","buv-qa-verification-step",n?"is-visible":"",r?"is-test":"",`is-${s}`,s&&!a?"buv-c-badge  buv-c-badge--large":""].join(" "),l=["buv-c-verification-substep",a?"":"buv-u-excluded-from-flow","buv-u-full-width","buv-o-text-12","is-final",n?"is-visible":""].join(" "),A=i.label,h=function(e,t){return e.description?he`<p class='buv-c-verification-step__description  buv-qa-final-step-description'>${e.description.replace("${chain}",t)}</p>`:""}(i,e),f=!o&&i.linkText?he`<a class='buv-o-link' href='${t}' hidden?='${!t}'>
        <span class='buv-o-link__text--underline  buv-qa-transaction-link'>${i.linkText}</span>
      </a>`:"";return he`
    ${bue}
    <div class$='${c}'>
      <dt class$='${u}'>${A}</dt>
      <dd class$='${l}'>
        ${h}
        ${f}
      </dd>
      <slot></slot>
    </div>
  `}),{mapStateToProps:e=>({finalStep:jae(e),chain:Nae(e),transactionLink:Oae(e),isTestChain:Uae(e),status:wue(e)}),ownProps:{isVisible:Boolean,hideLink:Boolean,standalone:Boolean}});window.customElements.define("buv-final-verification-step",Bue);var Eue=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-c-substeps-list__link::after{content:"";width:0;height:0;border-left:4px solid rgba(0,0,0,0);border-right:4px solid rgba(0,0,0,0);border-bottom:4px solid #768087;display:inline-block;vertical-align:2px;margin:0 6px;-webkit-transition:-webkit-transform .3s ease-in;-o-transition:transform .3s ease-in;transition:transform .3s ease-in}.buv-c-substeps-list__link.is-open::after{transform:rotate(180deg)}.buv-c-substeps-list__list{max-height:0;overflow:scroll;-webkit-transition:max-height .3s ease-in;-o-transition:max-height .3s ease-in;transition:max-height .3s ease-in;padding-left:50px;margin-left:-50px;padding-top:5px}.buv-c-substeps-list__list.is-open{height:auto}.buv-c-substeps-list__list.is-nested{padding-left:60px}</style>`;window.customElements.define("buv-substeps-list",class extends me{isOpen;wasForcedOpen;resetOpen;totalHeight;heightWasReset;isNested;hasNestedList;renderEvent;constructor(){super(),this.isOpen=!1,this.wasForcedOpen=!1,this.resetOpen=!1,this.toggleOpen=this.toggleOpen.bind(this),this.totalHeight=0,this.heightWasReset=!1,this.hasNestedList=!1,this.renderEvent=null}static get properties(){return{subSteps:[],suites:[],isOpen:Boolean,hasError:Boolean,isNested:Boolean}}toggleOpen(){this.wasForcedOpen&&!this.resetOpen&&(this.isOpen=!0,this.resetOpen=!0),this.isOpen=!this.isOpen}_didRender(){if(0===this.totalHeight){const e=this.shadowRoot.querySelectorAll(".buv-js-substeps-list__list")[0],t=e?Array.from(e.childNodes):[];this.totalHeight=t.reduce(((e,t)=>t.getBoundingClientRect?e+t.getBoundingClientRect().height:e),0),this.wasForcedOpen&&!this.heightWasReset&&(e.style.maxHeight=this.totalHeight+"px",this.heightWasReset=!0)}this.isNested&&!this.renderEvent&&(this.renderEvent=new CustomEvent("child-list-rendered",{detail:{childHeight:this.totalHeight},bubbles:!0,composed:!0}),this.dispatchEvent(this.renderEvent))}getRenderableSuites(e){if(!e||!e.length)return[];const t=e.filter((e=>e.subSteps.length>0)).filter((e=>e.subSteps.some((e=>e.status))));return 0===t.length?[]:(this.hasNestedList=t.length>1,this.shadowRoot.addEventListener("child-list-rendered",(e=>{this.totalHeight+=e.detail.childHeight})),t)}renderSuiteTitle(e,t){return 1===t.length?null:he`<dt class='buv-o-text-12 buv-o-text-bold'>Proof type: ${e.proofType}</dt>`}renderSuites(e,t){if(e)return e.map((r=>he`
            ${this.renderSuiteTitle(r,e)}
            <buv-substeps-list subSteps='${r.subSteps}' hasError?='${t}' isNested?='${!0}'></buv-substeps-list>`))}_render({subSteps:e=[],suites:t=[],hasError:r=!1,isNested:n=!1}={}){let i=JSON.parse(JSON.stringify(e)),o=this.getRenderableSuites(t);if(1===o.length){i=JSON.parse(JSON.stringify(i)).concat(o[0].subSteps),o=null}this.isNested=n,!this.wasForcedOpen&&r&&(this.isOpen=!0,this.wasForcedOpen=!0);const s=i.filter((e=>e.status)),a=s.length||o.length;if(0===a)return null;const c=`${a} ${xi("text","item",!0,a)}`,u=this.isOpen?this.totalHeight:1,l=["buv-o-text-12","buv-o-link","buv-c-substeps-list__link",this.isOpen?"is-open":""].join(" "),A=["buv-c-substeps-list__list","buv-js-substeps-list__list",this.isOpen?"is-open":"",this.hasNestedList?"is-nested":""].join(" ");return he`
    ${Eue}
    <a title='${xi("text.substepsListHint")}' onclick='${this.toggleOpen}' class$='${l}'>
      <span class='buv-o-link__text--underline'>${this.isOpen?xi("text.substepsListClose"):c}</span>
    </a>
    <div class$='${A}' style$='max-height: ${u}px'>
      ${s.map((e=>he`${vue(e)}`))} 
      ${this.renderSuites(o,r)}
    </div>
    `}});var Sue=he`<style>.buv-c-verification-process{position:relative}.buv-c-verification-progress-bar{position:absolute;left:13px;top:0;width:14px;display:flex;flex-direction:column;height:100%}.buv-c-verification-progress-bar__tube{min-height:14px;transition:flex .4s ease-in-out,max-height .4s ease-in;background-color:#2ab27b;border-radius:7px;flex-grow:0;opacity:0}.buv-c-verification-progress-bar__tube.has-started{flex-grow:1;opacity:1}.buv-c-verification-progress-bar__tube.is-test{background-color:#d8d8d8}.buv-c-verification-progress-bar__tube.has-errored{background-color:#d0021b}.buv-c-verification-progress-bar.no-transition{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.buv-c-verification-process__step-list{padding-left:46px;margin-top:0}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;window.customElements.define("buv-verification-process-raw",class extends me{listElement;static get properties(){return{steps:[],transactionLink:String,hasError:Boolean,isTestChain:Boolean}}verificationInProgressTemplate(){return he`
        <span class='buv-u-visually-hidden'>${xi("text.verificationStepProgress")}</span>
        <svg width='20' height='7' viewBox='0 0 120 30' xmlns='http://www.w3.org/2000/svg'><circle cx='15' cy='15' r='15'><animate attributeName='r' from='15' to='15' begin='0s' dur='0.8s' values='15;9;15' calcMode='linear' repeatCount='indefinite'/><animate attributeName='fill-opacity' from='1' to='1' begin='0s' dur='0.8s' values='1;.5;1' calcMode='linear' repeatCount='indefinite'/></circle><circle cx='60' cy='15' r='9' fill-opacity=''.9'><animate attributeName='r' from='9' to='9' begin='0s' dur='0.8s' values='9;15;9' calcMode='linear' repeatCount='indefinite'/><animate attributeName='fill-opacity' from=''.5' to='.5' begin='0s' dur='0.8s' values='.5;1;.5' calcMode='linear' repeatCount='indefinite'/></circle><circle cx='105' cy='15' r='15'><animate attributeName='r' from='15' to='15' begin='0s' dur='0.8s' values='15;9;15' calcMode='linear' repeatCount='indefinite'/><animate attributeName='fill-opacity' from='1' to='1' begin='0s' dur='0.8s' values='1;.5;1' calcMode='linear' repeatCount='indefinite'/></circle></svg>
    `}_didRender(){this.listElement||(this.listElement=this.shadowRoot.querySelectorAll(".buv-js-verification-process__step-list")[0])}_render({steps:e,transactionLink:t,hasError:r,isTestChain:n}){const i=e.filter((e=>e.status!==ud.DEFAULT)).map(((e,t)=>he`
        ${vue({...e,isParent:!0,isFirst:0===t,isTestChain:n})}
        ${e.status===ud.STARTING?he`${this.verificationInProgressTemplate()}`:he`<buv-substeps-list subSteps='${e.subSteps}' suites='${e.suites}' hasError?='${r}'></buv-substeps-list>`}
    `)),o=["buv-c-verification-progress-bar__tube","buv-qa-verification-progress-bar__tube",r?"has-errored":"",n?"is-test":"",i.length?"has-started":""].join(" ");let s=`${this.listElement?this.listElement.getBoundingClientRect().height:0}px`;const a=e.every((e=>e.status===ud.SUCCESS))||e.some((e=>e.status===ud.FAILURE));return a&&(s="100%"),he`
    ${Sue}
    <section class='buv-c-verification-process'>
      <div class='buv-c-verification-progress-bar' >
        <div class$='${o}' style$='max-height: ${s}'></div>
      </div>  
      <dl class='buv-c-verification-process__step-list  buv-js-verification-process__step-list'>
        ${i}
        <buv-final-verification-step isVisible='${a&&!r}'></buv-final-verification-step>
      </dl>
    </section>
  `}});const Cue=nce((function({steps:e,transactionLink:t,hasError:r,isTestChain:n}){return he`<buv-verification-process-raw
    steps='${e}'
    hasError?='${r}'
    isTestChain?='${n}'
    style='max-width: 100%;'
    ></buv-verification-process-raw>`}),{mapStateToProps:e=>({steps:JSON.parse(JSON.stringify(Mae(e))),isTestChain:Uae(e),hasError:Dae(e)})});window.customElements.define("buv-verification-process",Cue);const Iue=nce((function({isOpen:e,onClose:t}){return he`
    ${iue}
    <buv-modal isOpen?='${e}' onClose='${t}'>
      <div class='buv-c-verification-modal__content'>
        <buv-card-certificate class='buv-c-verification-modal__certificate' hideRecordLink hideVerifyButton></buv-card-certificate>
        <hr class='buv-c-verification-modal__separator'/>
        <buv-verification-process class='buv-c-verification-modal__process'></buv-verification-process>
      </div>
      <buv-footer forceInPlace></buv-footer>
    </buv-modal>
  `}),{mapDispatchToProps:{onClose:Sce.bind(null,!1)},mapStateToProps:e=>({isOpen:_ue(e)})});window.customElements.define("buv-verification-modal",Iue);var kue=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-drag-and-drop__droparea{z-index:100;background-color:rgba(0,0,0,.1);display:none;position:absolute;top:0;left:0;width:100%;height:100%}.buv-c-drag-and-drop__droparea.is-active{display:block}</style>`;window.customElements.define("buv-drag-and-drop-raw",class extends me{constructor(){super(),this.isDraggedOver=!1,this.denyDrop=!1,this.handleDragEnter=this.handleDragEnter.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this)}static get properties(){return{isDraggedOver:Boolean,denyDrop:Boolean,onDrop:Function}}handleDragEnter(){this.isDraggedOver=!0}handleDragOver(e){e.preventDefault()}handleDragLeave(){this.isDraggedOver=!1}handleDrop(e){e.preventDefault(),this.isDraggedOver=!1;const t=e.dataTransfer.files[0];this.denyDrop=!function(e){const{name:t}=e;return"json"===t.substr(t.length-4,4)}(t),this.denyDrop||this._props.onDrop(t)}_propertiesChanged(e,t,r){this._props=e,super._propertiesChanged(e,t,r)}_render(){const e=["buv-c-drag-and-drop__droparea",this.isDraggedOver?"is-active":""].join(" "),t=this.denyDrop?xi("errors.invalidFormatDragAndDrop"):"";return he`
    ${kue}
    <div ondragenter='${this.handleDragEnter}'>
      <div class$='${e}'
        ondragover='${this.handleDragOver}'
        ondragleave='${this.handleDragLeave}'
        ondrop='${this.handleDrop}'
      ></div>
      <span>${t}</span>
      <slot></slot>
    </div>`}});const Pue=nce((function(e){return he`
  <buv-drag-and-drop-raw
    onDrop='${e.onDrop}'
  >
  <slot></slot>
</buv-drag-and-drop-raw>`}),{mapDispatchToProps:{onDrop:cue}});window.customElements.define("buv-drag-and-drop",Pue);var Tue=he`<style>.buv-c-verifier-main{font-family:"Open Sans",-apple-system,BlinkMacSystemFont,sans-serif;color:#031532;position:relative}.buv-c-verifier-layout{display:flex;flex-direction:column}.buv-c-verifier-body{background-color:#fff;flex-grow:1}.buv-c-verifier-body--padded{padding:20px}</style>`,Oue=he`<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-card{position:relative;display:flex;margin-bottom:20px}.buv-c-card__img-wrapper{margin-right:1.5vw;min-width:50px;width:20%}.buv-c-card__img{max-width:100%;max-height:100%}.buv-c-card__title-wrapper{display:flex;flex-direction:column;justify-content:center}.buv-c-card__download-button{margin-top:10px}.buv-c-card__title{font-size:calc(16px + .5vw);margin-top:0;margin-bottom:0;font-weight:400;padding-right:100px}.buv-c-card__title--no-padding{padding:0}.buv-c-card__recipient{font-weight:600;margin:6px 0 12px}.buv-c-card__record-link{position:absolute;top:0;right:0;line-height:30px}.buv-c-card__record-link::after{content:"";border:solid currentColor;border-width:0 2px 2px 0;width:5px;height:5px;transform:rotate(-45deg);font-weight:bold;display:inline-block;margin-left:5px}.buv-c-card__verify-button{float:right}@media only screen and (max-width: 600px){.buv-c-card__title{font-size:16px}.buv-c-card__recipient{margin:6px 0}.buv-c-card__img-wrapper{margin-right:18px}}</style>`;const Lue=nce((function(e){const{hasCertificateDefinition:t,recipientName:r,certificateTitle:n,issuedOn:i,issueDate:o,issuerName:s,recordLink:a,hideVerifyButton:c,disableDownloadPdf:u}=e;let{hideRecordLink:l}=e;if(!t)return null;a||l||(l=!0);const A=["buv-c-card__title",l?"buv-c-card__title--no-padding":""].join(" ");return he`
      ${Oue}
      <section class='buv-c-card'>
        <div class='buv-c-card__img-wrapper'>
          ${function(e){return new Promise((t=>{const r=new Image;r.addEventListener("load",(()=>{t(he`<img src='${e.issuerLogo}' alt='${e.issuerName}' class='buv-c-card__img'/>`)})),r.addEventListener("error",(()=>{t(he`<p class='buv-o-text-15'>${e.issuerName}</p>`)})),r.src=e.issuerLogo}))}(e)}
        </div>
        <div class='buv-c-card__title-wrapper'>
          <h1 class$=${A}>${n}</h1>
          <h2 class$='${A}  buv-c-card__recipient'>${r}</h2>
          <span class='buv-o-text-12'>${xi("text.issued")} <time datetime$='${i}'>${o}</time> ${xi("text.by")} ${s}</span>
          ${u?"":he`<div class='buv-c-card__download-button'>
            <buv-download-pdf-link></buv-download-pdf-link>
          </div>`}
        </div>
      ${l?"":he`<a class='buv-o-text-12  buv-o-link  buv-c-card__record-link  qa-card-record-link' href='${a}' target='_blank'>
    <span class='buv-o-link__text--underline'>${xi("text.viewRecord")}</span>
    </a>`}
      </section>
      ${c?"":he`<buv-final-verification-step class='buv-c-fullscreen-certificate__verification-status' isVisible hideLink standalone>
      <buv-verify-button type='link'>${xi("text.verifyAgain")}</buv-verify-button>
    </buv-final-verification-step>`}
    `}),{mapStateToProps:e=>({hasCertificateDefinition:!!bae(e),recipientName:Bae(e),certificateTitle:Eae(e),issueDate:_ae(e),issuedOn:xae(e),issuerName:Sae(e),issuerLogo:Cae(e),recordLink:kae(e),disableDownloadPdf:pce(e)}),ownProps:{hideRecordLink:Boolean,hideVerifyButton:Boolean}});window.customElements.define("buv-card-certificate",Lue);
/**
   * @license
   * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
   * This code may only be used under the BSD style license found at
   * http://polymer.github.io/LICENSE.txt
   * The complete set of authors may be found at
   * http://polymer.github.io/AUTHORS.txt
   * The complete set of contributors may be found at
   * http://polymer.github.io/CONTRIBUTORS.txt
   * Code distributed by Google as part of the polymer project is also
   * subject to an additional IP rights grant found at
   * http://polymer.github.io/PATENTS.txt
   */
const Nue=e=>(e=>(e.__litDirective=!0,e))((t=>{const r=document.createElement("template");r.innerHTML=e,t.setValue(document.importNode(r.content,!0))}));var Uue=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate--fixed-width{max-width:460px;min-width:0;margin:0 auto}.buv-c-full-certificate{box-shadow:0 1px 5px rgba(0,0,0,.15);padding:20px;background-color:#fff;display:block;font-family:serif;text-align:center;color:#49555f;font-size:12px;overflow:auto;word-wrap:break-word;height:100vh;max-height:calc(100vh - 150px);line-height:initial}.buv-c-full-certificate section{max-width:100%;padding:0}.buv-c-full-certificate img{max-width:100%;height:auto;width:inherit}@media only screen and (min-width: 640px){.buv-c-full-certificate{font-size:16px}}.buv-c-full-certificate__button{margin-top:15px}.buv-c-full-certificate__details{display:flex;justify-content:space-between;margin-top:15px}.buv-c-full-certificate__details-list{min-width:calc(100% - 190px);width:calc(100% - 105px)}</style>`,Fue=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate-details{display:flex;margin:0;position:relative;padding-bottom:60px}@media only screen and (max-width: 750px){.buv-c-certificate-details{flex-direction:column;padding-bottom:0}}.buv-c-certificate-details--column{flex-direction:column;padding-bottom:0}.buv-c-certificate-details__group{box-sizing:border-box;padding-right:15px;margin-top:15px}.buv-c-certificate-details__group--row{max-width:33%;margin-top:0}@media only screen and (max-width: 750px){.buv-c-certificate-details__group--row{max-width:100%}}.buv-c-certificate-details__title{margin-bottom:5px;text-transform:uppercase;font-weight:600}.buv-c-certificate-details__value{margin:0;word-break:break-all}.buv-c-certificate-details__standalone{position:absolute;bottom:0}@media only screen and (max-width: 750px){.buv-c-certificate-details__standalone{position:initial;margin-top:15px}}.buv-c-certificate-details--inline{display:inline-block;margin:0 0 5px}</style>`;const Mue={en:function(e){const t=xi("numbers","ordinal"),r=e%100;return t[(r-20)%10]||t[r]||t[0]},fr:function(e){const t=xi("numbers","ordinal");return 1===e?t[e]:t[0]},es:()=>xi("numbers","ordinal"),it:()=>xi("numbers","ordinal"),mt:e=>xi("numbers","ordinal")[e-1]};function Rue(e){return"mt"===vi.locale?Mue[vi.locale](e):e+Mue[vi.locale](e)}var Due=he`<style>.buv-o-link{cursor:pointer;text-decoration:none;color:currentColor}.buv-o-link__text--underline{border-bottom:1px solid}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-badge{position:relative}.buv-c-badge::before{content:"";position:absolute;left:-32px;top:0;width:12px;height:12px;background-color:#fff;border-radius:50%;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;z-index:2;box-sizing:content-box;box-shadow:0 2px 4px 0 rgba(22,40,55,.21)}.buv-c-badge--medium::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-badge--large::before{width:38px;height:38px;left:-45px;top:-9px}.buv-c-verification-step{position:relative;margin:15px 0 5px;font-weight:600}.buv-c-verification-step.is-first{margin-top:0}.buv-c-verification-substep{margin:0;font-weight:400;color:rgba(3,21,50,.7);padding:3px 0 0;line-height:1.71428571}.buv-c-verification-step.is-success::before,.buv-c-verification-step.is-failure::before{left:-38px;top:-4px;width:24px;height:24px}.buv-c-verification-substep::before{left:-28px;top:10px;width:4px;height:4px;background-color:rgba(255,255,255,.8)}.buv-c-verification-step::after{content:"";position:absolute;z-index:3;-webkit-transition:opacity .3s ease-out .2s;-o-transition:opacity .3s ease-out .2s;transition:opacity .3s ease-out .2s;opacity:0}.buv-c-verification-step.is-success::after,.buv-c-verification-step.is-failure::after{opacity:1}.buv-c-verification-step.is-success::after{border:solid #2ab27b;border-width:0 2px 2px 0;left:-29px;width:5px;height:11px;transform:rotate(45deg)}.buv-c-verification-step.is-success.is-test::after{border-color:#031532}.buv-c-verification-step.is-failure::after{content:"\\\\274C";left:-32px;top:-1px;font-size:11px;color:#d0021b}@supports(-ms-ime-align: auto){.buv-c-verification-step.is-failure::after{left:-34px}}.buv-c-final-verification-step{white-space:nowrap;opacity:0;position:relative;font-weight:600;font-size:15px;color:#031532;margin-top:15px}.buv-c-final-verification-step.is-success{font-size:21px;color:#2ab27b;line-height:19px}.buv-c-final-verification-step--standalone{margin-top:0}.buv-c-final-verification-step.is-test,.buv-c-final-verification-step--standalone.is-success{font-size:15px;color:#031532}.buv-c-final-verification-step.is-failure{font-size:13px;font-weight:400}.buv-c-verification-step__description{margin:0}.buv-c-final-verification-step.is-visible{opacity:1}.buv-c-final-verification-step.is-visible::after{opacity:1}.buv-c-final-verification-step::after{position:absolute;content:"";height:26px;width:23px;left:-37px;top:-3px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyM3B4IiB2aWV3Qm94PSIwIDAgMjAgMjMiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZyBpZD0iVmVyaWZpY2F0aW9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI1NC4wMDAwMDAsIC00NzQuMDAwMDAwKSIgZmlsbD0iIzJBQjI3QiI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQ4LjAwMDAwMCwgNDY5LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LDUgTDYsOS4xODE4MTgxOCBMNiwxNS40NTQ1NDU1IEM2LDIxLjI1NjgxODIgMTAuMjY2NjY2NywyNi42ODI3MjczIDE2LDI4IEMyMS43MzMzMzMzLDI2LjY4MjcyNzMgMjYsMjEuMjU2ODE4MiAyNiwxNS40NTQ1NDU1IEwyNiw5LjE4MTgxODE4IEwxNiw1IEwxNiw1IFogTTksMTcuNzUzNzE1NSBMMTAuNTI3NSwxNi4yNTY5MDAyIEwxMy4zMzMzMzMzLDE4Ljk5NTc1MzcgTDIwLjQ3MjUsMTIgTDIyLDEzLjUwNzQzMSBMMTMuMzMzMzMzMywyMiBMOSwxNy43NTM3MTU1IFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=");background-repeat:no-repeat;background-position:center;background-size:contain;z-index:3}.buv-c-final-verification-step.is-test::after{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgdmlld0JveD0iMCAwIDE4IDE4IiBmaWxsPSIjRjVBNjIzIj48cGF0aCBkPSJNLjUgMTZoMTdMOSAxIC41IDE2em05LjUtMkg4di0yaDJ2MnptMC0zSDhWN2gydjR6Ii8+PC9zdmc+IA==")}.buv-c-final-verification-step.is-failure::after{content:"\\\\274C";font-size:17px;top:-1px;color:#d0021b;background:none}.buv-c-final-verification-step--standalone-wrapper{padding:10px;box-sizing:border-box;border-left:3px solid}.buv-c-final-verification-step--standalone-wrapper.is-success{background-color:rgba(42,178,123,.1);border-color:#2ab27b}.buv-c-final-verification-step--standalone-wrapper.is-failure{background-color:rgba(208,2,27,.1);border-color:#d0021b}.buv-c-final-verification-step--standalone-wrapper.is-test{background-color:rgba(245,166,35,.1);border-color:#f5a623}.buv-c-final-verification-step--standalone{margin:0 0 5px 30px;white-space:unset}.buv-c-final-verification-step--standalone.is-failure{margin-bottom:0}.buv-c-final-verification-step--standalone::after{left:-30px}.buv-c-verification-substep.is-final{display:none;line-height:1.35}.buv-c-verification-substep.is-final.is-visible{display:block}.buv-c-verification-substep::after{display:none}.buv-u-excluded-from-flow{position:absolute}.buv-u-full-width{width:100%}.buv-c-suite-verification-status{margin-left:30px;font-weight:400}.buv-c-suite-verification-status.is-visible{font-size:13px}.buv-c-suite-verification-status.is-visible::after{width:20px;height:20px;left:-28px}.buv-u-visually-hidden{position:absolute !important;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height:1px !important;width:1px !important;overflow:hidden}</style>`;const jue=nce((function({isTestChain:e,status:t}){const r=["buv-c-final-verification-step","buv-c-suite-verification-status","is-visible",`is-${t}`,e?"is-test":""].join(" "),n=function(e,t){let r="signatureStatusSuccess";return e&&(r="signatureStatusTestSuccess"),t===ud.FAILURE&&(r="signatureStatusFailure"),xi("text",r)}(e,t);return he`
      ${Due}
      <a class$='${r}' title$='${n}'>
          <span class='buv-u-visually-hidden'>${n}</span>
          <slot></slot>
      </a>
  `}),{mapStateToProps:(e,t)=>({isTestChain:Fae(e,parseInt(t.index,10)),status:xue(e,t.suiteType)}),ownProps:{suiteType:String,index:String}});window.customElements.define("buv-suite-verification-status",jue);const Que=nce((function({recipientName:e,issuedOn:t,issueDate:r,issuerName:n,issuerProfileDomain:i=[],issuerProfileUrl:o=[],issuerPublicKey:s=[],transactionId:a=[],direction:c,hideRecipientName:u,signatureSuiteType:l=[]}){const A=[];u||A.push({title:xi("text.recipient"),value:e}),A.push({title:xi("text.issueDate"),value:he`<time datetime$='${t}'>${r}</time>`},{title:xi("text.issuerName"),value:n||xi("errors.noIssuerName")});for(let e=0;e<s.length;e++){let t="";s.length>1&&(t=`${Rue(e+1)} `),l[e]&&A.push({title:`${t}${xi("text.signatureSuiteType")}`,value:he`<buv-suite-verification-status suiteType$='${l[e]}' index$='${e}'>
            ${l[e]}
        </buv-suite-verification-status>`}),i[e]&&A.push({title:`${t}${xi("text.issuerProfileDomain")}`,value:he`<a href$='${o[e]}' target="_blank">${i[e]}</a>`}),s[e]&&A.push({title:`${t}${xi("text.issuerPublicKey")}`,value:s[e]}),a[e]&&A.push({title:`${t}${xi("text.transactionId")}`,value:a[e]})}const h="column"===c,f=A.map((e=>function({title:e,value:t,isDisplayColumn:r,renderInline:n=!1}){const i=["buv-c-certificate-details__group",r?"":"buv-c-certificate-details__group--row"].join(" "),o=["buv-c-certificate-details__title",r?"":"buv-o-text-11"].join(" "),s=["buv-c-certificate-details__value",n?"buv-c-certificate-details--inline":""].join(" ");return he`<div class$='${i}'>
    <dt class$='${o}'>${e}</dt>
    <dd class$='${s}'>${t}</dd>
  </div>`}({...e,isDisplayColumn:h}))),d=["buv-c-certificate-details","buv-o-text-13",h?"buv-c-certificate-details--column":""].join(" ");return he`
    ${Fue}
    <dl class$='${d}'>
        ${f}
    </dl>
  `}),{mapStateToProps:e=>({recipientName:Bae(e),issueDate:_ae(e),issuedOn:xae(e),issuerName:Sae(e),transactionId:Lae(e),issuerPublicKey:Qae(e),issuerProfileDomain:Kae(e),issuerProfileUrl:Hae(e),signatureSuiteType:Vae(e)}),ownProps:{direction:String,hideRecipientName:Boolean}});window.customElements.define("buv-certificate-details",Que);var Hue=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate--fixed-width{max-width:460px;min-width:0;margin:0 auto}.buv-c-full-certificate{box-shadow:0 1px 5px rgba(0,0,0,.15);padding:20px;background-color:#fff;display:block;font-family:serif;text-align:center;color:#49555f;font-size:12px;overflow:auto;word-wrap:break-word;height:100vh;max-height:calc(100vh - 150px);line-height:initial}.buv-c-full-certificate section{max-width:100%;padding:0}.buv-c-full-certificate img{max-width:100%;height:auto;width:inherit}@media only screen and (min-width: 640px){.buv-c-full-certificate{font-size:16px}}.buv-c-full-certificate__button{margin-top:15px}.buv-c-full-certificate__details{display:flex;justify-content:space-between;margin-top:15px}.buv-c-full-certificate__details-list{min-width:calc(100% - 190px);width:calc(100% - 105px)}.buv-c-full-certificate .buv-c-full-certificate-img{max-width:125px;max-height:125px}.buv-c-full-certificate__titles::before,.buv-c-full-certificate__titles::after{content:" ";display:block;background-color:#edf1f4;width:30%;text-align:center;margin:20px auto;height:2px}.buv-c-full-certificate__title{font-weight:normal;margin:0}.buv-c-full-certificate__title--name{color:#000;font-size:30px;margin-bottom:10px}.buv-c-full-certificate__title--main{font-size:21px;margin-bottom:10px}.buv-c-full-certificate__title--sub{font-size:16px;font-style:italic}.buv-c-full-certificate__description{margin:0 0 40px;line-height:1.5}.buv-c-full-certificate-signatures{list-style-type:none;display:flex;justify-content:space-around;width:100%;margin:0 0 20px;padding:0}.buv-c-full-certificate-signatures__signature{margin-right:30px;display:flex;flex-direction:column;justify-content:center}.buv-c-full-certificate-signatures__signature:last-child{margin:0}.buv-c-full-certificate-img--secondary{max-width:150px;max-height:150px}</style>`;const Kue=nce((function({hasCertificateDefinition:e,certificateImage:t,certificateTitle:r,certificateSeal:n,certificateSignatures:i,certificateSubtitle:o,certificateDescription:s,recipientName:a,issuerName:c}){if(!e)return null;const u=i.map((e=>he`
    <li class='buv-c-full-certificate-signatures__signature'>
        <img class='buv-c-full-certificate-img--secondary' src='${e.image}' alt='${xi("text.signed")} ${e.jobTitle}'/>
        <span class='buv-o-text-12'>${e.jobTitle}</span>
    </li>
  `));return he`
    ${Hue}
    <section class='buv-c-full-certificate'>
      <img class='buv-c-full-certificate-img' src='${t}' alt='${r}'/>
      <div class='buv-c-full-certificate__titles'>
        <h1 class='buv-c-full-certificate__title  buv-c-full-certificate__title--name'>${a}</h1>
        <h2 class='buv-c-full-certificate__title  buv-c-full-certificate__title--main'>${r}</h2>
        <h3 class='buv-c-full-certificate__title  buv-c-full-certificate__title--sub'>${o}</h3>
      </div>
      <p class='buv-c-full-certificate__description'>${s}</p>
      <ul class='buv-c-full-certificate-signatures'>
        ${u}
      </ul>
      <img class='buv-c-full-certificate-img--secondary' src='${n}' alt='${xi("text.certified")} ${c}'/>
    </section>
  `}),{mapStateToProps:e=>({hasCertificateDefinition:!!bae(e),certificateImage:qae(e),certificateTitle:Eae(e),certificateSubtitle:Gae(e),certificateDescription:Wae(e),certificateSeal:Jae(e),certificateSignatures:$ae(e),recipientName:Bae(e),issuerName:Sae(e)})});function Vue(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function zue(e,t){for(var r=e.length-1;r>=0;r--)!0===t(e[r])&&e.splice(r,1)}function que(e){throw new Error("Unhandled case for value: '".concat(e,"'"))}window.customElements.define("buv-full-certificate-v1",Kue);var Gue=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.whitespaceRegex=/\s+/,this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,r=this.getClass(),n=this.whitespaceRegex,i=r?r.split(n):[],o=e.split(n);t=o.shift();)-1===Vue(i,t)&&i.push(t);return this.getAttrs().class=i.join(" "),this},e.prototype.removeClass=function(e){for(var t,r=this.getClass(),n=this.whitespaceRegex,i=r?r.split(n):[],o=e.split(n);i.length&&(t=o.shift());){var s=Vue(i,t);-1!==s&&i.splice(s,1)}return this.getAttrs().class=i.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+'="'+e[r]+'"');return t.join(" ")},e}();var Wue=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new Gue({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},r=this.createCssClass(e);return r&&(t.class=r),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var r=[t],n=e.getCssClassSuffixes(),i=0,o=n.length;i<o;i++)r.push(t+"-"+n[i]);return r.join(" ")}return""},e.prototype.processAnchorText=function(e){return e=this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var r=t.length,n=t.location;return"smart"===n?function(e,t,r){var n,i;null==r?(r="&hellip;",i=3,n=8):(i=r.length,n=r.length);var o=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},s=function(e,t){var n=t/2,i=Math.ceil(n),o=-1*Math.floor(n),s="";return o<0&&(s=e.substr(o)),e.substr(0,i)+r+s};if(e.length<=t)return e;var a=t-i,c=function(e){var t={},r=e,n=r.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],r=r.substr(n[0].length)),(n=r.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=n[1],r=r.substr(n[0].length)),(n=r.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=n[1],r=r.substr(n[0].length)),(n=r.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=n[1],r=r.substr(n[0].length)),(n=r.match(/^#(.*?)$/i))&&(t.fragment=n[1]),t}(e);if(c.query){var u=c.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);u&&(c.query=c.query.substr(0,u[1].length),e=o(c))}if(e.length<=t)return e;if(c.host&&(c.host=c.host.replace(/^www\./,""),e=o(c)),e.length<=t)return e;var l="";if(c.host&&(l+=c.host),l.length>=a)return c.host.length==t?(c.host.substr(0,t-i)+r).substr(0,a+n):s(l,a).substr(0,a+n);var A="";if(c.path&&(A+="/"+c.path),c.query&&(A+="?"+c.query),A){if((l+A).length>=a)return(l+A).length==t?(l+A).substr(0,t):(l+s(A,a-l.length)).substr(0,a+n);l+=A}if(c.fragment){var h="#"+c.fragment;if((l+h).length>=a)return(l+h).length==t?(l+h).substr(0,t):(l+s(h,a-l.length)).substr(0,a+n);l+=h}if(c.scheme&&c.host){var f=c.scheme+"://";if((l+f).length<a)return(f+l).substr(0,t)}if(l.length<=t)return l;var d="";return a>0&&(d=l.substr(-1*Math.floor(a/2))),(l.substr(0,Math.ceil(a/2))+r+d).substr(0,a+n)}(e,r):"middle"===n?function(e,t,r){if(e.length<=t)return e;var n,i;null==r?(r="&hellip;",n=8,i=3):(n=r.length,i=r.length);var o=t-i,s="";return o>0&&(s=e.substr(-1*Math.floor(o/2))),(e.substr(0,Math.ceil(o/2))+r+s).substr(0,o+n)}(e,r):function(e,t,r){return function(e,t,r){var n;return e.length>t&&(null==r?(r="&hellip;",n=3):n=r.length,e=e.substring(0,t-n)+r),e}(e,t,r)}(e,r)},e}(),$ue=function(){function e(e){this.__jsduckDummyDocProp=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.getType()]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),Jue=function(e,t){return Jue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Jue(e,t)};function Xue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Jue(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Yue,Zue=function(){return Zue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zue.apply(this,arguments)},ele=function(e){function t(t){var r=e.call(this,t)||this;return r.email="",r.email=t.email,r}return Xue(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}($ue),tle=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="",r.hashtag="",r.serviceName=t.serviceName,r.hashtag=t.hashtag,r}return Xue(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;case"tiktok":return"https://www.tiktok.com/tag/"+t;default:throw new Error("Unknown service name to point hashtag to: "+e)}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t}($ue),rle=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="twitter",r.mention="",r.mention=t.mention,r.serviceName=t.serviceName,r}return Xue(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;default:throw new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),r=this.getServiceName();return r&&t.push(r),t},t}($ue),nle=function(e){function t(t){var r=e.call(this,t)||this;return r.number="",r.plusSign=!1,r.number=t.number,r.plusSign=t.plusSign,r}return Xue(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}($ue),ile=function(e){function t(t){var r=e.call(this,t)||this;return r.url="",r.urlMatchType="scheme",r.protocolUrlMatch=!1,r.protocolRelativeMatch=!1,r.stripPrefix={scheme:!0,www:!0},r.stripTrailingSlash=!0,r.decodePercentEncoding=!0,r.schemePrefixRegex=/^(https?:\/\/)?/i,r.wwwPrefixRegex=/^(https?:\/\/)?(www\.)?/i,r.protocolRelativeRegex=/^\/\//,r.protocolPrepended=!1,r.urlMatchType=t.urlMatchType,r.url=t.url,r.protocolUrlMatch=t.protocolUrlMatch,r.protocolRelativeMatch=t.protocolRelativeMatch,r.stripPrefix=t.stripPrefix,r.stripTrailingSlash=t.stripTrailingSlash,r.decodePercentEncoding=t.decodePercentEncoding,r}return Xue(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},t.prototype.stripSchemePrefix=function(e){return e.replace(this.schemePrefixRegex,"")},t.prototype.stripWwwPrefix=function(e){return e.replace(this.wwwPrefixRegex,"$1")},t.prototype.stripProtocolRelativePrefix=function(e){return e.replace(this.protocolRelativeRegex,"")},t.prototype.removeTrailingSlash=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},t.prototype.removePercentEncoding=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}},t}($ue),ole=function(e){this.__jsduckDummyDocProp=null,this.tagBuilder=e.tagBuilder},sle=/[A-Za-z]/,ale=/[\d]/,cle=/[\D]/,ule=/\s/,lle=/['"]/,Ale=/[\x00-\x1F\x7F]/,hle=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,fle=hle+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,dle=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,ple=fle+dle,gle=fle+dle,mle="(?:["+dle+"]{1,3}\\.){3}["+dle+"]{1,3}",yle="["+gle+"](?:["+gle+"\\-]{0,61}["+gle+"])?",vle=function(e){return"(?=("+yle+"))\\"+e},ble=function(e){return"(?:"+vle(e)+"(?:\\."+vle(e+1)+"){0,126}|"+mle+")"},wle=new RegExp("[".concat(gle,"]")),xle=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|verm√∂gensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|verm√∂gensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbaakc7dvf|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|travelchannel|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|‡Æö‡Æø‡Æô‡Øç‡Æï‡Æ™‡Øç‡Æ™‡ØÇ‡Æ∞‡Øç|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|university|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi|ŸÖŸàÿ±Ÿäÿ™ÿßŸÜŸäÿß|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|–∫–∞—Ç–æ–ª–∏–∫|ÿßÿ™ÿµÿßŸÑÿßÿ™|ÿßŸÑÿ®ÿ≠ÿ±ŸäŸÜ|ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±|ÿßŸÑÿπŸÑŸäÿßŸÜ|Ÿæÿß⁄©ÿ≥ÿ™ÿßŸÜ|ŸÉÿßÿ´ŸàŸÑŸäŸÉ|‡Æá‡Æ®‡Øç‡Æ§‡Æø‡ÆØ‡Ææ|abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|yachts|yandex|zappos|–º–æ—Å–∫–≤–∞|–æ–Ω–ª–∞–π–Ω|ÿßÿ®Ÿàÿ∏ÿ®Ÿä|ÿßÿ±ÿßŸÖŸÉŸà|ÿßŸÑÿßÿ±ÿØŸÜ|ÿßŸÑŸÖÿ∫ÿ±ÿ®|ÿßŸÖÿßÿ±ÿßÿ™|ŸÅŸÑÿ≥ÿ∑ŸäŸÜ|ŸÖŸÑŸäÿ≥Ÿäÿß|‡§≠‡§æ‡§∞‡§§‡§Æ‡•ç|‡Æá‡Æ≤‡Æô‡Øç‡Æï‡Øà|„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|◊ô◊©◊®◊ê◊ú|ÿß€åÿ±ÿßŸÜ|ÿ®ÿßÿ≤ÿßÿ±|ÿ®⁄æÿßÿ±ÿ™|ÿ≥ŸàÿØÿßŸÜ|ÿ≥Ÿàÿ±Ÿäÿ©|ŸáŸÖÿ±ÿßŸá|‡§≠‡§æ‡§∞‡•ã‡§§|‡§∏‡§Ç‡§ó‡§†‡§®|‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ|‡∞≠‡∞æ‡∞∞‡∞§‡±ç|‡¥≠‡¥æ‡¥∞‡¥§‡¥Ç|ÂòâÈáåÂ§ßÈÖíÂ∫ó|aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|duck|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|–¥–µ—Ç–∏|—Å–∞–π—Ç|ÿ®ÿßÿ±ÿ™|ÿ®Ÿäÿ™ŸÉ|⁄Äÿßÿ±ÿ™|ÿ™ŸàŸÜÿ≥|ÿ¥ÿ®ŸÉÿ©|ÿπÿ±ÿßŸÇ|ÿπŸÖÿßŸÜ|ŸÖŸàŸÇÿπ|‡§≠‡§æ‡§∞‡§§|‡¶≠‡¶æ‡¶∞‡¶§|‡¶≠‡¶æ‡ß∞‡¶§|‡®≠‡®æ‡®∞‡®§|‡™≠‡™æ‡™∞‡™§|‡¨≠‡¨æ‡¨∞‡¨§|‡≤≠‡≤æ‡≤∞‡≤§|‡∂Ω‡∂Ç‡∂ö‡∑è|„Ç¢„Éû„Çæ„É≥|„Ç∞„Éº„Ç∞„É´|„ÇØ„É©„Ç¶„Éâ|„Éù„Ç§„É≥„Éà|Â§ß‰ºóÊ±ΩËΩ¶|ÁªÑÁªáÊú∫ÊûÑ|ÈõªË®äÁõàÁßë|È¶ôÊ†ºÈáåÊãâ|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|–±–µ–ª|–∫–æ–º|“õ–∞–∑|–º–∫–¥|–º–æ–Ω|–æ—Ä–≥|—Ä—É—Å|—Å—Ä–±|—É–∫—Ä|’∞’°’µ|◊ß◊ï◊ù|ÿπÿ±ÿ®|ŸÇÿ∑ÿ±|ŸÉŸàŸÖ|ŸÖÿµÿ±|‡§ï‡•â‡§Æ|‡§®‡•á‡§ü|‡∏Ñ‡∏≠‡∏°|‡πÑ‡∏ó‡∏¢|‡∫•‡∫≤‡∫ß|„Çπ„Éà„Ç¢|„Çª„Éº„É´|„Åø„Çì„Å™|‰∏≠ÊñáÁΩë|‰∫öÈ©¨ÈÄä|Â§©‰∏ªÊïô|ÊàëÁà±‰Ω†|Êñ∞Âä†Âù°|Ê∑°È©¨Èî°|ËØ∫Âü∫‰∫ö|È£ûÂà©Êµ¶|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ŒµŒª|ŒµœÖ|–±–≥|–µ—é|—Ä—Ñ|·Éí·Éî|Îã∑ÎÑ∑|Îã∑Ïª¥|ÏÇºÏÑ±|ÌïúÍµ≠|„Ç≥„É†|‰∏ñÁïå|‰∏≠‰ø°|‰∏≠ÂõΩ|‰∏≠Âúã|‰ºÅ‰∏ö|‰ΩõÂ±±|‰ø°ÊÅØ|ÂÅ•Â∫∑|ÂÖ´Âç¶|ÂÖ¨Âè∏|ÂÖ¨Áõä|Âè∞Êπæ|Âè∞ÁÅ£|ÂïÜÂüé|ÂïÜÂ∫ó|ÂïÜÊ†á|ÂòâÈáå|Âú®Á∫ø|Â§ßÊãø|Â®±‰πê|ÂÆ∂Èõª|Âπø‰∏ú|ÂæÆÂçö|ÊÖàÂñÑ|ÊâãÊú∫|ÊãõËÅò|ÊîøÂä°|ÊîøÂ∫ú|Êñ∞Èóª|Êó∂Â∞ö|Êõ∏Á±ç|Êú∫ÊûÑ|Ê∏∏Êàè|Êæ≥ÈñÄ|ÁÇπÁúã|ÁßªÂä®|ÁΩëÂùÄ|ÁΩëÂ∫ó|ÁΩëÁ´ô|ÁΩëÁªú|ËÅîÈÄö|Ë∞∑Ê≠å|Ë¥≠Áâ©|ÈÄöË≤©|ÈõÜÂõ¢|È£üÂìÅ|È§êÂéÖ|È¶ôÊ∏Ø)/,_le=new RegExp("[".concat(gle,"!#$%&'*+/=?^_`{|}~-]")),Ble=new RegExp("^".concat(xle.source,"$")),Ele=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.localPartCharRegex=_le,t.strictTldRegex=Ble,t}return Xue(t,e),t.prototype.parseMatches=function(e){for(var t=this.tagBuilder,r=this.localPartCharRegex,n=this.strictTldRegex,i=[],o=e.length,s=new Sle,a={m:"a",a:"i",i:"l",l:"t",t:"o",o:":"},c=0,u=0,l=s;c<o;){var A=e.charAt(c);switch(u){case 0:h(A);break;case 1:f(e.charAt(c-1),A);break;case 2:d(A);break;case 3:p(A);break;case 4:g(A);break;case 5:m(A);break;case 6:y(A);break;case 7:v(A);break;default:que(u)}c++}return x(),i;function h(e){"m"===e?b(1):r.test(e)&&b()}function f(e,t){":"===e?r.test(t)?(u=2,l=new Sle(Zue(Zue({},l),{hasMailtoPrefix:!0}))):w():a[e]===t||(r.test(t)?u=2:"."===t?u=3:"@"===t?u=4:w())}function d(e){"."===e?u=3:"@"===e?u=4:r.test(e)||w()}function p(e){"."===e||"@"===e?w():r.test(e)?u=2:w()}function g(e){wle.test(e)?u=5:w()}function m(e){"."===e?u=7:"-"===e?u=6:wle.test(e)||x()}function y(e){"-"===e||"."===e?x():wle.test(e)?u=5:x()}function v(e){"."===e||"-"===e?x():wle.test(e)?(u=5,l=new Sle(Zue(Zue({},l),{hasDomainDot:!0}))):x()}function b(e){void 0===e&&(e=2),u=e,l=new Sle({idx:c})}function w(){u=0,l=s}function x(){if(l.hasDomainDot){var r=e.slice(l.idx,c);/[-.]$/.test(r)&&(r=r.slice(0,-1));var o=l.hasMailtoPrefix?r.slice("mailto:".length):r;(function(e){var t=(e.split(".").pop()||"").toLowerCase();return n.test(t)})(o)&&i.push(new ele({tagBuilder:t,matchedText:r,offset:l.idx,email:o}))}w()}},t}(ole),Sle=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.hasMailtoPrefix=!!e.hasMailtoPrefix,this.hasDomainDot=!!e.hasDomainDot},Cle=function(){function e(){}return e.isValid=function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},e.isValidIpAddress=function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},e.containsMultipleDots=function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},e.isValidUriScheme=function(e){var t=e.match(this.uriSchemeRegex),r=t&&t[0].toLowerCase();return"javascript:"!==r&&"vbscript:"!==r},e.urlMatchDoesNotHaveProtocolOrDot=function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},e.urlMatchDoesNotHaveAtLeastOneWordChar=function(e,t){return!(!e||!t)&&(!this.hasFullProtocolRegex.test(t)&&!this.hasWordCharAfterProtocolRegex.test(e))},e.hasFullProtocolRegex=/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,e.uriSchemeRegex=/^[A-Za-z][-.+A-Za-z0-9]*:/,e.hasWordCharAfterProtocolRegex=new RegExp(":[^\\s]*?["+hle+"]"),e.ipRegex=/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,e}(),Ile=(Yue=new RegExp("[/?#](?:["+gle+"\\-+&@#/%=~_()|'$*\\[\\]{}?!:,.;^‚úì]*["+gle+"\\-+&@#/%=~_()|'$*\\[\\]{}‚úì])?"),new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,ble(2),")","|","(","(//)?",/(?:www\.)/.source,ble(6),")","|","(","(//)?",ble(10)+"\\.",xle.source,"(?![-"+ple+"])",")",")","(?::[0-9]+)?","(?:"+Yue.source+")?"].join(""),"gi")),kle=new RegExp("["+gle+"]"),Ple=function(e){function t(t){var r=e.call(this,t)||this;return r.stripPrefix={scheme:!0,www:!0},r.stripTrailingSlash=!0,r.decodePercentEncoding=!0,r.matcherRegex=Ile,r.wordCharRegExp=kle,r.stripPrefix=t.stripPrefix,r.stripTrailingSlash=t.stripTrailingSlash,r.decodePercentEncoding=t.decodePercentEncoding,r}return Xue(t,e),t.prototype.parseMatches=function(e){for(var t,r=this.matcherRegex,n=this.stripPrefix,i=this.stripTrailingSlash,o=this.decodePercentEncoding,s=this.tagBuilder,a=[],c=function(){var r=t[0],c=t[1],l=t[4],A=t[5],h=t[9],f=t.index,d=A||h,p=e.charAt(f-1);if(!Cle.isValid(r,c))return"continue";if(f>0&&"@"===p)return"continue";if(f>0&&d&&u.wordCharRegExp.test(p))return"continue";if(/\?$/.test(r)&&(r=r.substr(0,r.length-1)),u.matchHasUnbalancedClosingParen(r))r=r.substr(0,r.length-1);else{var g=u.matchHasInvalidCharAfterTld(r,c);g>-1&&(r=r.substr(0,g))}var m=["http://","https://"].find((function(e){return!!c&&-1!==c.indexOf(e)}));if(m){var y=r.indexOf(m);r=r.substr(y),c=c.substr(y),f+=y}var v=c?"scheme":l?"www":"tld",b=!!c;a.push(new ile({tagBuilder:s,matchedText:r,offset:f,urlMatchType:v,url:r,protocolUrlMatch:b,protocolRelativeMatch:!!d,stripPrefix:n,stripTrailingSlash:i,decodePercentEncoding:o}))},u=this;null!==(t=r.exec(e));)c();return a},t.prototype.matchHasUnbalancedClosingParen=function(e){var t,r=e.charAt(e.length-1);if(")"===r)t="(";else if("]"===r)t="[";else{if("}"!==r)return!1;t="{"}for(var n=0,i=0,o=e.length-1;i<o;i++){var s=e.charAt(i);s===t?n++:s===r&&(n=Math.max(n-1,0))}return 0===n},t.prototype.matchHasInvalidCharAfterTld=function(e,t){if(!e)return-1;var r=0;t&&(r=e.indexOf(":"),e=e.slice(r));var n=new RegExp("^((.?//)?[-."+gle+"]*[-"+gle+"]\\.[-"+gle+"]+)").exec(e);return null===n?-1:(r+=n[1].length,e=e.slice(n[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(e)?r:-1)},t}(ole),Tle=new RegExp("#[_".concat(gle,"]{1,139}(?![_").concat(gle,"])"),"g"),Ole=new RegExp("[^"+gle+"]"),Lle=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="twitter",r.matcherRegex=Tle,r.nonWordCharRegex=Ole,r.serviceName=t.serviceName,r}return Xue(t,e),t.prototype.parseMatches=function(e){for(var t,r=this.matcherRegex,n=this.nonWordCharRegex,i=this.serviceName,o=this.tagBuilder,s=[];null!==(t=r.exec(e));){var a=t.index,c=e.charAt(a-1);if(0===a||n.test(c)){var u=t[0],l=t[0].slice(1);s.push(new tle({tagBuilder:o,matchedText:u,offset:a,serviceName:i,hashtag:l}))}}return s},t}(ole),Nle=new RegExp("".concat(/(?:(?:(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-\040.]?(?:\d[-\040.]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]{1}-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source),"g"),Ule=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.matcherRegex=Nle,t}return Xue(t,e),t.prototype.parseMatches=function(e){for(var t,r=this.matcherRegex,n=this.tagBuilder,i=[];null!==(t=r.exec(e));){var o=t[0],s=o.replace(/[^0-9,;#]/g,""),a=!(!t[1]&&!t[2]),c=0==t.index?"":e.substr(t.index-1,1),u=e.substr(t.index+o.length,1),l=!c.match(/\d/)&&!u.match(/\d/);this.testMatch(t[3])&&this.testMatch(o)&&l&&i.push(new nle({tagBuilder:n,matchedText:o,offset:t.index,number:s,plusSign:a}))}return i},t.prototype.testMatch=function(e){return cle.test(e)},t}(ole),Fle=new RegExp("@[_".concat(gle,"]{1,50}(?![_").concat(gle,"])"),"g"),Mle=new RegExp("@[_.".concat(gle,"]{1,30}(?![_").concat(gle,"])"),"g"),Rle=new RegExp("@[-_.".concat(gle,"]{1,50}(?![-_").concat(gle,"])"),"g"),Dle=new RegExp("@[_.".concat(gle,"]{1,23}[_").concat(gle,"](?![_").concat(gle,"])"),"g"),jle=new RegExp("[^"+gle+"]"),Qle=function(e){function t(t){var r=e.call(this,t)||this;return r.serviceName="twitter",r.matcherRegexes={twitter:Fle,instagram:Mle,soundcloud:Rle,tiktok:Dle},r.nonWordCharRegex=jle,r.serviceName=t.serviceName,r}return Xue(t,e),t.prototype.parseMatches=function(e){var t,r=this.serviceName,n=this.matcherRegexes[this.serviceName],i=this.nonWordCharRegex,o=this.tagBuilder,s=[];if(!n)return s;for(;null!==(t=n.exec(e));){var a=t.index,c=e.charAt(a-1);if(0===a||i.test(c)){var u=t[0].replace(/\.+$/g,""),l=u.slice(1);s.push(new rle({tagBuilder:o,matchedText:u,offset:a,serviceName:r,mention:l}))}}return s},t}(ole);function Hle(e,t){for(var r,n=t.onOpenTag,i=t.onCloseTag,o=t.onText,s=t.onComment,a=t.onDoctype,c=new Kle,u=0,l=e.length,A=0,h=0,f=c;u<l;){var d=e.charAt(u);switch(A){case 0:p(d);break;case 1:g(d);break;case 2:y(d);break;case 3:m(d);break;case 4:v(d);break;case 5:b(d);break;case 6:w(d);break;case 7:x(d);break;case 8:_(d);break;case 9:B(d);break;case 10:E(d);break;case 11:S(d);break;case 12:C(d);break;case 13:I();break;case 14:k(d);break;case 15:P(d);break;case 16:T(d);break;case 17:O(d);break;case 18:L(d);break;case 19:N(d);break;case 20:U(d);break;default:que(A)}u++}function p(e){"<"===e&&M()}function g(e){"!"===e?A=13:"/"===e?(A=2,f=new Kle(Zue(Zue({},f),{isClosing:!0}))):"<"===e?M():sle.test(e)?(A=3,f=new Kle(Zue(Zue({},f),{isOpening:!0}))):(A=0,f=c)}function m(e){ule.test(e)?(f=new Kle(Zue(Zue({},f),{name:D()})),A=4):"<"===e?M():"/"===e?(f=new Kle(Zue(Zue({},f),{name:D()})),A=12):">"===e?(f=new Kle(Zue(Zue({},f),{name:D()})),R()):sle.test(e)||ale.test(e)||":"===e||F()}function y(e){">"===e?F():sle.test(e)?A=3:F()}function v(e){ule.test(e)||("/"===e?A=12:">"===e?R():"<"===e?M():"="===e||lle.test(e)||Ale.test(e)?F():A=5)}function b(e){ule.test(e)?A=6:"/"===e?A=12:"="===e?A=7:">"===e?R():"<"===e?M():lle.test(e)&&F()}function w(e){ule.test(e)||("/"===e?A=12:"="===e?A=7:">"===e?R():"<"===e?M():lle.test(e)?F():A=5)}function x(e){ule.test(e)||('"'===e?A=8:"'"===e?A=9:/[>=`]/.test(e)?F():"<"===e?M():A=10)}function _(e){'"'===e&&(A=11)}function B(e){"'"===e&&(A=11)}function E(e){ule.test(e)?A=4:">"===e?R():"<"===e&&M()}function S(e){ule.test(e)?A=4:"/"===e?A=12:">"===e?R():"<"===e?M():(A=4,u--)}function C(e){">"===e?(f=new Kle(Zue(Zue({},f),{isClosing:!0})),R()):A=4}function I(t){"--"===e.substr(u,2)?(u+=2,f=new Kle(Zue(Zue({},f),{type:"comment"})),A=14):"DOCTYPE"===e.substr(u,7).toUpperCase()?(u+=7,f=new Kle(Zue(Zue({},f),{type:"doctype"})),A=20):F()}function k(e){"-"===e?A=15:">"===e?F():A=16}function P(e){"-"===e?A=18:">"===e?F():A=16}function T(e){"-"===e&&(A=17)}function O(e){A="-"===e?18:16}function L(e){">"===e?R():"!"===e?A=19:"-"===e||(A=16)}function N(e){"-"===e?A=17:">"===e?R():A=16}function U(e){">"===e?R():"<"===e&&M()}function F(){A=0,f=c}function M(){A=1,f=new Kle({idx:u})}function R(){var t=e.slice(h,f.idx);t&&o(t,h),"comment"===f.type?s(f.idx):"doctype"===f.type?a(f.idx):(f.isOpening&&n(f.name,f.idx),f.isClosing&&i(f.name,f.idx)),F(),h=u+1}function D(){var t=f.idx+(f.isClosing?2:1);return e.slice(t,u).toLowerCase()}h<u&&(r=e.slice(h,u),o(r,h),h=u+1)}var Kle=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing},Vle=function(){function e(t){void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.matchers=null,this.tagBuilder=null,this.urls=this.normalizeUrlsCfg(t.urls),this.email="boolean"==typeof t.email?t.email:this.email,this.phone="boolean"==typeof t.phone?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow="boolean"==typeof t.newWindow?t.newWindow:this.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(t.stripPrefix),this.stripTrailingSlash="boolean"==typeof t.stripTrailingSlash?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding="boolean"==typeof t.decodePercentEncoding?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var r=this.mention;if(!1!==r&&-1===["twitter","instagram","soundcloud","tiktok"].indexOf(r))throw new Error("invalid `mention` cfg '".concat(r,"' - see docs"));var n=this.hashtag;if(!1!==n&&-1===["twitter","facebook","instagram","tiktok"].indexOf(n))throw new Error("invalid `hashtag` cfg '".concat(n,"' - see docs"));this.truncate=this.normalizeTruncateCfg(t.truncate),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,r){return new e(r).link(t)},e.parse=function(t,r){return new e(r).parse(t)},e.prototype.normalizeUrlsCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},e.prototype.normalizeStripPrefixCfg=function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},e.prototype.normalizeTruncateCfg=function(e){return"number"==typeof e?{length:e,location:"end"}:function(e,t){for(var r in t)t.hasOwnProperty(r)&&void 0===e[r]&&(e[r]=t[r]);return e}(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},e.prototype.parse=function(e){var t=this,r=["a","style","script"],n=0,i=[];return Hle(e,{onOpenTag:function(e){r.indexOf(e)>=0&&n++},onText:function(e,r){if(0===n){var o=function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var r,n=[],i=0;r=t.exec(e);)n.push(e.substring(i,r.index)),n.push(r[0]),i=r.index+r[0].length;return n.push(e.substring(i)),n}(e,/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),s=r;o.forEach((function(e,r){if(r%2==0){var n=t.parseText(e,s);i.push.apply(i,n)}s+=e.length}))}},onCloseTag:function(e){r.indexOf(e)>=0&&(n=Math.max(n-1,0))},onComment:function(e){},onDoctype:function(e){}}),i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},e.prototype.compactMatches=function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;){var r=e[t],n=r.getOffset(),i=r.getMatchedText().length,o=n+i;if(t+1<e.length){if(e[t+1].getOffset()===n){var s=e[t+1].getMatchedText().length>i?t:t+1;e.splice(s,1);continue}if(e[t+1].getOffset()<o){e.splice(t+1,1);continue}}t++}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||zue(e,(function(e){return"hashtag"===e.getType()})),this.email||zue(e,(function(e){return"email"===e.getType()})),this.phone||zue(e,(function(e){return"phone"===e.getType()})),this.mention||zue(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||zue(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.wwwMatches||zue(e,(function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()})),this.urls.tldMatches||zue(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),e},e.prototype.parseText=function(e,t){void 0===t&&(t=0),t=t||0;for(var r=this.getMatchers(),n=[],i=0,o=r.length;i<o;i++){for(var s=r[i].parseMatches(e),a=0,c=s.length;a<c;a++)s[a].setOffset(t+s[a].getOffset());n.push.apply(n,s)}return n},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),r=[],n=0,i=0,o=t.length;i<o;i++){var s=t[i];r.push(e.substring(n,s.getOffset())),r.push(this.createMatchReturnVal(s)),n=s.getOffset()+s.getMatchedText().length}return r.push(e.substring(n)),r.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof Gue?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getMatchers=function(){if(this.matchers)return this.matchers;var e=this.getTagBuilder(),t=[new Lle({tagBuilder:e,serviceName:this.hashtag}),new Ele({tagBuilder:e}),new Ule({tagBuilder:e}),new Qle({tagBuilder:e,serviceName:this.mention}),new Ple({tagBuilder:e,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=t},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new Wue({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="3.15.0",e.AnchorTagBuilder=Wue,e.HtmlTag=Gue,e.matcher={Email:Ele,Hashtag:Lle,Matcher:ole,Mention:Qle,Phone:Ule,Url:Ple},e.match={Email:ele,Hashtag:tle,Match:$ue,Mention:rle,Phone:nle,Url:ile},e}();function zle(e){return Vle.link(e,{stripPrefix:!1,email:!1,phone:!1})}const qle=nce((function({clickableUrls:e,hasCertificateDefinition:t,displayHTML:r}){return t?he`
    ${Uue}
    ${r?function(e,t){const r=["buv-c-full-certificate","qa-fullscreen-certificate"];ase.certificates.displayHtmlHasNoWidthConstraint(e)&&r.push("buv-c-certificate--fixed-width");const n=t?zle(e):e;return he`<section class$=${r.join(" ")}>${Nue(n)}</section>`}(r,e):he`<buv-full-certificate-v1></buv-full-certificate-v1>`}
    <div class='buv-c-full-certificate__details'>
      <buv-certificate-details class='buv-c-full-certificate__details-list'></buv-certificate-details>
      <buv-final-verification-step class='buv-c-fullscreen-certificate__verification-status' isVisible hideLink standalone>
        <buv-verify-button type='link'>${xi("text.verifyAgain")}</buv-verify-button>
      </buv-final-verification-step>
    </div>
  `:null}),{mapStateToProps:e=>({hasCertificateDefinition:!!bae(e),displayHTML:Iae(e),clickableUrls:xce(e)})});window.customElements.define("buv-full-certificate",qle);var Gle=he`<style>.buv-o-text-11{font-size:11px}.buv-o-text-12{font-size:12px}.buv-o-text-13{font-size:13px}.buv-o-text-15{font-size:15px;line-height:20px}.buv-o-text-bold{font-weight:bold}.buv-c-certificate--fixed-width{max-width:460px;min-width:0;margin:0 auto}.buv-c-fullscreen-certificate{z-index:200;position:fixed;top:0;left:0;background-color:#fff;width:100vw;height:100vh;overflow:auto;box-sizing:border-box}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate{padding-top:170px}}.buv-c-fullscreen-certificate-header{box-shadow:0 1px 5px rgba(0,0,0,.15);width:100%;background-color:#fff}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate-header{position:fixed;top:0;z-index:10}}.buv-c-fullscreen-certificate-header__content{max-width:1440px;margin:0 auto;padding:20px;display:flex;align-items:center;position:relative;box-sizing:border-box}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate-header__content{flex-direction:column;justify-content:left;align-items:unset}}.buv-c-fullscreen-certificate__title{margin:0 30px 0 0}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__title{margin-bottom:10px}}.buv-c-fullscreen-certificate__close{top:27px;right:20px}.buv-c-fullscreen-certificate__content{padding:20px;display:flex;max-width:1440px;margin:20px auto 0}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__content{flex-direction:column-reverse;margin-top:0}}.buv-c-fullscreen-certificate__details{display:flex;flex-grow:1;flex-direction:column;max-width:280px;min-width:220px;margin-right:20px}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__details{max-width:100vw;margin:20px 0 0}}.buv-c-fullscreen-certificate__verification-status{margin-bottom:15px}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__verification-status{position:absolute;top:90px;width:calc(100% - 40px);margin:0}}.buv-c-fullscreen-certificate__details-item{margin-top:5px}.buv-c-fullscreen-certificate__separator{margin-top:30px;padding-top:30px;border-top:1px solid #f1f2f3}.buv-c-fullscreen-certificate__certificate{box-shadow:0 1px 5px rgba(0,0,0,.15);padding:20px;background-color:#fff;font-family:serif;text-align:center;color:#49555f;font-size:12px;word-wrap:break-word;min-height:calc(100vh - 145px);box-sizing:border-box;margin:0 auto;min-width:600px;line-height:initial}@media only screen and (max-width: 750px){.buv-c-fullscreen-certificate__certificate{min-width:unset;width:100%;overflow:auto}}.buv-c-fullscreen-certificate__verify-other{margin-top:20px}</style>`;const Wle=nce((function({clickableUrls:e,hasCertificateDefinition:t,recipientName:r,displayHTML:n,onClose:i,disableDownloadPdf:o}){if(!t)return null;const s=["buv-c-fullscreen-certificate__certificate","qa-fullscreen-certificate"];return n&&ase.certificates.displayHtmlHasNoWidthConstraint(n)&&s.push("buv-c-certificate--fixed-width"),he`
    ${Gle}
    <section class='buv-c-fullscreen-certificate'>
      <header class='buv-c-fullscreen-certificate-header'>
        <div class='buv-c-fullscreen-certificate-header__content'>
          <h1 class='buv-c-fullscreen-certificate__title'>${r}</h1>
          ${Xce({onClick:i,className:"buv-c-fullscreen-certificate__close"})}
        </div>  
      </header>
      <section class='buv-c-fullscreen-certificate__content'>
        <div class='buv-c-fullscreen-certificate__details'>
          <buv-final-verification-step class='buv-c-fullscreen-certificate__verification-status' isVisible hideLink standalone>
            <buv-verify-button type='link'>${xi("text.verifyAgain")}</buv-verify-button>
          </buv-final-verification-step>
          <buv-certificate-details direction='column' hideRecipientName></buv-certificate-details>
          <buv-metadata class='buv-c-fullscreen-certificate__details-item  buv-c-fullscreen-certificate__separator' display='plaintext'></buv-metadata>
          ${o?"":he`<buv-download-pdf-link class='buv-c-fullscreen-certificate__details-item' display='plaintext'></buv-download-pdf-link>`}
          <buv-download-link class='buv-c-fullscreen-certificate__details-item' display='plaintext'></buv-download-link>
          <buv-social-share class='buv-c-fullscreen-certificate__details-item' display='plaintext'></buv-social-share>
          ${Bi({className:"buv-c-fullscreen-certificate__separator",showMotto:!0})}
          <buv-verify-other-certificate class='buv-c-fullscreen-certificate__verify-other'></buv-verify-other-certificate>
        </div>
        <div class$=${s.join(" ")}>
          ${n?function(e,t){const r=t?zle(e):e;return he`${Nue(r)}`}(n,e):he`<buv-full-certificate-v1></buv-full-certificate-v1>`}
        </div>
      </section>
    </section>
  `}),{mapDispatchToProps:{onClose:lue},mapStateToProps:e=>({recipientName:Bae(e),hasCertificateDefinition:!!bae(e),displayHTML:Iae(e),clickableUrls:xce(e),disableDownloadPdf:pce(e)})});window.customElements.define("buv-fullscreen-certificate",Wle);class $le extends me{constructor(){super(),this.hasRenderedOnce=!1}static get properties(){return{onLoad:Function,errorMessage:String,hasCertificate:Boolean,...Oce}}_firstRendered(){this.onLoad(this._props),this.hasRenderedOnce=!0}_propertiesChanged(e,t,r){this._props=e,super._propertiesChanged(e,t,r),t.src!==r.src&&this.hasRenderedOnce&&this.onLoad({src:t.src}),t.explorerAPIs&&!r.explorerAPIs&&this.onLoad({explorerAPIs:t.explorerAPIs})}renderCertificate(e){switch(e.displayMode){case Zae:return he`<buv-full-certificate></buv-full-certificate>`;case"fullscreen":return he`<buv-fullscreen-certificate></buv-fullscreen-certificate>`;default:return he`<buv-card-certificate></buv-card-certificate>`}}_render(e){const t=e.hasCertificate?"buv-c-verifier-body  buv-c-verifier-body--padded":"";return he`
      ${Tue}
      <section class='buv-c-verifier-main'>
        <buv-drag-and-drop>
          <div class='buv-c-verifier-layout'>
            <section class$='${t}'>
              ${yue(e.errorMessage,!0)}
              <buv-certificate-input></buv-certificate-input>
              <buv-action-menu></buv-action-menu>
              ${this.renderCertificate(e)}
              <buv-verification-modal></buv-verification-modal>
            </section>
            <buv-footer interactive></buv-footer>
          </div>
        </buv-drag-and-drop>
      </section>
    `}}function Jle(e){return e.errorMessage}window.customElements.define("buv-raw",$le);const Xle={onLoad:function(e={}){return function(t){const r=function(e){return Object.keys(Oce).reduce(((t,r)=>(e[r]&&(t[r]=e[r]),t)),{})}(e),{src:n,locale:i}=r;t({type:Ue,payload:{options:r}}),ase.certificates.isPathToCertificateValidURI(n)?t(Ice(n)):function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(n)&&t(Cce(JSON.parse(n))),Nce(i)}}},Yle=nce((function(e={}){return he`<buv-raw
          src='${e.src}'
          onLoad='${e.onLoad}'
          errorMessage='${e.errorMessage}'
          hasCertificate='${e.hasCertificate}'
          disableAutoVerify='${e["disable-auto-verify"]}'
          disableVerify='${e["disable-verify"]}'
          allowDownload='${e["allow-download"]}'
          disableDownloadPdf='${e["disable-download-pdf"]}'
          allowSocialShare='${e["allow-social-share"]}'
          displayMode='${e["display-mode"]}'
          showMetadata='${e["show-metadata"]}'
          clickableUrls='${e["clickable-urls"]}'
          theme='${e.theme}'
          locale='${e.locale}'
          explorerAPIs='${e.explorerAPIs}'
          didResolverUrl='${e["did-resolver-url"]}'
        ></buv-raw>`}),{mapDispatchToProps:Xle,mapStateToProps:e=>({errorMessage:Jle(e),hasCertificate:!!bae(e)}),ownProps:{...$le.properties,...Tce}});window.customElements.define("blockcerts-verifier",Yle);var Zle={exports:{}};
/*! @license DOMPurify 2.3.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.8/LICENSE */!function(e,t){e.exports=function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,r){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,r)}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function n(e,i,o){return n=r()?Reflect.construct:function(e,r,n){var i=[null];i.push.apply(i,r);var o=new(Function.bind.apply(e,i));return n&&t(o,n.prototype),o},n.apply(null,arguments)}function i(e){return o(e)||s(e)||a(e)||u()}function o(e){if(Array.isArray(e))return c(e)}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l=Object.hasOwnProperty,A=Object.setPrototypeOf,h=Object.isFrozen,f=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,p=Object.freeze,g=Object.seal,m=Object.create,y="undefined"!=typeof Reflect&&Reflect,v=y.apply,b=y.construct;v||(v=function(e,t,r){return e.apply(t,r)}),p||(p=function(e){return e}),g||(g=function(e){return e}),b||(b=function(e,t){return n(e,i(t))});var w=T(Array.prototype.forEach),x=T(Array.prototype.pop),_=T(Array.prototype.push),B=T(String.prototype.toLowerCase),E=T(String.prototype.match),S=T(String.prototype.replace),C=T(String.prototype.indexOf),I=T(String.prototype.trim),k=T(RegExp.prototype.test),P=O(TypeError);function T(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return v(e,t,n)}}function O(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(e,r)}}function L(e,t){A&&A(e,null);for(var r=t.length;r--;){var n=t[r];if("string"==typeof n){var i=B(n);i!==n&&(h(t)||(t[r]=i),n=i)}e[n]=!0}return e}function N(e){var t,r=m(null);for(t in e)v(l,e,[t])&&(r[t]=e[t]);return r}function U(e,t){for(;null!==e;){var r=d(e,t);if(r){if(r.get)return T(r.get);if("function"==typeof r.value)return T(r.value)}e=f(e)}function n(e){return console.warn("fallback value for",e),null}return n}var F=p(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=p(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=p(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=p(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=p(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Q=p(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=p(["#text"]),K=p(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),V=p(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=p(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q=p(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=g(/<%[\w\W]*|[\w\W]*%>/gm),$=g(/^data-[\-\w.\u00B7-\uFFFF]/),J=g(/^aria-[\-\w]+$/),X=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=g(/^(?:\w+script|data):/i),Z=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ee=g(/^html$/i),te=function(){return"undefined"==typeof window?null:window},re=function(t,r){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function ne(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),r=function(e){return ne(e)};if(r.version="2.3.8",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;var n=t.document,o=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,c=t.Node,u=t.Element,l=t.NodeFilter,A=t.NamedNodeMap,h=void 0===A?t.NamedNodeMap||t.MozNamedAttrMap:A,f=t.HTMLFormElement,d=t.DOMParser,g=t.trustedTypes,m=u.prototype,y=U(m,"cloneNode"),v=U(m,"nextSibling"),b=U(m,"childNodes"),T=U(m,"parentNode");if("function"==typeof a){var O=o.createElement("template");O.content&&O.content.ownerDocument&&(o=O.content.ownerDocument)}var ie=re(g,n),oe=ie?ie.createHTML(""):"",se=o,ae=se.implementation,ce=se.createNodeIterator,ue=se.createDocumentFragment,le=se.getElementsByTagName,Ae=n.importNode,he={};try{he=N(o).documentMode?o.documentMode:{}}catch(e){}var fe={};r.isSupported="function"==typeof T&&ae&&void 0!==ae.createHTMLDocument&&9!==he;var de,pe,ge=G,me=W,ye=$,ve=J,be=Y,we=Z,xe=X,_e=null,Be=L({},[].concat(i(F),i(M),i(R),i(j),i(H))),Ee=null,Se=L({},[].concat(i(K),i(V),i(z),i(q))),Ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ie=null,ke=null,Pe=!0,Te=!0,Oe=!1,Le=!1,Ne=!1,Ue=!1,Fe=!1,Me=!1,Re=!1,De=!1,je=!0,Qe=!0,He=!1,Ke={},Ve=null,ze=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),qe=null,Ge=L({},["audio","video","img","source","image","track"]),We=null,$e=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml",Ze=Ye,et=!1,tt=["application/xhtml+xml","text/html"],rt="text/html",nt=null,it=o.createElement("form"),ot=function(e){return e instanceof RegExp||e instanceof Function},st=function(t){nt&&nt===t||(t&&"object"===e(t)||(t={}),t=N(t),_e="ALLOWED_TAGS"in t?L({},t.ALLOWED_TAGS):Be,Ee="ALLOWED_ATTR"in t?L({},t.ALLOWED_ATTR):Se,We="ADD_URI_SAFE_ATTR"in t?L(N($e),t.ADD_URI_SAFE_ATTR):$e,qe="ADD_DATA_URI_TAGS"in t?L(N(Ge),t.ADD_DATA_URI_TAGS):Ge,Ve="FORBID_CONTENTS"in t?L({},t.FORBID_CONTENTS):ze,Ie="FORBID_TAGS"in t?L({},t.FORBID_TAGS):{},ke="FORBID_ATTR"in t?L({},t.FORBID_ATTR):{},Ke="USE_PROFILES"in t&&t.USE_PROFILES,Pe=!1!==t.ALLOW_ARIA_ATTR,Te=!1!==t.ALLOW_DATA_ATTR,Oe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=t.SAFE_FOR_TEMPLATES||!1,Ne=t.WHOLE_DOCUMENT||!1,Me=t.RETURN_DOM||!1,Re=t.RETURN_DOM_FRAGMENT||!1,De=t.RETURN_TRUSTED_TYPE||!1,Fe=t.FORCE_BODY||!1,je=!1!==t.SANITIZE_DOM,Qe=!1!==t.KEEP_CONTENT,He=t.IN_PLACE||!1,xe=t.ALLOWED_URI_REGEXP||xe,Ze=t.NAMESPACE||Ye,t.CUSTOM_ELEMENT_HANDLING&&ot(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ot(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de=de=-1===tt.indexOf(t.PARSER_MEDIA_TYPE)?rt:t.PARSER_MEDIA_TYPE,pe="application/xhtml+xml"===de?function(e){return e}:B,Le&&(Te=!1),Re&&(Me=!0),Ke&&(_e=L({},i(H)),Ee=[],!0===Ke.html&&(L(_e,F),L(Ee,K)),!0===Ke.svg&&(L(_e,M),L(Ee,V),L(Ee,q)),!0===Ke.svgFilters&&(L(_e,R),L(Ee,V),L(Ee,q)),!0===Ke.mathMl&&(L(_e,j),L(Ee,z),L(Ee,q))),t.ADD_TAGS&&(_e===Be&&(_e=N(_e)),L(_e,t.ADD_TAGS)),t.ADD_ATTR&&(Ee===Se&&(Ee=N(Ee)),L(Ee,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&L(We,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(Ve===ze&&(Ve=N(Ve)),L(Ve,t.FORBID_CONTENTS)),Qe&&(_e["#text"]=!0),Ne&&L(_e,["html","head","body"]),_e.table&&(L(_e,["tbody"]),delete Ie.tbody),p&&p(t),nt=t)},at=L({},["mi","mo","mn","ms","mtext"]),ct=L({},["foreignobject","desc","title","annotation-xml"]),ut=L({},["title","style","font","a","script"]),lt=L({},M);L(lt,R),L(lt,D);var At=L({},j);L(At,Q);var ht=function(e){var t=T(e);t&&t.tagName||(t={namespaceURI:Ye,tagName:"template"});var r=B(e.tagName),n=B(t.tagName);return e.namespaceURI===Xe?t.namespaceURI===Ye?"svg"===r:t.namespaceURI===Je?"svg"===r&&("annotation-xml"===n||at[n]):Boolean(lt[r]):e.namespaceURI===Je?t.namespaceURI===Ye?"math"===r:t.namespaceURI===Xe?"math"===r&&ct[n]:Boolean(At[r]):e.namespaceURI===Ye&&!(t.namespaceURI===Xe&&!ct[n])&&!(t.namespaceURI===Je&&!at[n])&&!At[r]&&(ut[r]||!lt[r])},ft=function(e){_(r.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},dt=function(e,t){try{_(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ee[e])if(Me||Re)try{ft(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},pt=function(e){var t,r;if(Fe)e="<remove></remove>"+e;else{var n=E(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===de&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ie?ie.createHTML(e):e;if(Ze===Ye)try{t=(new d).parseFromString(i,de)}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=et?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&r&&s.insertBefore(o.createTextNode(r),s.childNodes[0]||null),Ze===Ye?le.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:s},gt=function(e){return ce.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},mt=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},vt=function(e,t,n){fe[e]&&w(fe[e],(function(e){e.call(r,t,n,nt)}))},bt=function(e){var t;if(vt("beforeSanitizeElements",e,null),mt(e))return ft(e),!0;if(k(/[\u0080-\uFFFF]/,e.nodeName))return ft(e),!0;var n=pe(e.nodeName);if(vt("uponSanitizeElement",e,{tagName:n,allowedTags:_e}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&k(/<[/\w]/g,e.innerHTML)&&k(/<[/\w]/g,e.textContent))return ft(e),!0;if("select"===n&&k(/<template/i,e.innerHTML))return ft(e),!0;if(!_e[n]||Ie[n]){if(!Ie[n]&&xt(n)){if(Ce.tagNameCheck instanceof RegExp&&k(Ce.tagNameCheck,n))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))return!1}if(Qe&&!Ve[n]){var i=T(e)||e.parentNode,o=b(e)||e.childNodes;if(o&&i)for(var s=o.length-1;s>=0;--s)i.insertBefore(y(o[s],!0),v(e))}return ft(e),!0}return e instanceof u&&!ht(e)?(ft(e),!0):"noscript"!==n&&"noembed"!==n||!k(/<\/no(script|embed)/i,e.innerHTML)?(Le&&3===e.nodeType&&(t=e.textContent,t=S(t,ge," "),t=S(t,me," "),e.textContent!==t&&(_(r.removed,{element:e.cloneNode()}),e.textContent=t)),vt("afterSanitizeElements",e,null),!1):(ft(e),!0)},wt=function(e,t,r){if(je&&("id"===t||"name"===t)&&(r in o||r in it))return!1;if(Te&&!ke[t]&&k(ye,t));else if(Pe&&k(ve,t));else if(!Ee[t]||ke[t]){if(!(xt(e)&&(Ce.tagNameCheck instanceof RegExp&&k(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&k(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&k(Ce.tagNameCheck,r)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r))))return!1}else if(We[t]);else if(k(xe,S(r,we,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==C(r,"data:")||!qe[e])if(Oe&&!k(be,S(r,we,"")));else if(r)return!1;return!0},xt=function(e){return e.indexOf("-")>0},_t=function(e){var t,n,i,o;vt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ee};for(o=s.length;o--;){var c=t=s[o],u=c.name,l=c.namespaceURI;if(n="value"===u?t.value:I(t.value),i=pe(u),a.attrName=i,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,vt("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr&&(dt(u,e),a.keepAttr))if(k(/\/>/i,n))dt(u,e);else{Le&&(n=S(n,ge," "),n=S(n,me," "));var A=pe(e.nodeName);if(wt(A,i,n))try{l?e.setAttributeNS(l,u,n):e.setAttribute(u,n),x(r.removed)}catch(e){}}}vt("afterSanitizeAttributes",e,null)}},Bt=function e(t){var r,n=gt(t);for(vt("beforeSanitizeShadowDOM",t,null);r=n.nextNode();)vt("uponSanitizeShadowNode",r,null),bt(r)||(r.content instanceof s&&e(r.content),_t(r));vt("afterSanitizeShadowDOM",t,null)};return r.sanitize=function(i,o){var a,u,l,A,h;if((et=!i)&&(i="\x3c!--\x3e"),"string"!=typeof i&&!yt(i)){if("function"!=typeof i.toString)throw P("toString is not a function");if("string"!=typeof(i=i.toString()))throw P("dirty is not a string, aborting")}if(!r.isSupported){if("object"===e(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof i)return t.toStaticHTML(i);if(yt(i))return t.toStaticHTML(i.outerHTML)}return i}if(Ue||st(o),r.removed=[],"string"==typeof i&&(He=!1),He){if(i.nodeName){var f=pe(i.nodeName);if(!_e[f]||Ie[f])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof c)1===(u=(a=pt("\x3c!----\x3e")).ownerDocument.importNode(i,!0)).nodeType&&"BODY"===u.nodeName||"HTML"===u.nodeName?a=u:a.appendChild(u);else{if(!Me&&!Le&&!Ne&&-1===i.indexOf("<"))return ie&&De?ie.createHTML(i):i;if(!(a=pt(i)))return Me?null:De?oe:""}a&&Fe&&ft(a.firstChild);for(var d=gt(He?i:a);l=d.nextNode();)3===l.nodeType&&l===A||bt(l)||(l.content instanceof s&&Bt(l.content),_t(l),A=l);if(A=null,He)return i;if(Me){if(Re)for(h=ue.call(a.ownerDocument);a.firstChild;)h.appendChild(a.firstChild);else h=a;return Ee.shadowroot&&(h=Ae.call(n,h,!0)),h}var p=Ne?a.outerHTML:a.innerHTML;return Ne&&_e["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&k(ee,a.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+p),Le&&(p=S(p,ge," "),p=S(p,me," ")),ie&&De?ie.createHTML(p):p},r.setConfig=function(e){st(e),Ue=!0},r.clearConfig=function(){nt=null,Ue=!1},r.isValidAttribute=function(e,t,r){nt||st({});var n=pe(e),i=pe(t);return wt(n,i,r)},r.addHook=function(e,t){"function"==typeof t&&(fe[e]=fe[e]||[],_(fe[e],t))},r.removeHook=function(e){if(fe[e])return x(fe[e])},r.removeHooks=function(e){fe[e]&&(fe[e]=[])},r.removeAllHooks=function(){fe={}},r}return ne()}()}(Zle);var eAe=e({__proto__:null,default:Zle.exports},[Zle.exports]),tAe=function(e){return e&&e.Math==Math&&e},rAe=tAe("object"==typeof globalThis&&globalThis)||tAe("object"==typeof window&&window)||tAe("object"==typeof self&&self)||tAe("object"==typeof et&&et)||function(){return this}()||Function("return this")(),nAe={},iAe=function(e){try{return!!e()}catch(e){return!0}},oAe=!iAe((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),sAe=!iAe((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),aAe=sAe,cAe=Function.prototype.call,uAe=aAe?cAe.bind(cAe):function(){return cAe.apply(cAe,arguments)},lAe={},AAe={}.propertyIsEnumerable,hAe=Object.getOwnPropertyDescriptor,fAe=hAe&&!AAe.call({1:2},1);lAe.f=fAe?function(e){var t=hAe(this,e);return!!t&&t.enumerable}:AAe;var dAe,pAe,gAe=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},mAe=sAe,yAe=Function.prototype,vAe=yAe.bind,bAe=yAe.call,wAe=mAe&&vAe.bind(bAe,bAe),xAe=mAe?function(e){return e&&wAe(e)}:function(e){return e&&function(){return bAe.apply(e,arguments)}},_Ae=xAe,BAe=_Ae({}.toString),EAe=_Ae("".slice),SAe=function(e){return EAe(BAe(e),8,-1)},CAe=iAe,IAe=SAe,kAe=Object,PAe=xAe("".split),TAe=CAe((function(){return!kAe("z").propertyIsEnumerable(0)}))?function(e){return"String"==IAe(e)?PAe(e,""):kAe(e)}:kAe,OAe=TypeError,LAe=function(e){if(null==e)throw OAe("Can't call method on "+e);return e},NAe=TAe,UAe=LAe,FAe=function(e){return NAe(UAe(e))},MAe=function(e){return"function"==typeof e},RAe=MAe,DAe=function(e){return"object"==typeof e?null!==e:RAe(e)},jAe=rAe,QAe=MAe,HAe=function(e){return QAe(e)?e:void 0},KAe=function(e,t){return arguments.length<2?HAe(jAe[e]):jAe[e]&&jAe[e][t]},VAe=xAe({}.isPrototypeOf),zAe=KAe("navigator","userAgent")||"",qAe=rAe,GAe=zAe,WAe=qAe.process,$Ae=qAe.Deno,JAe=WAe&&WAe.versions||$Ae&&$Ae.version,XAe=JAe&&JAe.v8;XAe&&(pAe=(dAe=XAe.split("."))[0]>0&&dAe[0]<4?1:+(dAe[0]+dAe[1])),!pAe&&GAe&&(!(dAe=GAe.match(/Edge\/(\d+)/))||dAe[1]>=74)&&(dAe=GAe.match(/Chrome\/(\d+)/))&&(pAe=+dAe[1]);var YAe=pAe,ZAe=YAe,ehe=iAe,the=!!Object.getOwnPropertySymbols&&!ehe((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ZAe&&ZAe<41})),rhe=the&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,nhe=KAe,ihe=MAe,ohe=VAe,she=Object,ahe=rhe?function(e){return"symbol"==typeof e}:function(e){var t=nhe("Symbol");return ihe(t)&&ohe(t.prototype,she(e))},che=String,uhe=function(e){try{return che(e)}catch(e){return"Object"}},lhe=MAe,Ahe=uhe,hhe=TypeError,fhe=function(e){if(lhe(e))return e;throw hhe(Ahe(e)+" is not a function")},dhe=fhe,phe=function(e,t){var r=e[t];return null==r?void 0:dhe(r)},ghe=uAe,mhe=MAe,yhe=DAe,vhe=TypeError,bhe={exports:{}},whe=rAe,xhe=Object.defineProperty,_he=function(e,t){try{xhe(whe,e,{value:t,configurable:!0,writable:!0})}catch(r){whe[e]=t}return t},Bhe=_he,Ehe="__core-js_shared__",She=rAe[Ehe]||Bhe(Ehe,{}),Che=She;(bhe.exports=function(e,t){return Che[e]||(Che[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.0",mode:"global",copyright:"¬© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ihe=LAe,khe=Object,Phe=function(e){return khe(Ihe(e))},The=Phe,Ohe=xAe({}.hasOwnProperty),Lhe=Object.hasOwn||function(e,t){return Ohe(The(e),t)},Nhe=xAe,Uhe=0,Fhe=Math.random(),Mhe=Nhe(1..toString),Rhe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Mhe(++Uhe+Fhe,36)},Dhe=rAe,jhe=bhe.exports,Qhe=Lhe,Hhe=Rhe,Khe=the,Vhe=rhe,zhe=jhe("wks"),qhe=Dhe.Symbol,Ghe=qhe&&qhe.for,Whe=Vhe?qhe:qhe&&qhe.withoutSetter||Hhe,$he=function(e){if(!Qhe(zhe,e)||!Khe&&"string"!=typeof zhe[e]){var t="Symbol."+e;Khe&&Qhe(qhe,e)?zhe[e]=qhe[e]:zhe[e]=Vhe&&Ghe?Ghe(t):Whe(t)}return zhe[e]},Jhe=uAe,Xhe=DAe,Yhe=ahe,Zhe=phe,efe=function(e,t){var r,n;if("string"===t&&mhe(r=e.toString)&&!yhe(n=ghe(r,e)))return n;if(mhe(r=e.valueOf)&&!yhe(n=ghe(r,e)))return n;if("string"!==t&&mhe(r=e.toString)&&!yhe(n=ghe(r,e)))return n;throw vhe("Can't convert object to primitive value")},tfe=TypeError,rfe=$he("toPrimitive"),nfe=function(e,t){if(!Xhe(e)||Yhe(e))return e;var r,n=Zhe(e,rfe);if(n){if(void 0===t&&(t="default"),r=Jhe(n,e,t),!Xhe(r)||Yhe(r))return r;throw tfe("Can't convert object to primitive value")}return void 0===t&&(t="number"),efe(e,t)},ife=ahe,ofe=function(e){var t=nfe(e,"string");return ife(t)?t:t+""},sfe=DAe,afe=rAe.document,cfe=sfe(afe)&&sfe(afe.createElement),ufe=function(e){return cfe?afe.createElement(e):{}},lfe=ufe,Afe=!oAe&&!iAe((function(){return 7!=Object.defineProperty(lfe("div"),"a",{get:function(){return 7}}).a})),hfe=oAe,ffe=uAe,dfe=lAe,pfe=gAe,gfe=FAe,mfe=ofe,yfe=Lhe,vfe=Afe,bfe=Object.getOwnPropertyDescriptor;nAe.f=hfe?bfe:function(e,t){if(e=gfe(e),t=mfe(t),vfe)try{return bfe(e,t)}catch(e){}if(yfe(e,t))return pfe(!ffe(dfe.f,e,t),e[t])};var wfe={},xfe=oAe&&iAe((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),_fe=DAe,Bfe=String,Efe=TypeError,Sfe=function(e){if(_fe(e))return e;throw Efe(Bfe(e)+" is not an object")},Cfe=oAe,Ife=Afe,kfe=xfe,Pfe=Sfe,Tfe=ofe,Ofe=TypeError,Lfe=Object.defineProperty,Nfe=Object.getOwnPropertyDescriptor,Ufe="enumerable",Ffe="configurable",Mfe="writable";wfe.f=Cfe?kfe?function(e,t,r){if(Pfe(e),t=Tfe(t),Pfe(r),"function"==typeof e&&"prototype"===t&&"value"in r&&Mfe in r&&!r.writable){var n=Nfe(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:Ffe in r?r.configurable:n.configurable,enumerable:Ufe in r?r.enumerable:n.enumerable,writable:!1})}return Lfe(e,t,r)}:Lfe:function(e,t,r){if(Pfe(e),t=Tfe(t),Pfe(r),Ife)try{return Lfe(e,t,r)}catch(e){}if("get"in r||"set"in r)throw Ofe("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var Rfe=wfe,Dfe=gAe,jfe=oAe?function(e,t,r){return Rfe.f(e,t,Dfe(1,r))}:function(e,t,r){return e[t]=r,e},Qfe={exports:{}},Hfe=oAe,Kfe=Lhe,Vfe=Function.prototype,zfe=Hfe&&Object.getOwnPropertyDescriptor,qfe=Kfe(Vfe,"name"),Gfe={EXISTS:qfe,PROPER:qfe&&"something"===function(){}.name,CONFIGURABLE:qfe&&(!Hfe||Hfe&&zfe(Vfe,"name").configurable)},Wfe=MAe,$fe=She,Jfe=xAe(Function.toString);Wfe($fe.inspectSource)||($fe.inspectSource=function(e){return Jfe(e)});var Xfe,Yfe,Zfe,ede=$fe.inspectSource,tde=MAe,rde=ede,nde=rAe.WeakMap,ide=tde(nde)&&/native code/.test(rde(nde)),ode=bhe.exports,sde=Rhe,ade=ode("keys"),cde=function(e){return ade[e]||(ade[e]=sde(e))},ude={},lde=ide,Ade=rAe,hde=xAe,fde=DAe,dde=jfe,pde=Lhe,gde=She,mde=cde,yde=ude,vde="Object already initialized",bde=Ade.TypeError,wde=Ade.WeakMap;if(lde||gde.state){var xde=gde.state||(gde.state=new wde),_de=hde(xde.get),Bde=hde(xde.has),Ede=hde(xde.set);Xfe=function(e,t){if(Bde(xde,e))throw new bde(vde);return t.facade=e,Ede(xde,e,t),t},Yfe=function(e){return _de(xde,e)||{}},Zfe=function(e){return Bde(xde,e)}}else{var Sde=mde("state");yde[Sde]=!0,Xfe=function(e,t){if(pde(e,Sde))throw new bde(vde);return t.facade=e,dde(e,Sde,t),t},Yfe=function(e){return pde(e,Sde)?e[Sde]:{}},Zfe=function(e){return pde(e,Sde)}}var Cde={set:Xfe,get:Yfe,has:Zfe,enforce:function(e){return Zfe(e)?Yfe(e):Xfe(e,{})},getterFor:function(e){return function(t){var r;if(!fde(t)||(r=Yfe(t)).type!==e)throw bde("Incompatible receiver, "+e+" required");return r}}},Ide=iAe,kde=MAe,Pde=Lhe,Tde=oAe,Ode=Gfe.CONFIGURABLE,Lde=ede,Nde=Cde.enforce,Ude=Cde.get,Fde=Object.defineProperty,Mde=Tde&&!Ide((function(){return 8!==Fde((function(){}),"length",{value:8}).length})),Rde=String(String).split("String"),Dde=Qfe.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Pde(e,"name")||Ode&&e.name!==t)&&Fde(e,"name",{value:t,configurable:!0}),Mde&&r&&Pde(r,"arity")&&e.length!==r.arity&&Fde(e,"length",{value:r.arity});try{r&&Pde(r,"constructor")&&r.constructor?Tde&&Fde(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=Nde(e);return Pde(n,"source")||(n.source=Rde.join("string"==typeof t?t:"")),e};Function.prototype.toString=Dde((function(){return kde(this)&&Ude(this).source||Lde(this)}),"toString");var jde=MAe,Qde=wfe,Hde=Qfe.exports,Kde=_he,Vde=function(e,t,r,n){n||(n={});var i=n.enumerable,o=void 0!==n.name?n.name:t;return jde(r)&&Hde(r,o,n),n.global?i?e[t]=r:Kde(t,r):(n.unsafe?e[t]&&(i=!0):delete e[t],i?e[t]=r:Qde.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})),e},zde={},qde=Math.ceil,Gde=Math.floor,Wde=Math.trunc||function(e){var t=+e;return(t>0?Gde:qde)(t)},$de=Wde,Jde=function(e){var t=+e;return t!=t||0===t?0:$de(t)},Xde=Jde,Yde=Math.max,Zde=Math.min,epe=function(e,t){var r=Xde(e);return r<0?Yde(r+t,0):Zde(r,t)},tpe=Jde,rpe=Math.min,npe=function(e){return e>0?rpe(tpe(e),9007199254740991):0},ipe=npe,ope=function(e){return ipe(e.length)},spe=FAe,ape=epe,cpe=ope,upe=function(e){return function(t,r,n){var i,o=spe(t),s=cpe(o),a=ape(n,s);if(e&&r!=r){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===r)return e||a||0;return!e&&-1}},lpe={includes:upe(!0),indexOf:upe(!1)},Ape=Lhe,hpe=FAe,fpe=lpe.indexOf,dpe=ude,ppe=xAe([].push),gpe=function(e,t){var r,n=hpe(e),i=0,o=[];for(r in n)!Ape(dpe,r)&&Ape(n,r)&&ppe(o,r);for(;t.length>i;)Ape(n,r=t[i++])&&(~fpe(o,r)||ppe(o,r));return o},mpe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ype=gpe,vpe=mpe.concat("length","prototype");zde.f=Object.getOwnPropertyNames||function(e){return ype(e,vpe)};var bpe={};bpe.f=Object.getOwnPropertySymbols;var wpe=KAe,xpe=zde,_pe=bpe,Bpe=Sfe,Epe=xAe([].concat),Spe=wpe("Reflect","ownKeys")||function(e){var t=xpe.f(Bpe(e)),r=_pe.f;return r?Epe(t,r(e)):t},Cpe=Lhe,Ipe=Spe,kpe=nAe,Ppe=wfe,Tpe=iAe,Ope=MAe,Lpe=/#|\.prototype\./,Npe=function(e,t){var r=Fpe[Upe(e)];return r==Rpe||r!=Mpe&&(Ope(t)?Tpe(t):!!t)},Upe=Npe.normalize=function(e){return String(e).replace(Lpe,".").toLowerCase()},Fpe=Npe.data={},Mpe=Npe.NATIVE="N",Rpe=Npe.POLYFILL="P",Dpe=Npe,jpe=rAe,Qpe=nAe.f,Hpe=jfe,Kpe=Vde,Vpe=_he,zpe=function(e,t,r){for(var n=Ipe(t),i=Ppe.f,o=kpe.f,s=0;s<n.length;s++){var a=n[s];Cpe(e,a)||r&&Cpe(r,a)||i(e,a,o(t,a))}},qpe=Dpe,Gpe=function(e,t){var r,n,i,o,s,a=e.target,c=e.global,u=e.stat;if(r=c?jpe:u?jpe[a]||Vpe(a,{}):(jpe[a]||{}).prototype)for(n in t){if(o=t[n],i=e.dontCallGetSet?(s=Qpe(r,n))&&s.value:r[n],!qpe(c?n:a+(u?".":"#")+n,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;zpe(o,i)}(e.sham||i&&i.sham)&&Hpe(o,"sham",!0),Kpe(r,n,o,e)}},Wpe="process"==SAe(rAe.process),$pe=MAe,Jpe=String,Xpe=TypeError,Ype=xAe,Zpe=Sfe,ege=function(e){if("object"==typeof e||$pe(e))return e;throw Xpe("Can't set "+Jpe(e)+" as a prototype")},tge=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Ype(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Zpe(r),ege(n),t?e(r,n):r.__proto__=n,r}}():void 0),rge=wfe.f,nge=Lhe,ige=$he("toStringTag"),oge=function(e,t,r){e&&!r&&(e=e.prototype),e&&!nge(e,ige)&&rge(e,ige,{configurable:!0,value:t})},sge=KAe,age=wfe,cge=oAe,uge=$he("species"),lge=VAe,Age=TypeError,hge={};hge[$he("toStringTag")]="z";var fge="[object z]"===String(hge),dge=MAe,pge=SAe,gge=$he("toStringTag"),mge=Object,yge="Arguments"==pge(function(){return arguments}()),vge=fge?pge:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=mge(e),gge))?r:yge?pge(t):"Object"==(n=pge(t))&&dge(t.callee)?"Arguments":n},bge=xAe,wge=iAe,xge=MAe,_ge=vge,Bge=ede,Ege=function(){},Sge=[],Cge=KAe("Reflect","construct"),Ige=/^\s*(?:class|function)\b/,kge=bge(Ige.exec),Pge=!Ige.exec(Ege),Tge=function(e){if(!xge(e))return!1;try{return Cge(Ege,Sge,e),!0}catch(e){return!1}},Oge=function(e){if(!xge(e))return!1;switch(_ge(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Pge||!!kge(Ige,Bge(e))}catch(e){return!0}};Oge.sham=!0;var Lge,Nge,Uge,Fge,Mge=!Cge||wge((function(){var e;return Tge(Tge.call)||!Tge(Object)||!Tge((function(){e=!0}))||e}))?Oge:Tge,Rge=Mge,Dge=uhe,jge=TypeError,Qge=Sfe,Hge=function(e){if(Rge(e))return e;throw jge(Dge(e)+" is not a constructor")},Kge=$he("species"),Vge=function(e,t){var r,n=Qge(e).constructor;return void 0===n||null==(r=Qge(n)[Kge])?t:Hge(r)},zge=sAe,qge=Function.prototype,Gge=qge.apply,Wge=qge.call,$ge="object"==typeof Reflect&&Reflect.apply||(zge?Wge.bind(Gge):function(){return Wge.apply(Gge,arguments)}),Jge=fhe,Xge=sAe,Yge=xAe(xAe.bind),Zge=function(e,t){return Jge(e),void 0===t?e:Xge?Yge(e,t):function(){return e.apply(t,arguments)}},eme=KAe("document","documentElement"),tme=xAe([].slice),rme=TypeError,nme=/(?:ipad|iphone|ipod).*applewebkit/i.test(zAe),ime=rAe,ome=$ge,sme=Zge,ame=MAe,cme=Lhe,ume=iAe,lme=eme,Ame=tme,hme=ufe,fme=function(e,t){if(e<t)throw rme("Not enough arguments");return e},dme=nme,pme=Wpe,gme=ime.setImmediate,mme=ime.clearImmediate,yme=ime.process,vme=ime.Dispatch,bme=ime.Function,wme=ime.MessageChannel,xme=ime.String,_me=0,Bme={},Eme="onreadystatechange";try{Lge=ime.location}catch(e){}var Sme=function(e){if(cme(Bme,e)){var t=Bme[e];delete Bme[e],t()}},Cme=function(e){return function(){Sme(e)}},Ime=function(e){Sme(e.data)},kme=function(e){ime.postMessage(xme(e),Lge.protocol+"//"+Lge.host)};gme&&mme||(gme=function(e){fme(arguments.length,1);var t=ame(e)?e:bme(e),r=Ame(arguments,1);return Bme[++_me]=function(){ome(t,void 0,r)},Nge(_me),_me},mme=function(e){delete Bme[e]},pme?Nge=function(e){yme.nextTick(Cme(e))}:vme&&vme.now?Nge=function(e){vme.now(Cme(e))}:wme&&!dme?(Fge=(Uge=new wme).port2,Uge.port1.onmessage=Ime,Nge=sme(Fge.postMessage,Fge)):ime.addEventListener&&ame(ime.postMessage)&&!ime.importScripts&&Lge&&"file:"!==Lge.protocol&&!ume(kme)?(Nge=kme,ime.addEventListener("message",Ime,!1)):Nge=Eme in hme("script")?function(e){lme.appendChild(hme("script")).onreadystatechange=function(){lme.removeChild(this),Sme(e)}}:function(e){setTimeout(Cme(e),0)});var Pme,Tme,Ome,Lme,Nme,Ume,Fme,Mme,Rme={set:gme,clear:mme},Dme=rAe,jme=/ipad|iphone|ipod/i.test(zAe)&&void 0!==Dme.Pebble,Qme=/web0s(?!.*chrome)/i.test(zAe),Hme=rAe,Kme=Zge,Vme=nAe.f,zme=Rme.set,qme=nme,Gme=jme,Wme=Qme,$me=Wpe,Jme=Hme.MutationObserver||Hme.WebKitMutationObserver,Xme=Hme.document,Yme=Hme.process,Zme=Hme.Promise,eye=Vme(Hme,"queueMicrotask"),tye=eye&&eye.value;tye||(Pme=function(){var e,t;for($me&&(e=Yme.domain)&&e.exit();Tme;){t=Tme.fn,Tme=Tme.next;try{t()}catch(e){throw Tme?Lme():Ome=void 0,e}}Ome=void 0,e&&e.enter()},qme||$me||Wme||!Jme||!Xme?!Gme&&Zme&&Zme.resolve?((Fme=Zme.resolve(void 0)).constructor=Zme,Mme=Kme(Fme.then,Fme),Lme=function(){Mme(Pme)}):$me?Lme=function(){Yme.nextTick(Pme)}:(zme=Kme(zme,Hme),Lme=function(){zme(Pme)}):(Nme=!0,Ume=Xme.createTextNode(""),new Jme(Pme).observe(Ume,{characterData:!0}),Lme=function(){Ume.data=Nme=!Nme}));var rye=tye||function(e){var t={fn:e,next:void 0};Ome&&(Ome.next=t),Tme||(Tme=t,Lme()),Ome=t},nye=rAe,iye=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},oye=function(){this.head=null,this.tail=null};oye.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var sye=oye,aye=rAe.Promise,cye="object"==typeof window&&"object"!=typeof Deno,uye=rAe,lye=aye,Aye=MAe,hye=Dpe,fye=ede,dye=$he,pye=cye,gye=YAe;lye&&lye.prototype;var mye=dye("species"),yye=!1,vye=Aye(uye.PromiseRejectionEvent),bye=hye("Promise",(function(){var e=fye(lye),t=e!==String(lye);if(!t&&66===gye)return!0;if(gye>=51&&/native code/.test(e))return!1;var r=new lye((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(r.constructor={})[mye]=n,!(yye=r.then((function(){}))instanceof n)||!t&&pye&&!vye})),wye={CONSTRUCTOR:bye,REJECTION_EVENT:vye,SUBCLASSING:yye},xye={},_ye=fhe,Bye=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=_ye(t),this.reject=_ye(r)};xye.f=function(e){return new Bye(e)};var Eye,Sye,Cye,Iye=Gpe,kye=Wpe,Pye=rAe,Tye=uAe,Oye=Vde,Lye=tge,Nye=oge,Uye=function(e){var t=sge(e),r=age.f;cge&&t&&!t[uge]&&r(t,uge,{configurable:!0,get:function(){return this}})},Fye=fhe,Mye=MAe,Rye=DAe,Dye=function(e,t){if(lge(t,e))return e;throw Age("Incorrect invocation")},jye=Vge,Qye=Rme.set,Hye=rye,Kye=function(e,t){var r=nye.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))},Vye=iye,zye=sye,qye=Cde,Gye=aye,Wye=xye,$ye="Promise",Jye=wye.CONSTRUCTOR,Xye=wye.REJECTION_EVENT,Yye=wye.SUBCLASSING,Zye=qye.getterFor($ye),eve=qye.set,tve=Gye&&Gye.prototype,rve=Gye,nve=tve,ive=Pye.TypeError,ove=Pye.document,sve=Pye.process,ave=Wye.f,cve=ave,uve=!!(ove&&ove.createEvent&&Pye.dispatchEvent),lve="unhandledrejection",Ave=function(e){var t;return!(!Rye(e)||!Mye(t=e.then))&&t},hve=function(e,t){var r,n,i,o=t.value,s=1==t.state,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(s||(2===t.rejection&&mve(t),t.rejection=1),!0===a?r=o:(l&&l.enter(),r=a(o),l&&(l.exit(),i=!0)),r===e.promise?u(ive("Promise-chain cycle")):(n=Ave(r))?Tye(n,r,c,u):c(r)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},fve=function(e,t){e.notified||(e.notified=!0,Hye((function(){for(var r,n=e.reactions;r=n.get();)hve(r,e);e.notified=!1,t&&!e.rejection&&pve(e)})))},dve=function(e,t,r){var n,i;uve?((n=ove.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),Pye.dispatchEvent(n)):n={promise:t,reason:r},!Xye&&(i=Pye["on"+e])?i(n):e===lve&&Kye("Unhandled promise rejection",r)},pve=function(e){Tye(Qye,Pye,(function(){var t,r=e.facade,n=e.value;if(gve(e)&&(t=Vye((function(){kye?sve.emit("unhandledRejection",n,r):dve(lve,r,n)})),e.rejection=kye||gve(e)?2:1,t.error))throw t.value}))},gve=function(e){return 1!==e.rejection&&!e.parent},mve=function(e){Tye(Qye,Pye,(function(){var t=e.facade;kye?sve.emit("rejectionHandled",t):dve("rejectionhandled",t,e.value)}))},yve=function(e,t,r){return function(n){e(t,n,r)}},vve=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,fve(e,!0))},bve=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw ive("Promise can't be resolved itself");var n=Ave(t);n?Hye((function(){var r={done:!1};try{Tye(n,t,yve(bve,r,e),yve(vve,r,e))}catch(t){vve(r,t,e)}})):(e.value=t,e.state=1,fve(e,!1))}catch(t){vve({done:!1},t,e)}}};if(Jye&&(nve=(rve=function(e){Dye(this,nve),Fye(e),Tye(Eye,this);var t=Zye(this);try{e(yve(bve,t),yve(vve,t))}catch(e){vve(t,e)}}).prototype,(Eye=function(e){eve(this,{type:$ye,done:!1,notified:!1,parent:!1,reactions:new zye,rejection:!1,state:0,value:void 0})}).prototype=Oye(nve,"then",(function(e,t){var r=Zye(this),n=ave(jye(this,rve));return r.parent=!0,n.ok=!Mye(e)||e,n.fail=Mye(t)&&t,n.domain=kye?sve.domain:void 0,0==r.state?r.reactions.add(n):Hye((function(){hve(n,r)})),n.promise})),Sye=function(){var e=new Eye,t=Zye(e);this.promise=e,this.resolve=yve(bve,t),this.reject=yve(vve,t)},Wye.f=ave=function(e){return e===rve||undefined===e?new Sye(e):cve(e)},Mye(Gye)&&tve!==Object.prototype)){Cye=tve.then,Yye||Oye(tve,"then",(function(e,t){var r=this;return new rve((function(e,t){Tye(Cye,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete tve.constructor}catch(e){}Lye&&Lye(tve,nve)}Iye({global:!0,constructor:!0,wrap:!0,forced:Jye},{Promise:rve}),Nye(rve,$ye,!1),Uye($ye);var wve={},xve=wve,_ve=$he("iterator"),Bve=Array.prototype,Eve=vge,Sve=phe,Cve=wve,Ive=$he("iterator"),kve=function(e){if(null!=e)return Sve(e,Ive)||Sve(e,"@@iterator")||Cve[Eve(e)]},Pve=uAe,Tve=fhe,Ove=Sfe,Lve=uhe,Nve=kve,Uve=TypeError,Fve=uAe,Mve=Sfe,Rve=phe,Dve=Zge,jve=uAe,Qve=Sfe,Hve=uhe,Kve=function(e){return void 0!==e&&(xve.Array===e||Bve[_ve]===e)},Vve=ope,zve=VAe,qve=function(e,t){var r=arguments.length<2?Nve(e):t;if(Tve(r))return Ove(Pve(r,e));throw Uve(Lve(e)+" is not iterable")},Gve=kve,Wve=function(e,t,r){var n,i;Mve(e);try{if(!(n=Rve(e,"return"))){if("throw"===t)throw r;return r}n=Fve(n,e)}catch(e){i=!0,n=e}if("throw"===t)throw r;if(i)throw n;return Mve(n),r},$ve=TypeError,Jve=function(e,t){this.stopped=e,this.result=t},Xve=Jve.prototype,Yve=function(e,t,r){var n,i,o,s,a,c,u,l=r&&r.that,A=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_ITERATOR),f=!(!r||!r.INTERRUPTED),d=Dve(t,l),p=function(e){return n&&Wve(n,"normal",e),new Jve(!0,e)},g=function(e){return A?(Qve(e),f?d(e[0],e[1],p):d(e[0],e[1])):f?d(e,p):d(e)};if(h)n=e;else{if(!(i=Gve(e)))throw $ve(Hve(e)+" is not iterable");if(Kve(i)){for(o=0,s=Vve(e);s>o;o++)if((a=g(e[o]))&&zve(Xve,a))return a;return new Jve(!1)}n=qve(e,i)}for(c=n.next;!(u=jve(c,n)).done;){try{a=g(u.value)}catch(e){Wve(n,"throw",e)}if("object"==typeof a&&a&&zve(Xve,a))return a}return new Jve(!1)},Zve=$he("iterator"),ebe=!1;try{var tbe=0,rbe={next:function(){return{done:!!tbe++}},return:function(){ebe=!0}};rbe[Zve]=function(){return this},Array.from(rbe,(function(){throw 2}))}catch(e){}var nbe=aye,ibe=function(e,t){if(!t&&!ebe)return!1;var r=!1;try{var n={};n[Zve]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},obe=wye.CONSTRUCTOR||!ibe((function(e){nbe.all(e).then(void 0,(function(){}))})),sbe=uAe,abe=fhe,cbe=xye,ube=iye,lbe=Yve;Gpe({target:"Promise",stat:!0,forced:obe},{all:function(e){var t=this,r=cbe.f(t),n=r.resolve,i=r.reject,o=ube((function(){var r=abe(t.resolve),o=[],s=0,a=1;lbe(e,(function(e){var c=s++,u=!1;a++,sbe(r,t,e).then((function(e){u||(u=!0,o[c]=e,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise}});var Abe=Gpe,hbe=wye.CONSTRUCTOR,fbe=aye,dbe=KAe,pbe=MAe,gbe=Vde,mbe=fbe&&fbe.prototype;if(Abe({target:"Promise",proto:!0,forced:hbe,real:!0},{catch:function(e){return this.then(void 0,e)}}),pbe(fbe)){var ybe=dbe("Promise").prototype.catch;mbe.catch!==ybe&&gbe(mbe,"catch",ybe,{unsafe:!0})}var vbe=uAe,bbe=fhe,wbe=xye,xbe=iye,_be=Yve;Gpe({target:"Promise",stat:!0,forced:obe},{race:function(e){var t=this,r=wbe.f(t),n=r.reject,i=xbe((function(){var i=bbe(t.resolve);_be(e,(function(e){vbe(i,t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var Bbe=uAe,Ebe=xye;Gpe({target:"Promise",stat:!0,forced:wye.CONSTRUCTOR},{reject:function(e){var t=Ebe.f(this);return Bbe(t.reject,void 0,e),t.promise}});var Sbe=Sfe,Cbe=DAe,Ibe=xye,kbe=Gpe,Pbe=wye.CONSTRUCTOR,Tbe=function(e,t){if(Sbe(e),Cbe(t)&&t.constructor===e)return t;var r=Ibe.f(e);return(0,r.resolve)(t),r.promise};KAe("Promise"),kbe({target:"Promise",stat:!0,forced:Pbe},{resolve:function(e){return Tbe(this,e)}});var Obe={exports:{}};!function(e){function t(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var s=e.apply(r,n);function a(e){t(s,i,o,a,c,"next",e)}function c(e){t(s,i,o,a,c,"throw",e)}a(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports}(Obe);var Lbe=tt(Obe.exports),Nbe=vge,Ube=String,Fbe=function(e){if("Symbol"===Nbe(e))throw TypeError("Cannot convert a Symbol value to a string");return Ube(e)},Mbe=Sfe,Rbe=function(){var e=Mbe(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Dbe=iAe,jbe=rAe.RegExp,Qbe=Dbe((function(){var e=jbe("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Hbe=Qbe||Dbe((function(){return!jbe("a","y").sticky})),Kbe=Qbe||Dbe((function(){var e=jbe("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),Vbe={BROKEN_CARET:Kbe,MISSED_STICKY:Hbe,UNSUPPORTED_Y:Qbe},zbe={},qbe=gpe,Gbe=mpe,Wbe=Object.keys||function(e){return qbe(e,Gbe)},$be=oAe,Jbe=xfe,Xbe=wfe,Ybe=Sfe,Zbe=FAe,ewe=Wbe;zbe.f=$be&&!Jbe?Object.defineProperties:function(e,t){Ybe(e);for(var r,n=Zbe(t),i=ewe(t),o=i.length,s=0;o>s;)Xbe.f(e,r=i[s++],n[r]);return e};var twe,rwe=Sfe,nwe=zbe,iwe=mpe,owe=ude,swe=eme,awe=ufe,cwe=cde("IE_PROTO"),uwe=function(){},lwe=function(e){return"<script>"+e+"</"+"script>"},Awe=function(e){e.write(lwe("")),e.close();var t=e.parentWindow.Object;return e=null,t},hwe=function(){try{twe=new ActiveXObject("htmlfile")}catch(e){}var e,t;hwe="undefined"!=typeof document?document.domain&&twe?Awe(twe):((t=awe("iframe")).style.display="none",swe.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(lwe("document.F=Object")),e.close(),e.F):Awe(twe);for(var r=iwe.length;r--;)delete hwe.prototype[iwe[r]];return hwe()};owe[cwe]=!0;var fwe,dwe,pwe=Object.create||function(e,t){var r;return null!==e?(uwe.prototype=rwe(e),r=new uwe,uwe.prototype=null,r[cwe]=e):r=hwe(),void 0===t?r:nwe.f(r,t)},gwe=iAe,mwe=rAe.RegExp,ywe=gwe((function(){var e=mwe(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),vwe=iAe,bwe=rAe.RegExp,wwe=vwe((function(){var e=bwe("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),xwe=uAe,_we=xAe,Bwe=Fbe,Ewe=Rbe,Swe=Vbe,Cwe=bhe.exports,Iwe=pwe,kwe=Cde.get,Pwe=ywe,Twe=wwe,Owe=Cwe("native-string-replace",String.prototype.replace),Lwe=RegExp.prototype.exec,Nwe=Lwe,Uwe=_we("".charAt),Fwe=_we("".indexOf),Mwe=_we("".replace),Rwe=_we("".slice),Dwe=(dwe=/b*/g,xwe(Lwe,fwe=/a/,"a"),xwe(Lwe,dwe,"a"),0!==fwe.lastIndex||0!==dwe.lastIndex),jwe=Swe.BROKEN_CARET,Qwe=void 0!==/()??/.exec("")[1];(Dwe||Qwe||jwe||Pwe||Twe)&&(Nwe=function(e){var t,r,n,i,o,s,a,c=this,u=kwe(c),l=Bwe(e),A=u.raw;if(A)return A.lastIndex=c.lastIndex,t=xwe(Nwe,A,l),c.lastIndex=A.lastIndex,t;var h=u.groups,f=jwe&&c.sticky,d=xwe(Ewe,c),p=c.source,g=0,m=l;if(f&&(d=Mwe(d,"y",""),-1===Fwe(d,"g")&&(d+="g"),m=Rwe(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Uwe(l,c.lastIndex-1))&&(p="(?: "+p+")",m=" "+m,g++),r=new RegExp("^(?:"+p+")",d)),Qwe&&(r=new RegExp("^"+p+"$(?!\\s)",d)),Dwe&&(n=c.lastIndex),i=xwe(Lwe,f?r:c,m),f?i?(i.input=Rwe(i.input,g),i[0]=Rwe(i[0],g),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:Dwe&&i&&(c.lastIndex=c.global?i.index+i[0].length:n),Qwe&&i&&i.length>1&&xwe(Owe,i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&h)for(i.groups=s=Iwe(null),o=0;o<h.length;o++)s[(a=h[o])[0]]=i[a[1]];return i});var Hwe=Nwe;Gpe({target:"RegExp",proto:!0,forced:/./.exec!==Hwe},{exec:Hwe});var Kwe=xAe,Vwe=Vde,zwe=Hwe,qwe=iAe,Gwe=$he,Wwe=jfe,$we=Gwe("species"),Jwe=RegExp.prototype,Xwe=function(e,t,r,n){var i=Gwe(e),o=!qwe((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),s=o&&!qwe((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[$we]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!o||!s||r){var a=Kwe(/./[i]),c=t(i,""[e],(function(e,t,r,n,i){var s=Kwe(e),c=t.exec;return c===zwe||c===Jwe.exec?o&&!i?{done:!0,value:a(t,r,n)}:{done:!0,value:s(r,t,n)}:{done:!1}}));Vwe(String.prototype,e,c[0]),Vwe(Jwe,i,c[1])}n&&Wwe(Jwe[i],"sham",!0)},Ywe=xAe,Zwe=Jde,exe=Fbe,txe=LAe,rxe=Ywe("".charAt),nxe=Ywe("".charCodeAt),ixe=Ywe("".slice),oxe=function(e){return function(t,r){var n,i,o=exe(txe(t)),s=Zwe(r),a=o.length;return s<0||s>=a?e?"":void 0:(n=nxe(o,s))<55296||n>56319||s+1===a||(i=nxe(o,s+1))<56320||i>57343?e?rxe(o,s):n:e?ixe(o,s,s+2):i-56320+(n-55296<<10)+65536}},sxe={codeAt:oxe(!1),charAt:oxe(!0)}.charAt,axe=function(e,t,r){return t+(r?sxe(e,t).length:1)},cxe=uAe,uxe=Sfe,lxe=MAe,Axe=SAe,hxe=Hwe,fxe=TypeError,dxe=function(e,t){var r=e.exec;if(lxe(r)){var n=cxe(r,e,t);return null!==n&&uxe(n),n}if("RegExp"===Axe(e))return cxe(hxe,e,t);throw fxe("RegExp#exec called on incompatible receiver")},pxe=uAe,gxe=Sfe,mxe=npe,yxe=Fbe,vxe=LAe,bxe=phe,wxe=axe,xxe=dxe;Xwe("match",(function(e,t,r){return[function(t){var r=vxe(this),n=null==t?void 0:bxe(t,e);return n?pxe(n,t,r):new RegExp(t)[e](yxe(r))},function(e){var n=gxe(this),i=yxe(e),o=r(t,n,i);if(o.done)return o.value;if(!n.global)return xxe(n,i);var s=n.unicode;n.lastIndex=0;for(var a,c=[],u=0;null!==(a=xxe(n,i));){var l=yxe(a[0]);c[u]=l,""===l&&(n.lastIndex=wxe(i,mxe(n.lastIndex),s)),u++}return 0===u?null:c}]}));var _xe=xAe,Bxe=Phe,Exe=Math.floor,Sxe=_xe("".charAt),Cxe=_xe("".replace),Ixe=_xe("".slice),kxe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Pxe=/\$([$&'`]|\d{1,2})/g,Txe=$ge,Oxe=uAe,Lxe=xAe,Nxe=Xwe,Uxe=iAe,Fxe=Sfe,Mxe=MAe,Rxe=Jde,Dxe=npe,jxe=Fbe,Qxe=LAe,Hxe=axe,Kxe=phe,Vxe=function(e,t,r,n,i,o){var s=r+e.length,a=n.length,c=Pxe;return void 0!==i&&(i=Bxe(i),c=kxe),Cxe(o,c,(function(o,c){var u;switch(Sxe(c,0)){case"$":return"$";case"&":return e;case"`":return Ixe(t,0,r);case"'":return Ixe(t,s);case"<":u=i[Ixe(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>a){var A=Exe(l/10);return 0===A?o:A<=a?void 0===n[A-1]?Sxe(c,1):n[A-1]+Sxe(c,1):o}u=n[l-1]}return void 0===u?"":u}))},zxe=dxe,qxe=$he("replace"),Gxe=Math.max,Wxe=Math.min,$xe=Lxe([].concat),Jxe=Lxe([].push),Xxe=Lxe("".indexOf),Yxe=Lxe("".slice),Zxe=function(e){return void 0===e?e:String(e)},e_e="$0"==="a".replace(/./,"$0"),t_e=!!/./[qxe]&&""===/./[qxe]("a","$0"),r_e=!Uxe((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));Nxe("replace",(function(e,t,r){var n=t_e?"$":"$0";return[function(e,r){var n=Qxe(this),i=null==e?void 0:Kxe(e,qxe);return i?Oxe(i,e,n,r):Oxe(t,jxe(n),e,r)},function(e,i){var o=Fxe(this),s=jxe(e);if("string"==typeof i&&-1===Xxe(i,n)&&-1===Xxe(i,"$<")){var a=r(t,o,s,i);if(a.done)return a.value}var c=Mxe(i);c||(i=jxe(i));var u=o.global;if(u){var l=o.unicode;o.lastIndex=0}for(var A=[];;){var h=zxe(o,s);if(null===h)break;if(Jxe(A,h),!u)break;""===jxe(h[0])&&(o.lastIndex=Hxe(s,Dxe(o.lastIndex),l))}for(var f="",d=0,p=0;p<A.length;p++){for(var g=jxe((h=A[p])[0]),m=Gxe(Wxe(Rxe(h.index),s.length),0),y=[],v=1;v<h.length;v++)Jxe(y,Zxe(h[v]));var b=h.groups;if(c){var w=$xe([g],y,m,s);void 0!==b&&Jxe(w,b);var x=jxe(Txe(i,void 0,w))}else x=Vxe(g,s,m,y,b,i);m>=d&&(f+=Yxe(s,d,m)+x,d=m+g.length)}return f+Yxe(s,d)}]}),!r_e||!e_e||t_e);var n_e,i_e=DAe,o_e=SAe,s_e=$he("match"),a_e=function(e){var t;return i_e(e)&&(void 0!==(t=e[s_e])?!!t:"RegExp"==o_e(e))},c_e=a_e,u_e=TypeError,l_e=function(e){if(c_e(e))throw u_e("The method doesn't accept regular expressions");return e},A_e=$he("match"),h_e=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[A_e]=!1,"/./"[e](t)}catch(e){}}return!1},f_e=Gpe,d_e=xAe,p_e=nAe.f,g_e=npe,m_e=Fbe,y_e=l_e,v_e=LAe,b_e=h_e,w_e=d_e("".startsWith),x_e=d_e("".slice),__e=Math.min,B_e=b_e("startsWith");f_e({target:"String",proto:!0,forced:!!(B_e||(n_e=p_e(String.prototype,"startsWith"),!n_e||n_e.writable))&&!B_e},{startsWith:function(e){var t=m_e(v_e(this));y_e(e);var r=g_e(__e(arguments.length>1?arguments[1]:void 0,t.length)),n=m_e(e);return w_e?w_e(t,n,r):x_e(t,r,r+n.length)===n}});var E_e=$he,S_e=pwe,C_e=wfe.f,I_e=E_e("unscopables"),k_e=Array.prototype;null==k_e[I_e]&&C_e(k_e,I_e,{configurable:!0,value:S_e(null)});var P_e,T_e,O_e,L_e=!iAe((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),N_e=Lhe,U_e=MAe,F_e=Phe,M_e=L_e,R_e=cde("IE_PROTO"),D_e=Object,j_e=D_e.prototype,Q_e=M_e?D_e.getPrototypeOf:function(e){var t=F_e(e);if(N_e(t,R_e))return t[R_e];var r=t.constructor;return U_e(r)&&t instanceof r?r.prototype:t instanceof D_e?j_e:null},H_e=iAe,K_e=MAe,V_e=Q_e,z_e=Vde,q_e=$he("iterator"),G_e=!1;[].keys&&("next"in(O_e=[].keys())?(T_e=V_e(V_e(O_e)))!==Object.prototype&&(P_e=T_e):G_e=!0);var W_e=null==P_e||H_e((function(){var e={};return P_e[q_e].call(e)!==e}));W_e&&(P_e={}),K_e(P_e[q_e])||z_e(P_e,q_e,(function(){return this}));var $_e={IteratorPrototype:P_e,BUGGY_SAFARI_ITERATORS:G_e},J_e=$_e.IteratorPrototype,X_e=pwe,Y_e=gAe,Z_e=oge,eBe=wve,tBe=function(){return this},rBe=Gpe,nBe=uAe,iBe=MAe,oBe=function(e,t,r,n){var i=t+" Iterator";return e.prototype=X_e(J_e,{next:Y_e(+!n,r)}),Z_e(e,i,!1),eBe[i]=tBe,e},sBe=Q_e,aBe=tge,cBe=oge,uBe=jfe,lBe=Vde,ABe=wve,hBe=Gfe.PROPER,fBe=Gfe.CONFIGURABLE,dBe=$_e.IteratorPrototype,pBe=$_e.BUGGY_SAFARI_ITERATORS,gBe=$he("iterator"),mBe="keys",yBe="values",vBe="entries",bBe=function(){return this},wBe=FAe,xBe=function(e){k_e[I_e][e]=!0},_Be=wve,BBe=Cde,EBe=wfe.f,SBe=function(e,t,r,n,i,o,s){oBe(r,t,n);var a,c,u,l=function(e){if(e===i&&p)return p;if(!pBe&&e in f)return f[e];switch(e){case mBe:case yBe:case vBe:return function(){return new r(this,e)}}return function(){return new r(this)}},A=t+" Iterator",h=!1,f=e.prototype,d=f[gBe]||f["@@iterator"]||i&&f[i],p=!pBe&&d||l(i),g="Array"==t&&f.entries||d;if(g&&(a=sBe(g.call(new e)))!==Object.prototype&&a.next&&(sBe(a)!==dBe&&(aBe?aBe(a,dBe):iBe(a[gBe])||lBe(a,gBe,bBe)),cBe(a,A,!0)),hBe&&i==yBe&&d&&d.name!==yBe&&(fBe?uBe(f,"name",yBe):(h=!0,p=function(){return nBe(d,this)})),i)if(c={values:l(yBe),keys:o?p:l(mBe),entries:l(vBe)},s)for(u in c)(pBe||h||!(u in f))&&lBe(f,u,c[u]);else rBe({target:t,proto:!0,forced:pBe||h},c);return f[gBe]!==p&&lBe(f,gBe,p,{name:i}),ABe[t]=p,c},CBe=oAe,IBe="Array Iterator",kBe=BBe.set,PBe=BBe.getterFor(IBe),TBe=SBe(Array,"Array",(function(e,t){kBe(this,{type:IBe,target:wBe(e),index:0,kind:t})}),(function(){var e=PBe(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),OBe=_Be.Arguments=_Be.Array;if(xBe("keys"),xBe("values"),xBe("entries"),CBe&&"values"!==OBe.name)try{EBe(OBe,"name",{value:"values"})}catch(e){}var LBe=ufe("span").classList,NBe=LBe&&LBe.constructor&&LBe.constructor.prototype,UBe=NBe===Object.prototype?void 0:NBe,FBe=rAe,MBe={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},RBe=UBe,DBe=TBe,jBe=jfe,QBe=$he,HBe=QBe("iterator"),KBe=QBe("toStringTag"),VBe=DBe.values,zBe=function(e,t){if(e){if(e[HBe]!==VBe)try{jBe(e,HBe,VBe)}catch(t){e[HBe]=VBe}if(e[KBe]||jBe(e,KBe,t),MBe[t])for(var r in DBe)if(e[r]!==DBe[r])try{jBe(e,r,DBe[r])}catch(t){e[r]=DBe[r]}}};for(var qBe in MBe)zBe(FBe[qBe]&&FBe[qBe].prototype,qBe);zBe(RBe,"DOMTokenList");var GBe={exports:{}};!function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports}(GBe);var WBe=tt(GBe.exports),$Be=fhe,JBe=Phe,XBe=TAe,YBe=ope,ZBe=TypeError,eEe=function(e){return function(t,r,n,i){$Be(r);var o=JBe(t),s=XBe(o),a=YBe(o),c=e?a-1:0,u=e?-1:1;if(n<2)for(;;){if(c in s){i=s[c],c+=u;break}if(c+=u,e?c<0:a<=c)throw ZBe("Reduce of empty array with no initial value")}for(;e?c>=0:a>c;c+=u)c in s&&(i=r(i,s[c],c,o));return i}},tEe={left:eEe(!1),right:eEe(!0)},rEe=iAe,nEe=function(e,t){var r=[][e];return!!r&&rEe((function(){r.call(null,t||function(){return 1},1)}))},iEe=tEe.left,oEe=YAe,sEe=Wpe;Gpe({target:"Array",proto:!0,forced:!nEe("reduce")||!sEe&&oEe>79&&oEe<83},{reduce:function(e){var t=arguments.length;return iEe(this,e,t,t>1?arguments[1]:void 0)}});var aEe=Gpe,cEe=xAe,uEe=nAe.f,lEe=npe,AEe=Fbe,hEe=l_e,fEe=LAe,dEe=h_e,pEe=cEe("".endsWith),gEe=cEe("".slice),mEe=Math.min,yEe=dEe("endsWith"),vEe=!yEe&&!!function(){var e=uEe(String.prototype,"endsWith");return e&&!e.writable}();aEe({target:"String",proto:!0,forced:!vEe&&!yEe},{endsWith:function(e){var t=AEe(fEe(this));hEe(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:mEe(lEe(r),n),o=AEe(e);return pEe?pEe(t,o,i):gEe(t,i-o.length,i)===o}});var bEe=ofe,wEe=wfe,xEe=gAe,_Ee=epe,BEe=ope,EEe=function(e,t,r){var n=bEe(t);n in e?wEe.f(e,n,xEe(0,r)):e[n]=r},SEe=Array,CEe=Math.max,IEe=$ge,kEe=uAe,PEe=xAe,TEe=Xwe,OEe=a_e,LEe=Sfe,NEe=LAe,UEe=Vge,FEe=axe,MEe=npe,REe=Fbe,DEe=phe,jEe=function(e,t,r){for(var n=BEe(e),i=_Ee(t,n),o=_Ee(void 0===r?n:r,n),s=SEe(CEe(o-i,0)),a=0;i<o;i++,a++)EEe(s,a,e[i]);return s.length=a,s},QEe=dxe,HEe=Hwe,KEe=iAe,VEe=Vbe.UNSUPPORTED_Y,zEe=4294967295,qEe=Math.min,GEe=[].push,WEe=PEe(/./.exec),$Ee=PEe(GEe),JEe=PEe("".slice),XEe=!KEe((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));TEe("split",(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=REe(NEe(this)),i=void 0===r?zEe:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!OEe(e))return kEe(t,n,e,i);for(var o,s,a,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,A=new RegExp(e.source,u+"g");(o=kEe(HEe,A,n))&&!((s=A.lastIndex)>l&&($Ee(c,JEe(n,l,o.index)),o.length>1&&o.index<n.length&&IEe(GEe,c,jEe(o,1)),a=o[0].length,l=s,c.length>=i));)A.lastIndex===o.index&&A.lastIndex++;return l===n.length?!a&&WEe(A,"")||$Ee(c,""):$Ee(c,JEe(n,l)),c.length>i?jEe(c,0,i):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:kEe(t,this,e,r)}:t,[function(t,r){var i=NEe(this),o=null==t?void 0:DEe(t,e);return o?kEe(o,t,i,r):kEe(n,REe(i),t,r)},function(e,i){var o=LEe(this),s=REe(e),a=r(n,o,s,i,n!==t);if(a.done)return a.value;var c=UEe(o,RegExp),u=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(VEe?"g":"y"),A=new c(VEe?"^(?:"+o.source+")":o,l),h=void 0===i?zEe:i>>>0;if(0===h)return[];if(0===s.length)return null===QEe(A,s)?[s]:[];for(var f=0,d=0,p=[];d<s.length;){A.lastIndex=VEe?0:d;var g,m=QEe(A,VEe?JEe(s,d):s);if(null===m||(g=qEe(MEe(A.lastIndex+(VEe?d:0)),s.length))===f)d=FEe(s,d,u);else{if($Ee(p,JEe(s,f,d)),p.length===h)return p;for(var y=1;y<=m.length-1;y++)if($Ee(p,m[y]),p.length===h)return p;d=f=g}}return $Ee(p,JEe(s,f)),p}]}),!XEe,VEe);var YEe={exports:{}},ZEe={exports:{}};(function(){var e,t,r,n,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?ZEe.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(ZEe.exports=function(){return(e()-i)/1e6},t=process.hrtime,e=function(){var e;return 1e9*(e=t())[0]+e[1]},n=e(),o=1e9*process.uptime(),i=n-o):Date.now?(ZEe.exports=function(){return Date.now()-r},r=Date.now()):(ZEe.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(et);for(var eSe=ZEe.exports,tSe="undefined"==typeof window?et:window,rSe=["moz","webkit"],nSe="AnimationFrame",iSe=tSe["request"+nSe],oSe=tSe["cancel"+nSe]||tSe["cancelRequest"+nSe],sSe=0;!iSe&&sSe<rSe.length;sSe++)iSe=tSe[rSe[sSe]+"Request"+nSe],oSe=tSe[rSe[sSe]+"Cancel"+nSe]||tSe[rSe[sSe]+"CancelRequest"+nSe];if(!iSe||!oSe){var aSe=0,cSe=0,uSe=[];iSe=function(e){if(0===uSe.length){var t=eSe(),r=Math.max(0,16.666666666666668-(t-aSe));aSe=r+t,setTimeout((function(){var e=uSe.slice(0);uSe.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(aSe)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return uSe.push({handle:++cSe,callback:e,cancelled:!1}),cSe},oSe=function(e){for(var t=0;t<uSe.length;t++)uSe[t].handle===e&&(uSe[t].cancelled=!0)}}YEe.exports=function(e){return iSe.call(tSe,e)},YEe.exports.cancel=function(){oSe.apply(tSe,arguments)},YEe.exports.polyfill=function(e){e||(e=tSe),e.requestAnimationFrame=iSe,e.cancelAnimationFrame=oSe};var lSe="\t\n\v\f\r ¬†·öÄ‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff",ASe=LAe,hSe=Fbe,fSe=xAe("".replace),dSe="[\t\n\v\f\r ¬†·öÄ‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff]",pSe=RegExp("^"+dSe+dSe+"*"),gSe=RegExp(dSe+dSe+"*$"),mSe=function(e){return function(t){var r=hSe(ASe(t));return 1&e&&(r=fSe(r,pSe,"")),2&e&&(r=fSe(r,gSe,"")),r}},ySe={start:mSe(1),end:mSe(2),trim:mSe(3)},vSe=Gfe.PROPER,bSe=iAe,wSe=lSe,xSe=ySe.trim;Gpe({target:"String",proto:!0,forced:function(e){return bSe((function(){return!!wSe[e]()||"‚Äã¬Ö·†é"!=="‚Äã¬Ö·†é"[e]()||vSe&&wSe[e].name!==e}))}("trim")},{trim:function(){return xSe(this)}});var _Se=function(e){this.ok=!1,this.alpha=1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,s=i.exec(e);if(s){var a=o(s);this.r=a[0],this.g=a[1],this.b=a[2],a.length>3&&(this.alpha=a[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r},this.getHelpXML=function(){for(var e=new Array,n=0;n<r.length;n++)for(var i=r[n].example,o=0;o<i.length;o++)e[e.length]=i[o];for(var s in t)e[e.length]=s;var a=document.createElement("ul");a.setAttribute("id","rgbcolor-examples");for(n=0;n<e.length;n++)try{var c=document.createElement("li"),u=new RGBColor(e[n]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),l.appendChild(document.createTextNode("test"));var A=document.createTextNode(" "+e[n]+" -> "+u.toRGB()+" -> "+u.toHex());c.appendChild(l),c.appendChild(A),a.appendChild(c)}catch(e){}return a}},BSe=Gpe,ESe=lpe.indexOf,SSe=nEe,CSe=xAe([].indexOf),ISe=!!CSe&&1/CSe([1],1,-0)<0,kSe=SSe("indexOf");BSe({target:"Array",proto:!0,forced:ISe||!kSe},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return ISe?CSe(this,e,t)||0:ESe(this,e,t)}});var PSe=Gpe,TSe=l_e,OSe=LAe,LSe=Fbe,NSe=h_e,USe=xAe("".indexOf);PSe({target:"String",proto:!0,forced:!NSe("includes")},{includes:function(e){return!!~USe(LSe(OSe(this)),LSe(TSe(e)),arguments.length>1?arguments[1]:void 0)}});var FSe=SAe,MSe=Gpe,RSe=Array.isArray||function(e){return"Array"==FSe(e)},DSe=xAe([].reverse),jSe=[1,2];MSe({target:"Array",proto:!0,forced:String(jSe)===String(jSe.reverse())},{reverse:function(){return RSe(this)&&(this.length=this.length),DSe(this)}});
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */
var QSe=function(e,t){return(QSe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function HSe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}QSe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function KSe(e,t){var r=e[0],n=e[1];return[r*Math.cos(t)-n*Math.sin(t),r*Math.sin(t)+n*Math.cos(t)]}function VSe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0;r<e.length;r++)if("number"!=typeof e[r])throw new Error("assertNumbers arguments["+r+"] is not a number. "+typeof e[r]+" == typeof "+e[r]);return!0}var zSe=Math.PI;function qSe(e,t,r){e.lArcFlag=0===e.lArcFlag?0:1,e.sweepFlag=0===e.sweepFlag?0:1;var n=e.rX,i=e.rY,o=e.x,s=e.y;n=Math.abs(e.rX),i=Math.abs(e.rY);var a=KSe([(t-o)/2,(r-s)/2],-e.xRot/180*zSe),c=a[0],u=a[1],l=Math.pow(c,2)/Math.pow(n,2)+Math.pow(u,2)/Math.pow(i,2);1<l&&(n*=Math.sqrt(l),i*=Math.sqrt(l)),e.rX=n,e.rY=i;var A=Math.pow(n,2)*Math.pow(u,2)+Math.pow(i,2)*Math.pow(c,2),h=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-A)/A)),f=n*u/i*h,d=-i*c/n*h,p=KSe([f,d],e.xRot/180*zSe);e.cX=p[0]+(t+o)/2,e.cY=p[1]+(r+s)/2,e.phi1=Math.atan2((u-d)/i,(c-f)/n),e.phi2=Math.atan2((-u-d)/i,(-c-f)/n),0===e.sweepFlag&&e.phi2>e.phi1&&(e.phi2-=2*zSe),1===e.sweepFlag&&e.phi2<e.phi1&&(e.phi2+=2*zSe),e.phi1*=180/zSe,e.phi2*=180/zSe}function GSe(e,t,r){VSe(e,t,r);var n=e*e+t*t-r*r;if(0>n)return[];if(0===n)return[[e*r/(e*e+t*t),t*r/(e*e+t*t)]];var i=Math.sqrt(n);return[[(e*r+t*i)/(e*e+t*t),(t*r-e*i)/(e*e+t*t)],[(e*r-t*i)/(e*e+t*t),(t*r+e*i)/(e*e+t*t)]]}var WSe,$Se=Math.PI/180;function JSe(e,t,r){return(1-r)*e+r*t}function XSe(e,t,r,n){return e+Math.cos(n/180*zSe)*t+Math.sin(n/180*zSe)*r}function YSe(e,t,r,n){var i=1e-6,o=t-e,s=r-t,a=3*o+3*(n-r)-6*s,c=6*(s-o),u=3*o;return Math.abs(a)<i?[-u/c]:function(e,t,r){void 0===r&&(r=1e-6);var n=e*e/4-t;if(n<-r)return[];if(n<=r)return[-e/2];var i=Math.sqrt(n);return[-e/2-i,-e/2+i]}(c/a,u/a,i)}function ZSe(e,t,r,n,i){var o=1-i;return e*(o*o*o)+t*(3*o*o*i)+r*(3*o*i*i)+n*(i*i*i)}!function(e){function t(){return i((function(e,t,r){return e.relative&&(void 0!==e.x1&&(e.x1+=t),void 0!==e.y1&&(e.y1+=r),void 0!==e.x2&&(e.x2+=t),void 0!==e.y2&&(e.y2+=r),void 0!==e.x&&(e.x+=t),void 0!==e.y&&(e.y+=r),e.relative=!1),e}))}function r(){var e=NaN,t=NaN,r=NaN,n=NaN;return i((function(i,o,s){return i.type&oCe.SMOOTH_CURVE_TO&&(i.type=oCe.CURVE_TO,e=isNaN(e)?o:e,t=isNaN(t)?s:t,i.x1=i.relative?o-e:2*o-e,i.y1=i.relative?s-t:2*s-t),i.type&oCe.CURVE_TO?(e=i.relative?o+i.x2:i.x2,t=i.relative?s+i.y2:i.y2):(e=NaN,t=NaN),i.type&oCe.SMOOTH_QUAD_TO&&(i.type=oCe.QUAD_TO,r=isNaN(r)?o:r,n=isNaN(n)?s:n,i.x1=i.relative?o-r:2*o-r,i.y1=i.relative?s-n:2*s-n),i.type&oCe.QUAD_TO?(r=i.relative?o+i.x1:i.x1,n=i.relative?s+i.y1:i.y1):(r=NaN,n=NaN),i}))}function n(){var e=NaN,t=NaN;return i((function(r,n,i){if(r.type&oCe.SMOOTH_QUAD_TO&&(r.type=oCe.QUAD_TO,e=isNaN(e)?n:e,t=isNaN(t)?i:t,r.x1=r.relative?n-e:2*n-e,r.y1=r.relative?i-t:2*i-t),r.type&oCe.QUAD_TO){e=r.relative?n+r.x1:r.x1,t=r.relative?i+r.y1:r.y1;var o=r.x1,s=r.y1;r.type=oCe.CURVE_TO,r.x1=((r.relative?0:n)+2*o)/3,r.y1=((r.relative?0:i)+2*s)/3,r.x2=(r.x+2*o)/3,r.y2=(r.y+2*s)/3}else e=NaN,t=NaN;return r}))}function i(e){var t=0,r=0,n=NaN,i=NaN;return function(o){if(isNaN(n)&&!(o.type&oCe.MOVE_TO))throw new Error("path must start with moveto");var s=e(o,t,r,n,i);return o.type&oCe.CLOSE_PATH&&(t=n,r=i),void 0!==o.x&&(t=o.relative?t+o.x:o.x),void 0!==o.y&&(r=o.relative?r+o.y:o.y),o.type&oCe.MOVE_TO&&(n=t,i=r),s}}function o(e,t,r,n,o,s){return VSe(e,t,r,n,o,s),i((function(i,a,c,u){var l=i.x1,A=i.x2,h=i.relative&&!isNaN(u),f=void 0!==i.x?i.x:h?0:a,d=void 0!==i.y?i.y:h?0:c;function p(e){return e*e}i.type&oCe.HORIZ_LINE_TO&&0!==t&&(i.type=oCe.LINE_TO,i.y=i.relative?0:c),i.type&oCe.VERT_LINE_TO&&0!==r&&(i.type=oCe.LINE_TO,i.x=i.relative?0:a),void 0!==i.x&&(i.x=i.x*e+d*r+(h?0:o)),void 0!==i.y&&(i.y=f*t+i.y*n+(h?0:s)),void 0!==i.x1&&(i.x1=i.x1*e+i.y1*r+(h?0:o)),void 0!==i.y1&&(i.y1=l*t+i.y1*n+(h?0:s)),void 0!==i.x2&&(i.x2=i.x2*e+i.y2*r+(h?0:o)),void 0!==i.y2&&(i.y2=A*t+i.y2*n+(h?0:s));var g=e*n-t*r;if(void 0!==i.xRot&&(1!==e||0!==t||0!==r||1!==n))if(0===g)delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag,i.type=oCe.LINE_TO;else{var m=i.xRot*Math.PI/180,y=Math.sin(m),v=Math.cos(m),b=1/p(i.rX),w=1/p(i.rY),x=p(v)*b+p(y)*w,_=2*y*v*(b-w),B=p(y)*b+p(v)*w,E=x*n*n-_*t*n+B*t*t,S=_*(e*n+t*r)-2*(x*r*n+B*e*t),C=x*r*r-_*e*r+B*e*e,I=(Math.atan2(S,E-C)+Math.PI)%Math.PI/2,k=Math.sin(I),P=Math.cos(I);i.rX=Math.abs(g)/Math.sqrt(E*p(P)+S*k*P+C*p(k)),i.rY=Math.abs(g)/Math.sqrt(E*p(k)-S*k*P+C*p(P)),i.xRot=180*I/Math.PI}return void 0!==i.sweepFlag&&0>g&&(i.sweepFlag=+!i.sweepFlag),i}))}e.ROUND=function(e){function t(t){return Math.round(t*e)/e}return void 0===e&&(e=1e13),VSe(e),function(e){return void 0!==e.x1&&(e.x1=t(e.x1)),void 0!==e.y1&&(e.y1=t(e.y1)),void 0!==e.x2&&(e.x2=t(e.x2)),void 0!==e.y2&&(e.y2=t(e.y2)),void 0!==e.x&&(e.x=t(e.x)),void 0!==e.y&&(e.y=t(e.y)),void 0!==e.rX&&(e.rX=t(e.rX)),void 0!==e.rY&&(e.rY=t(e.rY)),e}},e.TO_ABS=t,e.TO_REL=function(){return i((function(e,t,r){return e.relative||(void 0!==e.x1&&(e.x1-=t),void 0!==e.y1&&(e.y1-=r),void 0!==e.x2&&(e.x2-=t),void 0!==e.y2&&(e.y2-=r),void 0!==e.x&&(e.x-=t),void 0!==e.y&&(e.y-=r),e.relative=!0),e}))},e.NORMALIZE_HVZ=function(e,t,r){return void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),i((function(n,i,o,s,a){if(isNaN(s)&&!(n.type&oCe.MOVE_TO))throw new Error("path must start with moveto");return t&&n.type&oCe.HORIZ_LINE_TO&&(n.type=oCe.LINE_TO,n.y=n.relative?0:o),r&&n.type&oCe.VERT_LINE_TO&&(n.type=oCe.LINE_TO,n.x=n.relative?0:i),e&&n.type&oCe.CLOSE_PATH&&(n.type=oCe.LINE_TO,n.x=n.relative?s-i:s,n.y=n.relative?a-o:a),n.type&oCe.ARC&&(0===n.rX||0===n.rY)&&(n.type=oCe.LINE_TO,delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag),n}))},e.NORMALIZE_ST=r,e.QT_TO_C=n,e.INFO=i,e.SANITIZE=function(e){void 0===e&&(e=0),VSe(e);var t=NaN,r=NaN,n=NaN,o=NaN;return i((function(i,s,a,c,u){var l=Math.abs,A=!1,h=0,f=0;if(i.type&oCe.SMOOTH_CURVE_TO&&(h=isNaN(t)?0:s-t,f=isNaN(r)?0:a-r),i.type&(oCe.CURVE_TO|oCe.SMOOTH_CURVE_TO)?(t=i.relative?s+i.x2:i.x2,r=i.relative?a+i.y2:i.y2):(t=NaN,r=NaN),i.type&oCe.SMOOTH_QUAD_TO?(n=isNaN(n)?s:2*s-n,o=isNaN(o)?a:2*a-o):i.type&oCe.QUAD_TO?(n=i.relative?s+i.x1:i.x1,o=i.relative?a+i.y1:i.y2):(n=NaN,o=NaN),i.type&oCe.LINE_COMMANDS||i.type&oCe.ARC&&(0===i.rX||0===i.rY||!i.lArcFlag)||i.type&oCe.CURVE_TO||i.type&oCe.SMOOTH_CURVE_TO||i.type&oCe.QUAD_TO||i.type&oCe.SMOOTH_QUAD_TO){var d=void 0===i.x?0:i.relative?i.x:i.x-s,p=void 0===i.y?0:i.relative?i.y:i.y-a;h=isNaN(n)?void 0===i.x1?h:i.relative?i.x:i.x1-s:n-s,f=isNaN(o)?void 0===i.y1?f:i.relative?i.y:i.y1-a:o-a;var g=void 0===i.x2?0:i.relative?i.x:i.x2-s,m=void 0===i.y2?0:i.relative?i.y:i.y2-a;l(d)<=e&&l(p)<=e&&l(h)<=e&&l(f)<=e&&l(g)<=e&&l(m)<=e&&(A=!0)}return i.type&oCe.CLOSE_PATH&&l(s-c)<=e&&l(a-u)<=e&&(A=!0),A?[]:i}))},e.MATRIX=o,e.ROTATE=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),VSe(e,t,r);var n=Math.sin(e),i=Math.cos(e);return o(i,n,-n,i,t-t*i+r*n,r-t*n-r*i)},e.TRANSLATE=function(e,t){return void 0===t&&(t=0),VSe(e,t),o(1,0,0,1,e,t)},e.SCALE=function(e,t){return void 0===t&&(t=e),VSe(e,t),o(e,0,0,t,0,0)},e.SKEW_X=function(e){return VSe(e),o(1,0,Math.atan(e),1,0,0)},e.SKEW_Y=function(e){return VSe(e),o(1,Math.atan(e),0,1,0,0)},e.X_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),VSe(e),o(-1,0,0,1,e,0)},e.Y_AXIS_SYMMETRY=function(e){return void 0===e&&(e=0),VSe(e),o(1,0,0,-1,0,e)},e.A_TO_C=function(){return i((function(e,t,r){return oCe.ARC===e.type?function(e,t,r){var n,i,o,s;e.cX||qSe(e,t,r);for(var a=Math.min(e.phi1,e.phi2),c=Math.max(e.phi1,e.phi2)-a,u=Math.ceil(c/90),l=new Array(u),A=t,h=r,f=0;f<u;f++){var d=JSe(e.phi1,e.phi2,f/u),p=JSe(e.phi1,e.phi2,(f+1)/u),g=p-d,m=4/3*Math.tan(g*$Se/4),y=[Math.cos(d*$Se)-m*Math.sin(d*$Se),Math.sin(d*$Se)+m*Math.cos(d*$Se)],v=y[0],b=y[1],w=[Math.cos(p*$Se),Math.sin(p*$Se)],x=w[0],_=w[1],B=[x+m*Math.sin(p*$Se),_-m*Math.cos(p*$Se)],E=B[0],S=B[1];l[f]={relative:e.relative,type:oCe.CURVE_TO};var C=function(t,r){var n=KSe([t*e.rX,r*e.rY],e.xRot),i=n[0],o=n[1];return[e.cX+i,e.cY+o]};n=C(v,b),l[f].x1=n[0],l[f].y1=n[1],i=C(E,S),l[f].x2=i[0],l[f].y2=i[1],o=C(x,_),l[f].x=o[0],l[f].y=o[1],e.relative&&(l[f].x1-=A,l[f].y1-=h,l[f].x2-=A,l[f].y2-=h,l[f].x-=A,l[f].y-=h),A=(s=[l[f].x,l[f].y])[0],h=s[1]}return l}(e,e.relative?0:t,e.relative?0:r):e}))},e.ANNOTATE_ARCS=function(){return i((function(e,t,r){return e.relative&&(t=0,r=0),oCe.ARC===e.type&&qSe(e,t,r),e}))},e.CLONE=function(){return function(e){var t={};for(var r in e)t[r]=e[r];return t}},e.CALCULATE_BOUNDS=function(){var e=t(),o=n(),s=r(),a=i((function(t,r,n){var i=s(o(e(function(e){var t={};for(var r in e)t[r]=e[r];return t}(t))));function c(e){e>a.maxX&&(a.maxX=e),e<a.minX&&(a.minX=e)}function u(e){e>a.maxY&&(a.maxY=e),e<a.minY&&(a.minY=e)}if(i.type&oCe.DRAWING_COMMANDS&&(c(r),u(n)),i.type&oCe.HORIZ_LINE_TO&&c(i.x),i.type&oCe.VERT_LINE_TO&&u(i.y),i.type&oCe.LINE_TO&&(c(i.x),u(i.y)),i.type&oCe.CURVE_TO){c(i.x),u(i.y);for(var l=0,A=YSe(r,i.x1,i.x2,i.x);l<A.length;l++)0<(C=A[l])&&1>C&&c(ZSe(r,i.x1,i.x2,i.x,C));for(var h=0,f=YSe(n,i.y1,i.y2,i.y);h<f.length;h++)0<(C=f[h])&&1>C&&u(ZSe(n,i.y1,i.y2,i.y,C))}if(i.type&oCe.ARC){c(i.x),u(i.y),qSe(i,r,n);for(var d=i.xRot/180*Math.PI,p=Math.cos(d)*i.rX,g=Math.sin(d)*i.rX,m=-Math.sin(d)*i.rY,y=Math.cos(d)*i.rY,v=i.phi1<i.phi2?[i.phi1,i.phi2]:-180>i.phi2?[i.phi2+360,i.phi1+360]:[i.phi2,i.phi1],b=v[0],w=v[1],x=function(e){var t=e[0],r=e[1],n=180*Math.atan2(r,t)/Math.PI;return n<b?n+360:n},_=0,B=GSe(m,-p,0).map(x);_<B.length;_++)(C=B[_])>b&&C<w&&c(XSe(i.cX,p,m,C));for(var E=0,S=GSe(y,-g,0).map(x);E<S.length;E++){var C;(C=S[E])>b&&C<w&&u(XSe(i.cY,g,y,C))}}return t}));return a.minX=1/0,a.maxX=-1/0,a.minY=1/0,a.maxY=-1/0,a}}(WSe||(WSe={}));var eCe,tCe=function(){function e(){}return e.prototype.round=function(e){return this.transform(WSe.ROUND(e))},e.prototype.toAbs=function(){return this.transform(WSe.TO_ABS())},e.prototype.toRel=function(){return this.transform(WSe.TO_REL())},e.prototype.normalizeHVZ=function(e,t,r){return this.transform(WSe.NORMALIZE_HVZ(e,t,r))},e.prototype.normalizeST=function(){return this.transform(WSe.NORMALIZE_ST())},e.prototype.qtToC=function(){return this.transform(WSe.QT_TO_C())},e.prototype.aToC=function(){return this.transform(WSe.A_TO_C())},e.prototype.sanitize=function(e){return this.transform(WSe.SANITIZE(e))},e.prototype.translate=function(e,t){return this.transform(WSe.TRANSLATE(e,t))},e.prototype.scale=function(e,t){return this.transform(WSe.SCALE(e,t))},e.prototype.rotate=function(e,t,r){return this.transform(WSe.ROTATE(e,t,r))},e.prototype.matrix=function(e,t,r,n,i,o){return this.transform(WSe.MATRIX(e,t,r,n,i,o))},e.prototype.skewX=function(e){return this.transform(WSe.SKEW_X(e))},e.prototype.skewY=function(e){return this.transform(WSe.SKEW_Y(e))},e.prototype.xSymmetry=function(e){return this.transform(WSe.X_AXIS_SYMMETRY(e))},e.prototype.ySymmetry=function(e){return this.transform(WSe.Y_AXIS_SYMMETRY(e))},e.prototype.annotateArcs=function(){return this.transform(WSe.ANNOTATE_ARCS())},e}(),rCe=function(e){return" "===e||"\t"===e||"\r"===e||"\n"===e},nCe=function(e){return"0".charCodeAt(0)<=e.charCodeAt(0)&&e.charCodeAt(0)<="9".charCodeAt(0)},iCe=function(e){function t(){var t=e.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return HSe(t,e),t.prototype.finish=function(e){if(void 0===e&&(e=[]),this.parse(" ",e),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},t.prototype.parse=function(e,t){var r=this;void 0===t&&(t=[]);for(var n=function(e){t.push(e),r.curArgs.length=0,r.canParseCommandOrComma=!0},i=0;i<e.length;i++){var o=e[i],s=!(this.curCommandType!==oCe.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),a=nCe(o)&&("0"===this.curNumber&&"0"===o||s);if(!nCe(o)||a)if("e"!==o&&"E"!==o)if("-"!==o&&"+"!==o||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==o||this.curNumberHasExp||this.curNumberHasDecimal||s){if(this.curNumber&&-1!==this.curCommandType){var c=Number(this.curNumber);if(isNaN(c))throw new SyntaxError("Invalid number ending at "+i);if(this.curCommandType===oCe.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>c)throw new SyntaxError('Expected positive number, got "'+c+'" at index "'+i+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+i+'"');this.curArgs.push(c),this.curArgs.length===sCe[this.curCommandType]&&(oCe.HORIZ_LINE_TO===this.curCommandType?n({type:oCe.HORIZ_LINE_TO,relative:this.curCommandRelative,x:c}):oCe.VERT_LINE_TO===this.curCommandType?n({type:oCe.VERT_LINE_TO,relative:this.curCommandRelative,y:c}):this.curCommandType===oCe.MOVE_TO||this.curCommandType===oCe.LINE_TO||this.curCommandType===oCe.SMOOTH_QUAD_TO?(n({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),oCe.MOVE_TO===this.curCommandType&&(this.curCommandType=oCe.LINE_TO)):this.curCommandType===oCe.CURVE_TO?n({type:oCe.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===oCe.SMOOTH_CURVE_TO?n({type:oCe.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===oCe.QUAD_TO?n({type:oCe.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===oCe.ARC&&n({type:oCe.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!rCe(o))if(","===o&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==o&&"-"!==o&&"."!==o)if(a)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+i+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==o&&"Z"!==o)if("h"===o||"H"===o)this.curCommandType=oCe.HORIZ_LINE_TO,this.curCommandRelative="h"===o;else if("v"===o||"V"===o)this.curCommandType=oCe.VERT_LINE_TO,this.curCommandRelative="v"===o;else if("m"===o||"M"===o)this.curCommandType=oCe.MOVE_TO,this.curCommandRelative="m"===o;else if("l"===o||"L"===o)this.curCommandType=oCe.LINE_TO,this.curCommandRelative="l"===o;else if("c"===o||"C"===o)this.curCommandType=oCe.CURVE_TO,this.curCommandRelative="c"===o;else if("s"===o||"S"===o)this.curCommandType=oCe.SMOOTH_CURVE_TO,this.curCommandRelative="s"===o;else if("q"===o||"Q"===o)this.curCommandType=oCe.QUAD_TO,this.curCommandRelative="q"===o;else if("t"===o||"T"===o)this.curCommandType=oCe.SMOOTH_QUAD_TO,this.curCommandRelative="t"===o;else{if("a"!==o&&"A"!==o)throw new SyntaxError('Unexpected character "'+o+'" at index '+i+".");this.curCommandType=oCe.ARC,this.curCommandRelative="a"===o}else t.push({type:oCe.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal="."===o}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return t},t.prototype.transform=function(e){return Object.create(this,{parse:{value:function(t,r){void 0===r&&(r=[]);for(var n=0,i=Object.getPrototypeOf(this).parse.call(this,t);n<i.length;n++){var o=i[n],s=e(o);Array.isArray(s)?r.push.apply(r,s):r.push(s)}return r}}})},t}(tCe),oCe=function(e){function t(r){var n=e.call(this)||this;return n.commands="string"==typeof r?t.parse(r):r,n}return HSe(t,e),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var e=WSe.CALCULATE_BOUNDS();return this.transform(e),e},t.prototype.transform=function(e){for(var t=[],r=0,n=this.commands;r<n.length;r++){var i=e(n[r]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return this.commands=t,this},t.encode=function(e){return function(e){var t="";Array.isArray(e)||(e=[e]);for(var r=0;r<e.length;r++){var n=e[r];if(n.type===oCe.CLOSE_PATH)t+="z";else if(n.type===oCe.HORIZ_LINE_TO)t+=(n.relative?"h":"H")+n.x;else if(n.type===oCe.VERT_LINE_TO)t+=(n.relative?"v":"V")+n.y;else if(n.type===oCe.MOVE_TO)t+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===oCe.LINE_TO)t+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===oCe.CURVE_TO)t+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===oCe.SMOOTH_CURVE_TO)t+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===oCe.QUAD_TO)t+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===oCe.SMOOTH_QUAD_TO)t+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==oCe.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+r+".");t+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return t}(e)},t.parse=function(e){var t=new iCe,r=[];return t.parse(e,r),t.finish(r),r},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(tCe),sCe=((eCe={})[oCe.MOVE_TO]=2,eCe[oCe.LINE_TO]=2,eCe[oCe.HORIZ_LINE_TO]=1,eCe[oCe.VERT_LINE_TO]=1,eCe[oCe.CLOSE_PATH]=0,eCe[oCe.QUAD_TO]=4,eCe[oCe.SMOOTH_QUAD_TO]=2,eCe[oCe.CURVE_TO]=6,eCe[oCe.SMOOTH_CURVE_TO]=4,eCe[oCe.ARC]=7,eCe),aCe=uAe,cCe=Lhe,uCe=VAe,lCe=Rbe,ACe=RegExp.prototype,hCe=Gfe.PROPER,fCe=Vde,dCe=Sfe,pCe=Fbe,gCe=iAe,mCe=function(e){var t=e.flags;return void 0!==t||"flags"in ACe||cCe(e,"flags")||!uCe(ACe,e)?t:aCe(lCe,e)},yCe="toString",vCe=RegExp.prototype.toString,bCe=gCe((function(){return"/a/b"!=vCe.call({source:"a",flags:"b"})})),wCe=hCe&&vCe.name!=yCe;function xCe(e){return xCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xCe(e)}(bCe||wCe)&&fCe(RegExp.prototype,yCe,(function(){var e=dCe(this);return"/"+pCe(e.source)+"/"+pCe(mCe(e))}),{unsafe:!0});
/**
  * StackBlur - a fast almost Gaussian Blur For Canvas
  *
  * In case you find this class useful - especially in commercial projects -
  * I am not totally unhappy for a small donation to my PayPal account
  * mario@quasimondo.de
  *
  * Or support me on flattr:
  * {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.
  *
  * @module StackBlur
  * @author Mario Klingemann
  * Contact: mario@quasimondo.com
  * Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}
  * Twitter: @quasimondo
  *
  * @copyright (c) 2010 Mario Klingemann
  *
  * Permission is hereby granted, free of charge, to any person
  * obtaining a copy of this software and associated documentation
  * files (the "Software"), to deal in the Software without
  * restriction, including without limitation the rights to use,
  * copy, modify, merge, publish, distribute, sublicense, and/or sell
  * copies of the Software, and to permit persons to whom the
  * Software is furnished to do so, subject to the following
  * conditions:
  *
  * The above copyright notice and this permission notice shall be
  * included in all copies or substantial portions of the Software.
  *
  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
  * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
  * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
  * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
  * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
  * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
  * OTHER DEALINGS IN THE SOFTWARE.
  */
var _Ce=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],BCe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function ECe(e,t,r,n,i,o){if(!(isNaN(o)||o<1)){o|=0;var s=function(e,t,r,n,i){if("string"==typeof e&&(e=document.getElementById(e)),!e||"object"!==xCe(e)||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=e.getContext("2d");try{return o.getImageData(t,r,n,i)}catch(e){throw new Error("unable to access image data: "+e)}}(e,t,r,n,i);s=function(e,t,r,n,i,o){for(var s,a=e.data,c=2*o+1,u=n-1,l=i-1,A=o+1,h=A*(A+1)/2,f=new SCe,d=f,p=1;p<c;p++)d=d.next=new SCe,p===A&&(s=d);d.next=f;for(var g=null,m=null,y=0,v=0,b=_Ce[o],w=BCe[o],x=0;x<i;x++){d=f;for(var _=a[v],B=a[v+1],E=a[v+2],S=a[v+3],C=0;C<A;C++)d.r=_,d.g=B,d.b=E,d.a=S,d=d.next;for(var I=0,k=0,P=0,T=0,O=A*_,L=A*B,N=A*E,U=A*S,F=h*_,M=h*B,R=h*E,D=h*S,j=1;j<A;j++){var Q=v+((u<j?u:j)<<2),H=a[Q],K=a[Q+1],V=a[Q+2],z=a[Q+3],q=A-j;F+=(d.r=H)*q,M+=(d.g=K)*q,R+=(d.b=V)*q,D+=(d.a=z)*q,I+=H,k+=K,P+=V,T+=z,d=d.next}g=f,m=s;for(var G=0;G<n;G++){var W=D*b>>w;if(a[v+3]=W,0!==W){var $=255/W;a[v]=(F*b>>w)*$,a[v+1]=(M*b>>w)*$,a[v+2]=(R*b>>w)*$}else a[v]=a[v+1]=a[v+2]=0;F-=O,M-=L,R-=N,D-=U,O-=g.r,L-=g.g,N-=g.b,U-=g.a;var J=G+o+1;J=y+(J<u?J:u)<<2,F+=I+=g.r=a[J],M+=k+=g.g=a[J+1],R+=P+=g.b=a[J+2],D+=T+=g.a=a[J+3],g=g.next;var X=m,Y=X.r,Z=X.g,ee=X.b,te=X.a;O+=Y,L+=Z,N+=ee,U+=te,I-=Y,k-=Z,P-=ee,T-=te,m=m.next,v+=4}y+=n}for(var re=0;re<n;re++){var ne=a[v=re<<2],ie=a[v+1],oe=a[v+2],se=a[v+3],ae=A*ne,ce=A*ie,ue=A*oe,le=A*se,Ae=h*ne,he=h*ie,fe=h*oe,de=h*se;d=f;for(var pe=0;pe<A;pe++)d.r=ne,d.g=ie,d.b=oe,d.a=se,d=d.next;for(var ge=n,me=0,ye=0,ve=0,be=0,we=1;we<=o;we++){v=ge+re<<2;var xe=A-we;Ae+=(d.r=ne=a[v])*xe,he+=(d.g=ie=a[v+1])*xe,fe+=(d.b=oe=a[v+2])*xe,de+=(d.a=se=a[v+3])*xe,be+=ne,me+=ie,ye+=oe,ve+=se,d=d.next,we<l&&(ge+=n)}v=re,g=f,m=s;for(var _e=0;_e<i;_e++){var Be=v<<2;a[Be+3]=se=de*b>>w,se>0?(se=255/se,a[Be]=(Ae*b>>w)*se,a[Be+1]=(he*b>>w)*se,a[Be+2]=(fe*b>>w)*se):a[Be]=a[Be+1]=a[Be+2]=0,Ae-=ae,he-=ce,fe-=ue,de-=le,ae-=g.r,ce-=g.g,ue-=g.b,le-=g.a,Be=re+((Be=_e+A)<l?Be:l)*n<<2,Ae+=be+=g.r=a[Be],he+=me+=g.g=a[Be+1],fe+=ye+=g.b=a[Be+2],de+=ve+=g.a=a[Be+3],g=g.next,ae+=ne=m.r,ce+=ie=m.g,ue+=oe=m.b,le+=se=m.a,be-=ne,me-=ie,ye-=oe,ve-=se,m=m.next,v+=n}}return e}(s,0,0,n,i,o),e.getContext("2d").putImageData(s,t,r)}}var SCe=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var CCe=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,createCanvas:(e,t)=>new OffscreenCanvas(e,t),createImage:e=>Lbe((function*(){var t=yield fetch(e),r=yield t.blob();return yield createImageBitmap(r)}))()};return"undefined"==typeof DOMParser&&void 0!==e||Reflect.deleteProperty(t,"DOMParser"),t},node:function(e){var{DOMParser:t,canvas:r,fetch:n}=e;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,fetch:n,createCanvas:r.createCanvas,createImage:r.loadImage}}});function ICe(e){return e.replace(/(?!\u3000)\s+/gm," ")}function kCe(e){return e.replace(/^[\n \t]+/,"")}function PCe(e){return e.replace(/[\n \t]+$/,"")}function TCe(e){return((e||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var OCe=/^[A-Z-]+$/;function LCe(e){return OCe.test(e)?e.toLowerCase():e}function NCe(e){var t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(e)||[];return t[2]||t[3]||t[4]}function UCe(e){if(!e.startsWith("rgb"))return e;var t=3;return e.replace(/\d+(\.\d+)?/g,((e,r)=>t--&&r?String(Math.round(parseFloat(e))):e))}var FCe=/(\[[^\]]+\])/g,MCe=/(#[^\s+>~.[:]+)/g,RCe=/(\.[^\s+>~.[:]+)/g,DCe=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,jCe=/(:[\w-]+\([^)]*\))/gi,QCe=/(:[^\s+>~.[:]+)/g,HCe=/([^\s+>~.[:]+)/g;function KCe(e,t){var r=t.exec(e);return r?[e.replace(t," "),r.length]:[e,0]}function VCe(e){var t=[0,0,0],r=e.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[r,n]=KCe(r,FCe),t[1]+=n,[r,n]=KCe(r,MCe),t[0]+=n,[r,n]=KCe(r,RCe),t[1]+=n,[r,n]=KCe(r,DCe),t[2]+=n,[r,n]=KCe(r,jCe),t[1]+=n,[r,n]=KCe(r,QCe),t[1]+=n,r=r.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[r,n]=KCe(r,HCe),t[2]+=n,t.join("")}var zCe=1e-8;function qCe(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function GCe(e,t){return(e[0]*t[0]+e[1]*t[1])/(qCe(e)*qCe(t))}function WCe(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(GCe(e,t))}function $Ce(e){return e*e*e}function JCe(e){return 3*e*e*(1-e)}function XCe(e){return 3*e*(1-e)*(1-e)}function YCe(e){return(1-e)*(1-e)*(1-e)}function ZCe(e){return e*e}function eIe(e){return 2*e*(1-e)}function tIe(e){return(1-e)*(1-e)}class rIe{constructor(e,t,r){this.document=e,this.name=t,this.value=r,this.isNormalizedColor=!1}static empty(e){return new rIe(e,"EMPTY","")}split(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:t,name:r}=this;return ICe(this.getString()).trim().split(e).map((e=>new rIe(t,r,e)))}hasValue(e){var{value:t}=this;return null!==t&&""!==t&&(e||0!==t)&&void 0!==t}isString(e){var{value:t}=this,r="string"==typeof t;return r&&e?e.test(t):r}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return void 0===e||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return void 0===e?0:parseFloat(e);var{value:t}=this,r=parseFloat(t);return this.isString(/%$/)&&(r/=100),r}getString(e){return void 0===e||this.hasValue()?void 0===this.value?"":String(this.value):String(e)}getColor(e){var t=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=UCe(t),this.value=t),t}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[r,n]="boolean"==typeof e?[void 0,e]:[e],{viewPort:i}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(i.computeSize("x"),i.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(i.computeSize("x"),i.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*i.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*i.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&n:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*i.computeSize(r);default:var o=this.getNumber();return t&&o<1?o*i.computeSize(r):o}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),t=/#([^)'"]+)/.exec(e);return t&&(t=t[1]),t||(t=e),this.document.definitions[t]}getFillStyleDefinition(e,t){var r=this.getDefinition();if(!r)return null;if("function"==typeof r.createGradient)return r.createGradient(this.document.ctx,e,t);if("function"==typeof r.createPattern){if(r.getHrefAttribute().hasValue()){var n=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),n.hasValue()&&r.getAttribute("patternTransform",!0).setValue(n.value)}return r.createPattern(this.document.ctx,e,t)}return null}getTextBaseline(){return this.hasValue()?rIe.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var t=this.getColor(),r=t.length,n=0,i=0;i<r&&(","===t[i]&&n++,3!==n);i++);if(e.hasValue()&&this.isString()&&3!==n){var o=new _Se(t);o.ok&&(o.alpha=e.getNumber(),t=o.toRGBA())}return new rIe(this.document,this.name,t)}}rIe.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class nIe{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,t){this.viewPorts.push({width:e,height:t})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return"number"==typeof e?e:"x"===e?this.width:"y"===e?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class iIe{constructor(e,t){this.x=e,this.y=t}static parse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[r=t,n=t]=TCe(e);return new iIe(r,n)}static parseScale(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[r=t,n=r]=TCe(e);return new iIe(r,n)}static parsePath(e){for(var t=TCe(e),r=t.length,n=[],i=0;i<r;i+=2)n.push(new iIe(t[i],t[i+1]));return n}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:t,y:r}=this,n=t*e[0]+r*e[2]+e[4],i=t*e[1]+r*e[3]+e[5];this.x=n,this.y=i}}class oIe{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:t,onMouseMove:r}=this,n=e.ctx.canvas;n.onclick=t,n.onmousemove=r,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:t,eventElements:r}=this,{style:n}=e.ctx.canvas;n&&(n.cursor=""),t.forEach(((e,t)=>{for(var{run:n}=e,i=r[t];i;)n(i),i=i.parent})),this.events=[],this.eventElements=[]}}checkPath(e,t){if(this.working&&t){var{events:r,eventElements:n}=this;r.forEach(((r,i)=>{var{x:o,y:s}=r;!n[i]&&t.isPointInPath&&t.isPointInPath(o,s)&&(n[i]=e)}))}}checkBoundingBox(e,t){if(this.working&&t){var{events:r,eventElements:n}=this;r.forEach(((r,i)=>{var{x:o,y:s}=r;!n[i]&&t.isPointInBox(o,s)&&(n[i]=e)}))}}mapXY(e,t){for(var{window:r,ctx:n}=this.screen,i=new iIe(e,t),o=n.canvas;o;)i.x-=o.offsetLeft,i.y-=o.offsetTop,o=o.offsetParent;return r.scrollX&&(i.x+=r.scrollX),r.scrollY&&(i.y+=r.scrollY),i}onClick(e){var{x:t,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:t,y:r,run(e){e.onClick&&e.onClick()}})}onMouseMove(e){var{x:t,y:r}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:t,y:r,run(e){e.onMouseMove&&e.onMouseMove()}})}}var sIe="undefined"!=typeof window?window:null,aIe="undefined"!=typeof fetch?fetch.bind(void 0):null;class cIe{constructor(e){var{fetch:t=aIe,window:r=sIe}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new nIe,this.mouse=new oIe(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,this.fetch=t}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every((e=>e()));return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:t,ctx:r,aspectRatio:n,width:i,desiredWidth:o,height:s,desiredHeight:a,minX:c=0,minY:u=0,refX:l,refY:A,clip:h=!1,clipX:f=0,clipY:d=0}=e,p=ICe(n).replace(/^defer\s/,""),[g,m]=p.split(" "),y=g||"xMidYMid",v=m||"meet",b=i/o,w=s/a,x=Math.min(b,w),_=Math.max(b,w),B=o,E=a;"meet"===v&&(B*=x,E*=x),"slice"===v&&(B*=_,E*=_);var S=new rIe(t,"refX",l),C=new rIe(t,"refY",A),I=S.hasValue()&&C.hasValue();if(I&&r.translate(-x*S.getPixels("x"),-x*C.getPixels("y")),h){var k=x*f,P=x*d;r.beginPath(),r.moveTo(k,P),r.lineTo(i,P),r.lineTo(i,s),r.lineTo(k,s),r.closePath(),r.clip()}if(!I){var T="meet"===v&&x===w,O="slice"===v&&_===w,L="meet"===v&&x===b,N="slice"===v&&_===b;y.startsWith("xMid")&&(T||O)&&r.translate(i/2-B/2,0),y.endsWith("YMid")&&(L||N)&&r.translate(0,s/2-E/2),y.startsWith("xMax")&&(T||O)&&r.translate(i-B,0),y.endsWith("YMax")&&(L||N)&&r.translate(0,s-E)}switch(!0){case"none"===y:r.scale(b,w);break;case"meet"===v:r.scale(x,x);break;case"slice"===v:r.scale(_,_)}r.translate(-c,-u)}start(e){var{enableRedraw:t=!1,ignoreMouse:r=!1,ignoreAnimation:n=!1,ignoreDimensions:i=!1,ignoreClear:o=!1,forceRedraw:s,scaleWidth:a,scaleHeight:c,offsetX:u,offsetY:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:A,mouse:h}=this,f=1e3/A;if(this.frameDuration=f,this.readyPromise=new Promise((e=>{this.resolveReady=e})),this.isReady()&&this.render(e,i,o,a,c,u,l),t){var d=Date.now(),p=d,g=0,m=()=>{d=Date.now(),(g=d-p)>=f&&(p=d-g%f,this.shouldUpdate(n,s)&&(this.render(e,i,o,a,c,u,l),h.runEvents())),this.intervalId=YEe.exports(m)};r||h.start(),this.intervalId=YEe.exports(m)}}stop(){this.intervalId&&(YEe.exports.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,t){if(!e){var{frameDuration:r}=this;if(this.animations.reduce(((e,t)=>t.update(r)||e),!1))return!0}return!("function"!=typeof t||!t())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(e,t,r,n,i,o,s){var{CLIENT_WIDTH:a,CLIENT_HEIGHT:c,viewPort:u,ctx:l,isFirstRender:A}=this,h=l.canvas;u.clear(),h.width&&h.height?u.setCurrent(h.width,h.height):u.setCurrent(a,c);var f=e.getStyle("width"),d=e.getStyle("height");!t&&(A||"number"!=typeof n&&"number"!=typeof i)&&(f.hasValue()&&(h.width=f.getPixels("x"),h.style&&(h.style.width="".concat(h.width,"px"))),d.hasValue()&&(h.height=d.getPixels("y"),h.style&&(h.style.height="".concat(h.height,"px"))));var p=h.clientWidth||h.width,g=h.clientHeight||h.height;if(t&&f.hasValue()&&d.hasValue()&&(p=f.getPixels("x"),g=d.getPixels("y")),u.setCurrent(p,g),"number"==typeof o&&e.getAttribute("x",!0).setValue(o),"number"==typeof s&&e.getAttribute("y",!0).setValue(s),"number"==typeof n||"number"==typeof i){var m=TCe(e.getAttribute("viewBox").getString()),y=0,v=0;if("number"==typeof n){var b=e.getStyle("width");b.hasValue()?y=b.getPixels("x")/n:isNaN(m[2])||(y=m[2]/n)}if("number"==typeof i){var w=e.getStyle("height");w.hasValue()?v=w.getPixels("y")/i:isNaN(m[3])||(v=m[3]/i)}y||(y=v),v||(v=y),e.getAttribute("width",!0).setValue(n),e.getAttribute("height",!0).setValue(i);var x=e.getStyle("transform",!0,!0);x.setValue("".concat(x.getString()," scale(").concat(1/y,", ").concat(1/v,")"))}r||l.clearRect(0,0,p,g),e.render(l),A&&(this.isFirstRender=!1)}}cIe.defaultWindow=sIe,cIe.defaultFetch=aIe;var{defaultFetch:uIe}=cIe,lIe="undefined"!=typeof DOMParser?DOMParser:null;class AIe{constructor(){var{fetch:e=uIe,DOMParser:t=lIe}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=e,this.DOMParser=t}parse(e){var t=this;return Lbe((function*(){return e.startsWith("<")?t.parseFromString(e):t.load(e)}))()}parseFromString(e){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(e,"image/svg+xml"))}catch(r){return this.checkDocument(t.parseFromString(e,"text/xml"))}}checkDocument(e){var t=e.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return e}load(e){var t=this;return Lbe((function*(){var r=yield t.fetch(e),n=yield r.text();return t.parseFromString(n)}))()}}class hIe{constructor(e,t){this.type="translate",this.point=null,this.point=iIe.parse(t)}apply(e){var{x:t,y:r}=this.point;e.translate(t||0,r||0)}unapply(e){var{x:t,y:r}=this.point;e.translate(-1*t||0,-1*r||0)}applyToPoint(e){var{x:t,y:r}=this.point;e.applyTransform([1,0,0,1,t||0,r||0])}}class fIe{constructor(e,t,r){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var n=TCe(t);this.angle=new rIe(e,"angle",n[0]),this.originX=r[0],this.originY=r[1],this.cx=n[1]||0,this.cy=n[2]||0}apply(e){var{cx:t,cy:r,originX:n,originY:i,angle:o}=this,s=t+n.getPixels("x"),a=r+i.getPixels("y");e.translate(s,a),e.rotate(o.getRadians()),e.translate(-s,-a)}unapply(e){var{cx:t,cy:r,originX:n,originY:i,angle:o}=this,s=t+n.getPixels("x"),a=r+i.getPixels("y");e.translate(s,a),e.rotate(-1*o.getRadians()),e.translate(-s,-a)}applyToPoint(e){var{cx:t,cy:r,angle:n}=this,i=n.getRadians();e.applyTransform([1,0,0,1,t||0,r||0]),e.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),e.applyTransform([1,0,0,1,-t||0,-r||0])}}class dIe{constructor(e,t,r){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var n=iIe.parseScale(t);0!==n.x&&0!==n.y||(n.x=zCe,n.y=zCe),this.scale=n,this.originX=r[0],this.originY=r[1]}apply(e){var{scale:{x:t,y:r},originX:n,originY:i}=this,o=n.getPixels("x"),s=i.getPixels("y");e.translate(o,s),e.scale(t,r||t),e.translate(-o,-s)}unapply(e){var{scale:{x:t,y:r},originX:n,originY:i}=this,o=n.getPixels("x"),s=i.getPixels("y");e.translate(o,s),e.scale(1/t,1/r||t),e.translate(-o,-s)}applyToPoint(e){var{x:t,y:r}=this.scale;e.applyTransform([t||0,0,0,r||0,0,0])}}class pIe{constructor(e,t,r){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=TCe(t),this.originX=r[0],this.originY=r[1]}apply(e){var{originX:t,originY:r,matrix:n}=this,i=t.getPixels("x"),o=r.getPixels("y");e.translate(i,o),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),e.translate(-i,-o)}unapply(e){var{originX:t,originY:r,matrix:n}=this,i=n[0],o=n[2],s=n[4],a=n[1],c=n[3],u=n[5],l=1/(i*(1*c-0*u)-o*(1*a-0*u)+s*(0*a-0*c)),A=t.getPixels("x"),h=r.getPixels("y");e.translate(A,h),e.transform(l*(1*c-0*u),l*(0*u-1*a),l*(0*s-1*o),l*(1*i-0*s),l*(o*u-s*c),l*(s*a-i*u)),e.translate(-A,-h)}applyToPoint(e){e.applyTransform(this.matrix)}}class gIe extends pIe{constructor(e,t,r){super(e,t,r),this.type="skew",this.angle=null,this.angle=new rIe(e,"angle",t)}}class mIe extends gIe{constructor(e,t,r){super(e,t,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class yIe extends gIe{constructor(e,t,r){super(e,t,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class vIe{constructor(e,t,r){this.document=e,this.transforms=[];var n=function(e){return ICe(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(t);n.forEach((e=>{if("none"!==e){var[t,n]=function(e){var[t,r]=e.split("(");return[t.trim(),r.trim().replace(")","")]}(e),i=vIe.transformTypes[t];void 0!==i&&this.transforms.push(new i(this.document,n,r))}}))}static fromElement(e,t){var r=t.getStyle("transform",!1,!0),[n,i=n]=t.getStyle("transform-origin",!1,!0).split(),o=[n,i];return r.hasValue()?new vIe(e,r.getString(),o):null}apply(e){for(var{transforms:t}=this,r=t.length,n=0;n<r;n++)t[n].apply(e)}unapply(e){for(var{transforms:t}=this,r=t.length-1;r>=0;r--)t[r].unapply(e)}applyToPoint(e){for(var{transforms:t}=this,r=t.length,n=0;n<r;n++)t[n].applyToPoint(e)}}vIe.transformTypes={translate:hIe,rotate:fIe,scale:dIe,matrix:pIe,skewX:mIe,skewY:yIe};class bIe{constructor(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=e,this.node=t,this.captureTextNodes=r,this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],t&&1===t.nodeType){if(Array.from(t.attributes).forEach((t=>{var r=LCe(t.nodeName);this.attributes[r]=new rIe(e,r,t.value)})),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var n=this.getAttribute("style").getString().split(";").map((e=>e.trim()));n.forEach((t=>{if(t){var[r,n]=t.split(":").map((e=>e.trim()));this.styles[r]=new rIe(e,r,n)}}))}var{definitions:i}=e,o=this.getAttribute("id");o.hasValue()&&(i[o.getString()]||(i[o.getString()]=this)),Array.from(t.childNodes).forEach((t=>{if(1===t.nodeType)this.addChild(t);else if(r&&(3===t.nodeType||4===t.nodeType)){var n=e.createTextNode(t);n.getText().length>0&&this.addChild(n)}}))}}getAttribute(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.attributes[e];if(!r&&t){var n=new rIe(this.document,e,"");return this.attributes[e]=n,n}return r||rIe.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if("href"===e||e.endsWith(":href"))return this.attributes[e];return rIe.empty(this.document)}getStyle(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.styles[e];if(n)return n;var i=this.getAttribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i,i;if(!r){var{parent:o}=this;if(o){var s=o.getStyle(e);if(null!=s&&s.hasValue())return s}}if(t){var a=new rIe(this.document,e,"");return this.styles[e]=a,a}return n||rIe.empty(this.document)}render(e){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(e.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else if("none"!==this.getStyle("filter").getValue("none")){var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(e),r.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var t=vIe.fromElement(this.document,this);t&&t.apply(e);var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var n=r.getDefinition();n&&n.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach((t=>{t.render(e)}))}addChild(e){var t=e instanceof bIe?e:this.document.createElement(e);t.parent=this,bIe.ignoreChildTypes.includes(t.type)||this.children.push(t)}matchesSelector(e){var t,{node:r}=this;if("function"==typeof r.matches)return r.matches(e);var n=null===(t=r.getAttribute)||void 0===t?void 0:t.call(r,"class");return!(!n||""===n)&&n.split(" ").some((t=>".".concat(t)===e))}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:t}=this.document;for(var r in e)if(!r.startsWith("@")&&this.matchesSelector(r)){var n=e[r],i=t[r];if(n)for(var o in n){var s=this.stylesSpecificity[o];void 0===s&&(s="000"),i>=s&&(this.styles[o]=n[o],this.stylesSpecificity[o]=i)}}}removeStyles(e,t){return t.reduce(((t,r)=>{var n=e.getStyle(r);if(!n.hasValue())return t;var i=n.getString();return n.setValue(""),[...t,[r,i]]}),[])}restoreStyles(e,t){t.forEach((t=>{var[r,n]=t;e.getStyle(r,!0).setValue(n)}))}isFirstChild(){var e;return 0===(null===(e=this.parent)||void 0===e?void 0:e.children.indexOf(this))}}bIe.ignoreChildTypes=["title"];class wIe extends bIe{constructor(e,t,r){super(e,t,r)}}function xIe(e){var t=e.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function _Ie(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function BIe(e){if(!e)return"";var t=e.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}class EIe{constructor(e,t,r,n,i,o){var s=o?"string"==typeof o?EIe.parse(o):o:{};this.fontFamily=i||s.fontFamily,this.fontSize=n||s.fontSize,this.fontStyle=e||s.fontStyle,this.fontWeight=r||s.fontWeight,this.fontVariant=t||s.fontVariant}static parse(){var e=arguments.length>1?arguments[1]:void 0,t="",r="",n="",i="",o="",s=ICe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return s.forEach((e=>{switch(!0){case!a.fontStyle&&EIe.styles.includes(e):"inherit"!==e&&(t=e),a.fontStyle=!0;break;case!a.fontVariant&&EIe.variants.includes(e):"inherit"!==e&&(r=e),a.fontStyle=!0,a.fontVariant=!0;break;case!a.fontWeight&&EIe.weights.includes(e):"inherit"!==e&&(n=e),a.fontStyle=!0,a.fontVariant=!0,a.fontWeight=!0;break;case!a.fontSize:"inherit"!==e&&([i]=e.split("/")),a.fontStyle=!0,a.fontVariant=!0,a.fontWeight=!0,a.fontSize=!0;break;default:"inherit"!==e&&(o+=e)}})),new EIe(t,r,n,i,o,e)}toString(){return[_Ie(this.fontStyle),this.fontVariant,BIe(this.fontWeight),this.fontSize,(e=this.fontFamily,"undefined"==typeof process?e:e.trim().split(",").map(xIe).join(","))].join(" ").trim();var e}}EIe.styles="normal|italic|oblique|inherit",EIe.variants="normal|small-caps|inherit",EIe.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class SIe{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=e,this.y1=t,this.x2=r,this.y2=n,this.addPoint(e,t),this.addPoint(r,n)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,t){void 0!==e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),void 0!==t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:t,y1:r,x2:n,y2:i}=e;this.addPoint(t,r),this.addPoint(n,i)}}sumCubic(e,t,r,n,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*r+3*(1-e)*Math.pow(e,2)*n+Math.pow(e,3)*i}bezierCurveAdd(e,t,r,n,i){var o=6*t-12*r+6*n,s=-3*t+9*r-9*n+3*i,a=3*r-3*t;if(0!==s){var c=Math.pow(o,2)-4*a*s;if(!(c<0)){var u=(-o+Math.sqrt(c))/(2*s);0<u&&u<1&&(e?this.addX(this.sumCubic(u,t,r,n,i)):this.addY(this.sumCubic(u,t,r,n,i)));var l=(-o-Math.sqrt(c))/(2*s);0<l&&l<1&&(e?this.addX(this.sumCubic(l,t,r,n,i)):this.addY(this.sumCubic(l,t,r,n,i)))}}else{if(0===o)return;var A=-a/o;0<A&&A<1&&(e?this.addX(this.sumCubic(A,t,r,n,i)):this.addY(this.sumCubic(A,t,r,n,i)))}}addBezierCurve(e,t,r,n,i,o,s,a){this.addPoint(e,t),this.addPoint(s,a),this.bezierCurveAdd(!0,e,r,i,s),this.bezierCurveAdd(!1,t,n,o,a)}addQuadraticCurve(e,t,r,n,i,o){var s=e+2/3*(r-e),a=t+2/3*(n-t),c=s+1/3*(i-e),u=a+1/3*(o-t);this.addBezierCurve(e,t,s,c,a,u,i,o)}isPointInBox(e,t){var{x1:r,y1:n,x2:i,y2:o}=this;return r<=e&&e<=i&&n<=t&&t<=o}}class CIe extends oCe{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new iIe(0,0),this.control=new iIe(0,0),this.current=new iIe(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:t}=this;return e>=t.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",r=new iIe(this.command[e],this.command[t]);return this.makeAbsolute(r)}getAsControlPoint(e,t){var r=this.getPoint(e,t);return this.control=r,r}getAsCurrentPoint(e,t){var r=this.getPoint(e,t);return this.current=r,r}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==oCe.CURVE_TO&&e!==oCe.SMOOTH_CURVE_TO&&e!==oCe.QUAD_TO&&e!==oCe.SMOOTH_QUAD_TO)return this.current;var{current:{x:t,y:r},control:{x:n,y:i}}=this;return new iIe(2*t-n,2*r-i)}makeAbsolute(e){if(this.command.relative){var{x:t,y:r}=this.current;e.x+=t,e.y+=r}return e}addMarker(e,t,r){var{points:n,angles:i}=this;r&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=n[n.length-1].angleTo(r)),this.addMarkerAngle(e,t?t.angleTo(e):null)}addMarkerAngle(e,t){this.points.push(e),this.angles.push(t)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,t=e.length,r=0;r<t;r++)if(!e[r])for(var n=r+1;n<t;n++)if(e[n]){e[r]=e[n];break}return e}}class IIe extends bIe{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,t=this;t;){var r=t.getStyle("opacity",!1,!0);r.hasValue(!0)&&(e*=r.getNumber()),t=t.parent}return e}setContext(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t){var r=this.getStyle("fill"),n=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),o=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var s=r.getFillStyleDefinition(this,n);s&&(e.fillStyle=s)}else if(r.hasValue()){"currentColor"===r.getString()&&r.setValue(this.getStyle("color").getColor());var a=r.getColor();"inherit"!==a&&(e.fillStyle="none"===a?"rgba(0,0,0,0)":a)}if(n.hasValue()){var c=new rIe(this.document,"fill",e.fillStyle).addOpacity(n).getColor();e.fillStyle=c}if(i.isUrlDefinition()){var u=i.getFillStyleDefinition(this,o);u&&(e.strokeStyle=u)}else if(i.hasValue()){"currentColor"===i.getString()&&i.setValue(this.getStyle("color").getColor());var l=i.getString();"inherit"!==l&&(e.strokeStyle="none"===l?"rgba(0,0,0,0)":l)}if(o.hasValue()){var A=new rIe(this.document,"stroke",e.strokeStyle).addOpacity(o).getString();e.strokeStyle=A}var h=this.getStyle("stroke-width");if(h.hasValue()){var f=h.getPixels();e.lineWidth=f||zCe}var d=this.getStyle("stroke-linecap"),p=this.getStyle("stroke-linejoin"),g=this.getStyle("stroke-miterlimit"),m=this.getStyle("stroke-dasharray"),y=this.getStyle("stroke-dashoffset");if(d.hasValue()&&(e.lineCap=d.getString()),p.hasValue()&&(e.lineJoin=p.getString()),g.hasValue()&&(e.miterLimit=g.getNumber()),m.hasValue()&&"none"!==m.getString()){var v=TCe(m.getString());void 0!==e.setLineDash?e.setLineDash(v):void 0!==e.webkitLineDash?e.webkitLineDash=v:void 0===e.mozDash||1===v.length&&0===v[0]||(e.mozDash=v);var b=y.getPixels();void 0!==e.lineDashOffset?e.lineDashOffset=b:void 0!==e.webkitLineDashOffset?e.webkitLineDashOffset=b:void 0!==e.mozDashOffset&&(e.mozDashOffset=b)}}if(this.modifiedEmSizeStack=!1,void 0!==e.font){var w=this.getStyle("font"),x=this.getStyle("font-style"),_=this.getStyle("font-variant"),B=this.getStyle("font-weight"),E=this.getStyle("font-size"),S=this.getStyle("font-family"),C=new EIe(x.getString(),_.getString(),B.getString(),E.hasValue()?"".concat(E.getPixels(!0),"px"):"",S.getString(),EIe.parse(w.getString(),e.font));x.setValue(C.fontStyle),_.setValue(C.fontVariant),B.setValue(C.fontWeight),E.setValue(C.fontSize),S.setValue(C.fontFamily),e.font=C.toString(),E.isPixels()&&(this.document.emSize=E.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class kIe extends IIe{constructor(e,t,r){super(e,t,r),this.type="path",this.pathParser=null,this.pathParser=new CIe(this.getAttribute("d").getString())}path(e){var{pathParser:t}=this,r=new SIe;for(t.reset(),e&&e.beginPath();!t.isEnd();)switch(t.next().type){case CIe.MOVE_TO:this.pathM(e,r);break;case CIe.LINE_TO:this.pathL(e,r);break;case CIe.HORIZ_LINE_TO:this.pathH(e,r);break;case CIe.VERT_LINE_TO:this.pathV(e,r);break;case CIe.CURVE_TO:this.pathC(e,r);break;case CIe.SMOOTH_CURVE_TO:this.pathS(e,r);break;case CIe.QUAD_TO:this.pathQ(e,r);break;case CIe.SMOOTH_QUAD_TO:this.pathT(e,r);break;case CIe.ARC:this.pathA(e,r);break;case CIe.CLOSE_PATH:this.pathZ(e,r)}return r}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,t=e.getMarkerPoints(),r=e.getMarkerAngles(),n=t.map(((e,t)=>[e,r[t]]));return n}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var t=this.getStyle("fill-rule");""!==e.fillStyle&&("inherit"!==t.getString("inherit")?e.fill(t.getString()):e.fill()),""!==e.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var r=this.getMarkers();if(r){var n=r.length-1,i=this.getStyle("marker-start"),o=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(i.isUrlDefinition()){var a=i.getDefinition(),[c,u]=r[0];a.render(e,c,u)}if(o.isUrlDefinition())for(var l=o.getDefinition(),A=1;A<n;A++){var[h,f]=r[A];l.render(e,h,f)}if(s.isUrlDefinition()){var d=s.getDefinition(),[p,g]=r[n];d.render(e,p,g)}}}static pathM(e){var t=e.getAsCurrentPoint();return e.start=e.current,{point:t}}pathM(e,t){var{pathParser:r}=this,{point:n}=kIe.pathM(r),{x:i,y:o}=n;r.addMarker(n),t.addPoint(i,o),e&&e.moveTo(i,o)}static pathL(e){var{current:t}=e;return{current:t,point:e.getAsCurrentPoint()}}pathL(e,t){var{pathParser:r}=this,{current:n,point:i}=kIe.pathL(r),{x:o,y:s}=i;r.addMarker(i,n),t.addPoint(o,s),e&&e.lineTo(o,s)}static pathH(e){var{current:t,command:r}=e,n=new iIe((r.relative?t.x:0)+r.x,t.y);return e.current=n,{current:t,point:n}}pathH(e,t){var{pathParser:r}=this,{current:n,point:i}=kIe.pathH(r),{x:o,y:s}=i;r.addMarker(i,n),t.addPoint(o,s),e&&e.lineTo(o,s)}static pathV(e){var{current:t,command:r}=e,n=new iIe(t.x,(r.relative?t.y:0)+r.y);return e.current=n,{current:t,point:n}}pathV(e,t){var{pathParser:r}=this,{current:n,point:i}=kIe.pathV(r),{x:o,y:s}=i;r.addMarker(i,n),t.addPoint(o,s),e&&e.lineTo(o,s)}static pathC(e){var{current:t}=e;return{current:t,point:e.getPoint("x1","y1"),controlPoint:e.getAsControlPoint("x2","y2"),currentPoint:e.getAsCurrentPoint()}}pathC(e,t){var{pathParser:r}=this,{current:n,point:i,controlPoint:o,currentPoint:s}=kIe.pathC(r);r.addMarker(s,o,i),t.addBezierCurve(n.x,n.y,i.x,i.y,o.x,o.y,s.x,s.y),e&&e.bezierCurveTo(i.x,i.y,o.x,o.y,s.x,s.y)}static pathS(e){var{current:t}=e;return{current:t,point:e.getReflectedControlPoint(),controlPoint:e.getAsControlPoint("x2","y2"),currentPoint:e.getAsCurrentPoint()}}pathS(e,t){var{pathParser:r}=this,{current:n,point:i,controlPoint:o,currentPoint:s}=kIe.pathS(r);r.addMarker(s,o,i),t.addBezierCurve(n.x,n.y,i.x,i.y,o.x,o.y,s.x,s.y),e&&e.bezierCurveTo(i.x,i.y,o.x,o.y,s.x,s.y)}static pathQ(e){var{current:t}=e;return{current:t,controlPoint:e.getAsControlPoint("x1","y1"),currentPoint:e.getAsCurrentPoint()}}pathQ(e,t){var{pathParser:r}=this,{current:n,controlPoint:i,currentPoint:o}=kIe.pathQ(r);r.addMarker(o,i,i),t.addQuadraticCurve(n.x,n.y,i.x,i.y,o.x,o.y),e&&e.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathT(e){var{current:t}=e,r=e.getReflectedControlPoint();return e.control=r,{current:t,controlPoint:r,currentPoint:e.getAsCurrentPoint()}}pathT(e,t){var{pathParser:r}=this,{current:n,controlPoint:i,currentPoint:o}=kIe.pathT(r);r.addMarker(o,i,i),t.addQuadraticCurve(n.x,n.y,i.x,i.y,o.x,o.y),e&&e.quadraticCurveTo(i.x,i.y,o.x,o.y)}static pathA(e){var{current:t,command:r}=e,{rX:n,rY:i,xRot:o,lArcFlag:s,sweepFlag:a}=r,c=o*(Math.PI/180),u=e.getAsCurrentPoint(),l=new iIe(Math.cos(c)*(t.x-u.x)/2+Math.sin(c)*(t.y-u.y)/2,-Math.sin(c)*(t.x-u.x)/2+Math.cos(c)*(t.y-u.y)/2),A=Math.pow(l.x,2)/Math.pow(n,2)+Math.pow(l.y,2)/Math.pow(i,2);A>1&&(n*=Math.sqrt(A),i*=Math.sqrt(A));var h=(s===a?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(i,2)-Math.pow(n,2)*Math.pow(l.y,2)-Math.pow(i,2)*Math.pow(l.x,2))/(Math.pow(n,2)*Math.pow(l.y,2)+Math.pow(i,2)*Math.pow(l.x,2)));isNaN(h)&&(h=0);var f=new iIe(h*n*l.y/i,h*-i*l.x/n),d=new iIe((t.x+u.x)/2+Math.cos(c)*f.x-Math.sin(c)*f.y,(t.y+u.y)/2+Math.sin(c)*f.x+Math.cos(c)*f.y),p=WCe([1,0],[(l.x-f.x)/n,(l.y-f.y)/i]),g=[(l.x-f.x)/n,(l.y-f.y)/i],m=[(-l.x-f.x)/n,(-l.y-f.y)/i],y=WCe(g,m);return GCe(g,m)<=-1&&(y=Math.PI),GCe(g,m)>=1&&(y=0),{currentPoint:u,rX:n,rY:i,sweepFlag:a,xAxisRotation:c,centp:d,a1:p,ad:y}}pathA(e,t){var{pathParser:r}=this,{currentPoint:n,rX:i,rY:o,sweepFlag:s,xAxisRotation:a,centp:c,a1:u,ad:l}=kIe.pathA(r),A=1-s?1:-1,h=u+A*(l/2),f=new iIe(c.x+i*Math.cos(h),c.y+o*Math.sin(h));if(r.addMarkerAngle(f,h-A*Math.PI/2),r.addMarkerAngle(n,h-A*Math.PI),t.addPoint(n.x,n.y),e&&!isNaN(u)&&!isNaN(l)){var d=i>o?i:o,p=i>o?1:i/o,g=i>o?o/i:1;e.translate(c.x,c.y),e.rotate(a),e.scale(p,g),e.arc(0,0,d,u,u+l,Boolean(1-s)),e.scale(1/p,1/g),e.rotate(-a),e.translate(-c.x,-c.y)}}static pathZ(e){e.current=e.start}pathZ(e,t){kIe.pathZ(this.pathParser),e&&t.x1!==t.x2&&t.y1!==t.y2&&e.closePath()}}class PIe extends kIe{constructor(e,t,r){super(e,t,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class TIe extends IIe{constructor(e,t,r){super(e,t,new.target===TIe||r),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(e,t);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(e.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if("text"!==this.type)return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var t=null;return this.children.forEach(((r,n)=>{var i=this.getChildBoundingBox(e,this,this,n);t?t.addBoundingBox(i):t=i})),t}getFontSize(){var{document:e,parent:t}=this,r=EIe.parse(e.ctx.font).fontSize;return t.getStyle("font-size").getNumber(r)}getTElementBoundingBox(e){var t=this.getFontSize();return new SIe(this.x,this.y-t,this.x+this.measureText(e),this.y)}getGlyph(e,t,r){var n=t[r],i=null;if(e.isArabic){var o=t.length,s=t[r-1],a=t[r+1],c="isolated";if((0===r||" "===s)&&r<o-1&&" "!==a&&(c="terminal"),r>0&&" "!==s&&r<o-1&&" "!==a&&(c="medial"),r>0&&" "!==s&&(r===o-1||" "===a)&&(c="initial"),void 0!==e.glyphs[n]){var u=e.glyphs[n];i=u instanceof PIe?u:u[c]}}else i=e.glyphs[n];return i||(i=e.missingGlyph),i}getText(){return""}getTextFromNode(e){var t=e||this.node,r=Array.from(t.parentNode.childNodes),n=r.indexOf(t),i=r.length-1,o=ICe(t.textContent||"");return 0===n&&(o=kCe(o)),n===i&&(o=PCe(o)),o}renderChildren(e){if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach(((t,r)=>{this.renderChild(e,this,this,r)}));var{mouse:t}=this.document.screen;t.isWorking()&&t.checkBoundingBox(this,this.getBoundingBox(e))}else this.renderTElementChildren(e)}renderTElementChildren(e){var{document:t,parent:r}=this,n=this.getText(),i=r.getStyle("font-family").getDefinition();if(i)for(var{unitsPerEm:o}=i.fontFace,s=EIe.parse(t.ctx.font),a=r.getStyle("font-size").getNumber(s.fontSize),c=r.getStyle("font-style").getString(s.fontStyle),u=a/o,l=i.isRTL?n.split("").reverse().join(""):n,A=TCe(r.getAttribute("dx").getString()),h=l.length,f=0;f<h;f++){var d=this.getGlyph(i,l,f);e.translate(this.x,this.y),e.scale(u,-u);var p=e.lineWidth;e.lineWidth=e.lineWidth*o/a,"italic"===c&&e.transform(1,0,.4,1,0,0),d.render(e),"italic"===c&&e.transform(1,0,-.4,1,0,0),e.lineWidth=p,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=a*(d.horizAdvX||i.horizAdvX)/o,void 0===A[f]||isNaN(A[f])||(this.x+=A[f])}else{var{x:g,y:m}=this;e.fillStyle&&e.fillText(n,g,m),e.strokeStyle&&e.strokeText(n,g,m)}}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],t=e.getStyle("text-anchor").getString("start"),r=0;r="start"===t?e.x-this.minX:"end"===t?e.x-this.maxX:e.x-(this.minX+this.maxX)/2;for(var n=this.textChunkStart;n<this.leafTexts.length;n++)this.leafTexts[n].x+=r;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach(((t,r)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,r)})),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,t,r,n){var i=r.children[n];i.children.length>0?i.children.forEach(((r,n)=>{t.adjustChildCoordinatesRecursiveCore(e,t,i,n)})):this.adjustChildCoordinates(e,t,r,n)}adjustChildCoordinates(e,t,r,n){var i=r.children[n];if("function"!=typeof i.measureText)return i;e.save(),i.setContext(e,!0);var o=i.getAttribute("x"),s=i.getAttribute("y"),a=i.getAttribute("dx"),c=i.getAttribute("dy"),u=i.getStyle("font-family").getDefinition(),l=Boolean(u)&&u.isRTL;0===n&&(o.hasValue()||o.setValue(i.getInheritedAttribute("x")),s.hasValue()||s.setValue(i.getInheritedAttribute("y")),a.hasValue()||a.setValue(i.getInheritedAttribute("dx")),c.hasValue()||c.setValue(i.getInheritedAttribute("dy")));var A=i.measureText(e);return l&&(t.x-=A),o.hasValue()?(t.applyAnchoring(),i.x=o.getPixels("x"),a.hasValue()&&(i.x+=a.getPixels("x"))):(a.hasValue()&&(t.x+=a.getPixels("x")),i.x=t.x),t.x=i.x,l||(t.x+=A),s.hasValue()?(i.y=s.getPixels("y"),c.hasValue()&&(i.y+=c.getPixels("y"))):(c.hasValue()&&(t.y+=c.getPixels("y")),i.y=t.y),t.y=i.y,t.leafTexts.push(i),t.minX=Math.min(t.minX,i.x,i.x+A),t.maxX=Math.max(t.maxX,i.x,i.x+A),i.clearContext(e),e.restore(),i}getChildBoundingBox(e,t,r,n){var i=r.children[n];if("function"!=typeof i.getBoundingBox)return null;var o=i.getBoundingBox(e);return o?(i.children.forEach(((r,n)=>{var s=t.getChildBoundingBox(e,t,i,n);o.addBoundingBox(s)})),o):null}renderChild(e,t,r,n){var i=r.children[n];i.render(e),i.children.forEach(((r,n)=>{t.renderChild(e,t,i,n)}))}measureText(e){var{measureCache:t}=this;if(~t)return t;var r=this.getText(),n=this.measureTargetText(e,r);return this.measureCache=n,n}measureTargetText(e,t){if(!t.length)return 0;var{parent:r}=this,n=r.getStyle("font-family").getDefinition();if(n){for(var i=this.getFontSize(),o=n.isRTL?t.split("").reverse().join(""):t,s=TCe(r.getAttribute("dx").getString()),a=o.length,c=0,u=0;u<a;u++){c+=(this.getGlyph(n,o,u).horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,void 0===s[u]||isNaN(s[u])||(c+=s[u])}return c}if(!e.measureText)return 10*t.length;e.save(),this.setContext(e,!0);var{width:l}=e.measureText(t);return this.clearContext(e),e.restore(),l}getInheritedAttribute(e){for(var t=this;t instanceof TIe&&t.isFirstChild();){var r=t.parent.getAttribute(e);if(r.hasValue(!0))return r.getValue("0");t=t.parent}return null}}class OIe extends TIe{constructor(e,t,r){super(e,t,new.target===OIe||r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class LIe extends OIe{constructor(){super(...arguments),this.type="textNode"}}class NIe extends IIe{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var t,{document:r}=this,{screen:n,window:i}=r,o=e.canvas;if(n.setDefaults(e),o.style&&void 0!==e.font&&i&&void 0!==i.getComputedStyle){e.font=i.getComputedStyle(o).getPropertyValue("font");var s=new rIe(r,"fontSize",EIe.parse(e.font).fontSize);s.hasValue()&&(r.rootEmSize=s.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:a,height:c}=n.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var u=this.getAttribute("refX"),l=this.getAttribute("refY"),A=this.getAttribute("viewBox"),h=A.hasValue()?TCe(A.getString()):null,f=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),d=0,p=0,g=0,m=0;h&&(d=h[0],p=h[1]),this.root||(a=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y"),"marker"===this.type&&(g=d,m=p,d=0,p=0)),n.viewPort.setCurrent(a,c),!this.node||this.parent&&"foreignObject"!==(null===(t=this.node.parentNode)||void 0===t?void 0:t.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),h&&(a=h[2],c=h[3]),r.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:a,height:n.viewPort.height,desiredHeight:c,minX:d,minY:p,refX:u.getValue(),refY:l.getValue(),clip:f,clipX:g,clipY:m}),h&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(a,c))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getAttribute("width",!0),i=this.getAttribute("height",!0),o=this.getAttribute("viewBox"),s=this.getAttribute("style"),a=n.getNumber(0),c=i.getNumber(0);if(r)if("string"==typeof r)this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var u=this.getAttribute("preserveAspectRatio");u.hasValue()&&u.setValue(u.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(n.setValue(e),i.setValue(t),o.hasValue()||o.setValue("0 0 ".concat(a||e," ").concat(c||t)),s.hasValue()){var l=this.getStyle("width"),A=this.getStyle("height");l.hasValue()&&l.setValue("".concat(e,"px")),A.hasValue()&&A.setValue("".concat(t,"px"))}}}class UIe extends kIe{constructor(){super(...arguments),this.type="rect"}path(e){var t=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),n=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),o=this.getAttribute("rx"),s=this.getAttribute("ry"),a=o.getPixels("x"),c=s.getPixels("y");if(o.hasValue()&&!s.hasValue()&&(c=a),s.hasValue()&&!o.hasValue()&&(a=c),a=Math.min(a,n/2),c=Math.min(c,i/2),e){var u=(Math.sqrt(2)-1)/3*4;e.beginPath(),i>0&&n>0&&(e.moveTo(t+a,r),e.lineTo(t+n-a,r),e.bezierCurveTo(t+n-a+u*a,r,t+n,r+c-u*c,t+n,r+c),e.lineTo(t+n,r+i-c),e.bezierCurveTo(t+n,r+i-c+u*c,t+n-a+u*a,r+i,t+n-a,r+i),e.lineTo(t+a,r+i),e.bezierCurveTo(t+a-u*a,r+i,t,r+i-c+u*c,t,r+i-c),e.lineTo(t,r+c),e.bezierCurveTo(t,r+c-u*c,t+a-u*a,r,t+a,r),e.closePath())}return new SIe(t,r,t+n,r+i)}getMarkers(){return null}}class FIe extends kIe{constructor(){super(...arguments),this.type="circle"}path(e){var t=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),n=this.getAttribute("r").getPixels();return e&&n>0&&(e.beginPath(),e.arc(t,r,n,0,2*Math.PI,!1),e.closePath()),new SIe(t-n,r-n,t+n,r+n)}getMarkers(){return null}}class MIe extends kIe{constructor(){super(...arguments),this.type="ellipse"}path(e){var t=(Math.sqrt(2)-1)/3*4,r=this.getAttribute("rx").getPixels("x"),n=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),o=this.getAttribute("cy").getPixels("y");return e&&r>0&&n>0&&(e.beginPath(),e.moveTo(i+r,o),e.bezierCurveTo(i+r,o+t*n,i+t*r,o+n,i,o+n),e.bezierCurveTo(i-t*r,o+n,i-r,o+t*n,i-r,o),e.bezierCurveTo(i-r,o-t*n,i-t*r,o-n,i,o-n),e.bezierCurveTo(i+t*r,o-n,i+r,o-t*n,i+r,o),e.closePath()),new SIe(i-r,o-n,i+r,o+n)}getMarkers(){return null}}class RIe extends kIe{constructor(){super(...arguments),this.type="line"}getPoints(){return[new iIe(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new iIe(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:t,y:r},{x:n,y:i}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(t,r),e.lineTo(n,i)),new SIe(t,r,n,i)}getMarkers(){var[e,t]=this.getPoints(),r=e.angleTo(t);return[[e,r],[t,r]]}}class DIe extends kIe{constructor(e,t,r){super(e,t,r),this.type="polyline",this.points=[],this.points=iIe.parsePath(this.getAttribute("points").getString())}path(e){var{points:t}=this,[{x:r,y:n}]=t,i=new SIe(r,n);return e&&(e.beginPath(),e.moveTo(r,n)),t.forEach((t=>{var{x:r,y:n}=t;i.addPoint(r,n),e&&e.lineTo(r,n)})),i}getMarkers(){var{points:e}=this,t=e.length-1,r=[];return e.forEach(((n,i)=>{i!==t&&r.push([n,n.angleTo(e[i+1])])})),r.length>0&&r.push([e[e.length-1],r[r.length-1][1]]),r}}class jIe extends DIe{constructor(){super(...arguments),this.type="polygon"}path(e){var t=super.path(e),[{x:r,y:n}]=this.points;return e&&(e.lineTo(r,n),e.closePath()),t}}class QIe extends bIe{constructor(){super(...arguments),this.type="pattern"}createPattern(e,t,r){var n=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),o=new NIe(this.document,null);o.attributes.viewBox=new rIe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.width=new rIe(this.document,"width","".concat(n,"px")),o.attributes.height=new rIe(this.document,"height","".concat(i,"px")),o.attributes.transform=new rIe(this.document,"transform",this.getAttribute("patternTransform").getValue()),o.children=this.children;var s=this.document.createCanvas(n,i),a=s.getContext("2d"),c=this.getAttribute("x"),u=this.getAttribute("y");c.hasValue()&&u.hasValue()&&a.translate(c.getPixels("x",!0),u.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(var l=-1;l<=1;l++)for(var A=-1;A<=1;A++)a.save(),o.attributes.x=new rIe(this.document,"x",l*s.width),o.attributes.y=new rIe(this.document,"y",A*s.height),o.render(a),a.restore();return e.createPattern(s,"repeat")}}class HIe extends bIe{constructor(){super(...arguments),this.type="marker"}render(e,t,r){if(t){var{x:n,y:i}=t,o=this.getAttribute("orient").getString("auto"),s=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(n,i),"auto"===o&&e.rotate(r),"strokeWidth"===s&&e.scale(e.lineWidth,e.lineWidth),e.save();var a=new NIe(this.document,null);a.type=this.type,a.attributes.viewBox=new rIe(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.refX=new rIe(this.document,"refX",this.getAttribute("refX").getValue()),a.attributes.refY=new rIe(this.document,"refY",this.getAttribute("refY").getValue()),a.attributes.width=new rIe(this.document,"width",this.getAttribute("markerWidth").getValue()),a.attributes.height=new rIe(this.document,"height",this.getAttribute("markerHeight").getValue()),a.attributes.overflow=new rIe(this.document,"overflow",this.getAttribute("overflow").getValue()),a.attributes.fill=new rIe(this.document,"fill",this.getAttribute("fill").getColor("black")),a.attributes.stroke=new rIe(this.document,"stroke",this.getAttribute("stroke").getValue("none")),a.children=this.children,a.render(e),e.restore(),"strokeWidth"===s&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"===o&&e.rotate(-r),e.translate(-n,-i)}}}class KIe extends bIe{constructor(){super(...arguments),this.type="defs"}render(){}}class VIe extends IIe{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var t=new SIe;return this.children.forEach((r=>{t.addBoundingBox(r.getBoundingBox(e))})),t}}class zIe extends bIe{constructor(e,t,r){super(e,t,r),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:n,children:i}=this;i.forEach((e=>{"stop"===e.type&&n.push(e)}))}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,t,r){var n=this;this.getHrefAttribute().hasValue()&&(n=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(n));var{stops:i}=n,o=this.getGradient(e,t);if(!o)return this.addParentOpacity(r,i[i.length-1].color);if(i.forEach((e=>{o.addColorStop(e.offset,this.addParentOpacity(r,e.color))})),this.getAttribute("gradientTransform").hasValue()){var{document:s}=this,{MAX_VIRTUAL_PIXELS:a,viewPort:c}=s.screen,[u]=c.viewPorts,l=new UIe(s,null);l.attributes.x=new rIe(s,"x",-a/3),l.attributes.y=new rIe(s,"y",-a/3),l.attributes.width=new rIe(s,"width",a),l.attributes.height=new rIe(s,"height",a);var A=new VIe(s,null);A.attributes.transform=new rIe(s,"transform",this.getAttribute("gradientTransform").getValue()),A.children=[l];var h=new NIe(s,null);h.attributes.x=new rIe(s,"x",0),h.attributes.y=new rIe(s,"y",0),h.attributes.width=new rIe(s,"width",u.width),h.attributes.height=new rIe(s,"height",u.height),h.children=[A];var f=s.createCanvas(u.width,u.height),d=f.getContext("2d");return d.fillStyle=o,h.render(d),d.createPattern(f,"no-repeat")}return o}inheritStopContainer(e){this.attributesToInherit.forEach((t=>{!this.getAttribute(t).hasValue()&&e.getAttribute(t).hasValue()&&this.getAttribute(t,!0).setValue(e.getAttribute(t).getValue())}))}addParentOpacity(e,t){return e.hasValue()?new rIe(this.document,"color",t).addOpacity(e).getColor():t}}class qIe extends zIe{constructor(e,t,r){super(e,t,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,t){var r="objectBoundingBox"===this.getGradientUnits(),n=r?t.getBoundingBox(e):null;if(r&&!n)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=r?n.x+n.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),o=r?n.y+n.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),s=r?n.x+n.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),a=r?n.y+n.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===s&&o===a?null:e.createLinearGradient(i,o,s,a)}}class GIe extends zIe{constructor(e,t,r){super(e,t,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,t){var r="objectBoundingBox"===this.getGradientUnits(),n=t.getBoundingBox(e);if(r&&!n)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=r?n.x+n.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),o=r?n.y+n.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),s=i,a=o;this.getAttribute("fx").hasValue()&&(s=r?n.x+n.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(a=r?n.y+n.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var c=r?(n.width+n.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),u=this.getAttribute("fr").getPixels();return e.createRadialGradient(s,a,u,i,o,c)}}class WIe extends bIe{constructor(e,t,r){super(e,t,r),this.type="stop";var n=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),i=this.getStyle("stop-opacity"),o=this.getStyle("stop-color",!0);""===o.getString()&&o.setValue("#000"),i.hasValue()&&(o=o.addOpacity(i)),this.offset=n,this.color=o.getColor()}}class $Ie extends bIe{constructor(e,t,r){super(e,t,r),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new rIe(e,"values",null);var n=this.getAttribute("values");n.hasValue()&&this.values.setValue(n.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return"CSS"===e?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}calcValue(){var{initialUnits:e}=this,{progress:t,from:r,to:n}=this.getProgress(),i=r.getNumber()+(n.getNumber()-r.getNumber())*t;return"%"===e&&(i*=100),"".concat(i).concat(e)}update(e){var{parent:t}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var n=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==n||this.frozen){if("remove"===n&&!this.removed)return this.removed=!0,r.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=r.getString();return!1}this.duration+=e;var i=!1;if(this.begin<this.duration){var o=this.calcValue(),s=this.getAttribute("type");if(s.hasValue()){var a=s.getString();o="".concat(a,"(").concat(o,")")}r.setValue(o),i=!0}return i}getProgress(){var{document:e,values:t}=this,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var n=r.progress*(t.getValue().length-1),i=Math.floor(n),o=Math.ceil(n);r.from=new rIe(e,"from",parseFloat(t.getValue()[i])),r.to=new rIe(e,"to",parseFloat(t.getValue()[o])),r.progress=(n-i)/(o-i)}else r.from=this.from,r.to=this.to;return r}}class JIe extends $Ie{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:t,to:r}=this.getProgress(),n=new _Se(t.getColor()),i=new _Se(r.getColor());if(n.ok&&i.ok){var o=n.r+(i.r-n.r)*e,s=n.g+(i.g-n.g)*e,a=n.b+(i.b-n.b)*e;return"rgb(".concat(Math.floor(o),", ").concat(Math.floor(s),", ").concat(Math.floor(a),")")}return this.getAttribute("from").getColor()}}class XIe extends $Ie{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:t,to:r}=this.getProgress(),n=TCe(t.getString()),i=TCe(r.getString()),o=n.map(((t,r)=>t+(i[r]-t)*e)).join(" ");return o}}class YIe extends bIe{constructor(e,t,r){super(e,t,r),this.type="font",this.glyphs={},this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:n}=e,{children:i}=this;for(var o of i)switch(o.type){case"font-face":this.fontFace=o;var s=o.getStyle("font-family");s.hasValue()&&(n[s.getString()]=this);break;case"missing-glyph":this.missingGlyph=o;break;case"glyph":var a=o;a.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[a.unicode]&&(this.glyphs[a.unicode]={}),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a}}render(){}}class ZIe extends bIe{constructor(e,t,r){super(e,t,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class eke extends kIe{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class tke extends TIe{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var t=e.children[0];if(t)return t.getText()}return""}}class rke extends TIe{constructor(e,t,r){super(e,t,r),this.type="a";var{childNodes:n}=t,i=n[0],o=n.length>0&&Array.from(n).every((e=>3===e.nodeType));this.hasText=o,this.text=o?this.getTextFromNode(i):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:t,x:r,y:n}=this,{mouse:i}=t.screen,o=new rIe(t,"fontSize",EIe.parse(t.ctx.font).fontSize);i.isWorking()&&i.checkBoundingBox(this,new SIe(r,n-o.getPixels("y"),r+this.measureText(e),n))}else if(this.children.length>0){var s=new VIe(this.document,null);s.children=this.children,s.parent=this,s.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function nke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ike(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nke(Object(r),!0).forEach((function(t){WBe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class oke extends TIe{constructor(e,t,r){super(e,t,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var n=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(n)}getText(){return this.text}path(e){var{dataArray:t}=this;e&&e.beginPath(),t.forEach((t=>{var{type:r,points:n}=t;switch(r){case CIe.LINE_TO:e&&e.lineTo(n[0],n[1]);break;case CIe.MOVE_TO:e&&e.moveTo(n[0],n[1]);break;case CIe.CURVE_TO:e&&e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case CIe.QUAD_TO:e&&e.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case CIe.ARC:var[i,o,s,a,c,u,l,A]=n,h=s>a?s:a,f=s>a?1:s/a,d=s>a?a/s:1;e&&(e.translate(i,o),e.rotate(l),e.scale(f,d),e.arc(0,0,h,c,c+u,Boolean(1-A)),e.scale(1/f,1/d),e.rotate(-l),e.translate(-i,-o));break;case CIe.CLOSE_PATH:e&&e.closePath()}}))}renderChildren(e){this.setTextData(e),e.save();var t=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:n}=this,i=e.fillStyle;"underline"===t&&e.beginPath(),n.forEach(((n,i)=>{var{p0:o,p1:s,rotation:a,text:c}=n;e.save(),e.translate(o.x,o.y),e.rotate(a),e.fillStyle&&e.fillText(c,0,0),e.strokeStyle&&e.strokeText(c,0,0),e.restore(),"underline"===t&&(0===i&&e.moveTo(o.x,o.y+r/8),e.lineTo(s.x,s.y+r/5))})),"underline"===t&&(e.lineWidth=r/20,e.strokeStyle=i,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,t,r,n,i,o,s,a,c){var u=o,l=this.measureText(e,a);" "===a&&"justify"===t&&r<n&&(l+=(n-r)/i),c>-1&&(u+=this.getLetterSpacingAt(c));var A=this.textHeight/20,h=this.getEquidistantPointOnPath(u,A,0),f=this.getEquidistantPointOnPath(u+l,A,0),d={p0:h,p1:f},p=h&&f?Math.atan2(f.y-h.y,f.x-h.x):0;if(s){var g=Math.cos(Math.PI/2+p)*s,m=Math.cos(-p)*s;d.p0=ike(ike({},h),{},{x:h.x+g,y:h.y+m}),d.p1=ike(ike({},f),{},{x:f.x+g,y:f.y+m})}return{offset:u+=l,segment:d,rotation:p}}measureText(e,t){var{measuresCache:r}=this,n=t||this.getText();if(r.has(n))return r.get(n);var i=this.measureTargetText(e,n);return r.set(n,i),i}setTextData(e){if(!this.glyphInfo){var t=this.getText(),r=t.split(""),n=t.split(" ").length-1,i=this.parent.getAttribute("dx").split().map((e=>e.getPixels("x"))),o=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),a=this.getStyle("letter-spacing"),c=this.parent.getStyle("letter-spacing"),u=0;a.hasValue()&&"inherit"!==a.getValue()?a.hasValue()&&"initial"!==a.getValue()&&"unset"!==a.getValue()&&(u=a.getPixels()):u=c.getPixels();var l=[],A=t.length;this.letterSpacingCache=l;for(var h=0;h<A;h++)l.push(void 0!==i[h]?i[h]:u);var f=l.reduce(((e,t,r)=>0===r?0:e+t||0),0),d=this.measureText(e),p=Math.max(d+f,0);this.textWidth=d,this.textHeight=this.getFontSize(),this.glyphInfo=[];var g=this.getPathLength(),m=this.getStyle("startOffset").getNumber(0)*g,y=0;"middle"!==s&&"center"!==s||(y=-p/2),"end"!==s&&"right"!==s||(y=-p),y+=m,r.forEach(((t,i)=>{var{offset:a,segment:c,rotation:u}=this.findSegmentToFitChar(e,s,p,g,n,y,o,t,i);y=a,c.p0&&c.p1&&this.glyphInfo.push({text:r[i],p0:c.p0,p1:c.p1,rotation:u})}))}}parsePathData(e){if(this.pathLength=-1,!e)return[];var t=[],{pathParser:r}=e;for(r.reset();!r.isEnd();){var{current:n}=r,i=n?n.x:0,o=n?n.y:0,s=r.next(),a=s.type,c=[];switch(s.type){case CIe.MOVE_TO:this.pathM(r,c);break;case CIe.LINE_TO:a=this.pathL(r,c);break;case CIe.HORIZ_LINE_TO:a=this.pathH(r,c);break;case CIe.VERT_LINE_TO:a=this.pathV(r,c);break;case CIe.CURVE_TO:this.pathC(r,c);break;case CIe.SMOOTH_CURVE_TO:a=this.pathS(r,c);break;case CIe.QUAD_TO:this.pathQ(r,c);break;case CIe.SMOOTH_QUAD_TO:a=this.pathT(r,c);break;case CIe.ARC:c=this.pathA(r);break;case CIe.CLOSE_PATH:kIe.pathZ(r)}s.type!==CIe.CLOSE_PATH?t.push({type:a,points:c,start:{x:i,y:o},pathLength:this.calcLength(i,o,a,c)}):t.push({type:CIe.CLOSE_PATH,points:[],pathLength:0})}return t}pathM(e,t){var{x:r,y:n}=kIe.pathM(e).point;t.push(r,n)}pathL(e,t){var{x:r,y:n}=kIe.pathL(e).point;return t.push(r,n),CIe.LINE_TO}pathH(e,t){var{x:r,y:n}=kIe.pathH(e).point;return t.push(r,n),CIe.LINE_TO}pathV(e,t){var{x:r,y:n}=kIe.pathV(e).point;return t.push(r,n),CIe.LINE_TO}pathC(e,t){var{point:r,controlPoint:n,currentPoint:i}=kIe.pathC(e);t.push(r.x,r.y,n.x,n.y,i.x,i.y)}pathS(e,t){var{point:r,controlPoint:n,currentPoint:i}=kIe.pathS(e);return t.push(r.x,r.y,n.x,n.y,i.x,i.y),CIe.CURVE_TO}pathQ(e,t){var{controlPoint:r,currentPoint:n}=kIe.pathQ(e);t.push(r.x,r.y,n.x,n.y)}pathT(e,t){var{controlPoint:r,currentPoint:n}=kIe.pathT(e);return t.push(r.x,r.y,n.x,n.y),CIe.QUAD_TO}pathA(e){var{rX:t,rY:r,sweepFlag:n,xAxisRotation:i,centp:o,a1:s,ad:a}=kIe.pathA(e);return 0===n&&a>0&&(a-=2*Math.PI),1===n&&a<0&&(a+=2*Math.PI),[o.x,o.y,t,r,s,a,i,n]}calcLength(e,t,r,n){var i=0,o=null,s=null,a=0;switch(r){case CIe.LINE_TO:return this.getLineLength(e,t,n[0],n[1]);case CIe.CURVE_TO:for(i=0,o=this.getPointOnCubicBezier(0,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),a=.01;a<=1;a+=.01)s=this.getPointOnCubicBezier(a,e,t,n[0],n[1],n[2],n[3],n[4],n[5]),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return i;case CIe.QUAD_TO:for(i=0,o=this.getPointOnQuadraticBezier(0,e,t,n[0],n[1],n[2],n[3]),a=.01;a<=1;a+=.01)s=this.getPointOnQuadraticBezier(a,e,t,n[0],n[1],n[2],n[3]),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return i;case CIe.ARC:i=0;var c=n[4],u=n[5],l=n[4]+u,A=Math.PI/180;if(Math.abs(c-l)<A&&(A=Math.abs(c-l)),o=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),u<0)for(a=c-A;a>l;a-=A)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],a,0),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(a=c+A;a<l;a+=A)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],a,0),i+=this.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),i+=this.getLineLength(o.x,o.y,s.x,s.y)}return 0}getPointOnLine(e,t,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,a=(i-r)/(n-t+zCe),c=Math.sqrt(e*e/(1+a*a));n<t&&(c*=-1);var u=a*c,l=null;if(n===t)l={x:o,y:s+u};else if((s-r)/(o-t+zCe)===a)l={x:o+c,y:s+u};else{var A,h,f=this.getLineLength(t,r,n,i);if(f<zCe)return null;var d=(o-t)*(n-t)+(s-r)*(i-r);A=t+(d/=f*f)*(n-t),h=r+d*(i-r);var p=this.getLineLength(o,s,A,h),g=Math.sqrt(e*e-p*p);c=Math.sqrt(g*g/(1+a*a)),n<t&&(c*=-1),l={x:A+c,y:h+(u=a*c)}}return l}getPointOnPath(e){var t=this.getPathLength(),r=0,n=null;if(e<-5e-5||e-5e-5>t)return null;var{dataArray:i}=this;for(var o of i){if(!o||!(o.pathLength<5e-5||r+o.pathLength+5e-5<e)){var s=e-r,a=0;switch(o.type){case CIe.LINE_TO:n=this.getPointOnLine(s,o.start.x,o.start.y,o.points[0],o.points[1],o.start.x,o.start.y);break;case CIe.ARC:var c=o.points[4],u=o.points[5],l=o.points[4]+u;if(a=c+s/o.pathLength*u,u<0&&a<l||u>=0&&a>l)break;n=this.getPointOnEllipticalArc(o.points[0],o.points[1],o.points[2],o.points[3],a,o.points[6]);break;case CIe.CURVE_TO:(a=s/o.pathLength)>1&&(a=1),n=this.getPointOnCubicBezier(a,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3],o.points[4],o.points[5]);break;case CIe.QUAD_TO:(a=s/o.pathLength)>1&&(a=1),n=this.getPointOnQuadraticBezier(a,o.start.x,o.start.y,o.points[0],o.points[1],o.points[2],o.points[3])}if(n)return n;break}r+=o.pathLength}return null}getLineLength(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce(((e,t)=>t.pathLength>0?e+t.pathLength:e),0)),this.pathLength}getPointOnCubicBezier(e,t,r,n,i,o,s,a,c){return{x:a*$Ce(e)+o*JCe(e)+n*XCe(e)+t*YCe(e),y:c*$Ce(e)+s*JCe(e)+i*XCe(e)+r*YCe(e)}}getPointOnQuadraticBezier(e,t,r,n,i,o,s){return{x:o*ZCe(e)+n*eIe(e)+t*tIe(e),y:s*ZCe(e)+i*eIe(e)+r*tIe(e)}}getPointOnEllipticalArc(e,t,r,n,i,o){var s=Math.cos(o),a=Math.sin(o),c=r*Math.cos(i),u=n*Math.sin(i);return{x:e+(c*s-u*a),y:t+(c*a+u*s)}}buildEquidistantCache(e,t){var r=this.getPathLength(),n=t||.25,i=e||r/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==n){this.equidistantCache={step:i,precision:n,points:[]};for(var o=0,s=0;s<=r;s+=n){var a=this.getPointOnPath(s),c=this.getPointOnPath(s+n);a&&c&&((o+=this.getLineLength(a.x,a.y,c.x,c.y))>=i&&(this.equidistantCache.points.push({x:a.x,y:a.y,distance:s}),o-=i))}}}getEquidistantPointOnPath(e,t,r){if(this.buildEquidistantCache(t,r),e<0||e-this.getPathLength()>5e-5)return null;var n=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[n]||null}}var ske=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class ake extends IIe{constructor(e,t,r){super(e,t,r),this.type="image",this.loaded=!1;var n=this.getHrefAttribute().getString();if(n){var i=n.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(n);e.images.push(this),i?this.loadSvg(n):this.loadImage(n),this.isSvg=i}}loadImage(e){var t=this;return Lbe((function*(){try{var r=yield t.document.createImage(e);t.image=r}catch(t){console.error('Error while loading image "'.concat(e,'":'),t)}t.loaded=!0}))()}loadSvg(e){var t=this;return Lbe((function*(){var r=ske.exec(e);if(r){var n=r[5];"base64"===r[4]?t.image=atob(n):t.image=decodeURIComponent(n)}else try{var i=yield t.document.fetch(e),o=yield i.text();t.image=o}catch(t){console.error('Error while loading image "'.concat(e,'":'),t)}t.loaded=!0}))()}renderChildren(e){var{document:t,image:r,loaded:n}=this,i=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");if(n&&r&&s&&a){if(e.save(),e.translate(i,o),this.isSvg){var c=t.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:s,scaleHeight:a});c.document.documentElement.parent=this,c.render()}else{var u=this.image;t.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s,desiredWidth:u.width,height:a,desiredHeight:u.height}),this.loaded&&(void 0===u.complete||u.complete)&&e.drawImage(u,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),n=this.getStyle("height").getPixels("y");return new SIe(e,t,e+r,t+n)}}class cke extends IIe{constructor(){super(...arguments),this.type="symbol"}render(e){}}class uke{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,t){var r=this;return Lbe((function*(){try{var{document:n}=r,i=(yield n.canvg.parser.load(t)).getElementsByTagName("font");Array.from(i).forEach((t=>{var r=n.createElement(t);n.definitions[e]=r}))}catch(e){console.error('Error while loading font "'.concat(t,'":'),e)}r.loaded=!0}))()}}class lke extends bIe{constructor(e,t,r){super(e,t,r),this.type="style";var n=ICe(Array.from(t.childNodes).map((e=>e.textContent)).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,""));n.split("}").forEach((t=>{var r=t.trim();if(r){var n=r.split("{"),i=n[0].split(","),o=n[1].split(";");i.forEach((t=>{var r=t.trim();if(r){var n=e.styles[r]||{};if(o.forEach((t=>{var r=t.indexOf(":"),i=t.substr(0,r).trim(),o=t.substr(r+1,t.length-r).trim();i&&o&&(n[i]=new rIe(e,i,o))})),e.styles[r]=n,e.stylesSpecificity[r]=VCe(r),"@font-face"===r){var i=n["font-family"].getString().replace(/"|'/g,"");n.src.getString().split(",").forEach((t=>{if(t.indexOf('format("svg")')>0){var r=NCe(t);r&&new uke(e).load(i,r)}}))}}}))}}))}}lke.parseExternalUrl=NCe;class Ake extends IIe{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var t=this.getAttribute("x"),r=this.getAttribute("y");t.hasValue()&&e.translate(t.getPixels("x"),0),r.hasValue()&&e.translate(0,r.getPixels("y"))}path(e){var{element:t}=this;t&&t.path(e)}renderChildren(e){var{document:t,element:r}=this;if(r){var n=r;if("symbol"===r.type&&((n=new NIe(t,null)).attributes.viewBox=new rIe(t,"viewBox",r.getAttribute("viewBox").getString()),n.attributes.preserveAspectRatio=new rIe(t,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),n.attributes.overflow=new rIe(t,"overflow",r.getAttribute("overflow").getString()),n.children=r.children,r.styles.opacity=new rIe(t,"opacity",this.calculateOpacity())),"svg"===n.type){var i=this.getStyle("width",!1,!0),o=this.getStyle("height",!1,!0);i.hasValue()&&(n.attributes.width=new rIe(t,"width",i.getString())),o.hasValue()&&(n.attributes.height=new rIe(t,"height",o.getString()))}var s=n.parent;n.parent=this,n.render(e),n.parent=s}}getBoundingBox(e){var{element:t}=this;return t?t.getBoundingBox(e):null}elementTransform(){var{document:e,element:t}=this;return vIe.fromElement(e,t)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function hke(e,t,r,n,i,o){return e[r*n*4+4*t+o]}function fke(e,t,r,n,i,o,s){e[r*n*4+4*t+o]=s}function dke(e,t,r){return e[t]*r}function pke(e,t,r,n){return t+Math.cos(e)*r+Math.sin(e)*n}class gke extends bIe{constructor(e,t,r){super(e,t,r),this.type="feColorMatrix";var n=TCe(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var i=n[0];n=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var o=n[0]*Math.PI/180;n=[pke(o,.213,.787,-.213),pke(o,.715,-.715,-.715),pke(o,.072,-.072,.928),0,0,pke(o,.213,-.213,.143),pke(o,.715,.285,.14),pke(o,.072,-.072,-.283),0,0,pke(o,.213,-.213,-.787),pke(o,.715,-.715,.715),pke(o,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=n,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,t,r,n,i){for(var{includeOpacity:o,matrix:s}=this,a=e.getImageData(0,0,n,i),c=0;c<i;c++)for(var u=0;u<n;u++){var l=hke(a.data,u,c,n,0,0),A=hke(a.data,u,c,n,0,1),h=hke(a.data,u,c,n,0,2),f=hke(a.data,u,c,n,0,3),d=dke(s,0,l)+dke(s,1,A)+dke(s,2,h)+dke(s,3,f)+dke(s,4,1),p=dke(s,5,l)+dke(s,6,A)+dke(s,7,h)+dke(s,8,f)+dke(s,9,1),g=dke(s,10,l)+dke(s,11,A)+dke(s,12,h)+dke(s,13,f)+dke(s,14,1),m=dke(s,15,l)+dke(s,16,A)+dke(s,17,h)+dke(s,18,f)+dke(s,19,1);o&&(d=0,p=0,g=0,m*=f/255),fke(a.data,u,c,n,0,0,d),fke(a.data,u,c,n,0,1,p),fke(a.data,u,c,n,0,2,g),fke(a.data,u,c,n,0,3,m)}e.clearRect(0,0,n,i),e.putImageData(a,0,0)}}class mke extends bIe{constructor(){super(...arguments),this.type="mask"}apply(e,t){var{document:r}=this,n=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),o=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!o&&!s){var a=new SIe;this.children.forEach((t=>{a.addBoundingBox(t.getBoundingBox(e))})),n=Math.floor(a.x1),i=Math.floor(a.y1),o=Math.floor(a.width),s=Math.floor(a.height)}var c=this.removeStyles(t,mke.ignoreStyles),u=r.createCanvas(n+o,i+s),l=u.getContext("2d");r.screen.setDefaults(l),this.renderChildren(l),new gke(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(l,0,0,n+o,i+s);var A=r.createCanvas(n+o,i+s),h=A.getContext("2d");r.screen.setDefaults(h),t.render(h),h.globalCompositeOperation="destination-in",h.fillStyle=l.createPattern(u,"no-repeat"),h.fillRect(0,0,n+o,i+s),e.fillStyle=h.createPattern(A,"no-repeat"),e.fillRect(0,0,n+o,i+s),this.restoreStyles(t,c)}render(e){}}mke.ignoreStyles=["mask","transform","clip-path"];var yke=()=>{};class vke extends bIe{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:t}=this,r=Reflect.getPrototypeOf(e),{beginPath:n,closePath:i}=e;r&&(r.beginPath=yke,r.closePath=yke),Reflect.apply(n,e,[]),this.children.forEach((n=>{if(void 0!==n.path){var o=void 0!==n.elementTransform?n.elementTransform():null;o||(o=vIe.fromElement(t,n)),o&&o.apply(e),n.path(e),r&&(r.closePath=i),o&&o.unapply(e)}})),Reflect.apply(i,e,[]),e.clip(),r&&(r.beginPath=n,r.closePath=i)}render(e){}}class bke extends bIe{constructor(){super(...arguments),this.type="filter"}apply(e,t){var{document:r,children:n}=this,i=t.getBoundingBox(e);if(i){var o=0,s=0;n.forEach((e=>{var t=e.extraFilterDistance||0;o=Math.max(o,t),s=Math.max(s,t)}));var a=Math.floor(i.width),c=Math.floor(i.height),u=a+2*o,l=c+2*s;if(!(u<1||l<1)){var A=Math.floor(i.x),h=Math.floor(i.y),f=this.removeStyles(t,bke.ignoreStyles),d=r.createCanvas(u,l),p=d.getContext("2d");r.screen.setDefaults(p),p.translate(-A+o,-h+s),t.render(p),n.forEach((e=>{"function"==typeof e.apply&&e.apply(p,0,0,u,l)})),e.drawImage(d,0,0,u,l,A-o,h-s,u,l),this.restoreStyles(t,f)}}}render(e){}}bke.ignoreStyles=["filter","transform","clip-path"];class wke extends bIe{constructor(e,t,r){super(e,t,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,t,r,n,i){}}class xke extends bIe{constructor(){super(...arguments),this.type="feMorphology"}apply(e,t,r,n,i){}}class _ke extends bIe{constructor(){super(...arguments),this.type="feComposite"}apply(e,t,r,n,i){}}class Bke extends bIe{constructor(e,t,r){super(e,t,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,t,r,n,i){var{document:o,blurRadius:s}=this,a=o.window?o.window.document.body:null,c=e.canvas;c.id=o.getUniqueId(),a&&(c.style.display="none",a.appendChild(c)),ECe(c,t,r,n,i,s),a&&a.removeChild(c)}}class Eke extends bIe{constructor(){super(...arguments),this.type="title"}}class Ske extends bIe{constructor(){super(...arguments),this.type="desc"}}var Cke={svg:NIe,rect:UIe,circle:FIe,ellipse:MIe,line:RIe,polyline:DIe,polygon:jIe,path:kIe,pattern:QIe,marker:HIe,defs:KIe,linearGradient:qIe,radialGradient:GIe,stop:WIe,animate:$Ie,animateColor:JIe,animateTransform:XIe,font:YIe,"font-face":ZIe,"missing-glyph":eke,glyph:PIe,text:TIe,tspan:OIe,tref:tke,a:rke,textPath:oke,image:ake,g:VIe,symbol:cke,style:lke,use:Ake,mask:mke,clipPath:vke,filter:bke,feDropShadow:wke,feMorphology:xke,feComposite:_ke,feColorMatrix:gke,feGaussianBlur:Bke,title:Eke,desc:Ske};function Ike(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kke(){return kke=Lbe((function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement("img");return t&&(r.crossOrigin="Anonymous"),new Promise(((t,n)=>{r.onload=()=>{t(r)},r.onerror=(e,t,r,i,o)=>{n(o)},r.src=e}))})),kke.apply(this,arguments)}class Pke{constructor(e){var{rootEmSize:t=12,emSize:r=12,createCanvas:n=Pke.createCanvas,createImage:i=Pke.createImage,anonymousCrossOrigin:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=e,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=t,this.emSize=r,this.createCanvas=n,this.createImage=this.bindCreateImage(i,o),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,t){return"boolean"==typeof t?(r,n)=>e(r,"boolean"==typeof n?n:t):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:t}=this;t.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every((e=>e.loaded))}isFontsLoaded(){return this.fonts.every((e=>e.loaded))}createDocumentElement(e){var t=this.createElement(e.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}createElement(e){var t=e.nodeName.replace(/^[^:]+:/,""),r=Pke.elementTypes[t];return void 0!==r?new r(this,e):new wIe(this,e)}createTextNode(e){return new LIe(this,e)}setViewBox(e){this.screen.setViewBox(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ike(Object(r),!0).forEach((function(t){WBe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ike(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({document:this},e))}}function Tke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tke(Object(r),!0).forEach((function(t){WBe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Pke.createCanvas=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r},Pke.createImage=function(e){return kke.apply(this,arguments)},Pke.elementTypes=Cke;class Lke{constructor(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new AIe(r),this.screen=new cIe(e,r),this.options=r;var n=new Pke(this,r),i=n.createDocumentElement(t);this.document=n,this.documentElement=i}static from(e,t){var r=arguments;return Lbe((function*(){var n=r.length>2&&void 0!==r[2]?r[2]:{},i=new AIe(n),o=yield i.parse(t);return new Lke(e,o,n)}))()}static fromString(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new AIe(r).parseFromString(t);return new Lke(e,n,r)}fork(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Lke.from(e,t,Oke(Oke({},this.options),r))}forkString(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Lke.fromString(e,t,Oke(Oke({},this.options),r))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,t=this;return Lbe((function*(){var r=e.length>0&&void 0!==e[0]?e[0]:{};t.start(Oke({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},r)),yield t.ready(),t.stop()}))()}start(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:t,screen:r,options:n}=this;r.start(t,Oke(Oke({enableRedraw:!0},n),e))}stop(){this.screen.stop()}resize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(e,t,r)}}var Nke=Object.freeze({__proto__:null,AElement:rke,AnimateColorElement:JIe,AnimateElement:$Ie,AnimateTransformElement:XIe,BoundingBox:SIe,CB1:$Ce,CB2:JCe,CB3:XCe,CB4:YCe,Canvg:Lke,CircleElement:FIe,ClipPathElement:vke,DefsElement:KIe,DescElement:Ske,Document:Pke,Element:bIe,EllipseElement:MIe,FeColorMatrixElement:gke,FeCompositeElement:_ke,FeDropShadowElement:wke,FeGaussianBlurElement:Bke,FeMorphologyElement:xke,FilterElement:bke,Font:EIe,FontElement:YIe,FontFaceElement:ZIe,GElement:VIe,GlyphElement:PIe,GradientElement:zIe,ImageElement:ake,LineElement:RIe,LinearGradientElement:qIe,MarkerElement:HIe,MaskElement:mke,Matrix:pIe,MissingGlyphElement:eke,Mouse:oIe,PSEUDO_ZERO:zCe,Parser:AIe,PathElement:kIe,PathParser:CIe,PatternElement:QIe,Point:iIe,PolygonElement:jIe,PolylineElement:DIe,Property:rIe,QB1:ZCe,QB2:eIe,QB3:tIe,RadialGradientElement:GIe,RectElement:UIe,RenderedElement:IIe,Rotate:fIe,SVGElement:NIe,SVGFontLoader:uke,Scale:dIe,Screen:cIe,Skew:gIe,SkewX:mIe,SkewY:yIe,StopElement:WIe,StyleElement:lke,SymbolElement:cke,TRefElement:tke,TSpanElement:OIe,TextElement:TIe,TextPathElement:oke,TitleElement:Eke,Transform:vIe,Translate:hIe,UnknownElement:wIe,UseElement:Ake,ViewPort:nIe,compressSpaces:ICe,default:Lke,getSelectorSpecificity:VCe,normalizeAttributeName:LCe,normalizeColor:UCe,parseExternalUrl:NCe,presets:CCe,toNumbers:TCe,trimLeft:kCe,trimRight:PCe,vectorMagnitude:qCe,vectorsAngle:WCe,vectorsRatio:GCe})}();
